# Comparing `tmp/NEMO_CE-2.3.3-py3-none-any.whl.zip` & `tmp/NEMO_CE-2.4.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,548 +1,561 @@
-Zip file size: 1756703 bytes, number of entries: 546
--rw-r--r--  2.0 unx     1389 b- defN 24-Mar-26 14:39 NEMO/__init__.py
--rw-r--r--  2.0 unx     8487 b- defN 24-Mar-26 14:39 NEMO/actions.py
--rw-r--r--  2.0 unx    77664 b- defN 24-Mar-26 14:39 NEMO/admin.py
--rw-r--r--  2.0 unx     5722 b- defN 24-Mar-26 14:39 NEMO/context_processors.py
--rw-r--r--  2.0 unx     7337 b- defN 24-Mar-26 14:39 NEMO/decorators.py
--rw-r--r--  2.0 unx     4757 b- defN 24-Mar-26 14:39 NEMO/evaluators.py
--rw-r--r--  2.0 unx     4987 b- defN 24-Mar-26 14:39 NEMO/exceptions.py
--rw-r--r--  2.0 unx     4342 b- defN 24-Mar-26 14:39 NEMO/fields.py
--rw-r--r--  2.0 unx    17678 b- defN 24-Mar-26 14:39 NEMO/forms.py
--rw-r--r--  2.0 unx    22250 b- defN 24-Mar-26 14:39 NEMO/interlocks.py
--rw-r--r--  2.0 unx     6338 b- defN 24-Mar-26 14:39 NEMO/middleware.py
--rw-r--r--  2.0 unx     2308 b- defN 24-Mar-26 14:39 NEMO/migrations_utils.py
--rw-r--r--  2.0 unx    13219 b- defN 24-Mar-26 14:39 NEMO/mixins.py
--rw-r--r--  2.0 unx     4632 b- defN 24-Mar-26 14:39 NEMO/model_tree.py
--rw-r--r--  2.0 unx   239799 b- defN 24-Mar-26 14:39 NEMO/models.py
--rw-r--r--  2.0 unx     1654 b- defN 24-Mar-26 14:39 NEMO/parsers.py
--rw-r--r--  2.0 unx      949 b- defN 24-Mar-26 14:39 NEMO/permissions.py
--rw-r--r--  2.0 unx    61783 b- defN 24-Mar-26 14:39 NEMO/policy.py
--rw-r--r--  2.0 unx    10691 b- defN 24-Mar-26 14:39 NEMO/provisioning.py
--rw-r--r--  2.0 unx     6697 b- defN 24-Mar-26 14:39 NEMO/rates.py
--rw-r--r--  2.0 unx     1167 b- defN 24-Mar-26 14:39 NEMO/rest_filter_backend.py
--rw-r--r--  2.0 unx      155 b- defN 24-Mar-26 14:39 NEMO/rest_pagination.py
--rw-r--r--  2.0 unx    19248 b- defN 24-Mar-26 14:39 NEMO/serializers.py
--rw-r--r--  2.0 unx      274 b- defN 24-Mar-26 14:39 NEMO/typing.py
--rw-r--r--  2.0 unx    38742 b- defN 24-Mar-26 14:39 NEMO/urls.py
--rw-r--r--  2.0 unx    28339 b- defN 24-Mar-26 14:39 NEMO/utilities.py
--rw-r--r--  2.0 unx     1000 b- defN 24-Mar-26 14:39 NEMO/validators.py
--rw-r--r--  2.0 unx       88 b- defN 24-Mar-26 14:39 NEMO/wsgi.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/__init__.py
--rw-r--r--  2.0 unx      729 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/urls.py
--rw-r--r--  2.0 unx    15349 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/views.py
--rw-rw-rw-  2.0 unx      304 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/static/area_access/area_access.css
--rw-rw-rw-  2.0 unx     1020 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/alerts.html
--rw-rw-rw-  2.0 unx     1778 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/already_logged_in.html
--rw-rw-rw-  2.0 unx      349 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/badge_not_found.html
--rw-rw-rw-  2.0 unx     9381 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/base.html
--rw-rw-rw-  2.0 unx      623 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/choose_area.html
--rw-rw-rw-  2.0 unx      733 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/choose_project.html
--rw-rw-rw-  2.0 unx       54 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/door_is_open.html
--rw-rw-rw-  2.0 unx      218 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/farewell_screen.html
--rw-rw-rw-  2.0 unx      143 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/inactive.html
--rw-rw-rw-  2.0 unx      397 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/login_success.html
--rw-rw-rw-  2.0 unx     1215 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/logout_success.html
--rw-rw-rw-  2.0 unx     1584 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/logout_warning.html
--rw-rw-rw-  2.0 unx      239 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/no_active_projects.html
--rw-rw-rw-  2.0 unx      338 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/not_logged_in.html
--rw-rw-rw-  2.0 unx      210 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/physical_access_denied.html
--rw-rw-rw-  2.0 unx      566 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/resource_unavailable.html
--rw-rw-rw-  2.0 unx      224 b- defN 24-Mar-26 14:39 NEMO/apps/area_access/templates/area_access/welcome_screen.html
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/__init__.py
--rw-r--r--  2.0 unx     4294 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/admin.py
--rw-r--r--  2.0 unx      212 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/apps.py
--rw-r--r--  2.0 unx      439 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/customization.py
--rw-r--r--  2.0 unx     5550 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/models.py
--rw-r--r--  2.0 unx      838 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/urls.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/management/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/management/commands/__init__.py
--rw-r--r--  2.0 unx      347 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/management/commands/send_email_contract_reminders.py
--rw-rw-rw-  2.0 unx     7785 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/migrations/0001_initial.py
--rw-rw-rw-  2.0 unx      983 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/migrations/0002_increase_document_path_length.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/migrations/__init__.py
--rw-rw-rw-  2.0 unx     4319 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/templates/contracts/contractors.html
--rw-rw-rw-  2.0 unx     4718 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/templates/contracts/contracts_and_procurements.html
--rw-rw-rw-  2.0 unx     3732 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/templates/contracts/procurements.html
--rw-rw-rw-  2.0 unx     5099 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/templates/contracts/service_contracts.html
--rw-rw-rw-  2.0 unx     2580 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/templates/customizations/customizations_contracts.html
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/views/__init__.py
--rw-r--r--  2.0 unx    10905 b- defN 24-Mar-26 14:39 NEMO/apps/contracts/views/contracts.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/__init__.py
--rw-r--r--  2.0 unx     2024 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/urls.py
--rw-r--r--  2.0 unx    19999 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/views.py
--rw-rw-rw-  2.0 unx      116 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/static/kiosk/kiosk.css
--rw-rw-rw-  2.0 unx     1245 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/templates/kiosk/acknowledgement.html
--rw-rw-rw-  2.0 unx     2125 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/templates/kiosk/category_choices.html
--rw-rw-rw-  2.0 unx     2059 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/templates/kiosk/choices.html
--rw-rw-rw-  2.0 unx     1072 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/templates/kiosk/error.html
--rw-rw-rw-  2.0 unx     3844 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/templates/kiosk/individual_reservation.html
--rw-rw-rw-  2.0 unx    14908 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/templates/kiosk/kiosk.html
--rw-rw-rw-  2.0 unx      901 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/templates/kiosk/success.html
--rw-rw-rw-  2.0 unx    18970 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/templates/kiosk/tool_information.html
--rw-rw-rw-  2.0 unx     1154 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/templates/kiosk/tool_project_selection_snippet.html
--rw-rw-rw-  2.0 unx     3786 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/templates/kiosk/tool_reservation.html
--rw-rw-rw-  2.0 unx     2000 b- defN 24-Mar-26 14:39 NEMO/apps/kiosk/templates/kiosk/tool_reservation_extra.html
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/__init__.py
--rw-r--r--  2.0 unx      305 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migration_utils.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/management/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/management/commands/__init__.py
--rw-r--r--  2.0 unx     2992 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/management/commands/makemigrations.py
--rw-rw-rw-  2.0 unx     1196 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0001_ce_tool_accessories.py
--rw-rw-rw-  2.0 unx      697 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0002_ce_tool_reservation_required.py
--rw-rw-rw-  2.0 unx    16877 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0003_ce_training_module.py
--rw-rw-rw-  2.0 unx     2657 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0004_ce_qualification_levels.py
--rw-rw-rw-  2.0 unx      624 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0005_ce_add_project_to_training_request.py
--rw-rw-rw-  2.0 unx     1543 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0006_ce_qualification_history_in_training.py
--rw-rw-rw-  2.0 unx     1125 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0007_ce_recording_training_events.py
--rw-rw-rw-  2.0 unx      535 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0008_ce_qualification_level_in_training_history.py
--rw-rw-rw-  2.0 unx     1274 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0009_ce_add_tool_grant_qualification_levels.py
--rw-rw-rw-  2.0 unx      934 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0010_ce_add_invitation_only_training.py
--rw-rw-rw-  2.0 unx     9690 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0011_ce_shadowing_verification.py
--rw-rw-rw-  2.0 unx     3739 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0012_ce_notification_types_update.py
--rw-rw-rw-  2.0 unx      930 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0013_ce_shadowing_reviewers_in_tool.py
--rw-rw-rw-  2.0 unx      833 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0014_ce_remove_default_value_tool_shadowing.py
--rw-rw-rw-  2.0 unx    11068 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0015_ce_precursor_configurations.py
--rw-rw-rw-  2.0 unx      638 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0016_ce_precursor_config_allow_duplicates.py
--rw-rw-rw-  2.0 unx     1741 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0017_ce_training_request_message.py
--rw-rw-rw-  2.0 unx      769 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0018_ce_training_qualification.py
--rw-rw-rw-  2.0 unx      666 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/0019_tool_training_details_without_area_access.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/nemo_ce/migrations/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/__init__.py
--rw-r--r--  2.0 unx    10252 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/admin.py
--rw-r--r--  2.0 unx      968 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/customizations.py
--rw-r--r--  2.0 unx     2767 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/evaluators.py
--rw-r--r--  2.0 unx    14350 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/models.py
--rw-r--r--  2.0 unx     8715 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/sensors.py
--rw-r--r--  2.0 unx      829 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/urls.py
--rw-r--r--  2.0 unx     6227 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/views.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/management/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/management/commands/__init__.py
--rw-r--r--  2.0 unx      272 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/management/commands/manage_sensor_data.py
--rw-rw-rw-  2.0 unx     9355 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/migrations/0001_initial.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/migrations/__init__.py
--rw-rw-rw-  2.0 unx   408236 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/static/sensors/chart.js
--rw-rw-rw-  2.0 unx   195090 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/static/sensors/chart.min.js
--rw-rw-rw-  2.0 unx     1376 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/static/sensors/chartjs-adapter-moment.js
--rw-rw-rw-  2.0 unx     7659 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/static/sensors/daterangepicker.css
--rw-rw-rw-  2.0 unx    66305 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/static/sensors/daterangepicker.js
--rw-rw-rw-  2.0 unx      608 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/static/sensors/sensors.css
--rw-rw-rw-  2.0 unx     6988 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/templates/customizations/customizations_sensors.html
--rw-rw-rw-  2.0 unx      347 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/templates/sensors/sensor_alerts.html
--rw-rw-rw-  2.0 unx    15756 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/templates/sensors/sensor_data.html
--rw-rw-rw-  2.0 unx     3879 b- defN 24-Mar-26 14:39 NEMO/apps/sensors/templates/sensors/sensors.html
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/management/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/management/commands/__init__.py
--rw-r--r--  2.0 unx      382 b- defN 24-Mar-26 14:39 NEMO/management/commands/area_auto_logout_users.py
--rw-r--r--  2.0 unx      428 b- defN 24-Mar-26 14:39 NEMO/management/commands/auto_validate_charges.py
--rw-r--r--  2.0 unx      418 b- defN 24-Mar-26 14:39 NEMO/management/commands/cancel_unused_reservations.py
--rw-r--r--  2.0 unx      415 b- defN 24-Mar-26 14:39 NEMO/management/commands/create_closure_alerts.py
--rw-r--r--  2.0 unx      409 b- defN 24-Mar-26 14:39 NEMO/management/commands/manage_recurring_charges.py
--rw-r--r--  2.0 unx      464 b- defN 24-Mar-26 14:39 NEMO/management/commands/manage_tool_qualifications.py
--rw-r--r--  2.0 unx      444 b- defN 24-Mar-26 14:39 NEMO/management/commands/send_email_grant_access.py
--rw-r--r--  2.0 unx      450 b- defN 24-Mar-26 14:39 NEMO/management/commands/send_email_out_of_time_reservation_notification.py
--rw-r--r--  2.0 unx      448 b- defN 24-Mar-26 14:39 NEMO/management/commands/send_email_reservation_ending_reminders.py
--rw-r--r--  2.0 unx      441 b- defN 24-Mar-26 14:39 NEMO/management/commands/send_email_reservation_reminders.py
--rw-r--r--  2.0 unx      596 b- defN 24-Mar-26 14:39 NEMO/management/commands/send_email_usage_reminders.py
--rw-r--r--  2.0 unx      489 b- defN 24-Mar-26 14:39 NEMO/management/commands/send_email_user_access_expiration_reminders.py
--rw-r--r--  2.0 unx      432 b- defN 24-Mar-26 14:39 NEMO/management/commands/send_email_weekend_access_notification.py
--rw-rw-rw-  2.0 unx    64712 b- defN 24-Mar-26 14:39 NEMO/migrations/0001_version_1_0_0.py
--rw-rw-rw-  2.0 unx    39249 b- defN 24-Mar-26 14:39 NEMO/migrations/0002_version_1_0_0_squashed.py
--rw-rw-rw-  2.0 unx     8947 b- defN 24-Mar-26 14:39 NEMO/migrations/0012_version_2_0_0_squashed.py
--rw-rw-rw-  2.0 unx    11366 b- defN 24-Mar-26 14:39 NEMO/migrations/0020_version_3_0_0.py
--rw-rw-rw-  2.0 unx     1931 b- defN 24-Mar-26 14:39 NEMO/migrations/0021_version_3_1_0.py
--rw-rw-rw-  2.0 unx     1187 b- defN 24-Mar-26 14:39 NEMO/migrations/0022_version_3_3_0.py
--rw-rw-rw-  2.0 unx     1220 b- defN 24-Mar-26 14:39 NEMO/migrations/0023_badgereader.py
--rw-rw-rw-  2.0 unx      799 b- defN 24-Mar-26 14:39 NEMO/migrations/0024_contactinformation_user.py
--rw-rw-rw-  2.0 unx     3863 b- defN 24-Mar-26 14:39 NEMO/migrations/0025_version_3_6_0.py
--rw-rw-rw-  2.0 unx     6944 b- defN 24-Mar-26 14:39 NEMO/migrations/0026_version_3_7_0.py
--rw-rw-rw-  2.0 unx      419 b- defN 24-Mar-26 14:39 NEMO/migrations/0027_version_3_8_0.py
--rw-rw-rw-  2.0 unx     2665 b- defN 24-Mar-26 14:39 NEMO/migrations/0028_version_3_9_0.py
--rw-rw-rw-  2.0 unx     1221 b- defN 24-Mar-26 14:39 NEMO/migrations/0030_version_3_9_2.py
--rw-rw-rw-  2.0 unx     3190 b- defN 24-Mar-26 14:39 NEMO/migrations/0031_version_3_10_0.py
--rw-rw-rw-  2.0 unx     3972 b- defN 24-Mar-26 14:39 NEMO/migrations/0032_version_3_11_0.py
--rw-rw-rw-  2.0 unx      371 b- defN 24-Mar-26 14:39 NEMO/migrations/0033_version_3_12_0.py
--rw-rw-rw-  2.0 unx      371 b- defN 24-Mar-26 14:39 NEMO/migrations/0034_version_3_13_0.py
--rw-rw-rw-  2.0 unx     8846 b- defN 24-Mar-26 14:39 NEMO/migrations/0035_version_3_14_0.py
--rw-rw-rw-  2.0 unx     9890 b- defN 24-Mar-26 14:39 NEMO/migrations/0036_version_3_15_0.py
--rw-rw-rw-  2.0 unx     4101 b- defN 24-Mar-26 14:39 NEMO/migrations/0037_version_3_16_0.py
--rw-rw-rw-  2.0 unx      934 b- defN 24-Mar-26 14:39 NEMO/migrations/0038_version_4_0_0.py
--rw-rw-rw-  2.0 unx     4010 b- defN 24-Mar-26 14:39 NEMO/migrations/0039_version_4_1_0.py
--rw-rw-rw-  2.0 unx     2896 b- defN 24-Mar-26 14:39 NEMO/migrations/0040_version_4_2_0.py
--rw-rw-rw-  2.0 unx      516 b- defN 24-Mar-26 14:39 NEMO/migrations/0041_version_4_2_1.py
--rw-rw-rw-  2.0 unx    20584 b- defN 24-Mar-26 14:39 NEMO/migrations/0042_version_4_3_0.py
--rw-rw-rw-  2.0 unx      570 b- defN 24-Mar-26 14:39 NEMO/migrations/0043_version_4_3_2.py
--rw-rw-rw-  2.0 unx     6333 b- defN 24-Mar-26 14:39 NEMO/migrations/0044_version_4_4_0.py
--rw-rw-rw-  2.0 unx    16787 b- defN 24-Mar-26 14:39 NEMO/migrations/0045_version_4_5_0.py
--rw-rw-rw-  2.0 unx     2606 b- defN 24-Mar-26 14:39 NEMO/migrations/0045_version_4_5_5.py
--rw-rw-rw-  2.0 unx     3370 b- defN 24-Mar-26 14:39 NEMO/migrations/0046_version_4_6_0.py
--rw-rw-rw-  2.0 unx      419 b- defN 24-Mar-26 14:39 NEMO/migrations/0047_version_4_6_1.py
--rw-rw-rw-  2.0 unx      685 b- defN 24-Mar-26 14:39 NEMO/migrations/0048_version_4_6_3.py
--rw-rw-rw-  2.0 unx      835 b- defN 24-Mar-26 14:39 NEMO/migrations/0049_version_4_7_0.py
--rw-rw-rw-  2.0 unx      765 b- defN 24-Mar-26 14:39 NEMO/migrations/0050_consumable_add_self_checkout_and_notes.py
--rw-rw-rw-  2.0 unx     7273 b- defN 24-Mar-26 14:39 NEMO/migrations/0051_request_reviewers_in_tool_and_area.py
--rw-rw-rw-  2.0 unx      957 b- defN 24-Mar-26 14:39 NEMO/migrations/0052_area_add_auto_logout_time.py
--rw-rw-rw-  2.0 unx      782 b- defN 24-Mar-26 14:39 NEMO/migrations/0053_consumable_withdraw_add_usage_event_link.py
--rw-rw-rw-  2.0 unx     1712 b- defN 24-Mar-26 14:39 NEMO/migrations/0054_documents_update_max_length.py
--rw-rw-rw-  2.0 unx     7122 b- defN 24-Mar-26 14:39 NEMO/migrations/0055_reservationconfigurationoption.py
--rw-rw-rw-  2.0 unx      436 b- defN 24-Mar-26 14:39 NEMO/migrations/0056_version_5_2_0.py
--rw-rw-rw-  2.0 unx      419 b- defN 24-Mar-26 14:39 NEMO/migrations/0057_version_5_3_0.py
--rw-rw-rw-  2.0 unx      858 b- defN 24-Mar-26 14:39 NEMO/migrations/0058_reservation_confirmation_override_prefs.py
--rw-rw-rw-  2.0 unx      801 b- defN 24-Mar-26 14:39 NEMO/migrations/0059_tool_pre_usage_questions.py
--rw-rw-rw-  2.0 unx      704 b- defN 24-Mar-26 14:39 NEMO/migrations/0060_add_impersonate_permission.py
--rw-rw-rw-  2.0 unx      346 b- defN 24-Mar-26 14:39 NEMO/migrations/0061_alter_interlock_unique_together.py
--rw-rw-rw-  2.0 unx     1047 b- defN 24-Mar-26 14:39 NEMO/migrations/0062_migrate_email_upcoming_reservation.py
--rw-rw-rw-  2.0 unx     6993 b- defN 24-Mar-26 14:39 NEMO/migrations/0063_knowledge_base.py
--rw-rw-rw-  2.0 unx      641 b- defN 24-Mar-26 14:39 NEMO/migrations/0064_consumable_self_checkout_only_users.py
--rw-rw-rw-  2.0 unx      769 b- defN 24-Mar-26 14:39 NEMO/migrations/0065_door_adjacent_area.py
--rw-rw-rw-  2.0 unx      636 b- defN 24-Mar-26 14:39 NEMO/migrations/0066_tool_ask_to_leave_area_when_done_using.py
--rw-rw-rw-  2.0 unx      526 b- defN 24-Mar-26 14:39 NEMO/migrations/0067_project_allow_staff_charges.py
--rw-rw-rw-  2.0 unx     2040 b- defN 24-Mar-26 14:39 NEMO/migrations/0068_door_multiple_areas.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/migrations/__init__.py
--rw-rw-rw-  2.0 unx     1615 b- defN 24-Mar-26 14:39 NEMO/static/badge_reader.js
--rw-rw-rw-  2.0 unx     1150 b- defN 24-Mar-26 14:39 NEMO/static/favicon.ico
--rw-rw-rw-  2.0 unx   247387 b- defN 24-Mar-26 14:39 NEMO/static/jquery.js
--rw-rw-rw-  2.0 unx    84320 b- defN 24-Mar-26 14:39 NEMO/static/jquery.min.js
--rw-rw-rw-  2.0 unx  1183392 b- defN 24-Mar-26 14:39 NEMO/static/jumbotron_watermark.bmp
--rw-rw-rw-  2.0 unx     1017 b- defN 24-Mar-26 14:39 NEMO/static/mobile.js
--rw-rw-rw-  2.0 unx   174603 b- defN 24-Mar-26 14:39 NEMO/static/moment.js
--rw-rw-rw-  2.0 unx    58102 b- defN 24-Mar-26 14:39 NEMO/static/moment.min.js
--rw-rw-rw-  2.0 unx    86041 b- defN 24-Mar-26 14:39 NEMO/static/moment.min.js.map
--rw-rw-rw-  2.0 unx    19345 b- defN 24-Mar-26 14:39 NEMO/static/nemo.css
--rw-rw-rw-  2.0 unx    24082 b- defN 24-Mar-26 14:39 NEMO/static/nemo.js
--rw-rw-rw-  2.0 unx       25 b- defN 24-Mar-26 14:39 NEMO/static/robots.txt
--rw-rw-rw-  2.0 unx    48446 b- defN 24-Mar-26 14:39 NEMO/static/typeahead.jquery.js
--rw-rw-rw-  2.0 unx    20748 b- defN 24-Mar-26 14:39 NEMO/static/typeahead.jquery.min.js
--rw-rw-rw-  2.0 unx     1225 b- defN 24-Mar-26 14:39 NEMO/static/admin/time_options_override.js
--rw-rw-rw-  2.0 unx     4209 b- defN 24-Mar-26 14:39 NEMO/static/admin/dynamic_form_preview/dynamic_form_preview.css
--rw-rw-rw-  2.0 unx     2586 b- defN 24-Mar-26 14:39 NEMO/static/admin/dynamic_form_preview/dynamic_form_preview.js
--rw-rw-rw-  2.0 unx      607 b- defN 24-Mar-26 14:39 NEMO/static/admin/physical_access_level/access_level.js
--rw-rw-rw-  2.0 unx     1300 b- defN 24-Mar-26 14:39 NEMO/static/admin/tool/tool.js
--rw-rw-rw-  2.0 unx    22608 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/css/bootstrap-theme.css
--rw-rw-rw-  2.0 unx    43339 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/css/bootstrap-theme.css.map
--rw-rw-rw-  2.0 unx    19963 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/css/bootstrap-theme.min.css
--rw-rw-rw-  2.0 unx   141622 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/css/bootstrap.css
--rw-rw-rw-  2.0 unx   380986 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/css/bootstrap.css.map
--rw-rw-rw-  2.0 unx   117305 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/css/bootstrap.min.css
--rw-rw-rw-  2.0 unx    20127 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/fonts/glyphicons-halflings-regular.eot
--rw-rw-rw-  2.0 unx   108738 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/fonts/glyphicons-halflings-regular.svg
--rw-rw-rw-  2.0 unx    45404 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/fonts/glyphicons-halflings-regular.ttf
--rw-rw-rw-  2.0 unx    23424 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/fonts/glyphicons-halflings-regular.woff
--rw-rw-rw-  2.0 unx    18028 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/fonts/glyphicons-halflings-regular.woff2
--rw-rw-rw-  2.0 unx    67546 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/js/bootstrap.js
--rw-rw-rw-  2.0 unx    35951 b- defN 24-Mar-26 14:39 NEMO/static/bootstrap/js/bootstrap.min.js
--rw-rw-rw-  2.0 unx     9020 b- defN 24-Mar-26 14:39 NEMO/static/datetimepicker/bootstrap-datetimepicker.css
--rw-rw-rw-  2.0 unx   105978 b- defN 24-Mar-26 14:39 NEMO/static/datetimepicker/bootstrap-datetimepicker.js
--rw-rw-rw-  2.0 unx    28531 b- defN 24-Mar-26 14:39 NEMO/static/fullcalendar/fullcalendar.css
--rw-rw-rw-  2.0 unx   358115 b- defN 24-Mar-26 14:39 NEMO/static/fullcalendar/fullcalendar.js
--rw-rw-rw-  2.0 unx    13687 b- defN 24-Mar-26 14:39 NEMO/static/fullcalendar/fullcalendar.min.css
--rw-rw-rw-  2.0 unx   166724 b- defN 24-Mar-26 14:39 NEMO/static/fullcalendar/fullcalendar.min.js
--rw-rw-rw-  2.0 unx    24065 b- defN 24-Mar-26 14:39 NEMO/static/icons/agreement.png
--rw-rw-rw-  2.0 unx    16685 b- defN 24-Mar-26 14:39 NEMO/static/icons/caution.png
--rw-rw-rw-  2.0 unx     4664 b- defN 24-Mar-26 14:39 NEMO/static/icons/preferences.png
--rw-rw-rw-  2.0 unx    12285 b- defN 24-Mar-26 14:39 NEMO/static/numpad/custom_numpad.jquery.js
--rw-rw-rw-  2.0 unx      255 b- defN 24-Mar-26 14:39 NEMO/static/numpad/numpad.jquery.css
--rw-rw-rw-  2.0 unx     3795 b- defN 24-Mar-26 14:39 NEMO/static/pickadate/default.css
--rw-rw-rw-  2.0 unx     6040 b- defN 24-Mar-26 14:39 NEMO/static/pickadate/default.date.css
--rw-rw-rw-  2.0 unx     2785 b- defN 24-Mar-26 14:39 NEMO/static/pickadate/default.time.css
--rw-rw-rw-  2.0 unx    48215 b- defN 24-Mar-26 14:39 NEMO/static/pickadate/picker.date.js
--rw-rw-rw-  2.0 unx    36941 b- defN 24-Mar-26 14:39 NEMO/static/pickadate/picker.js
--rw-rw-rw-  2.0 unx    31899 b- defN 24-Mar-26 14:39 NEMO/static/pickadate/picker.time.js
--rw-rw-rw-  2.0 unx   113008 b- defN 24-Mar-26 14:39 NEMO/static/virtualkeyboard/jquery.keyboard.js
--rw-rw-rw-  2.0 unx    47325 b- defN 24-Mar-26 14:39 NEMO/static/virtualkeyboard/jquery.keyboard.min.js
--rw-rw-rw-  2.0 unx     7848 b- defN 24-Mar-26 14:39 NEMO/static/virtualkeyboard/keyboard-basic.css
--rw-rw-rw-  2.0 unx     5889 b- defN 24-Mar-26 14:39 NEMO/static/virtualkeyboard/keyboard-basic.min.css
--rw-rw-rw-  2.0 unx      433 b- defN 24-Mar-26 14:39 NEMO/templates/acknowledgement.html
--rw-rw-rw-  2.0 unx     4694 b- defN 24-Mar-26 14:39 NEMO/templates/alerts.html
--rw-rw-rw-  2.0 unx      875 b- defN 24-Mar-26 14:39 NEMO/templates/authorization_failed.html
--rw-rw-rw-  2.0 unx     6501 b- defN 24-Mar-26 14:39 NEMO/templates/base.html
--rw-rw-rw-  2.0 unx     8031 b- defN 24-Mar-26 14:39 NEMO/templates/configuration_agenda.html
--rw-rw-rw-  2.0 unx      502 b- defN 24-Mar-26 14:39 NEMO/templates/display_success_and_redirect.html
--rw-rw-rw-  2.0 unx      426 b- defN 24-Mar-26 14:39 NEMO/templates/facility_rules.html
--rw-rw-rw-  2.0 unx     1247 b- defN 24-Mar-26 14:39 NEMO/templates/feedback.html
--rw-rw-rw-  2.0 unx     1071 b- defN 24-Mar-26 14:39 NEMO/templates/history.html
--rw-rw-rw-  2.0 unx     1260 b- defN 24-Mar-26 14:39 NEMO/templates/impersonate.html
--rw-rw-rw-  2.0 unx     9200 b- defN 24-Mar-26 14:39 NEMO/templates/landing.html
--rw-rw-rw-  2.0 unx     3585 b- defN 24-Mar-26 14:39 NEMO/templates/login.html
--rw-rw-rw-  2.0 unx      209 b- defN 24-Mar-26 14:39 NEMO/templates/no_project.html
--rw-rw-rw-  2.0 unx     3694 b- defN 24-Mar-26 14:39 NEMO/templates/qualifications.html
--rw-rw-rw-  2.0 unx     5667 b- defN 24-Mar-26 14:39 NEMO/templates/refresh_sidebar_icons.html
--rw-rw-rw-  2.0 unx     4059 b- defN 24-Mar-26 14:39 NEMO/templates/abuse/abuse.html
--rw-rw-rw-  2.0 unx      580 b- defN 24-Mar-26 14:39 NEMO/templates/abuse/user_drill_down.html
--rw-rw-rw-  2.0 unx     7717 b- defN 24-Mar-26 14:39 NEMO/templates/accounts_and_projects/account_and_projects.html
--rw-rw-rw-  2.0 unx     6461 b- defN 24-Mar-26 14:39 NEMO/templates/accounts_and_projects/accounts_and_projects.html
--rw-rw-rw-  2.0 unx     2843 b- defN 24-Mar-26 14:39 NEMO/templates/accounts_and_projects/create_account.html
--rw-rw-rw-  2.0 unx     6693 b- defN 24-Mar-26 14:39 NEMO/templates/accounts_and_projects/create_project.html
--rw-rw-rw-  2.0 unx      888 b- defN 24-Mar-26 14:39 NEMO/templates/accounts_and_projects/documents_for_project.html
--rw-rw-rw-  2.0 unx     3544 b- defN 24-Mar-26 14:39 NEMO/templates/accounts_and_projects/projects.html
--rw-rw-rw-  2.0 unx     8339 b- defN 24-Mar-26 14:39 NEMO/templates/accounts_and_projects/transfer_charges.html
--rw-rw-rw-  2.0 unx      917 b- defN 24-Mar-26 14:39 NEMO/templates/accounts_and_projects/users_for_project.html
--rw-rw-rw-  2.0 unx     2951 b- defN 24-Mar-26 14:39 NEMO/templates/area_access/area_access.html
--rw-rw-rw-  2.0 unx     1748 b- defN 24-Mar-26 14:39 NEMO/templates/area_access/calendar_self_login.html
--rw-rw-rw-  2.0 unx     1111 b- defN 24-Mar-26 14:39 NEMO/templates/area_access/change_project.html
--rw-rw-rw-  2.0 unx     1141 b- defN 24-Mar-26 14:39 NEMO/templates/area_access/login_areas.html
--rw-rw-rw-  2.0 unx     1245 b- defN 24-Mar-26 14:39 NEMO/templates/area_access/new_area_access_record.html
--rw-rw-rw-  2.0 unx     1938 b- defN 24-Mar-26 14:39 NEMO/templates/area_access/new_area_access_record_details.html
--rw-rw-rw-  2.0 unx     1454 b- defN 24-Mar-26 14:39 NEMO/templates/area_access/self_login.html
--rw-rw-rw-  2.0 unx      308 b- defN 24-Mar-26 14:39 NEMO/templates/base/footer.html
--rw-rw-rw-  2.0 unx      292 b- defN 24-Mar-26 14:39 NEMO/templates/base/impersonate_header.html
--rw-rw-rw-  2.0 unx       37 b- defN 24-Mar-26 14:39 NEMO/templates/base/navbar.html
--rw-rw-rw-  2.0 unx    10118 b- defN 24-Mar-26 14:39 NEMO/templates/base/navbar_base.html
--rw-rw-rw-  2.0 unx      373 b- defN 24-Mar-26 14:39 NEMO/templates/base/popup.html
--rw-rw-rw-  2.0 unx      716 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/accessories.html
--rw-rw-rw-  2.0 unx     1554 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/accessories_helper.html
--rw-rw-rw-  2.0 unx    36903 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/calendar.html
--rw-rw-rw-  2.0 unx     1459 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/configuration.html
--rw-rw-rw-  2.0 unx      973 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/configuration_event_feed.html
--rw-rw-rw-  2.0 unx     6476 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/new_training_event.html
--rw-rw-rw-  2.0 unx     1315 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/policy_dialog.html
--rw-rw-rw-  2.0 unx     1361 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/project_choice.html
--rw-rw-rw-  2.0 unx     1561 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/proxy_reservation.html
--rw-rw-rw-  2.0 unx     3673 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/reservation_event_feed.html
--rw-rw-rw-  2.0 unx     1680 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/reservation_questions.html
--rw-rw-rw-  2.0 unx     1285 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/reservation_warning.html
--rw-rw-rw-  2.0 unx     4410 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/scheduled_outage_information.html
--rw-rw-rw-  2.0 unx     2011 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/specific_user_feed.html
--rw-rw-rw-  2.0 unx     2594 b- defN 24-Mar-26 14:39 NEMO/templates/calendar/usage_event_feed.html
--rw-rw-rw-  2.0 unx      676 b- defN 24-Mar-26 14:39 NEMO/templates/configuration/configuration_history.html
--rw-rw-rw-  2.0 unx     1374 b- defN 24-Mar-26 14:39 NEMO/templates/configuration/configuration_line_item.html
--rw-rw-rw-  2.0 unx     6335 b- defN 24-Mar-26 14:39 NEMO/templates/configuration/configuration_reservation_helper.html
--rw-rw-rw-  2.0 unx    10195 b- defN 24-Mar-26 14:39 NEMO/templates/consumables/consumables.html
--rw-rw-rw-  2.0 unx     1538 b- defN 24-Mar-26 14:39 NEMO/templates/consumables/consumables_order.html
--rw-rw-rw-  2.0 unx    11695 b- defN 24-Mar-26 14:39 NEMO/templates/consumables/recurring_charge.html
--rw-rw-rw-  2.0 unx     5473 b- defN 24-Mar-26 14:39 NEMO/templates/consumables/recurring_charges.html
--rw-rw-rw-  2.0 unx      692 b- defN 24-Mar-26 14:39 NEMO/templates/contact/contact_staff.html
--rw-rw-rw-  2.0 unx     1848 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations.html
--rw-rw-rw-  2.0 unx     8606 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_application.html
--rw-rw-rw-  2.0 unx    11026 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_calendar.html
--rw-rw-rw-  2.0 unx     8076 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_dashboard.html
--rw-rw-rw-  2.0 unx     4202 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_emails.html
--rw-rw-rw-  2.0 unx     2545 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_interlock.html
--rw-rw-rw-  2.0 unx     2159 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_knowledge_base.html
--rw-rw-rw-  2.0 unx     6289 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_projects_and_accounts.html
--rw-rw-rw-  2.0 unx     2224 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_rates.html
--rw-rw-rw-  2.0 unx     3519 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_recurring_charges.html
--rw-rw-rw-  2.0 unx     2183 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_remote_work.html
--rw-rw-rw-  2.0 unx    17377 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_requests.html
--rw-rw-rw-  2.0 unx     3678 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_safety.html
--rw-rw-rw-  2.0 unx     3222 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_shadowing_verification.html
--rw-rw-rw-  2.0 unx    32013 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_templates.html
--rw-rw-rw-  2.0 unx    19326 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_tool.html
--rw-rw-rw-  2.0 unx     7321 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_training.html
--rw-rw-rw-  2.0 unx     1731 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_upload.html
--rw-rw-rw-  2.0 unx     5214 b- defN 24-Mar-26 14:39 NEMO/templates/customizations/customizations_user.html
--rw-rw-rw-  2.0 unx     8685 b- defN 24-Mar-26 14:39 NEMO/templates/email/compose_email.html
--rw-rw-rw-  2.0 unx     4307 b- defN 24-Mar-26 14:39 NEMO/templates/email/email_broadcast.html
--rw-rw-rw-  2.0 unx     1045 b- defN 24-Mar-26 14:39 NEMO/templates/email/email_form.html
--rw-rw-rw-  2.0 unx      751 b- defN 24-Mar-26 14:39 NEMO/templates/event_details/area_access_details.html
--rw-rw-rw-  2.0 unx     7550 b- defN 24-Mar-26 14:39 NEMO/templates/event_details/outage_details.html
--rw-rw-rw-  2.0 unx    13495 b- defN 24-Mar-26 14:39 NEMO/templates/event_details/reservation_details.html
--rw-rw-rw-  2.0 unx     4686 b- defN 24-Mar-26 14:39 NEMO/templates/event_details/training_event_details.html
--rw-rw-rw-  2.0 unx      589 b- defN 24-Mar-26 14:39 NEMO/templates/event_details/usage_details.html
--rw-rw-rw-  2.0 unx     2183 b- defN 24-Mar-26 14:39 NEMO/templates/jumbotron/jumbotron.html
--rw-rw-rw-  2.0 unx     3983 b- defN 24-Mar-26 14:39 NEMO/templates/jumbotron/jumbotron_content.html
--rw-rw-rw-  2.0 unx     3682 b- defN 24-Mar-26 14:39 NEMO/templates/knowledge_base/knowledge_base.html
--rw-rw-rw-  2.0 unx     1106 b- defN 24-Mar-26 14:39 NEMO/templates/knowledge_base/knowledge_base_base.html
--rw-rw-rw-  2.0 unx     2758 b- defN 24-Mar-26 14:39 NEMO/templates/knowledge_base/knowledge_base_items.html
--rw-rw-rw-  2.0 unx     1558 b- defN 24-Mar-26 14:39 NEMO/templates/maintenance/closed_task_details.html
--rw-rw-rw-  2.0 unx     5566 b- defN 24-Mar-26 14:39 NEMO/templates/maintenance/maintenance.html
--rw-rw-rw-  2.0 unx     7450 b- defN 24-Mar-26 14:39 NEMO/templates/maintenance/pending_task_details.html
--rw-rw-rw-  2.0 unx      762 b- defN 24-Mar-26 14:39 NEMO/templates/mobile/cancellation_result.html
--rw-rw-rw-  2.0 unx     1916 b- defN 24-Mar-26 14:39 NEMO/templates/mobile/choose_item.html
--rw-rw-rw-  2.0 unx      453 b- defN 24-Mar-26 14:39 NEMO/templates/mobile/error.html
--rw-rw-rw-  2.0 unx     1025 b- defN 24-Mar-26 14:39 NEMO/templates/mobile/individual_outage.html
--rw-rw-rw-  2.0 unx     3547 b- defN 24-Mar-26 14:39 NEMO/templates/mobile/individual_reservation.html
--rw-rw-rw-  2.0 unx     2050 b- defN 24-Mar-26 14:39 NEMO/templates/mobile/individual_training_event.html
--rw-rw-rw-  2.0 unx     4221 b- defN 24-Mar-26 14:39 NEMO/templates/mobile/new_reservation.html
--rw-rw-rw-  2.0 unx      313 b- defN 24-Mar-26 14:39 NEMO/templates/mobile/no_active_projects.html
--rw-rw-rw-  2.0 unx     1757 b- defN 24-Mar-26 14:39 NEMO/templates/mobile/reservation_extra.html
--rw-rw-rw-  2.0 unx      777 b- defN 24-Mar-26 14:39 NEMO/templates/mobile/reservation_success.html
--rw-rw-rw-  2.0 unx     1986 b- defN 24-Mar-26 14:39 NEMO/templates/mobile/view_calendar.html
--rw-rw-rw-  2.0 unx      981 b- defN 24-Mar-26 14:39 NEMO/templates/news/archived_news.html
--rw-rw-rw-  2.0 unx     1027 b- defN 24-Mar-26 14:39 NEMO/templates/news/new_news_form.html
--rw-rw-rw-  2.0 unx     1198 b- defN 24-Mar-26 14:39 NEMO/templates/news/news_update_form.html
--rw-rw-rw-  2.0 unx     2038 b- defN 24-Mar-26 14:39 NEMO/templates/news/recent_news.html
--rw-rw-rw-  2.0 unx      611 b- defN 24-Mar-26 14:39 NEMO/templates/occupancy/occupancy.html
--rw-rw-rw-  2.0 unx     2088 b- defN 24-Mar-26 14:39 NEMO/templates/occupancy/occupancy_content.html
--rw-rw-rw-  2.0 unx     1147 b- defN 24-Mar-26 14:39 NEMO/templates/occupancy/occupancy_count.html
--rw-rw-rw-  2.0 unx      865 b- defN 24-Mar-26 14:39 NEMO/templates/pagination/pagination_base.html
--rw-rw-rw-  2.0 unx      715 b- defN 24-Mar-26 14:39 NEMO/templates/pagination/pagination_column.html
--rw-rw-rw-  2.0 unx      673 b- defN 24-Mar-26 14:39 NEMO/templates/pagination/pagination_pages.html
--rw-rw-rw-  2.0 unx      642 b- defN 24-Mar-26 14:39 NEMO/templates/pagination/pagination_selector.html
--rw-rw-rw-  2.0 unx    10616 b- defN 24-Mar-26 14:39 NEMO/templates/remote_work/remote_work.html
--rw-rw-rw-  2.0 unx     1081 b- defN 24-Mar-26 14:39 NEMO/templates/remote_work/remote_work_base.html
--rw-rw-rw-  2.0 unx     5992 b- defN 24-Mar-26 14:39 NEMO/templates/requests/user_requests.html
--rw-rw-rw-  2.0 unx     7768 b- defN 24-Mar-26 14:39 NEMO/templates/requests/access_requests/access_request.html
--rw-rw-rw-  2.0 unx     3450 b- defN 24-Mar-26 14:39 NEMO/templates/requests/access_requests/access_requests.html
--rw-rw-rw-  2.0 unx     3475 b- defN 24-Mar-26 14:39 NEMO/templates/requests/access_requests/access_requests_table.html
--rw-rw-rw-  2.0 unx     8628 b- defN 24-Mar-26 14:39 NEMO/templates/requests/adjustment_requests/adjustment_request.html
--rw-rw-rw-  2.0 unx     3736 b- defN 24-Mar-26 14:39 NEMO/templates/requests/adjustment_requests/adjustment_requests.html
--rw-rw-rw-  2.0 unx     7327 b- defN 24-Mar-26 14:39 NEMO/templates/requests/adjustment_requests/adjustment_requests_table.html
--rw-rw-rw-  2.0 unx     3910 b- defN 24-Mar-26 14:39 NEMO/templates/requests/buddy_requests/buddy_request.html
--rw-rw-rw-  2.0 unx     5741 b- defN 24-Mar-26 14:39 NEMO/templates/requests/buddy_requests/buddy_requests.html
--rw-rw-rw-  2.0 unx     2950 b- defN 24-Mar-26 14:39 NEMO/templates/resources/modify_resource.html
--rw-rw-rw-  2.0 unx     3846 b- defN 24-Mar-26 14:39 NEMO/templates/resources/resource_details.html
--rw-rw-rw-  2.0 unx     1423 b- defN 24-Mar-26 14:39 NEMO/templates/resources/resources.html
--rw-rw-rw-  2.0 unx     3881 b- defN 24-Mar-26 14:39 NEMO/templates/resources/scheduled_outage.html
--rw-rw-rw-  2.0 unx     2736 b- defN 24-Mar-26 14:39 NEMO/templates/rest_framework/api.html
--rw-rw-rw-  2.0 unx      446 b- defN 24-Mar-26 14:39 NEMO/templates/rest_framework/custom_error.html
--rw-rw-rw-  2.0 unx     3146 b- defN 24-Mar-26 14:39 NEMO/templates/safety/safety.html
--rw-rw-rw-  2.0 unx     1733 b- defN 24-Mar-26 14:39 NEMO/templates/safety/safety_base.html
--rw-rw-rw-  2.0 unx     7807 b- defN 24-Mar-26 14:39 NEMO/templates/safety/safety_data_sheets.html
--rw-rw-rw-  2.0 unx     1976 b- defN 24-Mar-26 14:39 NEMO/templates/safety/safety_issues.html
--rw-rw-rw-  2.0 unx     1723 b- defN 24-Mar-26 14:39 NEMO/templates/safety/safety_issues_create.html
--rw-rw-rw-  2.0 unx     1722 b- defN 24-Mar-26 14:39 NEMO/templates/safety/safety_issues_resolved.html
--rw-rw-rw-  2.0 unx     1762 b- defN 24-Mar-26 14:39 NEMO/templates/safety/safety_issues_update.html
--rw-rw-rw-  2.0 unx     1877 b- defN 24-Mar-26 14:39 NEMO/templates/safety/safety_items.html
--rw-rw-rw-  2.0 unx     9807 b- defN 24-Mar-26 14:39 NEMO/templates/shadowing_verification/shadowing_verification_request.html
--rw-rw-rw-  2.0 unx     4152 b- defN 24-Mar-26 14:39 NEMO/templates/shadowing_verification/shadowing_verification_requests.html
--rw-rw-rw-  2.0 unx     3735 b- defN 24-Mar-26 14:39 NEMO/templates/shadowing_verification/shadowing_verification_requests_table.html
--rw-rw-rw-  2.0 unx      516 b- defN 24-Mar-26 14:39 NEMO/templates/snippets/button.html
--rw-rw-rw-  2.0 unx     2133 b- defN 24-Mar-26 14:39 NEMO/templates/snippets/confirm_action_modal.html
--rw-rw-rw-  2.0 unx      904 b- defN 24-Mar-26 14:39 NEMO/templates/snippets/contact_person.html
--rw-rw-rw-  2.0 unx      962 b- defN 24-Mar-26 14:39 NEMO/templates/snippets/document_list.html
--rw-rw-rw-  2.0 unx     1128 b- defN 24-Mar-26 14:39 NEMO/templates/snippets/embedded_document.html
--rw-rw-rw-  2.0 unx     1728 b- defN 24-Mar-26 14:39 NEMO/templates/snippets/tool_info.html
--rw-rw-rw-  2.0 unx      860 b- defN 24-Mar-26 14:39 NEMO/templates/staff_charges/change_status.html
--rw-rw-rw-  2.0 unx     1396 b- defN 24-Mar-26 14:39 NEMO/templates/staff_charges/choose_project.html
--rw-rw-rw-  2.0 unx      498 b- defN 24-Mar-26 14:39 NEMO/templates/staff_charges/end_area_charge.html
--rw-rw-rw-  2.0 unx     1198 b- defN 24-Mar-26 14:39 NEMO/templates/staff_charges/new_staff_charge.html
--rw-rw-rw-  2.0 unx     1014 b- defN 24-Mar-26 14:39 NEMO/templates/staff_charges/reminder.html
--rw-rw-rw-  2.0 unx     1854 b- defN 24-Mar-26 14:39 NEMO/templates/staff_charges/staff_charges_base.html
--rw-rw-rw-  2.0 unx     1757 b- defN 24-Mar-26 14:39 NEMO/templates/status_dashboard/occupancy.html
--rw-rw-rw-  2.0 unx     9772 b- defN 24-Mar-26 14:39 NEMO/templates/status_dashboard/staff.html
--rw-rw-rw-  2.0 unx     7709 b- defN 24-Mar-26 14:39 NEMO/templates/status_dashboard/staff_absence.html
--rw-rw-rw-  2.0 unx     6688 b- defN 24-Mar-26 14:39 NEMO/templates/status_dashboard/status_dashboard.html
--rw-rw-rw-  2.0 unx     3922 b- defN 24-Mar-26 14:39 NEMO/templates/status_dashboard/tools.html
--rw-rw-rw-  2.0 unx     2542 b- defN 24-Mar-26 14:39 NEMO/templates/tasks/resolve.html
--rw-rw-rw-  2.0 unx     5037 b- defN 24-Mar-26 14:39 NEMO/templates/tasks/update.html
--rw-rw-rw-  2.0 unx      921 b- defN 24-Mar-26 14:39 NEMO/templates/tool_control/get_projects.html
--rw-rw-rw-  2.0 unx      737 b- defN 24-Mar-26 14:39 NEMO/templates/tool_control/interlock_error.html
--rw-rw-rw-  2.0 unx     1024 b- defN 24-Mar-26 14:39 NEMO/templates/tool_control/logout_user.html
--rw-rw-rw-  2.0 unx     3502 b- defN 24-Mar-26 14:39 NEMO/templates/tool_control/past_tasks_and_comments.html
--rw-rw-rw-  2.0 unx     4321 b- defN 24-Mar-26 14:39 NEMO/templates/tool_control/qualified_users.html
--rw-rw-rw-  2.0 unx    16105 b- defN 24-Mar-26 14:39 NEMO/templates/tool_control/tool_control.html
--rw-rw-rw-  2.0 unx    42458 b- defN 24-Mar-26 14:39 NEMO/templates/tool_control/tool_status.html
--rw-rw-rw-  2.0 unx     9019 b- defN 24-Mar-26 14:39 NEMO/templates/tool_control/usage_data.html
--rw-rw-rw-  2.0 unx      409 b- defN 24-Mar-26 14:39 NEMO/templates/tool_control/use_tool_for_other.html
--rw-rw-rw-  2.0 unx      512 b- defN 24-Mar-26 14:39 NEMO/templates/training/get_projects.html
--rw-rw-rw-  2.0 unx      474 b- defN 24-Mar-26 14:39 NEMO/templates/training/training.html
--rw-rw-rw-  2.0 unx     5217 b- defN 24-Mar-26 14:39 NEMO/templates/training/training_entry.html
--rw-rw-rw-  2.0 unx     5686 b- defN 24-Mar-26 14:39 NEMO/templates/training/training_recording.html
--rw-rw-rw-  2.0 unx     3289 b- defN 24-Mar-26 14:39 NEMO/templates/training_new/training_base.html
--rw-rw-rw-  2.0 unx     4452 b- defN 24-Mar-26 14:39 NEMO/templates/training_new/training_history.html
--rw-rw-rw-  2.0 unx     2135 b- defN 24-Mar-26 14:39 NEMO/templates/training_new/training_sessions.html
--rw-rw-rw-  2.0 unx    12022 b- defN 24-Mar-26 14:39 NEMO/templates/training_new/training_events/create_event.html
--rw-rw-rw-  2.0 unx      877 b- defN 24-Mar-26 14:39 NEMO/templates/training_new/training_events/manage_training_events.html
--rw-rw-rw-  2.0 unx     2412 b- defN 24-Mar-26 14:39 NEMO/templates/training_new/training_events/manage_training_events_table.html
--rw-rw-rw-  2.0 unx      167 b- defN 24-Mar-26 14:39 NEMO/templates/training_new/training_events/schedule_training_events.html
--rw-rw-rw-  2.0 unx     4998 b- defN 24-Mar-26 14:39 NEMO/templates/training_new/training_events/schedule_training_events_list.html
--rw-rw-rw-  2.0 unx     3543 b- defN 24-Mar-26 14:39 NEMO/templates/training_new/training_events/upcoming_training_events.html
--rw-rw-rw-  2.0 unx    10387 b- defN 24-Mar-26 14:39 NEMO/templates/training_new/training_requests/create_request.html
--rw-rw-rw-  2.0 unx     4565 b- defN 24-Mar-26 14:39 NEMO/templates/training_new/training_requests/training_requests.html
--rw-rw-rw-  2.0 unx     1297 b- defN 24-Mar-26 14:39 NEMO/templates/usage/adjustment_request_button.html
--rw-rw-rw-  2.0 unx     3573 b- defN 24-Mar-26 14:39 NEMO/templates/usage/billing.html
--rw-rw-rw-  2.0 unx     9218 b- defN 24-Mar-26 14:39 NEMO/templates/usage/usage.html
--rw-rw-rw-  2.0 unx     9156 b- defN 24-Mar-26 14:39 NEMO/templates/usage/usage_base.html
--rw-rw-rw-  2.0 unx    23355 b- defN 24-Mar-26 14:39 NEMO/templates/users/create_or_modify_user.html
--rw-rw-rw-  2.0 unx    17182 b- defN 24-Mar-26 14:39 NEMO/templates/users/preferences.html
--rw-rw-rw-  2.0 unx     3758 b- defN 24-Mar-26 14:39 NEMO/templates/users/safe_deactivation.html
--rw-rw-rw-  2.0 unx     4657 b- defN 24-Mar-26 14:39 NEMO/templates/users/users.html
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/templatetags/__init__.py
--rw-r--r--  2.0 unx    10107 b- defN 24-Mar-26 14:39 NEMO/templatetags/custom_tags_and_filters.py
--rw-r--r--  2.0 unx      293 b- defN 24-Mar-26 14:39 NEMO/templatetags/training_tags.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/tests/__init__.py
--rw-r--r--  2.0 unx    29763 b- defN 24-Mar-26 14:39 NEMO/tests/test_area_access.py
--rw-r--r--  2.0 unx    10126 b- defN 24-Mar-26 14:39 NEMO/tests/test_closures.py
--rw-r--r--  2.0 unx    24973 b- defN 24-Mar-26 14:39 NEMO/tests/test_consumables.py
--rw-r--r--  2.0 unx    15018 b- defN 24-Mar-26 14:39 NEMO/tests/test_dynamic_form.py
--rw-r--r--  2.0 unx     3680 b- defN 24-Mar-26 14:39 NEMO/tests/test_evaluators.py
--rw-r--r--  2.0 unx     3246 b- defN 24-Mar-26 14:39 NEMO/tests/test_formats.py
--rw-r--r--  2.0 unx     1970 b- defN 24-Mar-26 14:39 NEMO/tests/test_misc.py
--rw-r--r--  2.0 unx     5092 b- defN 24-Mar-26 14:39 NEMO/tests/test_settings.py
--rw-r--r--  2.0 unx    12226 b- defN 24-Mar-26 14:39 NEMO/tests/test_shadowing_verification.py
--rw-r--r--  2.0 unx     1133 b- defN 24-Mar-26 14:39 NEMO/tests/test_staff_charges.py
--rw-r--r--  2.0 unx    15311 b- defN 24-Mar-26 14:39 NEMO/tests/test_tool.py
--rw-r--r--  2.0 unx    19677 b- defN 24-Mar-26 14:39 NEMO/tests/test_urls.py
--rw-r--r--  2.0 unx     3390 b- defN 24-Mar-26 14:39 NEMO/tests/test_utilities.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/tests/test_api/__init__.py
--rw-r--r--  2.0 unx     4198 b- defN 24-Mar-26 14:39 NEMO/tests/test_api/test_billing.py
--rw-r--r--  2.0 unx     5747 b- defN 24-Mar-26 14:39 NEMO/tests/test_api/test_crud.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/tests/test_calendar/__init__.py
--rw-r--r--  2.0 unx    33680 b- defN 24-Mar-26 14:39 NEMO/tests/test_calendar/test_area_reservation.py
--rw-r--r--  2.0 unx     1041 b- defN 24-Mar-26 14:39 NEMO/tests/test_calendar/test_calendar.py
--rw-r--r--  2.0 unx    22955 b- defN 24-Mar-26 14:39 NEMO/tests/test_calendar/test_outage.py
--rw-r--r--  2.0 unx    11729 b- defN 24-Mar-26 14:39 NEMO/tests/test_calendar/test_tool_freed_time.py
--rw-r--r--  2.0 unx    18987 b- defN 24-Mar-26 14:39 NEMO/tests/test_calendar/test_tool_qualification_expiration.py
--rw-r--r--  2.0 unx    30266 b- defN 24-Mar-26 14:39 NEMO/tests/test_calendar/test_tool_reservation.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/tests/test_ce/__init__.py
--rw-r--r--  2.0 unx     6754 b- defN 24-Mar-26 14:39 NEMO/tests/test_ce/test_grant_access_email.py
--rw-r--r--  2.0 unx     2609 b- defN 24-Mar-26 14:39 NEMO/tests/test_ce/test_precursor_schedule.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/tests/test_interlocks/__init__.py
--rw-r--r--  2.0 unx     3597 b- defN 24-Mar-26 14:39 NEMO/tests/test_interlocks/test_modbus_interlock.py
--rw-r--r--  2.0 unx    11444 b- defN 24-Mar-26 14:39 NEMO/tests/test_interlocks/test_stanford_interlock.py
--rw-r--r--  2.0 unx     7059 b- defN 24-Mar-26 14:39 NEMO/tests/test_interlocks/test_web_relay_interlock.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/tests/test_requests/__init__.py
--rw-r--r--  2.0 unx     9460 b- defN 24-Mar-26 14:39 NEMO/tests/test_requests/test_adjustment_requests.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/tests/test_sensors/__init__.py
--rw-r--r--  2.0 unx     2229 b- defN 24-Mar-26 14:39 NEMO/tests/test_sensors/test_modbus_sensors.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/views/__init__.py
--rw-r--r--  2.0 unx     5483 b- defN 24-Mar-26 14:39 NEMO/views/abuse.py
--rw-r--r--  2.0 unx    13044 b- defN 24-Mar-26 14:39 NEMO/views/access_requests.py
--rw-r--r--  2.0 unx    14108 b- defN 24-Mar-26 14:39 NEMO/views/accounts_and_projects.py
--rw-r--r--  2.0 unx    20016 b- defN 24-Mar-26 14:39 NEMO/views/adjustment_requests.py
--rw-r--r--  2.0 unx     1987 b- defN 24-Mar-26 14:39 NEMO/views/alerts.py
--rw-r--r--  2.0 unx    26610 b- defN 24-Mar-26 14:39 NEMO/views/api.py
--rw-r--r--  2.0 unx    13969 b- defN 24-Mar-26 14:39 NEMO/views/api_billing.py
--rw-r--r--  2.0 unx     2700 b- defN 24-Mar-26 14:39 NEMO/views/api_file_import.py
--rw-r--r--  2.0 unx    21767 b- defN 24-Mar-26 14:39 NEMO/views/area_access.py
--rw-r--r--  2.0 unx    13996 b- defN 24-Mar-26 14:39 NEMO/views/authentication.py
--rw-r--r--  2.0 unx     7251 b- defN 24-Mar-26 14:39 NEMO/views/buddy_requests.py
--rw-r--r--  2.0 unx    64757 b- defN 24-Mar-26 14:39 NEMO/views/calendar.py
--rw-r--r--  2.0 unx     4033 b- defN 24-Mar-26 14:39 NEMO/views/charge_validation.py
--rw-r--r--  2.0 unx     2914 b- defN 24-Mar-26 14:39 NEMO/views/configuration_agenda.py
--rw-r--r--  2.0 unx      486 b- defN 24-Mar-26 14:39 NEMO/views/constants.py
--rw-r--r--  2.0 unx    12946 b- defN 24-Mar-26 14:39 NEMO/views/consumables.py
--rw-r--r--  2.0 unx      488 b- defN 24-Mar-26 14:39 NEMO/views/contact_staff.py
--rw-r--r--  2.0 unx    28395 b- defN 24-Mar-26 14:39 NEMO/views/customization.py
--rw-r--r--  2.0 unx     3763 b- defN 24-Mar-26 14:39 NEMO/views/documents.py
--rw-r--r--  2.0 unx    14787 b- defN 24-Mar-26 14:39 NEMO/views/email.py
--rw-r--r--  2.0 unx     2735 b- defN 24-Mar-26 14:39 NEMO/views/event_details.py
--rw-r--r--  2.0 unx     1616 b- defN 24-Mar-26 14:39 NEMO/views/feedback.py
--rw-r--r--  2.0 unx     1947 b- defN 24-Mar-26 14:39 NEMO/views/get_projects.py
--rw-r--r--  2.0 unx     5457 b- defN 24-Mar-26 14:39 NEMO/views/history.py
--rw-r--r--  2.0 unx     1221 b- defN 24-Mar-26 14:39 NEMO/views/jumbotron.py
--rw-r--r--  2.0 unx     3967 b- defN 24-Mar-26 14:39 NEMO/views/knowledge_base.py
--rw-r--r--  2.0 unx     3763 b- defN 24-Mar-26 14:39 NEMO/views/landing.py
--rw-r--r--  2.0 unx     2999 b- defN 24-Mar-26 14:39 NEMO/views/maintenance.py
--rw-r--r--  2.0 unx    10662 b- defN 24-Mar-26 14:39 NEMO/views/mobile.py
--rw-r--r--  2.0 unx     3793 b- defN 24-Mar-26 14:39 NEMO/views/news.py
--rw-r--r--  2.0 unx     7585 b- defN 24-Mar-26 14:39 NEMO/views/notifications.py
--rw-r--r--  2.0 unx     1542 b- defN 24-Mar-26 14:39 NEMO/views/pagination.py
--rw-r--r--  2.0 unx     9256 b- defN 24-Mar-26 14:39 NEMO/views/qualifications.py
--rw-r--r--  2.0 unx    11231 b- defN 24-Mar-26 14:39 NEMO/views/remote_work.py
--rw-r--r--  2.0 unx     4095 b- defN 24-Mar-26 14:39 NEMO/views/resources.py
--rw-r--r--  2.0 unx     9657 b- defN 24-Mar-26 14:39 NEMO/views/safety.py
--rw-r--r--  2.0 unx    15841 b- defN 24-Mar-26 14:39 NEMO/views/shadowing_verification.py
--rw-r--r--  2.0 unx      980 b- defN 24-Mar-26 14:39 NEMO/views/sidebar.py
--rw-r--r--  2.0 unx    23506 b- defN 24-Mar-26 14:39 NEMO/views/status_dashboard.py
--rw-r--r--  2.0 unx    16589 b- defN 24-Mar-26 14:39 NEMO/views/tasks.py
--rw-r--r--  2.0 unx    45946 b- defN 24-Mar-26 14:39 NEMO/views/timed_services.py
--rw-r--r--  2.0 unx    33513 b- defN 24-Mar-26 14:39 NEMO/views/tool_control.py
--rw-r--r--  2.0 unx     7884 b- defN 24-Mar-26 14:39 NEMO/views/training.py
--rw-r--r--  2.0 unx    35865 b- defN 24-Mar-26 14:39 NEMO/views/training_new.py
--rw-r--r--  2.0 unx     2164 b- defN 24-Mar-26 14:39 NEMO/views/tutorials.py
--rw-r--r--  2.0 unx    21395 b- defN 24-Mar-26 14:39 NEMO/views/usage.py
--rw-r--r--  2.0 unx     1220 b- defN 24-Mar-26 14:39 NEMO/views/user_requests.py
--rw-r--r--  2.0 unx    26030 b- defN 24-Mar-26 14:39 NEMO/views/users.py
--rw-r--r--  2.0 unx        0 b- defN 24-Mar-26 14:39 NEMO/widgets/__init__.py
--rw-r--r--  2.0 unx     4096 b- defN 24-Mar-26 14:39 NEMO/widgets/configuration_editor.py
--rw-r--r--  2.0 unx    39513 b- defN 24-Mar-26 14:39 NEMO/widgets/dynamic_form.py
--rw-r--r--  2.0 unx     9709 b- defN 24-Mar-26 14:39 NEMO/widgets/item_tree.py
--rw-rw-rw-  2.0 unx     1865 b- defN 24-Mar-26 14:40 NEMO_CE-2.3.3.dist-info/LICENSE.md
--rw-r--r--  2.0 unx     1626 b- defN 24-Mar-26 14:40 NEMO_CE-2.3.3.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Mar-26 14:40 NEMO_CE-2.3.3.dist-info/WHEEL
--rw-r--r--  2.0 unx       55 b- defN 24-Mar-26 14:40 NEMO_CE-2.3.3.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       19 b- defN 24-Mar-26 14:40 NEMO_CE-2.3.3.dist-info/top_level.txt
--rw-rw-r--  2.0 unx    54292 b- defN 24-Mar-26 14:40 NEMO_CE-2.3.3.dist-info/RECORD
-546 files, 7764737 bytes uncompressed, 1668557 bytes compressed:  78.5%
+Zip file size: 1790328 bytes, number of entries: 559
+-rw-r--r--  2.0 unx     1389 b- defN 24-Apr-18 01:20 NEMO/__init__.py
+-rw-r--r--  2.0 unx     8701 b- defN 24-Apr-18 01:20 NEMO/actions.py
+-rw-r--r--  2.0 unx    79413 b- defN 24-Apr-18 01:20 NEMO/admin.py
+-rw-r--r--  2.0 unx     5722 b- defN 24-Apr-18 01:20 NEMO/context_processors.py
+-rw-r--r--  2.0 unx     7337 b- defN 24-Apr-18 01:20 NEMO/decorators.py
+-rw-r--r--  2.0 unx     4757 b- defN 24-Apr-18 01:20 NEMO/evaluators.py
+-rw-r--r--  2.0 unx     4987 b- defN 24-Apr-18 01:20 NEMO/exceptions.py
+-rw-r--r--  2.0 unx     4342 b- defN 24-Apr-18 01:20 NEMO/fields.py
+-rw-r--r--  2.0 unx    21569 b- defN 24-Apr-18 01:20 NEMO/forms.py
+-rw-r--r--  2.0 unx    22250 b- defN 24-Apr-18 01:20 NEMO/interlocks.py
+-rw-r--r--  2.0 unx     6338 b- defN 24-Apr-18 01:20 NEMO/middleware.py
+-rw-r--r--  2.0 unx     2308 b- defN 24-Apr-18 01:20 NEMO/migrations_utils.py
+-rw-r--r--  2.0 unx    13219 b- defN 24-Apr-18 01:20 NEMO/mixins.py
+-rw-r--r--  2.0 unx     4632 b- defN 24-Apr-18 01:20 NEMO/model_tree.py
+-rw-r--r--  2.0 unx   244693 b- defN 24-Apr-18 01:20 NEMO/models.py
+-rw-r--r--  2.0 unx     1654 b- defN 24-Apr-18 01:20 NEMO/parsers.py
+-rw-r--r--  2.0 unx      949 b- defN 24-Apr-18 01:20 NEMO/permissions.py
+-rw-r--r--  2.0 unx    61997 b- defN 24-Apr-18 01:20 NEMO/policy.py
+-rw-r--r--  2.0 unx    10691 b- defN 24-Apr-18 01:20 NEMO/provisioning.py
+-rw-r--r--  2.0 unx     6697 b- defN 24-Apr-18 01:20 NEMO/rates.py
+-rw-r--r--  2.0 unx     1167 b- defN 24-Apr-18 01:20 NEMO/rest_filter_backend.py
+-rw-r--r--  2.0 unx      155 b- defN 24-Apr-18 01:20 NEMO/rest_pagination.py
+-rw-r--r--  2.0 unx    19700 b- defN 24-Apr-18 01:20 NEMO/serializers.py
+-rw-r--r--  2.0 unx      266 b- defN 24-Apr-18 01:20 NEMO/typing.py
+-rw-r--r--  2.0 unx    39662 b- defN 24-Apr-18 01:20 NEMO/urls.py
+-rw-r--r--  2.0 unx    28697 b- defN 24-Apr-18 01:20 NEMO/utilities.py
+-rw-r--r--  2.0 unx     1000 b- defN 24-Apr-18 01:20 NEMO/validators.py
+-rw-r--r--  2.0 unx       88 b- defN 24-Apr-18 01:20 NEMO/wsgi.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/__init__.py
+-rw-r--r--  2.0 unx      729 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/urls.py
+-rw-r--r--  2.0 unx    15442 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/views.py
+-rw-rw-rw-  2.0 unx      304 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/static/area_access/area_access.css
+-rw-rw-rw-  2.0 unx     1608 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/alerts.html
+-rw-rw-rw-  2.0 unx     1910 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/already_logged_in.html
+-rw-rw-rw-  2.0 unx      350 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/badge_not_found.html
+-rw-rw-rw-  2.0 unx     9831 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/base.html
+-rw-rw-rw-  2.0 unx      719 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/choose_area.html
+-rw-rw-rw-  2.0 unx      829 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/choose_project.html
+-rw-rw-rw-  2.0 unx       55 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/door_is_open.html
+-rw-rw-rw-  2.0 unx      213 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/farewell_screen.html
+-rw-rw-rw-  2.0 unx      144 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/inactive.html
+-rw-rw-rw-  2.0 unx      418 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/login_success.html
+-rw-rw-rw-  2.0 unx     1323 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/logout_success.html
+-rw-rw-rw-  2.0 unx     1755 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/logout_warning.html
+-rw-rw-rw-  2.0 unx      240 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/no_active_projects.html
+-rw-rw-rw-  2.0 unx      339 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/not_logged_in.html
+-rw-rw-rw-  2.0 unx      211 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/physical_access_denied.html
+-rw-rw-rw-  2.0 unx      593 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/resource_unavailable.html
+-rw-rw-rw-  2.0 unx      219 b- defN 24-Apr-18 01:20 NEMO/apps/area_access/templates/area_access/welcome_screen.html
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/__init__.py
+-rw-r--r--  2.0 unx     4294 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/admin.py
+-rw-r--r--  2.0 unx      212 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/apps.py
+-rw-r--r--  2.0 unx      439 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/customization.py
+-rw-r--r--  2.0 unx     5550 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/models.py
+-rw-r--r--  2.0 unx      838 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/urls.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/management/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/management/commands/__init__.py
+-rw-r--r--  2.0 unx      347 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/management/commands/send_email_contract_reminders.py
+-rw-rw-rw-  2.0 unx     7785 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/migrations/0001_initial.py
+-rw-rw-rw-  2.0 unx      983 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/migrations/0002_increase_document_path_length.py
+-rw-rw-rw-  2.0 unx     1529 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/migrations/0003_documents_display_order.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/migrations/__init__.py
+-rw-rw-rw-  2.0 unx     4369 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/templates/contracts/contractors.html
+-rw-rw-rw-  2.0 unx     4746 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/templates/contracts/contracts_and_procurements.html
+-rw-rw-rw-  2.0 unx     3744 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/templates/contracts/procurements.html
+-rw-rw-rw-  2.0 unx     5178 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/templates/contracts/service_contracts.html
+-rw-rw-rw-  2.0 unx     3577 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/templates/customizations/customizations_contracts.html
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/views/__init__.py
+-rw-r--r--  2.0 unx    11009 b- defN 24-Apr-18 01:20 NEMO/apps/contracts/views/contracts.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/__init__.py
+-rw-r--r--  2.0 unx     2937 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/urls.py
+-rw-r--r--  2.0 unx    27460 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/views.py
+-rw-rw-rw-  2.0 unx      116 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/static/kiosk/kiosk.css
+-rw-rw-rw-  2.0 unx     1336 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/acknowledgement.html
+-rw-rw-rw-  2.0 unx     2575 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/category_choices.html
+-rw-rw-rw-  2.0 unx     2362 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/choices.html
+-rw-rw-rw-  2.0 unx     1223 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/error.html
+-rw-rw-rw-  2.0 unx     4368 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/individual_reservation.html
+-rw-rw-rw-  2.0 unx    17889 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/kiosk.html
+-rw-rw-rw-  2.0 unx     1003 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/success.html
+-rw-rw-rw-  2.0 unx    30511 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/tool_information.html
+-rw-rw-rw-  2.0 unx     3493 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/tool_post_comment.html
+-rw-rw-rw-  2.0 unx     1631 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/tool_project_selection_snippet.html
+-rw-rw-rw-  2.0 unx     6244 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/tool_report_problem.html
+-rw-rw-rw-  2.0 unx     4111 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/tool_reservation.html
+-rw-rw-rw-  2.0 unx     2159 b- defN 24-Apr-18 01:20 NEMO/apps/kiosk/templates/kiosk/tool_reservation_extra.html
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/__init__.py
+-rw-r--r--  2.0 unx      305 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migration_utils.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/management/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/management/commands/__init__.py
+-rw-r--r--  2.0 unx     2992 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/management/commands/makemigrations.py
+-rw-rw-rw-  2.0 unx     1196 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0001_ce_tool_accessories.py
+-rw-rw-rw-  2.0 unx      697 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0002_ce_tool_reservation_required.py
+-rw-rw-rw-  2.0 unx    16877 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0003_ce_training_module.py
+-rw-rw-rw-  2.0 unx     2657 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0004_ce_qualification_levels.py
+-rw-rw-rw-  2.0 unx      624 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0005_ce_add_project_to_training_request.py
+-rw-rw-rw-  2.0 unx     1543 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0006_ce_qualification_history_in_training.py
+-rw-rw-rw-  2.0 unx     1125 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0007_ce_recording_training_events.py
+-rw-rw-rw-  2.0 unx      535 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0008_ce_qualification_level_in_training_history.py
+-rw-rw-rw-  2.0 unx     1274 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0009_ce_add_tool_grant_qualification_levels.py
+-rw-rw-rw-  2.0 unx      934 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0010_ce_add_invitation_only_training.py
+-rw-rw-rw-  2.0 unx     9690 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0011_ce_shadowing_verification.py
+-rw-rw-rw-  2.0 unx     3739 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0012_ce_notification_types_update.py
+-rw-rw-rw-  2.0 unx      930 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0013_ce_shadowing_reviewers_in_tool.py
+-rw-rw-rw-  2.0 unx      833 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0014_ce_remove_default_value_tool_shadowing.py
+-rw-rw-rw-  2.0 unx    11068 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0015_ce_precursor_configurations.py
+-rw-rw-rw-  2.0 unx      638 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0016_ce_precursor_config_allow_duplicates.py
+-rw-rw-rw-  2.0 unx     1741 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0017_ce_training_request_message.py
+-rw-rw-rw-  2.0 unx      769 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0018_ce_training_qualification.py
+-rw-rw-rw-  2.0 unx      714 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/0019_tool_training_details_without_area_access.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/nemo_ce/migrations/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/__init__.py
+-rw-r--r--  2.0 unx    10252 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/admin.py
+-rw-r--r--  2.0 unx      968 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/customizations.py
+-rw-r--r--  2.0 unx     2767 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/evaluators.py
+-rw-r--r--  2.0 unx    14350 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/models.py
+-rw-r--r--  2.0 unx     8715 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/sensors.py
+-rw-r--r--  2.0 unx      829 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/urls.py
+-rw-r--r--  2.0 unx     6227 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/views.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/management/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/management/commands/__init__.py
+-rw-r--r--  2.0 unx      272 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/management/commands/manage_sensor_data.py
+-rw-rw-rw-  2.0 unx     9355 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/migrations/0001_initial.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/migrations/__init__.py
+-rw-rw-rw-  2.0 unx   408236 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/static/sensors/chart.js
+-rw-rw-rw-  2.0 unx   195090 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/static/sensors/chart.min.js
+-rw-rw-rw-  2.0 unx     1376 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/static/sensors/chartjs-adapter-moment.js
+-rw-rw-rw-  2.0 unx     7659 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/static/sensors/daterangepicker.css
+-rw-rw-rw-  2.0 unx    66305 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/static/sensors/daterangepicker.js
+-rw-rw-rw-  2.0 unx      608 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/static/sensors/sensors.css
+-rw-rw-rw-  2.0 unx     8089 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/templates/customizations/customizations_sensors.html
+-rw-rw-rw-  2.0 unx      347 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/templates/sensors/sensor_alerts.html
+-rw-rw-rw-  2.0 unx    16375 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/templates/sensors/sensor_data.html
+-rw-rw-rw-  2.0 unx     4202 b- defN 24-Apr-18 01:20 NEMO/apps/sensors/templates/sensors/sensors.html
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/management/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/management/commands/__init__.py
+-rw-r--r--  2.0 unx      382 b- defN 24-Apr-18 01:20 NEMO/management/commands/area_auto_logout_users.py
+-rw-r--r--  2.0 unx      428 b- defN 24-Apr-18 01:20 NEMO/management/commands/auto_validate_charges.py
+-rw-r--r--  2.0 unx      418 b- defN 24-Apr-18 01:20 NEMO/management/commands/cancel_unused_reservations.py
+-rw-r--r--  2.0 unx      437 b- defN 24-Apr-18 01:20 NEMO/management/commands/check_and_update_wait_list.py
+-rw-r--r--  2.0 unx      415 b- defN 24-Apr-18 01:20 NEMO/management/commands/create_closure_alerts.py
+-rw-r--r--  2.0 unx      409 b- defN 24-Apr-18 01:20 NEMO/management/commands/manage_recurring_charges.py
+-rw-r--r--  2.0 unx      464 b- defN 24-Apr-18 01:20 NEMO/management/commands/manage_tool_qualifications.py
+-rw-r--r--  2.0 unx      444 b- defN 24-Apr-18 01:20 NEMO/management/commands/send_email_grant_access.py
+-rw-r--r--  2.0 unx      450 b- defN 24-Apr-18 01:20 NEMO/management/commands/send_email_out_of_time_reservation_notification.py
+-rw-r--r--  2.0 unx      448 b- defN 24-Apr-18 01:20 NEMO/management/commands/send_email_reservation_ending_reminders.py
+-rw-r--r--  2.0 unx      441 b- defN 24-Apr-18 01:20 NEMO/management/commands/send_email_reservation_reminders.py
+-rw-r--r--  2.0 unx      328 b- defN 24-Apr-18 01:20 NEMO/management/commands/send_email_scheduled_outage_reminders.py
+-rw-r--r--  2.0 unx      596 b- defN 24-Apr-18 01:20 NEMO/management/commands/send_email_usage_reminders.py
+-rw-r--r--  2.0 unx      489 b- defN 24-Apr-18 01:20 NEMO/management/commands/send_email_user_access_expiration_reminders.py
+-rw-r--r--  2.0 unx      432 b- defN 24-Apr-18 01:20 NEMO/management/commands/send_email_weekend_access_notification.py
+-rw-rw-rw-  2.0 unx    64712 b- defN 24-Apr-18 01:20 NEMO/migrations/0001_version_1_0_0.py
+-rw-rw-rw-  2.0 unx    39249 b- defN 24-Apr-18 01:20 NEMO/migrations/0002_version_1_0_0_squashed.py
+-rw-rw-rw-  2.0 unx     8955 b- defN 24-Apr-18 01:20 NEMO/migrations/0012_version_2_0_0_squashed.py
+-rw-rw-rw-  2.0 unx    11366 b- defN 24-Apr-18 01:20 NEMO/migrations/0020_version_3_0_0.py
+-rw-rw-rw-  2.0 unx     1931 b- defN 24-Apr-18 01:20 NEMO/migrations/0021_version_3_1_0.py
+-rw-rw-rw-  2.0 unx     1187 b- defN 24-Apr-18 01:20 NEMO/migrations/0022_version_3_3_0.py
+-rw-rw-rw-  2.0 unx     1220 b- defN 24-Apr-18 01:20 NEMO/migrations/0023_badgereader.py
+-rw-rw-rw-  2.0 unx      799 b- defN 24-Apr-18 01:20 NEMO/migrations/0024_contactinformation_user.py
+-rw-rw-rw-  2.0 unx     3863 b- defN 24-Apr-18 01:20 NEMO/migrations/0025_version_3_6_0.py
+-rw-rw-rw-  2.0 unx     6944 b- defN 24-Apr-18 01:20 NEMO/migrations/0026_version_3_7_0.py
+-rw-rw-rw-  2.0 unx      419 b- defN 24-Apr-18 01:20 NEMO/migrations/0027_version_3_8_0.py
+-rw-rw-rw-  2.0 unx     2665 b- defN 24-Apr-18 01:20 NEMO/migrations/0028_version_3_9_0.py
+-rw-rw-rw-  2.0 unx     1221 b- defN 24-Apr-18 01:20 NEMO/migrations/0030_version_3_9_2.py
+-rw-rw-rw-  2.0 unx     3190 b- defN 24-Apr-18 01:20 NEMO/migrations/0031_version_3_10_0.py
+-rw-rw-rw-  2.0 unx     3972 b- defN 24-Apr-18 01:20 NEMO/migrations/0032_version_3_11_0.py
+-rw-rw-rw-  2.0 unx      371 b- defN 24-Apr-18 01:20 NEMO/migrations/0033_version_3_12_0.py
+-rw-rw-rw-  2.0 unx      371 b- defN 24-Apr-18 01:20 NEMO/migrations/0034_version_3_13_0.py
+-rw-rw-rw-  2.0 unx     8846 b- defN 24-Apr-18 01:20 NEMO/migrations/0035_version_3_14_0.py
+-rw-rw-rw-  2.0 unx     9890 b- defN 24-Apr-18 01:20 NEMO/migrations/0036_version_3_15_0.py
+-rw-rw-rw-  2.0 unx     4101 b- defN 24-Apr-18 01:20 NEMO/migrations/0037_version_3_16_0.py
+-rw-rw-rw-  2.0 unx      934 b- defN 24-Apr-18 01:20 NEMO/migrations/0038_version_4_0_0.py
+-rw-rw-rw-  2.0 unx     4010 b- defN 24-Apr-18 01:20 NEMO/migrations/0039_version_4_1_0.py
+-rw-rw-rw-  2.0 unx     2896 b- defN 24-Apr-18 01:20 NEMO/migrations/0040_version_4_2_0.py
+-rw-rw-rw-  2.0 unx      516 b- defN 24-Apr-18 01:20 NEMO/migrations/0041_version_4_2_1.py
+-rw-rw-rw-  2.0 unx    20584 b- defN 24-Apr-18 01:20 NEMO/migrations/0042_version_4_3_0.py
+-rw-rw-rw-  2.0 unx      570 b- defN 24-Apr-18 01:20 NEMO/migrations/0043_version_4_3_2.py
+-rw-rw-rw-  2.0 unx     6333 b- defN 24-Apr-18 01:20 NEMO/migrations/0044_version_4_4_0.py
+-rw-rw-rw-  2.0 unx    16787 b- defN 24-Apr-18 01:20 NEMO/migrations/0045_version_4_5_0.py
+-rw-rw-rw-  2.0 unx     2606 b- defN 24-Apr-18 01:20 NEMO/migrations/0045_version_4_5_5.py
+-rw-rw-rw-  2.0 unx     3370 b- defN 24-Apr-18 01:20 NEMO/migrations/0046_version_4_6_0.py
+-rw-rw-rw-  2.0 unx      419 b- defN 24-Apr-18 01:20 NEMO/migrations/0047_version_4_6_1.py
+-rw-rw-rw-  2.0 unx      685 b- defN 24-Apr-18 01:20 NEMO/migrations/0048_version_4_6_3.py
+-rw-rw-rw-  2.0 unx      835 b- defN 24-Apr-18 01:20 NEMO/migrations/0049_version_4_7_0.py
+-rw-rw-rw-  2.0 unx      765 b- defN 24-Apr-18 01:20 NEMO/migrations/0050_consumable_add_self_checkout_and_notes.py
+-rw-rw-rw-  2.0 unx     7273 b- defN 24-Apr-18 01:20 NEMO/migrations/0051_request_reviewers_in_tool_and_area.py
+-rw-rw-rw-  2.0 unx      957 b- defN 24-Apr-18 01:20 NEMO/migrations/0052_area_add_auto_logout_time.py
+-rw-rw-rw-  2.0 unx      782 b- defN 24-Apr-18 01:20 NEMO/migrations/0053_consumable_withdraw_add_usage_event_link.py
+-rw-rw-rw-  2.0 unx     1712 b- defN 24-Apr-18 01:20 NEMO/migrations/0054_documents_update_max_length.py
+-rw-rw-rw-  2.0 unx     7122 b- defN 24-Apr-18 01:20 NEMO/migrations/0055_reservationconfigurationoption.py
+-rw-rw-rw-  2.0 unx      436 b- defN 24-Apr-18 01:20 NEMO/migrations/0056_version_5_2_0.py
+-rw-rw-rw-  2.0 unx      419 b- defN 24-Apr-18 01:20 NEMO/migrations/0057_version_5_3_0.py
+-rw-rw-rw-  2.0 unx      858 b- defN 24-Apr-18 01:20 NEMO/migrations/0058_reservation_confirmation_override_prefs.py
+-rw-rw-rw-  2.0 unx      801 b- defN 24-Apr-18 01:20 NEMO/migrations/0059_tool_pre_usage_questions.py
+-rw-rw-rw-  2.0 unx      704 b- defN 24-Apr-18 01:20 NEMO/migrations/0060_add_impersonate_permission.py
+-rw-rw-rw-  2.0 unx      346 b- defN 24-Apr-18 01:20 NEMO/migrations/0061_alter_interlock_unique_together.py
+-rw-rw-rw-  2.0 unx     1047 b- defN 24-Apr-18 01:20 NEMO/migrations/0062_migrate_email_upcoming_reservation.py
+-rw-rw-rw-  2.0 unx     6993 b- defN 24-Apr-18 01:20 NEMO/migrations/0063_knowledge_base.py
+-rw-rw-rw-  2.0 unx      641 b- defN 24-Apr-18 01:20 NEMO/migrations/0064_consumable_self_checkout_only_users.py
+-rw-rw-rw-  2.0 unx      769 b- defN 24-Apr-18 01:20 NEMO/migrations/0065_door_adjacent_area.py
+-rw-rw-rw-  2.0 unx      636 b- defN 24-Apr-18 01:20 NEMO/migrations/0066_tool_ask_to_leave_area_when_done_using.py
+-rw-rw-rw-  2.0 unx      526 b- defN 24-Apr-18 01:20 NEMO/migrations/0067_project_allow_staff_charges.py
+-rw-rw-rw-  2.0 unx     2040 b- defN 24-Apr-18 01:20 NEMO/migrations/0068_door_multiple_areas.py
+-rw-rw-rw-  2.0 unx      425 b- defN 24-Apr-18 01:20 NEMO/migrations/0069_version_5_5_0.py
+-rw-rw-rw-  2.0 unx     1234 b- defN 24-Apr-18 01:20 NEMO/migrations/0070_calendar_axis_time_format_rename.py
+-rw-rw-rw-  2.0 unx     3061 b- defN 24-Apr-18 01:20 NEMO/migrations/0071_wait_list.py
+-rw-rw-rw-  2.0 unx     3959 b- defN 24-Apr-18 01:20 NEMO/migrations/0072_documents_display_order.py
+-rw-rw-rw-  2.0 unx     1797 b- defN 24-Apr-18 01:20 NEMO/migrations/0073_knowledge_safety_items_display_order.py
+-rw-rw-rw-  2.0 unx     1403 b- defN 24-Apr-18 01:20 NEMO/migrations/0074_scheduled_outage_reminders.py
+-rw-rw-rw-  2.0 unx      914 b- defN 24-Apr-18 01:20 NEMO/migrations/0075_adjustmentrequest_applied.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/migrations/__init__.py
+-rw-rw-rw-  2.0 unx     1615 b- defN 24-Apr-18 01:20 NEMO/static/badge_reader.js
+-rw-rw-rw-  2.0 unx     1150 b- defN 24-Apr-18 01:20 NEMO/static/favicon.ico
+-rw-rw-rw-  2.0 unx   247387 b- defN 24-Apr-18 01:20 NEMO/static/jquery.js
+-rw-rw-rw-  2.0 unx    84320 b- defN 24-Apr-18 01:20 NEMO/static/jquery.min.js
+-rw-rw-rw-  2.0 unx  1183392 b- defN 24-Apr-18 01:20 NEMO/static/jumbotron_watermark.bmp
+-rw-rw-rw-  2.0 unx     1017 b- defN 24-Apr-18 01:20 NEMO/static/mobile.js
+-rw-rw-rw-  2.0 unx   174603 b- defN 24-Apr-18 01:20 NEMO/static/moment.js
+-rw-rw-rw-  2.0 unx    58102 b- defN 24-Apr-18 01:20 NEMO/static/moment.min.js
+-rw-rw-rw-  2.0 unx    86041 b- defN 24-Apr-18 01:20 NEMO/static/moment.min.js.map
+-rw-rw-rw-  2.0 unx    19345 b- defN 24-Apr-18 01:20 NEMO/static/nemo.css
+-rw-rw-rw-  2.0 unx    24089 b- defN 24-Apr-18 01:20 NEMO/static/nemo.js
+-rw-rw-rw-  2.0 unx       25 b- defN 24-Apr-18 01:20 NEMO/static/robots.txt
+-rw-rw-rw-  2.0 unx    48446 b- defN 24-Apr-18 01:20 NEMO/static/typeahead.jquery.js
+-rw-rw-rw-  2.0 unx    20748 b- defN 24-Apr-18 01:20 NEMO/static/typeahead.jquery.min.js
+-rw-rw-rw-  2.0 unx     1225 b- defN 24-Apr-18 01:20 NEMO/static/admin/time_options_override.js
+-rw-rw-rw-  2.0 unx     4209 b- defN 24-Apr-18 01:20 NEMO/static/admin/dynamic_form_preview/dynamic_form_preview.css
+-rw-rw-rw-  2.0 unx     2586 b- defN 24-Apr-18 01:20 NEMO/static/admin/dynamic_form_preview/dynamic_form_preview.js
+-rw-rw-rw-  2.0 unx      607 b- defN 24-Apr-18 01:20 NEMO/static/admin/physical_access_level/access_level.js
+-rw-rw-rw-  2.0 unx     1300 b- defN 24-Apr-18 01:20 NEMO/static/admin/tool/tool.js
+-rw-rw-rw-  2.0 unx    22608 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/css/bootstrap-theme.css
+-rw-rw-rw-  2.0 unx    43339 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/css/bootstrap-theme.css.map
+-rw-rw-rw-  2.0 unx    19963 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/css/bootstrap-theme.min.css
+-rw-rw-rw-  2.0 unx   141622 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/css/bootstrap.css
+-rw-rw-rw-  2.0 unx   380986 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/css/bootstrap.css.map
+-rw-rw-rw-  2.0 unx   117305 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/css/bootstrap.min.css
+-rw-rw-rw-  2.0 unx    20127 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/fonts/glyphicons-halflings-regular.eot
+-rw-rw-rw-  2.0 unx   108738 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/fonts/glyphicons-halflings-regular.svg
+-rw-rw-rw-  2.0 unx    45404 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/fonts/glyphicons-halflings-regular.ttf
+-rw-rw-rw-  2.0 unx    23424 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/fonts/glyphicons-halflings-regular.woff
+-rw-rw-rw-  2.0 unx    18028 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/fonts/glyphicons-halflings-regular.woff2
+-rw-rw-rw-  2.0 unx    67546 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/js/bootstrap.js
+-rw-rw-rw-  2.0 unx    35951 b- defN 24-Apr-18 01:20 NEMO/static/bootstrap/js/bootstrap.min.js
+-rw-rw-rw-  2.0 unx     9020 b- defN 24-Apr-18 01:20 NEMO/static/datetimepicker/bootstrap-datetimepicker.css
+-rw-rw-rw-  2.0 unx   105978 b- defN 24-Apr-18 01:20 NEMO/static/datetimepicker/bootstrap-datetimepicker.js
+-rw-rw-rw-  2.0 unx    28531 b- defN 24-Apr-18 01:20 NEMO/static/fullcalendar/fullcalendar.css
+-rw-rw-rw-  2.0 unx   358115 b- defN 24-Apr-18 01:20 NEMO/static/fullcalendar/fullcalendar.js
+-rw-rw-rw-  2.0 unx    13687 b- defN 24-Apr-18 01:20 NEMO/static/fullcalendar/fullcalendar.min.css
+-rw-rw-rw-  2.0 unx   166724 b- defN 24-Apr-18 01:20 NEMO/static/fullcalendar/fullcalendar.min.js
+-rw-rw-rw-  2.0 unx    24065 b- defN 24-Apr-18 01:20 NEMO/static/icons/agreement.png
+-rw-rw-rw-  2.0 unx    16685 b- defN 24-Apr-18 01:20 NEMO/static/icons/caution.png
+-rw-rw-rw-  2.0 unx     4664 b- defN 24-Apr-18 01:20 NEMO/static/icons/preferences.png
+-rw-rw-rw-  2.0 unx    12285 b- defN 24-Apr-18 01:20 NEMO/static/numpad/custom_numpad.jquery.js
+-rw-rw-rw-  2.0 unx      255 b- defN 24-Apr-18 01:20 NEMO/static/numpad/numpad.jquery.css
+-rw-rw-rw-  2.0 unx     3795 b- defN 24-Apr-18 01:20 NEMO/static/pickadate/default.css
+-rw-rw-rw-  2.0 unx     6040 b- defN 24-Apr-18 01:20 NEMO/static/pickadate/default.date.css
+-rw-rw-rw-  2.0 unx     2785 b- defN 24-Apr-18 01:20 NEMO/static/pickadate/default.time.css
+-rw-rw-rw-  2.0 unx    48215 b- defN 24-Apr-18 01:20 NEMO/static/pickadate/picker.date.js
+-rw-rw-rw-  2.0 unx    36941 b- defN 24-Apr-18 01:20 NEMO/static/pickadate/picker.js
+-rw-rw-rw-  2.0 unx    31899 b- defN 24-Apr-18 01:20 NEMO/static/pickadate/picker.time.js
+-rw-rw-rw-  2.0 unx   113008 b- defN 24-Apr-18 01:20 NEMO/static/virtualkeyboard/jquery.keyboard.js
+-rw-rw-rw-  2.0 unx    47325 b- defN 24-Apr-18 01:20 NEMO/static/virtualkeyboard/jquery.keyboard.min.js
+-rw-rw-rw-  2.0 unx     7848 b- defN 24-Apr-18 01:20 NEMO/static/virtualkeyboard/keyboard-basic.css
+-rw-rw-rw-  2.0 unx     5889 b- defN 24-Apr-18 01:20 NEMO/static/virtualkeyboard/keyboard-basic.min.css
+-rw-rw-rw-  2.0 unx      458 b- defN 24-Apr-18 01:20 NEMO/templates/acknowledgement.html
+-rw-rw-rw-  2.0 unx     6619 b- defN 24-Apr-18 01:20 NEMO/templates/alerts.html
+-rw-rw-rw-  2.0 unx      992 b- defN 24-Apr-18 01:20 NEMO/templates/authorization_failed.html
+-rw-rw-rw-  2.0 unx     7301 b- defN 24-Apr-18 01:20 NEMO/templates/base.html
+-rw-rw-rw-  2.0 unx    11550 b- defN 24-Apr-18 01:20 NEMO/templates/configuration_agenda.html
+-rw-rw-rw-  2.0 unx      508 b- defN 24-Apr-18 01:20 NEMO/templates/display_success_and_redirect.html
+-rw-rw-rw-  2.0 unx      478 b- defN 24-Apr-18 01:20 NEMO/templates/facility_rules.html
+-rw-rw-rw-  2.0 unx     1452 b- defN 24-Apr-18 01:20 NEMO/templates/feedback.html
+-rw-rw-rw-  2.0 unx     1359 b- defN 24-Apr-18 01:20 NEMO/templates/history.html
+-rw-rw-rw-  2.0 unx     1475 b- defN 24-Apr-18 01:20 NEMO/templates/impersonate.html
+-rw-rw-rw-  2.0 unx    13293 b- defN 24-Apr-18 01:20 NEMO/templates/landing.html
+-rw-rw-rw-  2.0 unx     4657 b- defN 24-Apr-18 01:20 NEMO/templates/login.html
+-rw-rw-rw-  2.0 unx      213 b- defN 24-Apr-18 01:20 NEMO/templates/no_project.html
+-rw-rw-rw-  2.0 unx     4468 b- defN 24-Apr-18 01:20 NEMO/templates/qualifications.html
+-rw-rw-rw-  2.0 unx     5685 b- defN 24-Apr-18 01:20 NEMO/templates/refresh_sidebar_icons.html
+-rw-rw-rw-  2.0 unx     5236 b- defN 24-Apr-18 01:20 NEMO/templates/abuse/abuse.html
+-rw-rw-rw-  2.0 unx      819 b- defN 24-Apr-18 01:20 NEMO/templates/abuse/user_drill_down.html
+-rw-rw-rw-  2.0 unx     9016 b- defN 24-Apr-18 01:20 NEMO/templates/accounts_and_projects/account_and_projects.html
+-rw-rw-rw-  2.0 unx     7399 b- defN 24-Apr-18 01:20 NEMO/templates/accounts_and_projects/accounts_and_projects.html
+-rw-rw-rw-  2.0 unx     3388 b- defN 24-Apr-18 01:20 NEMO/templates/accounts_and_projects/create_account.html
+-rw-rw-rw-  2.0 unx     7972 b- defN 24-Apr-18 01:20 NEMO/templates/accounts_and_projects/create_project.html
+-rw-rw-rw-  2.0 unx     1025 b- defN 24-Apr-18 01:20 NEMO/templates/accounts_and_projects/documents_for_project.html
+-rw-rw-rw-  2.0 unx     4165 b- defN 24-Apr-18 01:20 NEMO/templates/accounts_and_projects/projects.html
+-rw-rw-rw-  2.0 unx    10631 b- defN 24-Apr-18 01:20 NEMO/templates/accounts_and_projects/transfer_charges.html
+-rw-rw-rw-  2.0 unx     1121 b- defN 24-Apr-18 01:20 NEMO/templates/accounts_and_projects/users_for_project.html
+-rw-rw-rw-  2.0 unx     4262 b- defN 24-Apr-18 01:20 NEMO/templates/area_access/area_access.html
+-rw-rw-rw-  2.0 unx     2172 b- defN 24-Apr-18 01:20 NEMO/templates/area_access/calendar_self_login.html
+-rw-rw-rw-  2.0 unx     1361 b- defN 24-Apr-18 01:20 NEMO/templates/area_access/change_project.html
+-rw-rw-rw-  2.0 unx     1608 b- defN 24-Apr-18 01:20 NEMO/templates/area_access/login_areas.html
+-rw-rw-rw-  2.0 unx     1388 b- defN 24-Apr-18 01:20 NEMO/templates/area_access/new_area_access_record.html
+-rw-rw-rw-  2.0 unx     2536 b- defN 24-Apr-18 01:20 NEMO/templates/area_access/new_area_access_record_details.html
+-rw-rw-rw-  2.0 unx     1894 b- defN 24-Apr-18 01:20 NEMO/templates/area_access/self_login.html
+-rw-rw-rw-  2.0 unx      376 b- defN 24-Apr-18 01:20 NEMO/templates/base/footer.html
+-rw-rw-rw-  2.0 unx      310 b- defN 24-Apr-18 01:20 NEMO/templates/base/impersonate_header.html
+-rw-rw-rw-  2.0 unx       38 b- defN 24-Apr-18 01:20 NEMO/templates/base/navbar.html
+-rw-rw-rw-  2.0 unx    12906 b- defN 24-Apr-18 01:20 NEMO/templates/base/navbar_base.html
+-rw-rw-rw-  2.0 unx      440 b- defN 24-Apr-18 01:20 NEMO/templates/base/popup.html
+-rw-rw-rw-  2.0 unx      738 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/accessories.html
+-rw-rw-rw-  2.0 unx     1953 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/accessories_helper.html
+-rw-rw-rw-  2.0 unx    39641 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/calendar.html
+-rw-rw-rw-  2.0 unx     1577 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/configuration.html
+-rw-rw-rw-  2.0 unx      991 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/configuration_event_feed.html
+-rw-rw-rw-  2.0 unx     8533 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/new_training_event.html
+-rw-rw-rw-  2.0 unx     1417 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/policy_dialog.html
+-rw-rw-rw-  2.0 unx     1525 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/project_choice.html
+-rw-rw-rw-  2.0 unx     1660 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/proxy_reservation.html
+-rw-rw-rw-  2.0 unx     3691 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/reservation_event_feed.html
+-rw-rw-rw-  2.0 unx     1782 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/reservation_questions.html
+-rw-rw-rw-  2.0 unx     1745 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/reservation_warning.html
+-rw-rw-rw-  2.0 unx    10688 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/scheduled_outage_information.html
+-rw-rw-rw-  2.0 unx     2029 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/specific_user_feed.html
+-rw-rw-rw-  2.0 unx     2612 b- defN 24-Apr-18 01:20 NEMO/templates/calendar/usage_event_feed.html
+-rw-rw-rw-  2.0 unx      820 b- defN 24-Apr-18 01:20 NEMO/templates/configuration/configuration_history.html
+-rw-rw-rw-  2.0 unx     1687 b- defN 24-Apr-18 01:20 NEMO/templates/configuration/configuration_line_item.html
+-rw-rw-rw-  2.0 unx     9022 b- defN 24-Apr-18 01:20 NEMO/templates/configuration/configuration_reservation_helper.html
+-rw-rw-rw-  2.0 unx    11089 b- defN 24-Apr-18 01:20 NEMO/templates/consumables/consumables.html
+-rw-rw-rw-  2.0 unx     1617 b- defN 24-Apr-18 01:20 NEMO/templates/consumables/consumables_order.html
+-rw-rw-rw-  2.0 unx    13475 b- defN 24-Apr-18 01:20 NEMO/templates/consumables/recurring_charge.html
+-rw-rw-rw-  2.0 unx     5868 b- defN 24-Apr-18 01:20 NEMO/templates/consumables/recurring_charges.html
+-rw-rw-rw-  2.0 unx     1077 b- defN 24-Apr-18 01:20 NEMO/templates/contact/contact_staff.html
+-rw-rw-rw-  2.0 unx     1853 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations.html
+-rw-rw-rw-  2.0 unx    11038 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_application.html
+-rw-rw-rw-  2.0 unx    16320 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_calendar.html
+-rw-rw-rw-  2.0 unx    11917 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_dashboard.html
+-rw-rw-rw-  2.0 unx     4641 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_emails.html
+-rw-rw-rw-  2.0 unx     2806 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_interlock.html
+-rw-rw-rw-  2.0 unx     2647 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_knowledge_base.html
+-rw-rw-rw-  2.0 unx     7799 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_projects_and_accounts.html
+-rw-rw-rw-  2.0 unx     2535 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_rates.html
+-rw-rw-rw-  2.0 unx     4133 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_recurring_charges.html
+-rw-rw-rw-  2.0 unx     2907 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_remote_work.html
+-rw-rw-rw-  2.0 unx    21418 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_requests.html
+-rw-rw-rw-  2.0 unx     5071 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_safety.html
+-rw-rw-rw-  2.0 unx     3619 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_shadowing_verification.html
+-rw-rw-rw-  2.0 unx    36172 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_templates.html
+-rw-rw-rw-  2.0 unx    26833 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_tool.html
+-rw-rw-rw-  2.0 unx     9748 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_training.html
+-rw-rw-rw-  2.0 unx     1866 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_upload.html
+-rw-rw-rw-  2.0 unx     6186 b- defN 24-Apr-18 01:20 NEMO/templates/customizations/customizations_user.html
+-rw-rw-rw-  2.0 unx    11342 b- defN 24-Apr-18 01:20 NEMO/templates/email/compose_email.html
+-rw-rw-rw-  2.0 unx     4906 b- defN 24-Apr-18 01:20 NEMO/templates/email/email_broadcast.html
+-rw-rw-rw-  2.0 unx     1454 b- defN 24-Apr-18 01:20 NEMO/templates/email/email_form.html
+-rw-rw-rw-  2.0 unx      843 b- defN 24-Apr-18 01:20 NEMO/templates/event_details/area_access_details.html
+-rw-rw-rw-  2.0 unx     8728 b- defN 24-Apr-18 01:20 NEMO/templates/event_details/outage_details.html
+-rw-rw-rw-  2.0 unx    14532 b- defN 24-Apr-18 01:20 NEMO/templates/event_details/reservation_details.html
+-rw-rw-rw-  2.0 unx     5665 b- defN 24-Apr-18 01:20 NEMO/templates/event_details/training_event_details.html
+-rw-rw-rw-  2.0 unx      623 b- defN 24-Apr-18 01:20 NEMO/templates/event_details/usage_details.html
+-rw-rw-rw-  2.0 unx     2441 b- defN 24-Apr-18 01:20 NEMO/templates/jumbotron/jumbotron.html
+-rw-rw-rw-  2.0 unx     5826 b- defN 24-Apr-18 01:20 NEMO/templates/jumbotron/jumbotron_content.html
+-rw-rw-rw-  2.0 unx     3655 b- defN 24-Apr-18 01:20 NEMO/templates/knowledge_base/knowledge_base.html
+-rw-rw-rw-  2.0 unx     1115 b- defN 24-Apr-18 01:20 NEMO/templates/knowledge_base/knowledge_base_base.html
+-rw-rw-rw-  2.0 unx     3317 b- defN 24-Apr-18 01:20 NEMO/templates/knowledge_base/knowledge_base_items.html
+-rw-rw-rw-  2.0 unx     2182 b- defN 24-Apr-18 01:20 NEMO/templates/maintenance/closed_task_details.html
+-rw-rw-rw-  2.0 unx     7551 b- defN 24-Apr-18 01:20 NEMO/templates/maintenance/maintenance.html
+-rw-rw-rw-  2.0 unx    10855 b- defN 24-Apr-18 01:20 NEMO/templates/maintenance/pending_task_details.html
+-rw-rw-rw-  2.0 unx      916 b- defN 24-Apr-18 01:20 NEMO/templates/mobile/cancellation_result.html
+-rw-rw-rw-  2.0 unx     2535 b- defN 24-Apr-18 01:20 NEMO/templates/mobile/choose_item.html
+-rw-rw-rw-  2.0 unx      522 b- defN 24-Apr-18 01:20 NEMO/templates/mobile/error.html
+-rw-rw-rw-  2.0 unx     1224 b- defN 24-Apr-18 01:20 NEMO/templates/mobile/individual_outage.html
+-rw-rw-rw-  2.0 unx     4710 b- defN 24-Apr-18 01:20 NEMO/templates/mobile/individual_reservation.html
+-rw-rw-rw-  2.0 unx     2575 b- defN 24-Apr-18 01:20 NEMO/templates/mobile/individual_training_event.html
+-rw-rw-rw-  2.0 unx     4814 b- defN 24-Apr-18 01:20 NEMO/templates/mobile/new_reservation.html
+-rw-rw-rw-  2.0 unx      334 b- defN 24-Apr-18 01:20 NEMO/templates/mobile/no_active_projects.html
+-rw-rw-rw-  2.0 unx     1980 b- defN 24-Apr-18 01:20 NEMO/templates/mobile/reservation_extra.html
+-rw-rw-rw-  2.0 unx      894 b- defN 24-Apr-18 01:20 NEMO/templates/mobile/reservation_success.html
+-rw-rw-rw-  2.0 unx     2253 b- defN 24-Apr-18 01:20 NEMO/templates/mobile/view_calendar.html
+-rw-rw-rw-  2.0 unx     1299 b- defN 24-Apr-18 01:20 NEMO/templates/news/archived_news.html
+-rw-rw-rw-  2.0 unx     1319 b- defN 24-Apr-18 01:20 NEMO/templates/news/new_news_form.html
+-rw-rw-rw-  2.0 unx     1363 b- defN 24-Apr-18 01:20 NEMO/templates/news/news_update_form.html
+-rw-rw-rw-  2.0 unx     2537 b- defN 24-Apr-18 01:20 NEMO/templates/news/recent_news.html
+-rw-rw-rw-  2.0 unx      655 b- defN 24-Apr-18 01:20 NEMO/templates/occupancy/occupancy.html
+-rw-rw-rw-  2.0 unx     2700 b- defN 24-Apr-18 01:20 NEMO/templates/occupancy/occupancy_content.html
+-rw-rw-rw-  2.0 unx     1229 b- defN 24-Apr-18 01:20 NEMO/templates/occupancy/occupancy_count.html
+-rw-rw-rw-  2.0 unx      839 b- defN 24-Apr-18 01:20 NEMO/templates/pagination/pagination_base.html
+-rw-rw-rw-  2.0 unx      768 b- defN 24-Apr-18 01:20 NEMO/templates/pagination/pagination_column.html
+-rw-rw-rw-  2.0 unx      658 b- defN 24-Apr-18 01:20 NEMO/templates/pagination/pagination_pages.html
+-rw-rw-rw-  2.0 unx      651 b- defN 24-Apr-18 01:20 NEMO/templates/pagination/pagination_selector.html
+-rw-rw-rw-  2.0 unx    13396 b- defN 24-Apr-18 01:20 NEMO/templates/remote_work/remote_work.html
+-rw-rw-rw-  2.0 unx     1089 b- defN 24-Apr-18 01:20 NEMO/templates/remote_work/remote_work_base.html
+-rw-rw-rw-  2.0 unx     6203 b- defN 24-Apr-18 01:20 NEMO/templates/requests/user_requests.html
+-rw-rw-rw-  2.0 unx     9117 b- defN 24-Apr-18 01:20 NEMO/templates/requests/access_requests/access_request.html
+-rw-rw-rw-  2.0 unx     3845 b- defN 24-Apr-18 01:20 NEMO/templates/requests/access_requests/access_requests.html
+-rw-rw-rw-  2.0 unx     3784 b- defN 24-Apr-18 01:20 NEMO/templates/requests/access_requests/access_requests_table.html
+-rw-rw-rw-  2.0 unx    10645 b- defN 24-Apr-18 01:20 NEMO/templates/requests/adjustment_requests/adjustment_request.html
+-rw-rw-rw-  2.0 unx     4894 b- defN 24-Apr-18 01:20 NEMO/templates/requests/adjustment_requests/adjustment_requests.html
+-rw-rw-rw-  2.0 unx     8466 b- defN 24-Apr-18 01:20 NEMO/templates/requests/adjustment_requests/adjustment_requests_table.html
+-rw-rw-rw-  2.0 unx     4779 b- defN 24-Apr-18 01:20 NEMO/templates/requests/buddy_requests/buddy_request.html
+-rw-rw-rw-  2.0 unx     5734 b- defN 24-Apr-18 01:20 NEMO/templates/requests/buddy_requests/buddy_requests.html
+-rw-rw-rw-  2.0 unx     4080 b- defN 24-Apr-18 01:20 NEMO/templates/resources/modify_resource.html
+-rw-rw-rw-  2.0 unx     5358 b- defN 24-Apr-18 01:20 NEMO/templates/resources/resource_details.html
+-rw-rw-rw-  2.0 unx     1642 b- defN 24-Apr-18 01:20 NEMO/templates/resources/resources.html
+-rw-rw-rw-  2.0 unx    11406 b- defN 24-Apr-18 01:20 NEMO/templates/resources/scheduled_outage.html
+-rw-rw-rw-  2.0 unx     2941 b- defN 24-Apr-18 01:20 NEMO/templates/rest_framework/api.html
+-rw-rw-rw-  2.0 unx      433 b- defN 24-Apr-18 01:20 NEMO/templates/rest_framework/custom_error.html
+-rw-rw-rw-  2.0 unx     3126 b- defN 24-Apr-18 01:20 NEMO/templates/safety/safety.html
+-rw-rw-rw-  2.0 unx     1679 b- defN 24-Apr-18 01:20 NEMO/templates/safety/safety_base.html
+-rw-rw-rw-  2.0 unx     9496 b- defN 24-Apr-18 01:20 NEMO/templates/safety/safety_data_sheets.html
+-rw-rw-rw-  2.0 unx     2876 b- defN 24-Apr-18 01:20 NEMO/templates/safety/safety_issues.html
+-rw-rw-rw-  2.0 unx     2037 b- defN 24-Apr-18 01:20 NEMO/templates/safety/safety_issues_create.html
+-rw-rw-rw-  2.0 unx     2400 b- defN 24-Apr-18 01:20 NEMO/templates/safety/safety_issues_resolved.html
+-rw-rw-rw-  2.0 unx     2282 b- defN 24-Apr-18 01:20 NEMO/templates/safety/safety_issues_update.html
+-rw-rw-rw-  2.0 unx     2307 b- defN 24-Apr-18 01:20 NEMO/templates/safety/safety_items.html
+-rw-rw-rw-  2.0 unx    10658 b- defN 24-Apr-18 01:20 NEMO/templates/shadowing_verification/shadowing_verification_request.html
+-rw-rw-rw-  2.0 unx     4678 b- defN 24-Apr-18 01:20 NEMO/templates/shadowing_verification/shadowing_verification_requests.html
+-rw-rw-rw-  2.0 unx     3844 b- defN 24-Apr-18 01:20 NEMO/templates/shadowing_verification/shadowing_verification_requests_table.html
+-rw-rw-rw-  2.0 unx      519 b- defN 24-Apr-18 01:20 NEMO/templates/snippets/button.html
+-rw-rw-rw-  2.0 unx     2422 b- defN 24-Apr-18 01:20 NEMO/templates/snippets/confirm_action_modal.html
+-rw-rw-rw-  2.0 unx     1059 b- defN 24-Apr-18 01:20 NEMO/templates/snippets/contact_person.html
+-rw-rw-rw-  2.0 unx      962 b- defN 24-Apr-18 01:20 NEMO/templates/snippets/document_list.html
+-rw-rw-rw-  2.0 unx     1285 b- defN 24-Apr-18 01:20 NEMO/templates/snippets/embedded_document.html
+-rw-rw-rw-  2.0 unx     1863 b- defN 24-Apr-18 01:20 NEMO/templates/snippets/tool_info.html
+-rw-rw-rw-  2.0 unx      948 b- defN 24-Apr-18 01:20 NEMO/templates/staff_charges/change_status.html
+-rw-rw-rw-  2.0 unx     1796 b- defN 24-Apr-18 01:20 NEMO/templates/staff_charges/choose_project.html
+-rw-rw-rw-  2.0 unx      625 b- defN 24-Apr-18 01:20 NEMO/templates/staff_charges/end_area_charge.html
+-rw-rw-rw-  2.0 unx     1284 b- defN 24-Apr-18 01:20 NEMO/templates/staff_charges/new_staff_charge.html
+-rw-rw-rw-  2.0 unx     1049 b- defN 24-Apr-18 01:20 NEMO/templates/staff_charges/reminder.html
+-rw-rw-rw-  2.0 unx     2145 b- defN 24-Apr-18 01:20 NEMO/templates/staff_charges/staff_charges_base.html
+-rw-rw-rw-  2.0 unx     2333 b- defN 24-Apr-18 01:20 NEMO/templates/status_dashboard/occupancy.html
+-rw-rw-rw-  2.0 unx    11703 b- defN 24-Apr-18 01:20 NEMO/templates/status_dashboard/staff.html
+-rw-rw-rw-  2.0 unx     8559 b- defN 24-Apr-18 01:20 NEMO/templates/status_dashboard/staff_absence.html
+-rw-rw-rw-  2.0 unx     7477 b- defN 24-Apr-18 01:20 NEMO/templates/status_dashboard/status_dashboard.html
+-rw-rw-rw-  2.0 unx     4927 b- defN 24-Apr-18 01:20 NEMO/templates/status_dashboard/tools.html
+-rw-rw-rw-  2.0 unx     3107 b- defN 24-Apr-18 01:20 NEMO/templates/tasks/resolve.html
+-rw-rw-rw-  2.0 unx     6800 b- defN 24-Apr-18 01:20 NEMO/templates/tasks/update.html
+-rw-rw-rw-  2.0 unx     1009 b- defN 24-Apr-18 01:20 NEMO/templates/tool_control/get_projects.html
+-rw-rw-rw-  2.0 unx      771 b- defN 24-Apr-18 01:20 NEMO/templates/tool_control/interlock_error.html
+-rw-rw-rw-  2.0 unx     1034 b- defN 24-Apr-18 01:20 NEMO/templates/tool_control/logout_user.html
+-rw-rw-rw-  2.0 unx     5162 b- defN 24-Apr-18 01:20 NEMO/templates/tool_control/past_tasks_and_comments.html
+-rw-rw-rw-  2.0 unx     5333 b- defN 24-Apr-18 01:20 NEMO/templates/tool_control/qualified_users.html
+-rw-rw-rw-  2.0 unx    17516 b- defN 24-Apr-18 01:20 NEMO/templates/tool_control/tool_control.html
+-rw-rw-rw-  2.0 unx    62480 b- defN 24-Apr-18 01:20 NEMO/templates/tool_control/tool_status.html
+-rw-rw-rw-  2.0 unx    10808 b- defN 24-Apr-18 01:20 NEMO/templates/tool_control/usage_data.html
+-rw-rw-rw-  2.0 unx      422 b- defN 24-Apr-18 01:20 NEMO/templates/tool_control/use_tool_for_other.html
+-rw-rw-rw-  2.0 unx      557 b- defN 24-Apr-18 01:20 NEMO/templates/training/get_projects.html
+-rw-rw-rw-  2.0 unx      491 b- defN 24-Apr-18 01:20 NEMO/templates/training/training.html
+-rw-rw-rw-  2.0 unx     8005 b- defN 24-Apr-18 01:20 NEMO/templates/training/training_entry.html
+-rw-rw-rw-  2.0 unx     5729 b- defN 24-Apr-18 01:20 NEMO/templates/training/training_recording.html
+-rw-rw-rw-  2.0 unx     3665 b- defN 24-Apr-18 01:20 NEMO/templates/training_new/training_base.html
+-rw-rw-rw-  2.0 unx     6447 b- defN 24-Apr-18 01:20 NEMO/templates/training_new/training_history.html
+-rw-rw-rw-  2.0 unx     2148 b- defN 24-Apr-18 01:20 NEMO/templates/training_new/training_sessions.html
+-rw-rw-rw-  2.0 unx    15144 b- defN 24-Apr-18 01:20 NEMO/templates/training_new/training_events/create_event.html
+-rw-rw-rw-  2.0 unx     1023 b- defN 24-Apr-18 01:20 NEMO/templates/training_new/training_events/manage_training_events.html
+-rw-rw-rw-  2.0 unx     2868 b- defN 24-Apr-18 01:20 NEMO/templates/training_new/training_events/manage_training_events_table.html
+-rw-rw-rw-  2.0 unx      171 b- defN 24-Apr-18 01:20 NEMO/templates/training_new/training_events/schedule_training_events.html
+-rw-rw-rw-  2.0 unx     5984 b- defN 24-Apr-18 01:20 NEMO/templates/training_new/training_events/schedule_training_events_list.html
+-rw-rw-rw-  2.0 unx     4695 b- defN 24-Apr-18 01:20 NEMO/templates/training_new/training_events/upcoming_training_events.html
+-rw-rw-rw-  2.0 unx    14366 b- defN 24-Apr-18 01:20 NEMO/templates/training_new/training_requests/create_request.html
+-rw-rw-rw-  2.0 unx     6469 b- defN 24-Apr-18 01:20 NEMO/templates/training_new/training_requests/training_requests.html
+-rw-rw-rw-  2.0 unx     1475 b- defN 24-Apr-18 01:20 NEMO/templates/usage/adjustment_request_button.html
+-rw-rw-rw-  2.0 unx     5458 b- defN 24-Apr-18 01:20 NEMO/templates/usage/billing.html
+-rw-rw-rw-  2.0 unx    11290 b- defN 24-Apr-18 01:20 NEMO/templates/usage/usage.html
+-rw-rw-rw-  2.0 unx    10680 b- defN 24-Apr-18 01:20 NEMO/templates/usage/usage_base.html
+-rw-rw-rw-  2.0 unx    32025 b- defN 24-Apr-18 01:20 NEMO/templates/users/create_or_modify_user.html
+-rw-rw-rw-  2.0 unx    21255 b- defN 24-Apr-18 01:20 NEMO/templates/users/preferences.html
+-rw-rw-rw-  2.0 unx     5399 b- defN 24-Apr-18 01:20 NEMO/templates/users/safe_deactivation.html
+-rw-rw-rw-  2.0 unx     5563 b- defN 24-Apr-18 01:20 NEMO/templates/users/users.html
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/templatetags/__init__.py
+-rw-r--r--  2.0 unx    10107 b- defN 24-Apr-18 01:20 NEMO/templatetags/custom_tags_and_filters.py
+-rw-r--r--  2.0 unx      293 b- defN 24-Apr-18 01:20 NEMO/templatetags/training_tags.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/tests/__init__.py
+-rw-r--r--  2.0 unx    29763 b- defN 24-Apr-18 01:20 NEMO/tests/test_area_access.py
+-rw-r--r--  2.0 unx    10126 b- defN 24-Apr-18 01:20 NEMO/tests/test_closures.py
+-rw-r--r--  2.0 unx    24973 b- defN 24-Apr-18 01:20 NEMO/tests/test_consumables.py
+-rw-r--r--  2.0 unx    15018 b- defN 24-Apr-18 01:20 NEMO/tests/test_dynamic_form.py
+-rw-r--r--  2.0 unx     3680 b- defN 24-Apr-18 01:20 NEMO/tests/test_evaluators.py
+-rw-r--r--  2.0 unx     3246 b- defN 24-Apr-18 01:20 NEMO/tests/test_formats.py
+-rw-r--r--  2.0 unx     1970 b- defN 24-Apr-18 01:20 NEMO/tests/test_misc.py
+-rw-r--r--  2.0 unx     5092 b- defN 24-Apr-18 01:20 NEMO/tests/test_settings.py
+-rw-r--r--  2.0 unx    12226 b- defN 24-Apr-18 01:20 NEMO/tests/test_shadowing_verification.py
+-rw-r--r--  2.0 unx     1133 b- defN 24-Apr-18 01:20 NEMO/tests/test_staff_charges.py
+-rw-r--r--  2.0 unx    14940 b- defN 24-Apr-18 01:20 NEMO/tests/test_tool.py
+-rw-r--r--  2.0 unx    20459 b- defN 24-Apr-18 01:20 NEMO/tests/test_urls.py
+-rw-r--r--  2.0 unx     3382 b- defN 24-Apr-18 01:20 NEMO/tests/test_utilities.py
+-rw-r--r--  2.0 unx    35424 b- defN 24-Apr-18 01:20 NEMO/tests/test_waitlist.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/tests/test_api/__init__.py
+-rw-r--r--  2.0 unx     4198 b- defN 24-Apr-18 01:20 NEMO/tests/test_api/test_billing.py
+-rw-r--r--  2.0 unx     5747 b- defN 24-Apr-18 01:20 NEMO/tests/test_api/test_crud.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/tests/test_calendar/__init__.py
+-rw-r--r--  2.0 unx    33680 b- defN 24-Apr-18 01:20 NEMO/tests/test_calendar/test_area_reservation.py
+-rw-r--r--  2.0 unx     1041 b- defN 24-Apr-18 01:20 NEMO/tests/test_calendar/test_calendar.py
+-rw-r--r--  2.0 unx    23117 b- defN 24-Apr-18 01:20 NEMO/tests/test_calendar/test_outage.py
+-rw-r--r--  2.0 unx    11729 b- defN 24-Apr-18 01:20 NEMO/tests/test_calendar/test_tool_freed_time.py
+-rw-r--r--  2.0 unx    18987 b- defN 24-Apr-18 01:20 NEMO/tests/test_calendar/test_tool_qualification_expiration.py
+-rw-r--r--  2.0 unx    30266 b- defN 24-Apr-18 01:20 NEMO/tests/test_calendar/test_tool_reservation.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/tests/test_ce/__init__.py
+-rw-r--r--  2.0 unx     6754 b- defN 24-Apr-18 01:20 NEMO/tests/test_ce/test_grant_access_email.py
+-rw-r--r--  2.0 unx     2609 b- defN 24-Apr-18 01:20 NEMO/tests/test_ce/test_precursor_schedule.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/tests/test_interlocks/__init__.py
+-rw-r--r--  2.0 unx     3597 b- defN 24-Apr-18 01:20 NEMO/tests/test_interlocks/test_modbus_interlock.py
+-rw-r--r--  2.0 unx    11445 b- defN 24-Apr-18 01:20 NEMO/tests/test_interlocks/test_stanford_interlock.py
+-rw-r--r--  2.0 unx     7059 b- defN 24-Apr-18 01:20 NEMO/tests/test_interlocks/test_web_relay_interlock.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/tests/test_requests/__init__.py
+-rw-r--r--  2.0 unx     9460 b- defN 24-Apr-18 01:20 NEMO/tests/test_requests/test_adjustment_requests.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/tests/test_sensors/__init__.py
+-rw-r--r--  2.0 unx     2139 b- defN 24-Apr-18 01:20 NEMO/tests/test_sensors/test_modbus_sensors.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/views/__init__.py
+-rw-r--r--  2.0 unx     5483 b- defN 24-Apr-18 01:20 NEMO/views/abuse.py
+-rw-r--r--  2.0 unx    12996 b- defN 24-Apr-18 01:20 NEMO/views/access_requests.py
+-rw-r--r--  2.0 unx    14401 b- defN 24-Apr-18 01:20 NEMO/views/accounts_and_projects.py
+-rw-r--r--  2.0 unx    22729 b- defN 24-Apr-18 01:20 NEMO/views/adjustment_requests.py
+-rw-r--r--  2.0 unx     1987 b- defN 24-Apr-18 01:20 NEMO/views/alerts.py
+-rw-r--r--  2.0 unx    27751 b- defN 24-Apr-18 01:20 NEMO/views/api.py
+-rw-r--r--  2.0 unx    13969 b- defN 24-Apr-18 01:20 NEMO/views/api_billing.py
+-rw-r--r--  2.0 unx     2700 b- defN 24-Apr-18 01:20 NEMO/views/api_file_import.py
+-rw-r--r--  2.0 unx    21857 b- defN 24-Apr-18 01:20 NEMO/views/area_access.py
+-rw-r--r--  2.0 unx    13996 b- defN 24-Apr-18 01:20 NEMO/views/authentication.py
+-rw-r--r--  2.0 unx     7251 b- defN 24-Apr-18 01:20 NEMO/views/buddy_requests.py
+-rw-r--r--  2.0 unx    63458 b- defN 24-Apr-18 01:20 NEMO/views/calendar.py
+-rw-r--r--  2.0 unx     4033 b- defN 24-Apr-18 01:20 NEMO/views/charge_validation.py
+-rw-r--r--  2.0 unx     2914 b- defN 24-Apr-18 01:20 NEMO/views/configuration_agenda.py
+-rw-r--r--  2.0 unx      486 b- defN 24-Apr-18 01:20 NEMO/views/constants.py
+-rw-r--r--  2.0 unx    12946 b- defN 24-Apr-18 01:20 NEMO/views/consumables.py
+-rw-r--r--  2.0 unx      488 b- defN 24-Apr-18 01:20 NEMO/views/contact_staff.py
+-rw-r--r--  2.0 unx    28846 b- defN 24-Apr-18 01:20 NEMO/views/customization.py
+-rw-r--r--  2.0 unx     3763 b- defN 24-Apr-18 01:20 NEMO/views/documents.py
+-rw-r--r--  2.0 unx    14787 b- defN 24-Apr-18 01:20 NEMO/views/email.py
+-rw-r--r--  2.0 unx     2735 b- defN 24-Apr-18 01:20 NEMO/views/event_details.py
+-rw-r--r--  2.0 unx     1616 b- defN 24-Apr-18 01:20 NEMO/views/feedback.py
+-rw-r--r--  2.0 unx     1947 b- defN 24-Apr-18 01:20 NEMO/views/get_projects.py
+-rw-r--r--  2.0 unx     5457 b- defN 24-Apr-18 01:20 NEMO/views/history.py
+-rw-r--r--  2.0 unx     1221 b- defN 24-Apr-18 01:20 NEMO/views/jumbotron.py
+-rw-r--r--  2.0 unx     3967 b- defN 24-Apr-18 01:20 NEMO/views/knowledge_base.py
+-rw-r--r--  2.0 unx     3763 b- defN 24-Apr-18 01:20 NEMO/views/landing.py
+-rw-r--r--  2.0 unx     3007 b- defN 24-Apr-18 01:20 NEMO/views/maintenance.py
+-rw-r--r--  2.0 unx    10662 b- defN 24-Apr-18 01:20 NEMO/views/mobile.py
+-rw-r--r--  2.0 unx     3793 b- defN 24-Apr-18 01:20 NEMO/views/news.py
+-rw-r--r--  2.0 unx     7585 b- defN 24-Apr-18 01:20 NEMO/views/notifications.py
+-rw-r--r--  2.0 unx     1542 b- defN 24-Apr-18 01:20 NEMO/views/pagination.py
+-rw-r--r--  2.0 unx     9256 b- defN 24-Apr-18 01:20 NEMO/views/qualifications.py
+-rw-r--r--  2.0 unx    11231 b- defN 24-Apr-18 01:20 NEMO/views/remote_work.py
+-rw-r--r--  2.0 unx     4284 b- defN 24-Apr-18 01:20 NEMO/views/resources.py
+-rw-r--r--  2.0 unx     9657 b- defN 24-Apr-18 01:20 NEMO/views/safety.py
+-rw-r--r--  2.0 unx    15977 b- defN 24-Apr-18 01:20 NEMO/views/shadowing_verification.py
+-rw-r--r--  2.0 unx      980 b- defN 24-Apr-18 01:20 NEMO/views/sidebar.py
+-rw-r--r--  2.0 unx    23498 b- defN 24-Apr-18 01:20 NEMO/views/status_dashboard.py
+-rw-r--r--  2.0 unx    16825 b- defN 24-Apr-18 01:20 NEMO/views/tasks.py
+-rw-r--r--  2.0 unx    53963 b- defN 24-Apr-18 01:20 NEMO/views/timed_services.py
+-rw-r--r--  2.0 unx    36681 b- defN 24-Apr-18 01:20 NEMO/views/tool_control.py
+-rw-r--r--  2.0 unx     7948 b- defN 24-Apr-18 01:20 NEMO/views/training.py
+-rw-r--r--  2.0 unx    36009 b- defN 24-Apr-18 01:20 NEMO/views/training_new.py
+-rw-r--r--  2.0 unx     2164 b- defN 24-Apr-18 01:20 NEMO/views/tutorials.py
+-rw-r--r--  2.0 unx    21511 b- defN 24-Apr-18 01:20 NEMO/views/usage.py
+-rw-r--r--  2.0 unx     1204 b- defN 24-Apr-18 01:20 NEMO/views/user_requests.py
+-rw-r--r--  2.0 unx    26058 b- defN 24-Apr-18 01:20 NEMO/views/users.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-18 01:20 NEMO/widgets/__init__.py
+-rw-r--r--  2.0 unx     4096 b- defN 24-Apr-18 01:20 NEMO/widgets/configuration_editor.py
+-rw-r--r--  2.0 unx    39555 b- defN 24-Apr-18 01:20 NEMO/widgets/dynamic_form.py
+-rw-r--r--  2.0 unx     9709 b- defN 24-Apr-18 01:20 NEMO/widgets/item_tree.py
+-rw-rw-rw-  2.0 unx     1865 b- defN 24-Apr-18 01:20 NEMO_CE-2.4.0.dist-info/LICENSE.md
+-rw-r--r--  2.0 unx     1790 b- defN 24-Apr-18 01:20 NEMO_CE-2.4.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-18 01:20 NEMO_CE-2.4.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       55 b- defN 24-Apr-18 01:20 NEMO_CE-2.4.0.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       19 b- defN 24-Apr-18 01:20 NEMO_CE-2.4.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx    55703 b- defN 24-Apr-18 01:20 NEMO_CE-2.4.0.dist-info/RECORD
+559 files, 8092106 bytes uncompressed, 1699894 bytes compressed:  79.0%
```

## zipnote {}

```diff
@@ -177,14 +177,17 @@
 
 Filename: NEMO/apps/contracts/migrations/0001_initial.py
 Comment: 
 
 Filename: NEMO/apps/contracts/migrations/0002_increase_document_path_length.py
 Comment: 
 
+Filename: NEMO/apps/contracts/migrations/0003_documents_display_order.py
+Comment: 
+
 Filename: NEMO/apps/contracts/migrations/__init__.py
 Comment: 
 
 Filename: NEMO/apps/contracts/templates/contracts/contractors.html
 Comment: 
 
 Filename: NEMO/apps/contracts/templates/contracts/contracts_and_procurements.html
@@ -237,17 +240,23 @@
 
 Filename: NEMO/apps/kiosk/templates/kiosk/success.html
 Comment: 
 
 Filename: NEMO/apps/kiosk/templates/kiosk/tool_information.html
 Comment: 
 
+Filename: NEMO/apps/kiosk/templates/kiosk/tool_post_comment.html
+Comment: 
+
 Filename: NEMO/apps/kiosk/templates/kiosk/tool_project_selection_snippet.html
 Comment: 
 
+Filename: NEMO/apps/kiosk/templates/kiosk/tool_report_problem.html
+Comment: 
+
 Filename: NEMO/apps/kiosk/templates/kiosk/tool_reservation.html
 Comment: 
 
 Filename: NEMO/apps/kiosk/templates/kiosk/tool_reservation_extra.html
 Comment: 
 
 Filename: NEMO/apps/nemo_ce/__init__.py
@@ -405,14 +414,17 @@
 
 Filename: NEMO/management/commands/auto_validate_charges.py
 Comment: 
 
 Filename: NEMO/management/commands/cancel_unused_reservations.py
 Comment: 
 
+Filename: NEMO/management/commands/check_and_update_wait_list.py
+Comment: 
+
 Filename: NEMO/management/commands/create_closure_alerts.py
 Comment: 
 
 Filename: NEMO/management/commands/manage_recurring_charges.py
 Comment: 
 
 Filename: NEMO/management/commands/manage_tool_qualifications.py
@@ -426,14 +438,17 @@
 
 Filename: NEMO/management/commands/send_email_reservation_ending_reminders.py
 Comment: 
 
 Filename: NEMO/management/commands/send_email_reservation_reminders.py
 Comment: 
 
+Filename: NEMO/management/commands/send_email_scheduled_outage_reminders.py
+Comment: 
+
 Filename: NEMO/management/commands/send_email_usage_reminders.py
 Comment: 
 
 Filename: NEMO/management/commands/send_email_user_access_expiration_reminders.py
 Comment: 
 
 Filename: NEMO/management/commands/send_email_weekend_access_notification.py
@@ -591,14 +606,35 @@
 
 Filename: NEMO/migrations/0067_project_allow_staff_charges.py
 Comment: 
 
 Filename: NEMO/migrations/0068_door_multiple_areas.py
 Comment: 
 
+Filename: NEMO/migrations/0069_version_5_5_0.py
+Comment: 
+
+Filename: NEMO/migrations/0070_calendar_axis_time_format_rename.py
+Comment: 
+
+Filename: NEMO/migrations/0071_wait_list.py
+Comment: 
+
+Filename: NEMO/migrations/0072_documents_display_order.py
+Comment: 
+
+Filename: NEMO/migrations/0073_knowledge_safety_items_display_order.py
+Comment: 
+
+Filename: NEMO/migrations/0074_scheduled_outage_reminders.py
+Comment: 
+
+Filename: NEMO/migrations/0075_adjustmentrequest_applied.py
+Comment: 
+
 Filename: NEMO/migrations/__init__.py
 Comment: 
 
 Filename: NEMO/static/badge_reader.js
 Comment: 
 
 Filename: NEMO/static/favicon.ico
@@ -1392,14 +1428,17 @@
 
 Filename: NEMO/tests/test_urls.py
 Comment: 
 
 Filename: NEMO/tests/test_utilities.py
 Comment: 
 
+Filename: NEMO/tests/test_waitlist.py
+Comment: 
+
 Filename: NEMO/tests/test_api/__init__.py
 Comment: 
 
 Filename: NEMO/tests/test_api/test_billing.py
 Comment: 
 
 Filename: NEMO/tests/test_api/test_crud.py
@@ -1614,26 +1653,26 @@
 
 Filename: NEMO/widgets/dynamic_form.py
 Comment: 
 
 Filename: NEMO/widgets/item_tree.py
 Comment: 
 
-Filename: NEMO_CE-2.3.3.dist-info/LICENSE.md
+Filename: NEMO_CE-2.4.0.dist-info/LICENSE.md
 Comment: 
 
-Filename: NEMO_CE-2.3.3.dist-info/METADATA
+Filename: NEMO_CE-2.4.0.dist-info/METADATA
 Comment: 
 
-Filename: NEMO_CE-2.3.3.dist-info/WHEEL
+Filename: NEMO_CE-2.4.0.dist-info/WHEEL
 Comment: 
 
-Filename: NEMO_CE-2.3.3.dist-info/entry_points.txt
+Filename: NEMO_CE-2.4.0.dist-info/entry_points.txt
 Comment: 
 
-Filename: NEMO_CE-2.3.3.dist-info/top_level.txt
+Filename: NEMO_CE-2.4.0.dist-info/top_level.txt
 Comment: 
 
-Filename: NEMO_CE-2.3.3.dist-info/RECORD
+Filename: NEMO_CE-2.4.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## NEMO/actions.py

```diff
@@ -138,14 +138,19 @@
 
 
 @admin.action(description="Export selected adjustment requests in CSV")
 def adjustment_requests_export_csv(modeladmin, request, queryset):
     return adjustments_csv_export(queryset.all())
 
 
+@admin.action(description="Mark selected adjustment requests as applied")
+def adjustment_requests_mark_as_applied(modeladmin, request, queryset):
+    return queryset.update(applied=True, applied_by=request.user)
+
+
 @admin.action(description="Export selected access requests in CSV")
 def access_requests_export_csv(modeladmin, request, queryset):
     return access_csv_export(queryset.all())
 
 
 @admin.action(description="Export selected shadowing verification requests in CSV")
 def shadowing_verification_requests_export_csv(modeladmin, request, queryset):
```

## NEMO/admin.py

```diff
@@ -1,11 +1,12 @@
 import datetime
+import json
 
 from django import forms
-from django.contrib import admin
+from django.contrib import admin, messages
 from django.contrib.admin import register
 from django.contrib.admin.decorators import display
 from django.contrib.admin.widgets import FilteredSelectMultiple
 from django.contrib.auth.admin import GroupAdmin
 from django.contrib.auth.models import Group, Permission
 from django.contrib.contenttypes.admin import GenericStackedInline
 from django.contrib.contenttypes.models import ContentType
@@ -17,14 +18,15 @@
 from django.utils.safestring import mark_safe
 from django.utils.translation import gettext_lazy as _
 from mptt.admin import DraggableMPTTAdmin, MPTTAdminForm, TreeRelatedFieldListFilter
 
 from NEMO.actions import (
     access_requests_export_csv,
     adjustment_requests_export_csv,
+    adjustment_requests_mark_as_applied,
     create_next_interlock,
     disable_selected_cards,
     duplicate_configuration,
     duplicate_tool_configuration,
     enable_selected_cards,
     lock_selected_interlocks,
     rebuild_area_tree,
@@ -115,14 +117,15 @@
     ToolTrainingDetail,
     ToolUsageCounter,
     TrainingEvent,
     TrainingHistory,
     TrainingInvitation,
     TrainingRequest,
     TrainingRequestTime,
+    ToolWaitList,
     TrainingSession,
     TrainingTechnique,
     UsageEvent,
     User,
     UserDocuments,
     UserKnowledgeBaseCategory,
     UserKnowledgeBaseItem,
@@ -190,14 +193,30 @@
             self.fields["_interlock"].queryset = Interlock.objects.filter(
                 Q(id=self.instance._interlock_id) | Q(tool__isnull=True, door__isnull=True)
             )
         if self.instance.pk:
             self.fields["required_resources"].initial = self.instance.required_resource_set.all()
             self.fields["nonrequired_resources"].initial = self.instance.nonrequired_resource_set.all()
 
+    def clean__pre_usage_questions(self):
+        questions = self.cleaned_data["_pre_usage_questions"]
+        try:
+            return json.dumps(json.loads(questions), indent=4)
+        except:
+            pass
+        return questions
+
+    def clean__post_usage_questions(self):
+        questions = self.cleaned_data["_post_usage_questions"]
+        try:
+            return json.dumps(json.loads(questions), indent=4)
+        except:
+            pass
+        return questions
+
     def clean(self):
         cleaned_data = super().clean()
         image = cleaned_data.get("_image")
         errors = {}
 
         # Validate shadowing verification attributes
         if QualificationLevel.objects.exists():
@@ -206,20 +225,20 @@
                 and not cleaned_data["_shadowing_verification_request_qualification_levels"]
             ):
                 errors["_shadowing_verification_request_qualification_levels"] = "Qualification levels are required."
             elif (
                 not cleaned_data["_allow_user_shadowing_verification_request"]
                 and cleaned_data["_shadowing_verification_request_qualification_levels"]
             ):
-                errors[
-                    "_allow_user_shadowing_verification_request"
-                ] = "You cannot set qualification levels without allowing user shadowing verification."
-                errors[
-                    "_shadowing_verification_request_qualification_levels"
-                ] = "You cannot set qualification levels without allowing user shadowing verification."
+                errors["_allow_user_shadowing_verification_request"] = (
+                    "You cannot set qualification levels without allowing user shadowing verification."
+                )
+                errors["_shadowing_verification_request_qualification_levels"] = (
+                    "You cannot set qualification levels without allowing user shadowing verification."
+                )
 
         # only resize if an image is present and has changed
         if image and not isinstance(image, FieldFile):
             from NEMO.utilities import resize_image
 
             # resize image to 500x500 maximum
             cleaned_data["_image"] = resize_image(image, 500)
@@ -302,14 +321,15 @@
 class ToolAdmin(admin.ModelAdmin):
     inlines = [UserQualificationInline, ToolDocumentsInline]
     list_display = (
         "name_display",
         "_category",
         "visible",
         "operational_display",
+        "_operation_mode",
         "problematic",
         "is_configurable",
         "has_pre_usage_questions",
         "has_post_usage_questions",
         "id",
     )
     filter_horizontal = (
@@ -320,14 +340,15 @@
         "_grant_access_for_qualification_levels",
         "_shadowing_verification_request_qualification_levels",
     )
     search_fields = ("name", "_description", "_serial")
     list_filter = (
         "visible",
         "_operational",
+        "_operation_mode",
         "_category",
         "_location",
         ("_requires_area_access", admin.RelatedOnlyFieldListFilter),
     )
     readonly_fields = ("_post_usage_preview", "_pre_usage_preview")
     autocomplete_fields = [
         "_primary_owner",
@@ -340,14 +361,15 @@
         (
             None,
             {
                 "fields": (
                     "name",
                     "parent_tool",
                     "_category",
+                    "_operation_mode",
                     "_qualifications_never_expire",
                     "_pre_usage_questions",
                     "_pre_usage_preview",
                     "_post_usage_questions",
                     "_post_usage_preview",
                 )
             },
@@ -432,22 +454,35 @@
             kwargs["queryset"] = Tool.objects.filter(parent_tool__isnull=True)
         return super().formfield_for_foreignkey(db_field, request, **kwargs)
 
     def save_model(self, request, obj, form, change):
         """
         Explicitly record any project membership changes on non-child tools.
         """
+        if not obj.allow_wait_list() and obj.current_wait_list():
+            obj.current_wait_list().update(deleted=True)
+            messages.warning(
+                request,
+                f"The wait list for {obj} has been deleted because the current operation mode does not allow it.",
+            )
+
         super(ToolAdmin, self).save_model(request, obj, form, change)
         if not obj.parent_tool:
             if "required_resources" in form.changed_data:
                 obj.required_resource_set.set(form.cleaned_data["required_resources"])
             if "nonrequired_resources" in form.changed_data:
                 obj.nonrequired_resource_set.set(form.cleaned_data["nonrequired_resources"])
 
 
+@register(ToolWaitList)
+class ToolWaitList(admin.ModelAdmin):
+    list_display = ["tool", "user", "date_entered", "date_exited", "expired", "deleted"]
+    list_filter = ["deleted", "expired", "tool"]
+
+
 @register(ToolQualificationGroup)
 class ToolQualificationGroup(admin.ModelAdmin):
     list_display = ["name", "get_tools"]
     filter_horizontal = ["tools"]
 
     @admin.display(description="Tools", ordering="tools")
     def get_tools(self, obj: ToolQualificationGroup):
@@ -601,25 +636,31 @@
 
 
 @register(Configuration)
 class ConfigurationAdmin(admin.ModelAdmin):
     list_display = (
         "id",
         "tool",
+        "is_tool_visible",
         "name",
         "enabled",
         "qualified_users_are_maintainers",
         "display_order",
         "exclude_from_configuration_agenda",
         "slot_number",
     )
+    list_filter = ["enabled", ("tool", admin.RelatedOnlyFieldListFilter), "tool__visible"]
     filter_horizontal = ("maintainers",)
     actions = [duplicate_configuration]
     autocomplete_fields = ["tool"]
 
+    @admin.display(ordering="tool__visible", boolean=True, description="Tool visible")
+    def is_tool_visible(self, obj: Configuration):
+        return obj.tool.visible
+
     @admin.display(description="Slots")
     def slot_number(self, instance):
         return len(instance.range_of_configurable_items())
 
 
 class ConfigurationPrecursorSlotAdminFormset(BaseInlineFormSet):
     def clean(self):
@@ -828,14 +869,22 @@
         model = ReservationQuestions
         fields = "__all__"
 
     class Media:
         js = ("admin/dynamic_form_preview/dynamic_form_preview.js",)
         css = {"": ("admin/dynamic_form_preview/dynamic_form_preview.css",)}
 
+    def clean_questions(self):
+        questions = self.cleaned_data["questions"]
+        try:
+            return json.dumps(json.loads(questions), indent=4)
+        except:
+            pass
+        return questions
+
     def clean(self):
         cleaned_data = super().clean()
         reservation_questions = cleaned_data.get("questions")
         tool_reservations = cleaned_data.get("tool_reservations")
         only_tools = cleaned_data.get("only_for_tools")
         area_reservations = cleaned_data.get("area_reservations")
         only_areas = cleaned_data.get("only_for_areas")
@@ -1829,24 +1878,26 @@
     list_display = (
         "creator",
         "last_updated",
         "get_item",
         "get_time_difference",
         "get_status_display",
         "reply_count",
+        "applied",
         "deleted",
     )
     list_filter = (
         "status",
         "deleted",
+        "applied",
         ("creator", admin.RelatedOnlyFieldListFilter),
         ("reviewer", admin.RelatedOnlyFieldListFilter),
     )
     date_hierarchy = "last_updated"
-    actions = [adjustment_requests_export_csv]
+    actions = [adjustment_requests_export_csv, adjustment_requests_mark_as_applied]
 
     @admin.display(description="Diff")
     def get_time_difference(self, adjustment_request: AdjustmentRequest):
         return adjustment_request.get_time_difference()
 
     @admin.display(ordering="replies", description="Replies")
     def reply_count(self, adjustment_request: AdjustmentRequest):
```

## NEMO/forms.py

```diff
@@ -1,8 +1,11 @@
-from datetime import datetime
+from __future__ import annotations
+
+from datetime import datetime, time, timedelta
+from typing import Union
 
 from django.contrib.admin.widgets import FilteredSelectMultiple
 from django.core.exceptions import NON_FIELD_ERRORS, ValidationError
 from django.forms import (
     BaseForm,
     BooleanField,
     CharField,
@@ -13,27 +16,30 @@
     IntegerField,
     ModelChoiceField,
     ModelForm,
     ModelMultipleChoiceField,
 )
 from django.forms.utils import ErrorDict, ErrorList
 from django.utils import timezone
+from django.utils.translation import gettext_lazy as _
 
 from NEMO.models import (
     Account,
     AdjustmentRequest,
     Alert,
     AlertCategory,
+    Area,
     BuddyRequest,
     Comment,
     Consumable,
     ConsumableWithdraw,
     Project,
     RecurringConsumableCharge,
     ReservationItemType,
+    Resource,
     SafetyIssue,
     ScheduledOutage,
     ShadowingVerificationRequest,
     StaffAbsence,
     Task,
     TaskCategory,
     TaskImages,
@@ -41,15 +47,23 @@
     Tool,
     TrainingEvent,
     TrainingRequest,
     TrainingRequestTime,
     User,
     UserPreferences,
 )
-from NEMO.utilities import bootstrap_primary_color, format_datetime, quiet_int
+from NEMO.policy import policy_class as policy
+from NEMO.utilities import (
+    RecurrenceFrequency,
+    bootstrap_primary_color,
+    format_datetime,
+    get_recurring_rule,
+    localize,
+    quiet_int,
+)
 from NEMO.views.customization import UserRequestsCustomization
 
 
 class UserForm(ModelForm):
     class Meta:
         model = User
         exclude = [
@@ -68,15 +82,15 @@
             "qualifications",
         ]
 
 
 class ProjectForm(ModelForm):
     class Meta:
         model = Project
-        exclude = ["only_allow_tools", "allow_consumable_withdrawals"]
+        exclude = ["only_allow_tools", "allow_consumable_withdrawals", "allow_staff_charges"]
 
     principal_investigators = ModelMultipleChoiceField(
         queryset=User.objects.all(),
         required=False,
         widget=FilteredSelectMultiple(verbose_name="Principal investigators", is_stacked=False),
     )
 
@@ -379,21 +393,59 @@
         category = self.cleaned_data["category"]
         if not category and AlertCategory.objects.exists():
             raise ValidationError("Please select a category.")
         return category
 
 
 class ScheduledOutageForm(ModelForm):
-    def __init__(self, *positional_arguments, **keyword_arguments):
-        super().__init__(*positional_arguments, **keyword_arguments)
+    send_reminders = BooleanField(required=False, initial=False)
+    recurring_outage = BooleanField(required=False, initial=False)
+    recurrence_interval = IntegerField(required=False)
+    recurrence_frequency = ChoiceField(choices=RecurrenceFrequency.choices(), required=False)
+    recurrence_until = DateField(required=False)
+
+    def clean(self):
+        cleaned_data = super().clean()
+        errors = {}
+        recurring_outage = cleaned_data.get("recurring_outage", False)
+        recurrence_until = cleaned_data.get("recurrence_until")
+        recurrence_frequency = cleaned_data.get("recurrence_frequency")
+        recurrence_interval = cleaned_data.get("recurrence_interval")
+        if recurring_outage:
+            if not recurrence_interval:
+                errors["recurrence_interval"] = _("This field is required.")
+            if not recurrence_frequency:
+                errors["recurrence_frequency"] = _("This field is required.")
+            if not recurrence_until:
+                errors["recurrence_until"] = _("This field is required.")
+        send_reminders = cleaned_data.get("send_reminders", False)
+        reminder_days = cleaned_data.get("reminder_days")
+        reminder_emails = cleaned_data.get("reminder_emails")
+        if send_reminders:
+            if not reminder_days:
+                errors["reminder_days"] = _("This field is required.")
+            if not reminder_emails:
+                errors["reminder_emails"] = _("This field is required.")
+        if errors:
+            raise ValidationError(errors)
+        return cleaned_data
+
+    class Meta:
+        model = ScheduledOutage
+        exclude = ["start", "end", "resource", "creator"]
+
+
+class ResourceScheduledOutageForm(ScheduledOutageForm):
+    def __init__(self, *args, **kwargs):
+        super().__init__(*args, **kwargs)
         self.fields["details"].required = True
 
     class Meta:
         model = ScheduledOutage
-        fields = ["details", "start", "end", "resource", "category"]
+        exclude = ["tool", "area", "creator", "title"]
 
 
 class UserPreferencesForm(ModelForm):
     class Meta:
         model = UserPreferences
         fields = "__all__"
 
@@ -495,14 +547,65 @@
 
 class TrainingEventForm(CalendarTrainingEventForm):
     class Meta:
         model = TrainingEvent
         exclude = ["creator", "trainer", "end", "users"]
 
 
+def save_scheduled_outage(
+    form: ScheduledOutageForm,
+    creator: User,
+    item: Union[Resource, Tool, Area],
+    start: datetime = None,
+    end: datetime = None,
+    title: str = None,
+    check_policy=True,
+):
+    outage: ScheduledOutage = form.save(commit=False)
+    outage.creator = creator
+    outage.outage_item = item
+    if title:
+        outage.title = title
+    if start:
+        outage.start = start
+    if end:
+        outage.end = end
+    duration = outage.end - outage.start
+
+    if not form.cleaned_data.get("send_reminders"):
+        outage.reminder_days = None
+        outage.reminder_emails = None
+
+    # If there is a policy problem for the outage then return the error...
+    if check_policy:
+        policy_problem = policy.check_to_create_outage(outage)
+        if policy_problem:
+            return policy_problem
+
+    if form.cleaned_data.get("recurring_outage"):
+        # we have to remove tz before creating rules otherwise 8am would become 7am after DST change for example.
+        start_no_tz = outage.start.replace(tzinfo=None)
+
+        submitted_frequency = form.cleaned_data.get("recurrence_frequency")
+        submitted_date_until = form.cleaned_data["recurrence_until"]
+        date_until_no_tz = datetime.combine(submitted_date_until, time())
+        date_until_no_tz += timedelta(days=1, seconds=-1)  # set at the end of the day
+        frequency = RecurrenceFrequency(quiet_int(submitted_frequency, RecurrenceFrequency.DAILY.index))
+        rules = get_recurring_rule(
+            start_no_tz, frequency, date_until_no_tz, int(form.cleaned_data.get("recurrence_interval", 1))
+        )
+        for rule in list(rules):
+            outage.pk = None
+            outage.start = localize(start_no_tz.replace(year=rule.year, month=rule.month, day=rule.day))
+            outage.end = outage.start + duration
+            outage.save()
+    else:
+        outage.save()
+
+
 def nice_errors(obj, non_field_msg="General form errors") -> ErrorDict:
     result = ErrorDict()
     error_dict = (
         obj.errors if isinstance(obj, BaseForm) else obj.message_dict if isinstance(obj, ValidationError) else {}
     )
     for field_name, errors in error_dict.items():
         if field_name == NON_FIELD_ERRORS:
```

## NEMO/models.py

```diff
@@ -16,15 +16,15 @@
 from typing import Iterable, List, Optional, Set, Union
 
 from django.conf import settings
 from django.contrib.auth.models import BaseUserManager, Group, Permission, PermissionsMixin
 from django.contrib.contenttypes.fields import GenericForeignKey
 from django.contrib.contenttypes.models import ContentType
 from django.core.exceptions import NON_FIELD_ERRORS, ValidationError
-from django.core.validators import MinValueValidator
+from django.core.validators import MinValueValidator, validate_comma_separated_integer_list
 from django.db import connections, models, transaction
 from django.db.models import Q
 from django.db.models.manager import Manager
 from django.db.models.signals import pre_delete
 from django.dispatch import receiver
 from django.template import loader
 from django.template.defaultfilters import linebreaksbr
@@ -158,28 +158,31 @@
         upload_to=document_filename_upload,
         verbose_name="Document",
     )
     url = models.CharField(null=True, blank=True, max_length=200, verbose_name="URL")
     name = models.CharField(
         null=True, blank=True, max_length=200, help_text="The optional name to display for this document"
     )
+    display_order = models.IntegerField(
+        help_text="The order in which choices are displayed on the landing page, from left to right, top to bottom. Lower values are displayed first."
+    )
     uploaded_at = models.DateTimeField(auto_now_add=True)
 
     def get_filename_upload(self, filename):
         raise NotImplementedError("subclasses must provide a filename for upload")
 
     def filename(self):
         return (
             self.name
             if self.name
-            else os.path.basename(self.document.name)
-            if self.document
-            else self.url.rsplit("/", 1)[-1]
-            if self.url
-            else ""
+            else (
+                os.path.basename(self.document.name)
+                if self.document
+                else self.url.rsplit("/", 1)[-1] if self.url else ""
+            )
         )
 
     def link(self):
         return self.document.url if self.document else self.url
 
     def full_link(self, request=None):
         return get_full_url(self.document.url, request) if self.document else self.url
@@ -193,15 +196,15 @@
     def clean(self):
         if not self.document and not self.url:
             raise ValidationError({"document": "Either document or URL should be provided."})
         elif self.document and self.url:
             raise ValidationError({"document": "Choose either document or URL but not both."})
 
     class Meta:
-        ordering = ["-uploaded_at"]
+        ordering = ["display_order", "-uploaded_at"]
         abstract = True
 
 
 # These two auto-delete documents from filesystem when they are unneeded:
 @receiver(models.signals.post_delete)
 def auto_delete_file_on_document_delete(sender, instance: BaseDocumentModel, **kwargs):
     if not issubclass(sender, BaseDocumentModel):
@@ -373,14 +376,19 @@
         default=EmailNotificationType.BOTH_EMAILS,
         choices=EmailNotificationType.on_choices(),
         help_text="Tool qualification expiration reminders",
     )
     email_send_training_emails = models.PositiveIntegerField(
         default=EmailNotificationType.BOTH_EMAILS, choices=EmailNotificationType.Choices, help_text="Training emails"
     )
+    email_send_wait_list_notification_emails = models.PositiveIntegerField(
+        default=EmailNotificationType.BOTH_EMAILS,
+        choices=EmailNotificationType.on_choices(),
+        help_text="Tool wait list notification",
+    )
     email_send_usage_reminders = models.PositiveIntegerField(
         default=EmailNotificationType.BOTH_EMAILS, choices=EmailNotificationType.Choices, help_text="Usage reminders"
     )
     email_send_reservation_reminders = models.PositiveIntegerField(
         default=EmailNotificationType.BOTH_EMAILS,
         choices=EmailNotificationType.Choices,
         help_text="Reservation reminders",
@@ -1126,14 +1134,20 @@
         return f"user_documents/{username}/{filename}"
 
     class Meta(BaseDocumentModel.Meta):
         verbose_name_plural = "User documents"
 
 
 class Tool(SerializationByNameModel):
+    class OperationMode(object):
+        REGULAR = 0
+        WAIT_LIST = 1
+        HYBRID = 2
+        Choices = ((REGULAR, "Regular"), (WAIT_LIST, "Wait List"), (HYBRID, "Hybrid"))
+
     name = models.CharField(max_length=100, unique=True)
     parent_tool = models.ForeignKey(
         "Tool",
         related_name="tool_children_set",
         null=True,
         blank=True,
         help_text="Select a parent tool to allow alternate usage",
@@ -1334,14 +1348,19 @@
         help_text="The end time when policy rules should NOT be enforced",
     )
     _policy_off_weekend = models.BooleanField(
         db_column="policy_off_weekend",
         default=False,
         help_text="Whether or not policy rules should be enforced on weekends",
     )
+    _operation_mode = models.IntegerField(
+        choices=OperationMode.Choices,
+        default=OperationMode.REGULAR,
+        help_text="The operation mode of the tool, which determines if reservations and wait list are allowed.",
+    )
     # Shadowing Verification Request fields:
     _allow_user_shadowing_verification_request = models.BooleanField(
         default=False, help_text="Allow users to request qualification on this tool through shadowing verification."
     )
     _shadowing_verification_request_qualification_levels = models.ManyToManyField(
         "QualificationLevel",
         blank=True,
@@ -1709,14 +1728,35 @@
 
     @tool_calendar_color.setter
     def tool_calendar_color(self, value):
         self.raise_setter_error_if_child_tool("tool_calendar_color")
         self._tool_calendar_color = value
 
     @property
+    def operation_mode(self):
+        return self.parent_tool.operation_mode if self.is_child_tool() else self._operation_mode
+
+    @operation_mode.setter
+    def operation_mode(self, value):
+        self.raise_setter_error_if_child_tool("operation_mode")
+        self._operation_mode = value
+
+    def allow_wait_list(self):
+        return self.operation_mode in [self.OperationMode.WAIT_LIST, self.OperationMode.HYBRID]
+
+    def allow_reservation(self):
+        return self.operation_mode in [self.OperationMode.REGULAR, self.OperationMode.HYBRID]
+
+    def current_wait_list(self):
+        return ToolWaitList.objects.filter(tool=self, expired=False, deleted=False).order_by("date_entered")
+
+    def top_wait_list_entry(self):
+        return self.current_wait_list().first()
+
+    @property
     def allow_user_shadowing_verification_request(self):
         return (
             self.parent_tool._allow_user_shadowing_verification_request
             if self.is_child_tool()
             else self._allow_user_shadowing_verification_request
         )
 
@@ -2061,14 +2101,30 @@
         if self.parent_tool_id:
             # in case of alternate tool, recreate a new tool with only parent_tool and name (never visible)
             fresh_tool = Tool(id=self.id, parent_tool=self.parent_tool, name=self.name, visible=False)
             self.__dict__.update(fresh_tool.__dict__)
         super().save(force_insert, force_update, using, update_fields)
 
 
+class ToolWaitList(BaseModel):
+    user = models.ForeignKey(
+        User,
+        on_delete=models.CASCADE,
+        help_text="The user in the wait list.",
+    )
+    tool = models.ForeignKey(Tool, on_delete=models.CASCADE, help_text="The target tool for the wait list entry.")
+    date_entered = models.DateTimeField(auto_now_add=True, help_text="The date/time the user entered the wait list.")
+    date_exited = models.DateTimeField(null=True, blank=True, help_text="The date/time the user exited the wait list.")
+    last_turn_available_at = models.DateTimeField(
+        null=True, blank=True, help_text="The last date/time the user's turn became available."
+    )
+    expired = models.BooleanField(default=False, help_text="Whether the user's spot in the wait list has expired.")
+    deleted = models.BooleanField(default=False, help_text="Whether the wait list entry has been deleted.")
+
+
 class ToolDocuments(BaseDocumentModel):
     tool = models.ForeignKey(Tool, on_delete=models.CASCADE)
 
     def get_filename_upload(self, filename):
         from django.template.defaultfilters import slugify
 
         tool_name = slugify(self.tool.name)
@@ -3465,35 +3521,35 @@
     def tool_usage(self) -> bool:
         return bool(self.usage_event)
 
     def clean(self):
         errors = {}
         if self.customer_id:
             if not self.customer.is_active:
-                errors[
-                    "customer"
-                ] = "A consumable withdraw was requested for an inactive user. Only active users may withdraw consumables."
+                errors["customer"] = (
+                    "A consumable withdraw was requested for an inactive user. Only active users may withdraw consumables."
+                )
             if self.customer.access_expiration and self.customer.access_expiration < datetime.date.today():
                 errors["customer"] = f"This user's access expired on {format_datetime(self.customer.access_expiration)}"
         if self.project_id:
             if not self.project.active:
-                errors[
-                    "project"
-                ] = "A consumable may only be billed to an active project. The user's project is inactive."
+                errors["project"] = (
+                    "A consumable may only be billed to an active project. The user's project is inactive."
+                )
             if not self.project.account.active:
-                errors[
-                    "project"
-                ] = "A consumable may only be billed to a project that belongs to an active account. The user's account is inactive."
+                errors["project"] = (
+                    "A consumable may only be billed to a project that belongs to an active account. The user's account is inactive."
+                )
         if self.quantity is not None and self.quantity < 1:
             errors["quantity"] = "Please specify a valid quantity of items to withdraw."
         if self.consumable_id:
             if not self.consumable.reusable and self.quantity > self.consumable.quantity:
-                errors[
-                    NON_FIELD_ERRORS
-                ] = f'There are not enough "{self.consumable.name}". (The current quantity in stock is {str(self.consumable.quantity)}). Please order more as soon as possible.'
+                errors[NON_FIELD_ERRORS] = (
+                    f'There are not enough "{self.consumable.name}". (The current quantity in stock is {str(self.consumable.quantity)}). Please order more as soon as possible.'
+                )
         if self.customer_id and self.consumable_id and self.project_id:
             from NEMO.exceptions import ProjectChargeException
             from NEMO.policy import policy_class as policy
 
             try:
                 policy.check_billing_to_project(self.project, self.customer, self.consumable, self)
             except ProjectChargeException as e:
@@ -4184,18 +4240,24 @@
     name = models.CharField(max_length=200, help_text="The safety item name.")
     description = models.TextField(
         null=True, blank=True, help_text="The description for this safety item. HTML can be used."
     )
     category = models.ForeignKey(
         SafetyCategory, null=True, blank=True, help_text="The category for this safety item.", on_delete=models.SET_NULL
     )
+    display_order = models.IntegerField(
+        help_text="The order in which the items will be displayed within the same category. Lower values are displayed first."
+    )
 
     def __str__(self):
         return self.name
 
+    class Meta:
+        ordering = ["display_order", "name"]
+
 
 class SafetyItemDocuments(BaseDocumentModel):
     safety_item = models.ForeignKey(SafetyItem, on_delete=models.CASCADE)
 
     def get_filename_upload(self, filename):
         from django.template.defaultfilters import slugify
 
@@ -4241,14 +4303,18 @@
         default=False, help_text="Allows the user to delete the alert. This is only valid when the 'user' field is set."
     )
     expired = models.BooleanField(default=False, help_text="Indicates the alert has expired and won't be shown anymore")
     deleted = models.BooleanField(
         default=False, help_text="Indicates the alert has been deleted and won't be shown anymore"
     )
 
+    def clean(self):
+        if self.dismissible and not self.user:
+            raise ValidationError({"dismissible": "Only a user-specific alert can be dismissed by the user"})
+
     class Meta:
         ordering = ["-debut_time"]
 
     def __str__(self):
         return str(self.id)
 
 
@@ -4411,28 +4477,39 @@
         blank=True,
         max_length=200,
         help_text="A categorical reason for why this outage is scheduled. Useful for trend analytics.",
     )
     tool = models.ForeignKey(Tool, blank=True, null=True, on_delete=models.CASCADE)
     area = TreeForeignKey(Area, blank=True, null=True, on_delete=models.CASCADE)
     resource = models.ForeignKey(Resource, blank=True, null=True, on_delete=models.CASCADE)
+    reminder_days = models.CharField(
+        null=True,
+        blank=True,
+        max_length=200,
+        validators=[validate_comma_separated_integer_list],
+        help_text="The number of days to send a reminder before a scheduled outage. A comma-separated list can be used for multiple reminders.",
+    )
+    reminder_emails: List[str] = fields.MultiEmailField(
+        null=True,
+        blank=True,
+        help_text="The reminder email(s) will be sent to this address. A comma-separated list can be used.",
+    )
 
     @property
-    def outage_item(self) -> Union[Tool, Area]:
-        if self.tool:
-            return self.tool
-        elif self.area:
-            return self.area
+    def outage_item(self) -> Union[Tool, Area, Resource]:
+        return self.tool or self.area or self.resource
 
     @outage_item.setter
     def outage_item(self, item):
         if isinstance(item, Tool):
             self.tool = item
         elif isinstance(item, Area):
             self.area = item
+        elif isinstance(item, Resource):
+            self.resource = item
         else:
             raise AttributeError(f"This item [{item}] isn't allowed on outages.")
 
     @property
     def outage_item_type(self) -> ReservationItemType:
         if self.tool:
             return ReservationItemType.TOOL
@@ -4448,14 +4525,19 @@
 
     def has_not_ended(self):
         return False if self.end < timezone.now() else True
 
     def has_not_started(self):
         return False if self.start <= timezone.now() else True
 
+    def get_reminder_days(self) -> List[int]:
+        if not self.reminder_emails:
+            return []
+        return [int(days) for days in self.reminder_days.split(",")]
+
     def clean(self):
         if self.start and self.end and self.start >= self.end:
             raise ValidationError(
                 {
                     "start": "Outage start time ("
                     + format_datetime(self.start)
                     + ") must be before the end time ("
@@ -4644,14 +4726,18 @@
     )
     new_start = models.DateTimeField(null=True, blank=True)
     new_end = models.DateTimeField(null=True, blank=True)
     status = models.IntegerField(choices=RequestStatus.choices_without_expired(), default=RequestStatus.PENDING)
     reviewer = models.ForeignKey(
         "User", null=True, blank=True, related_name="adjustment_requests_reviewed", on_delete=models.CASCADE
     )
+    applied = models.BooleanField(default=False, help_text="Indicates the adjustment has been applied")
+    applied_by = models.ForeignKey(
+        "User", null=True, blank=True, related_name="adjustment_requests_applied", on_delete=models.CASCADE
+    )
     deleted = models.BooleanField(
         default=False, help_text="Indicates the request has been deleted and won't be shown anymore."
     )
 
     @property
     def replies(self) -> QuerySetType[RequestMessage]:
         return RequestMessage.objects.filter(object_id=self.id, content_type=ContentType.objects.get_for_model(self))
@@ -4711,14 +4797,27 @@
             tool_reviewers = tool._adjustment_request_reviewers.filter(is_active=True)
             return tool_reviewers or facility_managers
         if area:
             area_reviewers = area.adjustment_request_reviewers.filter(is_active=True)
             return area_reviewers or facility_managers
         return facility_managers
 
+    def apply_adjustment(self, user):
+        if self.status == RequestStatus.APPROVED and self.editable_charge():
+            new_start = self.get_new_start()
+            new_end = self.get_new_end()
+            if new_start:
+                self.item.start = new_start
+            if new_end:
+                self.item.end = new_end
+            self.item.save()
+            self.applied = True
+            self.applied_by = user
+            self.save()
+
     def delete(self, using=None, keep_parents=False):
         adjustment_id = self.id
         super().delete(using, keep_parents)
         # If adjustment requests is being deleted, remove associated notifications
         Notification.objects.filter(
             object_id=adjustment_id,
             notification_type__in=[
@@ -5469,41 +5568,35 @@
         return self.training_request or self.training_invitation or self.training_event or self.qualification
 
     @property
     def training_item_type(self) -> str:
         return (
             "Request"
             if self.training_request
-            else "Invitation"
-            if self.training_invitation
-            else "Training session"
-            if self.training_event
-            else "Qualification"
-            if self.qualification
-            else ""
+            else (
+                "Invitation"
+                if self.training_invitation
+                else "Training session" if self.training_event else "Qualification" if self.qualification else ""
+            )
         )
 
     @property
     def tool(self) -> Tool:
         return (
             self.training_invitation.training_event.tool
             if self.training_invitation
-            else self.qualification.parent_content_object
-            if self.qualification
-            else self.training_item.tool
+            else self.qualification.parent_content_object if self.qualification else self.training_item.tool
         )
 
     @property
     def dates(self) -> List[datetime]:
         return (
             [self.training_event.start]
             if self.training_event
-            else self.training_request.trainingrequesttime_set.all()
-            if self.training_request
-            else []
+            else self.training_request.trainingrequesttime_set.all() if self.training_request else []
         )
 
     def target_users(self) -> List[User]:
         if self.training_request or self.training_invitation:
             return [self.training_item.user]
         elif self.training_event:
             return list(self.training_event.users.all())
@@ -5570,18 +5663,24 @@
     category = models.ForeignKey(
         StaffKnowledgeBaseCategory,
         null=True,
         blank=True,
         help_text="The category for this item.",
         on_delete=models.SET_NULL,
     )
+    display_order = models.IntegerField(
+        help_text="The order in which the items will be displayed within the same category. Lower values are displayed first."
+    )
 
     def __str__(self):
         return self.name
 
+    class Meta:
+        ordering = ["display_order", "name"]
+
 
 class StaffKnowledgeBaseItemDocuments(BaseDocumentModel):
     item = models.ForeignKey(StaffKnowledgeBaseItem, on_delete=models.CASCADE)
 
     def get_filename_upload(self, filename):
         from django.template.defaultfilters import slugify
 
@@ -5603,18 +5702,24 @@
     category = models.ForeignKey(
         UserKnowledgeBaseCategory,
         null=True,
         blank=True,
         help_text="The category for this item.",
         on_delete=models.SET_NULL,
     )
+    display_order = models.IntegerField(
+        help_text="The order in which the items will be displayed within the same category. Lower values are displayed first."
+    )
 
     def __str__(self):
         return self.name
 
+    class Meta:
+        ordering = ["display_order", "name"]
+
 
 class UserKnowledgeBaseItemDocuments(BaseDocumentModel):
     item = models.ForeignKey(UserKnowledgeBaseItem, on_delete=models.CASCADE)
 
     def get_filename_upload(self, filename):
         from django.template.defaultfilters import slugify
```

## NEMO/policy.py

```diff
@@ -282,14 +282,18 @@
         # The function will check all policies. Policy problems are placed in the policy_problems list.
         # Overridable is True if the policy problems can be overridden by a staff member.
         policy_problems = []
         overridable = False
 
         item_type = new_reservation.reservation_item_type
 
+        # Tool is not operating in wait list  mode
+        if new_reservation.tool and not new_reservation.tool.allow_reservation():
+            policy_problems.append("This tool is operating in wait list mode.")
+
         # Reservations may not have a start time that is earlier than the end time.
         if new_reservation.start >= new_reservation.end:
             policy_problems.append(
                 "Reservation start time ("
                 + format_datetime(new_reservation.start)
                 + ") must be before the end time ("
                 + format_datetime(new_reservation.end)
```

## NEMO/serializers.py

```diff
@@ -16,14 +16,16 @@
 )
 from rest_framework.relations import PrimaryKeyRelatedField
 from rest_framework.utils import model_meta
 
 from NEMO.models import (
     Account,
     AccountType,
+    Alert,
+    AlertCategory,
     Area,
     AreaAccessRecord,
     Configuration,
     ConfigurationOption,
     ConfigurationPrecursor,
     ConfigurationPrecursorSchedule,
     ConfigurationPrecursorSlot,
@@ -102,14 +104,30 @@
                     exclude.append(f.name)
         return exclude
 
     def full_clean(self, instance, exclude=None, validate_unique=True):
         instance.full_clean(exclude, validate_unique)
 
 
+class AlertCategorySerializer(serializers.ModelSerializer):
+    class Meta:
+        model = AlertCategory
+        fields = "__all__"
+
+
+class AlertSerializer(FlexFieldsSerializerMixin, ModelSerializer):
+    class Meta:
+        model = Alert
+        fields = "__all__"
+        expandable_fields = {
+            "creator": "NEMO.serializers.UserSerializer",
+            "user": "NEMO.serializers.UserSerializer",
+        }
+
+
 class UserSerializer(FlexFieldsSerializerMixin, ModelSerializer):
     class Meta:
         model = User
         exclude = ["preferences"]
         expandable_fields = {
             "projects": ("NEMO.serializers.ProjectSerializer", {"many": True}),
             "managed_projects": ("NEMO.serializers.ProjectSerializer", {"many": True}),
```

## NEMO/typing.py

```diff
@@ -3,9 +3,8 @@
 from django.db.models import QuerySet
 
 _Z = TypeVar("_Z")
 
 
 # Special QuerySet type for type hints, very useful when iterating etc.
 class QuerySetType(Generic[_Z], QuerySet):
-    def __iter__(self) -> Iterator[_Z]:
-        ...
+    def __iter__(self) -> Iterator[_Z]: ...
```

## NEMO/urls.py

```diff
@@ -70,20 +70,22 @@
 
 def sort_urls(url_path):
     return url_path[0].count("/"), url_path[0]
 
 
 # REST API URLs
 router = routers.DefaultRouter()
-router.register(r"auth_groups", api.GroupViewSet)
-router.register(r"auth_permissions", api.PermissionViewSet)
 router.register(r"account_types", api.AccountTypeViewSet)
 router.register(r"accounts", api.AccountViewSet)
+router.register(r"alert_categories", api.AlertCategoryViewSet)
+router.register(r"alerts", api.AlertViewSet)
 router.register(r"area_access_records", api.AreaAccessRecordViewSet)
 router.register(r"areas", api.AreaViewSet)
+router.register(r"auth_groups", api.GroupViewSet)
+router.register(r"auth_permissions", api.PermissionViewSet)
 router.register(r"billing", api.BillingViewSet, basename="billing")
 router.register(r"configurations", api.ConfigurationViewSet)
 router.register(r"configuration_precursors", api.ConfigurationPrecursorViewSet)
 router.register(r"configuration_precursor_slots", api.ConfigurationPrecursorSlotViewSet)
 router.register(r"configuration_precursor_schedules", api.ConfigurationPrecursorScheduleViewSet)
 router.register(r"consumable_categories", api.ConsumableCategoryViewSet)
 router.register(r"consumable_withdrawals", api.ConsumableWithdrawViewSet)
@@ -167,14 +169,16 @@
     path("hide_comment/<str:comment_id>/", tool_control.hide_comment, name="hide_comment"),
     re_path(
         r"^enable_tool/(?P<tool_id>\d+)/user/(?P<user_id>\d+)/project/(?P<project_id>\d+)/staff_charge/(?P<staff_charge>(true|false))/$",
         tool_control.enable_tool,
         name="enable_tool",
     ),
     path("disable_tool/<int:tool_id>/", tool_control.disable_tool, name="disable_tool"),
+    path("enter_wait_list/", tool_control.enter_wait_list, name="enter_wait_list"),
+    path("exit_wait_list/", tool_control.exit_wait_list, name="exit_wait_list"),
     path("tool_config_history/<int:tool_id>/", tool_control.tool_config_history, name="tool_config_history"),
     path("usage_data_history/<int:tool_id>/", tool_control.usage_data_history, name="usage_data_history"),
     path("past_comments_and_tasks/", tool_control.past_comments_and_tasks, name="past_comments_and_tasks"),
     path(
         "ten_most_recent_past_comments_and_tasks/<int:tool_id>/",
         tool_control.ten_most_recent_past_comments_and_tasks,
         name="ten_most_recent_past_comments_and_tasks",
@@ -229,14 +233,24 @@
     ),
     path("export_adjustment_requests/", adjustment_requests.csv_export, name="export_adjustment_requests"),
     path(
         "delete_adjustment_request/<int:request_id>/",
         adjustment_requests.delete_adjustment_request,
         name="delete_adjustment_request",
     ),
+    path(
+        "mark_adjustment_as_applied/<int:request_id>/",
+        adjustment_requests.mark_adjustment_as_applied,
+        name="mark_adjustment_as_applied",
+    ),
+    path(
+        "apply_adjustment/<int:request_id>/",
+        adjustment_requests.apply_adjustment,
+        name="apply_adjustment",
+    ),
     # Shadowing Verification requests
     path(
         "shadowing_verifications/",
         shadowing_verification.shadowing_verification_requests,
         name="shadowing_verifications",
     ),
     path(
@@ -684,14 +698,19 @@
             name="email_reservation_ending_reminders",
         ),
         path(
             "email_reservation_reminders/",
             timed_services.email_reservation_reminders,
             name="email_reservation_reminders",
         ),
+        path(
+            "email_scheduled_outage_reminders/",
+            timed_services.email_scheduled_outage_reminders,
+            name="email_scheduled_outage_reminders",
+        ),
         path("email_usage_reminders/", timed_services.email_usage_reminders, name="email_usage_reminders"),
         path(
             "email_weekend_access_notification/",
             timed_services.email_weekend_access_notification,
             name="email_weekend_access_notification",
         ),
         path(
@@ -700,14 +719,17 @@
             name="email_user_access_expiration_reminders",
         ),
         path(
             "manage_tool_qualifications/", timed_services.manage_tool_qualifications, name="manage_tool_qualifications"
         ),
         path("manage_recurring_charges/", timed_services.manage_recurring_charges, name="manage_recurring_charges"),
         path("auto_logout_users/", timed_services.auto_logout_users, name="auto_logout_users"),
+        path(
+            "check_and_update_wait_list/", timed_services.check_and_update_wait_list, name="check_and_update_wait_list"
+        ),
         # Reminders and periodic events - NEMO CE
         path("email_grant_access/", timed_services.email_grant_access, name="email_grant_access"),
         path("auto_validate_charges/", timed_services.auto_validate_charges, name="auto_validate_charges"),
         # Abuse:
         path("abuse/", abuse.abuse, name="abuse"),
         path("abuse/user_drill_down/", abuse.user_drill_down, name="user_drill_down"),
         # User management:
```

## NEMO/utilities.py

```diff
@@ -370,17 +370,15 @@
     if not underscore:
         export_date_format = export_date_format.replace("_", "-")
         export_time_format = export_time_format.replace("_", "-")
     separator = "-" if underscore else "_"
     datetime_format = (
         export_date_format
         if d_format and not t_format
-        else export_time_format
-        if not d_format and t_format
-        else export_date_format + separator + export_time_format
+        else export_time_format if not d_format and t_format else export_date_format + separator + export_time_format
     )
     return format_datetime(this_time, datetime_format, as_current_timezone)
 
 
 def as_timezone(dt):
     naive = type(dt) == date or is_naive(dt)
     return timezone.localtime(dt) if not naive else dt
@@ -413,14 +411,21 @@
 def week_date_range(given_date: datetime) -> (datetime, datetime):
     # Assuming Monday-Sunday week
     start = given_date - timedelta(days=given_date.weekday())  # Monday
     end = start + timedelta(days=6)  # Sunday
     return beginning_of_the_day(start), end_of_the_day(end)
 
 
+def is_date_in_datetime_range(date_to_check: date, start_date: datetime, end_date: datetime) -> bool:
+    # use timezone of start_date for date_to_check
+    start_of_day = beginning_of_the_day(datetime.combine(date_to_check, time()))
+    end_of_day = end_of_the_day(datetime.combine(date_to_check, time()))
+    return start_date <= end_of_day and start_of_day <= end_date
+
+
 def remove_duplicates(iterable: Union[List, Set, Tuple]) -> List:
     if not iterable:
         return []
     if isinstance(iterable, str):
         raise TypeError("argument must be a list, set or tuple")
     return list(set(iterable))
```

## NEMO/apps/area_access/views.py

```diff
@@ -4,15 +4,15 @@
 from django.http import JsonResponse
 from django.shortcuts import get_object_or_404, render
 from django.template.defaultfilters import linebreaksbr
 from django.utils import timezone
 from django.utils.formats import localize
 from django.views.decorators.http import require_GET, require_POST
 
-from NEMO.decorators import postpone
+from NEMO.decorators import disable_session_expiry_refresh, postpone
 from NEMO.exceptions import (
     InactiveUserError,
     MaximumCapacityReachedError,
     NoAccessiblePhysicalAccessUserError,
     NoActiveProjectsForUserError,
     NoPhysicalAccessUserError,
     PhysicalAccessExpiredUserError,
@@ -348,13 +348,16 @@
     try:
         badge_reader = BadgeReader.objects.get(id=reader_id)
     except BadgeReader.DoesNotExist:
         badge_reader = BadgeReader.default()
     return badge_reader
 
 
+@login_required
+@disable_session_expiry_refresh
+@require_GET
 def get_alerts(request):
     dictionary = {
         "alerts": Alert.objects.filter(user=None, debut_time__lte=timezone.now(), expired=False, deleted=False),
         "disabled_resources": Resource.objects.filter(available=False),
     }
     return render(request, "area_access/alerts.html", dictionary)
```

## NEMO/apps/area_access/templates/area_access/alerts.html

```diff
@@ -1,34 +1,40 @@
 {% if alerts or disabled_resources %}
-	<div style="text-align:center">
-		<h2>Alerts and outages</h2>
-		<p>{# For spacing #}&nbsp;</p>
-		{% for a in alerts %}
-			<div class="alert alert-danger">
-				<table style="width:100%">
-					<tr>
-						<td style="width:100px"><span class="glyphicon glyphicon-alert danger-highlight"
-													  style="font-size:64px"></span></td>
-						<td>
-							{% if a.title %}<span style="font-weight:bold">{{ a.title }}</span><br>{% endif %}
-							{{ a.contents|linebreaks }}
-						</td>
-					</tr>
-				</table>
-			</div>
-		{% endfor %}
-		{% for r in disabled_resources %}
-			<div class="alert alert-danger">
-				<table style="width:100%">
-					<tr>
-						<td style="width:100px"><span class="glyphicon glyphicon-leaf danger-highlight"
-													  style="font-size:64px"></span></td>
-						<td>
-							<span style="font-weight:bold">Resource outage: {{ r }}</span><br>
-							{{ r.restriction_message }}
-						</td>
-					</tr>
-				</table>
-			</div>
-		{% endfor %}
-	</div>
-{% endif %}
+    <div style="text-align:center">
+        <h2>Alerts and outages</h2>
+        <p>{# For spacing #}&nbsp;</p>
+        {% for a in alerts %}
+            <div class="alert alert-danger">
+                <table style="width:100%">
+                    <tr>
+                        <td style="width:100px">
+                            <span class="glyphicon glyphicon-alert danger-highlight" style="font-size:64px"></span>
+                        </td>
+                        <td>
+                            {% if a.title %}
+                                <span style="font-weight:bold">{{ a.title }}</span>
+                                <br>
+                            {% endif %}
+                            {{ a.contents|safe|linebreaksbr }}
+                        </td>
+                    </tr>
+                </table>
+            </div>
+        {% endfor %}
+        {% for r in disabled_resources %}
+            <div class="alert alert-danger">
+                <table style="width:100%">
+                    <tr>
+                        <td style="width:100px">
+                            <span class="glyphicon glyphicon-leaf danger-highlight" style="font-size:64px"></span>
+                        </td>
+                        <td>
+                            <span style="font-weight:bold">Resource outage: {{ r }}</span>
+                            <br>
+                            {{ r.restriction_message }}
+                        </td>
+                    </tr>
+                </table>
+            </div>
+        {% endfor %}
+    </div>
+{% endif %}
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
 {% if alerts or disabled_resources %}
 ********** AAlleerrttss aanndd oouuttaaggeess **********
 {# For spacing #} 
 {% for a in alerts %}
- {% if a.title %}{{ a.title }}
- {% endif %} {{ a.contents|linebreaks }}
+ {% if a.title %} {{ a.title }}
+ {% endif %} {{ a.contents|safe|linebreaksbr }}
 {% endfor %} {% for r in disabled_resources %}
  Resource outage: {{ r }}
  {{ r.restriction_message }}
 {% endfor %}
 {% endif %}
```

## NEMO/apps/area_access/templates/area_access/already_logged_in.html

```diff
@@ -1,35 +1,42 @@
 <h1>According to our records, you're already logged in the {{ area }} under the project named {{ project }}.</h1>
 {% if max_capacity_reached %}
-	{% if max_capacity_reached.area == area %}
-		<h2>However, this area has reached its maximum occupancy</h2>
-	{% elif max_capacity_reached %}
-		<h2>However, the {{ max_capacity_reached.area }} has reached its maximum occupancy</h2>
-	{% elif scheduled_outage_in_progress %}
-		<h2>However, a scheduled outage is in effect in the {{ scheduled_outage_in_progress.area }}</h2>
-	{% endif %}
+    {% if max_capacity_reached.area == area %}
+        <h2>However, this area has reached its maximum occupancy</h2>
+    {% elif max_capacity_reached %}
+        <h2>However, the {{ max_capacity_reached.area }} has reached its maximum occupancy</h2>
+    {% elif scheduled_outage_in_progress %}
+        <h2>However, a scheduled outage is in effect in the {{ scheduled_outage_in_progress.area }}</h2>
+    {% endif %}
 {% elif reservation_requirement_failed %}
-	<h2>However, you cannot enter since you don't have a current reservation for this area.</h2>
+    <h2>However, you cannot enter since you don't have a current reservation for this area.</h2>
 {% endif %}
-<h2>Please visit the {{ facility_name}} staff if you believe this is an error.</h2>
+<h2>Please visit the {{ facility_name }} staff if you believe this is an error.</h2>
 {% if not reservation_requirement_failed and not max_capacity_reached and not scheduled_outage_in_progress %}
     <h2>What would you like to do?</h2>
     <p>
-        <a href="javascript:void(0)" role="button" class="btn btn-success btn-lg btn-block btn-extra-large" onclick="revert_to_default_content()">
+        <a href="javascript:void(0)"
+           role="button"
+           class="btn btn-success btn-lg btn-block btn-extra-large"
+           onclick="revert_to_default_content()">
             Do nothing and keep me logged in (<span class="countdown">15</span>)
         </a>
     </p>
     {# Don't offer to open the door if there is no interlock #}
     {% if door.interlock %}
         <p>
-            <a href="javascript:void(0)" role="button" class="btn btn-success btn-lg btn-block btn-extra-large" onclick="just_open_the_door('{{ badge_number }}', '{{ area.id }}')">
+            <a href="javascript:void(0)"
+               role="button"
+               class="btn btn-success btn-lg btn-block btn-extra-large"
+               onclick="just_open_the_door('{{ badge_number }}', '{{ area.id }}')">
                 Open the door and keep me logged in
             </a>
         </p>
     {% endif %}
 {% endif %}
 <p>
-	<a href="javascript:void(0)" role="button" class="btn btn-success btn-lg btn-block btn-extra-large" onclick="exit_area('{{ badge_number }}')">
-		Log out of the {{ area }}
-	</a>
+    <a href="javascript:void(0)"
+       role="button"
+       class="btn btn-success btn-lg btn-block btn-extra-large"
+       onclick="exit_area('{{ badge_number }}')">Log out of the {{ area }}</a>
 </p>
-<script>revert(15);</script>
+<script>revert(15);</script>
```

### html2text {}

```diff
@@ -8,15 +8,15 @@
 {% elif scheduled_outage_in_progress %}
 ********** HHoowweevveerr,, aa sscchheedduulleedd oouuttaaggee iiss iinn eeffffeecctt iinn tthhee {{
 {{ sscchheedduulleedd__oouuttaaggee__iinn__pprrooggrreessss..aarreeaa }}}} **********
 {% endif %} {% elif reservation_requirement_failed %}
 ********** HHoowweevveerr,, yyoouu ccaannnnoott eenntteerr ssiinnccee yyoouu ddoonn''tt hhaavvee aa ccuurrrreenntt rreesseerrvvaattiioonn ffoorr
 tthhiiss aarreeaa.. **********
 {% endif %}
-********** PPlleeaassee vviissiitt tthhee {{{{ ffaacciilliittyy__nnaammee}}}} ssttaaffff iiff yyoouu bbeelliieevvee tthhiiss iiss aann
+********** PPlleeaassee vviissiitt tthhee {{{{ ffaacciilliittyy__nnaammee }}}} ssttaaffff iiff yyoouu bbeelliieevvee tthhiiss iiss aann
 eerrrroorr.. **********
 {% if not reservation_requirement_failed and not max_capacity_reached and not
 scheduled_outage_in_progress %}
 ********** WWhhaatt wwoouulldd yyoouu lliikkee ttoo ddoo?? **********
 _D_o_ _n_o_t_h_i_n_g_ _a_n_d_ _k_e_e_p_ _m_e_ _l_o_g_g_e_d_ _i_n_ _(_1_5_)
 {# Don't offer to open the door if there is no interlock #} {% if
 door.interlock %}
```

## NEMO/apps/area_access/templates/area_access/badge_not_found.html

 * *Ordering differences only*

```diff
@@ -1,6 +1,6 @@
 <script>$('body').removeClass().addClass('logout-error')</script>
 <h1>Your badge wasn't recognized.</h1>
 <h2>If you got a new one recently then we'll need to update your account.</h2>
 <h2>Please visit the {{ facility_name }} staff to resolve the problem.</h2>
 <audio src="{% url 'media' 'error.mp3' %}" autoplay></audio>
-<script>revert(15);</script>
+<script>revert(15);</script>
```

## NEMO/apps/area_access/templates/area_access/base.html

```diff
@@ -1,82 +1,82 @@
 <!DOCTYPE html>
 <html lang="en">
-<head>
-	<title>{% block title %}{% endblock %}</title>
-	{% load static %}
-	{% load custom_tags_and_filters %}
-
-	{# jQuery #}
-    <script type="text/javascript" src="{% static "jquery.min.js" %}"></script>
-
-	{# Bootstrap #}
-    <script type="text/javascript" src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
-    <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.min.css" %}"/>
-    <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.min.css" %}"/>
-
-	{# NEMO #}
-    <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}"/>
-	<script type="text/javascript" src="{% static "nemo.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "nemo.css" %}"/>
-
-	{# Area Access #}
-	<link rel="stylesheet" type="text/css" href="{% static "area_access/area_access.css" %}"/>
-
-	{# Badge Reader #}
-	<script type="text/javascript" src="{% static "badge_reader.js" %}"></script>
-
-	<!--suppress CssUnusedSymbol -->
-	<style>
+    <head>
+        <title>
+            {% block title %}{% endblock %}
+        </title>
+        {% load static %}
+        {% load custom_tags_and_filters %}
+        {# jQuery #}
+        <script type="text/javascript" src="{% static "jquery.min.js" %}"></script>
+        {# Bootstrap #}
+        <script type="text/javascript" src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
+        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.min.css" %}" />
+        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.min.css" %}" />
+        {# NEMO #}
+        <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}" />
+        <script type="text/javascript" src="{% static "nemo.js" %}"></script>
+        <link rel="stylesheet" type="text/css" href="{% static "nemo.css" %}" />
+        {# Area Access #}
+        <link rel="stylesheet" type="text/css" href="{% static "area_access/area_access.css" %}" />
+        {# Badge Reader #}
+        <script type="text/javascript" src="{% static "badge_reader.js" %}"></script>
+        <!--suppress CssUnusedSymbol -->
+        <style>
 		.btn-extra-large
 		{
 			margin-top: 50px;
 			margin-bottom: 50px;
 			font-size: 36px;
 		}
-	</style>
-</head>
-<body>
-	<div id="area-container">
-		<div id="default_content">
-			{% block default_content %}
-			{% endblock %}
-			<div id="occupancy"></div>
-		</div>
-		<div id="error" style="display: none"><h1>There was a problem communicating with the web server. Please visit the user office for assistance.</h1><audio id="error-sound" src="{% url 'media' 'error.mp3' %}"></audio></div>
-        <div id="interlock_error" style="display: none">
-            <h1 class="text-center">
-                <span style="font-size: xx-large;margin-right:10px;" class="glyphicon glyphicon-exclamation-sign"></span>
-                Interlock error
-            </h1>
-            <h3 id="interlock_message" class="text-center"></h3>
-
-            <div class="col-xs-4" style="margin: 40px auto; float: initial">
-                <div id="inter_bypass" class="btn-block" style="display: none; margin-bottom: 10px">
-                    <div class="alert alert-success" style="text-align:center; margin-bottom:0">
-                        <span id="bypass_text" style="font-size:x-large"></span>
+	
+        </style>
+    </head>
+    <body>
+        <div id="area-container">
+            <div id="default_content">
+                {% block default_content %}{% endblock %}
+                <div id="occupancy"></div>
+            </div>
+            <div id="error" style="display: none">
+                <h1>There was a problem communicating with the web server. Please visit the user office for assistance.</h1>
+                <audio id="error-sound" src="{% url 'media' 'error.mp3' %}"></audio>
+            </div>
+            <div id="interlock_error" style="display: none">
+                <h1 class="text-center">
+                    <span style="font-size: xx-large;margin-right:10px;" class="glyphicon glyphicon-exclamation-sign"></span>
+                    Interlock error
+                </h1>
+                <h3 id="interlock_message" class="text-center"></h3>
+                <div class="col-xs-4" style="margin: 40px auto; float: initial">
+                    <div id="inter_bypass" class="btn-block" style="display: none; margin-bottom: 10px">
+                        <div class="alert alert-success" style="text-align:center; margin-bottom:0">
+                            <span id="bypass_text" style="font-size:x-large"></span>
+                        </div>
                     </div>
-                </div>
-                <div id="inter_try_again" class="btn-block" style="margin-bottom: 10px">
-                    <div class="alert alert-info" style="text-align:center; margin-bottom:0">
-                        <span style="font-size:x-large">Try again</span>
+                    <div id="inter_try_again" class="btn-block" style="margin-bottom: 10px">
+                        <div class="alert alert-info" style="text-align:center; margin-bottom:0">
+                            <span style="font-size:x-large">Try again</span>
+                        </div>
                     </div>
-                </div>
-                <div class="btn-block" onclick="revert()">
-                    <div class="alert alert-warning" style="text-align:center; margin-bottom:0">
-                        <span style="font-size:x-large">Cancel</span>
+                    <div class="btn-block" onclick="revert()">
+                        <div class="alert alert-warning" style="text-align:center; margin-bottom:0">
+                            <span style="font-size:x-large">Cancel</span>
+                        </div>
                     </div>
                 </div>
             </div>
+            <div id="status" style="display: none"></div>
+            <div>
+                <h1 style="color:lightgrey" id="badge_number"></h1>
+            </div>
+            <div id="countdown" class="countdown" style="position: fixed; bottom: 0; right: 0;font-size: x-large"></div>
         </div>
-		<div id="status" style="display: none"></div>
-		<div><h1 style="color:lightgrey" id="badge_number"></h1></div>
-        <div id="countdown" class="countdown" style="position: fixed; bottom: 0; right: 0;font-size: x-large"></div>
-	</div>
-	{% include 'base/footer.html' %}
-	<script type="text/javascript">
+        {% include 'base/footer.html' %}
+        <script type="text/javascript">
         {% with show_badge_number="application"|customization:"show_badge_number" %}
 		let area_access_badge_reader = new BadgeReader(send_badge_number, "{{ badge_reader.send_key }}", {% if badge_reader.record_key %}"{{ badge_reader.record_key }}",{% else %}undefined,{% endif %} {{ show_badge_number|yesno:"true,false" }});
         {% endwith %}
 		let timeout_handle = null;
 		let countdown_handle = null;
 		let occupancy = new URLSearchParams(window.location.search).get('occupancy');
 
@@ -228,10 +228,11 @@
                 });
             }
             else
             {
                 load_complete(response, status, xml_http_request);
             }
         }
-	</script>
-</body>
-</html>
+	
+        </script>
+    </body>
+</html>
```

### html2text {}

```diff
@@ -1,17 +1,17 @@
 {% load static %} {% load custom_tags_and_filters %} {# jQuery #}
 }">
 {# Bootstrap #}
 }">
-}"/>
-}"/> {# NEMO #}
+}" />
+}" /> {# NEMO #}
 }">
-}"/> {# Area Access #}
-}"/> {# Badge Reader #}
+}" /> {# Area Access #}
+}" /> {# Badge Reader #}
 }">
-{% block default_content %} {% endblock %}
+{% block default_content %}{% endblock %}
 ************ TThheerree wwaass aa pprroobblleemm ccoommmmuunniiccaattiinngg wwiitthh tthhee wweebb sseerrvveerr.. PPlleeaassee vviissiitt tthhee
 uusseerr ooffffiiccee ffoorr aassssiissttaannccee.. ************
 ************ IInntteerrlloocckk eerrrroorr ************
 Try again
 Cancel
 {% include 'base/footer.html' %}
```

## NEMO/apps/area_access/templates/area_access/choose_area.html

```diff
@@ -1,16 +1,20 @@
 {% load custom_tags_and_filters %}
 <h1>Welcome, {{ badge_user.first_name }}!</h1>
 <h2>Please choose an area to log into.</h2>
 {% for other_area in door.areas.all %}
-	<p>
-		<button type="button" class="btn btn-success btn-lg btn-block btn-extra-large" onclick="enter_area('{{ badge_user.badge_number }}', undefined, {{ other_area.id }})">
-			{{ other_area.name }}
-		</button>
-	</p>
+    <p>
+        <button type="button"
+                class="btn btn-success btn-lg btn-block btn-extra-large"
+                onclick="enter_area('{{ badge_user.badge_number }}', undefined, {{ other_area.id }})">
+            {{ other_area.name }}
+        </button>
+    </p>
 {% endfor %}
 <p>
-	<button type="button" class="btn btn-warning btn-lg btn-block btn-extra-large" onclick="revert_to_default_content()">
-		Nevermind, don't log in (<span class="countdown">30</span>)
-	</button>
+    <button type="button"
+            class="btn btn-warning btn-lg btn-block btn-extra-large"
+            onclick="revert_to_default_content()">
+        Nevermind, don't log in (<span class="countdown">30</span>)
+    </button>
 </p>
-<script>revert(30);</script>
+<script>revert(30);</script>
```

## NEMO/apps/area_access/templates/area_access/choose_project.html

```diff
@@ -1,17 +1,21 @@
 {% load custom_tags_and_filters %}
 <h1>Welcome to the {{ area }}, {{ badge_user.first_name }}!</h1>
 <h2>Please choose a project to bill for area access.</h2>
 <h2>You can always change your choice later.</h2>
 {% for project in badge_user.active_projects %}
-	<p>
-		<button type="button" class="btn btn-success btn-lg btn-block btn-extra-large" onclick="enter_area('{{ badge_user.badge_number }}', {{ project.id }}, {{ area_id }})">
-			{% project_selection_display project %}
-		</button>
-	</p>
+    <p>
+        <button type="button"
+                class="btn btn-success btn-lg btn-block btn-extra-large"
+                onclick="enter_area('{{ badge_user.badge_number }}', {{ project.id }}, {{ area_id }})">
+            {% project_selection_display project %}
+        </button>
+    </p>
 {% endfor %}
 <p>
-	<button type="button" class="btn btn-warning btn-lg btn-block btn-extra-large" onclick="revert_to_default_content()">
-		Nevermind, don't log in (<span class="countdown">30</span>)
-	</button>
+    <button type="button"
+            class="btn btn-warning btn-lg btn-block btn-extra-large"
+            onclick="revert_to_default_content()">
+        Nevermind, don't log in (<span class="countdown">30</span>)
+    </button>
 </p>
-<script>revert(30);</script>
+<script>revert(30);</script>
```

## NEMO/apps/area_access/templates/area_access/door_is_open.html

 * *Ordering differences only*

```diff
@@ -1,2 +1,2 @@
 <h1>The door is open.</h1>
-<script>revert(7);</script>
+<script>revert(7);</script>
```

## NEMO/apps/area_access/templates/area_access/farewell_screen.html

```diff
@@ -1,8 +1,4 @@
 {% extends 'area_access/base.html' %}
 {% block title %}Farewell{% endblock %}
-{% block default_content %}
-	<h1>Scan your badge to log out.</h1>
-{% endblock %}
-{% block action %}
-	exit_area(badge_number);
-{% endblock %}
+{% block default_content %}<h1>Scan your badge to log out.</h1>{% endblock %}
+{% block action %}exit_area(badge_number);{% endblock %}
```

## NEMO/apps/area_access/templates/area_access/inactive.html

 * *Ordering differences only*

```diff
@@ -1,3 +1,3 @@
 <h1>Your account was deactivated.</h1>
 <h2>Please visit the {{ facility_name }} staff to resolve the problem.</h2>
-<script>revert(15);</script>
+<script>revert(15);</script>
```

## NEMO/apps/area_access/templates/area_access/login_success.html

```diff
@@ -1,8 +1,10 @@
 {% if previous_area %}
-	<h1>You've been automatically logged out of the {{ previous_area }}, and you're now logged in to the {{ area }}, {{ name }}.</h1>
+    <h1>
+        You've been automatically logged out of the {{ previous_area }}, and you're now logged in to the {{ area }}, {{ name }}.
+    </h1>
 {% else %}
-	<h1>You're logged in to the {{ area }}, {{ name }}.</h1>
+    <h1>You're logged in to the {{ area }}, {{ name }}.</h1>
 {% endif %}
 {% if door.interlock %}<h1>The door is open.</h1>{% endif %}
 <h2>Access time is being charged to the project named {{ project }}.</h2>
-<script>revert(7);</script>
+<script>revert(7);</script>
```

## NEMO/apps/area_access/templates/area_access/logout_success.html

```diff
@@ -1,23 +1,30 @@
 <script>$('body').removeClass().addClass('logout-success')</script>
-<h1><p>{% now "h:i A" %}</p>You're now logged out of the {{ area }}, {{ badge_user.first_name }}.</h1>
+<h1>
+    <p>{% now "h:i A" %}</p>
+    You're now logged out of the {{ area }}, {{ badge_user.first_name }}.
+</h1>
 <audio src="{% url 'media' 'success.mp3' %}" autoplay></audio>
 {% if door.areas.count > 1 %}
     <div class="alert alert-success clearfix" style="margin-top: 55px;">
         <h3 style="margin-bottom: 0">Would you like to log in into another area?</h3>
         <p>
-            <button role="button" class="btn btn-default btn-lg btn-block btn-extra-large" onclick="revert_to_default_content()">
+            <button role="button"
+                    class="btn btn-default btn-lg btn-block btn-extra-large"
+                    onclick="revert_to_default_content()">
                 Exit (<span class="countdown">15</span>)
             </button>
         </p>
         {% for other_area in door.areas.all %}
             {% if other_area != area %}
                 <p>
-                    <button type="button" class="btn btn-success btn-lg btn-block btn-extra-large" onclick="enter_area('{{ badge_user.badge_number }}', undefined, {{ other_area.id }})">
+                    <button type="button"
+                            class="btn btn-success btn-lg btn-block btn-extra-large"
+                            onclick="enter_area('{{ badge_user.badge_number }}', undefined, {{ other_area.id }})">
                         Login to the {{ other_area.name }}
                     </button>
                 </p>
             {% endif %}
         {% endfor %}
     </div>
 {% endif %}
-<script>{% if door.areas.count > 1 %}revert(15){% else %}revert(7){% endif %};</script>
+<script>{% if door.areas.count > 1 %}revert(15){% else %}revert(7){% endif %};</script>
```

## NEMO/apps/area_access/templates/area_access/logout_warning.html

```diff
@@ -1,40 +1,45 @@
 <script>$('body').removeClass().addClass('logout-warning')</script>
-<h1><p>{% now "h:i A" %}</p>You're now logged out of the {{ area }}, {{ badge_user.first_name }}.</h1>
+<h1>
+    <p>{% now "h:i A" %}</p>
+    You're now logged out of the {{ area }}, {{ badge_user.first_name }}.
+</h1>
 <audio src="{% url 'media' 'warning.mp3' %}" autoplay></audio>
 <h2>
-	{% if tools_in_use %}
-		<p>You are currently still logged in to the following tools:</p>
-		<ul>
-			{% for usage_event in tools_in_use %}
-				<li>{{ usage_event.tool.name }}</li>
-			{% endfor %}
-		</ul>
-	{% endif %}
-	{% if staff_charge %}
-		<br>
-		<p>You are currently still charging staff time to:</p>
-		<ul>
-			<li>{{ staff_charge.customer }} for project {{ staff_charge.project }}</li>
-		</ul>
-	{% endif %}
+    {% if tools_in_use %}
+        <p>You are currently still logged in to the following tools:</p>
+        <ul>
+            {% for usage_event in tools_in_use %}<li>{{ usage_event.tool.name }}</li>{% endfor %}
+        </ul>
+    {% endif %}
+    {% if staff_charge %}
+        <br>
+        <p>You are currently still charging staff time to:</p>
+        <ul>
+            <li>{{ staff_charge.customer }} for project {{ staff_charge.project }}</li>
+        </ul>
+    {% endif %}
 </h2>
 {% if door.areas.count != 1 %}
     <div class="alert alert-warning clearfix" style="margin-top: 55px;">
         <h3 class="" style="margin-bottom: 0">Would you like to log into another area?</h3>
         <p>
-            <button role="button" class="btn btn-default btn-lg btn-block btn-extra-large" onclick="revert_to_default_content()">
+            <button role="button"
+                    class="btn btn-default btn-lg btn-block btn-extra-large"
+                    onclick="revert_to_default_content()">
                 Exit (<span class="countdown">15</span>)
             </button>
         </p>
         {% for other_area in door.areas.all %}
             {% if other_area != area %}
                 <p>
-                    <button type="button" class="btn btn-success btn-lg btn-block btn-extra-large" onclick="enter_area('{{ badge_user.badge_number }}', undefined, {{ other_area.id }})">
+                    <button type="button"
+                            class="btn btn-success btn-lg btn-block btn-extra-large"
+                            onclick="enter_area('{{ badge_user.badge_number }}', undefined, {{ other_area.id }})">
                         Login to the {{ other_area.name }}
                     </button>
                 </p>
             {% endif %}
         {% endfor %}
     </div>
 {% endif %}
-<script>revert(15);</script>
+<script>revert(15);</script>
```

## NEMO/apps/area_access/templates/area_access/no_active_projects.html

 * *Ordering differences only*

```diff
@@ -1,4 +1,4 @@
 <h1>You are not a member of any active projects.</h1>
 <h2>You won't be able to use any interlocked {{ facility_name }} tools.</h2>
 <h2>Please visit the {{ facility_name }} user office for more information.</h2>
-<script>revert(15);</script>
+<script>revert(15);</script>
```

## NEMO/apps/area_access/templates/area_access/not_logged_in.html

 * *Ordering differences only*

```diff
@@ -1,5 +1,5 @@
 <script>$('body').removeClass().addClass('logout-warning')</script>
 <h1>According to our records, you're not logged in to any access controlled areas.</h1>
 <h2>Please visit the {{ facility_name }} user office if you believe this is an error.</h2>
 <audio src="{% url 'media' 'warning.mp3' %}" autoplay></audio>
-<script>revert(15);</script>
+<script>revert(15);</script>
```

## NEMO/apps/area_access/templates/area_access/physical_access_denied.html

 * *Ordering differences only*

```diff
@@ -1,5 +1,5 @@
 <script>$('body').removeClass().addClass('logout-error')</script>
 <h1>Physical access denied</h1>
 <h2>{{ message }}</h2>
 <audio src="{% url 'media' 'error.mp3' %}" autoplay></audio>
-<script>revert(15);</script>
+<script>revert(15);</script>
```

## NEMO/apps/area_access/templates/area_access/resource_unavailable.html

```diff
@@ -1,10 +1,12 @@
 {% if unavailable_resources|length == 1 %}
-	<h1>This area is currently inaccessible because a required resource is unavailable:</h1>
+    <h1>This area is currently inaccessible because a required resource is unavailable:</h1>
 {% else %}
-	<h1>This area is currently inaccessible because the following required resources are unavailable:</h1>
+    <h1>This area is currently inaccessible because the following required resources are unavailable:</h1>
 {% endif %}
 {% for resource in unavailable_resources %}
-	<h1 style="display:flex; align-items:center; margin-bottom:5px"><span class="glyphicon glyphicon-leaf" style="color:red"></span>&nbsp;{{ resource }}</h1>
-	<h2 style="margin-top:0">{{ resource.restriction_message }}</h2>
+    <h1 style="display:flex; align-items:center; margin-bottom:5px">
+        <span class="glyphicon glyphicon-leaf" style="color:red"></span>&nbsp;{{ resource }}
+    </h1>
+    <h2 style="margin-top:0">{{ resource.restriction_message }}</h2>
 {% endfor %}
-<script>revert(15);</script>
+<script>revert(15);</script>
```

## NEMO/apps/area_access/templates/area_access/welcome_screen.html

```diff
@@ -1,8 +1,4 @@
 {% extends 'area_access/base.html' %}
 {% block title %}Welcome{% endblock %}
-{% block default_content %}
-	{{ door.welcome_message|safe }}
-{% endblock %}
-{% block action %}
-	enter_area(badge_number, undefined);
-{% endblock %}
+{% block default_content %}{{ door.welcome_message|safe }}{% endblock %}
+{% block action %}enter_area(badge_number, undefined);{% endblock %}
```

## NEMO/apps/contracts/templates/contracts/contractors.html

```diff
@@ -3,20 +3,23 @@
 {% block add_button %}
     {% admin_add_url 'contracts' 'contractoragreement' request.path as add_contractors_url %}
     {% if add_contractors_url %}
         {% button type="add" value="Add" url=add_contractors_url %}
     {% endif %}
 {% endblock %}
 {% block pagination_content %}
-    <table class="table table-bordered table-align-middle table-striped table-hover thead-light" style="margin-bottom: 0">
+    <table class="table table-bordered table-align-middle table-striped table-hover thead-light"
+           style="margin-bottom: 0">
         <thead>
             <tr>
                 <th class="sticky">{% include 'pagination/pagination_column.html' with order_by='name' name='Contractor' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='contract__name' name='Contract' %}</th>
-                <th>{% include 'pagination/pagination_column.html' with order_by='contract__contract_number' name='Contract number' %}</th>
+                <th>
+                    {% include 'pagination/pagination_column.html' with order_by='contract__contract_number' name='Contract number' %}
+                </th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='start' name='Start' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='natural_end' name='End' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='reminder_date' name='Reminder' %}</th>
                 <th class="text-right button-column-minimum">Actions</th>
             </tr>
         </thead>
         <tbody>
@@ -54,8 +57,8 @@
                         {% endif %}
                     </td>
                 </tr>
             {% endfor %}
         </tbody>
     </table>
 {% endblock %}
-{% block table_empty_content %}You do not have any contractor agreements.{% endblock %}
+{% block table_empty_content %}You do not have any contractor agreements.{% endblock %}
```

## NEMO/apps/contracts/templates/contracts/contracts_and_procurements.html

```diff
@@ -1,67 +1,65 @@
 {% extends "base.html" %}
 {% load custom_tags_and_filters %}
 {% block extrahead %}
-	{% load static %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    {% load static %}
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block title %}Contracts and procurements{% endblock %}
 {% block content %}
-	<h1 style="margin-top: 0; margin-bottom: 25px">Contracts & procurements</h1>
-	<ul class="nav nav-tabs">
-		{% url 'service_contracts' as service_contracts_url %}
-		<li class="nav-item{% if service_contracts_url in request.path %} active{% endif %}">
-			<a class="nav-link" href="{{ service_contracts_url }}">Service contracts</a>
-		</li>
+    <h1 style="margin-top: 0; margin-bottom: 25px">Contracts & procurements</h1>
+    <ul class="nav nav-tabs">
+        {% url 'service_contracts' as service_contracts_url %}
+        <li class="nav-item{% if service_contracts_url in request.path %} active{% endif %}">
+            <a class="nav-link" href="{{ service_contracts_url }}">Service contracts</a>
+        </li>
         {% url 'procurements' as procurements_url %}
         <li class="nav-item{% if procurements_url in request.path %} active{% endif %}">
             <a class="nav-link" href="{{ procurements_url }}">Procurements</a>
         </li>
         {% url 'contractor_agreements' as contractors_url %}
         <li class="nav-item{% if contractors_url in request.path %} active{% endif %}">
             <a class="nav-link" href="{{ contractors_url }}">Contractors</a>
         </li>
-	</ul>
-	<div id="contract-panel-content" class="tab-content panel panel-default panel-tab-content info-tooltip-container">
-		<div class="panel-body">
-			{% block tab_content %}
+    </ul>
+    <div id="contract-panel-content"
+         class="tab-content panel panel-default panel-tab-content info-tooltip-container">
+        <div class="panel-body">
+            {% block tab_content %}
                 {# we cannot extend pagination page directly since we are already extending training_base #}
                 {% block before_pagination %}
                     <div class="pull-right" style="{% if page %}margin-bottom: 15px;{% endif %}">
                         {% button type="export" value="Export" url=request.path|concat:"?csv=true" target="_blank" %}
                         {% block add_button %}{% endblock %}
                     </div>
                 {% endblock %}
                 {% if page %}
                     {% with paginator=page.paginator %}
                         {% block pagination_header %}
-                            <div class="pagination pull-right" style="clear: both">
-                                {% include "pagination/pagination_selector.html" %}
-                            </div>
+                            <div class="pagination pull-right" style="clear: both">{% include "pagination/pagination_selector.html" %}</div>
                         {% endblock %}
-
                         <div class="table-responsive" style="width: 100%">
-                            {% block pagination_content %}
-                            {% endblock %}
+                            {% block pagination_content %}{% endblock %}
                         </div>
-
                         {% block pagination_footer %}
-                            <div class="pagination pull-right" style="margin-bottom: 0">
-                                {% include "pagination/pagination_pages.html" %}
-                            </div>
+                            <div class="pagination pull-right" style="margin-bottom: 0">{% include "pagination/pagination_pages.html" %}</div>
                         {% endblock %}
                     {% endwith %}
                 {% else %}
-                    <div class="pull-left form-control-static"><i>{% block table_empty_content %}{% endblock %}</i></div>
+                    <div class="pull-left form-control-static">
+                        <i>
+                            {% block table_empty_content %}{% endblock %}
+                        </i>
+                    </div>
                 {% endif %}
                 {% block after_pagination %}{% endblock %}
             {% endblock %}
-		</div>
-	</div>
+        </div>
+    </div>
     <script>
         {# Set a global click handler to dismiss manual tooltips #}
         $('html').on('click', function(e)
         {
             {# Only dismiss tooltips when clicking outside of them #}
             let target_id = $(e.target).parents('.tooltip').attr('id');
             if (typeof $(e.target).data('original-title') == 'undefined')
@@ -91,8 +89,8 @@
 
         function document_view(form)
         {
             let data = $(form).serialize();
             ajax_post('{% url "media_list_view" allow_zip="true" popup="true" %}', data, ajax_success_callback);
         }
     </script>
-{% endblock %}
+{% endblock %}
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
 {% extends "base.html" %} {% load custom_tags_and_filters %} {% block extrahead
 %} {% load static %}
 }">
-}"/> {% endblock %} {% block title %}Contracts and procurements{% endblock %}
+}" /> {% endblock %} {% block title %}Contracts and procurements{% endblock %}
 {% block content %}
 ************ CCoonnttrraaccttss && pprrooccuurreemmeennttss ************
     * {% url 'service_contracts' as service_contracts_url %}
     * _S_e_r_v_i_c_e_ _c_o_n_t_r_a_c_t_s
     * {% url 'procurements' as procurements_url %}
     * _P_r_o_c_u_r_e_m_e_n_t_s
     * {% url 'contractor_agreements' as contractors_url %}
@@ -14,14 +14,14 @@
 are already extending training_base #} {% block before_pagination %}
 {% button type="export" value="Export" url=request.path|concat:"?csv=true"
 target="_blank" %} {% block add_button %}{% endblock %}
 {% endblock %} {% if page %} {% with paginator=page.paginator %} {% block
 pagination_header %}
 {% include "pagination/pagination_selector.html" %}
 {% endblock %}
-{% block pagination_content %} {% endblock %}
+{% block pagination_content %}{% endblock %}
 {% block pagination_footer %}
 {% include "pagination/pagination_pages.html" %}
 {% endblock %} {% endwith %} {% else %}
 {% block table_empty_content %}{% endblock %}
 {% endif %} {% block after_pagination %}{% endblock %} {% endblock %}
 {% endblock %}
```

## NEMO/apps/contracts/templates/contracts/procurements.html

```diff
@@ -3,15 +3,16 @@
 {% block add_button %}
     {% admin_add_url 'contracts' 'procurement' request.path as add_procurement_url %}
     {% if add_procurement_url %}
         {% button type="add" value="Add" url=add_procurement_url %}
     {% endif %}
 {% endblock %}
 {% block pagination_content %}
-    <table class="table table-bordered table-align-middle table-striped table-hover thead-light" style="margin-bottom: 0">
+    <table class="table table-bordered table-align-middle table-striped table-hover thead-light"
+           style="margin-bottom: 0">
         <thead>
             <tr>
                 <th class="sticky">{% include 'pagination/pagination_column.html' with order_by='name' name='General info' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='submitted_date' name='Submitted date' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='award_date' name='Award date' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='contract_number' name='Contract number' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='requisition_number' name='Requisition number' %}</th>
@@ -50,8 +51,8 @@
                         {% endif %}
                     </td>
                 </tr>
             {% endfor %}
         </tbody>
     </table>
 {% endblock %}
-{% block table_empty_content %}You do not have any procurements.{% endblock %}
+{% block table_empty_content %}You do not have any procurements.{% endblock %}
```

## NEMO/apps/contracts/templates/contracts/service_contracts.html

```diff
@@ -3,22 +3,25 @@
 {% block add_button %}
     {% admin_add_url 'contracts' 'servicecontract' request.path as add_service_contract_url %}
     {% if add_service_contract_url %}
         {% button type="add" value="Add" url=add_service_contract_url %}
     {% endif %}
 {% endblock %}
 {% block pagination_content %}
-    <table class="table table-bordered table-condensed table-align-middle table-striped table-hover thead-light" style="margin-bottom: 0">
+    <table class="table table-bordered table-condensed table-align-middle table-striped table-hover thead-light"
+           style="margin-bottom: 0">
         <thead>
             <tr>
                 <th class="sticky">{% include 'pagination/pagination_column.html' with order_by='name' name='General info' %}</th>
                 <th class="text-center">Year</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='submitted_date' name='Submitted' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='award_date' name='Awarded' %}</th>
-                <th>{% include 'pagination/pagination_column.html' with order_by='contract_number' name='Contract/Requisition number' %}</th>
+                <th>
+                    {% include 'pagination/pagination_column.html' with order_by='contract_number' name='Contract/Requisition number' %}
+                </th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='start' name='Start' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='natural_end' name='End' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='reminder_date' name='Reminder' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='cost' name='Cost' %}</th>
                 <th class="text-right button-column-minimum">Actions</th>
             </tr>
         </thead>
@@ -28,15 +31,16 @@
                     <td class="sticky">{{ service_contract.display_name }}</td>
                     <td class="text-center text-nowrap">{{ service_contract.display_current_year }}</td>
                     <td>{{ service_contract.submitted_date|date:"SHORT_DATE_FORMAT" }}</td>
                     <td>{{ service_contract.award_date|date:"SHORT_DATE_FORMAT" }}</td>
                     <td>
                         {{ service_contract.contract_number|default_if_none:"" }}
                         {% if service_contract.requisition_number %}
-                            <br>{{ service_contract.requisition_number|default_if_none:"" }}
+                            <br>
+                            {{ service_contract.requisition_number|default_if_none:"" }}
                         {% endif %}
                     </td>
                     <td>{{ service_contract.start|date:"SHORT_DATE_FORMAT" }}</td>
                     <td>{{ service_contract.end|date:"SHORT_DATE_FORMAT" }}</td>
                     <td>{{ service_contract.reminder_date|date:"SHORT_DATE_FORMAT" }}</td>
                     <td>{{ service_contract.display_cost|default_if_none:"" }}</td>
                     <td class="text-right text-nowrap">
@@ -65,8 +69,8 @@
                         {% endif %}
                     </td>
                 </tr>
             {% endfor %}
         </tbody>
     </table>
 {% endblock %}
-{% block table_empty_content %}You do not have any service contracts.{% endblock %}
+{% block table_empty_content %}You do not have any service contracts.{% endblock %}
```

## NEMO/apps/contracts/templates/customizations/customizations_contracts.html

```diff
@@ -2,46 +2,75 @@
 <div class="panel-body">
     <form method="POST" action="{% url 'customize' 'contracts' %}" class="form-horizontal">
         {% csrf_token %}
         <h3 class="customization-section-title">Contracts & procurements</h3>
         <div class="form-group">
             <label class="control-label col-md-4 col-sm-5">View permissions</label>
             <div class="col-md-8 col-sm-7">
-				<div class="checkbox">
-					<label><input type="checkbox" name="contracts_view_staff" {% if contracts_view_staff %}checked{% endif %} value="enabled">Technical staff</label><br/>
-				</div>
-			</div>
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox"
+                               name="contracts_view_staff"
+                               {% if contracts_view_staff %}checked{% endif %}
+                               value="enabled">
+                        Technical staff
+                    </label>
+                    <br />
+                </div>
+            </div>
             <div class="col-md-offset-4 col-sm-offset-5 col-md-8 col-sm-7">
-				<div class="checkbox">
-					<label><input type="checkbox" name="contracts_view_user_office" {% if contracts_view_user_office %}checked{% endif %} value="enabled">User office</label><br/>
-				</div>
-			</div>
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox"
+                               name="contracts_view_user_office"
+                               {% if contracts_view_user_office %}checked{% endif %}
+                               value="enabled">
+                        User office
+                    </label>
+                    <br />
+                </div>
+            </div>
             <div class="col-md-offset-4 col-sm-offset-5 col-md-8 col-sm-7">
-				<div class="checkbox">
-					<label><input type="checkbox" name="contracts_view_accounting_officer" {% if contracts_view_accounting_officer %}checked{% endif %} value="enabled">Accounting staff</label><br/>
-				</div>
-			</div>
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox"
+                               name="contracts_view_accounting_officer"
+                               {% if contracts_view_accounting_officer %}checked{% endif %}
+                               value="enabled">
+                        Accounting staff
+                    </label>
+                    <br />
+                </div>
+            </div>
             <div class="col-md-offset-4 col-sm-offset-5 col-md-8 col-sm-7">
-				<div class="checkbox">
-					<label><input type="checkbox" checked disabled>Facility managers</label><br/>
-				</div>
-			</div>
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox" checked disabled>
+                        Facility managers
+                    </label>
+                    <br />
+                </div>
+            </div>
         </div>
         <div class="form-group{% if errors.contracts_contractors_default_empty_label %}has-error{% endif %}">
-            <label class="control-label col-md-4 col-sm-5" for="contracts_contractors_default_empty_label">Contractor contract default</label>
-			<div class="col-md-5 col-sm-7">
-                <input class="form-control" name="contracts_contractors_default_empty_label" id="contracts_contractors_default_empty_label" type="text" value="{{ contracts_contractors_default_empty_label|default_if_none:'' }}">
-			</div>
-				<div class="col-md-offset-4 col-sm-offset-5 col-md-8 col-sm-7 help-block light-grey">
-			    {% if errors.contracts_contractors_default_empty_label %}
+            <label class="control-label col-md-4 col-sm-5" for="contracts_contractors_default_empty_label">
+                Contractor contract default
+            </label>
+            <div class="col-md-5 col-sm-7">
+                <input class="form-control"
+                       name="contracts_contractors_default_empty_label"
+                       id="contracts_contractors_default_empty_label"
+                       type="text"
+                       value="{{ contracts_contractors_default_empty_label|default_if_none:'' }}">
+            </div>
+            <div class="col-md-offset-4 col-sm-offset-5 col-md-8 col-sm-7 help-block light-grey">
+                {% if errors.contracts_contractors_default_empty_label %}
                     {{ errors.contracts_contractors_default_empty_label.error }}
-			    {% else %}
+                {% else %}
                     The default option name when no contracts are selected for a contractor agreement.
-			    {% endif %}
+                {% endif %}
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
-</div>
+</div>
```

## NEMO/apps/contracts/views/contracts.py

```diff
@@ -196,23 +196,27 @@
     ]
     for contractor_agreement in contractor_agreement_list:
         table.add_row(
             {
                 "name": contractor_agreement.name,
                 "contract_name": contractor_agreement.contract_name,
                 "contract_number": contractor_agreement.contract_number,
-                "start": format_datetime(contractor_agreement.start, "SHORT_DATE_FORMAT")
-                if contractor_agreement.start
-                else "",
-                "end": format_datetime(contractor_agreement.end, "SHORT_DATE_FORMAT")
-                if contractor_agreement.end
-                else "",
-                "reminder_date": format_datetime(contractor_agreement.reminder_date, "SHORT_DATE_FORMAT")
-                if contractor_agreement.reminder_date
-                else "",
+                "start": (
+                    format_datetime(contractor_agreement.start, "SHORT_DATE_FORMAT")
+                    if contractor_agreement.start
+                    else ""
+                ),
+                "end": (
+                    format_datetime(contractor_agreement.end, "SHORT_DATE_FORMAT") if contractor_agreement.end else ""
+                ),
+                "reminder_date": (
+                    format_datetime(contractor_agreement.reminder_date, "SHORT_DATE_FORMAT")
+                    if contractor_agreement.reminder_date
+                    else ""
+                ),
                 "notes": contractor_agreement.notes or "",
                 "documents": "\n".join(
                     [doc.full_link() for doc in contractor_agreement.contractoragreementdocuments_set.all()]
                 ),
             }
         )
     return table
```

## NEMO/apps/kiosk/urls.py

```diff
@@ -10,14 +10,16 @@
         include(
             [
                 path("occupancy/", area_access.occupancy, name="kiosk_occupancy"),
                 path("kiosk_usage/", status_dashboard.status_dashboard, name="kiosk_usage"),
                 path("enable_tool/", views.enable_tool, name="enable_tool_from_kiosk"),
                 path("disable_tool/", views.disable_tool, name="disable_tool_from_kiosk"),
                 path("reserve_tool/", views.reserve_tool, name="reserve_tool_from_kiosk"),
+                path("post_comment/", views.post_comment, name="post_comment_from_kiosk"),
+                path("report_problem/", views.report_problem, name="report_problem_from_kiosk"),
                 path(
                     "cancel_reservation/<int:reservation_id>/",
                     views.cancel_reservation,
                     name="cancel_reservation_from_kiosk",
                 ),
                 path("choices/", views.choices, name="kiosk_choices"),
                 path(
@@ -31,15 +33,27 @@
                     name="kiosk_tool_information",
                 ),
                 re_path(
                     r"^tool_reservation/(?P<tool_id>\d+)/(?P<user_id>\d+)/(?P<back>back_to_start|back_to_category)/$",
                     views.tool_reservation,
                     name="kiosk_tool_reservation",
                 ),
+                path("enter_wait_list/", views.enter_wait_list, name="enter_wait_list_from_kiosk"),
+                path("exit_wait_list/", views.exit_wait_list, name="exit_wait_list_from_kiosk"),
                 path("logout_user/<int:tool_id>", views.logout_user, name="kiosk_logout_user"),
+                re_path(
+                    r"^tool_report_problem/(?P<tool_id>\d+)/(?P<user_id>\d+)/(?P<back>back_to_start|back_to_category)/$",
+                    views.tool_report_problem,
+                    name="kiosk_tool_report_problem",
+                ),
+                re_path(
+                    r"^tool_post_comment/(?P<tool_id>\d+)/(?P<user_id>\d+)/(?P<back>back_to_start|back_to_category)/$",
+                    views.tool_post_comment,
+                    name="kiosk_tool_post_comment",
+                ),
                 # Keeping for backwards compatibility (bookmarked links with location)
                 re_path(r"^(?P<location>.+)/$", views.kiosk, name="kiosk"),
                 path("", views.kiosk, name="kiosk"),
             ]
         ),
     )
 ]
```

## NEMO/apps/kiosk/views.py

```diff
@@ -1,38 +1,52 @@
 from argparse import Namespace
 from datetime import datetime, timedelta
 from http import HTTPStatus
 
 from django.contrib.auth.decorators import login_required, permission_required
 from django.db import transaction
-from django.shortcuts import render
+from django.shortcuts import render, redirect
 from django.utils import timezone
 from django.utils.dateparse import parse_date, parse_time
 from django.views.decorators.http import require_GET, require_POST
 
 from NEMO.decorators import synchronized
 from NEMO.exceptions import RequiredUnansweredQuestionsException, ToolConfigurationException
-from NEMO.models import BadgeReader, Project, Reservation, ReservationItemType, Tool, UsageEvent, User
+from NEMO.forms import CommentForm, nice_errors, TaskForm
+from NEMO.models import (
+    BadgeReader,
+    Project,
+    Reservation,
+    ReservationItemType,
+    Tool,
+    ToolWaitList,
+    UsageEvent,
+    User,
+    TaskCategory,
+    TaskStatus,
+)
 from NEMO.policy import accessory_conflicts_for_reservation, policy_class as policy
 from NEMO.utilities import localize, quiet_int
 from NEMO.views.area_access import log_out_user
 from NEMO.views.calendar import (
     cancel_the_reservation,
     extract_reservation_questions,
     extract_tool_accessories,
     render_reservation_questions,
     set_reservation_configuration,
     shorten_reservation,
 )
 from NEMO.views.customization import ApplicationCustomization, ToolCustomization
 from NEMO.views.status_dashboard import create_tool_summary
+from NEMO.views.tasks import save_task
 from NEMO.views.tool_control import (
     email_managers_required_questions_disable_tool,
     interlock_bypass_allowed,
     interlock_error,
+    save_comment,
 )
 from NEMO.widgets.dynamic_form import DynamicForm
 
 
 @login_required
 @permission_required("NEMO.kiosk")
 @require_POST
@@ -93,14 +107,19 @@
     try:
         new_usage_event.pre_run_data = dynamic_form.extract(request)
     except RequiredUnansweredQuestionsException as e:
         dictionary = {"message": str(e), "delay": 10}
         return render(request, "kiosk/acknowledgement.html", dictionary)
     new_usage_event.save()
 
+    # Remove wait list entry if it exists
+    wait_list_entry = ToolWaitList.objects.filter(tool=tool, expired=False, deleted=False, user=customer)
+    if wait_list_entry.count() > 0:
+        wait_list_entry.update(deleted=True, date_exited=timezone.now())
+
     try:
         dynamic_form.charge_for_consumables(new_usage_event, new_usage_event.pre_run_data, request)
     except Exception as e:
         dictionary = {"message": str(e), "delay": 10}
         return render(request, "kiosk/acknowledgement.html", dictionary)
     dynamic_form.update_tool_counters(new_usage_event.pre_run_data, tool.id)
 
@@ -192,14 +211,74 @@
         return render(request, "kiosk/acknowledgement.html", dictionary)
     return render(request, "kiosk/acknowledgement.html", dictionary)
 
 
 @login_required
 @permission_required("NEMO.kiosk")
 @require_POST
+def enter_wait_list(request):
+    tool = Tool.objects.get(id=request.POST["tool_id"])
+    customer = User.objects.get(id=request.POST["customer_id"])
+
+    if not tool.allow_wait_list():
+        dictionary = {
+            "message": "{} does not operate in wait list mode. ".format(tool),
+            "delay": 10,
+        }
+        return render(request, "kiosk/acknowledgement.html", dictionary)
+
+    wait_list_other_users = ToolWaitList.objects.filter(tool=tool, expired=False, deleted=False).exclude(user=customer)
+    wait_list_user_entry = ToolWaitList.objects.filter(tool=tool, expired=False, deleted=False, user=customer)
+
+    # User must not be in the wait list
+    if wait_list_user_entry.count() > 0:
+        dictionary = {"message": "You are already in the wait list.", "delay": 10}
+        return render(request, "kiosk/acknowledgement.html", dictionary)
+
+    # The tool must be in use or have a wait list
+    current_usage_event = tool.get_current_usage_event()
+    if not current_usage_event and wait_list_other_users.count() == 0:
+        dictionary = {"message": "The tool is free to use.", "delay": 10}
+        return render(request, "kiosk/acknowledgement.html", dictionary)
+
+    # The user must be qualified to use the tool itself, or the parent tool in case of alternate tool.
+    tool_to_check_qualifications = tool.parent_tool if tool.is_child_tool() else tool
+    if tool_to_check_qualifications not in customer.qualifications.all() and not customer.is_staff:
+        dictionary = {"message": "You are not qualified to use this tool.", "delay": 10}
+        return render(request, "kiosk/acknowledgement.html", dictionary)
+
+    entry = ToolWaitList()
+    entry.user = customer
+    entry.tool = tool
+    entry.save()
+
+    return redirect("kiosk_tool_information", tool_id=tool.id, user_id=customer.id, back="back_to_category")
+
+
+@login_required
+@permission_required("NEMO.kiosk")
+@require_POST
+def exit_wait_list(request):
+    tool = Tool.objects.get(id=request.POST["tool_id"])
+    customer = User.objects.get(id=request.POST["customer_id"])
+    wait_list_entry = ToolWaitList.objects.filter(tool=tool, expired=False, deleted=False, user=customer)
+    if wait_list_entry.count() == 0:
+        dictionary = {"message": "You are not in the wait list.", "delay": 10}
+        return render(request, "kiosk/acknowledgement.html", dictionary)
+    do_exit_wait_list(wait_list_entry, timezone.now())
+    return redirect("kiosk_tool_information", tool_id=tool.id, user_id=customer.id, back="back_to_category")
+
+
+def do_exit_wait_list(entry, time):
+    entry.update(deleted=True, date_exited=time)
+
+
+@login_required
+@permission_required("NEMO.kiosk")
+@require_POST
 def reserve_tool(request):
     tool = Tool.objects.get(id=request.POST["tool_id"])
     customer = User.objects.get(id=request.POST["customer_id"])
     project = Project.objects.get(id=request.POST["project_id"])
     back = request.POST["back"]
 
     dictionary = {"back": back, "tool": tool, "project": project, "customer": customer}
@@ -410,14 +489,28 @@
 @login_required
 @permission_required("NEMO.kiosk")
 @require_GET
 def tool_information(request, tool_id, user_id, back):
     tool = Tool.objects.get(id=tool_id, visible=True)
     customer = User.objects.get(id=user_id)
     allow_take_over = ToolCustomization.get_bool("tool_control_allow_take_over")
+    wait_list = tool.current_wait_list()
+    user_wait_list_entry = wait_list.filter(user=user_id).first()
+    user_wait_list_position = (
+        (
+            ToolWaitList.objects.filter(
+                tool=tool, date_entered__lte=user_wait_list_entry.date_entered, expired=False, deleted=False
+            )
+            .exclude(user=customer)
+            .count()
+            + 1
+        )
+        if user_wait_list_entry
+        else 0
+    )
     dictionary = {
         "customer": customer,
         "tool": tool,
         "rendered_configuration_html": tool.configuration_widget(customer),
         "pre_usage_questions": DynamicForm(tool.pre_usage_questions).render(
             "tool_usage_group_question", tool.id, virtual_inputs=True
         ),
@@ -427,14 +520,27 @@
         "back": back,
         "tool_control_show_task_details": ToolCustomization.get_bool("tool_control_show_task_details"),
         "allow_take_over": allow_take_over,
         "enable_is_take_over": tool.in_use
         and allow_take_over
         and tool.get_current_usage_event()
         and tool.get_current_usage_event().operator.id != customer.id,
+        "wait_list_position": user_wait_list_position,  # 0 if not in wait list
+        "wait_list": wait_list,
+        "show_wait_list": (
+            tool.allow_wait_list()
+            and (
+                not (
+                    tool.get_current_usage_event().operator.id == customer.id
+                    or tool.get_current_usage_event().user.id == customer.id
+                )
+                if tool.in_use()
+                else wait_list.count() > 0
+            )
+        ),
     }
     try:
         current_reservation = Reservation.objects.get(
             start__lt=timezone.now(),
             end__gt=timezone.now(),
             cancelled=False,
             missed=False,
@@ -483,7 +589,116 @@
 def get_badge_reader(request) -> BadgeReader:
     reader_id = request.GET.get("reader_id") or ApplicationCustomization.get_int("default_badge_reader_id")
     try:
         badge_reader = BadgeReader.objects.get(id=reader_id)
     except BadgeReader.DoesNotExist:
         badge_reader = BadgeReader.default()
     return badge_reader
+
+
+@login_required
+@permission_required("NEMO.kiosk")
+@require_POST
+def tool_report_problem(request, tool_id, user_id, back):
+    tool = Tool.objects.get(id=tool_id, visible=True)
+    customer = User.objects.get(id=user_id)
+
+    dictionary = {
+        "tool": tool,
+        "date": None,
+        "customer": customer,
+        "back": back,
+        "task_categories": TaskCategory.objects.filter(stage=TaskCategory.Stage.INITIAL_ASSESSMENT),
+        "task_statuses": TaskStatus.objects.all(),
+    }
+
+    return render(request, "kiosk/tool_report_problem.html", dictionary)
+
+
+@login_required
+@permission_required("NEMO.kiosk")
+@require_POST
+def report_problem(request):
+    tool = Tool.objects.get(id=request.POST["tool"])
+    customer = User.objects.get(id=request.POST["customer_id"])
+    back = request.POST["back"]
+
+    dictionary = {
+        "tool": tool,
+        "customer": customer,
+        "back": back,
+        "task_categories": TaskCategory.objects.filter(stage=TaskCategory.Stage.INITIAL_ASSESSMENT),
+        "task_statuses": TaskStatus.objects.all(),
+    }
+
+    """ Report a problem for a tool. """
+    form = TaskForm(request.user, data=request.POST)
+
+    try:
+        date = parse_date(request.POST["estimated_resolution_dt"])
+        estimated_resolution_time = localize(
+            datetime.combine(date, parse_time(request.POST["estimated_resolution_tm"]))
+        )
+    except:
+        estimated_resolution_time = None
+
+    if not form.is_valid():
+        errors = nice_errors(form)
+
+        dictionary["message"] = errors.as_ul()
+        dictionary["estimated_resolution_dt"] = request.POST.get("estimated_resolution_dt")
+        dictionary["estimated_resolution_tm"] = request.POST.get("estimated_resolution_tm")
+        dictionary["form"] = form
+
+        return render(request, "kiosk/tool_report_problem.html", dictionary)
+
+    task = form.save()
+    task.estimated_resolution_time = estimated_resolution_time
+
+    save_error = save_task(request, task)
+
+    if save_error:
+        dictionary["message"] = save_error
+        dictionary["form"] = form
+        return render(request, "kiosk/tool_report_problem.html", dictionary)
+
+    return redirect("kiosk_tool_information", tool_id=tool.id, user_id=customer.id, back=back)
+
+
+@login_required
+@permission_required("NEMO.kiosk")
+@require_POST
+def tool_post_comment(request, tool_id, user_id, back):
+    tool = Tool.objects.get(id=tool_id, visible=True)
+    customer = User.objects.get(id=user_id)
+
+    dictionary = {
+        "tool": tool,
+        "date": None,
+        "customer": customer,
+        "back": back,
+    }
+
+    return render(request, "kiosk/tool_post_comment.html", dictionary)
+
+
+@login_required
+@permission_required("NEMO.kiosk")
+@require_POST
+def post_comment(request):
+    tool = Tool.objects.get(id=request.POST["tool"])
+    customer = User.objects.get(id=request.POST["customer_id"])
+    back = request.POST["back"]
+
+    dictionary = {"back": back, "tool": tool, "customer": customer}
+
+    """ Post a comment for a tool. """
+    form = CommentForm(request.POST)
+    if not form.is_valid():
+        dictionary["message"] = nice_errors(form).as_ul()
+        dictionary["form"] = form
+
+        return render(request, "kiosk/tool_post_comment.html", dictionary)
+
+    save_comment(request.user, form)
+
+    return redirect("kiosk_tool_information", tool_id=tool.id, user_id=customer.id, back=back)
```

## NEMO/apps/kiosk/templates/kiosk/acknowledgement.html

```diff
@@ -1,26 +1,31 @@
 <h1>{{ message }}</h1>
-
 {% if badge_number %}
     {% if not delay %}
-	    <script>load_choices('{{ badge_number }}')</script>
+        <script>load_choices('{{ badge_number }}')</script>
     {% else %}
-	    <script>revert({{ delay }}, function(){load_choices('{{ badge_number }}')});</script>
+        <script>revert({{ delay }}, function(){load_choices('{{ badge_number }}')});</script>
     {% endif %}
 {% else %}
-	<script>revert({{ delay|default:5 }});</script>
+    <script>revert({{ delay|default:5 }});</script>
 {% endif %}
 {% if ask_logout %}
     <div class="alert alert-info clearfix" style="margin-top: 55px;">
-        <h3 class="col-sm-12" style="margin-bottom: 0">Now that you have finished using the {{ tool.name_or_child_in_use_name }}, would you like to also log out of the {{ area.name }}?</h3>
+        <h3 class="col-sm-12" style="margin-bottom: 0">
+            Now that you have finished using the {{ tool.name_or_child_in_use_name }}, would you like to also log out of the {{ area.name }}?
+        </h3>
         <div class="col-sm-6">
-            <a href="javascript:void(0)" role="button" class="btn btn-default btn-lg btn-block btn-extra-large" onclick="revert(null, function(){load_choices('{{ badge_number }}')});">
+            <a href="javascript:void(0)"
+               role="button"
+               class="btn btn-default btn-lg btn-block btn-extra-large"
+               onclick="revert(null, function(){load_choices('{{ badge_number }}')});">
                 Continue without logging out (<span class="countdown">{{ delay }}</span>)
             </a>
         </div>
         <div class="col-sm-6">
-            <a href="javascript:void(0)" role="button" class="btn btn-success btn-lg btn-block btn-extra-large" onclick="logout_user('{{ tool.id }}', '{{ badge_number }}');">
-                Log out to the {{ area.name }}
-            </a>
+            <a href="javascript:void(0)"
+               role="button"
+               class="btn btn-success btn-lg btn-block btn-extra-large"
+               onclick="logout_user('{{ tool.id }}', '{{ badge_number }}');">Log out to the {{ area.name }}</a>
         </div>
     </div>
-{% endif %}
+{% endif %}
```

## NEMO/apps/kiosk/templates/kiosk/category_choices.html

```diff
@@ -1,50 +1,42 @@
 <div class="row" style="margin-top:30px">
-	<div class="col-xs-offset-3 col-xs-6" onclick="load_choices('{{ customer.badge_number }}')">
-		<div class="alert alert-warning" style="text-align:center; margin-bottom:0">
-			<span style="font-size:x-large">Go back</span>
-		</div>
-	</div>
+    <div class="col-xs-offset-3 col-xs-6" onclick="load_choices('{{ customer.badge_number }}')">
+        <div class="alert alert-warning" style="text-align:center; margin-bottom:0">
+            <span style="font-size:x-large">Go back</span>
+        </div>
+    </div>
 </div>
-
 <h1>{{ category }}</h1>
 <div class="row">
-	{% for tool in tools %}
-		<div class="col-xs-6">
-			<div class="panel panel-default {% if tool in unqualified_tools %}disabled{% endif %}" onclick="tool_information('{% url 'kiosk_tool_information' tool.id customer.id 'back_to_category' %}')">
-				<div class="panel-body">
-
-					<span style="font-size:x-large; margin-right:10px">{{ tool }}</span>
-
-					{% if tool.in_use %}
-						<span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-user primary-highlight"></span>
-					{% endif %}
-
-					{% if tool.delayed_logoff_in_progress %}
-						<span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-time primary-highlight"></span>
-					{% endif %}
-
-					{% if tool.scheduled_outages %}
-						<span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-time danger-highlight"></span>
-					{% elif tool.scheduled_partial_outages %}
-						<span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-time warning-highlight"></span>
-					{% endif %}
-
-					{% if tool.required_resource_is_unavailable %}
-						<span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-leaf danger-highlight"></span>
-					{% elif tool.nonrequired_resource_is_unavailable %}
-						<span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-leaf warning-highlight"></span>
-					{% endif %}
-
-					{% if tool.operational == False %}
-						<span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-fire danger-highlight"></span>
-					{% elif tool.problematic == True %}
-						<span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-wrench warning-highlight"></span>
-					{% endif %}
-
-				</div>
-			</div>
-		</div>
-	{% endfor %}
+    {% for tool in tools %}
+        <div class="col-xs-6">
+            <div class="panel panel-default {% if tool in unqualified_tools %}disabled{% endif %}"
+                 onclick="tool_information('{% url 'kiosk_tool_information' tool.id customer.id 'back_to_category' %}')">
+                <div class="panel-body">
+                    <span style="font-size:x-large; margin-right:10px">{{ tool }}</span>
+                    {% if tool.in_use %}
+                        <span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-user primary-highlight"></span>
+                    {% endif %}
+                    {% if tool.delayed_logoff_in_progress %}
+                        <span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-time primary-highlight"></span>
+                    {% endif %}
+                    {% if tool.scheduled_outages %}
+                        <span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-time danger-highlight"></span>
+                    {% elif tool.scheduled_partial_outages %}
+                        <span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-time warning-highlight"></span>
+                    {% endif %}
+                    {% if tool.required_resource_is_unavailable %}
+                        <span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-leaf danger-highlight"></span>
+                    {% elif tool.nonrequired_resource_is_unavailable %}
+                        <span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-leaf warning-highlight"></span>
+                    {% endif %}
+                    {% if tool.operational == False %}
+                        <span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-fire danger-highlight"></span>
+                    {% elif tool.problematic == True %}
+                        <span style="font-size:x-large; margin-right:10px" class="glyphicon glyphicon-wrench warning-highlight"></span>
+                    {% endif %}
+                </div>
+            </div>
+        </div>
+    {% endfor %}
 </div>
-
-<script>revert(60);</script>
+<script>revert(60);</script>
```

## NEMO/apps/kiosk/templates/kiosk/choices.html

```diff
@@ -1,56 +1,54 @@
 <div class="row" style="margin-top:30px">
-	<div class="col-xs-offset-3 col-xs-6" onclick="revert()">
-		<div class="alert alert-warning" style="text-align:center; margin-bottom:0">
-			<span style="font-size:x-large">I've finished using this kiosk</span>
-		</div>
-	</div>
+    <div class="col-xs-offset-3 col-xs-6" onclick="revert()">
+        <div class="alert alert-warning" style="text-align:center; margin-bottom:0">
+            <span style="font-size:x-large">I've finished using this kiosk</span>
+        </div>
+    </div>
 </div>
-
 {% if messages %}
     {% for message in messages %}
         <div class="alert alert-{{ message.level_tag }} alert-dismissible show-on-load" {% if message.extra_tags %}{{ message.extra_tags }}{% endif %} style="display: none; margin-top: 15px">
             <button type="button" class="close" data-dismiss="alert" aria-label="Modal close button">&times;</button>
-            {{message}}
+            {{ message }}
         </div>
     {% endfor %}
 {% endif %}
-
 {% if usage_events %}
-	<h1>Current {{ facility_name }} usage</h1>
-	<div class="row">
-		{% for u in usage_events %}
-			<div class="col-xs-6">
-				<div class="alert alert-info" onclick="tool_information('{% url 'kiosk_tool_information' u.tool.tool_or_parent_id customer.id 'back_to_start' %}')">
-					<span style="font-size:x-large">{{ u.tool }}</span><br>
-					You are using this tool for the project named <strong>{{ u.project }}</strong> since <strong>{{ u.start|date:"MONTH_DAY_FORMAT" }} @ {{ u.start|time }}</strong>
-				</div>
-			</div>
-		{% endfor %}
-	</div>
+    <h1>Current {{ facility_name }} usage</h1>
+    <div class="row">
+        {% for u in usage_events %}
+            <div class="col-xs-6">
+                <div class="alert alert-info"
+                     onclick="tool_information('{% url 'kiosk_tool_information' u.tool.tool_or_parent_id customer.id 'back_to_start' %}')">
+                    <span style="font-size:x-large">{{ u.tool }}</span>
+                    <br>
+                    You are using this tool for the project named <strong>{{ u.project }}</strong> since <strong>{{ u.start|date:"MONTH_DAY_FORMAT" }} @ {{ u.start|time }}</strong>
+                </div>
+            </div>
+        {% endfor %}
+    </div>
 {% endif %}
-
 <h1>Find a tool by category</h1>
 <div class="row">
-	{% for category in categories %}
-		<div class="col-xs-6">
-			<div class="panel panel-default {% if category in unqualified_categories %}disabled{% endif %}" onclick="view_category('{% url 'kiosk_category_choices' category customer.id %}')">
-				<div class="panel-body">
-					<span style="font-size:x-large; margin-right:10px">{{ category }}</span>
-				</div>
-			</div>
-		</div>
-	{% endfor %}
+    {% for category in categories %}
+        <div class="col-xs-6">
+            <div class="panel panel-default {% if category in unqualified_categories %}disabled{% endif %}"
+                 onclick="view_category('{% url 'kiosk_category_choices' category customer.id %}')">
+                <div class="panel-body">
+                    <span style="font-size:x-large; margin-right:10px">{{ category }}</span>
+                </div>
+            </div>
+        </div>
+    {% endfor %}
 </div>
-
 {% if upcoming_reservations %}
-	<h1>Upcoming Reservations</h1>
-	<div>
-		{% for reservation in upcoming_reservations %}
-			<div class="col-xs-6">
-				{% include 'kiosk/individual_reservation.html' with reservation=reservation customer=customer %}
-			</div>
-		{% endfor %}
-	</div>
+    <h1>Upcoming Reservations</h1>
+    <div>
+        {% for reservation in upcoming_reservations %}
+            <div class="col-xs-6">
+                {% include 'kiosk/individual_reservation.html' with reservation=reservation customer=customer %}
+            </div>
+        {% endfor %}
+    </div>
 {% endif %}
-
-<script>revert(75);</script>
+<script>revert(75);</script>
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
 I've finished using this kiosk
 {% if messages %} {% for message in messages %}
 % if message.extra_tags %}{{ message.extra_tags }}{% endif %} style="display:
-none; margin-top: 15px"> × {{message}}
+none; margin-top: 15px"> × {{ message }}
 {% endfor %} {% endif %} {% if usage_events %}
 ************ CCuurrrreenntt {{{{ ffaacciilliittyy__nnaammee }}}} uussaaggee ************
 {% for u in usage_events %}
 {{ u.tool }}
 You are using this tool for the project named {{{{ uu..pprroojjeecctt }}}} since {{
 {{ uu..ssttaarrtt||ddaattee::""MMOONNTTHH__DDAAYY__FFOORRMMAATT"" }}}} @@ {{{{ uu..ssttaarrtt||ttiimmee }}}}
 {% endfor %}
```

## NEMO/apps/kiosk/templates/kiosk/error.html

```diff
@@ -1,30 +1,30 @@
 {% if project %}
-	<form id="tool_control" style="display: none">
-		{% csrf_token %}
-		<input type="hidden" name="project_id" value="{{ project.id }}">
-	</form>
+    <form id="tool_control" style="display: none">
+        {% csrf_token %}
+        <input type="hidden" name="project_id" value="{{ project.id }}">
+    </form>
 {% endif %}
 <div class="row" style="margin:30px 0">
-	{% if back %}
-		<div class="col-xs-offset-1 col-xs-5" onclick="tool_reservation('{% url 'kiosk_tool_reservation' tool.id customer.id back %}')">
-			<div class="alert alert-info" style="text-align:center; margin-bottom:0">
-				<span style="font-size:x-large">Go back to reservation</span>
-			</div>
-		</div>
-	{% else %}
-		<div class="col-xs-offset-1 col-xs-5" onclick="load_choices('{{ customer.badge_number }}')">
-			<div class="alert alert-info" style="text-align:center; margin-bottom:0">
-				<span style="font-size:x-large">Go back</span>
-			</div>
-		</div>
-	{% endif %}
-	<div class="col-xs-5" onclick="revert()">
-		<div class="alert alert-warning" style="text-align:center; margin-bottom:0">
-			<span style="font-size:x-large">I've finished using this kiosk</span>
-		</div>
-	</div>
+    {% if back %}
+        <div class="col-xs-offset-1 col-xs-5"
+             onclick="tool_reservation('{% url 'kiosk_tool_reservation' tool.id customer.id back %}')">
+            <div class="alert alert-info" style="text-align:center; margin-bottom:0">
+                <span style="font-size:x-large">Go back to reservation</span>
+            </div>
+        </div>
+    {% else %}
+        <div class="col-xs-offset-1 col-xs-5" onclick="load_choices('{{ customer.badge_number }}')">
+            <div class="alert alert-info" style="text-align:center; margin-bottom:0">
+                <span style="font-size:x-large">Go back</span>
+            </div>
+        </div>
+    {% endif %}
+    <div class="col-xs-5" onclick="revert()">
+        <div class="alert alert-warning" style="text-align:center; margin-bottom:0">
+            <span style="font-size:x-large">I've finished using this kiosk</span>
+        </div>
+    </div>
 </div>
-
 <h2>Error</h2>
 <h3>{{ message }}</h3>
-<script>revert(20)</script>
+<script>revert(20)</script>
```

## NEMO/apps/kiosk/templates/kiosk/individual_reservation.html

```diff
@@ -1,52 +1,80 @@
 {% load custom_tags_and_filters %}
-<div class="alert {% if reservation.start < now %}alert-warning{% else %}alert-success{% endif %}" role="alert" onclick="tool_information('{% url 'kiosk_tool_information' reservation.tool.id customer.id 'back_to_start' %}')">
+<div class="alert {% if reservation.start < now %}alert-warning{% else %}alert-success{% endif %}"
+     role="alert"
+     onclick="tool_information('{% url 'kiosk_tool_information' reservation.tool.id customer.id 'back_to_start' %}')">
     <strong>
         {% if reservation.title %}{{ reservation.title }} ({% endif %}
-        {% if reservation.start < now %}You're late for your {% endif %}
+        {% if reservation.start < now %}You're late for your{% endif %}
         <span style="cursor:pointer;text-decoration: underline">{{ reservation.tool }}</span>
-        {% if reservation.start < now %} reservation!{% endif %}
+        {% if reservation.start < now %}reservation!{% endif %}
         {% if reservation.title %}){% endif %}
     </strong>
     <br>
-    Starting {{ reservation.start }}<br>
-    Ending {{ reservation.end }}<br>
+    Starting {{ reservation.start }}
+    <br>
+    Ending {{ reservation.end }}
+    <br>
     <div>
         {% for question_name, data in reservation.question_data_json.items %}
-            {{ question_name }}: {{ data.user_input }}<br>
+            {{ question_name }}: {{ data.user_input }}
+            <br>
         {% endfor %}
         <div style="height:10px">{# Vertical spacer #}</div>
         {% if reservation.project %}
-            For project {{ reservation.project }}<br>
+            For project {{ reservation.project }}
+            <br>
         {% endif %}
-        <span style="white-space: pre-line">Created by {{ reservation.creator }} {% if reservation.user != reservation.creator %} on behalf of {{ reservation.user }}{% endif %} on {{ reservation.creation_time}}</span><br>
+        <span style="white-space: pre-line">Created by {{ reservation.creator }}
+            {% if reservation.user != reservation.creator %}on behalf of {{ reservation.user }}{% endif %}
+        on {{ reservation.creation_time }}</span>
+        <br>
         {% if reservation.tool_accessories.exists %}
-			<br>Selected accessories:<br>
-			{{ reservation.tool_accessories.all|join:", " }}
-			<br><br>
-		{% endif %}
-		{% if reservation.self_configuration %}
-            <strong>You have elected to configure this tool yourself.</strong><br>
+            <br>
+            Selected accessories:
+            <br>
+            {{ reservation.tool_accessories.all|join:", " }}
+            <br>
+            <br>
+        {% endif %}
+        {% if reservation.self_configuration %}
+            <strong>You have elected to configure this tool yourself.</strong>
+            <br>
         {% else %}
             {% if reservation.short_notice %}
-                <strong>This reservation was created on short notice. Tool configuration is not guaranteed upon start time.</strong><br>
+                <strong>This reservation was created on short notice. Tool configuration is not guaranteed upon start time.</strong>
+                <br>
             {% endif %}
         {% endif %}
-		{% if reservation.configurationoption_set.exists %}
-			<div style="height:10px">{# Vertical spacer #}</div>
-			Configuration:<br>
-			{% for config_option in reservation.configurationoption_set.all %}
-				{{ config_option.name }}{% if config_option.precursor_configuration %} {% if config_option.current_position is None %}any position{% else %}position {{ config_option.current_position }}{% endif %}{% endif %}: {% if config_option.get_color %}<span class="configuration-reservation-option"
-																				style="background-color: {{ config_option.get_color }}">{{ config_option.current_setting }}</span>{% else %}
-				{{ config_option.current_setting }}{% endif %}<br>
-			{% endfor %}
-		{% endif %}
+        {% if reservation.configurationoption_set.exists %}
+            <div style="height:10px">{# Vertical spacer #}</div>
+            Configuration:
+            <br>
+            {% for config_option in reservation.configurationoption_set.all %}
+                {{ config_option.name }}
+                {% if config_option.precursor_configuration %}
+                    {% if config_option.current_position is None %}
+                        any position
+                    {% else %}
+                        position {{ config_option.current_position }}
+                    {% endif %}
+                {% endif %}
+                :
+                {% if config_option.get_color %}
+                    <span class="configuration-reservation-option" style="background-color: {{ config_option.get_color }}">{{ config_option.current_setting }}</span>
+                {% else %}
+                    {{ config_option.current_setting }}
+                {% endif %}
+                <br>
+            {% endfor %}
+        {% endif %}
         {% if reservation.additional_information %}
-			<div style="height:10px">{# Vertical spacer #}</div>
-            Additional information:<br>
+            <div style="height:10px">{# Vertical spacer #}</div>
+            Additional information:
+            <br>
             {{ reservation.additional_information|linebreaksbr }}
         {% endif %}
         {# Allow the user to cancel the reservation if they have that privilege. #}
         {% if not reservation.missed and not reservation.cancelled %}
             {% if reservation.user.id == customer.id and reservation.has_not_ended %}
                 <div style="height:10px">{# Vertical spacer #}</div>
                 <form id="cancel_reservation_{{ reservation.id }}" method="post">
@@ -60,8 +88,8 @@
                     cancel_reservation('{% url 'cancel_reservation_from_kiosk' reservation.id %}', '{{ reservation.id }}');
                     e.stopPropagation();
                 });
                 </script>
             {% endif %}
         {% endif %}
     </div>
-</div>
+</div>
```

### html2text {}

```diff
@@ -1,39 +1,39 @@
 {% load custom_tags_and_filters %}
 {{%% iiff rreesseerrvvaattiioonn..ttiittllee %%}}{{{{ rreesseerrvvaattiioonn..ttiittllee }}}} (({{%% eennddiiff %%}} {{%% iiff
-rreesseerrvvaattiioonn..ssttaarrtt << nnooww %%}}YYoouu''rree llaattee ffoorr yyoouurr {{%% eennddiiff %%}} {{{{ rreesseerrvvaattiioonn..ttooooll
-}}}} {{%% iiff rreesseerrvvaattiioonn..ssttaarrtt << nnooww %%}} rreesseerrvvaattiioonn!!{{%% eennddiiff %%}} {{%% iiff
+rreesseerrvvaattiioonn..ssttaarrtt << nnooww %%}}YYoouu''rree llaattee ffoorr yyoouurr{{%% eennddiiff %%}} {{{{ rreesseerrvvaattiioonn..ttooooll
+}}}} {{%% iiff rreesseerrvvaattiioonn..ssttaarrtt << nnooww %%}}rreesseerrvvaattiioonn!!{{%% eennddiiff %%}} {{%% iiff
 rreesseerrvvaattiioonn..ttiittllee %%}})){{%% eennddiiff %%}}
 Starting {{ reservation.start }}
 Ending {{ reservation.end }}
 {% for question_name, data in reservation.question_data_json.items %} {
 { question_name }}: {{ data.user_input }}
 {% endfor %}
 {# Vertical spacer #}
 {% if reservation.project %} For project {{ reservation.project }}
 {% endif %} Created by {{ reservation.creator }} {% if reservation.user !=
-reservation.creator %} on behalf of {{ reservation.user }}{% endif %} on {
-{ reservation.creation_time}}
+reservation.creator %}on behalf of {{ reservation.user }}{% endif %} on {
+{ reservation.creation_time }}
 {% if reservation.tool_accessories.exists %}
 Selected accessories:
 {{ reservation.tool_accessories.all|join:", " }}
 
 {% endif %} {% if reservation.self_configuration %} YYoouu hhaavvee eelleecctteedd ttoo
 ccoonnffiigguurree tthhiiss ttooooll yyoouurrsseellff..
 {% else %} {% if reservation.short_notice %} TThhiiss rreesseerrvvaattiioonn wwaass ccrreeaatteedd oonn
 sshhoorrtt nnoottiiccee.. TTooooll ccoonnffiigguurraattiioonn iiss nnoott gguuaarraanntteeeedd uuppoonn ssttaarrtt ttiimmee..
 {% endif %} {% endif %} {% if reservation.configurationoption_set.exists %}
 {# Vertical spacer #}
 Configuration:
 {% for config_option in reservation.configurationoption_set.all %} {
-{ config_option.name }}{% if config_option.precursor_configuration %} {% if
-config_option.current_position is None %}any position{% else %}position {
-{ config_option.current_position }}{% endif %}{% endif %}: {% if
-config_option.get_color %}{{ config_option.current_setting }}{% else %} {
-{ config_option.current_setting }}{% endif %}
+{ config_option.name }} {% if config_option.precursor_configuration %} {% if
+config_option.current_position is None %} any position {% else %} position {
+{ config_option.current_position }} {% endif %} {% endif %} : {% if
+config_option.get_color %} {{ config_option.current_setting }} {% else %} {
+{ config_option.current_setting }} {% endif %}
 {% endfor %} {% endif %} {% if reservation.additional_information %}
 {# Vertical spacer #}
 Additional information:
 {{ reservation.additional_information|linebreaksbr }} {% endif %} {# Allow the
 user to cancel the reservation if they have that privilege. #} {% if not
 reservation.missed and not reservation.cancelled %} {% if reservation.user.id
 == customer.id and reservation.has_not_ended %}
```

## NEMO/apps/kiosk/templates/kiosk/kiosk.html

```diff
@@ -1,109 +1,103 @@
 <!DOCTYPE html>
 <html lang="en">
-<head>
-	<title>Kiosk</title>
-	{% load static %}
-	{% load custom_tags_and_filters %}
-
-	{# jQuery #}
-    <script type="text/javascript" src="{% static "jquery.min.js" %}"></script>
-
-	{# Bootstrap #}
-    <script type="text/javascript" src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
-    <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.min.css" %}"/>
-    <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.min.css" %}"/>
-
-	{# Numpad #}
-	<script type="text/javascript" src="{% static "numpad/custom_numpad.jquery.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "numpad/numpad.jquery.css" %}"/>
-
-	{# Virtual Keyboard	#}
-	<script type="text/javascript" src="{% static "virtualkeyboard/jquery.keyboard.min.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "virtualkeyboard/keyboard-basic.min.css" %}"/>
-
-	{# NEMO #}
-    <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}"/>
-	<script type="text/javascript" src="{% static "nemo.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "nemo.css" %}"/>
-
-	{# Kiosk #}
-	<link rel="stylesheet" type="text/css" href="{% static "kiosk/kiosk.css" %}"/>
-
-	{# Badge Reader #}
-	<script type="text/javascript" src="{% static "badge_reader.js" %}"></script>
-
-    <!--suppress CssUnusedSymbol -->
-	<style>
+    <head>
+        <title>Kiosk</title>
+        {% load static %}
+        {% load custom_tags_and_filters %}
+        {# jQuery #}
+        <script type="text/javascript" src="{% static "jquery.min.js" %}"></script>
+        {# Bootstrap #}
+        <script type="text/javascript" src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
+        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.min.css" %}" />
+        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.min.css" %}" />
+        {# Numpad #}
+        <script type="text/javascript" src="{% static "numpad/custom_numpad.jquery.js" %}"></script>
+        <link rel="stylesheet" type="text/css" href="{% static "numpad/numpad.jquery.css" %}" />
+        {# Virtual Keyboard	#}
+        <script type="text/javascript" src="{% static "virtualkeyboard/jquery.keyboard.min.js" %}"></script>
+        <link rel="stylesheet" type="text/css" href="{% static "virtualkeyboard/keyboard-basic.min.css" %}" />
+        {# NEMO #}
+        <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}" />
+        <script type="text/javascript" src="{% static "nemo.js" %}"></script>
+        <link rel="stylesheet" type="text/css" href="{% static "nemo.css" %}" />
+        {# Kiosk #}
+        <link rel="stylesheet" type="text/css" href="{% static "kiosk/kiosk.css" %}" />
+        {# Badge Reader #}
+        <script type="text/javascript" src="{% static "badge_reader.js" %}"></script>
+        <!--suppress CssUnusedSymbol -->
+        <style>
 		.btn-extra-large
 		{
 			margin-top: 50px;
 			margin-bottom: 50px;
 			font-size: 36px;
 		}
         {# Prevent links in tooltips #}
         .tooltip .tooltip-inner a
         {
             pointer-events: none;
         }
-	</style>
-</head>
-<body>
-	<div id="kiosk-container">
-		<div class="container-fluid">
-			<div id="default_content">
-				<h1>Scan your badge to control tools</h1>
-				<div id="occupancy"></div>
-				<div id="usage_title"></div>
-				<div class="tab-pane{% if tools_exist and tab == 'tools' %} active{% endif %} info-tooltip-container"
-					 id="tools">
-					<div id="usage"></div>
-				</div>
-				<div id="alerts">
-				</div>
-			</div>
-
-			<div id="error" style="display: none"><h1>There was a problem communicating with the web server. Please visit the user office for assistance.</h1></div>
-            <div id="interlock_error" style="display: none">
-                <h1 class="text-center">
-                    <span style="font-size: xx-large;margin-right:10px;" class="glyphicon glyphicon-exclamation-sign danger-highlight"></span>
-                    Interlock error
-                </h1>
-                <h3 id="interlock_message" class="text-center"></h3>
-
-                <div class="col-xs-4" style="margin: 40px auto; float: initial">
-                    <div id="inter_bypass" class="btn-block" style="display: none; margin-bottom: 10px">
-                        <div class="alert alert-success" style="text-align:center; margin-bottom:0">
-                            <span id="bypass_text" style="font-size:x-large"></span>
-                        </div>
+	
+        </style>
+    </head>
+    <body>
+        <div id="kiosk-container">
+            <div class="container-fluid">
+                <div id="default_content">
+                    <h1>Scan your badge to control tools</h1>
+                    <div id="occupancy"></div>
+                    <div id="usage_title"></div>
+                    <div class="tab-pane{% if tools_exist and tab == 'tools' %} active{% endif %} info-tooltip-container"
+                         id="tools">
+                        <div id="usage"></div>
                     </div>
-                    <div id="inter_try_again" class="btn-block" style="margin-bottom: 10px">
-                        <div class="alert alert-info" style="text-align:center; margin-bottom:0">
-                            <span style="font-size:x-large">Try again</span>
+                    <div id="alerts"></div>
+                </div>
+                <div id="error" style="display: none">
+                    <h1>There was a problem communicating with the web server. Please visit the user office for assistance.</h1>
+                </div>
+                <div id="interlock_error" style="display: none">
+                    <h1 class="text-center">
+                        <span style="font-size: xx-large;
+                                     margin-right:10px"
+                              class="glyphicon glyphicon-exclamation-sign danger-highlight"></span>
+                        Interlock error
+                    </h1>
+                    <h3 id="interlock_message" class="text-center"></h3>
+                    <div class="col-xs-4" style="margin: 40px auto; float: initial">
+                        <div id="inter_bypass" class="btn-block" style="display: none; margin-bottom: 10px">
+                            <div class="alert alert-success" style="text-align:center; margin-bottom:0">
+                                <span id="bypass_text" style="font-size:x-large"></span>
+                            </div>
                         </div>
-                    </div>
-                    <div id="inter_back" class="btn-block" style="margin-bottom: 10px">
-                        <div class="alert alert-warning" style="text-align:center; margin-bottom:0; font-size:x-large">
-                            Go back
+                        <div id="inter_try_again" class="btn-block" style="margin-bottom: 10px">
+                            <div class="alert alert-info" style="text-align:center; margin-bottom:0">
+                                <span style="font-size:x-large">Try again</span>
+                            </div>
                         </div>
-                    </div>
-                    <div class="btn-block" onclick="revert()">
-                        <div class="alert alert-warning" style="text-align:center; margin-bottom:0">
-                            <span style="font-size:x-large">I've finished using this kiosk</span>
+                        <div id="inter_back" class="btn-block" style="margin-bottom: 10px">
+                            <div class="alert alert-warning" style="text-align:center; margin-bottom:0; font-size:x-large">Go back</div>
+                        </div>
+                        <div class="btn-block" onclick="revert()">
+                            <div class="alert alert-warning" style="text-align:center; margin-bottom:0">
+                                <span style="font-size:x-large">I've finished using this kiosk</span>
+                            </div>
                         </div>
                     </div>
                 </div>
+                <div id="status" style="display: none"></div>
+                <div>
+                    <h1 style="color:lightgrey" id="badge_number"></h1>
+                </div>
             </div>
-			<div id="status" style="display: none"></div>
-			<div><h1 style="color:lightgrey" id="badge_number"></h1></div>
-		</div>
-		<div class="countdown" style="position: fixed; bottom: 0; right: 0;font-size: x-large"></div>
-	</div>
-	{% include 'base/footer.html' %}
-	<script type="text/javascript">
+            <div class="countdown" style="position: fixed; bottom: 0; right: 0;font-size: x-large"></div>
+        </div>
+        {% include 'base/footer.html' %}
+        <script type="text/javascript">
         {% with show_badge_number="application"|customization:"show_badge_number" %}
 		let kiosk_badge_reader = new BadgeReader(send_badge_number, "{{ badge_reader.send_key }}", {% if badge_reader.record_key %}"{{ badge_reader.record_key }}"{% else %}undefined{% endif %}, {{ show_badge_number|yesno:"true,false" }});
         {% endwith %}
 		let timeout_handle = null;
 		let countdown_handle = null;
 		let occupancy = new URLSearchParams(window.location.search).get('occupancy');
         let usage = new URLSearchParams(window.location.search).get('usage') !== null;
@@ -225,14 +219,50 @@
 		{
 			default_content_element.hide();
 			error_element.hide();
 			error_interlock_element.hide();
 			status_element.html("<h1>Loading tool information...</h1>").show();
             ajax_get(url, undefined, load_complete);
 		}
+		function tool_report_problem(url)
+        {
+            default_content_element.hide();
+            error_element.hide();
+            error_interlock_element.hide();
+            let data = $('#tool_control').serialize();
+            status_element.html("<h1>Loading report a problem...</h1>").show();
+            ajax_post(url, data, load_complete);
+        }
+        function report_problem()
+        {
+            default_content_element.hide();
+            error_element.hide();
+            error_interlock_element.hide();
+            let data = $('#tool_report_problem').serialize();
+            status_element.html("<h1>Reporting problem...</h1>").show();
+            ajax_post('{% url 'report_problem_from_kiosk' %}', data, load_complete);
+        }
+        function tool_post_comment(url)
+        {
+            default_content_element.hide();
+            error_element.hide();
+            error_interlock_element.hide();
+            let data = $('#tool_control').serialize();
+            status_element.html("<h1>Loading post a comment...</h1>").show();
+            ajax_post(url, data, load_complete);
+        }
+        function post_comment()
+        {
+            default_content_element.hide();
+            error_element.hide();
+            error_interlock_element.hide();
+            let data = $('#tool_post_comment').serialize();
+            status_element.html("<h1>Posting comment...</h1>").show();
+            ajax_post('{% url 'post_comment_from_kiosk' %}', data, load_complete);
+        }
 		function view_category(url)
 		{
 			default_content_element.hide();
 			error_element.hide();
 			error_interlock_element.hide();
 			status_element.html("<h1>Loading category...</h1>").show();
             ajax_get(url, undefined, load_complete);
@@ -264,14 +294,43 @@
 			status_element.html("<h1>Reserving tool...</h1>").show();
             ajax_post('{% url 'reserve_tool_from_kiosk' %}', data, load_complete);
 		}
 		function try_post_catch_interlock_error(url, data)
         {
             ajax_post(url, data, function(response, status, xml_http_request) {interlock_success_callback(response, status, xml_http_request)}, function(response, status, xml_http_request) { return interlock_failure_callback(response, status, xml_http_request, url, data) })
         }
+
+		function enter_wait_list(tool_id, customer_id)
+        {
+			default_content_element.hide();
+			error_element.hide();
+			error_interlock_element.hide();
+			let url = "{% url 'enter_wait_list_from_kiosk' %}";
+			status_element.html("<h1>Entering wait list...</h1>").show();
+			let data = {
+                tool_id: tool_id,
+				customer_id: customer_id
+			};
+            ajax_post(url, data, load_complete);
+		}
+
+		function exit_wait_list(tool_id, customer_id)
+        {
+			default_content_element.hide();
+			error_element.hide();
+			error_interlock_element.hide();
+			let url = "{% url 'exit_wait_list_from_kiosk' %}";
+			status_element.html("<h1>Exiting wait list...</h1>").show();
+            let data = {
+                tool_id: tool_id,
+				customer_id: customer_id
+			};
+            ajax_post(url, data, load_complete);
+		}
+
 		function enable_tool(tool_id)
 		{
 			default_content_element.hide();
 			error_element.hide();
 			error_interlock_element.hide();
 			let data = $('#tool_control').serialize();
 			if (tool_id)
@@ -394,10 +453,11 @@
         function close_keyboards()
 		{
             $.each($('.ui-keyboard-input'), function (index, item)
 			{
                 $(item).data('keyboard').close(false);
             })
         }
-	</script>
-</body>
-</html>
+	
+        </script>
+    </body>
+</html>
```

### html2text {}

```diff
@@ -1,20 +1,20 @@
 {% load static %} {% load custom_tags_and_filters %} {# jQuery #}
 }">
 {# Bootstrap #}
 }">
-}"/>
-}"/> {# Numpad #}
+}" />
+}" /> {# Numpad #}
 }">
-}"/> {# Virtual Keyboard #}
+}" /> {# Virtual Keyboard #}
 }">
-}"/> {# NEMO #}
+}" /> {# NEMO #}
 }">
-}"/> {# Kiosk #}
-}"/> {# Badge Reader #}
+}" /> {# Kiosk #}
+}" /> {# Badge Reader #}
 }">
 ************ SSccaann yyoouurr bbaaddggee ttoo ccoonnttrrooll ttoooollss ************
 ************ TThheerree wwaass aa pprroobblleemm ccoommmmuunniiccaattiinngg wwiitthh tthhee wweebb sseerrvveerr.. PPlleeaassee vviissiitt tthhee
 uusseerr ooffffiiccee ffoorr aassssiissttaannccee.. ************
 ************ IInntteerrlloocckk eerrrroorr ************
 Try again
 Go back
```

## NEMO/apps/kiosk/templates/kiosk/success.html

```diff
@@ -1,27 +1,25 @@
 <div class="row" style="margin:30px 0">
-	<div class="col-xs-offset-1 col-xs-5" onclick="load_choices('{{ customer.badge_number }}')">
-		<div class="alert alert-info" style="text-align:center; margin-bottom:0">
-			<span style="font-size:x-large">Keep using this kiosk</span>
-		</div>
-	</div>
-	<div class="col-xs-5" onclick="revert()">
-		<div class="alert alert-warning" style="text-align:center; margin-bottom:0">
-			<span style="font-size:x-large">I've finished using this kiosk</span>
-		</div>
-	</div>
+    <div class="col-xs-offset-1 col-xs-5" onclick="load_choices('{{ customer.badge_number }}')">
+        <div class="alert alert-info" style="text-align:center; margin-bottom:0">
+            <span style="font-size:x-large">Keep using this kiosk</span>
+        </div>
+    </div>
+    <div class="col-xs-5" onclick="revert()">
+        <div class="alert alert-warning" style="text-align:center; margin-bottom:0">
+            <span style="font-size:x-large">I've finished using this kiosk</span>
+        </div>
+    </div>
 </div>
-
 {% if new_reservation %}
-	<h2>Reservation confirmed!</h2>
-	<div class="alert alert-success" role="alert">
-		<strong>{{ new_reservation.reservation_item }}</strong><br>
-		Starting {{ new_reservation.start }}<br>
-		Ending {{ new_reservation.end }}<br>
-	</div>
+    <h2>Reservation confirmed!</h2>
+    <div class="alert alert-success" role="alert">
+        <strong>{{ new_reservation.reservation_item }}</strong>
+        <br>
+        Starting {{ new_reservation.start }}
+        <br>
+        Ending {{ new_reservation.end }}
+        <br>
+    </div>
 {% endif %}
-{% if cancelled_reservation %}
-	<h2>The reservation has been cancelled.</h2>
-{% endif %}
-<script>
-	revert(20);
-</script>
+{% if cancelled_reservation %}<h2>The reservation has been cancelled.</h2>{% endif %}
+<script>revert(20);</script>
```

## NEMO/apps/kiosk/templates/kiosk/tool_information.html

```diff
@@ -1,369 +1,533 @@
 {% load custom_tags_and_filters %}
 <div class="row" style="margin-top:30px">
-	<div class="col-xs-offset-3 col-xs-6" onclick="{% if back == 'back_to_start' %}load_choices('{{ customer.badge_number }}'){% elif back == 'back_to_category' %}view_category('{% url 'kiosk_category_choices' tool.category customer.id %}'){% endif %}">
-		<div class="alert alert-warning" style="text-align:center; margin-bottom:0; font-size:x-large">
-			Go back
-		</div>
-	</div>
+    <div class="col-xs-offset-3 col-xs-6"
+         onclick="{% if back == 'back_to_start' %}load_choices('{{ customer.badge_number }}'){% elif back == 'back_to_category' %}view_category('{% url 'kiosk_category_choices' tool.category customer.id %}'){% endif %}">
+        <div class="alert alert-warning" style="text-align:center; margin-bottom:0; font-size:x-large">Go back</div>
+    </div>
 </div>
-
-<h1>{{ tool.name_or_child_in_use_name }}</h1>
-
+<h1 style="display:inline-block">{{ tool.name_or_child_in_use_name }}</h1>
+<button class="btn btn-default"
+        style="text-align:center;
+               margin-top:50px;
+               margin-bottom:10px;
+               margin-left:30px;
+               vertical-align:super;
+               font-size:x-large"
+        onclick="tool_report_problem('{% url 'kiosk_tool_report_problem' tool.id customer.id back %}')">
+    Report a problem
+</button>
+<button class="btn btn-default"
+        style="text-align:center;
+               margin-top:50px;
+               margin-bottom:10px;
+               margin-left:10px;
+               vertical-align:super;
+               font-size:x-large"
+        onclick="tool_post_comment('{% url 'kiosk_tool_post_comment' tool.id customer.id back %}')">
+    Post a comment
+</button>
 {# Display tool status... #}
 <div class="tool-status">
-	{% if tool.in_use %}
-		<div class="primary-highlight media">
-			<span class="glyphicon glyphicon-user pull-left notification-icon"></span>
-			{% with tool.get_current_usage_event as current_usage_event %}
-				<h2>
-					{% if current_usage_event.operator.id == customer.id %}
-						You are using this tool
-					{% else %}
-						{{ current_usage_event.operator }} is using this tool
-					{% endif %}
-					{% if current_usage_event.operator.id != current_usage_event.user.id %}
-						on behalf of {{ current_usage_event.user }}
-					{% endif %}
-					for the project named {{ current_usage_event.project.name }} since {{ current_usage_event.start }}.
-				</h2>
-			{% endwith %}
-		</div>
-		{% if tool.in_use %}
-			{% if customer.is_staff or customer.is_user_office %}
-				<p>You may <a href="javascript:void(0)" onclick="disable_tool();">force {{ tool.get_current_usage_event.operator }} off this tool</a>.</p>
-			{% elif not tool.post_usage_questions %}
-				{% if remaining_reservation_duration and "tool"|customization:"tool_control_ongoing_reservation_force_off" == "enabled" %}
-					<p>You may <a href="javascript:void(0)" onclick="disable_tool('{% url 'disable_tool' tool.id %}')">force {{ tool.get_current_usage_event.operator }} off this tool</a> since you have an ongoing reservation and the tool has no post usage questions.</p>
-				{% endif %}
-			{% endif %}
-		{% endif %}
-	{% elif tool.delayed_logoff_in_progress %}
-		{% with tool.get_delayed_logoff_usage_event as delayed_logoff_event %}
-			<div class="primary-highlight media">
-				<span class="glyphicon glyphicon-time pull-left notification-icon"></span>
-				<h2>{{ delayed_logoff_event.operator }} has finished using the {{ tool.name_or_child_in_use_name }} but delayed logoff is in effect. The tool will be available at {{ delayed_logoff_event.end|time }}.</h2>
-			</div>
-		{% endwith %}
-	{% elif not tool.operational or tool.required_resource_is_unavailable or tool.scheduled_outages %}
-		<div class="danger-highlight media">
-			<span class="glyphicon glyphicon-ban-circle pull-left notification-icon"></span>
-			<h2>This tool is <strong>shut down</strong>.</h2>
-		</div>
-	{% elif tool.nonrequired_resource_is_unavailable %}
-		<div class="warning-highlight media">
-			<span class="glyphicon glyphicon-exclamation-sign pull-left notification-icon"></span>
-			<h2>This tool is <strong>operational</strong> but not all resources are available.</h2>
-		</div>
-	{% else %}
-		<div class="success-highlight media">
-			<span class="glyphicon glyphicon-ok pull-left notification-icon"></span>
-			<h2>This tool is <strong>operational</strong> and <strong>idle</strong>.</h2>
-		</div>
-	{% endif %}
+    {% if tool.in_use %}
+        <div class="primary-highlight media">
+            <span class="glyphicon glyphicon-user pull-left notification-icon"></span>
+            {% with tool.get_current_usage_event as current_usage_event %}
+                <h2>
+                    {% if current_usage_event.operator.id == customer.id %}
+                        You are using this tool
+                    {% else %}
+                        {{ current_usage_event.operator }} is using this tool
+                    {% endif %}
+                    {% if current_usage_event.operator.id != current_usage_event.user.id %}
+                        on behalf of {{ current_usage_event.user }}
+                    {% endif %}
+                    for the project named {{ current_usage_event.project.name }} since {{ current_usage_event.start }}.
+                </h2>
+            {% endwith %}
+        </div>
+        {% if tool.in_use %}
+            {% if customer.is_staff or customer.is_user_office %}
+                <p>
+                    You may <a href="javascript:void(0)" onclick="disable_tool();">force {{ tool.get_current_usage_event.operator }} off this tool</a>.
+                </p>
+            {% elif not tool.post_usage_questions %}
+                {% if remaining_reservation_duration and "tool"|customization:"tool_control_ongoing_reservation_force_off" == "enabled" %}
+                    <p>
+                        You may <a href="javascript:void(0)" onclick="disable_tool('{% url 'disable_tool' tool.id %}')">force {{ tool.get_current_usage_event.operator }} off this tool</a> since you have an ongoing reservation and the tool has no post usage questions.
+                    </p>
+                {% endif %}
+            {% endif %}
+        {% endif %}
+    {% elif tool.delayed_logoff_in_progress %}
+        {% with tool.get_delayed_logoff_usage_event as delayed_logoff_event %}
+            <div class="primary-highlight media">
+                <span class="glyphicon glyphicon-time pull-left notification-icon"></span>
+                <h2>
+                    {{ delayed_logoff_event.operator }} has finished using the {{ tool.name_or_child_in_use_name }} but delayed logoff is in effect. The tool will be available at {{ delayed_logoff_event.end|time }}.
+                </h2>
+            </div>
+        {% endwith %}
+    {% elif not tool.operational or tool.required_resource_is_unavailable or tool.scheduled_outages %}
+        <div class="danger-highlight media">
+            <span class="glyphicon glyphicon-ban-circle pull-left notification-icon"></span>
+            <h2>
+                This tool is <strong>shut down</strong>.
+            </h2>
+        </div>
+    {% elif tool.nonrequired_resource_is_unavailable %}
+        <div class="warning-highlight media">
+            <span class="glyphicon glyphicon-exclamation-sign pull-left notification-icon"></span>
+            <h2>
+                This tool is <strong>operational</strong> but not all resources are available.
+            </h2>
+        </div>
+    {% else %}
+        <div class="success-highlight media">
+            <span class="glyphicon glyphicon-ok pull-left notification-icon"></span>
+            <h2>
+                This tool is <strong>operational</strong> and <strong>idle</strong>.
+            </h2>
+        </div>
+    {% endif %}
 </div>
-
 {% if tool.active_counters %}
-	<div class="tool-counters">
-		{% for counter in tool.active_counters %}
-			<div class="tool-counter">
-				<div class="tool-counter-name">{{ counter.name }}: <span style="font-weight: bold; {% if counter.value_color %}color: {{ counter.value_color }}{% endif %}">{{ counter.value|floatformat:-2 }}</span></div>
-				<div class="tool-counter-description">{{ counter.description|linebreaksbr }}</div>
-			</div>
-		{% endfor %}
-	</div>
+    <div class="tool-counters">
+        {% for counter in tool.active_counters %}
+            <div class="tool-counter">
+                <div class="tool-counter-name">
+                    {{ counter.name }}: <span style="font-weight: bold; {% if counter.value_color %}color: {{ counter.value_color }}{% endif %}">{{ counter.value|floatformat:-2 }}</span>
+                </div>
+                <div class="tool-counter-description">{{ counter.description|linebreaksbr }}</div>
+            </div>
+        {% endfor %}
+    </div>
 {% endif %}
-
 {# dangers #}
 {% if tool.unavailable_required_resources or tool.scheduled_outages %}
-	<div class="danger-status">
-		{# Display any unavailable required resources... #}
-		{% for r in tool.unavailable_required_resources %}
-			<div class="media">
-				<span class="glyphicon glyphicon-leaf pull-left notification-icon danger-highlight"></span>
-				<div class="media-body">
-					<span class="media-heading">A required resource is unavailable: {{ r.name }} <span class="light-grey">({{ r.category }})</span></span>
-					<span class="media-middle">{{ r.restriction_message }}</span>
-				</div>
-			</div>
-		{% endfor %}
-
-		{# Display any resources scheduled outages... #}
-		{% for o in tool.scheduled_outages %}
-			<div class="media">
-				<span class="glyphicon glyphicon-time pull-left notification-icon danger-highlight"></span>
-				<div class="media-body">
-					<span class="media-heading">{{ o.title }}<span class="light-grey"> ({{ o.resource.category }})</span></span>
-					{% if o.details %}<span class="media-middle">{{ o.details }}</span>{% endif %}
-					<span class="media-bottom">{{ o.creator }} scheduled this outage from {{ o.start }} until {{ o.end }}.</span>
-				</div>
-			</div>
-		{% endfor %}
-	</div>
+    <div class="danger-status">
+        {# Display any unavailable required resources... #}
+        {% for r in tool.unavailable_required_resources %}
+            <div class="media">
+                <span class="glyphicon glyphicon-leaf pull-left notification-icon danger-highlight"></span>
+                <div class="media-body">
+                    <span class="media-heading">A required resource is unavailable: {{ r.name }} <span class="light-grey">({{ r.category }})</span></span>
+                    <span class="media-middle">{{ r.restriction_message }}</span>
+                </div>
+            </div>
+        {% endfor %}
+        {# Display any resources scheduled outages... #}
+        {% for o in tool.scheduled_outages %}
+            <div class="media">
+                <span class="glyphicon glyphicon-time pull-left notification-icon danger-highlight"></span>
+                <div class="media-body">
+                    <span class="media-heading">{{ o.title }}<span class="light-grey">({{ o.resource.category }})</span></span>
+                    {% if o.details %}<span class="media-middle">{{ o.details }}</span>{% endif %}
+                    <span class="media-bottom">{{ o.creator }} scheduled this outage from {{ o.start }} until {{ o.end }}.</span>
+                </div>
+            </div>
+        {% endfor %}
+    </div>
 {% endif %}
-
 {# warnings #}
 {% if tool.unavailable_nonrequired_resources or tool.scheduled_partial_outages or tool.problems %}
-	<div class="warning-status">
-		{# Display any unavailable non-required resources... #}
-		{% for r in tool.unavailable_nonrequired_resources %}
-			<div class="media">
-				<span class="glyphicon glyphicon-leaf pull-left notification-icon warning-highlight"></span>
-				<div class="media-body">
-					<span class="media-heading">An optional resource is unavailable: {{ r.name }} <span class="light-grey">({{ r.category }})</span></span>
-					<span class="media-middle">{{ r.restriction_message }}</span>
-				</div>
-			</div>
-		{% endfor %}
-
-		{# Display any non-required resources scheduled outages... #}
-		{% for o in tool.scheduled_partial_outages %}
-			<div class="media">
-				<span class="glyphicon glyphicon-time pull-left notification-icon warning-highlight"></span>
-				<div class="media-body">
-					<span class="media-heading">An optional resource has an outage: {{ o.resource.name }} <span class="light-grey">({{ o.resource.category }})</span></span>
-					<span class="media-middle">{{ o.title }}{% if o.details %}: {{ o.details }}{% endif %}</span>
-					<span class="media-bottom">{{ o.creator }} scheduled this outage from {{ o.start }} until {{ o.end }}.</span>
-				</div>
-			</div>
-		{% endfor %}
-	</div>
+    <div class="warning-status">
+        {# Display any unavailable non-required resources... #}
+        {% for r in tool.unavailable_nonrequired_resources %}
+            <div class="media">
+                <span class="glyphicon glyphicon-leaf pull-left notification-icon warning-highlight"></span>
+                <div class="media-body">
+                    <span class="media-heading">An optional resource is unavailable: {{ r.name }} <span class="light-grey">({{ r.category }})</span></span>
+                    <span class="media-middle">{{ r.restriction_message }}</span>
+                </div>
+            </div>
+        {% endfor %}
+        {# Display any non-required resources scheduled outages... #}
+        {% for o in tool.scheduled_partial_outages %}
+            <div class="media">
+                <span class="glyphicon glyphicon-time pull-left notification-icon warning-highlight"></span>
+                <div class="media-body">
+                    <span class="media-heading">An optional resource has an outage: {{ o.resource.name }} <span class="light-grey">({{ o.resource.category }})</span></span>
+                    <span class="media-middle">{{ o.title }}
+                        {% if o.details %}: {{ o.details }}{% endif %}
+                    </span>
+                    <span class="media-bottom">{{ o.creator }} scheduled this outage from {{ o.start }} until {{ o.end }}.</span>
+                </div>
+            </div>
+        {% endfor %}
+    </div>
 {% endif %}
-
 {% if tool.problems %}
-	<div class="tool-problems">
-		{# Display all problems and shutdowns... #}
-		{% for t in tool.problems %}
-			<div class="media">
-				<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#task_{{ t.id }}_details" class="pointer">
-					{% if t.force_shutdown %}
-						<span class="glyphicon glyphicon-fire pull-left notification-icon danger-highlight"></span>
-					{% else %}
-						<span class="glyphicon glyphicon-wrench pull-left notification-icon warning-highlight"></span>
-					{% endif %}
-					<span class="glyphicon glyphicon-chevron-{% if tool_control_show_task_details %}down{% else %}right{% endif %} pull-left chevron"></span>
-				</a>
-				<div class="media-body">
-					{% if t.problem_category %}<span class="media-heading">{{ t.problem_category }}</span>{% endif %}
-					<span class="media-middle">{{ t.problem_description }}</span>
-					{% if t.estimated_resolution_time %}<span class="media-middle">Estimated resolution time is {{ t.estimated_resolution_time }}.</span>{% endif %}
-					<div id="task_{{ t.id }}_details" class="collapse{% if tool_control_show_task_details %} in{% endif %}">
-								<span class="media-bottom">
-									This task was created by {{ t.creator }} on {{ t.creation_time }}.
-									{% if t.force_shutdown %}
-										The tool will remain shut down until this task is resolved.
-									{% endif %}
-								</span>
-						{% if t.progress_description %}
-							<div class="media">
-								<span class="glyphicon glyphicon-info-sign pull-left notification-icon primary-highlight"></span>
-								<div class="media-body">
-									<span class="media-heading">Progress updates</span>
-									<span class="media-middle">{{ t.progress_description|linebreaksbr }}</span>
-								</div>
-							</div>
-						{% endif %}
-					</div>
-				</div>
-			</div>
-		{% endfor %}
-	</div>
+    <div class="tool-problems">
+        {# Display all problems and shutdowns... #}
+        {% for t in tool.problems %}
+            <div class="media">
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#task_{{ t.id }}_details"
+                   class="pointer">
+                    {% if t.force_shutdown %}
+                        <span class="glyphicon glyphicon-fire pull-left notification-icon danger-highlight"></span>
+                    {% else %}
+                        <span class="glyphicon glyphicon-wrench pull-left notification-icon warning-highlight"></span>
+                    {% endif %}
+                    <span class="glyphicon glyphicon-chevron-{% if tool_control_show_task_details %}down{% else %}right{% endif %} pull-left chevron"></span>
+                </a>
+                <div class="media-body">
+                    {% if t.problem_category %}<span class="media-heading">{{ t.problem_category }}</span>{% endif %}
+                    <span class="media-middle">{{ t.problem_description }}</span>
+                    {% if t.estimated_resolution_time %}
+                        <span class="media-middle">Estimated resolution time is {{ t.estimated_resolution_time }}.</span>
+                    {% endif %}
+                    <div id="task_{{ t.id }}_details" class="collapse{% if tool_control_show_task_details %} in{% endif %}">
+                        <span class="media-bottom">
+                            This task was created by {{ t.creator }} on {{ t.creation_time }}.
+                            {% if t.force_shutdown %}The tool will remain shut down until this task is resolved.{% endif %}
+                        </span>
+                        {% if t.progress_description %}
+                            <div class="media">
+                                <span class="glyphicon glyphicon-info-sign pull-left notification-icon primary-highlight"></span>
+                                <div class="media-body">
+                                    <span class="media-heading">Progress updates</span>
+                                    <span class="media-middle">{{ t.progress_description|linebreaksbr }}</span>
+                                </div>
+                            </div>
+                        {% endif %}
+                    </div>
+                </div>
+            </div>
+        {% endfor %}
+    </div>
 {% endif %}
-
 {% if tool.comments or customer.is_staff and tool.staff_only_comments %}
-	<div class="tool-comments">
-		{# Display all comments... #}
-		{% for c in tool.comments %}
-			<div class="media">
-				<span class="glyphicon glyphicon-comment pull-left notification-icon primary-highlight"></span>
-				<div class="media-body">
-					<span class="media-middle">{{ c.content|linebreaksbr }}</span>
-					<span class="media-bottom">{{ c.author }} wrote this comment on {{ c.creation_date }}</span>
-				</div>
-			</div>
-		{% endfor %}
-
-		{# Display all staff comments #}
-		{% if customer.is_staff and tool.staff_only_comments %}
-			<div class="media">
-				<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#staff_only_comments" class="pointer">
-					<span class="glyphicon glyphicon-eye-close pull-left notification-icon warning-highlight"></span><span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-				</a>
-				<div class="media-body">
-					Staff Only
-					<div id="staff_only_comments" class="collapse">
-						{% for c in tool.staff_only_comments %}
-							<div class="media">
-								<span class="glyphicon glyphicon-comment pull-left notification-icon primary-highlight"></span>
-								<div class="media-body">
-									<span class="media-middle">{{ c.content|linebreaksbr }}</span>
-									<span class="media-bottom">{{ c.author }} wrote this comment on {{ c.creation_date }}</span>
-								</div>
-							</div>
-						{% endfor %}
-					</div>
-				</div>
-			</div>
-		{% endif %}
-	</div>
+    <div class="tool-comments">
+        {# Display all comments... #}
+        {% for c in tool.comments %}
+            <div class="media">
+                <span class="glyphicon glyphicon-comment pull-left notification-icon primary-highlight"></span>
+                <div class="media-body">
+                    <span class="media-middle">{{ c.content|linebreaksbr }}</span>
+                    <span class="media-bottom">{{ c.author }} wrote this comment on {{ c.creation_date }}</span>
+                </div>
+            </div>
+        {% endfor %}
+        {# Display all staff comments #}
+        {% if customer.is_staff and tool.staff_only_comments %}
+            <div class="media">
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#staff_only_comments"
+                   class="pointer">
+                    <span class="glyphicon glyphicon-eye-close pull-left notification-icon warning-highlight"></span><span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+                </a>
+                <div class="media-body">
+                    Staff Only
+                    <div id="staff_only_comments" class="collapse">
+                        {% for c in tool.staff_only_comments %}
+                            <div class="media">
+                                <span class="glyphicon glyphicon-comment pull-left notification-icon primary-highlight"></span>
+                                <div class="media-body">
+                                    <span class="media-middle">{{ c.content|linebreaksbr }}</span>
+                                    <span class="media-bottom">{{ c.author }} wrote this comment on {{ c.creation_date }}</span>
+                                </div>
+                            </div>
+                        {% endfor %}
+                    </div>
+                </div>
+            </div>
+        {% endif %}
+    </div>
 {% endif %}
-
 {% if rendered_configuration_html %}
-	<div class="form-group">
-		<h2>Configuration</h2>
-		{{ rendered_configuration_html }}
-	</div>
+    <div class="form-group">
+        <h2>Configuration</h2>
+        {{ rendered_configuration_html }}
+    </div>
 {% endif %}
-
 {# Display tool control... #}
 <form id="tool_control" style="margin-top:20px">
-	{% csrf_token %}
-	<input type="hidden" name="tool_id" value="{{ tool.id }}">
-	<input type="hidden" name="customer_id" value="{{ customer.id }}">
-	<input type="hidden" name="back" value="{{ back }}">
-	{% if tool.in_use %}
-		{% if tool.get_current_usage_event.operator.id == customer.id or tool.get_current_usage_event.user.id == customer.id %}
-			{% if post_usage_questions %}
-				<h2>Post usage questions</h2>
-				{{ post_usage_questions }}
-			{% endif %}
-			{% if tool.allow_delayed_logoff and not tool.delayed_logoff_in_progress %}
-				<h2>Delayed logoff</h2>
-				<div class="form-group">
-					Use the following field to prevent others from using the tool for <input id="downtime" type="number" name="downtime" class="form-control" style="display:inline; width:auto" min="5" max="120" inputmode="numeric" pattern="[0-9]*" placeholder="0"> minutes after disabling the tool.
-					<a id="delayed_logoff_help" class="pointer" tabindex="0" data-toggle="popover" data-placement="bottom" data-trigger="focus" data-content="Some tools may require downtime after you finish using them. (For example, to perform automated cleaning or pump-down). Once you click &quot;Stop using the {{ tool.name_or_child_in_use_name }}&quot; the tool interlock will immediately disable the tool and it will remain unusable for the specified duration. Leave the duration blank to indicate that no post-usage downtime is required.">What's this?</a>
-				</div>
-			{% endif %}
-			<div class="row">
-				<div class="col-xs-offset-3 col-xs-6" style="margin-top:30px">
-					<h2 id="answer_to_proceed" style="text-align:center">Please answer the required questions (above) to stop using the {{ tool.name_or_child_in_use_name }}</h2>
-					<div id="stop_button">
-						<div class="alert alert-danger" style="text-align:center; margin-bottom:0; font-size:x-large" onclick="disable_tool()">
-							<span class="glyphicon glyphicon-stop"></span> Stop using the {{ tool.name_or_child_in_use_name }}
-							{% if not user.is_staff and remaining_reservation_duration %}
-								and relinquish the remaining {{ remaining_reservation_duration }} minutes of your reservation
-							{% endif %}
-						</div>
-						{% if remaining_reservation_duration and user.is_staff %}
-							<div class="alert alert-danger" style="text-align:center; margin-bottom:0; margin-top: 10px; font-size:x-large" onclick="disable_tool(true)">
-								<span class="glyphicon glyphicon-stop"></span> Stop using the {{ tool.name_or_child_in_use_name }} and relinquish the remaining {{ remaining_reservation_duration }} minutes of your reservation
-							</div>
-						{% endif %}
-					</div>
-				</div>
-			</div>
-		{% endif %}
-		<div style="width: 100%;padding-top: 40px;border-bottom: 1px dashed lightgray"></div>
-		{% if not enable_is_take_over %}
-			<h1>Make a reservation</h1>
-			{% include 'kiosk/tool_project_selection_snippet.html' with active_projects=customer.active_projects tool=tool %}
-			<div id="start_reserve" class="col-xs-offset-3 col-xs-6" style="display: none;margin-top:30px">
-				<div class=" alert alert-info" style="text-align:center; margin-bottom:0; font-size:x-large" onclick="tool_reservation('{% url 'kiosk_tool_reservation' tool.id customer.id back %}')">
-					<span class="glyphicon glyphicon-calendar"></span> Reserve the {{ tool.name }}
-				</div>
-			</div>
-		{%  endif %}
-	{% endif %}
-	{% if not tool.in_use or enable_is_take_over %}
-		{% if customer.is_staff or customer.is_service_personnel and tool in customer.qualifications.all or tool.ready_to_use and tool in customer.qualifications.all %}
-			{% if enable_is_take_over %}
-				<h1>Take over using this tool</h1>
-			{% endif %}
-			{% include 'kiosk/tool_project_selection_snippet.html' with active_projects=customer.active_projects tool=tool %}
-			{% if pre_usage_questions %}
-				<div id="pre_usage_questions" style="display:none">
-                <h2>Pre usage questions</h2>
-				{{ pre_usage_questions }}
-                </div>
-			{% endif %}
-            <div id="start_reserve" style="display:none; margin-top:20px">
-				{% if tool.is_parent_tool %}
-					<h4>You have {{ tool.tool_children_set.all|length|add:1 }} options to use this tool:</h4>
-					<div class="col-xs-6" style="margin-top: 15px">
-						<div class="start_button alert alert-success" style="text-align:center; margin-bottom:0; font-size:x-large; display:none" onclick="enable_tool()">
-							<span class="glyphicon glyphicon-play"></span>
-							{% if enable_is_take_over %}
-								Take over using the {{ tool.name }}
-							{% else %}
-								Start using the {{ tool.name }}
-							{% endif %}
-						</div>
-					</div>
-					{% for alternate_tool in tool.tool_children_set.all %}
-						<div class="col-xs-6" style="margin-top: 15px">
-							<div class="start_button alert alert-success" style="text-align:center; margin-bottom:0; font-size:x-large; display:none" onclick="enable_tool('{{ alternate_tool.id }}')">
-								<span class="glyphicon glyphicon-play"></span>
-								{% if enable_is_take_over %}
-									Take over using the {{ alternate_tool.name }}
-								{% else %}
-									Start using the {{ alternate_tool.name }}
-								{% endif %}
-							</div>
-						</div>
-					{% endfor %}
-					<div class="col-xs-offset-3 col-xs-5" style="margin-top: 15px">
-						<div class=" alert alert-info" style="text-align:center; margin-bottom:0; font-size:x-large" onclick="tool_reservation('{% url 'kiosk_tool_reservation' tool.id customer.id back %}')">
-							<span class="glyphicon glyphicon-calendar"></span> Reserve the {{ tool.name }}
-						</div>
-					</div>
-				{% else %}
-					<div class="col-xs-offset-1 col-xs-5">
-						<div class="start_button alert alert-success" style="text-align:center; margin-bottom:0; font-size:x-large; display:none" onclick="enable_tool()">
-							<span class="glyphicon glyphicon-play"></span>
-							{% if enable_is_take_over %}
-								Take over using the {{ tool.name }}
-							{% else %}
-								Start using the {{ tool.name }}
-							{% endif %}
-						</div>
-					</div>
-					<div class="col-xs-5">
-						<div class=" alert alert-info" style="text-align:center; margin-bottom:0; font-size:x-large" onclick="tool_reservation('{% url 'kiosk_tool_reservation' tool.id customer.id back %}')">
-							<span class="glyphicon glyphicon-calendar"></span> Reserve the {{ tool.name }}
-						</div>
-					</div>
-				{% endif %}
-			</div>
-		{% elif tool not in customer.qualifications.all %}
-			<h2>
-				<p>You have not been qualified to use this tool yet.</p>
-				<p>Please contact the primary tool owner, {{ tool.primary_owner }}, if you would like to receive training for tool qualification.</p>
-				{% if tool.backup_owners.all.exists %}
-					<p>
-					{% if tool.backup_owners.all.count == 1 %}
-						If you are unable to reach {{ tool.primary_owner }} then please contact the backup tool owner, {{ tool.backup_owners.all|first }}.
-					{% elif tool.backup_owners.all.count > 1 %}
-						If you are unable to reach {{ tool.primary_owner }} then please contact one of the backup tool owners:
-						<ul>
-						{% for x in tool.backup_owners.all %}
-							<li>{{ x }}</li>
-						{% endfor %}
-						</ul>
-					{% endif %}
-					</p>
-				{% endif %}
-				{% if tool.superusers.all.count == 1 %}
-					{% with tool.superusers.all|first as superuser %}
-						<p>For equipment training, you can contact the primary, backup or the superuser, {{ superuser.get_contact_info_html|safe }}.</p>
-					{% endwith %}
-				{% elif tool.superusers.all.count > 1 %}
-					<p>For equipment training, you can contact the primary, backup or one of the superusers:
-					<ul>
-					{% for x in tool.superusers.all %}
-						<li>{{ x }}</li>
-					{% endfor %}
-					</ul>
-					</p>
-				{% endif %}
-			</h2>
-		{% endif %}
-	{% endif %}
+    {% csrf_token %}
+    <input type="hidden" name="tool_id" value="{{ tool.id }}">
+    <input type="hidden" name="customer_id" value="{{ customer.id }}">
+    <input type="hidden" name="back" value="{{ back }}">
+    {% if tool.in_use %}
+        {% if tool.get_current_usage_event.operator.id == customer.id or tool.get_current_usage_event.user.id == customer.id %}
+            {% if post_usage_questions %}
+                <h2>Post usage questions</h2>
+                {{ post_usage_questions }}
+            {% endif %}
+            {% if tool.allow_delayed_logoff and not tool.delayed_logoff_in_progress %}
+                <h2>Delayed logoff</h2>
+                <div class="form-group">
+                    Use the following field to prevent others from using the tool for
+                    <input id="downtime"
+                           type="number"
+                           name="downtime"
+                           class="form-control"
+                           style="display:inline;
+                                  width:auto"
+                           min="5"
+                           max="120"
+                           inputmode="numeric"
+                           pattern="[0-9]*"
+                           placeholder="0">
+                    minutes after disabling the tool.
+                    <a id="delayed_logoff_help"
+                       class="pointer"
+                       tabindex="0"
+                       data-toggle="popover"
+                       data-placement="bottom"
+                       data-trigger="focus"
+                       data-content="Some tools may require downtime after you finish using them. (For example, to perform automated cleaning or pump-down). Once you click &quot;Stop using the {{ tool.name_or_child_in_use_name }}&quot; the tool interlock will immediately disable the tool and it will remain unusable for the specified duration. Leave the duration blank to indicate that no post-usage downtime is required.">What's this?</a>
+                </div>
+            {% endif %}
+            <div class="row">
+                <div class="col-xs-offset-3 col-xs-6" style="margin-top:30px">
+                    <h2 id="answer_to_proceed" style="text-align:center">
+                        Please answer the required questions (above) to stop using the {{ tool.name_or_child_in_use_name }}
+                    </h2>
+                    <div id="stop_button">
+                        <div class="alert alert-danger"
+                             style="text-align:center;
+                                    margin-bottom:0;
+                                    font-size:x-large"
+                             onclick="disable_tool()">
+                            <span class="glyphicon glyphicon-stop"></span> Stop using the {{ tool.name_or_child_in_use_name }}
+                            {% if not user.is_staff and remaining_reservation_duration %}
+                                and relinquish the remaining {{ remaining_reservation_duration }} minutes of your reservation
+                            {% endif %}
+                        </div>
+                        {% if remaining_reservation_duration and user.is_staff %}
+                            <div class="alert alert-danger"
+                                 style="text-align:center;
+                                        margin-bottom:0;
+                                        margin-top: 10px;
+                                        font-size:x-large"
+                                 onclick="disable_tool(true)">
+                                <span class="glyphicon glyphicon-stop"></span> Stop using the {{ tool.name_or_child_in_use_name }} and relinquish the remaining {{ remaining_reservation_duration }} minutes of your reservation
+                            </div>
+                        {% endif %}
+                    </div>
+                </div>
+            </div>
+        {% endif %}
+        <div style="width: 100%;padding-top: 40px;border-bottom: 1px dashed lightgray"></div>
+        {% if not enable_is_take_over and tool.allow_reservation %}
+            <h1>Make a reservation</h1>
+            {% include 'kiosk/tool_project_selection_snippet.html' with active_projects=customer.active_projects tool=tool %}
+            <div id="start_reserve" class="col-xs-offset-3 col-xs-6" style="display:none;margin-top:30px">
+                <div class=" alert alert-info"
+                     style="text-align:center;
+                            margin-bottom:0;
+                            font-size:x-large"
+                     onclick="tool_reservation('{% url 'kiosk_tool_reservation' tool.id customer.id back %}')">
+                    <span class="glyphicon glyphicon-calendar"></span> Reserve the {{ tool.name }}
+                </div>
+            </div>
+        {% endif %}
+    {% endif %}
+    {% if not tool.in_use or enable_is_take_over %}
+        {% if show_wait_list and not wait_list_position == 1 or show_wait_list and enable_is_take_over %}
+            <a onclick="toggle_details(this)"
+               data-toggle="collapse"
+               data-target="#use-tool"
+               class="pointer"
+               style="padding-bottom: 10px;
+                      padding-top: 10px;
+                      display: block;
+                      color: darkgrey;
+                      font-size: large">
+                <span class="glyphicon glyphicon-chevron-right chevron"></span>Skip Wait List
+            </a>
+        {% endif %}
+        <div id="use-tool"
+             class="{% if show_wait_list and not wait_list_position == 1 or show_wait_list and enable_is_take_over %}collapse{% endif %}">
+            {% if customer.is_staff or customer.is_service_personnel and tool in customer.qualifications.all or tool.ready_to_use and tool in customer.qualifications.all %}
+                {% if enable_is_take_over %}<h1>Take over using this tool</h1>{% endif %}
+                {% include 'kiosk/tool_project_selection_snippet.html' with active_projects=customer.active_projects tool=tool %}
+                {% if pre_usage_questions %}
+                    <div id="pre_usage_questions" style="display:none">
+                        <h2>Pre usage questions</h2>
+                        {{ pre_usage_questions }}
+                    </div>
+                {% endif %}
+                <div id="start_reserve" style="display:none; margin-top:20px">
+                    {% if tool.is_parent_tool %}
+                        <h4>You have {{ tool.tool_children_set.all|length|add:1 }} options to use this tool:</h4>
+                        <div class="col-xs-6" style="margin-top: 15px">
+                            <div class="start_button alert alert-success"
+                                 style="text-align:center;
+                                        margin-bottom:0;
+                                        font-size:x-large;
+                                        display:none"
+                                 onclick="enable_tool()">
+                                <span class="glyphicon glyphicon-play"></span>
+                                {% if enable_is_take_over %}
+                                    Take over using the {{ tool.name }}
+                                {% else %}
+                                    Start using the {{ tool.name }}
+                                {% endif %}
+                            </div>
+                        </div>
+                        {% for alternate_tool in tool.tool_children_set.all %}
+                            <div class="col-xs-6" style="margin-top: 15px">
+                                <div class="start_button alert alert-success"
+                                     style="text-align:center;
+                                            margin-bottom:0;
+                                            font-size:x-large;
+                                            display:none"
+                                     onclick="enable_tool('{{ alternate_tool.id }}')">
+                                    <span class="glyphicon glyphicon-play"></span>
+                                    {% if enable_is_take_over %}
+                                        Take over using the {{ alternate_tool.name }}
+                                    {% else %}
+                                        Start using the {{ alternate_tool.name }}
+                                    {% endif %}
+                                </div>
+                            </div>
+                        {% endfor %}
+                        {% if tool.allow_reservation %}
+                            <div class="col-xs-offset-3 col-xs-5" style="margin-top: 15px">
+                                <div class=" alert alert-info"
+                                     style="text-align:center;
+                                            margin-bottom:0;
+                                            font-size:x-large"
+                                     onclick="tool_reservation('{% url 'kiosk_tool_reservation' tool.id customer.id back %}')">
+                                    <span class="glyphicon glyphicon-calendar"></span> Reserve the {{ tool.name }}
+                                </div>
+                            </div>
+                        {% endif %}
+                    {% else %}
+                        <div class="{% if tool.allow_reservation %} col-xs-offset-1 col-xs-5 {% else %} col-xs-offset-3 col-xs-6 {% endif %}">
+                            <div class="start_button alert alert-success"
+                                 style="text-align:center;
+                                        margin-bottom:0;
+                                        font-size:x-large;
+                                        display:none"
+                                 onclick="enable_tool()">
+                                <span class="glyphicon glyphicon-play"></span>
+                                {% if enable_is_take_over %}
+                                    Take over using the {{ tool.name }}
+                                {% else %}
+                                    Start using the {{ tool.name }}
+                                {% endif %}
+                            </div>
+                        </div>
+                        {% if tool.allow_reservation %}
+                            <div class="col-xs-5">
+                                <div class=" alert alert-info"
+                                     style="text-align:center;
+                                            margin-bottom:0;
+                                            font-size:x-large"
+                                     onclick="tool_reservation('{% url 'kiosk_tool_reservation' tool.id customer.id back %}')">
+                                    <span class="glyphicon glyphicon-calendar"></span> Reserve the {{ tool.name }}
+                                </div>
+                            </div>
+                        {% endif %}
+                    {% endif %}
+                </div>
+            {% elif tool not in customer.qualifications.all %}
+                <h2>
+                    <p>You have not been qualified to use this tool yet.</p>
+                    <p>
+                        Please contact the primary tool owner, {{ tool.primary_owner }}, if you would like to receive training for tool qualification.
+                    </p>
+                    {% if tool.backup_owners.all.exists %}
+                        <p>
+                            {% if tool.backup_owners.all.count == 1 %}
+                                If you are unable to reach {{ tool.primary_owner }} then please contact the backup tool owner, {{ tool.backup_owners.all|first }}.
+                            {% elif tool.backup_owners.all.count > 1 %}
+                                If you are unable to reach {{ tool.primary_owner }} then please contact one of the backup tool owners:
+                                <ul>
+                                    {% for x in tool.backup_owners.all %}<li>{{ x }}</li>{% endfor %}
+                                </ul>
+                            {% endif %}
+                        </p>
+                    {% endif %}
+                    {% if tool.superusers.all.count == 1 %}
+                        {% with tool.superusers.all|first as superuser %}
+                            <p>
+                                For equipment training, you can contact the primary, backup or the superuser, {{ superuser.get_contact_info_html|safe }}.
+                            </p>
+                        {% endwith %}
+                    {% elif tool.superusers.all.count > 1 %}
+                        <p>
+                            For equipment training, you can contact the primary, backup or one of the superusers:
+                            <ul>
+                                {% for x in tool.superusers.all %}<li>{{ x }}</li>{% endfor %}
+                            </ul>
+                        </p>
+                    {% endif %}
+                </h2>
+            {% endif %}
+        </div>
+    {% endif %}
 </form>
+{% if show_wait_list %}
+    <div style="margin-top: 15px; display: inline-block; width: 100%;">
+        <div style="margin-bottom: 10px; font-size: x-large; width: 100%;">
+            <span>This tool has a wait list. There are <strong>{{ wait_list.count }}</strong> people in line to use this tool.</span>
+            {% if not wait_list_position == 0 %}
+                <br>
+                <span>You are number <strong>{{ wait_list_position }}</strong> in line to use this tool.</span>
+            {% endif %}
+        </div>
+        <div id="wait-list" style="margin-top: 20px;">
+            {% if wait_list_position == 0 %}
+                <div class="alert alert-success"
+                     style="text-align:center;
+                            margin-bottom:0;
+                            font-size:x-large"
+                     onclick="enter_wait_list('{{ tool.id }}', '{{ customer.id }}'); return false;">
+                    <span class="glyphicon glyphicon-save"></span> Enter Wait List for {{ tool.name }}
+                </div>
+            {% else %}
+                <div class="alert alert-danger"
+                     style="text-align:center;
+                            margin-bottom:0;
+                            font-size:x-large"
+                     onclick="exit_wait_list('{{ tool.id }}', '{{ customer.id }}'); return false;">
+                    <span class="glyphicon glyphicon-trash"></span> Exit Wait List for {{ tool.name }}
+                </div>
+            {% endif %}
+            {% if wait_list.count > 0 %}
+                <div style="margin-top: 20px;">
+                    <a onclick="toggle_details(this)"
+                       style="font-size: x-large"
+                       data-toggle="collapse"
+                       data-target="#wait-list-content"
+                       class="pointer">
+                        <span class="glyphicon glyphicon-chevron-right chevron"></span>Show Wait List
+                    </a>
+                </div>
+            {% endif %}
+        </div>
+        {% if wait_list.count > 0 %}
+            <div id="wait-list-content" style="padding-top: 10px;" class="collapse">
+                <table style="margin-top: 10px;" class="table table-condensed table-striped table-bordered">
+                    <thead>
+                        <tr style="font-size: x-large;">
+                            <th>Position</th>
+                            <th>User</th>
+                        </tr>
+                    </thead>
+                    <tbody>
+                        {% for entry in wait_list %}
+                            <tr class="{% if customer.id == entry.user.id %}success{% endif %}" style="font-size: large;">
+                                <td>{{ forloop.counter }}</td>
+                                <td>{{ entry.user.get_full_name }}</td>
+                            </tr>
+                        {% endfor %}
+                    </tbody>
+                </table>
+            </div>
+        {% endif %}
+    </div>
+{% endif %}
 <div style="height:150px">{# Spacer #}</div>
-
 <script>
 	function update_stop_button()
 	{
 		if(document.querySelector('#tool_control').checkValidity())
 		{
 			$('#answer_to_proceed').hide();
 			$("#stop_button").show();
@@ -386,24 +550,22 @@
 		else
 		{
 			$(".start_button").hide();
 		}
 	}
 
 	update_stop_button();
-	{% if customer.active_projects|length == 1 %}
-		update_start_button();
-	{% endif %}
+	{% if customer.active_projects|length == 1 %}update_start_button();{% endif %}
 
 	{% if tool.in_use %}
 		$('body').on('question-group-changed', update_stop_button);
 		$('body').on('change keyup', '#tool_control input, #tool_control select, #tool_control textarea, #downtime', update_stop_button);
 	{% else %}
     	$('body').on('question-group-changed', update_start_button);
 		$('body').on('change keyup', '#tool_control input, #tool_control select, #tool_control textarea, #downtime', update_start_button);
 	{% endif %}
 	$('#downtime').numpad({'readonly': false, 'hidePlusMinusButton': true, 'hideDecimalButton': true});
 	$('#delayed_logoff_help').popover();
 	revert(60);
 	{# reset timeout if user is active in the tool control form #}
 	$('#tool_control :input').on('change', function (){revert(60)})
-</script>
+</script>
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
 {% load custom_tags_and_filters %}
 Go back
 ************ {{{{ ttooooll..nnaammee__oorr__cchhiilldd__iinn__uussee__nnaammee }}}} ************
-{# Display tool status... #}
+Report a problem Post a comment {# Display tool status... #}
 {% if tool.in_use %}
 {% with tool.get_current_usage_event as current_usage_event %}
 ********** {{%% iiff ccuurrrreenntt__uussaaggee__eevveenntt..ooppeerraattoorr..iidd ==== ccuussttoommeerr..iidd %%}} YYoouu aarree uussiinngg
 tthhiiss ttooooll {{%% eellssee %%}} {{{{ ccuurrrreenntt__uussaaggee__eevveenntt..ooppeerraattoorr }}}} iiss uussiinngg tthhiiss ttooooll {{%%
 eennddiiff %%}} {{%% iiff ccuurrrreenntt__uussaaggee__eevveenntt..ooppeerraattoorr..iidd !!== ccuurrrreenntt__uussaaggee__eevveenntt..uusseerr..iidd
 %%}} oonn bbeehhaallff ooff {{{{ ccuurrrreenntt__uussaaggee__eevveenntt..uusseerr }}}} {{%% eennddiiff %%}} ffoorr tthhee pprroojjeecctt
 nnaammeedd {{{{ ccuurrrreenntt__uussaaggee__eevveenntt..pprroojjeecctt..nnaammee }}}} ssiinnccee {{{{ ccuurrrreenntt__uussaaggee__eevveenntt..ssttaarrtt
@@ -40,39 +40,39 @@
 tool.scheduled_outages %}
 {# Display any unavailable required resources... #} {% for r in
 tool.unavailable_required_resources %}
 A required resource is unavailable: {{ r.name }} ({{ r.category }}) {
 { r.restriction_message }}
 {% endfor %} {# Display any resources scheduled outages... #} {% for o in
 tool.scheduled_outages %}
-{{ o.title }} ({{ o.resource.category }}) {% if o.details %}{{ o.details }}{%
+{{ o.title }}({{ o.resource.category }}) {% if o.details %}{{ o.details }}{%
 endif %} {{ o.creator }} scheduled this outage from {{ o.start }} until {
 { o.end }}.
 {% endfor %}
 {% endif %} {# warnings #} {% if tool.unavailable_nonrequired_resources or
 tool.scheduled_partial_outages or tool.problems %}
 {# Display any unavailable non-required resources... #} {% for r in
 tool.unavailable_nonrequired_resources %}
 An optional resource is unavailable: {{ r.name }} ({{ r.category }}) {
 { r.restriction_message }}
 {% endfor %} {# Display any non-required resources scheduled outages... #} {%
 for o in tool.scheduled_partial_outages %}
 An optional resource has an outage: {{ o.resource.name }} ({
-{ o.resource.category }}) {{ o.title }}{% if o.details %}: {{ o.details }}{%
+{ o.resource.category }}) {{ o.title }} {% if o.details %}: {{ o.details }}{%
 endif %} {{ o.creator }} scheduled this outage from {{ o.start }} until {
 { o.end }}.
 {% endfor %}
 {% endif %} {% if tool.problems %}
 {# Display all problems and shutdowns... #} {% for t in tool.problems %}
 {% if t.force_shutdown %} {% else %} {% endif %}
 {% if t.problem_category %}{{ t.problem_category }}{% endif %} {
-{ t.problem_description }} {% if t.estimated_resolution_time %}Estimated
-resolution time is {{ t.estimated_resolution_time }}.{% endif %}
+{ t.problem_description }} {% if t.estimated_resolution_time %} Estimated
+resolution time is {{ t.estimated_resolution_time }}. {% endif %}
 This task was created by {{ t.creator }} on {{ t.creation_time }}. {% if
-t.force_shutdown %} The tool will remain shut down until this task is resolved.
+t.force_shutdown %}The tool will remain shut down until this task is resolved.
 {% endif %} {% if t.progress_description %}
 Progress updates {{ t.progress_description|linebreaksbr }}
 {% endif %}
 {% endfor %}
 {% endif %} {% if tool.comments or customer.is_staff and
 tool.staff_only_comments %}
 {# Display all comments... #} {% for c in tool.comments %}
@@ -107,21 +107,23 @@
 remaining_reservation_duration %} and relinquish the remaining {
 { remaining_reservation_duration }} minutes of your reservation {% endif %}
 {% if remaining_reservation_duration and user.is_staff %}
 Stop using the {{ tool.name_or_child_in_use_name }} and relinquish the
 remaining {{ remaining_reservation_duration }} minutes of your reservation
 {% endif %}
 {% endif %}
-{% if not enable_is_take_over %}
+{% if not enable_is_take_over and tool.allow_reservation %}
 ************ MMaakkee aa rreesseerrvvaattiioonn ************
 {% include 'kiosk/tool_project_selection_snippet.html' with
 active_projects=customer.active_projects tool=tool %}
 Reserve the {{ tool.name }}
 {% endif %} {% endif %} {% if not tool.in_use or enable_is_take_over %} {% if
-customer.is_staff or customer.is_service_personnel and tool in
+show_wait_list and not wait_list_position == 1 or show_wait_list and
+enable_is_take_over %} Skip Wait List {% endif %}
+{% if customer.is_staff or customer.is_service_personnel and tool in
 customer.qualifications.all or tool.ready_to_use and tool in
 customer.qualifications.all %} {% if enable_is_take_over %}
 ************ TTaakkee oovveerr uussiinngg tthhiiss ttooooll ************
 {% endif %} {% include 'kiosk/tool_project_selection_snippet.html' with
 active_projects=customer.active_projects tool=tool %} {% if pre_usage_questions
 %}
 ********** PPrree uussaaggee qquueessttiioonnss **********
@@ -131,21 +133,22 @@
 ****** YYoouu hhaavvee {{{{ ttooooll..ttooooll__cchhiillddrreenn__sseett..aallll||lleennggtthh||aadddd::11 }}}} ooppttiioonnss ttoo uussee tthhiiss
 ttooooll:: ******
 {% if enable_is_take_over %} Take over using the {{ tool.name }} {% else %}
 Start using the {{ tool.name }} {% endif %}
 {% for alternate_tool in tool.tool_children_set.all %}
 {% if enable_is_take_over %} Take over using the {{ alternate_tool.name }} {%
 else %} Start using the {{ alternate_tool.name }} {% endif %}
-{% endfor %}
+{% endfor %} {% if tool.allow_reservation %}
 Reserve the {{ tool.name }}
-{% else %}
+{% endif %} {% else %}
 {% if enable_is_take_over %} Take over using the {{ tool.name }} {% else %}
 Start using the {{ tool.name }} {% endif %}
+{% if tool.allow_reservation %}
 Reserve the {{ tool.name }}
-{% endif %}
+{% endif %} {% endif %}
 {% elif tool not in customer.qualifications.all %}
 YYoouu hhaavvee nnoott bbeeeenn qquuaalliiffiieedd ttoo uussee tthhiiss ttooooll yyeett..PPlleeaassee ccoonnttaacctt tthhee pprriimmaarryy
 ttooooll oowwnneerr,, {{{{ ttooooll..pprriimmaarryy__oowwnneerr }}}},, iiff yyoouu wwoouulldd lliikkee ttoo rreecceeiivvee ttrraaiinniinngg ffoorr
 ttooooll qquuaalliiffiiccaattiioonn..{{%% iiff ttooooll..bbaacckkuupp__oowwnneerrss..aallll..eexxiissttss %%}}{{%% iiff
 ttooooll..bbaacckkuupp__oowwnneerrss..aallll..ccoouunntt ==== 11 %%}} IIff yyoouu aarree uunnaabbllee ttoo rreeaacchh {{
 {{ ttooooll..pprriimmaarryy__oowwnneerr }}}} tthheenn pplleeaassee ccoonnttaacctt tthhee bbaacckkuupp ttooooll oowwnneerr,, {{
 {{ ttooooll..bbaacckkuupp__oowwnneerrss..aallll||ffiirrsstt }}}}.. {{%% eelliiff ttooooll..bbaacckkuupp__oowwnneerrss..aallll..ccoouunntt >> 11 %%}}
@@ -160,9 +163,26 @@
 {{ ssuuppeerruusseerr..ggeett__ccoonnttaacctt__iinnffoo__hhttmmll||ssaaffee }}}}..{{%% eennddwwiitthh %%}} {{%% eelliiff
 ttooooll..ssuuppeerruusseerrss..aallll..ccoouunntt >> 11 %%}}FFoorr eeqquuiippmmeenntt ttrraaiinniinngg,, yyoouu ccaann ccoonnttaacctt tthhee
 pprriimmaarryy,, bbaacckkuupp oorr oonnee ooff tthhee ssuuppeerruusseerrss::
     ** {{%% ffoorr xx iinn ttooooll..ssuuppeerruusseerrss..aallll %%}}
     ** {{{{ xx }}}}
     ** {{%% eennddffoorr %%}}
 {{%% eennddiiff %%}}
-{% endif %} {% endif %}
+{% endif %}
+{% endif %}
+{% if show_wait_list %}
+This tool has a wait list. There are {{{{ wwaaiitt__lliisstt..ccoouunntt }}}} people in line to
+use this tool. {% if not wait_list_position == 0 %}
+You are number {{{{ wwaaiitt__lliisstt__ppoossiittiioonn }}}} in line to use this tool. {% endif %}
+{% if wait_list_position == 0 %}
+Enter Wait List for {{ tool.name }}
+{% else %}
+Exit Wait List for {{ tool.name }}
+{% endif %} {% if wait_list.count > 0 %}
+Show Wait List
+{% endif %}
+{% if wait_list.count > 0 %}
+PPoossiittiioonn              UUsseerr
+{{ forloop.counter }} {{ entry.user.get_full_name }}
+{% endif %}
+{% endif %}
 {# Spacer #}
```

## NEMO/apps/kiosk/templates/kiosk/tool_project_selection_snippet.html

```diff
@@ -1,21 +1,48 @@
 {% load custom_tags_and_filters %}
 <div>
-{% if active_projects|length == 0 %}
-	<h2>You cannot {% if not take_over %}reserve{% else %}use{% endif %} any tools because you are not a member of an active project. Please visit the {{ facility_name }} staff to begin a project.</h2>
-{% elif active_projects|length == 1 %}
-	<h2>Tool {% if tool.in_use %}reservation will be associated with{% else %}usage will be billed to{% endif %} the project named &quot;{{ active_projects.0 }}&quot;.</h2>
-	<input type="hidden" name="project_id" value="{{ active_projects.0.id }}">
-	<script>
+    {% if active_projects|length == 0 %}
+        <h2>
+            You cannot
+            {% if not take_over %}
+                reserve
+            {% else %}
+                use
+            {% endif %}
+            any tools because you are not a member of an active project. Please visit the {{ facility_name }} staff to begin a project.
+        </h2>
+    {% elif active_projects|length == 1 %}
+        <h2>
+            Tool
+            {% if tool.in_use %}
+                reservation will be associated with
+            {% else %}
+                usage will be billed to
+            {% endif %}
+            the project named &quot;{{ active_projects.0 }}&quot;.
+        </h2>
+        <input type="hidden" name="project_id" value="{{ active_projects.0.id }}">
+        <script>
         $("#pre_usage_questions").show();
 		$("#start_reserve").show();
-	</script>
-{% else %}
-	<h2>{% if not take_over %}Associate tool reservation{% else %}Charge tool usage{% endif %} to which project?</h2>
-	<div class="list-group" style="display:table">
-		{% for project in active_projects %}
-			<a href="javascript:void(0)" class="list-group-item project-choice" style="font-size:large" onclick="select_project(this, {{ project.id }})">{% project_selection_display project %}</a>
-		{% endfor %}
-	</div>
-	<input type="hidden" name="project_id" id="project_id">
-{% endif %}
-</div>
+
+        </script>
+    {% else %}
+        <h2>
+            {% if not take_over %}
+                Associate tool reservation
+            {% else %}
+                Charge tool usage
+            {% endif %}
+            to which project?
+        </h2>
+        <div class="list-group" style="display:table">
+            {% for project in active_projects %}
+                <a href="javascript:void(0)"
+                   class="list-group-item project-choice"
+                   style="font-size:large"
+                   onclick="select_project(this, {{ project.id }})">{% project_selection_display project %}</a>
+            {% endfor %}
+        </div>
+        <input type="hidden" name="project_id" id="project_id">
+    {% endif %}
+</div>
```

### html2text {}

```diff
@@ -1,15 +1,15 @@
 {% load custom_tags_and_filters %}
 {% if active_projects|length == 0 %}
-********** YYoouu ccaannnnoott {{%% iiff nnoott ttaakkee__oovveerr %%}}rreesseerrvvee{{%% eellssee %%}}uussee{{%% eennddiiff %%}} aannyy
+********** YYoouu ccaannnnoott {{%% iiff nnoott ttaakkee__oovveerr %%}} rreesseerrvvee {{%% eellssee %%}} uussee {{%% eennddiiff %%}} aannyy
 ttoooollss bbeeccaauussee yyoouu aarree nnoott aa mmeemmbbeerr ooff aann aaccttiivvee pprroojjeecctt.. PPlleeaassee vviissiitt tthhee {{
 {{ ffaacciilliittyy__nnaammee }}}} ssttaaffff ttoo bbeeggiinn aa pprroojjeecctt.. **********
 {% elif active_projects|length == 1 %}
-********** TTooooll {{%% iiff ttooooll..iinn__uussee %%}}rreesseerrvvaattiioonn wwiillll bbee aassssoocciiaatteedd wwiitthh{{%% eellssee
-%%}}uussaaggee wwiillll bbee bbiilllleedd ttoo{{%% eennddiiff %%}} tthhee pprroojjeecctt nnaammeedd ""{{{{ aaccttiivvee__pprroojjeeccttss..00
+********** TTooooll {{%% iiff ttooooll..iinn__uussee %%}} rreesseerrvvaattiioonn wwiillll bbee aassssoocciiaatteedd wwiitthh {{%% eellssee %%}}
+uussaaggee wwiillll bbee bbiilllleedd ttoo {{%% eennddiiff %%}} tthhee pprroojjeecctt nnaammeedd ""{{{{ aaccttiivvee__pprroojjeeccttss..00
 }}}}"".. **********
 {% else %}
-********** {{%% iiff nnoott ttaakkee__oovveerr %%}}AAssssoocciiaattee ttooooll rreesseerrvvaattiioonn{{%% eellssee %%}}CChhaarrggee ttooooll
-uussaaggee{{%% eennddiiff %%}} ttoo wwhhiicchh pprroojjeecctt?? **********
+********** {{%% iiff nnoott ttaakkee__oovveerr %%}} AAssssoocciiaattee ttooooll rreesseerrvvaattiioonn {{%% eellssee %%}} CChhaarrggee ttooooll
+uussaaggee {{%% eennddiiff %%}} ttoo wwhhiicchh pprroojjeecctt?? **********
 {% for project in active_projects %} _{_%_ _p_r_o_j_e_c_t___s_e_l_e_c_t_i_o_n___d_i_s_p_l_a_y_ _p_r_o_j_e_c_t_ _%_} {%
 endfor %}
 {% endif %}
```

## NEMO/apps/kiosk/templates/kiosk/tool_reservation.html

```diff
@@ -1,44 +1,58 @@
 {% load static %}
 {% load custom_tags_and_filters %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "pickadate/picker.js" %}"></script>
-	<script type="text/javascript" src="{% static "pickadate/picker.date.js" %}"></script>
-	<script type="text/javascript" src="{% static "pickadate/picker.time.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "pickadate/default.css" %}"/>
-	<link rel="stylesheet" type="text/css" href="{% static "pickadate/default.date.css" %}"/>
-	<link rel="stylesheet" type="text/css" href="{% static "pickadate/default.time.css" %}"/>
+    <script type="text/javascript" src="{% static "pickadate/picker.js" %}"></script>
+    <script type="text/javascript" src="{% static "pickadate/picker.date.js" %}"></script>
+    <script type="text/javascript" src="{% static "pickadate/picker.time.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "pickadate/default.css" %}" />
+    <link rel="stylesheet" type="text/css" href="{% static "pickadate/default.date.css" %}" />
+    <link rel="stylesheet" type="text/css" href="{% static "pickadate/default.time.css" %}" />
 {% endblock %}
 <div class="row" style="margin-top:30px">
-	<div class="col-xs-offset-3 col-xs-6" onclick="tool_information('{% url 'kiosk_tool_information' tool.id customer.id back %}')">
-		<div class="alert alert-warning" style="text-align:center; margin-bottom:0; font-size:x-large">
-			Go back
-		</div>
-	</div>
+    <div class="col-xs-offset-3 col-xs-6"
+         onclick="tool_information('{% url 'kiosk_tool_information' tool.id customer.id back %}')">
+        <div class="alert alert-warning" style="text-align:center; margin-bottom:0; font-size:x-large">Go back</div>
+    </div>
 </div>
 <h2>Create a new reservation</h2>
 <form id="tool_reservation" method="post">
-	{% csrf_token %}
-	<input type="hidden" name="back" value="{{ back }}">
-	<input type="hidden" name="tool_id" value="{{ tool.id }}">
-	<input type="hidden" name="project_id" value="{{ project.id }}">
-	<input type="hidden" name="customer_id" value="{{ customer.id }}">
-	<h4>When would you like to reserve the {{ tool }}?</h4>
-	<div class="form-group">
-		<input type="text" id="date" name="date" aria-label="Reservation date" class="form-control" placeholder="Choose a date">
-	</div>
-	<div class="form-group">
-		<input type="text" id="start" name="start" aria-label="Reservation start time" class="form-control" placeholder="Choose a start time">
-	</div>
-	<div class="form-group">
-		<input type="text" id="end" name="end" aria-label="Reservation end time" class="form-control" placeholder="Choose an end time">
-	</div>
-	<div class="form-group text-center" style="margin-top:40px">
+    {% csrf_token %}
+    <input type="hidden" name="back" value="{{ back }}">
+    <input type="hidden" name="tool_id" value="{{ tool.id }}">
+    <input type="hidden" name="project_id" value="{{ project.id }}">
+    <input type="hidden" name="customer_id" value="{{ customer.id }}">
+    <h4>When would you like to reserve the {{ tool }}?</h4>
+    <div class="form-group">
+        <input type="text"
+               id="date"
+               name="date"
+               aria-label="Reservation date"
+               class="form-control"
+               placeholder="Choose a date">
+    </div>
+    <div class="form-group">
+        <input type="text"
+               id="start"
+               name="start"
+               aria-label="Reservation start time"
+               class="form-control"
+               placeholder="Choose a start time">
+    </div>
+    <div class="form-group">
+        <input type="text"
+               id="end"
+               name="end"
+               aria-label="Reservation end time"
+               class="form-control"
+               placeholder="Choose an end time">
+    </div>
+    <div class="form-group text-center" style="margin-top:40px">
         {% button type="save" submit=False style="text-align:center; margin-bottom:0; font-size:x-large" onclick="reserve_tool()" value="Create the reservation" %}
-	</div>
+    </div>
 </form>
 <div style="height:350px"></div>
 <script>
 	let unavailable_times = [];
 	{% for item in tool_reservation_times %}
 	unavailable_times.push([{{ item.start|date:"U" }},{{ item.end|date:"U" }}]);
 	{% endfor %}
@@ -59,15 +73,15 @@
 			let time_selected = time.pick * 60 * 1000; // time in milliseconds
 			let date_time_selected = (date_selected + time_selected)/1000; // back to seconds to compare with python timestamp
 			for (let i=0 ; i < unavailable_times.length; i++) {
                 let times = unavailable_times[i];
                 let start = times[0];
                 let end = times[1];
                 if (date_time_selected >= start && date_time_selected < end) {
-                    return '<sp!an>h:i A</sp!an> <sm!all> !alre!ad!y re!serve!d</sm!all>';
+                    return '<sp !an>h:i A</sp !an> <sm !all> !alre!ad!y re!serve!d</sm !all>';
                 }
             }
 		}
 		return "h:i A";
 	}
 	revert(120)
-</script>
+</script>
```

### html2text {}

```diff
@@ -1,14 +1,14 @@
 {% load static %} {% load custom_tags_and_filters %} {% block extrahead %}
 }">
 }">
 }">
-}"/>
-}"/>
-}"/> {% endblock %}
+}" />
+}" />
+}" /> {% endblock %}
 Go back
 ********** CCrreeaattee aa nneeww rreesseerrvvaattiioonn **********
 {% csrf_token %}
 ****** WWhheenn wwoouulldd yyoouu lliikkee ttoo rreesseerrvvee tthhee {{{{ ttooooll }}}}?? ******
 [date                ]
 [start               ]
 [end                 ]
```

## NEMO/apps/kiosk/templates/kiosk/tool_reservation_extra.html

```diff
@@ -1,46 +1,43 @@
 {% load static %}
 {% load custom_tags_and_filters %}
 <div class="row" style="margin-top:30px">
-	<div class="col-xs-offset-3 col-xs-6" onclick="tool_information('{% url 'kiosk_tool_information' tool.id customer.id back %}')">
-		<div class="alert alert-warning" style="text-align:center; margin-bottom:0; font-size:x-large">
-			Go back
-		</div>
-	</div>
+    <div class="col-xs-offset-3 col-xs-6"
+         onclick="tool_information('{% url 'kiosk_tool_information' tool.id customer.id back %}')">
+        <div class="alert alert-warning" style="text-align:center; margin-bottom:0; font-size:x-large">Go back</div>
+    </div>
 </div>
 <h2>Extra information needed</h2>
 <form id="tool_reservation" method="post">
-	{% csrf_token %}
-	<input type="hidden" name="back" value="{{ back }}">
-	<input type="hidden" name="tool_id" value="{{ tool.id }}">
-	<input type="hidden" name="project_id" value="{{ project.id }}">
-	<input type="hidden" name="customer_id" value="{{ customer.id }}">
-	<input type="hidden" name="date" value="{{ request_date }}">
-	<input type="hidden" name="start" value="{{ request_start }}">
-	<input type="hidden" name="end" value="{{ request_end }}">
-	<input type="hidden" name="configured" value="true">
-	{% if reservation_questions %}
-		<div id="reservation_questions">
-			<h4>Please answer the following questions</h4>
-			{{ reservation_questions }}
-		</div>
-	{% endif %}
-	{% if tool_accessories %}
-		{% include "calendar/accessories_helper.html" %}
-	{% endif %}
-	{% if configurations %}
-		<h4>Choose tool configuration settings</h4>
-		{% if notice_limit > 0 %}
-			<div class="alert alert-info">
-				<strong>Please note:</strong> {{ notice_limit }} hours of advance notice is required when reserving this tool in order to configure it properly. A tool is not guaranteed to be configured properly if a reservation is created or modified on short notice.
-			</div>
-		{% endif %}
-		{% include 'configuration/configuration_reservation_helper.html' %}
-	{% endif %}
-	<div class="form-group text-center" style="margin-top:40px">
-		{% button type="save" submit=False style="text-align:center; margin-bottom:0; font-size:x-large" onclick="reserve_tool()" value="Create the reservation" %}
-	</div>
+    {% csrf_token %}
+    <input type="hidden" name="back" value="{{ back }}">
+    <input type="hidden" name="tool_id" value="{{ tool.id }}">
+    <input type="hidden" name="project_id" value="{{ project.id }}">
+    <input type="hidden" name="customer_id" value="{{ customer.id }}">
+    <input type="hidden" name="date" value="{{ request_date }}">
+    <input type="hidden" name="start" value="{{ request_start }}">
+    <input type="hidden" name="end" value="{{ request_end }}">
+    <input type="hidden" name="configured" value="true">
+    {% if reservation_questions %}
+        <div id="reservation_questions">
+            <h4>Please answer the following questions</h4>
+            {{ reservation_questions }}
+        </div>
+    {% endif %}
+    {% if tool_accessories %}
+        {% include "calendar/accessories_helper.html" %}
+    {% endif %}
+    {% if configurations %}
+        <h4>Choose tool configuration settings</h4>
+        {% if notice_limit > 0 %}
+            <div class="alert alert-info">
+                <strong>Please note:</strong> {{ notice_limit }} hours of advance notice is required when reserving this tool in order to configure it properly. A tool is not guaranteed to be configured properly if a reservation is created or modified on short notice.
+            </div>
+        {% endif %}
+        {% include 'configuration/configuration_reservation_helper.html' %}
+    {% endif %}
+    <div class="form-group text-center" style="margin-top:40px">
+        {% button type="save" submit=False style="text-align:center; margin-bottom:0; font-size:x-large" onclick="reserve_tool()" value="Create the reservation" %}
+    </div>
 </form>
 <div style="height:350px"></div>
-<script>
-	revert(120);
-</script>
+<script>revert(120);</script>
```

## NEMO/apps/nemo_ce/migrations/0019_tool_training_details_without_area_access.py

```diff
@@ -1,21 +1,25 @@
 # Generated by Django 3.2.24 on 2024-03-26 00:19
 
 from django.db import migrations, models
 
 
 from NEMO.apps.nemo_ce.migration_utils import NEMOMigration
 
+
 class Migration(NEMOMigration):
 
     dependencies = [
-        ('NEMO', '0068_door_multiple_areas'),
-        ('nemo_ce', '0018_ce_training_qualification'),
+        ("NEMO", "0068_door_multiple_areas"),
+        ("nemo_ce", "0018_ce_training_qualification"),
     ]
 
     operations = [
         migrations.AddField(
-            model_name='tooltrainingdetail',
-            name='dont_allow_request_without_area_access',
-            field=models.BooleanField(default=False, help_text="Check this box to prevent users from requesting training on this tool if they don't have the required area access"),
+            model_name="tooltrainingdetail",
+            name="dont_allow_request_without_area_access",
+            field=models.BooleanField(
+                default=False,
+                help_text="Check this box to prevent users from requesting training on this tool if they don't have the required area access",
+            ),
         ),
     ]
```

## NEMO/apps/sensors/templates/customizations/customizations_sensors.html

```diff
@@ -9,48 +9,89 @@
     <h3 class="customization-section-title">Sensor data settings</h3>
     <form method="POST" action="{% url 'customize' 'sensors' %}" class="form-horizontal">
         {% csrf_token %}
         <div class="form-group {% if errors.sensor_read_retries %}has-error{% endif %}">
             <label class="control-label col-md-3" for="sensor_read_retries">Retry reading data</label>
             <div class="col-md-3">
                 <div class="input-group">
-                    <input type="number" min="0" id="sensor_read_retries" name="sensor_read_retries" class="form-control text-right" value="{% if errors.sensor_read_retries %}{{ errors.sensor_read_retries.value }}{% else %}{{ sensor_read_retries }}{% endif %}"/>
+                    <input type="number"
+                           min="0"
+                           id="sensor_read_retries"
+                           name="sensor_read_retries"
+                           class="form-control text-right"
+                           value="{% if errors.sensor_read_retries %}{{ errors.sensor_read_retries.value }}{% else %}{{ sensor_read_retries }}{% endif %}" />
                     <span class="input-group-addon">time(s)</span>
                 </div>
             </div>
             <div class="col-md-offset-3 col-md-9 help-block light-grey">
                 {% if errors.sensor_read_retries %}
                     {{ errors.sensor_read_retries.error }}
                 {% else %}
                     The number of times to retry reading data from sensors before raising an error. Set to 0 to never retry.
                 {% endif %}
             </div>
         </div>
         <div class="form-group {% if errors.sensor_alert_emails %}has-error{% endif %}">
             <label class="control-label col-md-3" for="sensor_alert_emails">Sensor alert email(s)</label>
             <div class="col-md-5">
-                <input type="text" id="sensor_alert_emails" name="sensor_alert_emails" class="form-control" value="{% if errors.sensor_alert_emails %}{{ errors.sensor_alert_emails.value }}{% else %}{{ sensor_alert_emails }}{% endif %}" placeholder="sensor_alerts@example.org"/>
+                <input type="text"
+                       id="sensor_alert_emails"
+                       name="sensor_alert_emails"
+                       class="form-control"
+                       value="{% if errors.sensor_alert_emails %}{{ errors.sensor_alert_emails.value }}{% else %}{{ sensor_alert_emails }}{% endif %}"
+                       placeholder="sensor_alerts@example.org" />
             </div>
             <div class="col-md-offset-3 col-md-9 help-block light-grey">
                 {% if errors.sensor_alert_emails %}
                     {{ errors.sensor_alert_emails.error }}
                 {% else %}
                     The email(s) to notify when a sensor alert is raised or reset. A comma-separated list can be used.
                 {% endif %}
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3" for="sensor_default_daterange">Default daterange</label>
             <div class="col-md-9">
                 <div class="radio">
-                    <label><input type="radio" id="sensor_default_daterange" name="sensor_default_daterange" {% if not sensor_default_daterange %}checked{% endif %} value=""> Last 24 hrs</label>
-                    <label><input type="radio" name="sensor_default_daterange" {% if sensor_default_daterange == 'last_72hrs' %}checked{% endif %} value="last_72hrs"> Last 72 hrs</label>
-                    <label><input type="radio" name="sensor_default_daterange" {% if sensor_default_daterange == 'last_week' %}checked{% endif %} value="last_week"> Last week</label>
-                    <label><input type="radio" name="sensor_default_daterange" {% if sensor_default_daterange == 'last_month' %}checked{% endif %} value="last_month"> Last month</label>
-                    <label><input type="radio" name="sensor_default_daterange" {% if sensor_default_daterange == 'last_year' %}checked{% endif %} value="last_year"> Last year</label>
+                    <label>
+                        <input type="radio"
+                               id="sensor_default_daterange"
+                               name="sensor_default_daterange"
+                               {% if not sensor_default_daterange %}checked{% endif %}
+                               value="">
+                        Last 24 hrs
+                    </label>
+                    <label>
+                        <input type="radio"
+                               name="sensor_default_daterange"
+                               {% if sensor_default_daterange == 'last_72hrs' %}checked{% endif %}
+                               value="last_72hrs">
+                        Last 72 hrs
+                    </label>
+                    <label>
+                        <input type="radio"
+                               name="sensor_default_daterange"
+                               {% if sensor_default_daterange == 'last_week' %}checked{% endif %}
+                               value="last_week">
+                        Last week
+                    </label>
+                    <label>
+                        <input type="radio"
+                               name="sensor_default_daterange"
+                               {% if sensor_default_daterange == 'last_month' %}checked{% endif %}
+                               value="last_month">
+                        Last month
+                    </label>
+                    <label>
+                        <input type="radio"
+                               name="sensor_default_daterange"
+                               {% if sensor_default_daterange == 'last_year' %}checked{% endif %}
+                               value="last_year">
+                        Last year
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3" for="refresh-rate">Default refresh rate:</label>
             <div class="col-md-3">
                 <select class="form-control" name="sensor_default_refresh_rate" id="refresh-rate">
@@ -62,43 +103,41 @@
                     <option value="300000" {% if sensor_default_refresh_rate == "300000" %}selected{% endif %}>every 5 minutes</option>
                 </select>
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
         <h3 class="customization-section-title">Chart date formats</h3>
         <div class="col-sm-12 form-group help-block light-grey">
-            These formats are used in charts to display the date/time on the x-axis. See <a
-                href="https://momentjs.com/docs/#/displaying/format/">moment.js format</a> for more details.
+            These formats are used in charts to display the date/time on the x-axis. See <a href="https://momentjs.com/docs/#/displaying/format/">moment.js format</a> for more details.
         </div>
         {% with date_format_list="millisecond second minute hour day week month quarter year" %}
             {% for date_format in date_format_list.split %}
                 <div class="form-group">
                     {% with date_format_variable="sensor_format_"|concat:date_format %}
-                        <label class="control-label col-md-3"
-                               for="{{ date_format_variable }}">{{ date_format|capfirst }}:</label>
+                        <label class="control-label col-md-3" for="{{ date_format_variable }}">{{ date_format|capfirst }}:</label>
                         <div class="col-md-4">
-                            <input type="text" id="{{ date_format_variable }}" name="{{ date_format_variable }}"
+                            <input type="text"
+                                   id="{{ date_format_variable }}"
+                                   name="{{ date_format_variable }}"
                                    class="form-control"
                                    value="{{ "sensors"|customization:date_format_variable|default_if_none:"" }}"
-                                   placeholder=""/>
+                                   placeholder="" />
                         </div>
                     {% endwith %}
                 </div>
             {% endfor %}
         {% endwith %}
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
         {# add a "fake" chart to get the adapter's formats and use them as placeholders for the inputs #}
         <canvas class="hidden" id="customization_chart"></canvas>
         <script>
             const customization_chart = new Chart(document.getElementById('customization_chart').getContext('2d'),
                 {
                     options: {scales: {x: {type: 'time'}}}
                 });
             for (let [key, value] of Object.entries(customization_chart.scales['x']._adapter.formats())) {
                 $('#sensor_format_' + key).attr('placeholder', value);
             }
         </script>
     </form>
-</div>
+</div>
```

### html2text {}

```diff
@@ -39,13 +39,13 @@
 ******** CChhaarrtt ddaattee ffoorrmmaattss ********
 These formats are used in charts to display the date/time on the x-axis. See
 _m_o_m_e_n_t_._j_s_ _f_o_r_m_a_t for more details.
 {% with date_format_list="millisecond second minute hour day week month quarter
 year" %} {% for date_format in date_format_list.split %}
 {% with date_format_variable="sensor_format_"|concat:date_format %} {
 { date_format|capfirst }}:
-}" placeholder=""/>
+}" placeholder="" />
 {% endwith %}
 {% endfor %} {% endwith %}
 {% button type="save" value="Save settings" %}
 {# add a "fake" chart to get the adapter's formats and use them as placeholders
 for the inputs #}
```

## NEMO/apps/sensors/templates/sensors/sensor_data.html

```diff
@@ -3,47 +3,62 @@
 {% load custom_tags_and_filters %}
 {% block extrahead %}
     {# Chart.js #}
     <script type="text/javascript" src="{% static "sensors/chart.min.js" %}"></script>
     <script type="text/javascript" src="{% static "sensors/chartjs-adapter-moment.js" %}"></script>
     {# Daterange picker #}
     <script type="text/javascript" src="{% static "sensors/daterangepicker.js" %}"></script>
-    <link rel="stylesheet" type="text/css" href="{% static "sensors/daterangepicker.css" %}"/>
+    <link rel="stylesheet" type="text/css" href="{% static "sensors/daterangepicker.css" %}" />
     {# Sensors #}
-    <link rel="stylesheet" type="text/css" href="{% static "sensors/sensors.css" %}"/>
+    <link rel="stylesheet" type="text/css" href="{% static "sensors/sensors.css" %}" />
 {% endblock %}
 {% block title %}{{ sensor.name }} data{% endblock %}
 {% block content %}
     <div class="well well-sensors-dashboard">
         <ol class="breadcrumb breadcrumb-sensors-dashboard">
-            <li class="active"><a href="{% url 'sensors' %}">Dashboard</a></li>
+            <li class="active">
+                <a href="{% url 'sensors' %}">Dashboard</a>
+            </li>
             {% if sensor.sensor_category %}
                 {% for ancestor in sensor.sensor_category.ancestors %}
-                    <li><a href="{% url 'sensors' ancestor.id %}">{{ ancestor.name }}</a></li>
+                    <li>
+                        <a href="{% url 'sensors' ancestor.id %}">{{ ancestor.name }}</a>
+                    </li>
                 {% endfor %}
-                <li><a href="{% url 'sensors' sensor.sensor_category.id %}">{{ sensor.sensor_category.name }}</a></li>
+                <li>
+                    <a href="{% url 'sensors' sensor.sensor_category.id %}">{{ sensor.sensor_category.name }}</a>
+                </li>
             {% endif %}
             <li class="active">{{ sensor.name }}</li>
         </ol>
         <div class="panel-body">
             <div style="margin-bottom: 15px">
                 <div class="form-inline">
                     <label class="control-label" for="start">Date range:</label>
                     <div class="input-group" style="margin-right: 10px">
                         <input class="form-control text-center" type="text" onchange="refresh_page()" id="start" name="start">
-                        <div id="picker-container" class="invisible" style="float: left;position: relative;height: 0;width: 100%"></div>
+                        <div id="picker-container"
+                             class="invisible"
+                             style="float: left;
+                                    position: relative;
+                                    height: 0;
+                                    width: 100%"></div>
                         <span class="daterange-calendar input-group-btn">
-                            <button type="button" class="btn btn-default btn-input-white" onclick="open_daterange_picker()"><i class="glyphicon glyphicon-calendar"></i></button>
+                            <button type="button" class="btn btn-default btn-input-white" onclick="open_daterange_picker()">
+                                <i class="glyphicon glyphicon-calendar"></i>
+                            </button>
                         </span>
                     </div>
                     <label class="control-label" for="end" style="margin-right: 10px;">to</label>
                     <div class="input-group" style="margin-right: 5px;">
                         <input class="form-control text-center" type="text" onchange="refresh_page()" id="end" name="end">
                         <span class="daterange-calendar input-group-btn">
-                            <button type="button" class="btn btn-default btn-input-white" onclick="open_daterange_picker()"><i class="glyphicon glyphicon-calendar"></i></button>
+                            <button type="button" class="btn btn-default btn-input-white" onclick="open_daterange_picker()">
+                                <i class="glyphicon glyphicon-calendar"></i>
+                            </button>
                         </span>
                     </div>
                     <div class="visible-sm visible-xs" style="margin-bottom: 15px;"></div>
                     <label class="control-label" for="refresh-rate">Refresh rate:</label>
                     <select class="form-control" id="refresh-rate" onchange="update_refresh_rate();refresh_page();">
                         <option value="" {% if not refresh_rate %}selected{% endif %}>no refresh</option>
                         <option value="1000" {% if refresh_rate == 1000 %}selected{% endif %}>every second</option>
@@ -61,27 +76,33 @@
                 <li class="{% if tab == 'data' %}active{% endif %}">
                     <a href="#data-tab">Data</a>
                 </li>
                 <li class="{% if tab == 'alert' %}active{% endif %}">
                     <a href="#alert-tab">Alert log</a>
                 </li>
             </ul>
-            <div id="no-sensor-data" class="tab-content panel panel-default panel-tab-content" style="display: none;">
+            <div id="no-sensor-data" class="tab-content panel panel-default panel-tab-content" style="display: none">
                 <div class="panel-body">
                     <i>There is no data to display. Try selecting a different date range</i>
                 </div>
             </div>
-            <div id="sensor-data" class="tab-content panel panel-default panel-tab-content" style="margin-bottom: 0;">
+            <div id="sensor-data" class="tab-content panel panel-default panel-tab-content" style="margin-bottom: 0">
                 <div class="tab-pane{% if tab == 'chart' %} active{% endif %}" id="chart-tab">
                     <div class="panel-body">
                         <div class="text-right">
                             <div class="form-inline">
                                 <label class="control-label" for="chart-step">Display every</label>
-                                <input class="form-control input-sm" id="chart-step" type="number" value="{{ chart_step }}" onchange="refresh_page()" min="1" max="1440"/>
-                                <label class="control-label"> data point</label>
+                                <input class="form-control input-sm"
+                                       id="chart-step"
+                                       type="number"
+                                       value="{{ chart_step }}"
+                                       onchange="refresh_page()"
+                                       min="1"
+                                       max="1440" />
+                                <label class="control-label">data point</label>
                             </div>
                         </div>
                         <div>
                             <canvas id="sensor-chart"></canvas>
                         </div>
                     </div>
                 </div>
@@ -102,21 +123,19 @@
                                     </tr>
                                 </tbody>
                             </table>
                         </div>
                     </div>
                 </div>
                 <div class="tab-pane{% if tab == 'alert' %} active{% endif %}" id="alert-tab">
-                    <div id="alert-div" class="panel-body">
-                    </div>
+                    <div id="alert-div" class="panel-body"></div>
                 </div>
             </div>
         </div>
     </div>
-
     <script>
         {# Set a special date for 'now' so we can refresh real time data #}
         const now_moment_date = moment();
 
         let tab_jq = $("#tabs a");
 		tab_jq.click(switch_tab);
 		tab_jq.click(refresh_page);
@@ -318,9 +337,8 @@
         {
             set_interval_when_visible(document, refresh_page, $('#refresh-rate').val());
         }
 
         set_dates(moment('{{ start|input_date_format }}', '{{ datetime_input_js_format }}'), {% if end %}moment('{{ end|input_date_format }}', '{{ datetime_input_js_format }}'){% else %}now_moment_date{% endif %});
         update_refresh_rate();
     </script>
-
-{% endblock %}
+{% endblock %}
```

### html2text {}

```diff
@@ -1,15 +1,15 @@
 {% extends "base.html" %} {% load static %} {% load custom_tags_and_filters %}
 {% block extrahead %} {# Chart.js #}
 }">
 }">
 {# Daterange picker #}
 }">
-}"/> {# Sensors #}
-}"/> {% endblock %} {% block title %}{{ sensor.name }} data{% endblock %} {%
+}" /> {# Sensors #}
+}" /> {% endblock %} {% block title %}{{ sensor.name }} data{% endblock %} {%
 block content %}
    1. _D_a_s_h_b_o_a_r_d
    2. {% if sensor.sensor_category %} {% for ancestor in
       sensor.sensor_category.ancestors %}
    3. _{_{_ _a_n_c_e_s_t_o_r_._n_a_m_e_ _}_}
    4. {% endfor %}
    5. _{_{_ _s_e_n_s_o_r_._s_e_n_s_o_r___c_a_t_e_g_o_r_y_._n_a_m_e_ _}_}
```

## NEMO/apps/sensors/templates/sensors/sensors.html

```diff
@@ -1,75 +1,87 @@
 {% extends "base.html" %}
 {% load static %}
 {% load custom_tags_and_filters %}
 {% block extrahead %}
-    <link rel="stylesheet" type="text/css" href="{% static "sensors/sensors.css" %}"/>
+    <link rel="stylesheet" type="text/css" href="{% static "sensors/sensors.css" %}" />
 {% endblock %}
 {% block title %}Sensors{% endblock %}
 {% block content %}
     <div class="well well-sensors-dashboard">
         <ol class="breadcrumb breadcrumb-sensors-dashboard">
             {% if not selected_category %}
                 <li class="active">Sensor Dashboard</li>
             {% else %}
-                <li class="active"><a href="{% url 'sensors' %}">Dashboard</a></li>
+                <li class="active">
+                    <a href="{% url 'sensors' %}">Dashboard</a>
+                </li>
                 {% for ancestor in selected_category.ancestors %}
-                    <li><a href="{% url 'sensors' ancestor.id %}">{{ ancestor.name }}</a></li>
+                    <li>
+                        <a href="{% url 'sensors' ancestor.id %}">{{ ancestor.name }}</a>
+                    </li>
                 {% endfor %}
                 <li class="active">{{ selected_category.name }}</li>
             {% endif %}
         </ol>
         <ul class="list-inline list-inline-sensors-dashboard text-center">
             {% if categories %}
                 {% for category in categories %}
-                    <li class="dashboard-category-group-item text-center {% if category.alert_triggered %}alert-danger{% else %}alert-success{% endif %}" onclick="window.location = '{% url 'sensors' category.id %}'">
-                        {{ category.name }}
-                    </li>
+                    <li class="dashboard-category-group-item text-center {% if category.alert_triggered %}alert-danger{% else %}alert-success{% endif %}"
+                        onclick="window.location = '{% url 'sensors' category.id %}'">{{ category.name }}</li>
                 {% endfor %}
             {% endif %}
             {% if sensors %}
                 {% for sensor in sensors %}
-                    <li class="dashboard-sensor-group-item text-center {% if sensor.alert_triggered %}alert-danger{% else %}alert-success{% endif %}" onclick="window.location = '{% url 'sensor_details' sensor.id %}'">
-                        {{ sensor.name }}<br><br>
-                        {{ sensor.last_data_point.created_date|date:"SHORT_DATETIME_FORMAT" }}<br>
+                    <li class="dashboard-sensor-group-item text-center {% if sensor.alert_triggered %}alert-danger{% else %}alert-success{% endif %}"
+                        onclick="window.location = '{% url 'sensor_details' sensor.id %}'">
+                        {{ sensor.name }}
+                        <br>
+                        <br>
+                        {{ sensor.last_data_point.created_date|date:"SHORT_DATETIME_FORMAT" }}
+                        <br>
                         {{ sensor.last_data_point.display_value }}
                     </li>
                 {% endfor %}
             {% endif %}
             {% if not sensors and not categories %}
                 <div class="dashboard-no-group-items">
                     no items to display.
                     {% if user.is_superuser and not selected_category and "django.contrib.admin"|app_installed %}
-                        <br/><br/>You can add sensors, categories and alerts by navigating to<br>
-                        <a href="{% url 'admin:app_list' 'sensors' %}">
-                            Administration -> Detailed Administration -> Sensors
-                        </a>
+                        <br />
+                        <br />
+                        You can add sensors, categories and alerts by navigating to
+                        <br>
+                        <a href="{% url 'admin:app_list' 'sensors' %}">Administration -> Detailed Administration -> Sensors</a>
                     {% endif %}
                 </div>
             {% endif %}
         </ul>
         {% if sensors or categories %}
-            {%if selected_category or alert_logs %}
+            {% if selected_category or alert_logs %}
                 <div class="panel-body">
                     <ul class="nav nav-tabs" id="tabs">
                         <li class="active">
                             <a>Alert log</a>
                         </li>
                     </ul>
-                    <div id="no-sensor-data" class="tab-content panel panel-default panel-tab-content" style="margin-bottom: 0">
+                    <div id="no-sensor-data"
+                         class="tab-content panel panel-default panel-tab-content"
+                         style="margin-bottom: 0">
                         <div class="panel-body">
                             {% if alert_logs %}
                                 <ul style="margin-top: 10px;">
                                     {% for alert in alert_logs %}
-                                        <li class="{% if alert.reset %}success-highlight{% else %}danger-highlight{% endif %}">[{{ alert.sensor.name }}] {{ alert.description }}</li>
+                                        <li class="{% if alert.reset %}success-highlight{% else %}danger-highlight{% endif %}">
+                                            [{{ alert.sensor.name }}] {{ alert.description }}
+                                        </li>
                                     {% endfor %}
                                 </ul>
                             {% else %}
                                 <i>There are no alerts for sensors in the {{ selected_category }}.</i>
                             {% endif %}
                         </div>
                     </div>
                 </div>
             {% endif %}
         {% endif %}
     </div>
-{% endblock %}
+{% endblock %}
```

### html2text {}

```diff
@@ -1,10 +1,10 @@
 {% extends "base.html" %} {% load static %} {% load custom_tags_and_filters %}
 {% block extrahead %}
-}"/> {% endblock %} {% block title %}Sensors{% endblock %} {% block content %}
+}" /> {% endblock %} {% block title %}Sensors{% endblock %} {% block content %}
    1. {% if not selected_category %}
    2. Sensor Dashboard
    3. {% else %}
    4. _D_a_s_h_b_o_a_r_d
    5. {% for ancestor in selected_category.ancestors %}
    6. _{_{_ _a_n_c_e_s_t_o_r_._n_a_m_e_ _}_}
    7. {% endfor %}
@@ -18,17 +18,17 @@
       {{ sensor.last_data_point.created_date|date:"SHORT_DATETIME_FORMAT" }}
       {{ sensor.last_data_point.display_value }}
     * {% endfor %} {% endif %} {% if not sensors and not categories %}
       no items to display. {% if user.is_superuser and not selected_category
       and "django.contrib.admin"|app_installed %}
 
       You can add sensors, categories and alerts by navigating to
-      _A_d_m_i_n_i_s_t_r_a_t_i_o_n_ _-_>_ _D_e_t_a_i_l_e_d_ _A_d_m_i_n_i_s_t_r_a_t_i_o_n_ _-_>_ _S_e_n_s_o_r_s_ {% endif %}
+      _A_d_m_i_n_i_s_t_r_a_t_i_o_n_ _-_>_ _D_e_t_a_i_l_e_d_ _A_d_m_i_n_i_s_t_r_a_t_i_o_n_ _-_>_ _S_e_n_s_o_r_s {% endif %}
     * {% endif %}
-{% if sensors or categories %} {%if selected_category or alert_logs %}
+{% if sensors or categories %} {% if selected_category or alert_logs %}
     * Alert log
 {% if alert_logs %}
     * {% for alert in alert_logs %}
     * [{{ alert.sensor.name }}] {{ alert.description }}
     * {% endfor %}
 {% else %} There are no alerts for sensors in the {{ selected_category }}. {%
 endif %}
```

## NEMO/migrations/0012_version_2_0_0_squashed.py

```diff
@@ -21,15 +21,15 @@
         ("NEMO", "0016_area_reservation_warning"),
         ("NEMO", "0017_remove_facility_and_site_names_from_help_text"),
         ("NEMO", "0018_area_count_staff_in_occupancy"),
         ("NEMO", "0019_user_type_not_required"),
     ]
 
     dependencies = [
-        ("NEMO", "0011_version_1_22_0"),
+        ("NEMO", "0002_version_1_0_0_squashed"),
     ]
 
     def create_proxr_interlock_card_category(apps, schema_editor):
         InterlockCardCategory = apps.get_model("NEMO", "InterlockCardCategory")
         if not InterlockCardCategory.objects.filter(key="proxr").exists():
             proxr_category = InterlockCardCategory.objects.create(name="ProXr", key="proxr")
             proxr_category.save()
```

## NEMO/migrations/0020_version_3_0_0.py

```diff
@@ -5,15 +5,15 @@
 import mptt.fields
 import mptt.managers
 from django.db import migrations, models
 
 
 class Migration(migrations.Migration):
     dependencies = [
-        ("NEMO", "0019_user_type_not_required"),
+        ("NEMO", "0012_version_2_0_0_squashed"),
     ]
 
     def rebuild_area_tree(apps, schema_editor):
         manager = mptt.managers.TreeManager()
         Area = apps.get_model("NEMO", "Area")
         manager.model = Area
         mptt.register(Area, parent_attr="parent_area")
```

## NEMO/static/nemo.js

### js-beautify {}

```diff
@@ -643,15 +643,15 @@
     start_jq.on("dp.change", function(e) {
         if (set_end_date == null || !set_end_date) end_date_picker.minDate(e.date);
         else end_date_picker.date(e.date);
     });
 }
 
 function sort_compare(element) {
-    return element.innerText.toLowerCase();
+    return element.innerText.toLowerCase().trim();
 }
 
 function sort_elements(list_element, selector, sort_function) {
     let list, i, switching, b, shouldSwitch;
     list = list_element;
     switching = true;
     while (switching) {
```

## NEMO/templates/acknowledgement.html

```diff
@@ -1,12 +1,12 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}{{ title }}{% endblock %}
 {% block content %}
-	{% if heading %}<h1>{{ heading }}</h1>{% endif %}
-	{% if content %}<p>{{ content }}</p>{% endif %}
-	<div class="row">
-		<div class="col-xs-4">
+    {% if heading %}<h1>{{ heading }}</h1>{% endif %}
+    {% if content %}<p>{{ content }}</p>{% endif %}
+    <div class="row">
+        <div class="col-xs-4">
             {% button type="save" url="landing" value="Continue to "|concat:site_title|concat:" home screen" icon="glyphicon-home" %}
-		</div>
-	</div>
-{% endblock %}
+        </div>
+    </div>
+{% endblock %}
```

## NEMO/templates/alerts.html

```diff
@@ -1,87 +1,137 @@
 {% extends 'base.html' %}
 {% block extrahead %}
-	{% load static %}
-	{% load custom_tags_and_filters %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    {% load static %}
+    {% load custom_tags_and_filters %}
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block title %}Alerts{% endblock %}
 {% block content %}
-	<h1>Alerts</h1>
-	{% if form.non_field_errors %}
-		<div class="alert alert-danger">
-			{{ form.non_field_errors }}
-		</div>
-	{% endif %}
-	<p>
-		You can create and edit alerts that will be visible to everyone. The alert will only be visible after the debut time and will be deleted after the expiration time.
-	</p>
-	<form action="{% url 'alerts' %}" method="post" class="well">
-		<h4>{% if editing %}Edit this alert{% else %}Create a new alert{% endif %}</h4>
-		{% csrf_token %}
-		{% if form.instance.id %}<input type="hidden" name="alert_id" value="{{ form.instance.id }}">{% endif %}
-		<div class="form-group">
-			<label for="title">Title</label>{% if form.title.errors %} - <span style="color:red">{{ form.title.errors }}</span>{% endif %}
-			<input type="text" class="form-control" name="title" id="title" value="{{ form.title.value|default_if_none:"" }}" maxlength="{{ form.fields.title.max_length }}" autofocus>
-		</div>
-		{% if alert_categories %}
-			<div class="form-group">
-				<label for="category">Type</label>{% if form.category.errors %} - <span style="color:red">{{ form.category.errors|striptags }}</span>{% endif %}
-				<select id="category" name="category" class="form-control">
-					<option value="" disabled selected>Select an alert type</option>
-					{% for category in alert_categories %}
-						<option value="{{ category.name }}" {% if form.category.value == category.name %}selected{% endif %}>{{ category.name }}</option>
-					{% endfor %}
-				</select>
-			</div>
-		{% endif %}
-		<div class="form-group">
-			<label for="contents">Contents</label>{% if form.contents.errors %} - <span style="color:red">{{ form.contents.errors|striptags }}</span>{% endif %}
-			<textarea rows="3" class="form-control" name="contents" id="contents" maxlength="{{ form.fields.contents.max_length }}">{{ form.contents.value|default_if_none:"" }}</textarea>
-		</div>
-		<div class="form-group">
-			<div class="row">
-				<div class="col-sm-6">
-					<label for="debut_time">Debut time</label>{% if form.debut_time.errors %} - <span style="color:red">{{ form.debut_time.errors|striptags }}</span>{% endif %}
-					<input type="text" class="form-control" name="debut_time" id="debut_time" value="{% if form.debut_time.value %}{{ form.debut_time.value|input_date_format }}{% else %}{{ now|input_date_format }}{% endif %}">
-				</div>
-				<div class="col-sm-6">
-					<label for="expiration_time">Expiration time</label>{% if form.expiration_time.errors %} - <span style="color:red">{{ form.expiration_time.errors|striptags }}</span>{% endif %}
-					<input type="text" class="form-control" name="expiration_time" id="expiration_time" value="{{ form.expiration_time.value|input_date_format }}">
-				</div>
-			</div>
-		</div>
-		<div class="form-group">
-            {% button type="save" value=editing|yesno:"Save changes,Create alert" %}
-		</div>
-	</form>
-	<div class="row">
-		{% for a in alerts %}
-			<div class="col-sm-6">
-				<div class="alert alert-danger">
-					<form id="delete_alert_{{ a.id }}" method="post" action="{% url 'delete_alert' a.id %}">
-						{% csrf_token %}
-						<span class="glyphicon glyphicon-remove pull-right" style="cursor:pointer" onclick="$('#delete_alert_{{ a.id }}').submit()" data-toggle="tooltip" data-placement="top" title="Delete this alert"></span>
-					</form>
-					<form id="edit_alert_{{ a.id }}" method="get" action="{% url 'alerts' %}">
-						<span class="glyphicon glyphicon-pencil pull-right" style="margin-right:10px; cursor:pointer" onclick="$('#edit_alert_{{ a.id }}').submit()" data-toggle="tooltip" data-placement="top" title="Edit this alert"></span>
-						<input type="hidden" name="alert_id" value="{{ a.id }}">
-					</form>
-					{% if a.title %}<span style="font-weight:bold">{{ a.title }}</span><br>{% endif %}
-					{{ a.contents|linebreaks }}
-					Debuts on {{ a.debut_time }}<br>
-					{% if a.expiration_time %}Expires on {{ a.expiration_time }}{% else %}This alert will never expire{% endif %}<br>
-				</div>
-			</div>
-		{% endfor %}
-	</div>
-	<script>
+    <h1>Alerts</h1>
+    {% if form.non_field_errors %}<div class="alert alert-danger">{{ form.non_field_errors }}</div>{% endif %}
+    <p>
+        You can create and edit alerts that will be visible to everyone. The alert will only be visible after the debut time and will be deleted after the expiration time. (HTML syntax is allowed).
+    </p>
+    <form action="{% url 'alerts' %}" method="post" class="well">
+        <h4>
+            {% if editing %}
+                Edit this alert
+            {% else %}
+                Create a new alert
+            {% endif %}
+        </h4>
+        {% csrf_token %}
+        {% if form.instance.id %}<input type="hidden" name="alert_id" value="{{ form.instance.id }}">{% endif %}
+        <div class="form-group">
+            <label for="title">Title</label>
+            {% if form.title.errors %}- <span style="color:red">{{ form.title.errors }}</span>{% endif %}
+            <input type="text"
+                   class="form-control"
+                   name="title"
+                   id="title"
+                   value="{{ form.title.value|default_if_none:"" }}"
+                   maxlength="{{ form.fields.title.max_length }}"
+                   autofocus>
+        </div>
+        {% if alert_categories %}
+            <div class="form-group">
+                <label for="category">Type</label>
+                {% if form.category.errors %}- <span style="color:red">{{ form.category.errors|striptags }}</span>{% endif %}
+                <select id="category" name="category" class="form-control">
+                    <option value="" disabled selected>Select an alert type</option>
+                    {% for category in alert_categories %}
+                        <option value="{{ category.name }}" {% if form.category.value == category.name %}selected{% endif %}>
+                            {{ category.name }}
+                        </option>
+                    {% endfor %}
+                </select>
+            </div>
+        {% endif %}
+        <div class="form-group">
+            <label for="contents">Contents</label>
+            {% if form.contents.errors %}- <span style="color:red">{{ form.contents.errors|striptags }}</span>{% endif %}
+            <textarea rows="3"
+                      class="form-control"
+                      name="contents"
+                      id="contents"
+                      maxlength="{{ form.fields.contents.max_length }}">{{ form.contents.value|default_if_none:"" }}</textarea>
+        </div>
+        <div class="form-group">
+            <div class="row">
+                <div class="col-sm-6">
+                    <label for="debut_time">Debut time</label>
+                    {% if form.debut_time.errors %}- <span style="color:red">{{ form.debut_time.errors|striptags }}</span>{% endif %}
+                    <input type="text"
+                           class="form-control"
+                           name="debut_time"
+                           id="debut_time"
+                           value="{% if form.debut_time.value %}{{ form.debut_time.value|input_date_format }}{% else %}{{ now|input_date_format }}{% endif %}">
+                </div>
+                <div class="col-sm-6">
+                    <label for="expiration_time">Expiration time</label>
+                    {% if form.expiration_time.errors %}
+                        - <span style="color:red">{{ form.expiration_time.errors|striptags }}</span>
+                    {% endif %}
+                    <input type="text"
+                           class="form-control"
+                           name="expiration_time"
+                           id="expiration_time"
+                           value="{{ form.expiration_time.value|input_date_format }}">
+                </div>
+            </div>
+        </div>
+        <div class="form-group">{% button type="save" value=editing|yesno:"Save changes,Create alert" %}</div>
+    </form>
+    <div class="row">
+        {% for a in alerts %}
+            <div class="col-sm-6">
+                <div class="alert alert-danger">
+                    <form id="delete_alert_{{ a.id }}" method="post" action="{% url 'delete_alert' a.id %}">
+                        {% csrf_token %}
+                        <span class="glyphicon glyphicon-remove pull-right"
+                              style="cursor:pointer"
+                              onclick="$('#delete_alert_{{ a.id }}').submit()"
+                              data-toggle="tooltip"
+                              data-placement="top"
+                              title="Delete this alert"></span>
+                    </form>
+                    <form id="edit_alert_{{ a.id }}" method="get" action="{% url 'alerts' %}">
+                        <span class="glyphicon glyphicon-pencil pull-right"
+                              style="margin-right:10px;
+                                     cursor:pointer"
+                              onclick="$('#edit_alert_{{ a.id }}').submit()"
+                              data-toggle="tooltip"
+                              data-placement="top"
+                              title="Edit this alert"></span>
+                        <input type="hidden" name="alert_id" value="{{ a.id }}">
+                    </form>
+                    {% if a.title %}
+                        <span style="font-weight:bold">{{ a.title }}</span>
+                        <br>
+                    {% endif %}
+                    {{ a.contents|safe|linebreaksbr }}
+                    <br>
+                    <br>
+                    Debuts on {{ a.debut_time }}
+                    <br>
+                    {% if a.expiration_time %}
+                        Expires on {{ a.expiration_time }}
+                    {% else %}
+                        This alert will never expire
+                    {% endif %}
+                    <br>
+                </div>
+            </div>
+        {% endfor %}
+    </div>
+    <script>
 		let timepicker_properties = {
             format: "{{ datetime_input_js_format }}",
 			sideBySide: true
 		};
 		$('#debut_time').datetimepicker(timepicker_properties);
 		$('#expiration_time').datetimepicker(timepicker_properties);
 		$('.glyphicon').tooltip({container: 'body'});
-	</script>
-{% endblock %}
+
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,40 +1,43 @@
 {% extends 'base.html' %} {% block extrahead %} {% load static %} {% load
 custom_tags_and_filters %}
 }">
-}"/> {% endblock %} {% block title %}Alerts{% endblock %} {% block content %}
+}" /> {% endblock %} {% block title %}Alerts{% endblock %} {% block content %}
 ************ AAlleerrttss ************
 {% if form.non_field_errors %}
 {{ form.non_field_errors }}
 {% endif %}
 You can create and edit alerts that will be visible to everyone. The alert will
 only be visible after the debut time and will be deleted after the expiration
-time.
-****** {{%% iiff eeddiittiinngg %%}}EEddiitt tthhiiss aalleerrtt{{%% eellssee %%}}CCrreeaattee aa nneeww aalleerrtt{{%% eennddiiff %%}} ******
+time. (HTML syntax is allowed).
+****** {{%% iiff eeddiittiinngg %%}} EEddiitt tthhiiss aalleerrtt {{%% eellssee %%}} CCrreeaattee aa nneeww aalleerrtt {{%% eennddiiff %%}}
+******
 {% csrf_token %} {% if form.instance.id %}{% endif %}
-Title{% if form.title.errors %} - {{ form.title.errors }}{% endif %}
+Title {% if form.title.errors %}- {{ form.title.errors }}{% endif %}
 }}" maxlength="{{ form.fields.title.max_length }}" autofocus>
 {% if alert_categories %}
 {% for category in alert_categories %}
-% if form.category.value == category.name %}selected{% endif %}>{
+% if form.category.value == category.name %}selected{% endif %}> {
 { category.name }}
 {% endfor %}
 {% endif %}
-Contents{% if form.contents.errors %} - {{ form.contents.errors|striptags }}{%
+Contents {% if form.contents.errors %}- {{ form.contents.errors|striptags }}{%
 endif %}
 {{ form.contents.value|default_if_none:"" }}
-Debut time{% if form.debut_time.errors %} - {{ form.debut_time.errors|striptags
+Debut time {% if form.debut_time.errors %}- {{ form.debut_time.errors|striptags
 }}{% endif %}[{% if form.debut_time.value %}{
 { form.debut_time.value|input_date_format }}{% else %}{{ now|input_date_format
 }}{% endif %}]
-Expiration time{% if form.expiration_time.errors %} - {
-{ form.expiration_time.errors|striptags }}{% endif %}[{
+Expiration time {% if form.expiration_time.errors %} - {
+{ form.expiration_time.errors|striptags }} {% endif %}[{
 { form.expiration_time.value|input_date_format }}]
 {% button type="save" value=editing|yesno:"Save changes,Create alert" %}
 {% for a in alerts %}
 {% csrf_token %}
-{% if a.title %}{{ a.title }}
-{% endif %} {{ a.contents|linebreaks }} Debuts on {{ a.debut_time }}
-{% if a.expiration_time %}Expires on {{ a.expiration_time }}{% else %}This
-alert will never expire{% endif %}
+{% if a.title %} {{ a.title }}
+{% endif %} {{ a.contents|safe|linebreaksbr }}
+
+Debuts on {{ a.debut_time }}
+{% if a.expiration_time %} Expires on {{ a.expiration_time }} {% else %} This
+alert will never expire {% endif %}
 {% endfor %}
 {% endblock %}
```

## NEMO/templates/authorization_failed.html

```diff
@@ -1,25 +1,23 @@
 {% load static %}
 {% load custom_tags_and_filters %}
-
 <!DOCTYPE html>
 <html lang="en">
-<head>
-	<title>Authorization failed</title>
-	{# jQuery #}
-    <script type="text/javascript" src="{% static "jquery.min.js" %}"></script>
-
-	{# Bootstrap #}
-    <script type="text/javascript" src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
-    <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.min.css" %}"/>
-    <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.min.css" %}"/>
-</head>
-<body>
-	{% if authorization_failed %}
-		{{ authorization_failed|safe }}
-	{% else %}
-		<div style="padding: 10px; font-size: 16px">
-			You do not have a {{ site_title }} user account or your user account has been deactivated. Please contact the {{ facility_name }} staff for assistance.
-		</div>
-	{% endif %}
-</body>
+    <head>
+        <title>Authorization failed</title>
+        {# jQuery #}
+        <script type="text/javascript" src="{% static "jquery.min.js" %}"></script>
+        {# Bootstrap #}
+        <script type="text/javascript" src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
+        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.min.css" %}" />
+        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.min.css" %}" />
+    </head>
+    <body>
+        {% if authorization_failed %}
+            {{ authorization_failed|safe }}
+        {% else %}
+            <div style="padding: 10px; font-size: 16px">
+                You do not have a {{ site_title }} user account or your user account has been deactivated. Please contact the {{ facility_name }} staff for assistance.
+            </div>
+        {% endif %}
+    </body>
 </html>
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
 {% load static %} {% load custom_tags_and_filters %}
 {# jQuery #}
 }">
 {# Bootstrap #}
 }">
-}"/>
-}"/>
+}" />
+}" />
 {% if authorization_failed %} {{ authorization_failed|safe }} {% else %}
 You do not have a {{ site_title }} user account or your user account has been
 deactivated. Please contact the {{ facility_name }} staff for assistance.
 {% endif %}
```

## NEMO/templates/base.html

```diff
@@ -1,110 +1,106 @@
 {% load static %}
 {% load custom_tags_and_filters %}
-
 <!DOCTYPE html>
 <html lang="en">
-<head>
-	{# This meta-tag forcefully disables 'compatibility mode' in Internet Explorer because it causes rendering problems. #}
-	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
-	<meta charset="UTF-8">
-	<meta name="application-name" content="NEMO-CE">
-	<meta name="author" content="Center for Nanoscale Science and Technology">
-	<meta name="description" content="NEMO allows facility users to make tool reservations, control access to tools in their facility, and streamline logistics and communication">
-	<meta name="keywords" content="logistics, operations, nano-technology, nano-fabrication, reservation, tool control, status">
-	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
-
-	{# Snippet to prevent clickjacking. Taken from https://www.codemagi.com/blog/post/194 #}
-	<style id="antiClickjack">
+    <head>
+        {# This meta-tag forcefully disables 'compatibility mode' in Internet Explorer because it causes rendering problems. #}
+        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
+        <meta charset="UTF-8">
+        <meta name="application-name" content="NEMO-CE">
+        <meta name="author" content="Center for Nanoscale Science and Technology">
+        <meta name="description"
+              content="NEMO allows facility users to make tool reservations, control access to tools in their facility, and streamline logistics and communication">
+        <meta name="keywords"
+              content="logistics, operations, nano-technology, nano-fabrication, reservation, tool control, status">
+        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
+        {# Snippet to prevent clickjacking. Taken from https://www.codemagi.com/blog/post/194 #}
+        <style id="antiClickjack">
 		body
 		{
 			display: none !important;
 		}
-	</style>
-	<script type="text/javascript">
+
+        </style>
+        <script type="text/javascript">
 		if(self === top)
 		{
 			let antiClickjack = document.getElementById("antiClickjack");
 			antiClickjack.parentNode.removeChild(antiClickjack);
 		}
 		else
         {
 			top.location = self.location;
         }
-	</script>
-
-    {% block head %}
-        {# Moment #}
-        <script type="text/javascript" src="{% static "moment.min.js" %}"></script>
-
-        {# jQuery #}
-	    <script type="text/javascript" src="{% static "jquery.min.js" %}"></script>
-
-        {# Bootstrap #}
-        <script type="text/javascript" src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
-        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.min.css" %}"/>
-        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.min.css" %}"/>
-
-        {# Typeahead #}
-        <script type="text/javascript" src="{% static "typeahead.jquery.min.js" %}"></script>
-    {% endblock %}
-
-	{# NEMO #}
-    <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}"/>
-	<script type="text/javascript" src="{% static "nemo.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "nemo.css" %}"/>
-
-	{% block extrahead %}{% endblock %}
 
-	<title>{% block title %}{% endblock %}</title>
-</head>
-<body class="{% if "impersonate_id" in request.session and request.session.impersonate_id %}impersonating{% endif %}">
-<a class="sr-only sr-only-focusable" href="#main-content">Skip to main content</a>
-{% if "impersonate_id" in request.session and request.session.impersonate_id %}
-	{% include 'base/impersonate_header.html' %}
-{% endif %}
-{% if no_header %}
-	<div style="height: 15px;"></div>
-{% else %}
-	{% include 'base/navbar.html' %}
-{% endif %}
-{% block body %}
-    <div class="body-container">
-        <div id="loading-div-page" class="spinner-full-page spinner-container" style="display: none">
-            <div class="glyphicon glyphicon-repeat normal-right-spinner"></div>
-        </div>
-        <div class="container" id="main-content">
-			{% if messages %}
-				{% for message in messages %}
-					<div class="alert alert-{% if message.level_tag == 'error' %}danger{% else %}{{ message.level_tag }}{% endif %} alert-dismissible show-on-load" {% if message.extra_tags %}{{ message.extra_tags }}{% endif %} style="display: none">
-						<button type="button" class="close" data-dismiss="alert" aria-label="Modal close button">&times;</button>
-						{{ message }}
-					</div>
-				{% endfor %}
-			{% endif %}
-            {# Content goes here #}
-            {% block content %}{% endblock %}
-			<div class="modal-footer">{% block footer %}{% endblock %}</div>
-        </div>
-        {% block extra_whitespace %}
-            <div style="height: 200px"></div>
+        </script>
+        {% block head %}
+            {# Moment #}
+            <script type="text/javascript" src="{% static "moment.min.js" %}"></script>
+            {# jQuery #}
+            <script type="text/javascript" src="{% static "jquery.min.js" %}"></script>
+            {# Bootstrap #}
+            <script type="text/javascript" src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
+            <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.min.css" %}" />
+            <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.min.css" %}" />
+            {# Typeahead #}
+            <script type="text/javascript" src="{% static "typeahead.jquery.min.js" %}"></script>
         {% endblock %}
-    </div>
-    {% include 'base/footer.html' %}
-{% endblock %}
-
-{# This division is used to display dialog messages via Bootstrap. #}
-<div class="modal fade" id="dialog" tabindex="-1">
-	<div class="modal-dialog" role="dialog" aria-modal="true">
-		<div class="modal-content">
-		</div>
-	</div>
-</div>
-
-<script>
+        {# NEMO #}
+        <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}" />
+        <script type="text/javascript" src="{% static "nemo.js" %}"></script>
+        <link rel="stylesheet" type="text/css" href="{% static "nemo.css" %}" />
+        {% block extrahead %}{% endblock %}
+        <title>
+            {% block title %}{% endblock %}
+        </title>
+    </head>
+    <body class="{% if "impersonate_id" in request.session and request.session.impersonate_id %}impersonating{% endif %}">
+        <a class="sr-only sr-only-focusable" href="#main-content">Skip to main content</a>
+        {% if "impersonate_id" in request.session and request.session.impersonate_id %}
+            {% include 'base/impersonate_header.html' %}
+        {% endif %}
+        {% if no_header %}
+            <div style="height: 15px;"></div>
+        {% else %}
+            {% include 'base/navbar.html' %}
+        {% endif %}
+        {% block body %}
+            <div class="body-container">
+                <div id="loading-div-page" class="spinner-full-page spinner-container" style="display: none">
+                    <div class="glyphicon glyphicon-repeat normal-right-spinner"></div>
+                </div>
+                <div class="container" id="main-content">
+                    {% if messages %}
+                        {% for message in messages %}
+                            <div class="alert alert-{% if message.level_tag == 'error' %}danger{% else %}{{ message.level_tag }}{% endif %} alert-dismissible show-on-load" {% if message.extra_tags %}{{ message.extra_tags }}{% endif %} style="display: none">
+                                <button type="button" class="close" data-dismiss="alert" aria-label="Modal close button">&times;</button>
+                                {{ message }}
+                            </div>
+                        {% endfor %}
+                    {% endif %}
+                    {# Content goes here #}
+                    {% block content %}{% endblock %}
+                    {% spaceless %}
+                        <div class="modal-footer">
+                            {% block footer %}{% endblock %}
+                        </div>
+                    {% endspaceless %}
+                </div>
+                {% block extra_whitespace %}<div style="height: 200px"></div>{% endblock %}
+            </div>
+            {% include 'base/footer.html' %}
+        {% endblock %}
+        {# This division is used to display dialog messages via Bootstrap. #}
+        <div class="modal fade" id="dialog" tabindex="-1">
+            <div class="modal-dialog" role="dialog" aria-modal="true">
+                <div class="modal-content"></div>
+            </div>
+        </div>
+        <script>
 	function csrf_token()
 	{
 		return '{{ csrf_token }}';
 	}
 	function show_spinner(form_to_check)
     {
         if (form_to_check !== undefined)
@@ -162,11 +158,10 @@
     }, false);
 
     {# Hide spinner on page show, just in case for some browser back button reloading it #}
     window.addEventListener('pageshow', function()
     {
         hide_spinner();
     });
-</script>
-
-</body>
+        </script>
+    </body>
 </html>
```

## NEMO/templates/configuration_agenda.html

```diff
@@ -1,141 +1,142 @@
 {% extends "base.html" %}
 {% load custom_tags_and_filters %}
 {% block title %}Configuration agenda{% endblock %}
 {% block content %}
-	<h1>Configuration agenda
-		<small>for {% if time_period == 'today' %}today{% elif time_period == 'near_future' %}the near future{% endif %}</small>
-	</h1>
-	{% if tools %}
-		<p>
-			Below is a list of reservations which require tool configurations.
-			The reservations are grouped by tool and ordered by start time.
-			Reservations that have a red background were created on short notice,
-			thus there is no guarantee the tool will be configured properly when the user arrives.
-			Reservations that have already started or have no configuration information are excluded.
-			You can also
-			{% if time_period == 'today' %}
-				<a href="{% url 'configuration_agenda_near_future' %}">view reservations in the near future</a>
-			{% elif time_period == 'near_future' %}
-				<a href="{% url 'configuration_agenda' %}">view reservations for today</a>
-			{% endif %}
-			that will require configuration changes.
-		</p>
-		{% for tool in tools %}
-			<table class="table table-bordered">
-				<thead>
-				<tr style="border:2px solid black" class="info">
-					<th colspan="2" style="text-align:center; font-size:large; border:2px solid black">
-						<a href="{% url 'calendar' item_type='tool' item_id=tool.id %}" title="View the {{ tool }} calendar" target="_blank">
-							{{ tool.name }}
-						</a>
-					</th>
-				</tr>
-				</thead>
-				{% regroup reservations|dictsort:"tool.id" by tool as regrouped_reservations %}
-				{% for t in regrouped_reservations %}
-					{% if t.grouper.id == tool.id %}
-						{% for reservation in t.list %}
-							<tr style="border:2px solid black">
-								<td style="width:50%;border:2px solid black"
-									{% if reservation.short_notice %}class="danger"{% endif %}>
-									{{ reservation.user }}<br>
-									{% if reservation.project %}{{ reservation.project }}<br>{% endif %}
-									{{ reservation.start }}<br>
-									{{ reservation.end }}<br>
-									{{ reservation.additional_information|linebreaksbr }}
-									{% for config_option in reservation.configurationoption_set.all %}
-										{% if forloop.first %}
-											{% if reservation.additional_information %}
-												<br>
-											{% endif %}
-											<br>
-										{% endif %}
-										{% if config_option.precursor_configuration %}
-											<div>
-												{% if config_option.current_position is not None %}
-													{{ config_option.name }} position {{ config_option.current_position|default_if_none:"Any" }} needs to be set to <span
-														{% if config_option.get_color %}class="configuration-reservation-option"
-														style="display: inline-block;background-color: {{ config_option.get_color }}"
-														{% else %}style="color: inherit"{% endif %}>{{ config_option.current_setting }}</span>
-												{% else %}
-													{{ config_option.name }} <span {% if config_option.get_color %}class="configuration-reservation-option"
-														style="display: inline-block;background-color: {{ config_option.get_color }}"
-														{% else %}style="color: inherit"{% endif %}>{{ config_option.current_setting }}</span> needs to be set to any position
-												{% endif %}
-											</div>
-										{% else %}
-											<div>{{ config_option.name }} needs to be set to <span
-													{% if config_option.get_color %}class="configuration-reservation-option"
-													style="display: inline-block;background-color: {{ config_option.get_color }}"
-													{% else %}style="color: inherit"{% endif %}>{{ config_option.current_setting }}</span>
-											</div>
-										{% endif %}
-									{% endfor %}
-									{% if not reservation.tool.in_use and reservation.project %}
-										<div style="margin-top: 8px">
-											{% url 'enable_tool' tool_id=reservation.tool.id user_id=reservation.user.id project_id=reservation.project.id staff_charge='false' as enable_tool_for_user_url %}
-											{% button type="info" icon="glyphicon-play" value="Enable the tool on behalf of "|concat:reservation.user.first_name onclick="enable_tool('"|concat:enable_tool_for_user_url|concat:"');" %}
-											{% if "remote_work"|customization:"remote_work_ask_explicitly" %}
-												<div style="margin-top: 5px">
-													{% button type="info" icon="glyphicon-play" value="Enable the tool on behalf of "|concat:reservation.user.first_name|concat:" for remote work" onclick="enable_tool('"|concat:enable_tool_for_user_url|concat:"', true);" %}
-												</div>
-											{% endif %}
-										</div>
-									{% endif %}
-								</td>
-								{% if forloop.first %}
-									<td style="width:50%;border:2px solid black" rowspan="100">
-										{% for id, widget in configuration_widgets.items %}
-											{% if tool.id == id %}
-												{{ widget }}
-											{% endif %}
-										{% endfor %}
-										{% if reservation.tool.in_use %}
-											<div style="margin-top: 8px">
-												{% if reservation.tool.get_current_usage_event.operator.id == user.id %}
-													{% url 'disable_tool' reservation.tool.id as disable_tool_url %}
-													{% button type="delete" id="interlock" icon="glyphicon-stop" onclick="disable_tool('"|concat:disable_tool_url|concat:"')" value="Disable tool" %}
-												{% else %}
-													{% button type="warn" disabled="disabled" icon="glyphicon-ban-circle" value="Tool in use" %}
-												{% endif %}
-											</div>
-										{% else %}
-											<div style="margin-top: 8px">
-												{% if user.active_project_count == 1 %}
-													{% url 'enable_tool' tool_id=reservation.tool.id user_id=user.id project_id=user.active_projects.0.id staff_charge='false' as enable_tool_one_project %}
-													{% button id="interlock" type="save" onclick="enable_tool('"|concat:enable_tool_one_project|concat:"');" value="Enable the tool for myself" icon="glyphicon-play" %}
-												{% elif user.active_project_count > 1 %}
-													<div class="btn-group">
-														<button id="interlock" type="button"
-																class="btn btn-success dropdown-toggle"
-																data-toggle="dropdown"><i
-																class="glyphicon glyphicon-play"></i> Enable the tool
-															for myself <span class="caret"></span></button>
-														<ul class="dropdown-menu">
-															<li class="dropdown-header">Using which project?</li>
-															{% for project in user.active_projects %}
-																<li><a href="javascript:void(0)"
-																	   onclick="enable_tool('{% url 'enable_tool' tool_id=reservation.tool.id user_id=user.id project_id=project.id staff_charge='false' %}')">{% project_selection_display project %}</a>
-																</li>
-															{% endfor %}
-														</ul>
-													</div>
-												{% endif %}
-											</div>
-										{% endif %}
-									</td>
-								{% endif %}
-							</tr>
-						{% endfor %}
-					{% endif %}
-				{% endfor %}
-			</table>
-		{% endfor %}
-		<script>
+    <h1>
+        Configuration agenda
+        <small>for
+            {% if time_period == 'today' %}
+                today
+            {% elif time_period == 'near_future' %}
+                the near future
+            {% endif %}
+        </small>
+    </h1>
+    {% if tools %}
+        <p>
+            Below is a list of reservations which require tool configurations.
+            The reservations are grouped by tool and ordered by start time.
+            Reservations that have a red background were created on short notice,
+            thus there is no guarantee the tool will be configured properly when the user arrives.
+            Reservations that have already started or have no configuration information are excluded.
+            You can also
+            {% if time_period == 'today' %}
+                <a href="{% url 'configuration_agenda_near_future' %}">view reservations in the near future</a>
+            {% elif time_period == 'near_future' %}
+                <a href="{% url 'configuration_agenda' %}">view reservations for today</a>
+            {% endif %}
+            that will require configuration changes.
+        </p>
+        {% for tool in tools %}
+            <table class="table table-bordered">
+                <thead>
+                    <tr style="border:2px solid black" class="info">
+                        <th colspan="2" style="text-align:center; font-size:large; border:2px solid black">
+                            <a href="{% url 'calendar' item_type='tool' item_id=tool.id %}"
+                               title="View the {{ tool }} calendar"
+                               target="_blank">{{ tool.name }}</a>
+                        </th>
+                    </tr>
+                </thead>
+                {% regroup reservations|dictsort:"tool.id" by tool as regrouped_reservations %}
+                {% for t in regrouped_reservations %}
+                    {% if t.grouper.id == tool.id %}
+                        {% for reservation in t.list %}
+                            <tr style="border:2px solid black">
+                                <td style="width:50%;border:2px solid black" {% if reservation.short_notice %}class="danger"{% endif %}>
+                                    {{ reservation.user }}
+                                    <br>
+                                    {% if reservation.project %}
+                                        {{ reservation.project }}
+                                        <br>
+                                    {% endif %}
+                                    {{ reservation.start }}
+                                    <br>
+                                    {{ reservation.end }}
+                                    <br>
+                                    {{ reservation.additional_information|linebreaksbr }}
+                                    {% for config_option in reservation.configurationoption_set.all %}
+                                        {% if forloop.first %}
+                                            {% if reservation.additional_information %}<br>{% endif %}
+                                            <br>
+                                        {% endif %}
+                                        {% if config_option.precursor_configuration %}
+                                            <div>
+                                                {% if config_option.current_position is not None %}
+                                                    {{ config_option.name }} position {{ config_option.current_position|default_if_none:"Any" }} needs to be set to <span {% if config_option.get_color %}class="configuration-reservation-option" style="display: inline-block;background-color: {{ config_option.get_color }}" {% else %}style="color: inherit"{% endif %}>{{ config_option.current_setting }}</span>
+                                                {% else %}
+                                                    {{ config_option.name }} <span {% if config_option.get_color %}class="configuration-reservation-option" style="display: inline-block;background-color: {{ config_option.get_color }}" {% else %}style="color: inherit"{% endif %}>{{ config_option.current_setting }}</span> needs to be set to any position
+                                                {% endif %}
+                                            </div>
+                                        {% else %}
+                                            <div>
+                                                {{ config_option.name }} needs to be set to <span {% if config_option.get_color %}class="configuration-reservation-option" style="display: inline-block;background-color: {{ config_option.get_color }}" {% else %}style="color: inherit"{% endif %}>{{ config_option.current_setting }}</span>
+                                            </div>
+                                        {% endif %}
+                                    {% endfor %}
+                                    {% if not reservation.tool.in_use and reservation.project %}
+                                        <div style="margin-top: 8px">
+                                            {% url 'enable_tool' tool_id=reservation.tool.id user_id=reservation.user.id project_id=reservation.project.id staff_charge='false' as enable_tool_for_user_url %}
+                                            {% button type="info" icon="glyphicon-play" value="Enable the tool on behalf of "|concat:reservation.user.first_name onclick="enable_tool('"|concat:enable_tool_for_user_url|concat:"');" %}
+                                            {% if "remote_work"|customization:"remote_work_ask_explicitly" %}
+                                                <div style="margin-top: 5px">
+                                                    {% button type="info" icon="glyphicon-play" value="Enable the tool on behalf of "|concat:reservation.user.first_name|concat:" for remote work" onclick="enable_tool('"|concat:enable_tool_for_user_url|concat:"', true);" %}
+                                                </div>
+                                            {% endif %}
+                                        </div>
+                                    {% endif %}
+                                </td>
+                                {% if forloop.first %}
+                                    <td style="width:50%;border:2px solid black" rowspan="100">
+                                        {% for id, widget in configuration_widgets.items %}
+                                            {% if tool.id == id %}{{ widget }}{% endif %}
+                                        {% endfor %}
+                                        {% if reservation.tool.in_use %}
+                                            <div style="margin-top: 8px">
+                                                {% if reservation.tool.get_current_usage_event.operator.id == user.id %}
+                                                    {% url 'disable_tool' reservation.tool.id as disable_tool_url %}
+                                                    {% button type="delete" id="interlock" icon="glyphicon-stop" onclick="disable_tool('"|concat:disable_tool_url|concat:"')" value="Disable tool" %}
+                                                {% else %}
+                                                    {% button type="warn" disabled="disabled" icon="glyphicon-ban-circle" value="Tool in use" %}
+                                                {% endif %}
+                                            </div>
+                                        {% else %}
+                                            <div style="margin-top: 8px">
+                                                {% if user.active_project_count == 1 %}
+                                                    {% url 'enable_tool' tool_id=reservation.tool.id user_id=user.id project_id=user.active_projects.0.id staff_charge='false' as enable_tool_one_project %}
+                                                    {% button id="interlock" type="save" onclick="enable_tool('"|concat:enable_tool_one_project|concat:"');" value="Enable the tool for myself" icon="glyphicon-play" %}
+                                                {% elif user.active_project_count > 1 %}
+                                                    <div class="btn-group">
+                                                        <button id="interlock" type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown">
+                                                            <i class="glyphicon glyphicon-play"></i> Enable the tool
+                                                            for myself <span class="caret"></span>
+                                                        </button>
+                                                        <ul class="dropdown-menu">
+                                                            <li class="dropdown-header">Using which project?</li>
+                                                            {% for project in user.active_projects %}
+                                                                <li>
+                                                                    <a href="javascript:void(0)"
+                                                                       onclick="enable_tool('{% url 'enable_tool' tool_id=reservation.tool.id user_id=user.id project_id=project.id staff_charge='false' %}')">{% project_selection_display project %}</a>
+                                                                </li>
+                                                            {% endfor %}
+                                                        </ul>
+                                                    </div>
+                                                {% endif %}
+                                            </div>
+                                        {% endif %}
+                                    </td>
+                                {% endif %}
+                            </tr>
+                        {% endfor %}
+                    {% endif %}
+                {% endfor %}
+            </table>
+        {% endfor %}
+        <script>
 			function enable_tool(url, remote_work)
 			{
 				let failure_dialog = ajax_failure_callback("Unable to enable tool");
 				ajax_post(url, {"remote_work": remote_work || ""}, reload_page, failure_dialog);
 			}
 
 			function disable_tool(url)
@@ -144,21 +145,30 @@
 				ajax_post(url, undefined, reload_page, failure_dialog);
 			}
 
 			function reload_page(response, status, xml_http_request)
 			{
 				location.reload();
 			}
-		</script>
-	{% else %}
-		<p>No tools require configuration {% if time_period == 'today' %}today{% elif time_period == 'near_future' %}for the near future{% endif %}.</p>
-		<p>
-			You can also
-			{% if time_period == 'today' %}
-				<a href="{% url 'configuration_agenda_near_future' %}">view reservations in the near future</a>
-			{% elif time_period == 'near_future' %}
-				<a href="{% url 'configuration_agenda' %}">view reservations for today</a>
-			{% endif %}
-			that will require configuration changes.
-		</p>
-	{% endif %}
-{% endblock %}
+
+        </script>
+    {% else %}
+        <p>
+            No tools require configuration
+            {% if time_period == 'today' %}
+                today
+            {% elif time_period == 'near_future' %}
+                for the near future
+            {% endif %}
+            .
+        </p>
+        <p>
+            You can also
+            {% if time_period == 'today' %}
+                <a href="{% url 'configuration_agenda_near_future' %}">view reservations in the near future</a>
+            {% elif time_period == 'near_future' %}
+                <a href="{% url 'configuration_agenda' %}">view reservations for today</a>
+            {% endif %}
+            that will require configuration changes.
+        </p>
+    {% endif %}
+{% endblock %}
```

### html2text {}

```diff
@@ -1,24 +1,24 @@
 {% extends "base.html" %} {% load custom_tags_and_filters %} {% block title
 %}Configuration agenda{% endblock %} {% block content %}
-************ CCoonnffiigguurraattiioonn aaggeennddaa ffoorr {{%% iiff ttiimmee__ppeerriioodd ==== ''ttooddaayy'' %%}}ttooddaayy{{%% eelliiff
-ttiimmee__ppeerriioodd ==== ''nneeaarr__ffuuttuurree'' %%}}tthhee nneeaarr ffuuttuurree{{%% eennddiiff %%}} ************
+************ CCoonnffiigguurraattiioonn aaggeennddaa ffoorr {{%% iiff ttiimmee__ppeerriioodd ==== ''ttooddaayy'' %%}} ttooddaayy {{%% eelliiff
+ttiimmee__ppeerriioodd ==== ''nneeaarr__ffuuttuurree'' %%}} tthhee nneeaarr ffuuttuurree {{%% eennddiiff %%}} ************
 {% if tools %}
 Below is a list of reservations which require tool configurations. The
 reservations are grouped by tool and ordered by start time. Reservations that
 have a red background were created on short notice, thus there is no guarantee
 the tool will be configured properly when the user arrives. Reservations that
 have already started or have no configuration information are excluded. You can
 also {% if time_period == 'today' %} _v_i_e_w_ _r_e_s_e_r_v_a_t_i_o_n_s_ _i_n_ _t_h_e_ _n_e_a_r_ _f_u_t_u_r_e {%
 elif time_period == 'near_future' %} _v_i_e_w_ _r_e_s_e_r_v_a_t_i_o_n_s_ _f_o_r_ _t_o_d_a_y {% endif %}
 that will require configuration changes.
 {% for tool in tools %}
                                                 _{{_{{_ _tt_oo_oo_ll_.._nn_aa_mm_ee_ _}}_}}
-{% for id, widget in configuration_widgets.items %} {% if tool.id == id %} {
-{ widget }} {% endif %} {% endfor %} {% if reservation.tool.in_use %}
+{% for id, widget in configuration_widgets.items %} {% if tool.id == id %}{
+{ widget }}{% endif %} {% endfor %} {% if reservation.tool.in_use %}
 {% if reservation.tool.get_current_usage_event.operator.id == user.id %} {%
 url 'disable_tool' reservation.tool.id as disable_tool_url %} {% button
 type="delete" id="interlock" icon="glyphicon-stop" onclick="disable_tool
 ('"|concat:disable_tool_url|concat:"')" value="Disable tool" %} {% else %} {%
 button type="warn" disabled="disabled" icon="glyphicon-ban-circle" value="Tool
 in use" %} {% endif %}
 {% else %}
@@ -34,13 +34,13 @@
     * {% for project in user.active_projects %}
     * _{_%_ _p_r_o_j_e_c_t___s_e_l_e_c_t_i_o_n___d_i_s_p_l_a_y_ _p_r_o_j_e_c_t_ _%_}
     * {% endfor %}
 {% endif %}
 {% endif %}
 {% endfor %}
 {% else %}
-No tools require configuration {% if time_period == 'today' %}today{% elif
-time_period == 'near_future' %}for the near future{% endif %}.
+No tools require configuration {% if time_period == 'today' %} today {% elif
+time_period == 'near_future' %} for the near future {% endif %} .
 You can also {% if time_period == 'today' %} _v_i_e_w_ _r_e_s_e_r_v_a_t_i_o_n_s_ _i_n_ _t_h_e_ _n_e_a_r
 _f_u_t_u_r_e {% elif time_period == 'near_future' %} _v_i_e_w_ _r_e_s_e_r_v_a_t_i_o_n_s_ _f_o_r_ _t_o_d_a_y {%
 endif %} that will require configuration changes.
 {% endif %} {% endblock %}
```

## NEMO/templates/display_success_and_redirect.html

```diff
@@ -1,18 +1,15 @@
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
-	<h4 id="modal-description-label" class="modal-title">{{ title }}</h4>
-</div>
-<div class="modal-body">
-	{{ content }}
+    <button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
+    <h4 id="modal-description-label" class="modal-title">{{ title }}</h4>
 </div>
+<div class="modal-body">{{ content }}</div>
 <div class="modal-footer">
-	<button class="btn btn-success" data-dismiss="modal">Continue</button>
+    <button class="btn btn-success" data-dismiss="modal">Continue</button>
 </div>
-
 <script>
 	$('#dialog').on('hidden.bs.modal', redirect);
 	function redirect()
 	{
 		window.location.replace('{{ redirect }}')
 	}
-</script>
+</script>
```

## NEMO/templates/facility_rules.html

```diff
@@ -1,9 +1,12 @@
 {% extends 'base.html' %}
 {% block title %}{{ facility_name }} Rules{% endblock %}
 {% block content %}
-	{% if facility_rules_tutorial %}
-		{{ facility_rules_tutorial|safe }}
-	{% else %}
-		The {{ facility_name }} rules tutorial has not been customized for your organization yet. {% if user.is_superuser %}Visit the <a href="{% url 'customization' %}">customizations page</a> to set it up.{% endif %}
-	{% endif %}
-{% endblock %}
+    {% if facility_rules_tutorial %}
+        {{ facility_rules_tutorial|safe }}
+    {% else %}
+        The {{ facility_name }} rules tutorial has not been customized for your organization yet.
+        {% if user.is_superuser %}
+            Visit the <a href="{% url 'customization' %}">customizations page</a> to set it up.
+        {% endif %}
+    {% endif %}
+{% endblock %}
```

### html2text {}

```diff
@@ -1,6 +1,6 @@
 {% extends 'base.html' %} {% block title %}{{ facility_name }} Rules{% endblock
 %} {% block content %} {% if facility_rules_tutorial %} {
 { facility_rules_tutorial|safe }} {% else %} The {{ facility_name }} rules
 tutorial has not been customized for your organization yet. {% if
-user.is_superuser %}Visit the _c_u_s_t_o_m_i_z_a_t_i_o_n_s_ _p_a_g_e to set it up.{% endif %} {%
+user.is_superuser %} Visit the _c_u_s_t_o_m_i_z_a_t_i_o_n_s_ _p_a_g_e to set it up. {% endif %} {%
 endif %} {% endblock %}
```

## NEMO/templates/feedback.html

```diff
@@ -1,30 +1,31 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Feedback{% endblock %}
 {% block content %}
-	{% if customization_required %}
-		<h1>The Feedback page has not been customized yet</h1>
-		<p>
-			Feedback is emailed to an address specified by the {{ site_title }} site administrator.
-			{% if user.is_superuser %}
-				Use the <a href="{% url 'customization' %}">customizations page</a>
-				to enter an email address and upload a feedback email template, then all users will be able to send feedback.
-			{% endif %}
-		</p>
-	{% else %}
-		<h1>Submit feedback about the {{ facility_name }}</h1>
-		<p>
-			We're continually working to improve the {{ facility_name }} experience for everyone.<br>
-			Do you have an idea to make the {{ facility_name }} better? Send us your feedback!
-		</p>
-		<form class="form" id="feedback_form" action="{% url 'feedback' %}" method="post">
-			{% csrf_token %}
-			<div class="form-group">
-				<label><textarea rows="6" cols="75" name="feedback" id="feedback" class="form-control" maxlength="5000" required></textarea></label>
-			</div>
-			<div class="form-group">
-                {% button type="save" value="Send feedback" icon="glyphicon-send" %}
-			</div>
-		</form>
-	{% endif %}
-{% endblock %}
+    {% if customization_required %}
+        <h1>The Feedback page has not been customized yet</h1>
+        <p>
+            Feedback is emailed to an address specified by the {{ site_title }} site administrator.
+            {% if user.is_superuser %}
+                Use the <a href="{% url 'customization' %}">customizations page</a>
+                to enter an email address and upload a feedback email template, then all users will be able to send feedback.
+            {% endif %}
+        </p>
+    {% else %}
+        <h1>Submit feedback about the {{ facility_name }}</h1>
+        <p>
+            We're continually working to improve the {{ facility_name }} experience for everyone.
+            <br>
+            Do you have an idea to make the {{ facility_name }} better? Send us your feedback!
+        </p>
+        <form class="form" id="feedback_form" action="{% url 'feedback' %}" method="post">
+            {% csrf_token %}
+            <div class="form-group">
+                <label>
+                    <textarea rows="6" cols="75" name="feedback" id="feedback" class="form-control" maxlength="5000" required></textarea>
+                </label>
+            </div>
+            <div class="form-group">{% button type="save" value="Send feedback" icon="glyphicon-send" %}</div>
+        </form>
+    {% endif %}
+{% endblock %}
```

## NEMO/templates/history.html

```diff
@@ -1,37 +1,37 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}History for {{ name }}{% endblock %}
 {% block content %}
-	{% if action_list %}
+    {% if action_list %}
         <div class="row">
             <div class="col-xs-10">
                 <h1>History for {{ name }}</h1>
             </div>
             <div class="col-sm-2 text-right">
                 <h1>{% button type="export" value="Export" url=request.path|concat:"?csv=true" target="_blank" %}</h1>
             </div>
         </div>
-		<table class="table">
-			<thead>
-			<tr>
-				<th>Date & time</th>
-				<th>User</th>
-				<th>Action</th>
-				{% if has_details %}<th>Details</th>{% endif %}
-			</tr>
-			</thead>
-			<tbody>
-			{% for row in action_list.rows %}
-				<tr>
-					<td class="text-nowrap">{{ row.date }}</td>
-					<td>{{ row.authorizer }}</td>
-					<td>{{ row.message|linebreaksbr }}</td>
-					{% if has_details %}<td>{{ row.details|default_if_none:"" }}</td>{% endif %}
-				</tr>
-			{% endfor %}
-			</tbody>
-		</table>
-	{% else %}
-		<p>{{ name }} doesn't have a change history.</p>
-	{% endif %}
-{% endblock %}
+        <table class="table">
+            <thead>
+                <tr>
+                    <th>Date & time</th>
+                    <th>User</th>
+                    <th>Action</th>
+                    {% if has_details %}<th>Details</th>{% endif %}
+                </tr>
+            </thead>
+            <tbody>
+                {% for row in action_list.rows %}
+                    <tr>
+                        <td class="text-nowrap">{{ row.date }}</td>
+                        <td>{{ row.authorizer }}</td>
+                        <td>{{ row.message|linebreaksbr }}</td>
+                        {% if has_details %}<td>{{ row.details|default_if_none:"" }}</td>{% endif %}
+                    </tr>
+                {% endfor %}
+            </tbody>
+        </table>
+    {% else %}
+        <p>{{ name }} doesn't have a change history.</p>
+    {% endif %}
+{% endblock %}
```

## NEMO/templates/impersonate.html

```diff
@@ -1,31 +1,36 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Impersonate{% endblock %}
-
 {% block content %}
-	<form class="form-horizontal" action="{% url 'impersonate' %}" method="post">
-		{% csrf_token %}
-		<input id="user_id" name="user_id" type="hidden"/>
-		<p>This form allows you to impersonate any active user.</p>
-		<div class="form-group">
-			<div class="col-md-4">
-				<input type="text" id="search_users" aria-label="Search for user to impersonate" placeholder="Search for a user to impersonate" class="form-control sidebar-item" autocomplete="off">
-			</div>
-			<div class="col-md-2" style="margin-top: 5px; margin-bottom: 5px">
+    <form class="form-horizontal" action="{% url 'impersonate' %}" method="post">
+        {% csrf_token %}
+        <input id="user_id" name="user_id" type="hidden" />
+        <p>This form allows you to impersonate any active user.</p>
+        <div class="form-group">
+            <div class="col-md-4">
+                <input type="text"
+                       id="search_users"
+                       aria-label="Search for user to impersonate"
+                       placeholder="Search for a user to impersonate"
+                       class="form-control sidebar-item"
+                       autocomplete="off">
+            </div>
+            <div class="col-md-2" style="margin-top: 5px; margin-bottom: 5px">
                 {% button id="impersonate_submit" type="warn" submit=True value="Impersonate" icon="glyphicon-user" %}
-			</div>
-		</div>
-		<script>
+            </div>
+        </div>
+        <script>
 			let submit_button = $('#impersonate_submit');
 			let search_user_input = $('#search_users')
 			search_user_input.autocomplete('users', impersonate_user, {{ users|json_search_base }});
 			search_user_input.focus()
 			function impersonate_user(jquery_event, search_selection)
 			{
 				$('#user_id').val(search_selection.id);
 				submit_button.prop( "disabled", false );
 			}
 			submit_button.prop( "disabled", true );
-		</script>
-	</form>
-{% endblock %}
+		
+        </script>
+    </form>
+{% endblock %}
```

## NEMO/templates/landing.html

```diff
@@ -1,161 +1,216 @@
 {% extends 'base.html' %}
 {% load static %}
 {% load custom_tags_and_filters %}
-
 {% block title %}{{ site_title }}{% endblock %}
 {% block content %}
     <h1 class="sr-only">Main dashboard</h1>
-	{% if user.training_required %}
-		<div class="row">
-			<div class="col-lg-12">
-				<a href="{% url 'facility_rules' %}">
-					<div class="well clearfix">
-						<div class="col-lg-2 text-center"><img src="{% static 'icons/caution.png' %}" alt="Caution image" height="128" width="128"></div>
-						<div class="col-lg-8 text-center">
-							<h2>{{ facility_name }} Rules Tutorial</h2>
-							<p style="text-align: center">You must complete your {{ facility_name }} rules tutorial before you can make reservations or use {{ facility_name }} tools. Click here to begin the tutorial.</p>
-						</div>
-						<div class="col-lg-2 text-center"><img src="{% static 'icons/agreement.png' %}" alt="Agreement icon" height="128" width="128"></div>
-					</div>
-				</a>
-			</div>
-		</div>
-	{% endif %}
-	<div class="row">
-		{% if upcoming_reservations %}
-			<div class="col-lg-4">
-				<h3>Upcoming reservations</h3>
+    {% if user.training_required %}
+        <div class="row">
+            <div class="col-lg-12">
+                <a href="{% url 'facility_rules' %}">
+                    <div class="well clearfix">
+                        <div class="col-lg-2 text-center">
+                            <img src="{% static 'icons/caution.png' %}" alt="Caution image" height="128" width="128">
+                        </div>
+                        <div class="col-lg-8 text-center">
+                            <h2>{{ facility_name }} Rules Tutorial</h2>
+                            <p style="text-align: center">
+                                You must complete your {{ facility_name }} rules tutorial before you can make reservations or use {{ facility_name }} tools. Click here to begin the tutorial.
+                            </p>
+                        </div>
+                        <div class="col-lg-2 text-center">
+                            <img src="{% static 'icons/agreement.png' %}" alt="Agreement icon" height="128" width="128">
+                        </div>
+                    </div>
+                </a>
+            </div>
+        </div>
+    {% endif %}
+    <div class="row">
+        {% if upcoming_reservations %}
+            <div class="col-lg-4">
+                <h3>Upcoming reservations</h3>
                 <div id="upcoming-reservations">
                     {% for r in upcoming_reservations %}
-                        {% if r.tool %}<a href="{% url 'tool_control' r.tool.id %}" style="text-decoration: none">
-                        {% elif self_log_in and r.area and r.start < now %}<a href="{% url 'self_log_in' %}?area_id={{ r.area.id }}" style="text-decoration: none">
-                        {% elif device == 'mobile' and r.area %}<a href="{% url 'view_calendar' item_type='area' item_id=r.area.id date=r.start|date:'Y-m-d' %}" style="text-decoration: none">{% endif %}
-                            <div class="alert {% if r.start < now %}alert-warning{% else %}alert-success{% endif %}">
-                                {% if r.title %}<b>{{ r.title }}</b><br>{% endif %}
-                                <b>{% if r.start < now %}You're late for your {{ r.reservation_item }} reservation!{% else %}{{ r.reservation_item }}{% endif %}</b><br>
-                                Starting on {{ r.start }}<br>
-                                Ending on {{ r.end }}
-                            </div>
-                        {% if r.tool or device == 'mobile' and r.area or self_log_in and r.area and r.start < now %}</a>{% endif %}
-                    {% endfor %}
-                </div>
-			</div>
-		{% endif %}
-		{% if alerts or disabled_resources %}
-			<div class="col-lg-4">
-                <h3>Alerts &amp; outages</h3>
-                <div id="alerts-outages" style=";overflow-y: scroll;">
-                    {% for a in alerts %}
-                        <div class="alert alert-danger">
-                            {% if a.title %}<span style="font-weight:bold">{{ a.title }}</span><br>{% endif %}
-                            {{ a.contents|linebreaks }}
-                        </div>
-                    {% endfor %}
-                    {% for r in disabled_resources %}
-                        <div class="alert alert-danger">
-                            <span style="font-weight:bold">Resource outage: {{ r }}</span><br>
-                            {{ r.restriction_message }}
-                        </div>
-                    {% endfor %}
-                </div>
-                <div id="scroll-icon" style="display: none; width:100%; height:1.2em; line-height:1.2em; background:rgba(255,255,255,0.8); text-align:center;">&#x25BC;</div>
-			</div>
-		{% endif %}
-		{% if unvalidated_charges or usage_events or user.in_area or self_log_in or user.is_staff and user.charging_staff_time %}
-			<div class="col-lg-4">
-				<h3>Current {{ facility_name }} usage</h3>
-                <div id="facility-usage">
-					{% if unvalidated_charges %}
-						<div class="alert alert-danger" style="position: relative">
-							<span class="badge badge-tab-top active" style="float: right; vertical-align:middle;">{{ unvalidated_charges }}</span>
-							You have unvalidated charges in <a href="{% url 'usage' %}">my usage</a>
-							{% if user.is_staff and "remote_work"|customization:"remote_work_validation" == "enabled" %} and/or in <a href="{% url 'remote_work' %}">remote work</a>{% endif %}
-						</div>
-					{% endif %}
-                    {% if user.is_staff and user.charging_staff_time %}
-                        <a href="{% url 'staff_charges' %}" style="text-decoration: none">
-                            <div class="alert alert-warning">
-                            {% with user.get_staff_charge as staff_charge %}
-                                You are currently charging staff time to {{ staff_charge.customer }} for the project named {{ staff_charge.project }} since {{ staff_charge.start }}.
-                            {% endwith %}
-                            </div>
-                        </a>
-                    {% endif %}
-                    {% for usage in usage_events %}
-                        <a href="{% url 'tool_control' usage.tool.tool_or_parent_id %}" style="text-decoration: none">
-                            <div class="alert alert-info">
-                                You are using the <b>{{ usage.tool }}</b> for the project named {{ usage.project }} since {{ usage.start }}.
-                            </div>
-                        </a>
-                    {% endfor %}
-                    {% if user.in_area %}
-                        {% with user.active_project_count as active_project_count %}
-                            <div class="alert alert-info">
-                                You are logged in to the <b>{{ user.area_access_record.area }}</b>{% if self_log_out %} (<a href="{% url 'self_log_out' user.id %}">logout</a>){% endif %}.
-                                Usage time is being billed to the project named <b>{{ user.billing_to_project }}</b>.
-                                {% if active_project_count > 1 %}
-                                    <a href="{% url 'change_project' %}">Click here to bill to a different project at any time.</a>
+                        {% if r.tool %}
+                            <a href="{% url 'tool_control' r.tool.id %}" style="text-decoration: none">
+                            {% elif self_log_in and r.area and r.start < now %}
+                                <a href="{% url 'self_log_in' %}?area_id={{ r.area.id }}" style="text-decoration: none">
+                                {% elif device == 'mobile' and r.area %}
+                                    <a href="{% url 'view_calendar' item_type='area' item_id=r.area.id date=r.start|date:'Y-m-d' %}"
+                                       style="text-decoration: none">
+                                    {% endif %}
+                                    <div class="alert {% if r.start < now %}alert-warning{% else %}alert-success{% endif %}">
+                                        {% if r.title %}
+                                            <b>{{ r.title }}</b>
+                                            <br>
+                                        {% endif %}
+                                        <b>
+                                            {% if r.start < now %}
+                                                You're late for your {{ r.reservation_item }} reservation!
+                                            {% else %}
+                                                {{ r.reservation_item }}
+                                            {% endif %}
+                                        </b>
+                                        <br>
+                                        Starting on {{ r.start }}
+                                        <br>
+                                        Ending on {{ r.end }}
+                                    </div>
+                                    {% if r.tool or device == 'mobile' and r.area or self_log_in and r.area and r.start < now %}</a>{% endif %}
+                            {% endfor %}
+                        </div>
+                    </div>
+                {% endif %}
+                {% if alerts or disabled_resources %}
+                    <div class="col-lg-4">
+                        <h3>Alerts &amp; outages</h3>
+                        <div id="alerts-outages" style=";overflow-y: scroll;">
+                            {% for a in alerts %}
+                                <div class="alert alert-danger">
+                                    {% if a.dismissible and a.user == user %}
+                                        <form id="delete_alert_{{ a.id }}" method="post" action="{% url 'delete_alert' a.id %}">
+                                            {% csrf_token %}
+                                            <span class="glyphicon glyphicon-remove pull-right"
+                                                  style="cursor:pointer"
+                                                  onclick="$('#delete_alert_{{ a.id }}').submit()"
+                                                  data-toggle="tooltip"
+                                                  data-placement="top"
+                                                  title="Delete this alert"></span>
+                                        </form>
+                                    {% endif %}
+                                    {% if a.title %}
+                                        <span style="font-weight:bold">{{ a.title }}</span>
+                                        <br>
+                                    {% endif %}
+                                    {{ a.contents|safe|linebreaksbr }}
+                                </div>
+                            {% endfor %}
+                            {% for r in disabled_resources %}
+                                <div class="alert alert-danger">
+                                    <span style="font-weight:bold">Resource outage: {{ r }}</span>
+                                    <br>
+                                    {{ r.restriction_message }}
+                                </div>
+                            {% endfor %}
+                        </div>
+                        <div id="scroll-icon"
+                             style="display: none;
+                                    width:100%;
+                                    height:1.2em;
+                                    line-height:1.2em;
+                                    background:rgba(255,255,255,0.8);
+                                    text-align:center">&#x25BC;</div>
+                    </div>
+                {% endif %}
+                {% if unvalidated_charges or usage_events or user.in_area or self_log_in or user.is_staff and user.charging_staff_time %}
+                    <div class="col-lg-4">
+                        <h3>Current {{ facility_name }} usage</h3>
+                        <div id="facility-usage">
+                            {% if unvalidated_charges %}
+                                <div class="alert alert-danger" style="position: relative">
+                                    <span class="badge badge-tab-top active" style="float: right; vertical-align:middle;">{{ unvalidated_charges }}</span>
+                                    You have unvalidated charges in <a href="{% url 'usage' %}">my usage</a>
+                                    {% if user.is_staff and "remote_work"|customization:"remote_work_validation" == "enabled" %}
+                                        and/or in <a href="{% url 'remote_work' %}">remote work</a>
+                                    {% endif %}
+                                </div>
+                            {% endif %}
+                            {% if user.is_staff and user.charging_staff_time %}
+                                <a href="{% url 'staff_charges' %}" style="text-decoration: none">
+                                    <div class="alert alert-warning">
+                                        {% with user.get_staff_charge as staff_charge %}
+                                            You are currently charging staff time to {{ staff_charge.customer }} for the project named {{ staff_charge.project }} since {{ staff_charge.start }}.
+                                        {% endwith %}
+                                    </div>
+                                </a>
+                            {% endif %}
+                            {% for usage in usage_events %}
+                                <a href="{% url 'tool_control' usage.tool.tool_or_parent_id %}" style="text-decoration: none">
+                                    <div class="alert alert-info">
+                                        You are using the <b>{{ usage.tool }}</b> for the project named {{ usage.project }} since {{ usage.start }}.
+                                    </div>
+                                </a>
+                            {% endfor %}
+                            {% if user.in_area %}
+                                {% with user.active_project_count as active_project_count %}
+                                    <div class="alert alert-info">
+                                        You are logged in to the <b>{{ user.area_access_record.area }}</b>
+                                        {% if self_log_out %}
+                                            (<a href="{% url 'self_log_out' user.id %}">logout</a>)
+                                        {% endif %}
+                                        .
+                                        Usage time is being billed to the project named <b>{{ user.billing_to_project }}</b>.
+                                        {% if active_project_count > 1 %}
+                                            <a href="{% url 'change_project' %}">Click here to bill to a different project at any time.</a>
+                                        {% endif %}
+                                    </div>
+                                {% endwith %}
+                            {% endif %}
+                            {% if self_log_in %}
+                                <a href="{% url 'self_log_in' %}" style="text-decoration: none">
+                                    <div class="alert alert-success">You are not logged in to an access controlled area. Click here to log in.</div>
+                                </a>
+                            {% endif %}
+                        </div>
+                    </div>
+                {% endif %}
+            </div>
+            {% for choice in landing_page_choices %}
+                {% if forloop.counter0|divisibleby:4 %}<div class="row">{% endif %}
+                    <div class="col-md-3 text-center" style="margin-bottom:30px">
+                        <a href="{{ choice.url }}"
+                           {% if choice.open_in_new_tab %}target="_blank" {% else %}onclick="show_spinner();"{% endif %}
+                           {% if choice.secure_referral %}rel="noopener noreferrer"{% endif %}
+                           style="text-decoration: none !important">
+                            <img src="{{ choice.image.url }}" alt="{{ choice.name }} icon" height="128" width="128">
+                            <h3 style="margin-top:0">
+                                {{ choice.name }}
+                                {% if choice.notifications %}
+                                    {% for type, count in notification_counts.items %}
+                                        {% if choice.notifications == type and count %}<span class="badge active">{{ count }}</span>{% endif %}
+                                    {% endfor %}
                                 {% endif %}
-                            </div>
-                        {% endwith %}
-                    {% endif %}
-                    {% if self_log_in %}
-                        <a href="{% url 'self_log_in' %}" style="text-decoration: none">
-                            <div class="alert alert-success">
-                                You are not logged in to an access controlled area. Click here to log in.
-                            </div>
+                            </h3>
+                        </a>
+                    </div>
+                    {% if forloop.counter|divisibleby:4 or forloop.last %}</div>{% endif %}
+            {% empty %}
+                <span style="font-size:xx-large">
+                    Welcome! This is {{ site_title }}'s landing page - the first page users see when visiting the site. There's nothing here yet...
+                    <br>
+                    &nbsp;
+                    <br>
+                    {% if user.is_superuser and "django.contrib.admin"|app_installed %}
+                        Add landing page choices by navigating to
+                        <br>
+                        <a href="{% url 'admin:NEMO_landingpagechoice_add' %}">
+                            Administration -> Detailed Administration ->
+                            <br>
+                            Landing page choices -> Add landing page choice
                         </a>
+                        <br>
+                        &nbsp;
+                        <br>
+                        Customize {{ site_title }} further by navigating to
+                        <br>
+                        <a href="{% url 'customization' %}">Administration -> Customization</a>
                     {% endif %}
-                </div>
-			</div>
-		{% endif %}
-	</div>
-		{% for choice in landing_page_choices %}
-			{% if forloop.counter0|divisibleby:4 %}<div class="row">{% endif %}
-				<div class="col-md-3 text-center" style="margin-bottom:30px">
-					<a href="{{ choice.url }}" {% if choice.open_in_new_tab %}target="_blank" {% else %}onclick="show_spinner();"{% endif %} {% if choice.secure_referral %}rel="noopener noreferrer"{% endif %} style="text-decoration: none !important">
-						<img src="{{ choice.image.url }}" alt="{{ choice.name }} icon" height="128" width="128">
-						<h3 style="margin-top:0">
-							{{ choice.name }}
-							{% if choice.notifications %}
-								{% for type, count in notification_counts.items %}
-									{% if choice.notifications == type and count %}
-										<span class="badge active">{{ count }}</span>
-									{% endif %}
-								{% endfor %}
-							{% endif %}
-						</h3>
-					</a>
-				</div>
-			{% if forloop.counter|divisibleby:4 or forloop.last %}</div>{% endif %}
-		{% empty %}
-			<span style="font-size:xx-large">
-				Welcome! This is {{ site_title }}'s landing page - the first page users see when visiting the site. There's nothing here yet...<br>&nbsp;<br>
-
-                {% if user.is_superuser and "django.contrib.admin"|app_installed %}
-                    Add landing page choices by navigating to<br>
-                    <a href="{% url 'admin:NEMO_landingpagechoice_add' %}">
-                        Administration -> Detailed Administration -><br>
-                        Landing page choices -> Add landing page choice
-                    </a>
-                    <br>&nbsp;<br>
-
-                    Customize {{ site_title }} further by navigating to<br>
-                    <a href="{% url 'customization' %}">Administration -> Customization</a>
-                {% endif %}
-			</span>
-		{% endfor %}
-    <script>
+                </span>
+            {% endfor %}
+            <script>
         let facility_usage_height = document.getElementById('facility-usage') ? document.getElementById('facility-usage').scrollHeight : 0;
         let reservations_height = document.getElementById('upcoming-reservations') ? document.getElementById('upcoming-reservations').scrollHeight : 0;
         if (document.getElementById('alerts-outages'))
         {
             $('#alerts-outages').css("max-height", "" + Math.max(300, reservations_height, facility_usage_height)-15 + "px");
             if (document.getElementById('alerts-outages').scrollHeight > document.getElementById('alerts-outages').offsetHeight)
             {
                 $('#scroll-icon').show();
             }
         }
-    </script>
-{% endblock %}
-{% block extra_whitespace %}{# Hide extra whitespace #}{% endblock %}
+            </script>
+        {% endblock %}
+        {% block extra_whitespace %}
+            {# Hide extra whitespace #}
+        {% endblock %}
```

### html2text {}

```diff
@@ -8,74 +8,76 @@
 _r_e_s_e_r_v_a_t_i_o_n_s_ _o_r_ _u_s_e_ _{_{_ _f_a_c_i_l_i_t_y___n_a_m_e_ _}_}_ _t_o_o_l_s_._ _C_l_i_c_k_ _h_e_r_e_ _t_o_ _b_e_g_i_n_ _t_h_e
 _t_u_t_o_r_i_a_l_.
 _[_A_g_r_e_e_m_e_n_t_ _i_c_o_n_]
 {% endif %}
 {% if upcoming_reservations %}
 ******** UUppccoommiinngg rreesseerrvvaattiioonnss ********
 {% for r in upcoming_reservations %} {% if r.tool %}
- _{_%_ _e_l_i_f_ _s_e_l_f___l_o_g___i_n_ _a_n_d_ _r_._a_r_e_a_ _a_n_d_ _r_._s_t_a_r_t_ _<_ _n_o_w_ _%_}
- _{_%_ _e_l_i_f_ _d_e_v_i_c_e_ _=_=_ _'_m_o_b_i_l_e_'_ _a_n_d_ _r_._a_r_e_a_ _%_}
+_{_%_ _e_l_i_f_ _s_e_l_f___l_o_g___i_n_ _a_n_d_ _r_._a_r_e_a_ _a_n_d_ _r_._s_t_a_r_t_ _<_ _n_o_w_ _%_}
+_{_%_ _e_l_i_f_ _d_e_v_i_c_e_ _=_=_ _'_m_o_b_i_l_e_'_ _a_n_d_ _r_._a_r_e_a_ _%_}
 _{_%_ _e_n_d_i_f_ _%_}
-_{_%_ _i_f_ _r_._t_i_t_l_e_ _%_}_{{_{{_ _rr_.._tt_ii_tt_ll_ee_ _}}_}}
-_{_%_ _e_n_d_i_f_ _%_}_ _{{_%%_ _ii_ff_ _rr_.._ss_tt_aa_rr_tt_ _<<_ _nn_oo_ww_ _%%_}}_YY_oo_uu_''_rr_ee_ _ll_aa_tt_ee_ _ff_oo_rr_ _yy_oo_uu_rr_ _{{_{{_ _rr_.._rr_ee_ss_ee_rr_vv_aa_tt_ii_oo_nn____ii_tt_ee_mm_ _}}_}}
-_rr_ee_ss_ee_rr_vv_aa_tt_ii_oo_nn_!!_{{_%%_ _ee_ll_ss_ee_ _%%_}}_{{_{{_ _rr_.._rr_ee_ss_ee_rr_vv_aa_tt_ii_oo_nn____ii_tt_ee_mm_ _}}_}}_{{_%%_ _ee_nn_dd_ii_ff_ _%%_}}
+_{_%_ _i_f_ _r_._t_i_t_l_e_ _%_}_ _{{_{{_ _rr_.._tt_ii_tt_ll_ee_ _}}_}}
+_{_%_ _e_n_d_i_f_ _%_}_ _{{_%%_ _ii_ff_ _rr_.._ss_tt_aa_rr_tt_ _<<_ _nn_oo_ww_ _%%_}}_ _YY_oo_uu_''_rr_ee_ _ll_aa_tt_ee_ _ff_oo_rr_ _yy_oo_uu_rr_ _{{_{{_ _rr_.._rr_ee_ss_ee_rr_vv_aa_tt_ii_oo_nn____ii_tt_ee_mm
+_}}_}}_ _rr_ee_ss_ee_rr_vv_aa_tt_ii_oo_nn_!!_ _{{_%%_ _ee_ll_ss_ee_ _%%_}}_ _{{_{{_ _rr_.._rr_ee_ss_ee_rr_vv_aa_tt_ii_oo_nn____ii_tt_ee_mm_ _}}_}}_ _{{_%%_ _ee_nn_dd_ii_ff_ _%%_}}
 _S_t_a_r_t_i_n_g_ _o_n_ _{_{_ _r_._s_t_a_r_t_ _}_}
 _E_n_d_i_n_g_ _o_n_ _{_{_ _r_._e_n_d_ _}_}
 _{_%_ _i_f_ _r_._t_o_o_l_ _o_r_ _d_e_v_i_c_e_ _=_=_ _'_m_o_b_i_l_e_'_ _a_n_d_ _r_._a_r_e_a_ _o_r_ _s_e_l_f___l_o_g___i_n_ _a_n_d_ _r_._a_r_e_a_ _a_n_d
 _r_._s_t_a_r_t_ _<_ _n_o_w_ _%_}
 _{_%_ _e_n_d_i_f_ _%_}_ _{_%_ _e_n_d_f_o_r_ _%_}
 {% endif %} {% if alerts or disabled_resources %}
 ******** AAlleerrttss && oouuttaaggeess ********
 {% for a in alerts %}
-{% if a.title %}{{ a.title }}
-{% endif %} {{ a.contents|linebreaks }}
+{% if a.dismissible and a.user == user %}
+{% csrf_token %}
+{% endif %} {% if a.title %} {{ a.title }}
+{% endif %} {{ a.contents|safe|linebreaksbr }}
 {% endfor %} {% for r in disabled_resources %}
 Resource outage: {{ r }}
 {{ r.restriction_message }}
 {% endfor %}
 ▼
 {% endif %} {% if unvalidated_charges or usage_events or user.in_area or
 self_log_in or user.is_staff and user.charging_staff_time %}
 ******** CCuurrrreenntt {{{{ ffaacciilliittyy__nnaammee }}}} uussaaggee ********
 {% if unvalidated_charges %}
 {{ unvalidated_charges }} You have unvalidated charges in _m_y_ _u_s_a_g_e {% if
 user.is_staff and "remote_work"|customization:"remote_work_validation" ==
-"enabled" %} and/or in _r_e_m_o_t_e_ _w_o_r_k{% endif %}
+"enabled" %} and/or in _r_e_m_o_t_e_ _w_o_r_k {% endif %}
 {% endif %} {% if user.is_staff and user.charging_staff_time %}
 _{_%_ _w_i_t_h_ _u_s_e_r_._g_e_t___s_t_a_f_f___c_h_a_r_g_e_ _a_s_ _s_t_a_f_f___c_h_a_r_g_e_ _%_}_ _Y_o_u_ _a_r_e_ _c_u_r_r_e_n_t_l_y_ _c_h_a_r_g_i_n_g
 _s_t_a_f_f_ _t_i_m_e_ _t_o_ _{_{_ _s_t_a_f_f___c_h_a_r_g_e_._c_u_s_t_o_m_e_r_ _}_}_ _f_o_r_ _t_h_e_ _p_r_o_j_e_c_t_ _n_a_m_e_d_ _{
 _{_ _s_t_a_f_f___c_h_a_r_g_e_._p_r_o_j_e_c_t_ _}_}_ _s_i_n_c_e_ _{_{_ _s_t_a_f_f___c_h_a_r_g_e_._s_t_a_r_t_ _}_}_._ _{_%_ _e_n_d_w_i_t_h_ _%_}
 {% endif %} {% for usage in usage_events %}
 _Y_o_u_ _a_r_e_ _u_s_i_n_g_ _t_h_e_ _{{_{{_ _uu_ss_aa_gg_ee_.._tt_oo_oo_ll_ _}}_}}_ _f_o_r_ _t_h_e_ _p_r_o_j_e_c_t_ _n_a_m_e_d_ _{_{_ _u_s_a_g_e_._p_r_o_j_e_c_t_ _}_}
 _s_i_n_c_e_ _{_{_ _u_s_a_g_e_._s_t_a_r_t_ _}_}_.
 {% endfor %} {% if user.in_area %} {% with user.active_project_count as
 active_project_count %}
-You are logged in to the {{{{ uusseerr..aarreeaa__aacccceessss__rreeccoorrdd..aarreeaa }}}}{% if self_log_out
-%} (_l_o_g_o_u_t){% endif %}. Usage time is being billed to the project named {{
+You are logged in to the {{{{ uusseerr..aarreeaa__aacccceessss__rreeccoorrdd..aarreeaa }}}} {% if self_log_out
+%} (_l_o_g_o_u_t) {% endif %} . Usage time is being billed to the project named {{
 {{ uusseerr..bbiilllliinngg__ttoo__pprroojjeecctt }}}}. {% if active_project_count > 1 %} _C_l_i_c_k_ _h_e_r_e_ _t_o
 _b_i_l_l_ _t_o_ _a_ _d_i_f_f_e_r_e_n_t_ _p_r_o_j_e_c_t_ _a_t_ _a_n_y_ _t_i_m_e_. {% endif %}
 {% endwith %} {% endif %} {% if self_log_in %}
 _Y_o_u_ _a_r_e_ _n_o_t_ _l_o_g_g_e_d_ _i_n_ _t_o_ _a_n_ _a_c_c_e_s_s_ _c_o_n_t_r_o_l_l_e_d_ _a_r_e_a_._ _C_l_i_c_k_ _h_e_r_e_ _t_o_ _l_o_g_ _i_n_.
 {% endif %}
 {% endif %}
 {% for choice in landing_page_choices %} {% if forloop.counter0|divisibleby:
 4 %}
 {% endif %}
 % if choice.open_in_new_tab %}target="_blank" {% else %}onclick="show_spinner
 ();"{% endif %} {% if choice.secure_referral %}rel="noopener noreferrer"{%
 endif %} style="text-decoration: none !important">[{{ choice.name }} icon]
 ******** {{{{ cchhooiiccee..nnaammee }}}} {{%% iiff cchhooiiccee..nnoottiiffiiccaattiioonnss %%}} {{%% ffoorr ttyyppee,, ccoouunntt iinn
-nnoottiiffiiccaattiioonn__ccoouunnttss..iitteemmss %%}} {{%% iiff cchhooiiccee..nnoottiiffiiccaattiioonnss ==== ttyyppee aanndd ccoouunntt %%}} {{
-{{ ccoouunntt }}}} {{%% eennddiiff %%}} {{%% eennddffoorr %%}} {{%% eennddiiff %%}} ********
+nnoottiiffiiccaattiioonn__ccoouunnttss..iitteemmss %%}} {{%% iiff cchhooiiccee..nnoottiiffiiccaattiioonnss ==== ttyyppee aanndd ccoouunntt %%}}{{
+{{ ccoouunntt }}}}{{%% eennddiiff %%}} {{%% eennddffoorr %%}} {{%% eennddiiff %%}} ********
 {% if forloop.counter|divisibleby:4 or forloop.last %}
 {% endif %} {% empty %} Welcome! This is {{ site_title }}'s landing page - the
 first page users see when visiting the site. There's nothing here yet...
  
 {% if user.is_superuser and "django.contrib.admin"|app_installed %} Add landing
 page choices by navigating to
-_A_d_m_i_n_i_s_t_r_a_t_i_o_n_ _-_>_ _D_e_t_a_i_l_e_d_ _A_d_m_i_n_i_s_t_r_a_t_i_o_n_ _-_>
+_A_d_m_i_n_i_s_t_r_a_t_i_o_n_ _-_>_ _D_e_t_a_i_l_e_d_ _A_d_m_i_n_i_s_t_r_a_t_i_o_n_ _-_>_ 
 _L_a_n_d_i_n_g_ _p_a_g_e_ _c_h_o_i_c_e_s_ _-_>_ _A_d_d_ _l_a_n_d_i_n_g_ _p_a_g_e_ _c_h_o_i_c_e_ 
  
 Customize {{ site_title }} further by navigating to
 _A_d_m_i_n_i_s_t_r_a_t_i_o_n_ _-_>_ _C_u_s_t_o_m_i_z_a_t_i_o_n {% endif %} {% endfor %}
-{% endblock %} {% block extra_whitespace %}{# Hide extra whitespace #}{%
+{% endblock %} {% block extra_whitespace %} {# Hide extra whitespace #} {%
 endblock %}
```

## NEMO/templates/login.html

```diff
@@ -1,96 +1,102 @@
 {% load static %}
 {% load custom_tags_and_filters %}
 <!DOCTYPE html>
 <html lang="en">
-<head>
-	<meta charset="UTF-8">
-	<meta http-equiv="X-UA-Compatible" content="IE=edge">
-	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
-	<meta name="application-name" content="NEMO-CE">
-	<meta name="author" content="Center for Nanoscale Science and Technology">
-	<meta name="description" content="NEMO allows facility users to make tool reservations, control access to tools in their facility, and streamline logistics and communication">
-	<meta name="keywords" content="logistics, operations, nano-technology, nano-fabrication, reservation, tool control, status">
-
-	{# Snippet to prevent clickjacking. Taken from https://www.codemagi.com/blog/post/194 #}
-	<style id="antiClickjack">body{display:none !important;}</style>
-	<!--suppress JSValidateTypes -->
-	<script type="text/javascript">
+    <head>
+        <meta charset="UTF-8">
+        <meta http-equiv="X-UA-Compatible" content="IE=edge">
+        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
+        <meta name="application-name" content="NEMO-CE">
+        <meta name="author" content="Center for Nanoscale Science and Technology">
+        <meta name="description"
+              content="NEMO allows facility users to make tool reservations, control access to tools in their facility, and streamline logistics and communication">
+        <meta name="keywords"
+              content="logistics, operations, nano-technology, nano-fabrication, reservation, tool control, status">
+        {# Snippet to prevent clickjacking. Taken from https://www.codemagi.com/blog/post/194 #}
+        <style id="antiClickjack">body{display:none !important;}</style>
+        <!--suppress JSValidateTypes -->
+        <script type="text/javascript">
 		if (self === top)
 		{
 			var antiClickjack = document.getElementById("antiClickjack");
 			antiClickjack.parentNode.removeChild(antiClickjack);
 		}
 		else
 			top.location = self.location;
-	</script>
-
-	<title>{{ site_title }}</title>
-    <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}"/>
-	<link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.css" %}"/>
-	<link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.css" %}"/>
-</head>
-<body>
-	<div class="container">
-		<div class="col-md-8 col-md-offset-2" style="text-align:center; margin-bottom:30px"><h1>Welcome to the {{ site_title }} website</h1></div>
-
-		<form method="post" class="form-horizontal" autocomplete="off" id="login_form">
-			{% csrf_token %}
-
-			<div class="form-group">
-				<div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4">
-					<input type="text" aria-label="Username" id="username" name="username" class="form-control" placeholder="User name" spellcheck="false" autocapitalize="off" autocomplete="off" autofocus>
-				</div>
-			</div>
-
-			<div class="form-group">
-				<div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4">
-					<input type="password" aria-label="Password" id="password" name="password" class="form-control" placeholder="Password" autocomplete="off">
-				</div>
-			</div>
-
-			<div class="form-group">
-				<div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4">
-					{% button style="width: 100%;" type="save" value="Log in" icon="glyphicon-log-in" %}
-				</div>
-			</div>
-		</form>
-
-		<div class="alert alert-danger" style="display:none" id="cookie_error">
-			{{ site_title }} relies on cookies to work properly. Please modify your web browser settings
-			to allow this site to use cookies. Reload this page after modifying the settings
-			and you will be able to log in.
-		</div>
-
-		{% if user_name_or_password_incorrect %}
-			<div class="alert alert-danger">
-				<span class="glyphicon icon-info"></span> The username or password was not valid.
-			</div>
-		{% endif %}
-
-		{% if login_banner %}
-			<div class="alert alert-info">
-				{{ login_banner|safe }}
-			</div>
-		{% endif %}
-        {% include 'base/footer.html' %}
-	</div>
 
-	<script>
+        </script>
+        <title>{{ site_title }}</title>
+        <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}" />
+        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.css" %}" />
+        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.css" %}" />
+    </head>
+    <body>
+        <div class="container">
+            <div class="col-md-8 col-md-offset-2" style="text-align:center; margin-bottom:30px">
+                <h1>Welcome to the {{ site_title }} website</h1>
+            </div>
+            <form method="post" class="form-horizontal" autocomplete="off" id="login_form">
+                {% csrf_token %}
+                <div class="form-group">
+                    <div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4">
+                        <input type="text"
+                               aria-label="Username"
+                               id="username"
+                               name="username"
+                               class="form-control"
+                               placeholder="User name"
+                               spellcheck="false"
+                               autocapitalize="off"
+                               autocomplete="off"
+                               autofocus>
+                    </div>
+                </div>
+                <div class="form-group">
+                    <div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4">
+                        <input type="password"
+                               aria-label="Password"
+                               id="password"
+                               name="password"
+                               class="form-control"
+                               placeholder="Password"
+                               autocomplete="off">
+                    </div>
+                </div>
+                <div class="form-group">
+                    <div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4">
+                        {% button style="width: 100%;" type="save" value="Log in" icon="glyphicon-log-in" %}
+                    </div>
+                </div>
+            </form>
+            <div class="alert alert-danger" style="display:none" id="cookie_error">
+                {{ site_title }} relies on cookies to work properly. Please modify your web browser settings
+                to allow this site to use cookies. Reload this page after modifying the settings
+                and you will be able to log in.
+            </div>
+            {% if user_name_or_password_incorrect %}
+                <div class="alert alert-danger">
+                    <span class="glyphicon icon-info"></span> The username or password was not valid.
+                </div>
+            {% endif %}
+            {% if login_banner %}<div class="alert alert-info">{{ login_banner|safe }}</div>{% endif %}
+            {% include 'base/footer.html' %}
+        </div>
+        <script>
 		if(!navigator.cookieEnabled)
 		{
 			document.getElementById("login_form").style.display = "none";
 			document.getElementById("cookie_error").style.display = "block";
 		}
-	</script>
 
-</body>
-<style>
+        </script>
+    </body>
+    <style>
 .page-footer
 {
 	margin-top: 20px;
   	border-top: 1px solid #eee;
 	line-height: 40px;
 	text-align: center;
 }
-</style>
-</html>
+    </style>
+</html>
```

### html2text {}

```diff
@@ -1,12 +1,12 @@
 {% load static %} {% load custom_tags_and_filters %}
 {# Snippet to prevent clickjacking. Taken from https://www.codemagi.com/blog/
 post/194 #}
-}"/>
-}"/>
+}" />
+}" />
 ************ WWeellccoommee ttoo tthhee {{{{ ssiittee__ttiittllee }}}} wweebbssiittee ************
 {% csrf_token %}
 [username            ]
 [********************]
 {% button style="width: 100%;" type="save" value="Log in" icon="glyphicon-log-
 in" %}
 {{ site_title }} relies on cookies to work properly. Please modify your web
```

## NEMO/templates/no_project.html

```diff
@@ -1,5 +1,5 @@
 {% extends 'base.html' %}
 {% block title %}No project{% endblock %}
 {% block content %}
-	<h1>You are currently not a member of any active projects. You may not perform any billable actions.</h1>
-{% endblock %}
+    <h1>You are currently not a member of any active projects. You may not perform any billable actions.</h1>
+{% endblock %}
```

## NEMO/templates/qualifications.html

```diff
@@ -1,69 +1,72 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Batch qualifications{% endblock %}
-
 {% block content %}
-	<h1>Batch qualifications</h1>
-	<p>
-		Use this form to qualify one or more users on one or more tools. You may select as many users or tools as you like.
-		User and tool names are automatically searched for when you type in the text boxes below. All of the selected users
-		will be qualified or disqualified for all of the selected tools. You can remove a selected user or tool by clicking
-		on the representative button.
-	</p>
-
-	<form method="post" action="{% url 'modify_qualifications' %}">
-		{% csrf_token %}
-		<input type="hidden" name="redirect" value="true">
-		<div class="form-group">
-			<div class="row">
-				<div class="col-md-6">
-					<button type='submit' class="btn btn-success" name="action" value="qualify"
-							onclick="set_qualification_level_required(true)"><i class="glyphicon glyphicon-plus"></i> Qualify users
-					</button>
-				</div>
-				<div class="col-md-6 text-right">
-					<button type='submit' class="btn btn-danger" name="action" value="disqualify"
-							onclick="set_qualification_level_required(false)"><i class="glyphicon glyphicon-minus"></i> Disqualify
-						users
-					</button>
-				</div>
-			</div>
-		</div>
-		<div class="row">
-			<div class="{% if qualification_levels %}col-md-4{% else %}col-md-6{% endif %}">
-				<div class="form-group">
-					<label for="user_search">Search for user</label>
-					<input id='user_search' class="form-control"/>
-				</div>
-				<div id="chosen_users" class="form-group"></div>
-			</div>
-			<div class="{% if qualification_levels %}col-md-4{% else %}col-md-6{% endif %}">
-				<div class="form-group">
-					<label for="tool_search">Search for tool</label>
-					<input id='tool_search' class="form-control"/>
-				</div>
-				<div id="chosen_tools" class="form-group"></div>
-				<div id="chosen_toolqualificationgroups" class="form-group"></div>
-			</div>
-			{% if qualification_levels %}
-				<div class="col-md-4">
-					<label for="qualification_level">Select qualification level</label>
-					<select id="qualification_level" name="qualification_level" class="form-control">
-						<option disabled selected value="">&nbsp;</option>
-						{% for ql in qualification_levels %}
-							<option value="{{ ql.id }}">{{ ql.name }}</option>
-						{% endfor %}
-					</select>
-				</div>
-			{% endif %}
-		</div>
-	</form>
-
-	<script type="text/javascript">
+    <h1>Batch qualifications</h1>
+    <p>
+        Use this form to qualify one or more users on one or more tools. You may select as many users or tools as you like.
+        User and tool names are automatically searched for when you type in the text boxes below. All of the selected users
+        will be qualified or disqualified for all of the selected tools. You can remove a selected user or tool by clicking
+        on the representative button.
+    </p>
+    <form method="post" action="{% url 'modify_qualifications' %}">
+        {% csrf_token %}
+        <input type="hidden" name="redirect" value="true">
+        <div class="form-group">
+            <div class="row">
+                <div class="col-md-6">
+                    <button type='submit'
+                            class="btn btn-success"
+                            name="action"
+                            value="qualify"
+                            onclick="set_qualification_level_required(true)">
+                        <i class="glyphicon glyphicon-plus"></i> Qualify users
+                    </button>
+                </div>
+                <div class="col-md-6 text-right">
+                    <button type='submit'
+                            class="btn btn-danger"
+                            name="action"
+                            value="disqualify"
+                            onclick="set_qualification_level_required(false)">
+                        <i class="glyphicon glyphicon-minus"></i> Disqualify
+                        users
+                    </button>
+                </div>
+            </div>
+        </div>
+        <div class="row">
+            <div class="{% if qualification_levels %}col-md-4{% else %}col-md-6{% endif %}">
+                <div class="form-group">
+                    <label for="user_search">Search for user</label>
+                    <input id='user_search' class="form-control" />
+                </div>
+                <div id="chosen_users" class="form-group"></div>
+            </div>
+            <div class="{% if qualification_levels %}col-md-4{% else %}col-md-6{% endif %}">
+                <div class="form-group">
+                    <label for="tool_search">Search for tool</label>
+                    <input id='tool_search' class="form-control" />
+                </div>
+                <div id="chosen_tools" class="form-group"></div>
+                <div id="chosen_toolqualificationgroups" class="form-group"></div>
+            </div>
+            {% if qualification_levels %}
+                <div class="col-md-4">
+                    <label for="qualification_level">Select qualification level</label>
+                    <select id="qualification_level" name="qualification_level" class="form-control">
+                        <option disabled selected value="">&nbsp;</option>
+                        {% for ql in qualification_levels %}<option value="{{ ql.id }}">{{ ql.name }}</option>{% endfor %}
+                    </select>
+                </div>
+            {% endif %}
+        </div>
+    </form>
+    <script type="text/javascript">
 		function create_entry(jquery_event, search_selection, dataset_name)
 		{
 			$('#user_search').typeahead('val', '');
 			$('#tool_search').typeahead('val', '');
             {# Use type if provided otherwise the name of the dataset #}
             let input_name = search_selection.type || dataset_name;
 			let id = input_name + "_" + search_selection.id;
@@ -85,9 +88,10 @@
 		function on_load()
 		{
 			$('#user_search').autocomplete('user', create_entry, {{ users|json_search_base }}).focus();
 			$('#tool_search').autocomplete('tool', create_entry, {% json_search_base_with_extra_fields tools|add:tool_groups %}, {% if tool_groups %}false{% else %}true{% endif %});
 		}
 
 		$(on_load);
-	</script>
-{% endblock %}
+
+    </script>
+{% endblock %}
```

## NEMO/templates/refresh_sidebar_icons.html

```diff
@@ -1,7 +1,8 @@
+{# djlint:off #}
 $('#sidebar .sidebar-status-icon').remove();
 $('#sidebar .sidebar-status-occupancy').remove();
 {% for tool in tool_summary %}
 	{% if tool.area_requires_reservation %}
 		$('#tool-{{ tool.id }}').prepend('<span class="glyphicon glyphicon-calendar sidebar-status-icon" title="This tool requires prior reservation of the {{ tool.area_name }}"></span> ');
 	{% elif tool.reservation_required %}
 		$('#tool-{{ tool.id }}').prepend('<span class="glyphicon glyphicon-calendar sidebar-status-icon" title="This tool requires prior reservation to operate"></span> ');
@@ -59,8 +60,8 @@
 		{% elif not area.count_service_personnel_in_occupancy and area.count_staff_in_occupancy %}
 			$('#area-{{ area.id }}').append('<span class="sidebar-status-occupancy" title="There {% if area.occupancy_count == 1 %}is{% else %}are{% endif %} {{ area.occupancy_count }} {% if area.occupancy_count == 1 %}person{% else %}people{% endif %} in this area (+ {{ area.occupancy_service_personnel }} service personnel)"> {{ area.occupancy_count }} / {{ area.maximum_capacity }}</span>');
 		{% else %}
 			$('#area-{{ area.id }}').append('<span class="sidebar-status-occupancy" title="There {% if area.occupancy_count == 1 %}is{% else %}are{% endif %} {{ area.occupancy_count }} {% if area.occupancy_count == 1 %}person{% else %}people{% endif %} in this area (+ {{ area.occupancy_staff }} staff {% if area.occupancy_service_personnel > 0 %}and {{ area.occupancy_service_personnel }} service personnel{% endif %})"> {{ area.occupancy_count }} / {{ area.maximum_capacity }}</span>');
 		{% endif %}
 	{% endif %}
 {% endfor %}
-$('span[data-toggle~="tooltip"]').tooltip({ container: 'body', 'html': true });
+$('span[data-toggle~="tooltip"]').tooltip({ container: 'body', 'html': true });
```

## NEMO/templates/abuse/abuse.html

```diff
@@ -1,96 +1,108 @@
 {% extends 'base.html' %}
 {% load humanize %}
 {% block title %}Reservation abuse{% endblock %}
 {% block extrahead %}
-	{% load static %}
+    {% load static %}
     {% load custom_tags_and_filters %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
-	<h1>Reservation abuse</h1>
-	<p>
-		This page ranks users that abuse reservation privileges. Abuse is defined as cancelling, moving, or extending
-		a reservation shortly before the reservation would have started. A point penalty is calculated per abuse.
-		Point penalties increase the shorter the notice of a reservation change. (That is, cancelling a reservation right
-		before it would have started will incur a high amount of points, while cancelling it 6 hours before would incur
-		fewer points).
-	</p>
-
-	<p>The weight & details of what constitutes abuse can be configured (though reasonable defaults have been chosen).</p>
-
-	<form class="form-horizontal" method="get" action="{% url 'abuse' %}">
-		<div class="form-group">
-			<label for="cancellation_horizon" class="col-sm-3 control-label">Cancellation horizon</label>
-			<div class="col-sm-2">
-				<div class="input-group">
-					<input id="cancellation_horizon" name="cancellation_horizon" type="text" class="form-control" value="{{ form.cancellation_horizon.value }}">
-					<span class="input-group-addon">hours</span>
-				</div>
-			</div>
-		</div>
-		<div class="form-group">
-			<label for="cancellation_penalty" class="col-sm-3 control-label">Cancellation penalty</label>
-			<div class="col-sm-2">
-				<div class="input-group">
-					<span class="input-group-addon">Up to</span>
-					<input id="cancellation_penalty" name="cancellation_penalty" type="text" class="form-control" value="{{ form.cancellation_penalty.value }}">
-					<span class="input-group-addon">points</span>
-				</div>
-			</div>
-		</div>
-		<div class="form-group">
-			<label for="target" class="col-sm-3 control-label">Evaluate for the</label>
-			<div class="col-sm-3">
-				<select id="target" name="target" class="form-control">
-					<option value="">Entire {{ facility_name }}</option>
-					{% for area in area_widget.choices %}
-						<option value="area|{{ area.0 }}" {% if item_type == 'area' and item_id == area.0 %}selected{% endif %}>{{ area.1 }} (Area)</option>
-					{% endfor %}
-					{% for tool in tools %}
-						<option value="tool|{{ tool.id }}" {% if item_type == 'tool' and item_id == tool.id %}selected{% endif %}>{{ tool.name }}</option>
-					{% endfor %}
-				</select>
-			</div>
-		</div>
-		<div class="form-group">
-			<label for="start" class="col-sm-3 control-label">Starting</label>
-			<div class="col-sm-3">
-				<input id="start" type="text" name="start" class="form-control" value="{{ form.start.value|input_date_format }}">
-			</div>
-			<label for="end" class="col-sm-1 control-label">Ending</label>
-			<div class="col-sm-3">
-				<input id="end" type="text" name="end" class="form-control" value="{{ form.end.value|input_date_format }}">
-			</div>
-		</div>
-		<div class="form-group">
-			<div class="col-sm-offset-3 col-sm-9">
-                {% button type="warn" submit=True value="Generate report" %}
-			</div>
-		</div>
-	</form>
-
-	{% if results %}
-		<div>
-			<table class="table">
-				<tr>
-					<th>User</th>
-					<th>Points</th>
-				</tr>
-				{% for user, score in results %}
-					<tr>
-						<td><a href="{% url 'user_drill_down' %}?user={{ user.id }}&cancellation_horizon={{ form.cancellation_horizon.value }}&cancellation_penalty={{ form.cancellation_penalty.value }}&target={{ form.target.value }}&start={{ form.start.value }}&end={{ form.end.value }}">{{ user }}</a></td>
-						<td>{{ score|intcomma }}</td>
-					</tr>
-				{% endfor %}
-			</table>
-		</div>
-	{% endif %}
-
-	<script>
+    <h1>Reservation abuse</h1>
+    <p>
+        This page ranks users that abuse reservation privileges. Abuse is defined as cancelling, moving, or extending
+        a reservation shortly before the reservation would have started. A point penalty is calculated per abuse.
+        Point penalties increase the shorter the notice of a reservation change. (That is, cancelling a reservation right
+        before it would have started will incur a high amount of points, while cancelling it 6 hours before would incur
+        fewer points).
+    </p>
+    <p>The weight & details of what constitutes abuse can be configured (though reasonable defaults have been chosen).</p>
+    <form class="form-horizontal" method="get" action="{% url 'abuse' %}">
+        <div class="form-group">
+            <label for="cancellation_horizon" class="col-sm-3 control-label">Cancellation horizon</label>
+            <div class="col-sm-2">
+                <div class="input-group">
+                    <input id="cancellation_horizon"
+                           name="cancellation_horizon"
+                           type="text"
+                           class="form-control"
+                           value="{{ form.cancellation_horizon.value }}">
+                    <span class="input-group-addon">hours</span>
+                </div>
+            </div>
+        </div>
+        <div class="form-group">
+            <label for="cancellation_penalty" class="col-sm-3 control-label">Cancellation penalty</label>
+            <div class="col-sm-2">
+                <div class="input-group">
+                    <span class="input-group-addon">Up to</span>
+                    <input id="cancellation_penalty"
+                           name="cancellation_penalty"
+                           type="text"
+                           class="form-control"
+                           value="{{ form.cancellation_penalty.value }}">
+                    <span class="input-group-addon">points</span>
+                </div>
+            </div>
+        </div>
+        <div class="form-group">
+            <label for="target" class="col-sm-3 control-label">Evaluate for the</label>
+            <div class="col-sm-3">
+                <select id="target" name="target" class="form-control">
+                    <option value="">Entire {{ facility_name }}</option>
+                    {% for area in area_widget.choices %}
+                        <option value="area|{{ area.0 }}" {% if item_type == 'area' and item_id == area.0 %}selected{% endif %}>
+                            {{ area.1 }} (Area)
+                        </option>
+                    {% endfor %}
+                    {% for tool in tools %}
+                        <option value="tool|{{ tool.id }}" {% if item_type == 'tool' and item_id == tool.id %}selected{% endif %}>
+                            {{ tool.name }}
+                        </option>
+                    {% endfor %}
+                </select>
+            </div>
+        </div>
+        <div class="form-group">
+            <label for="start" class="col-sm-3 control-label">Starting</label>
+            <div class="col-sm-3">
+                <input id="start"
+                       type="text"
+                       name="start"
+                       class="form-control"
+                       value="{{ form.start.value|input_date_format }}">
+            </div>
+            <label for="end" class="col-sm-1 control-label">Ending</label>
+            <div class="col-sm-3">
+                <input id="end" type="text" name="end" class="form-control" value="{{ form.end.value|input_date_format }}">
+            </div>
+        </div>
+        <div class="form-group">
+            <div class="col-sm-offset-3 col-sm-9">{% button type="warn" submit=True value="Generate report" %}</div>
+        </div>
+    </form>
+    {% if results %}
+        <div>
+            <table class="table">
+                <tr>
+                    <th>User</th>
+                    <th>Points</th>
+                </tr>
+                {% for user, score in results %}
+                    <tr>
+                        <td>
+                            <a href="{% url 'user_drill_down' %}?user={{ user.id }}&cancellation_horizon={{ form.cancellation_horizon.value }}&cancellation_penalty={{ form.cancellation_penalty.value }}&target={{ form.target.value }}&start={{ form.start.value }}&end={{ form.end.value }}">{{ user }}</a>
+                        </td>
+                        <td>{{ score|intcomma }}</td>
+                    </tr>
+                {% endfor %}
+            </table>
+        </div>
+    {% endif %}
+    <script>
 		let timepicker_properties = {format: '{{ date_input_js_format }}'};
 		$('#start').datetimepicker(timepicker_properties);
 		$('#end').datetimepicker(timepicker_properties);
-	</script>
-
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,12 +1,12 @@
 {% extends 'base.html' %} {% load humanize %} {% block title %}Reservation
 abuse{% endblock %} {% block extrahead %} {% load static %} {% load
 custom_tags_and_filters %}
 }">
-}"/> {% endblock %} {% block content %}
+}" /> {% endblock %} {% block content %}
 ************ RReesseerrvvaattiioonn aabbuussee ************
 This page ranks users that abuse reservation privileges. Abuse is defined as
 cancelling, moving, or extending a reservation shortly before the reservation
 would have started. A point penalty is calculated per abuse. Point penalties
 increase the shorter the notice of a reservation change. (That is, cancelling a
 reservation right before it would have started will incur a high amount of
 points, while cancelling it 6 hours before would incur fewer points).
@@ -14,18 +14,18 @@
 reasonable defaults have been chosen).
 Cancellation horizon
 [{{ form.cancellation_horizon.value }}]hours
 Cancellation penalty
 Up to [{{ form.cancellation_penalty.value }}]points
 Evaluate for the
 {% for area in area_widget.choices %}
-% if item_type == 'area' and item_id == area.0 %}selected{% endif %}>{{ area.1
+% if item_type == 'area' and item_id == area.0 %}selected{% endif %}> {{ area.1
 }} (Area)
 {% endfor %} {% for tool in tools %}
-% if item_type == 'tool' and item_id == tool.id %}selected{% endif %}>{
+% if item_type == 'tool' and item_id == tool.id %}selected{% endif %}> {
 { tool.name }}
 {% endfor %}
 Starting
 [{{ form.start.value|input_date_format }}]
 Ending
 [{{ form.end.value|input_date_format }}]
 {% button type="warn" submit=True value="Generate report" %}
```

## NEMO/templates/abuse/user_drill_down.html

```diff
@@ -1,12 +1,26 @@
 {% extends 'base.html' %}
 {% load humanize %}
 {% block title %}Reservation abuse{% endblock %}
 {% block content %}
-	<h1>Reservation abuse for {{ abuser }}</h1>
-	<table class="table table-condensed table-borderless">
-		<tr><th>Item</th><th>Type</th><th>Advance notice</th><th>Penalty</th><th>Original start time</th><th>Reservation ID</th></tr>
-		{% for a in abuses %}
-			<tr><td>{{ a.item_name }}</td><td>{{ a.item_type|capfirst }}</td><td>{{ a.delta }}</td><td>{{ a.penalty|floatformat }}</td><td>{{ a.start }}</td><td>{{ a.id }}</td></tr>
-		{% endfor %}
-	</table>
-{% endblock %}
+    <h1>Reservation abuse for {{ abuser }}</h1>
+    <table class="table table-condensed table-borderless">
+        <tr>
+            <th>Item</th>
+            <th>Type</th>
+            <th>Advance notice</th>
+            <th>Penalty</th>
+            <th>Original start time</th>
+            <th>Reservation ID</th>
+        </tr>
+        {% for a in abuses %}
+            <tr>
+                <td>{{ a.item_name }}</td>
+                <td>{{ a.item_type|capfirst }}</td>
+                <td>{{ a.delta }}</td>
+                <td>{{ a.penalty|floatformat }}</td>
+                <td>{{ a.start }}</td>
+                <td>{{ a.id }}</td>
+            </tr>
+        {% endfor %}
+    </table>
+{% endblock %}
```

## NEMO/templates/accounts_and_projects/account_and_projects.html

```diff
@@ -8,476 +8,557 @@
 00000070: 7d0a 7b25 2062 6c6f 636b 2063 6f6e 7465  }.{% block conte
 00000080: 6e74 2025 7d0a 2020 2020 3c64 6976 2063  nt %}.    <div c
 00000090: 6c61 7373 3d22 6831 2072 6f77 223e 0a20  lass="h1 row">. 
 000000a0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
 000000b0: 733d 2263 6f6c 2d78 732d 3620 636f 6c2d  s="col-xs-6 col-
 000000c0: 736d 2d37 223e 4163 636f 756e 7473 2061  sm-7">Accounts a
 000000d0: 6e64 2070 726f 6a65 6374 733c 2f64 6976  nd projects</div
-000000e0: 3e0a 0909 3c64 6976 2063 6c61 7373 3d22  >...<div class="
-000000f0: 636f 6c2d 736d 2d35 2074 6578 742d 7269  col-sm-5 text-ri
-00000100: 6768 7422 3e0a 2020 2020 2020 2020 2020  ght">.          
-00000110: 2020 7b25 2062 7574 746f 6e20 7479 7065    {% button type
-00000120: 3d22 6164 6422 2076 616c 7565 3d22 4e65  ="add" value="Ne
-00000130: 7720 7072 6f6a 6563 7422 2075 726c 3d22  w project" url="
-00000140: 6372 6561 7465 5f70 726f 6a65 6374 2220  create_project" 
-00000150: 257d 0a20 2020 2020 2020 2020 2020 207b  %}.            {
-00000160: 2520 6275 7474 6f6e 2074 7970 653d 2261  % button type="a
-00000170: 6464 2220 7661 6c75 653d 224e 6577 2061  dd" value="New a
-00000180: 6363 6f75 6e74 2220 7572 6c3d 2263 7265  ccount" url="cre
-00000190: 6174 655f 6163 636f 756e 7422 2025 7d0a  ate_account" %}.
-000001a0: 0909 3c2f 6469 763e 0a09 3c2f 6469 763e  ..</div>..</div>
-000001b0: 0a09 3c64 6976 2063 6c61 7373 3d22 726f  ..<div class="ro
-000001c0: 7722 3e0a 0909 3c64 6976 2063 6c61 7373  w">...<div class
-000001d0: 3d22 636f 6c2d 736d 2d35 2220 6964 3d22  ="col-sm-5" id="
-000001e0: 7365 6172 6368 5f63 6f6e 7461 696e 6572  search_container
-000001f0: 223e 0a09 0909 3c69 6e70 7574 2069 643d  ">....<input id=
-00000200: 2273 6561 7263 6822 2074 7970 653d 2274  "search" type="t
-00000210: 6578 7422 2061 7269 612d 6c61 6265 6c3d  ext" aria-label=
-00000220: 2253 6561 7263 6820 666f 7220 6163 636f  "Search for acco
-00000230: 756e 7420 6f72 2070 726f 6a65 6374 2220  unt or project" 
-00000240: 706c 6163 6568 6f6c 6465 723d 2253 6561  placeholder="Sea
-00000250: 7263 6820 666f 7220 616e 2061 6363 6f75  rch for an accou
-00000260: 6e74 206f 7220 7072 6f6a 6563 7422 2063  nt or project" c
-00000270: 6c61 7373 3d22 666f 726d 2d63 6f6e 7472  lass="form-contr
-00000280: 6f6c 2220 6175 746f 666f 6375 733e 0a09  ol" autofocus>..
-00000290: 093c 2f64 6976 3e0a 093c 2f64 6976 3e0a  .</div>..</div>.
-000002a0: 097b 2520 6966 2061 6363 6f75 6e74 2025  .{% if account %
-000002b0: 7d0a 0909 3c64 6976 2063 6c61 7373 3d22  }...<div class="
-000002c0: 726f 7722 3e0a 0909 093c 6469 7620 636c  row">....<div cl
-000002d0: 6173 733d 2263 6f6c 2d73 6d2d 3132 223e  ass="col-sm-12">
-000002e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000002f0: 207b 2520 6966 206e 6f74 2073 656c 6563   {% if not selec
-00000300: 7465 645f 7072 6f6a 6563 7420 257d 0a20  ted_project %}. 
-00000310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000320: 2020 203c 6832 3e0a 2020 2020 2020 2020     <h2>.        
-00000330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000340: 7b7b 2061 6363 6f75 6e74 207d 7d0a 2020  {{ account }}.  
-00000350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000360: 2020 2020 2020 3c66 6f72 6d20 7374 796c        <form styl
-00000370: 653d 2264 6973 706c 6179 3a69 6e6c 696e  e="display:inlin
-00000380: 6522 206d 6574 686f 643d 2270 6f73 7422  e" method="post"
-00000390: 2061 6374 696f 6e3d 227b 2520 7572 6c20   action="{% url 
-000003a0: 2774 6f67 676c 655f 6163 7469 7665 2720  'toggle_active' 
-000003b0: 2761 6363 6f75 6e74 2720 6163 636f 756e  'account' accoun
-000003c0: 742e 6964 2025 7d22 3e0a 2020 2020 2020  t.id %}">.      
-000003d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000003e0: 2020 2020 2020 7b25 2063 7372 665f 746f        {% csrf_to
-000003f0: 6b65 6e20 257d 0a20 2020 2020 2020 2020  ken %}.         
-00000400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000410: 2020 207b 2320 5573 696e 6720 616e 2027     {# Using an '
-00000420: 696e 7075 7420 7375 626d 6974 2720 656c  input submit' el
-00000430: 656d 656e 7420 776f 756c 6420 6265 2070  ement would be p
-00000440: 7265 6665 7261 626c 6520 746f 2061 6e20  referable to an 
-00000450: 616e 6368 6f72 206f 6e20 7468 6520 666f  anchor on the fo
-00000460: 6c6c 6f77 696e 6720 6c69 6e65 2c20 6275  llowing line, bu
-00000470: 7420 426f 6f74 7374 7261 7020 6361 6e27  t Bootstrap can'
-00000480: 7420 7374 796c 6520 6120 2773 7562 6d69  t style a 'submi
-00000490: 7427 2061 7320 6120 6c61 6265 6c20 736f  t' as a label so
-000004a0: 2079 6f75 2068 6176 6520 746f 2075 7365   you have to use
-000004b0: 2061 6e20 616e 6368 6f72 2e20 237d 0a20   an anchor. #}. 
-000004c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000004d0: 2020 2020 2020 2020 2020 203c 6120 6f6e             <a on
-000004e0: 636c 6963 6b3d 2224 2874 6869 7329 2e63  click="$(this).c
-000004f0: 6c6f 7365 7374 2827 666f 726d 2729 2e73  losest('form').s
-00000500: 7562 6d69 7428 2922 2063 6c61 7373 3d22  ubmit()" class="
-00000510: 6c61 6265 6c20 7b25 2069 6620 6163 636f  label {% if acco
-00000520: 756e 742e 6163 7469 7665 2025 7d6c 6162  unt.active %}lab
-00000530: 656c 2d73 7563 6365 7373 7b25 2065 6c73  el-success{% els
-00000540: 6520 257d 6c61 6265 6c2d 6461 6e67 6572  e %}label-danger
-00000550: 7b25 2065 6e64 6966 2025 7d22 2073 7479  {% endif %}" sty
-00000560: 6c65 3d22 7665 7274 6963 616c 2d61 6c69  le="vertical-ali
-00000570: 676e 3a35 3025 3b20 666f 6e74 2d73 697a  gn:50%; font-siz
-00000580: 653a 736d 616c 6c22 3e0a 2020 2020 2020  e:small">.      
-00000590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000005a0: 2020 2020 2020 2020 2020 7b25 2069 6620            {% if 
-000005b0: 6163 636f 756e 742e 6163 7469 7665 2025  account.active %
-000005c0: 7d41 6374 6976 657b 2520 656c 7365 2025  }Active{% else %
-000005d0: 7d49 6e61 6374 6976 657b 2520 656e 6469  }Inactive{% endi
-000005e0: 6620 257d 0a20 2020 2020 2020 2020 2020  f %}.           
-000005f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000600: 203c 2f61 3e0a 2020 2020 2020 2020 2020   </a>.          
-00000610: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
-00000620: 666f 726d 3e0a 2020 2020 2020 2020 2020  form>.          
-00000630: 2020 2020 2020 2020 2020 3c2f 6832 3e0a            </h2>.
-00000640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000650: 7b25 2065 6e64 6966 2025 7d0a 0909 0909  {% endif %}.....
-00000660: 7b25 2066 6f72 2070 726f 6a65 6374 2069  {% for project i
-00000670: 6e20 6163 636f 756e 742e 7072 6f6a 6563  n account.projec
-00000680: 745f 7365 742e 616c 6c20 257d 0a20 2020  t_set.all %}.   
+000000e0: 3e0a 2020 2020 2020 2020 3c64 6976 2063  >.        <div c
+000000f0: 6c61 7373 3d22 636f 6c2d 736d 2d35 2074  lass="col-sm-5 t
+00000100: 6578 742d 7269 6768 7422 3e0a 2020 2020  ext-right">.    
+00000110: 2020 2020 2020 2020 7b25 2062 7574 746f          {% butto
+00000120: 6e20 7479 7065 3d22 6164 6422 2076 616c  n type="add" val
+00000130: 7565 3d22 4e65 7720 7072 6f6a 6563 7422  ue="New project"
+00000140: 2075 726c 3d22 6372 6561 7465 5f70 726f   url="create_pro
+00000150: 6a65 6374 2220 257d 0a20 2020 2020 2020  ject" %}.       
+00000160: 2020 2020 207b 2520 6275 7474 6f6e 2074       {% button t
+00000170: 7970 653d 2261 6464 2220 7661 6c75 653d  ype="add" value=
+00000180: 224e 6577 2061 6363 6f75 6e74 2220 7572  "New account" ur
+00000190: 6c3d 2263 7265 6174 655f 6163 636f 756e  l="create_accoun
+000001a0: 7422 2025 7d0a 2020 2020 2020 2020 3c2f  t" %}.        </
+000001b0: 6469 763e 0a20 2020 203c 2f64 6976 3e0a  div>.    </div>.
+000001c0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+000001d0: 726f 7722 3e0a 2020 2020 2020 2020 3c64  row">.        <d
+000001e0: 6976 2063 6c61 7373 3d22 636f 6c2d 736d  iv class="col-sm
+000001f0: 2d35 2220 6964 3d22 7365 6172 6368 5f63  -5" id="search_c
+00000200: 6f6e 7461 696e 6572 223e 0a20 2020 2020  ontainer">.     
+00000210: 2020 2020 2020 203c 696e 7075 7420 6964         <input id
+00000220: 3d22 7365 6172 6368 220a 2020 2020 2020  ="search".      
+00000230: 2020 2020 2020 2020 2020 2020 2074 7970               typ
+00000240: 653d 2274 6578 7422 0a20 2020 2020 2020  e="text".       
+00000250: 2020 2020 2020 2020 2020 2020 6172 6961              aria
+00000260: 2d6c 6162 656c 3d22 5365 6172 6368 2066  -label="Search f
+00000270: 6f72 2061 6363 6f75 6e74 206f 7220 7072  or account or pr
+00000280: 6f6a 6563 7422 0a20 2020 2020 2020 2020  oject".         
+00000290: 2020 2020 2020 2020 2020 706c 6163 6568            placeh
+000002a0: 6f6c 6465 723d 2253 6561 7263 6820 666f  older="Search fo
+000002b0: 7220 616e 2061 6363 6f75 6e74 206f 7220  r an account or 
+000002c0: 7072 6f6a 6563 7422 0a20 2020 2020 2020  project".       
+000002d0: 2020 2020 2020 2020 2020 2020 636c 6173              clas
+000002e0: 733d 2266 6f72 6d2d 636f 6e74 726f 6c22  s="form-control"
+000002f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000300: 2020 2020 6175 746f 666f 6375 733e 0a20      autofocus>. 
+00000310: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00000320: 2020 3c2f 6469 763e 0a20 2020 207b 2520    </div>.    {% 
+00000330: 6966 2061 6363 6f75 6e74 2025 7d0a 2020  if account %}.  
+00000340: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
+00000350: 3d22 726f 7722 3e0a 2020 2020 2020 2020  ="row">.        
+00000360: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00000370: 636f 6c2d 736d 2d31 3222 3e0a 2020 2020  col-sm-12">.    
+00000380: 2020 2020 2020 2020 2020 2020 7b25 2069              {% i
+00000390: 6620 6e6f 7420 7365 6c65 6374 6564 5f70  f not selected_p
+000003a0: 726f 6a65 6374 2025 7d0a 2020 2020 2020  roject %}.      
+000003b0: 2020 2020 2020 2020 2020 2020 2020 3c68                <h
+000003c0: 323e 0a20 2020 2020 2020 2020 2020 2020  2>.             
+000003d0: 2020 2020 2020 2020 2020 207b 7b20 6163             {{ ac
+000003e0: 636f 756e 7420 7d7d 0a20 2020 2020 2020  count }}.       
+000003f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000400: 203c 666f 726d 2073 7479 6c65 3d22 6469   <form style="di
+00000410: 7370 6c61 793a 696e 6c69 6e65 2220 6d65  splay:inline" me
+00000420: 7468 6f64 3d22 706f 7374 2220 6163 7469  thod="post" acti
+00000430: 6f6e 3d22 7b25 2075 726c 2027 746f 6767  on="{% url 'togg
+00000440: 6c65 5f61 6374 6976 6527 2027 6163 636f  le_active' 'acco
+00000450: 756e 7427 2061 6363 6f75 6e74 2e69 6420  unt' account.id 
+00000460: 257d 223e 0a20 2020 2020 2020 2020 2020  %}">.           
+00000470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000480: 207b 2520 6373 7266 5f74 6f6b 656e 2025   {% csrf_token %
+00000490: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
+000004a0: 2020 2020 2020 2020 2020 2020 2020 7b23                {#
+000004b0: 2055 7369 6e67 2061 6e20 2769 6e70 7574   Using an 'input
+000004c0: 2073 7562 6d69 7427 2065 6c65 6d65 6e74   submit' element
+000004d0: 2077 6f75 6c64 2062 6520 7072 6566 6572   would be prefer
+000004e0: 6162 6c65 2074 6f20 616e 2061 6e63 686f  able to an ancho
+000004f0: 7220 6f6e 2074 6865 2066 6f6c 6c6f 7769  r on the followi
+00000500: 6e67 206c 696e 652c 2062 7574 2042 6f6f  ng line, but Boo
+00000510: 7473 7472 6170 2063 616e 2774 2073 7479  tstrap can't sty
+00000520: 6c65 2061 2027 7375 626d 6974 2720 6173  le a 'submit' as
+00000530: 2061 206c 6162 656c 2073 6f20 796f 7520   a label so you 
+00000540: 6861 7665 2074 6f20 7573 6520 616e 2061  have to use an a
+00000550: 6e63 686f 722e 2023 7d0a 2020 2020 2020  nchor. #}.      
+00000560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000570: 2020 2020 2020 3c61 206f 6e63 6c69 636b        <a onclick
+00000580: 3d22 2428 7468 6973 292e 636c 6f73 6573  ="$(this).closes
+00000590: 7428 2766 6f72 6d27 292e 7375 626d 6974  t('form').submit
+000005a0: 2829 220a 2020 2020 2020 2020 2020 2020  ()".            
+000005b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000005c0: 2020 2063 6c61 7373 3d22 6c61 6265 6c20     class="label 
+000005d0: 7b25 2069 6620 6163 636f 756e 742e 6163  {% if account.ac
+000005e0: 7469 7665 2025 7d6c 6162 656c 2d73 7563  tive %}label-suc
+000005f0: 6365 7373 7b25 2065 6c73 6520 257d 6c61  cess{% else %}la
+00000600: 6265 6c2d 6461 6e67 6572 7b25 2065 6e64  bel-danger{% end
+00000610: 6966 2025 7d22 0a20 2020 2020 2020 2020  if %}".         
+00000620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000630: 2020 2020 2020 7374 796c 653d 2276 6572        style="ver
+00000640: 7469 6361 6c2d 616c 6967 6e3a 3530 253b  tical-align:50%;
+00000650: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000670: 2020 2020 2020 2066 6f6e 742d 7369 7a65         font-size
+00000680: 3a73 6d61 6c6c 223e 0a20 2020 2020 2020  :small">.       
 00000690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000006a0: 207b 2520 6966 206e 6f74 2073 656c 6563   {% if not selec
-000006b0: 7465 645f 7072 6f6a 6563 7420 6f72 2070  ted_project or p
-000006c0: 726f 6a65 6374 203d 3d20 7365 6c65 6374  roject == select
-000006d0: 6564 5f70 726f 6a65 6374 2025 7d0a 2020  ed_project %}.  
-000006e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000006f0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
-00000700: 3d22 6833 223e 0a20 2020 2020 2020 2020  ="h3">.         
-00000710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000720: 2020 203c 6120 6f6e 636c 6963 6b3d 2274     <a onclick="t
-00000730: 6f67 676c 655f 6465 7461 696c 7328 7468  oggle_details(th
-00000740: 6973 2922 2064 6174 612d 746f 6767 6c65  is)" data-toggle
-00000750: 3d22 636f 6c6c 6170 7365 2220 6461 7461  ="collapse" data
-00000760: 2d74 6172 6765 743d 2223 7072 6f6a 6563  -target="#projec
-00000770: 745f 7b7b 2070 726f 6a65 6374 2e69 6420  t_{{ project.id 
-00000780: 7d7d 5f64 6574 6169 6c73 2220 636c 6173  }}_details" clas
-00000790: 733d 2270 6f69 6e74 6572 2220 7374 796c  s="pointer" styl
-000007a0: 653d 2274 6578 742d 6465 636f 7261 7469  e="text-decorati
-000007b0: 6f6e 3a6e 6f6e 6522 3e0a 2020 2020 2020  on:none">.      
-000007c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007d0: 2020 2020 2020 2020 2020 3c73 7061 6e20            <span 
-000007e0: 6964 3d22 7072 6f6a 6563 745f 7b7b 2070  id="project_{{ p
-000007f0: 726f 6a65 6374 2e69 6420 7d7d 5f63 6865  roject.id }}_che
-00000800: 7672 6f6e 2220 636c 6173 733d 2267 6c79  vron" class="gly
-00000810: 7068 6963 6f6e 207b 2520 6966 2073 656c  phicon {% if sel
-00000820: 6563 7465 645f 7072 6f6a 6563 7420 257d  ected_project %}
-00000830: 676c 7970 6869 636f 6e2d 6368 6576 726f  glyphicon-chevro
-00000840: 6e2d 646f 776e 7b25 2065 6c73 6520 257d  n-down{% else %}
-00000850: 676c 7970 6869 636f 6e2d 6368 6576 726f  glyphicon-chevro
-00000860: 6e2d 7269 6768 747b 2520 656e 6469 6620  n-right{% endif 
-00000870: 257d 2070 756c 6c2d 6c65 6674 2063 6865  %} pull-left che
-00000880: 7672 6f6e 223e 3c2f 7370 616e 3e0a 2020  vron"></span>.  
-00000890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000008a0: 2020 2020 2020 2020 2020 2020 2020 7b7b                {{
-000008b0: 2070 726f 6a65 6374 207d 7d0a 2020 2020   project }}.    
-000008c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000008d0: 2020 2020 2020 2020 3c2f 613e 0a20 2020          </a>.   
+000006a0: 2020 2020 2020 2020 207b 2520 6966 2061           {% if a
+000006b0: 6363 6f75 6e74 2e61 6374 6976 6520 257d  ccount.active %}
+000006c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000006d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000006e0: 2020 2020 2041 6374 6976 650a 2020 2020       Active.    
+000006f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000700: 2020 2020 2020 2020 2020 2020 7b25 2065              {% e
+00000710: 6c73 6520 257d 0a20 2020 2020 2020 2020  lse %}.         
+00000720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000730: 2020 2020 2020 2020 2020 2049 6e61 6374             Inact
+00000740: 6976 650a 2020 2020 2020 2020 2020 2020  ive.            
+00000750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000760: 2020 2020 7b25 2065 6e64 6966 2025 7d0a      {% endif %}.
+00000770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000780: 2020 2020 2020 2020 2020 2020 3c2f 613e              </a>
+00000790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000007a0: 2020 2020 2020 2020 203c 2f66 6f72 6d3e           </form>
+000007b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000007c0: 2020 2020 203c 2f68 323e 0a20 2020 2020       </h2>.     
+000007d0: 2020 2020 2020 2020 2020 207b 2520 656e             {% en
+000007e0: 6469 6620 257d 0a20 2020 2020 2020 2020  dif %}.         
+000007f0: 2020 2020 2020 207b 2520 666f 7220 7072         {% for pr
+00000800: 6f6a 6563 7420 696e 2061 6363 6f75 6e74  oject in account
+00000810: 2e70 726f 6a65 6374 5f73 6574 2e61 6c6c  .project_set.all
+00000820: 2025 7d0a 2020 2020 2020 2020 2020 2020   %}.            
+00000830: 2020 2020 2020 2020 7b25 2069 6620 6e6f          {% if no
+00000840: 7420 7365 6c65 6374 6564 5f70 726f 6a65  t selected_proje
+00000850: 6374 206f 7220 7072 6f6a 6563 7420 3d3d  ct or project ==
+00000860: 2073 656c 6563 7465 645f 7072 6f6a 6563   selected_projec
+00000870: 7420 257d 0a20 2020 2020 2020 2020 2020  t %}.           
+00000880: 2020 2020 2020 2020 2020 2020 203c 6469               <di
+00000890: 7620 636c 6173 733d 2268 3322 3e0a 2020  v class="h3">.  
+000008a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000008b0: 2020 2020 2020 2020 2020 3c61 206f 6e63            <a onc
+000008c0: 6c69 636b 3d22 746f 6767 6c65 5f64 6574  lick="toggle_det
+000008d0: 6169 6c73 2874 6869 7329 220a 2020 2020  ails(this)".    
 000008e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000008f0: 2020 2020 2020 2020 203c 666f 726d 2073           <form s
-00000900: 7479 6c65 3d22 6469 7370 6c61 793a 696e  tyle="display:in
-00000910: 6c69 6e65 2220 6d65 7468 6f64 3d22 706f  line" method="po
-00000920: 7374 2220 6163 7469 6f6e 3d22 7b25 2075  st" action="{% u
-00000930: 726c 2027 746f 6767 6c65 5f61 6374 6976  rl 'toggle_activ
-00000940: 6527 2027 7072 6f6a 6563 7427 2070 726f  e' 'project' pro
-00000950: 6a65 6374 2e69 6420 257d 223e 0a20 2020  ject.id %}">.   
-00000960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000970: 2020 2020 2020 2020 2020 2020 207b 2520               {% 
-00000980: 6373 7266 5f74 6f6b 656e 2025 7d0a 2020  csrf_token %}.  
+000008f0: 2020 2020 2020 2020 2020 2064 6174 612d             data-
+00000900: 746f 6767 6c65 3d22 636f 6c6c 6170 7365  toggle="collapse
+00000910: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00000920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000930: 2064 6174 612d 7461 7267 6574 3d22 2370   data-target="#p
+00000940: 726f 6a65 6374 5f7b 7b20 7072 6f6a 6563  roject_{{ projec
+00000950: 742e 6964 207d 7d5f 6465 7461 696c 7322  t.id }}_details"
+00000960: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000980: 636c 6173 733d 2270 6f69 6e74 6572 220a  class="pointer".
 00000990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000009a0: 2020 2020 2020 2020 2020 2020 2020 7b23                {#
-000009b0: 2055 7369 6e67 2061 6e20 2769 6e70 7574   Using an 'input
-000009c0: 2073 7562 6d69 7427 2065 6c65 6d65 6e74   submit' element
-000009d0: 2077 6f75 6c64 2062 6520 7072 6566 6572   would be prefer
-000009e0: 6162 6c65 2074 6f20 616e 2061 6e63 686f  able to an ancho
-000009f0: 7220 6f6e 2074 6865 2066 6f6c 6c6f 7769  r on the followi
-00000a00: 6e67 206c 696e 652c 2062 7574 2042 6f6f  ng line, but Boo
-00000a10: 7473 7472 6170 2063 616e 2774 2073 7479  tstrap can't sty
-00000a20: 6c65 2061 2027 7375 626d 6974 2720 6173  le a 'submit' as
-00000a30: 2061 206c 6162 656c 2073 6f20 796f 7520   a label so you 
-00000a40: 6861 7665 2074 6f20 7573 6520 616e 2061  have to use an a
-00000a50: 6e63 686f 722e 2023 7d0a 2020 2020 2020  nchor. #}.      
-00000a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000a70: 2020 2020 2020 2020 2020 3c61 206f 6e63            <a onc
-00000a80: 6c69 636b 3d22 2428 7468 6973 292e 636c  lick="$(this).cl
-00000a90: 6f73 6573 7428 2766 6f72 6d27 292e 7375  osest('form').su
-00000aa0: 626d 6974 2829 2220 636c 6173 733d 226c  bmit()" class="l
-00000ab0: 6162 656c 207b 2520 6966 2070 726f 6a65  abel {% if proje
-00000ac0: 6374 2e61 6374 6976 6520 257d 6c61 6265  ct.active %}labe
-00000ad0: 6c2d 7375 6363 6573 737b 2520 656c 7365  l-success{% else
-00000ae0: 2025 7d6c 6162 656c 2d64 616e 6765 727b   %}label-danger{
-00000af0: 2520 656e 6469 6620 257d 2220 7374 796c  % endif %}" styl
-00000b00: 653d 2276 6572 7469 6361 6c2d 616c 6967  e="vertical-alig
-00000b10: 6e3a 3530 253b 2066 6f6e 742d 7369 7a65  n:50%; font-size
-00000b20: 3a73 6d61 6c6c 223e 0a20 2020 2020 2020  :small">.       
-00000b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b40: 2020 2020 2020 2020 2020 2020 207b 2520               {% 
-00000b50: 6966 2070 726f 6a65 6374 2e61 6374 6976  if project.activ
-00000b60: 6520 257d 4163 7469 7665 7b25 2065 6c73  e %}Active{% els
-00000b70: 6520 257d 496e 6163 7469 7665 7b25 2065  e %}Inactive{% e
-00000b80: 6e64 6966 2025 7d0a 2020 2020 2020 2020  ndif %}.        
-00000b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ba0: 2020 2020 2020 2020 3c2f 613e 0a20 2020          </a>.   
-00000bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000bc0: 2020 2020 2020 2020 203c 2f66 6f72 6d3e           </form>
-00000bd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000be0: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
-00000bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000c00: 2020 2020 2020 2020 3c64 6976 2073 7479          <div sty
-00000c10: 6c65 3d22 6d61 7267 696e 2d6c 6566 743a  le="margin-left:
-00000c20: 3334 7078 223e 0a20 2020 2020 2020 2020  34px">.         
-00000c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000c40: 2020 207b 2520 6966 2073 656c 6563 7465     {% if selecte
-00000c50: 645f 7072 6f6a 6563 7420 257d 3c6c 6162  d_project %}<lab
-00000c60: 656c 2063 6c61 7373 3d22 636f 6e74 726f  el class="contro
-00000c70: 6c2d 6c61 6265 6c22 3e41 6363 6f75 6e74  l-label">Account
-00000c80: 3a3c 2f6c 6162 656c 3e20 3c61 2068 7265  :</label> <a hre
-00000c90: 663d 227b 2520 7572 6c20 2761 6363 6f75  f="{% url 'accou
-00000ca0: 6e74 2720 7072 6f6a 6563 742e 6163 636f  nt' project.acco
-00000cb0: 756e 742e 6964 2025 7d22 3e7b 7b20 7072  unt.id %}">{{ pr
-00000cc0: 6f6a 6563 742e 6163 636f 756e 7420 7d7d  oject.account }}
-00000cd0: 3c2f 613e 7b25 2065 6e64 6966 2025 7d0a  </a>{% endif %}.
-00000ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000cf0: 2020 2020 2020 2020 2020 2020 7b25 2069              {% i
-00000d00: 6620 7072 6f6a 6563 742e 6d61 6e61 6765  f project.manage
-00000d10: 725f 7365 742e 616c 6c20 257d 0a20 2020  r_set.all %}.   
-00000d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000d30: 2020 2020 2020 2020 2020 2020 203c 6469               <di
-00000d40: 763e 0a20 2020 2020 2020 2020 2020 2020  v>.             
-00000d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000d60: 2020 2020 2020 203c 7370 616e 2063 6c61         <span cla
-00000d70: 7373 3d22 636f 6e74 726f 6c2d 6c61 6265  ss="control-labe
-00000d80: 6c22 3e50 4973 3a3c 2f73 7061 6e3e 0a20  l">PIs:</span>. 
-00000d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000009a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000009b0: 7479 6c65 3d22 7465 7874 2d64 6563 6f72  tyle="text-decor
+000009c0: 6174 696f 6e3a 6e6f 6e65 223e 0a20 2020  ation:none">.   
+000009d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000009e0: 2020 2020 2020 2020 2020 2020 203c 7370               <sp
+000009f0: 616e 2069 643d 2270 726f 6a65 6374 5f7b  an id="project_{
+00000a00: 7b20 7072 6f6a 6563 742e 6964 207d 7d5f  { project.id }}_
+00000a10: 6368 6576 726f 6e22 0a20 2020 2020 2020  chevron".       
+00000a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a30: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00000a40: 6c61 7373 3d22 676c 7970 6869 636f 6e20  lass="glyphicon 
+00000a50: 7b25 2069 6620 7365 6c65 6374 6564 5f70  {% if selected_p
+00000a60: 726f 6a65 6374 2025 7d67 6c79 7068 6963  roject %}glyphic
+00000a70: 6f6e 2d63 6865 7672 6f6e 2d64 6f77 6e7b  on-chevron-down{
+00000a80: 2520 656c 7365 2025 7d67 6c79 7068 6963  % else %}glyphic
+00000a90: 6f6e 2d63 6865 7672 6f6e 2d72 6967 6874  on-chevron-right
+00000aa0: 7b25 2065 6e64 6966 2025 7d20 7075 6c6c  {% endif %} pull
+00000ab0: 2d6c 6566 7420 6368 6576 726f 6e22 3e3c  -left chevron"><
+00000ac0: 2f73 7061 6e3e 0a20 2020 2020 2020 2020  /span>.         
+00000ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ae0: 2020 2020 2020 207b 7b20 7072 6f6a 6563         {{ projec
+00000af0: 7420 7d7d 0a20 2020 2020 2020 2020 2020  t }}.           
+00000b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b10: 203c 2f61 3e0a 2020 2020 2020 2020 2020   </a>.          
+00000b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b30: 2020 3c66 6f72 6d20 7374 796c 653d 2264    <form style="d
+00000b40: 6973 706c 6179 3a69 6e6c 696e 6522 206d  isplay:inline" m
+00000b50: 6574 686f 643d 2270 6f73 7422 2061 6374  ethod="post" act
+00000b60: 696f 6e3d 227b 2520 7572 6c20 2774 6f67  ion="{% url 'tog
+00000b70: 676c 655f 6163 7469 7665 2720 2770 726f  gle_active' 'pro
+00000b80: 6a65 6374 2720 7072 6f6a 6563 742e 6964  ject' project.id
+00000b90: 2025 7d22 3e0a 2020 2020 2020 2020 2020   %}">.          
+00000ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000bb0: 2020 2020 2020 7b25 2063 7372 665f 746f        {% csrf_to
+00000bc0: 6b65 6e20 257d 0a20 2020 2020 2020 2020  ken %}.         
+00000bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000be0: 2020 2020 2020 207b 2320 5573 696e 6720         {# Using 
+00000bf0: 616e 2027 696e 7075 7420 7375 626d 6974  an 'input submit
+00000c00: 2720 656c 656d 656e 7420 776f 756c 6420  ' element would 
+00000c10: 6265 2070 7265 6665 7261 626c 6520 746f  be preferable to
+00000c20: 2061 6e20 616e 6368 6f72 206f 6e20 7468   an anchor on th
+00000c30: 6520 666f 6c6c 6f77 696e 6720 6c69 6e65  e following line
+00000c40: 2c20 6275 7420 426f 6f74 7374 7261 7020  , but Bootstrap 
+00000c50: 6361 6e27 7420 7374 796c 6520 6120 2773  can't style a 's
+00000c60: 7562 6d69 7427 2061 7320 6120 6c61 6265  ubmit' as a labe
+00000c70: 6c20 736f 2079 6f75 2068 6176 6520 746f  l so you have to
+00000c80: 2075 7365 2061 6e20 616e 6368 6f72 2e20   use an anchor. 
+00000c90: 237d 0a20 2020 2020 2020 2020 2020 2020  #}.             
+00000ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000cb0: 2020 203c 6120 6f6e 636c 6963 6b3d 2224     <a onclick="$
+00000cc0: 2874 6869 7329 2e63 6c6f 7365 7374 2827  (this).closest('
+00000cd0: 666f 726d 2729 2e73 7562 6d69 7428 2922  form').submit()"
+00000ce0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d00: 2020 2020 636c 6173 733d 226c 6162 656c      class="label
+00000d10: 207b 2520 6966 2070 726f 6a65 6374 2e61   {% if project.a
+00000d20: 6374 6976 6520 257d 6c61 6265 6c2d 7375  ctive %}label-su
+00000d30: 6363 6573 737b 2520 656c 7365 2025 7d6c  ccess{% else %}l
+00000d40: 6162 656c 2d64 616e 6765 727b 2520 656e  abel-danger{% en
+00000d50: 6469 6620 257d 220a 2020 2020 2020 2020  dif %}".        
+00000d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d70: 2020 2020 2020 2020 2020 2073 7479 6c65             style
+00000d80: 3d22 7665 7274 6963 616c 2d61 6c69 676e  ="vertical-align
+00000d90: 3a35 3025 3b0a 2020 2020 2020 2020 2020  :50%;.          
 00000da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000db0: 2020 203c 7370 616e 3e7b 7b20 7072 6f6a     <span>{{ proj
-00000dc0: 6563 742e 6d61 6e61 6765 725f 7365 742e  ect.manager_set.
-00000dd0: 616c 6c7c 6a6f 696e 3a22 2c20 2220 7d7d  all|join:", " }}
-00000de0: 3c2f 7370 616e 3e0a 2020 2020 2020 2020  </span>.        
-00000df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000e00: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+00000db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000dc0: 666f 6e74 2d73 697a 653a 736d 616c 6c22  font-size:small"
+00000dd0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00000de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000df0: 2020 2020 2020 7b25 2069 6620 7072 6f6a        {% if proj
+00000e00: 6563 742e 6163 7469 7665 2025 7d0a 2020  ect.active %}.  
 00000e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000e20: 2020 2020 2020 2020 2020 207b 2520 656e             {% en
-00000e30: 6469 6620 257d 0a20 2020 2020 2020 2020  dif %}.         
+00000e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e30: 2020 2020 2020 4163 7469 7665 0a20 2020        Active.   
 00000e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000e50: 2020 203c 6469 7620 6964 3d22 7072 6f6a     <div id="proj
-00000e60: 6563 745f 7b7b 2070 726f 6a65 6374 2e69  ect_{{ project.i
-00000e70: 6420 7d7d 5f64 6574 6169 6c73 2220 636c  d }}_details" cl
-00000e80: 6173 733d 2263 6f6c 6c61 7073 6520 7b25  ass="collapse {%
-00000e90: 2069 6620 7365 6c65 6374 6564 5f70 726f   if selected_pro
-00000ea0: 6a65 6374 2025 7d69 6e7b 2520 656e 6469  ject %}in{% endi
-00000eb0: 6620 257d 223e 0a20 2020 2020 2020 2020  f %}">.         
-00000ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ed0: 2020 2020 2020 203c 6469 763e 0a20 2020         <div>.   
-00000ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000f00: 203c 7370 616e 2063 6c61 7373 3d22 636f   <span class="co
-00000f10: 6e74 726f 6c2d 6c61 6265 6c22 3e7b 7b20  ntrol-label">{{ 
-00000f20: 2270 726f 6a65 6374 735f 616e 645f 6163  "projects_and_ac
-00000f30: 636f 756e 7473 227c 6375 7374 6f6d 697a  counts"|customiz
-00000f40: 6174 696f 6e3a 2270 726f 6a65 6374 5f61  ation:"project_a
-00000f50: 7070 6c69 6361 7469 6f6e 5f69 6465 6e74  pplication_ident
-00000f60: 6966 6965 725f 6e61 6d65 2220 7d7d 3a3c  ifier_name" }}:<
-00000f70: 2f73 7061 6e3e 0a20 2020 2020 2020 2020  /span>.         
-00000f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000f90: 2020 2020 2020 2020 2020 203c 7370 616e             <span
-00000fa0: 3e7b 7b20 7072 6f6a 6563 742e 6170 706c  >{{ project.appl
-00000fb0: 6963 6174 696f 6e5f 6964 656e 7469 6669  ication_identifi
-00000fc0: 6572 207d 7d3c 2f73 7061 6e3e 0a20 2020  er }}</span>.   
-00000fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000fe0: 2020 2020 2020 2020 2020 2020 203c 2f64               </d
-00000ff0: 6976 3e0a 0909 0909 0909 0909 7b25 2069  iv>.........{% i
-00001000: 6620 7072 6f6a 6563 742e 6469 7363 6970  f project.discip
-00001010: 6c69 6e65 2025 7d0a 0909 0909 0909 0909  line %}.........
-00001020: 093c 6469 763e 0a09 0909 0909 0909 0909  .<div>..........
-00001030: 093c 7370 616e 2063 6c61 7373 3d22 636f  .<span class="co
-00001040: 6e74 726f 6c2d 6c61 6265 6c22 3e44 6973  ntrol-label">Dis
-00001050: 6369 706c 696e 653a 3c2f 7370 616e 3e0a  cipline:</span>.
-00001060: 0909 0909 0909 0909 0909 3c73 7061 6e3e  ..........<span>
-00001070: 7b7b 2070 726f 6a65 6374 2e64 6973 6369  {{ project.disci
-00001080: 706c 696e 6520 7d7d 3c2f 7370 616e 3e0a  pline }}</span>.
-00001090: 0909 0909 0909 0909 093c 2f64 6976 3e0a  .........</div>.
-000010a0: 0909 0909 0909 0909 7b25 2065 6e64 6966  ........{% endif
-000010b0: 2025 7d0a 2020 2020 2020 2020 2020 2020   %}.            
+00000e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e60: 207b 2520 656c 7365 2025 7d0a 2020 2020   {% else %}.    
+00000e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e90: 2020 2020 496e 6163 7469 7665 0a20 2020      Inactive.   
+00000ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ec0: 207b 2520 656e 6469 6620 257d 0a20 2020   {% endif %}.   
+00000ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ee0: 2020 2020 2020 2020 2020 2020 203c 2f61               </a
+00000ef0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00000f00: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
+00000f10: 666f 726d 3e0a 2020 2020 2020 2020 2020  form>.          
+00000f20: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
+00000f30: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
+00000f40: 2020 2020 2020 2020 2020 2020 203c 6469               <di
+00000f50: 7620 7374 796c 653d 226d 6172 6769 6e2d  v style="margin-
+00000f60: 6c65 6674 3a33 3470 7822 3e0a 2020 2020  left:34px">.    
+00000f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f80: 2020 2020 2020 2020 7b25 2069 6620 7365          {% if se
+00000f90: 6c65 6374 6564 5f70 726f 6a65 6374 2025  lected_project %
+00000fa0: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
+00000fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000fc0: 2020 3c6c 6162 656c 2063 6c61 7373 3d22    <label class="
+00000fd0: 636f 6e74 726f 6c2d 6c61 6265 6c22 3e41  control-label">A
+00000fe0: 6363 6f75 6e74 3a3c 2f6c 6162 656c 3e0a  ccount:</label>.
+00000ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001010: 3c61 2068 7265 663d 227b 2520 7572 6c20  <a href="{% url 
+00001020: 2761 6363 6f75 6e74 2720 7072 6f6a 6563  'account' projec
+00001030: 742e 6163 636f 756e 742e 6964 2025 7d22  t.account.id %}"
+00001040: 3e7b 7b20 7072 6f6a 6563 742e 6163 636f  >{{ project.acco
+00001050: 756e 7420 7d7d 3c2f 613e 0a20 2020 2020  unt }}</a>.     
+00001060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001070: 2020 2020 2020 207b 2520 656e 6469 6620         {% endif 
+00001080: 257d 0a20 2020 2020 2020 2020 2020 2020  %}.             
+00001090: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+000010a0: 2520 6966 2070 726f 6a65 6374 2e6d 616e  % if project.man
+000010b0: 6167 6572 5f73 6574 2e61 6c6c 2025 7d0a  ager_set.all %}.
 000010c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000010d0: 2020 2020 7b25 2069 6620 7072 6f6a 6563      {% if projec
-000010e0: 742e 7374 6172 745f 6461 7465 2025 7d0a  t.start_date %}.
+000010d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000010e0: 3c64 6976 3e0a 2020 2020 2020 2020 2020  <div>.          
 000010f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001110: 2020 2020 3c64 6976 3e0a 2020 2020 2020      <div>.      
-00001120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001140: 2020 3c73 7061 6e20 636c 6173 733d 2263    <span class="c
-00001150: 6f6e 7472 6f6c 2d6c 6162 656c 223e 5374  ontrol-label">St
-00001160: 6172 7420 4461 7465 3a3c 2f73 7061 6e3e  art Date:</span>
-00001170: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001190: 2020 2020 2020 2020 203c 7370 616e 3e7b           <span>{
-000011a0: 7b20 7072 6f6a 6563 742e 7374 6172 745f  { project.start_
-000011b0: 6461 7465 207d 7d3c 2f73 7061 6e3e 0a20  date }}</span>. 
-000011c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000011d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000011e0: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
-000011f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001200: 2020 2020 2020 2020 2020 7b25 2065 6e64            {% end
-00001210: 6966 2025 7d0a 2020 2020 2020 2020 2020  if %}.          
-00001220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001230: 2020 2020 2020 3c64 6976 2069 643d 2270        <div id="p
-00001240: 726f 6a65 6374 5f7b 7b20 7072 6f6a 6563  roject_{{ projec
-00001250: 742e 6964 207d 7d5f 7573 6572 7322 3e0a  t.id }}_users">.
+00001100: 2020 2020 2020 2020 2020 3c73 7061 6e20            <span 
+00001110: 636c 6173 733d 2263 6f6e 7472 6f6c 2d6c  class="control-l
+00001120: 6162 656c 223e 5049 733a 3c2f 7370 616e  abel">PIs:</span
+00001130: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00001140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001150: 2020 2020 2020 3c73 7061 6e3e 7b7b 2070        <span>{{ p
+00001160: 726f 6a65 6374 2e6d 616e 6167 6572 5f73  roject.manager_s
+00001170: 6574 2e61 6c6c 7c6a 6f69 6e3a 222c 2022  et.all|join:", "
+00001180: 207d 7d3c 2f73 7061 6e3e 0a20 2020 2020   }}</span>.     
+00001190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000011a0: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+000011b0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+000011c0: 2020 2020 2020 2020 2020 2020 2020 7b25                {%
+000011d0: 2065 6e64 6966 2025 7d0a 2020 2020 2020   endif %}.      
+000011e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000011f0: 2020 2020 2020 3c64 6976 2069 643d 2270        <div id="p
+00001200: 726f 6a65 6374 5f7b 7b20 7072 6f6a 6563  roject_{{ projec
+00001210: 742e 6964 207d 7d5f 6465 7461 696c 7322  t.id }}_details"
+00001220: 2063 6c61 7373 3d22 636f 6c6c 6170 7365   class="collapse
+00001230: 207b 2520 6966 2073 656c 6563 7465 645f   {% if selected_
+00001240: 7072 6f6a 6563 7420 257d 696e 7b25 2065  project %}in{% e
+00001250: 6e64 6966 2025 7d22 3e0a 2020 2020 2020  ndif %}">.      
 00001260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001280: 2020 2020 7b25 2069 6e63 6c75 6465 2027      {% include '
-00001290: 6163 636f 756e 7473 5f61 6e64 5f70 726f  accounts_and_pro
-000012a0: 6a65 6374 732f 7573 6572 735f 666f 725f  jects/users_for_
-000012b0: 7072 6f6a 6563 742e 6874 6d6c 2720 7769  project.html' wi
-000012c0: 7468 2075 7365 7273 3d70 726f 6a65 6374  th users=project
-000012d0: 2e75 7365 725f 7365 742e 616c 6c20 257d  .user_set.all %}
-000012e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000012f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001300: 203c 2f64 6976 3e0a 0909 0909 0909 0909   </div>.........
-00001310: 7b25 2069 6620 616c 6c6f 775f 646f 6375  {% if allow_docu
-00001320: 6d65 6e74 5f75 706c 6f61 6420 6f72 2070  ment_upload or p
-00001330: 726f 6a65 6374 2e70 726f 6a65 6374 5f64  roject.project_d
-00001340: 6f63 756d 656e 7473 2e61 6c6c 2025 7d0a  ocuments.all %}.
-00001350: 0909 0909 0909 0909 093c 6469 7620 6964  .........<div id
-00001360: 3d22 7072 6f6a 6563 745f 7b7b 2070 726f  ="project_{{ pro
-00001370: 6a65 6374 2e69 6420 7d7d 5f64 6f63 756d  ject.id }}_docum
-00001380: 656e 7473 223e 0a09 0909 0909 0909 0909  ents">..........
-00001390: 097b 2520 696e 636c 7564 6520 2761 6363  .{% include 'acc
-000013a0: 6f75 6e74 735f 616e 645f 7072 6f6a 6563  ounts_and_projec
-000013b0: 7473 2f64 6f63 756d 656e 7473 5f66 6f72  ts/documents_for
-000013c0: 5f70 726f 6a65 6374 2e68 746d 6c27 2077  _project.html' w
-000013d0: 6974 6820 646f 6375 6d65 6e74 733d 7072  ith documents=pr
-000013e0: 6f6a 6563 742e 7072 6f6a 6563 745f 646f  oject.project_do
-000013f0: 6375 6d65 6e74 732e 616c 6c20 257d 0a09  cuments.all %}..
-00001400: 0909 0909 0909 0909 3c2f 6469 763e 0a09  ........</div>..
-00001410: 0909 0909 0909 097b 2520 656e 6469 6620  .......{% endif 
-00001420: 257d 0a20 2020 2020 2020 2020 2020 2020  %}.             
-00001430: 2020 2020 2020 2020 2020 2020 2020 203c                 <
-00001440: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
-00001450: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
-00001460: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
-00001470: 2020 2020 2020 2020 207b 2520 656e 6469           {% endi
-00001480: 6620 257d 0a09 0909 097b 2520 656d 7074  f %}.....{% empt
-00001490: 7920 257d 0a09 0909 0909 3c68 343e 5468  y %}......<h4>Th
-000014a0: 6973 2061 6363 6f75 6e74 2064 6f65 7320  is account does 
-000014b0: 6e6f 7420 6861 7665 2061 6e79 2070 726f  not have any pro
-000014c0: 6a65 6374 733c 2f68 343e 0a09 0909 097b  jects</h4>.....{
-000014d0: 2520 656e 6466 6f72 2025 7d0a 0909 093c  % endfor %}....<
-000014e0: 2f64 6976 3e0a 0909 3c2f 6469 763e 0a09  /div>...</div>..
-000014f0: 7b25 2065 6e64 6966 2025 7d0a 093c 7363  {% endif %}..<sc
-00001500: 7269 7074 3e0a 0909 6675 6e63 7469 6f6e  ript>...function
-00001510: 2067 6574 5f70 726f 6a65 6374 5f6f 725f   get_project_or_
-00001520: 6163 636f 756e 7428 6a71 7565 7279 5f65  account(jquery_e
-00001530: 7665 6e74 2c20 7365 6172 6368 5f73 656c  vent, search_sel
-00001540: 6563 7469 6f6e 2c20 6461 7461 7365 745f  ection, dataset_
-00001550: 6e61 6d65 290a 0909 7b0a 0909 0969 6628  name)...{....if(
-00001560: 7365 6172 6368 5f73 656c 6563 7469 6f6e  search_selection
-00001570: 2e74 7970 6520 3d3d 3d20 2770 726f 6a65  .type === 'proje
-00001580: 6374 2729 0a09 0909 0977 696e 646f 772e  ct').....window.
-00001590: 6c6f 6361 7469 6f6e 2e68 7265 6620 3d20  location.href = 
-000015a0: 227b 2520 7572 6c20 2770 726f 6a65 6374  "{% url 'project
-000015b0: 2720 3939 3920 257d 222e 7265 706c 6163  ' 999 %}".replac
-000015c0: 6528 2739 3939 272c 2073 6561 7263 685f  e('999', search_
-000015d0: 7365 6c65 6374 696f 6e2e 6964 293b 0a09  selection.id);..
-000015e0: 0909 656c 7365 2069 6628 7365 6172 6368  ..else if(search
-000015f0: 5f73 656c 6563 7469 6f6e 2e74 7970 6520  _selection.type 
-00001600: 3d3d 3d20 2761 6363 6f75 6e74 2729 0a09  === 'account')..
-00001610: 0909 0977 696e 646f 772e 6c6f 6361 7469  ...window.locati
-00001620: 6f6e 2e68 7265 6620 3d20 227b 2520 7572  on.href = "{% ur
-00001630: 6c20 2761 6363 6f75 6e74 2720 3939 3920  l 'account' 999 
-00001640: 257d 222e 7265 706c 6163 6528 2739 3939  %}".replace('999
-00001650: 272c 2073 6561 7263 685f 7365 6c65 6374  ', search_select
-00001660: 696f 6e2e 6964 293b 0a09 097d 0a09 0966  ion.id);...}...f
-00001670: 756e 6374 696f 6e20 6164 645f 7573 6572  unction add_user
-00001680: 5f74 6f5f 7072 6f6a 6563 7428 6a71 7565  _to_project(jque
-00001690: 7279 5f65 7665 6e74 2c20 7365 6172 6368  ry_event, search
-000016a0: 5f73 656c 6563 7469 6f6e 2c20 6461 7461  _selection, data
-000016b0: 7365 745f 6e61 6d65 290a 0909 7b0a 0909  set_name)...{...
-000016c0: 096c 6574 2070 726f 6a65 6374 5f69 6420  .let project_id 
-000016d0: 3d20 2428 7468 6973 292e 6461 7461 2827  = $(this).data('
-000016e0: 7072 6f6a 6563 742d 6964 2729 3b0a 0909  project-id');...
-000016f0: 0924 2874 6869 7329 2e74 7970 6561 6865  .$(this).typeahe
-00001700: 6164 2827 7661 6c27 2c20 2727 292e 666f  ad('val', '').fo
-00001710: 6375 7328 293b 0a09 0909 6c65 7420 636f  cus();....let co
-00001720: 6d70 6c65 7465 5f63 616c 6c62 6163 6b20  mplete_callback 
-00001730: 3d20 616a 6178 5f63 6f6d 706c 6574 655f  = ajax_complete_
-00001740: 6361 6c6c 6261 636b 2827 556e 6162 6c65  callback('Unable
-00001750: 2074 6f20 6164 6420 7573 6572 2074 6f20   to add user to 
-00001760: 7072 6f6a 6563 7427 293b 0a09 0909 2428  project');....$(
-00001770: 2223 7072 6f6a 6563 745f 2220 2b20 7072  "#project_" + pr
-00001780: 6f6a 6563 745f 6964 202b 2022 5f75 7365  oject_id + "_use
-00001790: 7273 2229 2e6c 6f61 6428 227b 2520 7572  rs").load("{% ur
-000017a0: 6c20 2761 6464 5f75 7365 725f 746f 5f70  l 'add_user_to_p
-000017b0: 726f 6a65 6374 2720 257d 222c 207b 2775  roject' %}", {'u
-000017c0: 7365 725f 6964 273a 2073 6561 7263 685f  ser_id': search_
-000017d0: 7365 6c65 6374 696f 6e2e 6964 2c20 2770  selection.id, 'p
-000017e0: 726f 6a65 6374 5f69 6427 3a20 7072 6f6a  roject_id': proj
-000017f0: 6563 745f 6964 2c20 2763 7372 666d 6964  ect_id, 'csrfmid
-00001800: 646c 6577 6172 6574 6f6b 656e 273a 2027  dlewaretoken': '
-00001810: 7b7b 2063 7372 665f 746f 6b65 6e20 7d7d  {{ csrf_token }}
-00001820: 277d 2c20 636f 6d70 6c65 7465 5f63 616c  '}, complete_cal
-00001830: 6c62 6163 6b29 3b0a 0909 7d0a 0909 6675  lback);...}...fu
-00001840: 6e63 7469 6f6e 2072 656d 6f76 655f 7573  nction remove_us
-00001850: 6572 5f66 726f 6d5f 7072 6f6a 6563 7428  er_from_project(
-00001860: 7573 6572 5f69 642c 2070 726f 6a65 6374  user_id, project
-00001870: 5f69 6429 0a09 097b 0a09 0909 6c65 7420  _id)...{....let 
-00001880: 636f 6d70 6c65 7465 5f63 616c 6c62 6163  complete_callbac
-00001890: 6b20 3d20 616a 6178 5f63 6f6d 706c 6574  k = ajax_complet
-000018a0: 655f 6361 6c6c 6261 636b 2827 556e 6162  e_callback('Unab
-000018b0: 6c65 2074 6f20 7265 6d6f 7665 2075 7365  le to remove use
-000018c0: 7220 6672 6f6d 2070 726f 6a65 6374 2729  r from project')
-000018d0: 3b0a 0909 0924 2822 2370 726f 6a65 6374  ;....$("#project
-000018e0: 5f22 202b 2070 726f 6a65 6374 5f69 6420  _" + project_id 
-000018f0: 2b20 225f 7573 6572 7322 292e 6c6f 6164  + "_users").load
-00001900: 2822 7b25 2075 726c 2027 7265 6d6f 7665  ("{% url 'remove
-00001910: 5f75 7365 725f 6672 6f6d 5f70 726f 6a65  _user_from_proje
-00001920: 6374 2720 257d 222c 207b 2775 7365 725f  ct' %}", {'user_
-00001930: 6964 273a 2075 7365 725f 6964 2c20 2770  id': user_id, 'p
-00001940: 726f 6a65 6374 5f69 6427 3a20 7072 6f6a  roject_id': proj
-00001950: 6563 745f 6964 2c20 2763 7372 666d 6964  ect_id, 'csrfmid
-00001960: 646c 6577 6172 6574 6f6b 656e 273a 2027  dlewaretoken': '
-00001970: 7b7b 2063 7372 665f 746f 6b65 6e20 7d7d  {{ csrf_token }}
-00001980: 277d 2c20 636f 6d70 6c65 7465 5f63 616c  '}, complete_cal
-00001990: 6c62 6163 6b29 3b0a 0909 7d0a 2020 2020  lback);...}.    
-000019a0: 2020 2020 6675 6e63 7469 6f6e 2061 6464      function add
-000019b0: 5f64 6f63 756d 656e 745f 746f 5f70 726f  _document_to_pro
-000019c0: 6a65 6374 2870 726f 6a65 6374 5f69 642c  ject(project_id,
-000019d0: 2066 6f72 6d29 0a20 2020 2020 2020 207b   form).        {
-000019e0: 0a20 2020 2020 2020 2020 2020 206c 6574  .            let
-000019f0: 2063 6f6d 706c 6574 655f 6361 6c6c 6261   complete_callba
-00001a00: 636b 203d 2061 6a61 785f 636f 6d70 6c65  ck = ajax_comple
-00001a10: 7465 5f63 616c 6c62 6163 6b28 2755 6e61  te_callback('Una
-00001a20: 626c 6520 746f 2061 6464 2064 6f63 756d  ble to add docum
-00001a30: 656e 7420 746f 2070 726f 6a65 6374 2729  ent to project')
-00001a40: 3b0a 2020 2020 2020 2020 2020 2020 2428  ;.            $(
-00001a50: 2223 7072 6f6a 6563 745f 2220 2b20 7072  "#project_" + pr
-00001a60: 6f6a 6563 745f 6964 202b 2022 5f64 6f63  oject_id + "_doc
-00001a70: 756d 656e 7473 2229 2e6c 6f61 645f 6d75  uments").load_mu
-00001a80: 6c74 6970 6172 7428 666f 726d 2e61 6374  ltipart(form.act
-00001a90: 696f 6e2c 2066 6f72 6d2c 2063 6f6d 706c  ion, form, compl
-00001aa0: 6574 655f 6361 6c6c 6261 636b 293b 0a09  ete_callback);..
-00001ab0: 097d 0a20 2020 2020 2020 2066 756e 6374  .}.        funct
-00001ac0: 696f 6e20 7265 6d6f 7665 5f64 6f63 756d  ion remove_docum
-00001ad0: 656e 745f 6672 6f6d 5f70 726f 6a65 6374  ent_from_project
-00001ae0: 2875 726c 2c20 7072 6f6a 6563 745f 6964  (url, project_id
-00001af0: 290a 0909 7b0a 0909 096c 6574 2063 6f6d  )...{....let com
-00001b00: 706c 6574 655f 6361 6c6c 6261 636b 203d  plete_callback =
-00001b10: 2061 6a61 785f 636f 6d70 6c65 7465 5f63   ajax_complete_c
-00001b20: 616c 6c62 6163 6b28 2755 6e61 626c 6520  allback('Unable 
-00001b30: 746f 2072 656d 6f76 6520 646f 6375 6d65  to remove docume
-00001b40: 6e74 2066 726f 6d20 7072 6f6a 6563 7427  nt from project'
-00001b50: 293b 0a09 0909 2428 2223 7072 6f6a 6563  );....$("#projec
-00001b60: 745f 2220 2b20 7072 6f6a 6563 745f 6964  t_" + project_id
-00001b70: 202b 2022 5f64 6f63 756d 656e 7473 2229   + "_documents")
-00001b80: 2e6c 6f61 6428 7572 6c2c 207b 2763 7372  .load(url, {'csr
-00001b90: 666d 6964 646c 6577 6172 6574 6f6b 656e  fmiddlewaretoken
-00001ba0: 273a 2027 7b7b 2063 7372 665f 746f 6b65  ': '{{ csrf_toke
-00001bb0: 6e20 7d7d 277d 2c20 636f 6d70 6c65 7465  n }}'}, complete
-00001bc0: 5f63 616c 6c62 6163 6b29 3b0a 0909 7d0a  _callback);...}.
-00001bd0: 2020 2020 2020 2020 6675 6e63 7469 6f6e          function
-00001be0: 2072 6573 6574 5f61 7574 6f63 6f6d 706c   reset_autocompl
-00001bf0: 6574 6528 290a 2020 2020 2020 2020 7b0a  ete().        {.
-00001c00: 0909 0924 2827 2e75 7365 725f 7365 6172  ...$('.user_sear
-00001c10: 6368 2729 2e61 7574 6f63 6f6d 706c 6574  ch').autocomplet
-00001c20: 6528 2775 7365 7273 272c 2061 6464 5f75  e('users', add_u
-00001c30: 7365 725f 746f 5f70 726f 6a65 6374 2c20  ser_to_project, 
-00001c40: 7b7b 2075 7365 7273 7c6a 736f 6e5f 7365  {{ users|json_se
-00001c50: 6172 6368 5f62 6173 6520 7d7d 293b 0a20  arch_base }});. 
-00001c60: 2020 2020 2020 207d 0a09 0966 756e 6374         }...funct
-00001c70: 696f 6e20 6f6e 5f6c 6f61 6428 290a 0909  ion on_load()...
-00001c80: 7b0a 0909 0924 2827 2373 6561 7263 6827  {....$('#search'
-00001c90: 292e 6175 746f 636f 6d70 6c65 7465 2827  ).autocomplete('
-00001ca0: 6163 636f 756e 7473 5f61 6e64 5f70 726f  accounts_and_pro
-00001cb0: 6a65 6374 7327 2c20 6765 745f 7072 6f6a  jects', get_proj
-00001cc0: 6563 745f 6f72 5f61 6363 6f75 6e74 2c20  ect_or_account, 
-00001cd0: 7b25 206a 736f 6e5f 7365 6172 6368 5f62  {% json_search_b
-00001ce0: 6173 655f 7769 7468 5f65 7874 7261 5f66  ase_with_extra_f
-00001cf0: 6965 6c64 7320 6163 636f 756e 7473 5f61  ields accounts_a
-00001d00: 6e64 5f70 726f 6a65 6374 7320 2761 7070  nd_projects 'app
-00001d10: 6c69 6361 7469 6f6e 5f69 6465 6e74 6966  lication_identif
-00001d20: 6965 7227 2064 6973 706c 6179 3d27 6469  ier' display='di
-00001d30: 7370 6c61 795f 7769 7468 5f73 7461 7475  splay_with_statu
-00001d40: 7327 2025 7d29 3b0a 2020 2020 2020 2020  s' %});.        
-00001d50: 2020 2020 7265 7365 745f 6175 746f 636f      reset_autoco
-00001d60: 6d70 6c65 7465 2829 3b0a 0909 7d0a 0909  mplete();...}...
-00001d70: 7769 6e64 6f77 2e61 6464 4576 656e 744c  window.addEventL
-00001d80: 6973 7465 6e65 7228 276c 6f61 6427 2c20  istener('load', 
-00001d90: 6f6e 5f6c 6f61 642c 2074 7275 6529 3b0a  on_load, true);.
-00001da0: 093c 2f73 6372 6970 743e 0a09 3c73 7479  .</script>..<sty
-00001db0: 6c65 3e0a 0909 2373 6561 7263 685f 636f  le>...#search_co
-00001dc0: 6e74 6169 6e65 7220 2e74 742d 6472 6f70  ntainer .tt-drop
-00001dd0: 646f 776e 2d6d 656e 750a 0909 7b0a 0909  down-menu...{...
-00001de0: 096d 696e 2d77 6964 7468 3a20 3430 3070  .min-width: 400p
-00001df0: 783b 0a09 0909 6d61 782d 6865 6967 6874  x;....max-height
-00001e00: 3a20 3630 3070 783b 0a09 097d 0a09 3c2f  : 600px;...}..</
-00001e10: 7374 796c 653e 0a7b 2520 656e 6462 6c6f  style>.{% endblo
-00001e20: 636b 2025 7d                             ck %}
+00001270: 2020 2020 2020 2020 2020 3c64 6976 3e0a            <div>.
+00001280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000012a0: 2020 2020 3c73 7061 6e20 636c 6173 733d      <span class=
+000012b0: 2263 6f6e 7472 6f6c 2d6c 6162 656c 223e  "control-label">
+000012c0: 7b7b 2022 7072 6f6a 6563 7473 5f61 6e64  {{ "projects_and
+000012d0: 5f61 6363 6f75 6e74 7322 7c63 7573 746f  _accounts"|custo
+000012e0: 6d69 7a61 7469 6f6e 3a22 7072 6f6a 6563  mization:"projec
+000012f0: 745f 6170 706c 6963 6174 696f 6e5f 6964  t_application_id
+00001300: 656e 7469 6669 6572 5f6e 616d 6522 207d  entifier_name" }
+00001310: 7d3a 3c2f 7370 616e 3e0a 2020 2020 2020  }:</span>.      
+00001320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001330: 2020 2020 2020 2020 2020 2020 2020 3c73                <s
+00001340: 7061 6e3e 7b7b 2070 726f 6a65 6374 2e61  pan>{{ project.a
+00001350: 7070 6c69 6361 7469 6f6e 5f69 6465 6e74  pplication_ident
+00001360: 6966 6965 7220 7d7d 3c2f 7370 616e 3e0a  ifier }}</span>.
+00001370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001390: 3c2f 6469 763e 0a20 2020 2020 2020 2020  </div>.         
+000013a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000013b0: 2020 2020 2020 207b 2520 6966 2070 726f         {% if pro
+000013c0: 6a65 6374 2e64 6973 6369 706c 696e 6520  ject.discipline 
+000013d0: 257d 0a20 2020 2020 2020 2020 2020 2020  %}.             
+000013e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000013f0: 2020 2020 2020 203c 6469 763e 0a20 2020         <div>.   
+00001400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001420: 2020 2020 203c 7370 616e 2063 6c61 7373       <span class
+00001430: 3d22 636f 6e74 726f 6c2d 6c61 6265 6c22  ="control-label"
+00001440: 3e44 6973 6369 706c 696e 653a 3c2f 7370  >Discipline:</sp
+00001450: 616e 3e0a 2020 2020 2020 2020 2020 2020  an>.            
+00001460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001470: 2020 2020 2020 2020 2020 2020 3c73 7061              <spa
+00001480: 6e3e 7b7b 2070 726f 6a65 6374 2e64 6973  n>{{ project.dis
+00001490: 6369 706c 696e 6520 7d7d 3c2f 7370 616e  cipline }}</span
+000014a0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+000014b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000014c0: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+000014d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000014e0: 2020 2020 2020 2020 2020 2020 207b 2520               {% 
+000014f0: 656e 6469 6620 257d 0a20 2020 2020 2020  endif %}.       
+00001500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001510: 2020 2020 2020 2020 207b 2520 6966 2070           {% if p
+00001520: 726f 6a65 6374 2e73 7461 7274 5f64 6174  roject.start_dat
+00001530: 6520 257d 0a20 2020 2020 2020 2020 2020  e %}.           
+00001540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001550: 2020 2020 2020 2020 203c 6469 763e 0a20           <div>. 
+00001560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001580: 2020 2020 2020 203c 7370 616e 2063 6c61         <span cla
+00001590: 7373 3d22 636f 6e74 726f 6c2d 6c61 6265  ss="control-labe
+000015a0: 6c22 3e53 7461 7274 2044 6174 653a 3c2f  l">Start Date:</
+000015b0: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
+000015c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000015d0: 2020 2020 2020 2020 2020 2020 2020 3c73                <s
+000015e0: 7061 6e3e 7b7b 2070 726f 6a65 6374 2e73  pan>{{ project.s
+000015f0: 7461 7274 5f64 6174 6520 7d7d 3c2f 7370  tart_date }}</sp
+00001600: 616e 3e0a 2020 2020 2020 2020 2020 2020  an>.            
+00001610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001620: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+00001630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001640: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+00001650: 2520 656e 6469 6620 257d 0a20 2020 2020  % endif %}.     
+00001660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001670: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
+00001680: 6964 3d22 7072 6f6a 6563 745f 7b7b 2070  id="project_{{ p
+00001690: 726f 6a65 6374 2e69 6420 7d7d 5f75 7365  roject.id }}_use
+000016a0: 7273 223e 0a20 2020 2020 2020 2020 2020  rs">.           
+000016b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000016c0: 2020 2020 2020 2020 207b 2520 696e 636c           {% incl
+000016d0: 7564 6520 2761 6363 6f75 6e74 735f 616e  ude 'accounts_an
+000016e0: 645f 7072 6f6a 6563 7473 2f75 7365 7273  d_projects/users
+000016f0: 5f66 6f72 5f70 726f 6a65 6374 2e68 746d  _for_project.htm
+00001700: 6c27 2077 6974 6820 7573 6572 733d 7072  l' with users=pr
+00001710: 6f6a 6563 742e 7573 6572 5f73 6574 2e61  oject.user_set.a
+00001720: 6c6c 2025 7d0a 2020 2020 2020 2020 2020  ll %}.          
+00001730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001740: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00001750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001760: 2020 2020 2020 2020 2020 2020 207b 2520               {% 
+00001770: 6966 2061 6c6c 6f77 5f64 6f63 756d 656e  if allow_documen
+00001780: 745f 7570 6c6f 6164 206f 7220 7072 6f6a  t_upload or proj
+00001790: 6563 742e 7072 6f6a 6563 745f 646f 6375  ect.project_docu
+000017a0: 6d65 6e74 732e 616c 6c20 257d 0a20 2020  ments.all %}.   
+000017b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000017c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000017d0: 203c 6469 7620 6964 3d22 7072 6f6a 6563   <div id="projec
+000017e0: 745f 7b7b 2070 726f 6a65 6374 2e69 6420  t_{{ project.id 
+000017f0: 7d7d 5f64 6f63 756d 656e 7473 223e 0a20  }}_documents">. 
+00001800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001820: 2020 2020 2020 207b 2520 696e 636c 7564         {% includ
+00001830: 6520 2761 6363 6f75 6e74 735f 616e 645f  e 'accounts_and_
+00001840: 7072 6f6a 6563 7473 2f64 6f63 756d 656e  projects/documen
+00001850: 7473 5f66 6f72 5f70 726f 6a65 6374 2e68  ts_for_project.h
+00001860: 746d 6c27 2077 6974 6820 646f 6375 6d65  tml' with docume
+00001870: 6e74 733d 7072 6f6a 6563 742e 7072 6f6a  nts=project.proj
+00001880: 6563 745f 646f 6375 6d65 6e74 732e 616c  ect_documents.al
+00001890: 6c20 257d 0a20 2020 2020 2020 2020 2020  l %}.           
+000018a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000018b0: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+000018c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000018d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000018e0: 7b25 2065 6e64 6966 2025 7d0a 2020 2020  {% endif %}.    
+000018f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001900: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+00001910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001920: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00001930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001940: 2020 7b25 2065 6e64 6966 2025 7d0a 2020    {% endif %}.  
+00001950: 2020 2020 2020 2020 2020 2020 2020 7b25                {%
+00001960: 2065 6d70 7479 2025 7d0a 2020 2020 2020   empty %}.      
+00001970: 2020 2020 2020 2020 2020 2020 2020 3c68                <h
+00001980: 343e 5468 6973 2061 6363 6f75 6e74 2064  4>This account d
+00001990: 6f65 7320 6e6f 7420 6861 7665 2061 6e79  oes not have any
+000019a0: 2070 726f 6a65 6374 733c 2f68 343e 0a20   projects</h4>. 
+000019b0: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+000019c0: 2520 656e 6466 6f72 2025 7d0a 2020 2020  % endfor %}.    
+000019d0: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+000019e0: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+000019f0: 2020 7b25 2065 6e64 6966 2025 7d0a 2020    {% endif %}.  
+00001a00: 2020 3c73 6372 6970 743e 0a09 0966 756e    <script>...fun
+00001a10: 6374 696f 6e20 6765 745f 7072 6f6a 6563  ction get_projec
+00001a20: 745f 6f72 5f61 6363 6f75 6e74 286a 7175  t_or_account(jqu
+00001a30: 6572 795f 6576 656e 742c 2073 6561 7263  ery_event, searc
+00001a40: 685f 7365 6c65 6374 696f 6e2c 2064 6174  h_selection, dat
+00001a50: 6173 6574 5f6e 616d 6529 0a09 097b 0a09  aset_name)...{..
+00001a60: 0909 6966 2873 6561 7263 685f 7365 6c65  ..if(search_sele
+00001a70: 6374 696f 6e2e 7479 7065 203d 3d3d 2027  ction.type === '
+00001a80: 7072 6f6a 6563 7427 290a 0909 0909 7769  project').....wi
+00001a90: 6e64 6f77 2e6c 6f63 6174 696f 6e2e 6872  ndow.location.hr
+00001aa0: 6566 203d 2022 7b25 2075 726c 2027 7072  ef = "{% url 'pr
+00001ab0: 6f6a 6563 7427 2039 3939 2025 7d22 2e72  oject' 999 %}".r
+00001ac0: 6570 6c61 6365 2827 3939 3927 2c20 7365  eplace('999', se
+00001ad0: 6172 6368 5f73 656c 6563 7469 6f6e 2e69  arch_selection.i
+00001ae0: 6429 3b0a 0909 0965 6c73 6520 6966 2873  d);....else if(s
+00001af0: 6561 7263 685f 7365 6c65 6374 696f 6e2e  earch_selection.
+00001b00: 7479 7065 203d 3d3d 2027 6163 636f 756e  type === 'accoun
+00001b10: 7427 290a 0909 0909 7769 6e64 6f77 2e6c  t').....window.l
+00001b20: 6f63 6174 696f 6e2e 6872 6566 203d 2022  ocation.href = "
+00001b30: 7b25 2075 726c 2027 6163 636f 756e 7427  {% url 'account'
+00001b40: 2039 3939 2025 7d22 2e72 6570 6c61 6365   999 %}".replace
+00001b50: 2827 3939 3927 2c20 7365 6172 6368 5f73  ('999', search_s
+00001b60: 656c 6563 7469 6f6e 2e69 6429 3b0a 0909  election.id);...
+00001b70: 7d0a 0909 6675 6e63 7469 6f6e 2061 6464  }...function add
+00001b80: 5f75 7365 725f 746f 5f70 726f 6a65 6374  _user_to_project
+00001b90: 286a 7175 6572 795f 6576 656e 742c 2073  (jquery_event, s
+00001ba0: 6561 7263 685f 7365 6c65 6374 696f 6e2c  earch_selection,
+00001bb0: 2064 6174 6173 6574 5f6e 616d 6529 0a09   dataset_name)..
+00001bc0: 097b 0a09 0909 6c65 7420 7072 6f6a 6563  .{....let projec
+00001bd0: 745f 6964 203d 2024 2874 6869 7329 2e64  t_id = $(this).d
+00001be0: 6174 6128 2770 726f 6a65 6374 2d69 6427  ata('project-id'
+00001bf0: 293b 0a09 0909 2428 7468 6973 292e 7479  );....$(this).ty
+00001c00: 7065 6168 6561 6428 2776 616c 272c 2027  peahead('val', '
+00001c10: 2729 2e66 6f63 7573 2829 3b0a 0909 096c  ').focus();....l
+00001c20: 6574 2063 6f6d 706c 6574 655f 6361 6c6c  et complete_call
+00001c30: 6261 636b 203d 2061 6a61 785f 636f 6d70  back = ajax_comp
+00001c40: 6c65 7465 5f63 616c 6c62 6163 6b28 2755  lete_callback('U
+00001c50: 6e61 626c 6520 746f 2061 6464 2075 7365  nable to add use
+00001c60: 7220 746f 2070 726f 6a65 6374 2729 3b0a  r to project');.
+00001c70: 0909 0924 2822 2370 726f 6a65 6374 5f22  ...$("#project_"
+00001c80: 202b 2070 726f 6a65 6374 5f69 6420 2b20   + project_id + 
+00001c90: 225f 7573 6572 7322 292e 6c6f 6164 2822  "_users").load("
+00001ca0: 7b25 2075 726c 2027 6164 645f 7573 6572  {% url 'add_user
+00001cb0: 5f74 6f5f 7072 6f6a 6563 7427 2025 7d22  _to_project' %}"
+00001cc0: 2c20 7b27 7573 6572 5f69 6427 3a20 7365  , {'user_id': se
+00001cd0: 6172 6368 5f73 656c 6563 7469 6f6e 2e69  arch_selection.i
+00001ce0: 642c 2027 7072 6f6a 6563 745f 6964 273a  d, 'project_id':
+00001cf0: 2070 726f 6a65 6374 5f69 642c 2027 6373   project_id, 'cs
+00001d00: 7266 6d69 6464 6c65 7761 7265 746f 6b65  rfmiddlewaretoke
+00001d10: 6e27 3a20 277b 7b20 6373 7266 5f74 6f6b  n': '{{ csrf_tok
+00001d20: 656e 207d 7d27 7d2c 2063 6f6d 706c 6574  en }}'}, complet
+00001d30: 655f 6361 6c6c 6261 636b 293b 0a09 097d  e_callback);...}
+00001d40: 0a09 0966 756e 6374 696f 6e20 7265 6d6f  ...function remo
+00001d50: 7665 5f75 7365 725f 6672 6f6d 5f70 726f  ve_user_from_pro
+00001d60: 6a65 6374 2875 7365 725f 6964 2c20 7072  ject(user_id, pr
+00001d70: 6f6a 6563 745f 6964 290a 0909 7b0a 0909  oject_id)...{...
+00001d80: 096c 6574 2063 6f6d 706c 6574 655f 6361  .let complete_ca
+00001d90: 6c6c 6261 636b 203d 2061 6a61 785f 636f  llback = ajax_co
+00001da0: 6d70 6c65 7465 5f63 616c 6c62 6163 6b28  mplete_callback(
+00001db0: 2755 6e61 626c 6520 746f 2072 656d 6f76  'Unable to remov
+00001dc0: 6520 7573 6572 2066 726f 6d20 7072 6f6a  e user from proj
+00001dd0: 6563 7427 293b 0a09 0909 2428 2223 7072  ect');....$("#pr
+00001de0: 6f6a 6563 745f 2220 2b20 7072 6f6a 6563  oject_" + projec
+00001df0: 745f 6964 202b 2022 5f75 7365 7273 2229  t_id + "_users")
+00001e00: 2e6c 6f61 6428 227b 2520 7572 6c20 2772  .load("{% url 'r
+00001e10: 656d 6f76 655f 7573 6572 5f66 726f 6d5f  emove_user_from_
+00001e20: 7072 6f6a 6563 7427 2025 7d22 2c20 7b27  project' %}", {'
+00001e30: 7573 6572 5f69 6427 3a20 7573 6572 5f69  user_id': user_i
+00001e40: 642c 2027 7072 6f6a 6563 745f 6964 273a  d, 'project_id':
+00001e50: 2070 726f 6a65 6374 5f69 642c 2027 6373   project_id, 'cs
+00001e60: 7266 6d69 6464 6c65 7761 7265 746f 6b65  rfmiddlewaretoke
+00001e70: 6e27 3a20 277b 7b20 6373 7266 5f74 6f6b  n': '{{ csrf_tok
+00001e80: 656e 207d 7d27 7d2c 2063 6f6d 706c 6574  en }}'}, complet
+00001e90: 655f 6361 6c6c 6261 636b 293b 0a09 097d  e_callback);...}
+00001ea0: 0a20 2020 2020 2020 2066 756e 6374 696f  .        functio
+00001eb0: 6e20 6164 645f 646f 6375 6d65 6e74 5f74  n add_document_t
+00001ec0: 6f5f 7072 6f6a 6563 7428 7072 6f6a 6563  o_project(projec
+00001ed0: 745f 6964 2c20 666f 726d 290a 2020 2020  t_id, form).    
+00001ee0: 2020 2020 7b0a 2020 2020 2020 2020 2020      {.          
+00001ef0: 2020 6c65 7420 636f 6d70 6c65 7465 5f63    let complete_c
+00001f00: 616c 6c62 6163 6b20 3d20 616a 6178 5f63  allback = ajax_c
+00001f10: 6f6d 706c 6574 655f 6361 6c6c 6261 636b  omplete_callback
+00001f20: 2827 556e 6162 6c65 2074 6f20 6164 6420  ('Unable to add 
+00001f30: 646f 6375 6d65 6e74 2074 6f20 7072 6f6a  document to proj
+00001f40: 6563 7427 293b 0a20 2020 2020 2020 2020  ect');.         
+00001f50: 2020 2024 2822 2370 726f 6a65 6374 5f22     $("#project_"
+00001f60: 202b 2070 726f 6a65 6374 5f69 6420 2b20   + project_id + 
+00001f70: 225f 646f 6375 6d65 6e74 7322 292e 6c6f  "_documents").lo
+00001f80: 6164 5f6d 756c 7469 7061 7274 2866 6f72  ad_multipart(for
+00001f90: 6d2e 6163 7469 6f6e 2c20 666f 726d 2c20  m.action, form, 
+00001fa0: 636f 6d70 6c65 7465 5f63 616c 6c62 6163  complete_callbac
+00001fb0: 6b29 3b0a 0909 7d0a 2020 2020 2020 2020  k);...}.        
+00001fc0: 6675 6e63 7469 6f6e 2072 656d 6f76 655f  function remove_
+00001fd0: 646f 6375 6d65 6e74 5f66 726f 6d5f 7072  document_from_pr
+00001fe0: 6f6a 6563 7428 7572 6c2c 2070 726f 6a65  oject(url, proje
+00001ff0: 6374 5f69 6429 0a09 097b 0a09 0909 6c65  ct_id)...{....le
+00002000: 7420 636f 6d70 6c65 7465 5f63 616c 6c62  t complete_callb
+00002010: 6163 6b20 3d20 616a 6178 5f63 6f6d 706c  ack = ajax_compl
+00002020: 6574 655f 6361 6c6c 6261 636b 2827 556e  ete_callback('Un
+00002030: 6162 6c65 2074 6f20 7265 6d6f 7665 2064  able to remove d
+00002040: 6f63 756d 656e 7420 6672 6f6d 2070 726f  ocument from pro
+00002050: 6a65 6374 2729 3b0a 0909 0924 2822 2370  ject');....$("#p
+00002060: 726f 6a65 6374 5f22 202b 2070 726f 6a65  roject_" + proje
+00002070: 6374 5f69 6420 2b20 225f 646f 6375 6d65  ct_id + "_docume
+00002080: 6e74 7322 292e 6c6f 6164 2875 726c 2c20  nts").load(url, 
+00002090: 7b27 6373 7266 6d69 6464 6c65 7761 7265  {'csrfmiddleware
+000020a0: 746f 6b65 6e27 3a20 277b 7b20 6373 7266  token': '{{ csrf
+000020b0: 5f74 6f6b 656e 207d 7d27 7d2c 2063 6f6d  _token }}'}, com
+000020c0: 706c 6574 655f 6361 6c6c 6261 636b 293b  plete_callback);
+000020d0: 0a09 097d 0a20 2020 2020 2020 2066 756e  ...}.        fun
+000020e0: 6374 696f 6e20 7265 7365 745f 6175 746f  ction reset_auto
+000020f0: 636f 6d70 6c65 7465 2829 0a20 2020 2020  complete().     
+00002100: 2020 207b 0a09 0909 2428 272e 7573 6572     {....$('.user
+00002110: 5f73 6561 7263 6827 292e 6175 746f 636f  _search').autoco
+00002120: 6d70 6c65 7465 2827 7573 6572 7327 2c20  mplete('users', 
+00002130: 6164 645f 7573 6572 5f74 6f5f 7072 6f6a  add_user_to_proj
+00002140: 6563 742c 207b 7b20 7573 6572 737c 6a73  ect, {{ users|js
+00002150: 6f6e 5f73 6561 7263 685f 6261 7365 207d  on_search_base }
+00002160: 7d29 3b0a 2020 2020 2020 2020 7d0a 0909  });.        }...
+00002170: 6675 6e63 7469 6f6e 206f 6e5f 6c6f 6164  function on_load
+00002180: 2829 0a09 097b 0a09 0909 2428 2723 7365  ()...{....$('#se
+00002190: 6172 6368 2729 2e61 7574 6f63 6f6d 706c  arch').autocompl
+000021a0: 6574 6528 2761 6363 6f75 6e74 735f 616e  ete('accounts_an
+000021b0: 645f 7072 6f6a 6563 7473 272c 2067 6574  d_projects', get
+000021c0: 5f70 726f 6a65 6374 5f6f 725f 6163 636f  _project_or_acco
+000021d0: 756e 742c 207b 2520 6a73 6f6e 5f73 6561  unt, {% json_sea
+000021e0: 7263 685f 6261 7365 5f77 6974 685f 6578  rch_base_with_ex
+000021f0: 7472 615f 6669 656c 6473 2061 6363 6f75  tra_fields accou
+00002200: 6e74 735f 616e 645f 7072 6f6a 6563 7473  nts_and_projects
+00002210: 2027 6170 706c 6963 6174 696f 6e5f 6964   'application_id
+00002220: 656e 7469 6669 6572 2720 6469 7370 6c61  entifier' displa
+00002230: 793d 2764 6973 706c 6179 5f77 6974 685f  y='display_with_
+00002240: 7374 6174 7573 2720 257d 293b 0a20 2020  status' %});.   
+00002250: 2020 2020 2020 2020 2072 6573 6574 5f61           reset_a
+00002260: 7574 6f63 6f6d 706c 6574 6528 293b 0a09  utocomplete();..
+00002270: 097d 0a09 0977 696e 646f 772e 6164 6445  .}...window.addE
+00002280: 7665 6e74 4c69 7374 656e 6572 2827 6c6f  ventListener('lo
+00002290: 6164 272c 206f 6e5f 6c6f 6164 2c20 7472  ad', on_load, tr
+000022a0: 7565 293b 0a09 0a20 2020 203c 2f73 6372  ue);...    </scr
+000022b0: 6970 743e 0a20 2020 203c 7374 796c 653e  ipt>.    <style>
+000022c0: 0a09 0923 7365 6172 6368 5f63 6f6e 7461  ...#search_conta
+000022d0: 696e 6572 202e 7474 2d64 726f 7064 6f77  iner .tt-dropdow
+000022e0: 6e2d 6d65 6e75 0a09 097b 0a09 0909 6d69  n-menu...{....mi
+000022f0: 6e2d 7769 6474 683a 2034 3030 7078 3b0a  n-width: 400px;.
+00002300: 0909 096d 6178 2d68 6569 6768 743a 2036  ...max-height: 6
+00002310: 3030 7078 3b0a 0909 7d0a 090a 2020 2020  00px;...}...    
+00002320: 3c2f 7374 796c 653e 0a7b 2520 656e 6462  </style>.{% endb
+00002330: 6c6f 636b 2025 7d0a                      lock %}.
```

## NEMO/templates/accounts_and_projects/accounts_and_projects.html

```diff
@@ -1,118 +1,141 @@
 {% extends 'pagination/pagination_base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Accounts and projects{% endblock %}
 {% block before_pagination %}
-	<div class="h1 row">
+    <div class="h1 row">
         <div class="col-xs-6 col-sm-7">Accounts and projects</div>
-		<div class="col-sm-5 text-right">
+        <div class="col-sm-5 text-right">
             {% button type="add" value="New project" url="create_project" %}
             {% button type="add" value="New account" url="create_account" %}
-		</div>
-	</div>
-	<div class="row">
-		<div class="col-sm-5" id="search_container">
-			<input id="search" type="text" aria-label="Search for account or project" placeholder="Search for an account or project" class="form-control" autofocus>
-		</div>
-	</div>
+        </div>
+    </div>
+    <div class="row">
+        <div class="col-sm-5" id="search_container">
+            <input id="search"
+                   type="text"
+                   aria-label="Search for account or project"
+                   placeholder="Search for an account or project"
+                   class="form-control"
+                   autofocus>
+        </div>
+    </div>
 {% endblock %}
 {% block pagination_content %}
-	<table class="table table-bordered table-condensed table-hover table-align-middle thead-light">
-			<thead>
-				<tr>
-					<th>{% include 'pagination/pagination_column.html' with order_by='name' name='Name' %}</th>
-					{% if account_types %}<th>{% include 'pagination/pagination_column.html' with order_by='type' name='Account type' %}</th>{% endif %}
-					<th>{{ "projects_and_accounts"|customization:"project_application_identifier_name" }}</th>
-					<th class="button-column-minimum">{% include 'pagination/pagination_column.html' with order_by='active' name='Active' %}</th>
-					<th class="button-column-minimum" aria-label="Action"></th>
-				</tr>
-			</thead>
-			<tbody>
-				{% for account in page %}
-					<tr style="background-color: #f9f9f9">
-						<td id="chevron_{{ account.id }}" data-toggle="collapse" data-target=".projects_{{ account.id }}" onclick="toggle_details($('#chevron_{{ account.id }}'))" style="font-weight: bold">
-							<span class="glyphicon glyphicon-chevron-{% if account_list_collapse %}right{% else %}down{% endif %} pull-left chevron"></span>
-							{{ account.name }}
-						</td>
-                        {% if account_types %}<td data-toggle="collapse" data-target=".projects_{{ account.id }}" onclick="toggle_details($('#chevron_{{ account.id }}'))">{{ account.type|default_if_none:"" }}</td>{% endif %}
-						<td data-toggle="collapse" data-target=".projects_{{ account.id }}" onclick="toggle_details($('#chevron_{{ account.id }}'))"></td>
-						<td class="text-center">
-							<form method="post" action="{% url 'toggle_active' 'account' account.id %}">
-								{% csrf_token %}
-								{% if account.active %}
-                                    {% button type="save" size="small" title="Deactivate" icon="glyphicon-ok" value="" %}
-								{% else %}
-                                    {% button type="delete" submit=True size="small" title="Reactivate" icon="glyphicon-remove" value="" %}
-								{% endif %}
-							</form>
-						</td>
-						<td>
-                            {% url "account" account.id as account_url %}
-                            {% button type="view" size="small" value="View" title="View account" url=account_url %}
-						</td>
-					</tr>
-                    {% regroup account.sorted_projects by active as active_inactive_projects %}
-                    {% if active_inactive_projects|length_is:1 and not active_inactive_projects.0.grouper and project_list_active_only %}
-                        <tr class="collapse {% if not account_list_collapse %}in{% endif %} projects_{{ account.id }}">
-							<td colspan="4" style="padding-left: 28px">
-								<span>This account does not have any active projects</span>
-							</td>
-						</tr>
+    <table class="table table-bordered table-condensed table-hover table-align-middle thead-light">
+        <thead>
+            <tr>
+                <th>{% include 'pagination/pagination_column.html' with order_by='name' name='Name' %}</th>
+                {% if account_types %}
+                    <th>{% include 'pagination/pagination_column.html' with order_by='type' name='Account type' %}</th>
+                {% endif %}
+                <th>{{ "projects_and_accounts"|customization:"project_application_identifier_name" }}</th>
+                <th class="button-column-minimum">
+                    {% include 'pagination/pagination_column.html' with order_by='active' name='Active' %}
+                </th>
+                <th class="button-column-minimum" aria-label="Action"></th>
+            </tr>
+        </thead>
+        <tbody>
+            {% for account in page %}
+                <tr style="background-color: #f9f9f9">
+                    <td id="chevron_{{ account.id }}"
+                        data-toggle="collapse"
+                        data-target=".projects_{{ account.id }}"
+                        onclick="toggle_details($('#chevron_{{ account.id }}'))"
+                        style="font-weight: bold">
+                        <span class="glyphicon glyphicon-chevron-{% if account_list_collapse %}right{% else %}down{% endif %} pull-left chevron"></span>
+                        {{ account.name }}
+                    </td>
+                    {% if account_types %}
+                        <td data-toggle="collapse"
+                            data-target=".projects_{{ account.id }}"
+                            onclick="toggle_details($('#chevron_{{ account.id }}'))">
+                            {{ account.type|default_if_none:"" }}
+                        </td>
                     {% endif %}
-					{% for project_list in active_inactive_projects %}
-                        {% if project_list.grouper or not project_list_active_only %}
-                            {% for project in project_list.list %}
-                                <tr class="collapse {% if not account_list_collapse %}in{% endif %} projects_{{ account.id }}">
-                                    <td style="padding-left: 28px">{{ project.name }}</td>
-                                    {% if account_types %}<td></td>{% endif %}
-                                    <td>{{ project.application_identifier }}</td>
-                                    <td class="text-center">
-                                        <form style="display:inline" method="post" action="{% url 'toggle_active' 'project' project.id %}">
-                                            {% csrf_token %}
-                                            {% if project.active %}
-                                                {% button type="save" size="small" title="Deactivate" icon="glyphicon-ok" value="" %}
-                                            {% else %}
-                                                {% button type="delete" submit=True size="small" title="Reactivate" icon="glyphicon-remove" value="" %}
-                                            {% endif %}
-                                        </form>
-                                    </td>
-                                    <td>
-                                        {% url "project" project.id as project_url %}
-                                        {% button type="view" size="small" value="View" title="View project" url=project_url %}
-                                    </td>
-                                </tr>
-                            {% endfor %}
-                        {% endif %}
-                    {% empty %}
-						<tr class="collapse {% if not account_list_collapse %}in{% endif %} projects_{{ account.id }}">
-							<td colspan="4" style="padding-left: 28px">
-								<span>This account does not have any projects</span>
-							</td>
-						</tr>
-                    {% endfor %}
-				{% endfor %}
-			</tbody>
-		</table>
+                    <td data-toggle="collapse"
+                        data-target=".projects_{{ account.id }}"
+                        onclick="toggle_details($('#chevron_{{ account.id }}'))"></td>
+                    <td class="text-center">
+                        <form method="post" action="{% url 'toggle_active' 'account' account.id %}">
+                            {% csrf_token %}
+                            {% if account.active %}
+                                {% button type="save" size="small" title="Deactivate" icon="glyphicon-ok" value="" %}
+                            {% else %}
+                                {% button type="delete" submit=True size="small" title="Reactivate" icon="glyphicon-remove" value="" %}
+                            {% endif %}
+                        </form>
+                    </td>
+                    <td>
+                        {% url "account" account.id as account_url %}
+                        {% button type="view" size="small" value="View" title="View account" url=account_url %}
+                    </td>
+                </tr>
+                {% regroup account.sorted_projects by active as active_inactive_projects %}
+                {% if active_inactive_projects|length_is:1 and not active_inactive_projects.0.grouper and project_list_active_only %}
+                    <tr class="collapse {% if not account_list_collapse %}in{% endif %} projects_{{ account.id }}">
+                        <td colspan="4" style="padding-left: 28px">
+                            <span>This account does not have any active projects</span>
+                        </td>
+                    </tr>
+                {% endif %}
+                {% for project_list in active_inactive_projects %}
+                    {% if project_list.grouper or not project_list_active_only %}
+                        {% for project in project_list.list %}
+                            <tr class="collapse {% if not account_list_collapse %}in{% endif %} projects_{{ account.id }}">
+                                <td style="padding-left: 28px">{{ project.name }}</td>
+                                {% if account_types %}<td></td>{% endif %}
+                                <td>{{ project.application_identifier }}</td>
+                                <td class="text-center">
+                                    <form style="display:inline" method="post" action="{% url 'toggle_active' 'project' project.id %}">
+                                        {% csrf_token %}
+                                        {% if project.active %}
+                                            {% button type="save" size="small" title="Deactivate" icon="glyphicon-ok" value="" %}
+                                        {% else %}
+                                            {% button type="delete" submit=True size="small" title="Reactivate" icon="glyphicon-remove" value="" %}
+                                        {% endif %}
+                                    </form>
+                                </td>
+                                <td>
+                                    {% url "project" project.id as project_url %}
+                                    {% button type="view" size="small" value="View" title="View project" url=project_url %}
+                                </td>
+                            </tr>
+                        {% endfor %}
+                    {% endif %}
+                {% empty %}
+                    <tr class="collapse {% if not account_list_collapse %}in{% endif %} projects_{{ account.id }}">
+                        <td colspan="4" style="padding-left: 28px">
+                            <span>This account does not have any projects</span>
+                        </td>
+                    </tr>
+                {% endfor %}
+            {% endfor %}
+        </tbody>
+    </table>
 {% endblock %}
 {% block after_pagination %}
-	<script>
+    <script>
 		function get_project_or_account(jquery_event, search_selection, dataset_name)
 		{
 			if(search_selection.type === 'project')
 				window.location.href = "{% url 'project' 999 %}".replace('999', search_selection.id);
 			else if(search_selection.type === 'account')
 				window.location.href = "{% url 'account' 999 %}".replace('999', search_selection.id);
 		}
 		function on_load()
 		{
 			$('#search').autocomplete('accounts_and_projects', get_project_or_account, {% json_search_base_with_extra_fields accounts_and_projects 'application_identifier' display='display_with_status' %});
 		}
 		window.addEventListener('load', on_load, true);
-	</script>
-	<style>
+	
+    </script>
+    <style>
 		#search_container .tt-dropdown-menu
 		{
 			min-width: 400px;
 			max-height: 600px;
 		}
-	</style>
-{% endblock %}
+	
+    </style>
+{% endblock %}
```

## NEMO/templates/accounts_and_projects/create_account.html

```diff
@@ -1,70 +1,81 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% load static %}
 {% block title %}New account{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
-	<h1>New account</h1>
-	{% if form.non_field_errors %}
-		<div class="alert alert-danger">
-			Oops! Something went wrong. The project was not created because:<br>
-			{{ form.non_field_errors }}
-		</div>
-	{% endif %}
-	<form method="post" action="{% url 'create_account' %}" class="form-horizontal">
-		{% csrf_token %}
-		<div class="form-group">
-            <label for="name" class="control-label col-sm-2"><b>Name</b></label>
+    <h1>New account</h1>
+    {% if form.non_field_errors %}
+        <div class="alert alert-danger">
+            Oops! Something went wrong. The project was not created because:
+            <br>
+            {{ form.non_field_errors }}
+        </div>
+    {% endif %}
+    <form method="post" action="{% url 'create_account' %}" class="form-horizontal">
+        {% csrf_token %}
+        <div class="form-group">
+            <label for="name" class="control-label col-sm-2">
+                <b>Name</b>
+            </label>
             <div class="col-sm-4">
-                <input type="text" id="name" name="name" placeholder="Name" maxlength="100" class="form-control" value="{{ form.name.value|default_if_none:'' }}" autofocus required>
-            </div>
-            <div class="col-sm-6 form-control-static danger-highlight">
-                {{ form.name.errors|striptags }}
+                <input type="text"
+                       id="name"
+                       name="name"
+                       placeholder="Name"
+                       maxlength="100"
+                       class="form-control"
+                       value="{{ form.name.value|default_if_none:'' }}"
+                       autofocus
+                       required>
             </div>
-		</div>
+            <div class="col-sm-6 form-control-static danger-highlight">{{ form.name.errors|striptags }}</div>
+        </div>
         {% if form.fields.type.choices.queryset %}
-			<div class="form-group">
-				<label class="control-label col-sm-2" for="type">Type</label>
-				<div class="col-sm-4">
-					<select id="type" name="type" class="form-control">
-						{% for t in form.fields.type.choices %}
-							<option value="{{ t.0 }}" {% if t.0 == form.type.value|to_int %}selected{% endif %}>{{ t.1 }}</option>
-						{% endfor %}
-					</select>
-				</div>
-			</div>
-		{% endif %}
+            <div class="form-group">
+                <label class="control-label col-sm-2" for="type">Type</label>
+                <div class="col-sm-4">
+                    <select id="type" name="type" class="form-control">
+                        {% for t in form.fields.type.choices %}
+                            <option value="{{ t.0 }}" {% if t.0 == form.type.value|to_int %}selected{% endif %}>{{ t.1 }}</option>
+                        {% endfor %}
+                    </select>
+                </div>
+            </div>
+        {% endif %}
         <div class="form-group">
             <label for="start_date" class="control-label col-sm-2">Start date</label>
             <div class="col-sm-4">
-				<input type="text" id="start_date" name="start_date" class="form-control" placeholder="Choose a date" value="{{ form.start_date.value|input_date_format }}">
+                <input type="text"
+                       id="start_date"
+                       name="start_date"
+                       class="form-control"
+                       placeholder="Choose a date"
+                       value="{{ form.start_date.value|input_date_format }}">
             </div>
-            <div class="col-sm-6 form-control-static danger-highlight">
-				{{ form.start_date.errors|striptags }}
-			</div>
+            <div class="col-sm-6 form-control-static danger-highlight">{{ form.start_date.errors|striptags }}</div>
         </div>
-		<div class="form-group">
+        <div class="form-group">
             <div class="col-sm-offset-2 col-sm-10">
                 <div class="checkbox">
                     <label>
-                        <input type="checkbox" name="active" {% if form.active.value %}checked{% endif %}> Active
+                        <input type="checkbox" name="active" {% if form.active.value %}checked{% endif %}>
+                        Active
                     </label>
                 </div>
             </div>
         </div>
-		<div class="form-group">
-            <div class="col-sm-offset-2 col-sm-10">
-                {% button type="save" value="Create new account" %}
-            </div>
-		</div>
-	</form>
+        <div class="form-group">
+            <div class="col-sm-offset-2 col-sm-10">{% button type="save" value="Create new account" %}</div>
+        </div>
+    </form>
     <script>
     window.addEventListener("load", function ()
     {
         $('#start_date').datetimepicker({format: '{{ date_input_js_format }}'});
     });
     </script>
-{% endblock %}
+{% endblock %}
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% load static %}
 {% block title %}New account{% endblock %} {% block extrahead %}
 }">
-}"/> {% endblock %} {% block content %}
+}" /> {% endblock %} {% block content %}
 ************ NNeeww aaccccoouunntt ************
 {% if form.non_field_errors %}
 Oops! Something went wrong. The project was not created because:
 {{ form.non_field_errors }}
 {% endif %}
 {% csrf_token %}
 NNaammee
```

## NEMO/templates/accounts_and_projects/create_project.html

```diff
@@ -1,115 +1,139 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% load static %}
 {% block title %}New project{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
-	<h1>New project</h1>
-	{% if form.non_field_errors %}
-		<div class="alert alert-danger">
-			Oops! Something went wrong. The project was not created because:<br>
-			{{ form.non_field_errors }}
-		</div>
-	{% endif %}
-	<form method="post" action="{% url 'create_project' %}" class="form-horizontal" enctype="multipart/form-data">
-		{% csrf_token %}
-		<div class="form-group">
-			<label for="name" class="control-label col-sm-2"><b>Name</b></label>
-			<div class="col-sm-4">
-				<input type="text" name="name" id="name" maxlength="100" class="form-control" value="{{ form.name.value|default_if_none:'' }}" autofocus required>
-			</div>
-			<div class="col-sm-6 form-control-static danger-highlight">
-				{{ form.name.errors|striptags }}
-			</div>
-		</div>
-		<div class="form-group">
-			<label for="account_search" class="control-label col-sm-2"><b>Account</b></label>
-			<div class="col-sm-4">
-				<input type="text" id="account_search" name="account" class="form-control" required>
-				<input type="button" id="selected_account" class="btn btn-default" onclick="clear_account_selection()" style="display:none">
-			</div>
-			<div class="col-sm-6 form-control-static danger-highlight">
-				{{ form.account.errors|striptags }}
-			</div>
-		</div>
-		<div class="form-group">
-            <label for="application_identifier" class="control-label col-sm-2"><b>{{ "projects_and_accounts"|customization:"project_application_identifier_name" }}</b></label>
-			<div class="col-sm-4">
-				<input type="text" name="application_identifier" id="application_identifier" maxlength="100" class="form-control" value="{{ form.application_identifier.value|default_if_none:'' }}" required>
-			</div>
-			<div class="col-sm-6 form-control-static danger-highlight">
-				{{ form.application_identifier.errors|striptags }}
-			</div>
-		</div>
-		{% if form.fields.discipline.choices.queryset %}
-			<div class="form-group">
-				<label for="discipline" class="control-label col-sm-2">Discipline</label>
-				<div class="col-sm-4">
-					<select name="discipline" id="discipline" class="form-control">
-						{% for discipline_id, discipline_name in form.fields.discipline.choices %}
-							<option value="{{ discipline_id }}" {% if discipline_id == form.discipline.value|to_int %}selected{% endif %}>{{ discipline_name|default_if_none:'' }}</option>
-						{% endfor %}
-					</select>
-				</div>
-				<div class="col-sm-6 form-control-static danger-highlight">
-					{{ form.discipline.errors|striptags }}
-				</div>
-			</div>
-		{% endif %}
+    <h1>New project</h1>
+    {% if form.non_field_errors %}
+        <div class="alert alert-danger">
+            Oops! Something went wrong. The project was not created because:
+            <br>
+            {{ form.non_field_errors }}
+        </div>
+    {% endif %}
+    <form method="post"
+          action="{% url 'create_project' %}"
+          class="form-horizontal"
+          enctype="multipart/form-data">
+        {% csrf_token %}
+        <div class="form-group">
+            <label for="name" class="control-label col-sm-2">
+                <b>Name</b>
+            </label>
+            <div class="col-sm-4">
+                <input type="text"
+                       name="name"
+                       id="name"
+                       maxlength="100"
+                       class="form-control"
+                       value="{{ form.name.value|default_if_none:'' }}"
+                       autofocus
+                       required>
+            </div>
+            <div class="col-sm-6 form-control-static danger-highlight">{{ form.name.errors|striptags }}</div>
+        </div>
+        <div class="form-group">
+            <label for="account_search" class="control-label col-sm-2">
+                <b>Account</b>
+            </label>
+            <div class="col-sm-4">
+                <input type="text" id="account_search" name="account" class="form-control" required>
+                <input type="button"
+                       id="selected_account"
+                       class="btn btn-default"
+                       onclick="clear_account_selection()"
+                       style="display:none">
+            </div>
+            <div class="col-sm-6 form-control-static danger-highlight">{{ form.account.errors|striptags }}</div>
+        </div>
+        <div class="form-group">
+            <label for="application_identifier" class="control-label col-sm-2">
+                <b>{{ "projects_and_accounts"|customization:"project_application_identifier_name" }}</b>
+            </label>
+            <div class="col-sm-4">
+                <input type="text"
+                       name="application_identifier"
+                       id="application_identifier"
+                       maxlength="100"
+                       class="form-control"
+                       value="{{ form.application_identifier.value|default_if_none:'' }}"
+                       required>
+            </div>
+            <div class="col-sm-6 form-control-static danger-highlight">{{ form.application_identifier.errors|striptags }}</div>
+        </div>
+        {% if form.fields.discipline.choices.queryset %}
+            <div class="form-group">
+                <label for="discipline" class="control-label col-sm-2">Discipline</label>
+                <div class="col-sm-4">
+                    <select name="discipline" id="discipline" class="form-control">
+                        {% for discipline_id, discipline_name in form.fields.discipline.choices %}
+                            <option value="{{ discipline_id }}"
+                                    {% if discipline_id == form.discipline.value|to_int %}selected{% endif %}>
+                                {{ discipline_name|default_if_none:'' }}
+                            </option>
+                        {% endfor %}
+                    </select>
+                </div>
+                <div class="col-sm-6 form-control-static danger-highlight">{{ form.discipline.errors|striptags }}</div>
+            </div>
+        {% endif %}
         <div class="form-group">
             <label for="start_date" class="control-label col-sm-2">Start date</label>
             <div class="col-sm-4">
-				<input type="text" id="start_date" name="start_date" class="form-control" placeholder="Choose a date" value="{{ form.start_date.value|input_date_format }}">
+                <input type="text"
+                       id="start_date"
+                       name="start_date"
+                       class="form-control"
+                       placeholder="Choose a date"
+                       value="{{ form.start_date.value|input_date_format }}">
             </div>
-            <div class="col-sm-6 form-control-static danger-highlight">
-				{{ form.start_date.errors|striptags }}
-			</div>
+            <div class="col-sm-6 form-control-static danger-highlight">{{ form.start_date.errors|striptags }}</div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-2" for="pi_search">PIs</label>
             <div class="col-sm-4">
-                <input id="pi_search" type="text" autocomplete="off" class="form-control" placeholder="Add a principal investigator">
+                <input id="pi_search"
+                       type="text"
+                       autocomplete="off"
+                       class="form-control"
+                       placeholder="Add a principal investigator">
             </div>
         </div>
         <div class="form-group">
-            <div id="pi-list" class="col-sm-offset-2 col-sm-4">
-                This project has no principal investigators.
-            </div>
+            <div id="pi-list" class="col-sm-offset-2 col-sm-4">This project has no principal investigators.</div>
         </div>
-		{% if allow_document_upload %}
-			<div class="form-group">
-				<label for="project_documents" class="control-label col-sm-2">Documents</label>
+        {% if allow_document_upload %}
+            <div class="form-group">
+                <label for="project_documents" class="control-label col-sm-2">Documents</label>
                 <div class="col-sm-4">
-					<input type="file" id="project_documents" name="project_documents" class="form-control-static" multiple>
-				</div>
-				<div class="col-sm-6 form-control-static danger-highlight">
-					{{ form.project_documents.errors|striptags }}
-				</div>
-			</div>
-		{% endif %}
-		<div class="form-group">
+                    <input type="file" id="project_documents" name="project_documents" class="form-control-static" multiple>
+                </div>
+                <div class="col-sm-6 form-control-static danger-highlight">{{ form.project_documents.errors|striptags }}</div>
+            </div>
+        {% endif %}
+        <div class="form-group">
             <div class="col-sm-offset-2 col-sm-10">
                 <div class="checkbox">
                     <label>
-                        <input type="checkbox" name="active" {% if form.active.value %}checked{% endif %}> Active
+                        <input type="checkbox" name="active" {% if form.active.value %}checked{% endif %}>
+                        Active
                     </label>
                 </div>
             </div>
         </div>
-		<div class="form-group">
-			<div class="col-sm-offset-2 col-sm-10">
-                {% button type="save" value="Create new project" %}
-			</div>
-		</div>
-	</form>
-	<script>
+        <div class="form-group">
+            <div class="col-sm-offset-2 col-sm-10">{% button type="save" value="Create new project" %}</div>
+        </div>
+    </form>
+    <script>
         function select_pi(jquery_event, search_selection, dataset_name)
         {
             add_to_list("#pi-list", "remove_pi", search_selection.id, search_selection.name, "remove " + search_selection.name + " as principal investigator", "principal_investigators");
             $("#pi_search").typeahead('val', '');
         }
         function remove_pi(id)
         {
@@ -137,9 +161,10 @@
             {% endif %}
             {% for pi in form.principal_investigators.value %}
                 {% for user in user_list %}
                     {% if user.id == pi|to_int %}select_pi(null, {"id": "{{ user.id }}", "name": "{{ user }}"});{% endif %}
                 {% endfor %}
             {% endfor %}
 		});
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% load static %}
 {% block title %}New project{% endblock %} {% block extrahead %}
 }">
-}"/> {% endblock %} {% block content %}
+}" /> {% endblock %} {% block content %}
 ************ NNeeww pprroojjeecctt ************
 {% if form.non_field_errors %}
 Oops! Something went wrong. The project was not created because:
 {{ form.non_field_errors }}
 {% endif %}
 {% csrf_token %}
 NNaammee
@@ -17,15 +17,15 @@
 {{{{ ""pprroojjeeccttss__aanndd__aaccccoouunnttss""||ccuussttoommiizzaattiioonn::""pprroojjeecctt__aapppplliiccaattiioonn__iiddeennttiiffiieerr__nnaammee""
 }}}}
 [{{ form.application_identifier.value|default_if_none:'' }}]
 {{ form.application_identifier.errors|striptags }}
 {% if form.fields.discipline.choices.queryset %}
 Discipline
 {% for discipline_id, discipline_name in form.fields.discipline.choices %}
-% if discipline_id == form.discipline.value|to_int %}selected{% endif %}>{
+% if discipline_id == form.discipline.value|to_int %}selected{% endif %}> {
 { discipline_name|default_if_none:'' }}
 {% endfor %}
 {{ form.discipline.errors|striptags }}
 {% endif %}
 Start date
 [{{ form.start_date.value|input_date_format }}]
 {{ form.start_date.errors|striptags }}
```

## NEMO/templates/accounts_and_projects/documents_for_project.html

```diff
@@ -1,19 +1,25 @@
 <div style="height:10px"></div>
 <div>
-	<label class="control-label" for="project_documents">Documents:</label>
+    <label class="control-label" for="project_documents">Documents:</label>
 </div>
 <div>
-{% for d in documents %}
-	<a href="javascript:remove_document_from_project('{% url 'remove_document_from_project' project.id d.id  %}', '{{ project.id }}')" class="grey hover-black" title="Remove {{ d.filename }}"><span class="glyphicon glyphicon-remove-circle"></span></a> <a href="{{ d.link }}">{{ d.filename }}</a><br>
-{% empty %}
-	This project does not have any documents.
-{% endfor %}
+    {% for d in documents %}
+        <a href="javascript:remove_document_from_project('{% url 'remove_document_from_project' project.id d.id %}', '{{ project.id }}')"
+           class="grey hover-black"
+           title="Remove {{ d.filename }}"><span class="glyphicon glyphicon-remove-circle"></span></a> <a href="{{ d.link }}">{{ d.filename }}</a>
+        <br>
+    {% empty %}
+        This project does not have any documents.
+    {% endfor %}
 </div>
 {% if allow_document_upload %}
-	<div>
-		<form action="{% url 'add_document_to_project' project.id %}" enctype="multipart/form-data" method="post" onchange="add_document_to_project('{{ project.id }}', this);">
-			{% csrf_token %}
-			<input type="file" id="project_documents" name="project_documents" class="form-control-static" multiple>
-		</form>
-	</div>
+    <div>
+        <form action="{% url 'add_document_to_project' project.id %}"
+              enctype="multipart/form-data"
+              method="post"
+              onchange="add_document_to_project('{{ project.id }}', this);">
+            {% csrf_token %}
+            <input type="file" id="project_documents" name="project_documents" class="form-control-static" multiple>
+        </form>
+    </div>
 {% endif %}
```

## NEMO/templates/accounts_and_projects/projects.html

```diff
@@ -1,66 +1,74 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Projects{% endblock %}
 {% block content %}
-    <h1 style="margin-bottom: 30px">
-		Managed projects
-    </h1>
+    <h1 style="margin-bottom: 30px">Managed projects</h1>
     {% for project in managed_projects %}
         <h3>
-            <a onclick="toggle_details(this)" data-toggle="collapse" data-target="#project_{{ project.id }}_details" class="pointer" style="text-decoration:none">
+            <a onclick="toggle_details(this)"
+               data-toggle="collapse"
+               data-target="#project_{{ project.id }}_details"
+               class="pointer"
+               style="text-decoration:none">
                 <span id="project_{{ project.id }}_chevron" class="glyphicon glyphicon-chevron-down pull-left chevron"></span>
                 {{ project }}
             </a>
-            <span class="label {% if project.active %}label-success{% else %}label-danger{% endif %}" style="vertical-align:50%; font-size:small">
-                {% if project.active %}Active{% else %}Inactive{% endif %}
+            <span class="label {% if project.active %}label-success{% else %}label-danger{% endif %}"
+                  style="vertical-align:50%;
+                         font-size:small">
+                {% if project.active %}
+                    Active
+                {% else %}
+                    Inactive
+                {% endif %}
             </span>
         </h3>
         <div style="margin-left:34px">
             <div id="project_{{ project.id }}_details" class="collapse in">
                 <label class="control-label">Account:</label>
                 <span class="grey">{{ project.account }}</span>
                 <br>
                 <label class="control-label">{{ "projects_and_accounts"|customization:"project_application_identifier_name" }}:</label>
                 <span class="grey">{{ project.application_identifier }}</span>
-				{% if project.discipline %}
-					<br>
-					<label class="control-label">Discipline:</label>
-					<span class="grey">{{ project.discipline }}</span>
-				{% endif %}
+                {% if project.discipline %}
+                    <br>
+                    <label class="control-label">Discipline:</label>
+                    <span class="grey">{{ project.discipline }}</span>
+                {% endif %}
                 {% if project.start_date %}
                     <br>
                     <label class="control-label">Start date:</label>
                     <span class="grey">{{ project.start_date }}</span>
                 {% endif %}
-				{% if "projects_and_accounts"|customization:"project_allow_pi_manage_users" %}
-					<div style="height:10px"></div>
-					<div id="project_{{ project.id }}_users">
-						{% include 'accounts_and_projects/users_for_project.html' with users=project.user_set.all %}
-					</div>
-				{% else %}
-					<div>
-						<label class="control-label">Users:</label>
-					</div>
-					<div>
-						{% if project.user_set.all %}
-							<ul>
-							{% for u in project.user_set.all %}
-								<li class="{% if not u.is_active %}strikethrough light-grey{% endif %}">{{ u }}</li>
-							{% endfor %}
-							</ul>
-						{% else %}
-							<span class="grey">This project does not have any members.</span>
-						{% endif %}
-					</div>
-				{% endif %}
+                {% if "projects_and_accounts"|customization:"project_allow_pi_manage_users" %}
+                    <div style="height:10px"></div>
+                    <div id="project_{{ project.id }}_users">
+                        {% include 'accounts_and_projects/users_for_project.html' with users=project.user_set.all %}
+                    </div>
+                {% else %}
+                    <div>
+                        <label class="control-label">Users:</label>
+                    </div>
+                    <div>
+                        {% if project.user_set.all %}
+                            <ul>
+                                {% for u in project.user_set.all %}
+                                    <li class="{% if not u.is_active %}strikethrough light-grey{% endif %}">{{ u }}</li>
+                                {% endfor %}
+                            </ul>
+                        {% else %}
+                            <span class="grey">This project does not have any members.</span>
+                        {% endif %}
+                    </div>
+                {% endif %}
             </div>
         </div>
     {% endfor %}
-	<script>
+    <script>
 		function add_user_to_project(jquery_event, search_selection, dataset_name)
 		{
 			let project_id = $(this).data('project-id');
 			$(this).typeahead('val', '').focus();
 			let complete_callback = ajax_complete_callback('Unable to add user to project');
 			$("#project_" + project_id + "_users").load("{% url 'add_user_to_project' %}", {'user_id': search_selection.id, 'project_id': project_id, 'csrfmiddlewaretoken': '{{ csrf_token }}'}, complete_callback);
 		}
@@ -70,9 +78,10 @@
 			$("#project_" + project_id + "_users").load("{% url 'remove_user_from_project' %}", {'user_id': user_id, 'project_id': project_id, 'csrfmiddlewaretoken': '{{ csrf_token }}'}, complete_callback);
 		}
 		function reset_autocomplete()
 		{
 			$('.user_search').autocomplete('users', add_user_to_project, {{ users|json_search_base }});
 		}
 		window.addEventListener('load', reset_autocomplete, true);
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,13 +1,13 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% block title
 %}Projects{% endblock %} {% block content %}
 ************ MMaannaaggeedd pprroojjeeccttss ************
 {% for project in managed_projects %}
-******** {{{{ pprroojjeecctt }}}} {{%% iiff pprroojjeecctt..aaccttiivvee %%}}AAccttiivvee{{%% eellssee %%}}IInnaaccttiivvee{{%% eennddiiff %%}}
-********
+******** {{{{ pprroojjeecctt }}}} {{%% iiff pprroojjeecctt..aaccttiivvee %%}} AAccttiivvee {{%% eellssee %%}} IInnaaccttiivvee {{%% eennddiiff
+%%}} ********
 Account: {{ project.account }}
 {{ "projects_and_accounts"|customization:"project_application_identifier_name"
 }}: {{ project.application_identifier }} {% if project.discipline %}
 Discipline: {{ project.discipline }} {% endif %} {% if project.start_date %}
 Start date: {{ project.start_date }} {% endif %} {% if
 "projects_and_accounts"|customization:"project_allow_pi_manage_users" %}
 {% include 'accounts_and_projects/users_for_project.html' with
```

## NEMO/templates/accounts_and_projects/transfer_charges.html

```diff
@@ -1,144 +1,174 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% load static %}
 {% block title %}Transfer charges to another project{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
-	<h1>Transfer charges to another project</h1>
-	<p>
-		This page allows managers and accounting officers to transfer charges from one project to another.
-	</p>
-	<div style="height: 20px"></div>
-	<form class="form-horizontal" role="form" method="post">
-		{% if form.errors %}
-			<div class="form-group">
-				<div class="col-sm-8 col-lg-6">
-					<div class="alert alert-danger">
-						Oops! Something went wrong. Please correct the errors highlighted below:
-						{% if form.non_field_errors %}
-							<br><br>
-							<ul>
-								<li>{{ form.non_field_errors }}</li>
-							</ul>
-						{% endif %}
-					</div>
-				</div>
-				<div class="col-sm-4 col-lg-6"></div>
-			</div>
-		{% endif %}
-		{% csrf_token %}
-		<div class="form-group">
-			<div class="control-label col-sm-1">
-				<label for="start_date">Start</label>
-			</div>
-			<div class="col-sm-3 col-md-3 col-lg-2">
-				<input type="text" id="start_date" name="start" class="form-control text-center"
-					   placeholder="Choose a date" value="{{ form.start.value|input_date_format }}" required>
-			</div>
-			<div class="control-label col-sm-1">
-				<label for="end_date">End</label>
-			</div>
-			<div class="col-sm-3 col-md-3 col-lg-2">
-				<input type="text" id="end_date" name="end" class="form-control text-center" placeholder="Optional"
-					   value="{{ form.end.value|input_date_format }}">
-			</div>
-		</div>
-		{% if form.start.errors or form.end.errors %}
-			<div class="col-md-4 col-lg-3 form-control-static danger-highlight">{{ form.start.errors|striptags }}</div>
-			<div class="col-md-8 col-lg-9 form-control-static danger-highlight">{{ form.end.errors|striptags }}</div>
-		{% endif %}
-		<div class="form-group">
-			<div class="control-label col-sm-1">
-				<label for="project_search">Original</label>
-			</div>
-			<div class="col-sm-7 col-lg-5">
-				<input type="text" id="project_search" name="project_id" class="form-control"
-					   placeholder="Choose a project" required>
-				<input type="button" id="selected_project" class="btn btn-default"
-					   onclick="clear_project_selection('projects')" style="display:none">
-			</div>
-			{% if form.project_id.errors %}
-				<div class="col-sm-offset-1 col-sm-8 col-log-6 form-control-static danger-highlight">{{ form.project_id.errors|striptags }}</div>
-			{% endif %}
-		</div>
-		<div class="form-group">
-			<div class="control-label col-sm-1">
-				<label for="user_search">User</label>
-			</div>
-			<div class="col-sm-7 col-lg-5">
-				<input type="text" id="user_search" name="user_id" class="form-control"
-					   placeholder="[Optional] search for a specific user">
-				<input type="button" id="selected_user" class="btn btn-default" onclick="clear_user_selection()"
-					   style="display:none">
-			</div>
-			{% if form.user_id.errors or form.username.errors %}
-				<div class="col-sm-offset-1 col-sm-7 col-lg-5 form-control-static danger-highlight">
-					{{ form.user_id.errors|striptags }}{{ form.username.errors|striptags }}</div>
-			{% endif %}
-		</div>
-		<div class="form-group">
-			<div class="col-sm-offset-1 col-sm-11">
-				{% button type="export" submit=True value="Search" icon="glyphicon-search" %}
-			</div>
-		</div>
-		{% if charges %}
-			<div class="form-group">
-				<div class="control-label col-sm-1">
-					<label for="new_project_search">New</label>
-				</div>
-				<div class="col-sm-7 col-lg-5">
-					<input type="text" id="new_project_search" name="new_project_id" class="form-control"
-						   placeholder="Choose the new project to transfer charges to">
-					<input type="button" id="selected_new_project" class="btn btn-default"
-						   onclick="clear_project_selection('new_projects')" style="display:none">
-				</div>
-				{% if form.new_project_id.errors %}
-					<div class="col-sm-offset-1 col-sm-7 col-log-5 form-control-static danger-highlight">{{ form.new_project_id.errors|striptags }}</div>
-				{% endif %}
-			</div>
-			{% with number_of_charges=charges|length %}
-				<div class="form-group">
-					<div class="col-sm-offset-1 col-sm-11">
-						{% button type="save" submit=False value="Confirm" name="confirm" onclick="if (this.form.reportValidity()){ if(window.confirm('Are you sure you want to transfer these "|concat:number_of_charges|concat:" charges?')){submit_and_disable(this)}}" %}
-					</div>
-				</div>
-				<div class="danger-highlight" style="margin-top: 25px;">{{ number_of_charges }} charges were found:
-				</div>
-			{% endwith %}
-
-			<table class="table table-striped">
-				<thead>
-				<tr>
-					<th>Date</th>
-					<th>Type</th>
-					<th>Item</th>
-					<th>Quantity</th>
-					<th>User</th>
-					<th>Project</th>
-					<th class="text-right">{{ "projects_and_accounts"|customization:"project_application_identifier_name" }}</th>
-				</tr>
-				</thead>
-				{% for charge in charges %}
-					<tr>
-						<td>{{ charge.end|date:"SHORT_DATETIME_FORMAT" }}</td>
-						<td>{{ charge.type }}</td>
-						<td>{{ charge.name }}</td>
-						<td>{{ charge.quantity }}</td>
-						<td>{{ charge.user }}</td>
-						<td>{{ charge.project }}</td>
-						<td class="text-right">{{ charge.application }}</td>
-					</tr>
-				{% endfor %}
-			</table>
-		{% endif %}
-		<script>
+    <h1>Transfer charges to another project</h1>
+    <p>This page allows managers and accounting officers to transfer charges from one project to another.</p>
+    <div style="height: 20px"></div>
+    <form class="form-horizontal" role="form" method="post">
+        {% if form.errors %}
+            <div class="form-group">
+                <div class="col-sm-8 col-lg-6">
+                    <div class="alert alert-danger">
+                        Oops! Something went wrong. Please correct the errors highlighted below:
+                        {% if form.non_field_errors %}
+                            <br>
+                            <br>
+                            <ul>
+                                <li>{{ form.non_field_errors }}</li>
+                            </ul>
+                        {% endif %}
+                    </div>
+                </div>
+                <div class="col-sm-4 col-lg-6"></div>
+            </div>
+        {% endif %}
+        {% csrf_token %}
+        <div class="form-group">
+            <div class="control-label col-sm-1">
+                <label for="start_date">Start</label>
+            </div>
+            <div class="col-sm-3 col-md-3 col-lg-2">
+                <input type="text"
+                       id="start_date"
+                       name="start"
+                       class="form-control text-center"
+                       placeholder="Choose a date"
+                       value="{{ form.start.value|input_date_format }}"
+                       required>
+            </div>
+            <div class="control-label col-sm-1">
+                <label for="end_date">End</label>
+            </div>
+            <div class="col-sm-3 col-md-3 col-lg-2">
+                <input type="text"
+                       id="end_date"
+                       name="end"
+                       class="form-control text-center"
+                       placeholder="Optional"
+                       value="{{ form.end.value|input_date_format }}">
+            </div>
+        </div>
+        {% if form.start.errors or form.end.errors %}
+            <div class="col-md-4 col-lg-3 form-control-static danger-highlight">{{ form.start.errors|striptags }}</div>
+            <div class="col-md-8 col-lg-9 form-control-static danger-highlight">{{ form.end.errors|striptags }}</div>
+        {% endif %}
+        <div class="form-group">
+            <div class="control-label col-sm-1">
+                <label for="project_search">Original</label>
+            </div>
+            <div class="col-sm-7 col-lg-5">
+                <input type="text"
+                       id="project_search"
+                       name="project_id"
+                       class="form-control"
+                       placeholder="Choose a project"
+                       required>
+                <input type="button"
+                       id="selected_project"
+                       class="btn btn-default"
+                       onclick="clear_project_selection('projects')"
+                       style="display:none">
+            </div>
+            {% if form.project_id.errors %}
+                <div class="col-sm-offset-1 col-sm-8 col-log-6 form-control-static danger-highlight">
+                    {{ form.project_id.errors|striptags }}
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <div class="control-label col-sm-1">
+                <label for="user_search">User</label>
+            </div>
+            <div class="col-sm-7 col-lg-5">
+                <input type="text"
+                       id="user_search"
+                       name="user_id"
+                       class="form-control"
+                       placeholder="[Optional] search for a specific user">
+                <input type="button"
+                       id="selected_user"
+                       class="btn btn-default"
+                       onclick="clear_user_selection()"
+                       style="display:none">
+            </div>
+            {% if form.user_id.errors or form.username.errors %}
+                <div class="col-sm-offset-1 col-sm-7 col-lg-5 form-control-static danger-highlight">
+                    {{ form.user_id.errors|striptags }}{{ form.username.errors|striptags }}
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <div class="col-sm-offset-1 col-sm-11">
+                {% button type="export" submit=True value="Search" icon="glyphicon-search" %}
+            </div>
+        </div>
+        {% if charges %}
+            <div class="form-group">
+                <div class="control-label col-sm-1">
+                    <label for="new_project_search">New</label>
+                </div>
+                <div class="col-sm-7 col-lg-5">
+                    <input type="text"
+                           id="new_project_search"
+                           name="new_project_id"
+                           class="form-control"
+                           placeholder="Choose the new project to transfer charges to">
+                    <input type="button"
+                           id="selected_new_project"
+                           class="btn btn-default"
+                           onclick="clear_project_selection('new_projects')"
+                           style="display:none">
+                </div>
+                {% if form.new_project_id.errors %}
+                    <div class="col-sm-offset-1 col-sm-7 col-log-5 form-control-static danger-highlight">
+                        {{ form.new_project_id.errors|striptags }}
+                    </div>
+                {% endif %}
+            </div>
+            {% with number_of_charges=charges|length %}
+                <div class="form-group">
+                    <div class="col-sm-offset-1 col-sm-11">
+                        {% button type="save" submit=False value="Confirm" name="confirm" onclick="if (this.form.reportValidity()){ if(window.confirm('Are you sure you want to transfer these "|concat:number_of_charges|concat:" charges?')){submit_and_disable(this)}}" %}
+                    </div>
+                </div>
+                <div class="danger-highlight" style="margin-top: 25px;">{{ number_of_charges }} charges were found:</div>
+            {% endwith %}
+            <table class="table table-striped">
+                <thead>
+                    <tr>
+                        <th>Date</th>
+                        <th>Type</th>
+                        <th>Item</th>
+                        <th>Quantity</th>
+                        <th>User</th>
+                        <th>Project</th>
+                        <th class="text-right">{{ "projects_and_accounts"|customization:"project_application_identifier_name" }}</th>
+                    </tr>
+                </thead>
+                {% for charge in charges %}
+                    <tr>
+                        <td>{{ charge.end|date:"SHORT_DATETIME_FORMAT" }}</td>
+                        <td>{{ charge.type }}</td>
+                        <td>{{ charge.name }}</td>
+                        <td>{{ charge.quantity }}</td>
+                        <td>{{ charge.user }}</td>
+                        <td>{{ charge.project }}</td>
+                        <td class="text-right">{{ charge.application }}</td>
+                    </tr>
+                {% endfor %}
+            </table>
+        {% endif %}
+        <script>
             const js_date_format = "{{ date_input_js_format }}";
 
             let start_date_jq = $('#start_date');
             let end_date_jq = $('#end_date');
             start_date_jq.datetimepicker({format: js_date_format});
             end_date_jq.datetimepicker({format: js_date_format});
 
@@ -187,10 +217,11 @@
                 if ('{{ customer|default_if_none:"" }}') select_user(null, {
                     'name': '{{ customer }}',
                     'id': '{{ customer.id }}'
                 });
             }
 
             $(on_load);
-		</script>
-	</form>
-{% endblock %}
+		
+        </script>
+    </form>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,12 +1,12 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% load static %}
 {% block title %}Transfer charges to another project{% endblock %} {% block
 extrahead %}
 }">
-}"/> {% endblock %} {% block content %}
+}" /> {% endblock %} {% block content %}
 ************ TTrraannssffeerr cchhaarrggeess ttoo aannootthheerr pprroojjeecctt ************
 This page allows managers and accounting officers to transfer charges from one
 project to another.
 {% if form.errors %}
 Oops! Something went wrong. Please correct the errors highlighted below: {% if
 form.non_field_errors %}
```

## NEMO/templates/accounts_and_projects/users_for_project.html

```diff
@@ -1,19 +1,34 @@
 <div style="height:10px"></div>
 <div id="add_user_to_project_{{ project.id }}">
-	<label class="control-label">Users:<input id="search_user_for_project_{{ project.id }}" type="text" class="form-control user_search" placeholder="Search for a user to add" data-project-id="{{ project.id }}" style="min-width: 250px;"></label>
+    <label class="control-label">
+        Users:
+        <input id="search_user_for_project_{{ project.id }}"
+               type="text"
+               class="form-control user_search"
+               placeholder="Search for a user to add"
+               data-project-id="{{ project.id }}"
+               style="min-width: 250px">
+    </label>
 </div>
 <div>
-	{% for u in users %}
-		<a href="javascript:remove_user_from_project('{{ u.id }}', '{{ project.id }}')" class="grey hover-black" title="Remove {{ u.first_name }}"><span class="glyphicon glyphicon-remove-circle"></span></a> {% if u.is_active %}{{ u }}{% else %}<span class="strikethrough light-grey" title="This user is inactive">{{ u }}</span>{% endif %}<br>
-	{% empty %}
-		This project does not have any members.
-	{% endfor %}
+    {% for u in users %}
+        <a href="javascript:remove_user_from_project('{{ u.id }}', '{{ project.id }}')"
+           class="grey hover-black"
+           title="Remove {{ u.first_name }}"><span class="glyphicon glyphicon-remove-circle"></span></a>
+        {% if u.is_active %}
+            {{ u }}
+        {% else %}
+            <span class="strikethrough light-grey" title="This user is inactive">{{ u }}</span>
+        {% endif %}
+        <br>
+    {% empty %}
+        This project does not have any members.
+    {% endfor %}
 </div>
-
 <script>
     $(function()
     {
         reset_autocomplete();
 	    $("#search_user_for_project_" + "{{ project.id }}").focus();
     });
-</script>
+</script>
```

## NEMO/templates/area_access/area_access.html

```diff
@@ -1,86 +1,118 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Area access{% endblock %}
 {% block extrahead %}
-	{% load static %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
+    {% load static %}
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
-	<h1>Area access</h1>
-	<p>You can <a href="{% url 'new_area_access_record' %}">manually create an area access record</a> under extraordinary circumstances.</p>
-	View area access records for:
-	<ul>
-		<li><a href="{{ today }}">Today</a></li>
-		<li><a href="{{ yesterday }}">Yesterday</a></li>
-		<li>Or, enter a custom date range</li>
-	</ul>
-	<form id="view_records" action="{% url 'area_access' %}" class="form-inline" method="get" style="margin-top: 15px; width: 500px;">
-		<div class="form-group col-md-3 form-control-static">Date range:</div>
-		<div class="form-group">
-			<div class="form-group">
-				<div class="datetimepicker-container">
-					<input type="text" id="start" name="start" aria-label="Start date" class="form-control" autocomplete="off" placeholder="start" value="{{ start.date|input_date_format }}">
-				</div>
-			</div>
-			<div class="form-group">
-				<div class="datetimepicker-container">
-					<input type="text" id="end" name="end" aria-label="End date" class="form-control" autocomplete="off" placeholder="end" value="{{ end.date|input_date_format }}">
-				</div>
-			</div>
-		</div>
-		<div style="margin-top: 15px">
-			<div class="form-group col-md-3 form-control-static">Area:</div>
-			<div class="form-group">
-				{{ area_select_field }}
-			</div>
-		</div>
-		<div class="form-group col-md-12" style="margin-top: 15px">
+    <h1>Area access</h1>
+    <p>
+        You can <a href="{% url 'new_area_access_record' %}">manually create an area access record</a> under extraordinary circumstances.
+    </p>
+    View area access records for:
+    <ul>
+        <li>
+            <a href="{{ today }}">Today</a>
+        </li>
+        <li>
+            <a href="{{ yesterday }}">Yesterday</a>
+        </li>
+        <li>Or, enter a custom date range</li>
+    </ul>
+    <form id="view_records"
+          action="{% url 'area_access' %}"
+          class="form-inline"
+          method="get"
+          style="margin-top: 15px;
+                 width: 500px">
+        <div class="form-group col-md-3 form-control-static">Date range:</div>
+        <div class="form-group">
+            <div class="form-group">
+                <div class="datetimepicker-container">
+                    <input type="text"
+                           id="start"
+                           name="start"
+                           aria-label="Start date"
+                           class="form-control"
+                           autocomplete="off"
+                           placeholder="start"
+                           value="{{ start.date|input_date_format }}">
+                </div>
+            </div>
+            <div class="form-group">
+                <div class="datetimepicker-container">
+                    <input type="text"
+                           id="end"
+                           name="end"
+                           aria-label="End date"
+                           class="form-control"
+                           autocomplete="off"
+                           placeholder="end"
+                           value="{{ end.date|input_date_format }}">
+                </div>
+            </div>
+        </div>
+        <div style="margin-top: 15px">
+            <div class="form-group col-md-3 form-control-static">Area:</div>
+            <div class="form-group">{{ area_select_field }}</div>
+        </div>
+        <div class="form-group col-md-12" style="margin-top: 15px">
             {% button type="view" value="View access records" submit=True %}
-		</div>
-	</form>
-	<div class="col-lg-12" style="margin-top:30px">
-		{% if access_records %}
-			<table class="table table-bordered table-condensed">
-				<thead>
-					<tr>
-						<th>Area</th>
-						<th>Identifier</th>
-						<th>User</th>
-						<th>Project</th>
-						<th>Start</th>
-						<th>End</th>
-					</tr>
-				</thead>
-				<tbody>
-					{% for x in access_records %}
-						<tr>
-							<td>{{ x.area }}</td>
-							<td>{{ x.id }}</td>
-							<td>{{ x.customer }}</td>
-							<td>{{ x.project }}</td>
-							<td>{{ x.start }}</td>
-							<td>{{ x.end|default:"In progress" }}</td>
-						</tr>
-					{% endfor %}
-				</tbody>
-			</table>
-		{% else %}
-			{% if start or end %}
-				No access records exist {% if start and end %}between {{ start }} and {{ end }}{% elif start %}after {{ start }}{% else %}before {{ end }}{% endif %}.
-			{% endif %}
-		{% endif %}
-	</div>
-	<script>
+        </div>
+    </form>
+    <div class="col-lg-12" style="margin-top:30px">
+        {% if access_records %}
+            <table class="table table-bordered table-condensed">
+                <thead>
+                    <tr>
+                        <th>Area</th>
+                        <th>Identifier</th>
+                        <th>User</th>
+                        <th>Project</th>
+                        <th>Start</th>
+                        <th>End</th>
+                    </tr>
+                </thead>
+                <tbody>
+                    {% for x in access_records %}
+                        <tr>
+                            <td>{{ x.area }}</td>
+                            <td>{{ x.id }}</td>
+                            <td>{{ x.customer }}</td>
+                            <td>{{ x.project }}</td>
+                            <td>{{ x.start }}</td>
+                            <td>{{ x.end|default:"In progress" }}</td>
+                        </tr>
+                    {% endfor %}
+                </tbody>
+            </table>
+        {% else %}
+            {% if start or end %}
+                No access records exist
+                {% if start and end %}
+                    between {{ start }} and {{ end }}
+                {% elif start %}
+                    after {{ start }}
+                {% else %}
+                    before {{ end }}
+                {% endif %}
+                .
+            {% endif %}
+        {% endif %}
+    </div>
+    <script>
 		function on_load()
 		{
 			let timepicker_properties =
 			{
 				format: '{{ date_input_js_format }}'
 			};
 			$('#start').datetimepicker(timepicker_properties);
 			$('#end').datetimepicker(timepicker_properties);
 		}
 		$(on_load);
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -18,11 +18,11 @@
 {% if access_records %}
 AArreeaa         IIddeennttiiffiieerr UUsseerr          PPrroojjeecctt      SSttaarrtt         EEnndd
                                                                  {
                         {{ x.customer {{ x.project               {
 {{ x.area }} {{ x.id }} }}            }}           {{ x.start }} x.end|default:
                                                                  "In progress"
                                                                  }}
-{% else %} {% if start or end %} No access records exist {% if start and end
-%}between {{ start }} and {{ end }}{% elif start %}after {{ start }}{% else
-%}before {{ end }}{% endif %}. {% endif %} {% endif %}
+{% else %} {% if start or end %} No access records exist {% if start and end %}
+between {{ start }} and {{ end }} {% elif start %} after {{ start }} {% else %}
+before {{ end }} {% endif %} . {% endif %} {% endif %}
 {% endblock %}
```

## NEMO/templates/area_access/calendar_self_login.html

```diff
@@ -1,42 +1,47 @@
 {% load custom_tags_and_filters %}
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
-	<h4 id="modal-description-label" class="modal-title">{% if error_message %}Error trying {% else %}You are about {% endif %}to login to the {{ area }}</h4>
+    <button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
+    <h4 id="modal-description-label" class="modal-title">
+        {% if error_message %}
+            Error trying
+        {% else %}
+            You are about
+        {% endif %}
+        to login to the {{ area }}
+    </h4>
 </div>
-
 <div class="modal-body">
-	<input type="hidden" id="dialog_cancelled" value="true">
-	{% if error_message %}
-		<div class="alert alert-danger">
-			{{ error_message }}
-		</div>
-	{% endif %}
-	{% if not error_message %}
-		<form id="additional_event_parameters" onsubmit="return false">
-			<input type="hidden" name="area" value="{{ area.id }}">
-			<input type="hidden" id="project_id" name="project_id">
-			<div class="form-group">
-				{% if projects|length == 1 %}
-					You only have one active project. Area access will be billed to: {{ projects.0 }}
-					<input type="hidden" name="project" value="{{ projects.0.id }}">
-				{% else %}
-					<p>Charge area access to which project?</p>
-					{% for p in projects %}
-						<div class="radio">
-							<label><input type="radio" name="project" value="{{ p.id }}" required>{% project_selection_display p %}</label>
-						</div>
-					{% endfor %}
-				{% endif %}
-			</div>
-			<div class="form-group">
+    <input type="hidden" id="dialog_cancelled" value="true">
+    {% if error_message %}<div class="alert alert-danger">{{ error_message }}</div>{% endif %}
+    {% if not error_message %}
+        <form id="additional_event_parameters" onsubmit="return false">
+            <input type="hidden" name="area" value="{{ area.id }}">
+            <input type="hidden" id="project_id" name="project_id">
+            <div class="form-group">
+                {% if projects|length == 1 %}
+                    You only have one active project. Area access will be billed to: {{ projects.0 }}
+                    <input type="hidden" name="project" value="{{ projects.0.id }}">
+                {% else %}
+                    <p>Charge area access to which project?</p>
+                    {% for p in projects %}
+                        <div class="radio">
+                            <label>
+                                <input type="radio" name="project" value="{{ p.id }}" required>
+                                {% project_selection_display p %}
+                            </label>
+                        </div>
+                    {% endfor %}
+                {% endif %}
+            </div>
+            <div class="form-group">
                 {% with project_id=project.id|default_if_none:"" %}
                     {% button type="save" submit=False icon="glyphicon-log-in" dismiss="modal" onclick="$('#project_id').val("|concat:project_id|concat:"); $('#dialog_cancelled').val(false)" value="Log in" %}
                 {% endwith %}
-			</div>
-		</form>
-	{% else %}
-		<div class="form-group text-center">
-			<button class="btn btn-warning" data-dismiss="modal">Ok</button>
-		</div>
-	{% endif %}
-</div>
+            </div>
+        </form>
+    {% else %}
+        <div class="form-group text-center">
+            <button class="btn btn-warning" data-dismiss="modal">Ok</button>
+        </div>
+    {% endif %}
+</div>
```

## NEMO/templates/area_access/change_project.html

```diff
@@ -1,29 +1,29 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Bill to a different project{% endblock %}
 {% block content %}
-	<h1>Bill area access to a different project</h1>
-	{% if error %}
-		<div class="alert alert-danger">
-			{{ error }}
-		</div>
-	{% endif %}
-	{% if user.in_area %}
-		<p>You are billing {{ user.area_access_record.area.name }} access to the project named {{ user.billing_to_project }} since {{ user.area_access_record.start }}.</p>
-		{% if user.active_project_count > 1 %}
-			<p>Would you like to bill area access to a different project?</p>
-			{% for project in user.active_projects %}
-				{% if user.billing_to_project != project %}
-					<form action="{% url 'change_project' project.id %}" method="post">
-						<div class="form-group">
-							{% csrf_token %}
-                            <button type="submit" class="btn btn-warning" title="{{ project.name }}">{% project_selection_display project %}</button>
-						</div>
-					</form>
-				{% endif %}
-			{% endfor %}
-		{% endif %}
-	{% else %}
-		<p>You are not currently billing area access.</p>
-	{% endif %}
-{% endblock %}
+    <h1>Bill area access to a different project</h1>
+    {% if error %}<div class="alert alert-danger">{{ error }}</div>{% endif %}
+    {% if user.in_area %}
+        <p>
+            You are billing {{ user.area_access_record.area.name }} access to the project named {{ user.billing_to_project }} since {{ user.area_access_record.start }}.
+        </p>
+        {% if user.active_project_count > 1 %}
+            <p>Would you like to bill area access to a different project?</p>
+            {% for project in user.active_projects %}
+                {% if user.billing_to_project != project %}
+                    <form action="{% url 'change_project' project.id %}" method="post">
+                        <div class="form-group">
+                            {% csrf_token %}
+                            <button type="submit" class="btn btn-warning" title="{{ project.name }}">
+                                {% project_selection_display project %}
+                            </button>
+                        </div>
+                    </form>
+                {% endif %}
+            {% endfor %}
+        {% endif %}
+    {% else %}
+        <p>You are not currently billing area access.</p>
+    {% endif %}
+{% endblock %}
```

## NEMO/templates/area_access/login_areas.html

```diff
@@ -1,28 +1,40 @@
 {% load mptt_tags %}
 <ul class="login-tree area-tree-root area-tree-list" style="padding-left: 0;margin-top: 10px">
-	{% recursetree areas %}
-		{% if node.is_leaf_node %}
-			<li class="area-tree-leaf">
-		{% else %}
-			<li class="area-tree-node">
-				<a onclick="toggle_details(this)" data-toggle="collapse" aria-expanded="true" data-target="#area-{{ node.id }}">
-					<span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-		{% endif %}
-		{% if node not in user_accessible_areas %}
-					<span class="media-heading">{{ node.name }}</span>
-				</a>
-		{% else %}
-				</a>
-				<div class="checkbox">
-					<label class="control-label" style="padding-left: 0"><input type="radio" name="{{ input_name|default:'area' }}" value="{{ node.id }}" {% if area_id and node.id == area_id %}checked{% endif %} required> {% if node.category %}({{ node.category }}) {% endif %}{{ node.name }}</label><br>
-				</div>
-		{% endif %}
-		{% if not node.is_leaf_node %}
-			<ul class="area-tree-list collapse in" aria-expanded="true" id="area-{{ node.id }}">
-				{{ children }}
-			</ul>
-		{% else %}
-		{% endif %}
-			</li>
-	{% endrecursetree %}
-</ul>
+    {% recursetree areas %}
+    {% if node.is_leaf_node %}
+        <li class="area-tree-leaf">
+        {% else %}
+            <li class="area-tree-node">
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   aria-expanded="true"
+                   data-target="#area-{{ node.id }}">
+                    <span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+                {% endif %}
+                {% if node not in user_accessible_areas %}
+                    <span class="media-heading">{{ node.name }}</span>
+                </a>
+            {% else %}
+            </a>
+            <div class="checkbox">
+                <label class="control-label" style="padding-left: 0">
+                    <input type="radio"
+                           name="{{ input_name|default:'area' }}"
+                           value="{{ node.id }}"
+                           {% if area_id and node.id == area_id %}checked{% endif %}
+                           required>
+                    {% if node.category %}({{ node.category }}){% endif %}
+                    {{ node.name }}
+                </label>
+                <br>
+            </div>
+        {% endif %}
+        {% if not node.is_leaf_node %}
+            <ul class="area-tree-list collapse in" aria-expanded="true" id="area-{{ node.id }}">
+                {{ children }}
+            </ul>
+        {% else %}
+        {% endif %}
+    </li>
+{% endrecursetree %}
+</ul>
```

## NEMO/templates/area_access/new_area_access_record.html

```diff
@@ -1,33 +1,36 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Add area access record{% endblock %}
 {% block content %}
-	{% if error_message %}
-		<div class="alert alert-danger">
-			Oops! Something went wrong. The new area access record was not created because:<br>
-			{{ error_message }}
-		</div>
-	{% endif %}
-	{% if success %}
-		<div class="alert alert-success">{{ success }}</div>
-	{% endif %}
-	<h1>New area access record</h1>
-	<p style="font-weight: bold">
-		Only use this form under extraordinary circumstances (such as when tablet login is not working).
-		This form is not intended to be used regularly.
-	</p>
-	<form id="new_area_access_record" action="{% url 'new_area_access_record' %}" class="form-inline" method="get">
-		<div class="form-group">
-			<input id="customer_search" type="text" class="form-control" placeholder="Search for a customer">
-			<input id="customer" name="customer" type="hidden">
-		</div>
-	</form>
-	<script>
+    {% if error_message %}
+        <div class="alert alert-danger">
+            Oops! Something went wrong. The new area access record was not created because:
+            <br>
+            {{ error_message }}
+        </div>
+    {% endif %}
+    {% if success %}<div class="alert alert-success">{{ success }}</div>{% endif %}
+    <h1>New area access record</h1>
+    <p style="font-weight: bold">
+        Only use this form under extraordinary circumstances (such as when tablet login is not working).
+        This form is not intended to be used regularly.
+    </p>
+    <form id="new_area_access_record"
+          action="{% url 'new_area_access_record' %}"
+          class="form-inline"
+          method="get">
+        <div class="form-group">
+            <input id="customer_search" type="text" class="form-control" placeholder="Search for a customer">
+            <input id="customer" name="customer" type="hidden">
+        </div>
+    </form>
+    <script>
 		function select_user(jquery_event, search_selection, dataset_name)
 		{
 			$("#customer").val(search_selection.id);
 			$("#new_area_access_record").submit();
 		}
 		$('#customer_search').autocomplete('users', select_user, {{ customers|json_search_base }}).focus();
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,11 +1,12 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% block title
 %}Add area access record{% endblock %} {% block content %} {% if error_message
 %}
 Oops! Something went wrong. The new area access record was not created because:
+
 {{ error_message }}
 {% endif %} {% if success %}
 {{ success }}
 {% endif %}
 ************ NNeeww aarreeaa aacccceessss rreeccoorrdd ************
 Only use this form under extraordinary circumstances (such as when tablet login
 is not working). This form is not intended to be used regularly.
```

## NEMO/templates/area_access/new_area_access_record_details.html

```diff
@@ -1,49 +1,52 @@
 {% extends 'base.html' %}
 {% load mptt_tags %}
 {% load custom_tags_and_filters %}
 {% block title %}Add area access record{% endblock %}
 {% block content %}
-	<h1>New area access record</h1>
-	<p style="font-weight: bold">
-		Only use this form under extraordinary circumstances (such as when tablet login is not working).
-		This form is not intended to be used regularly.
-	</p>
-	<form action="{% url 'new_area_access_record' %}" method="post">
-		{% csrf_token %}
-		<div class="form-horizontal">
-			<div class="form-group">
-				<div class="col-sm-12">
-					Customer: {{ customer }}<br>
-					<input type="hidden" name="customer" value="{{ customer.id }}">
-				</div>
-			</div>
-			<div class="form-group">
-				<div class="col-sm-12">
-					{% if customer.active_project_count == 1 %}
-						Area access will be billed to the customer's only project, &quot;{{ customer.active_projects.0 }}&quot;
-						<input type="hidden" name="project" value="{{ customer.active_projects.0.id }}">
-					{% else %}
-						Which of the customer's projects would you like to bill?
-						<div class="radio">
-							{% for p in customer.active_projects %}
-								<label class="control-label"><input type="radio" name="project" value="{{ p.id }}" required> {% project_selection_display p %}</label><br>
-							{% endfor %}
-						</div>
-					{% endif %}
-				</div>
-			</div>
-		</div>
-		<div class="form-group">
-			{% if areas|length == 1 %}
-				The customer only has access to the {{ areas.0 }}. Access will be billed for that area.
-				<input type="hidden" name="area" value="{{ areas.0.id }}">
-			{% else %}
-				{{ customer }} has access to the following areas. Which would you like to bill for access?
-				{% include 'area_access/login_areas.html' with areas=areas user_accessible_areas=user_accessible_areas %}
-			{% endif %}
-		</div>
-		<div class="form-group">
-            {% button type="save" value="Create area access record" %}
-		</div>
-	</form>
-{% endblock %}
+    <h1>New area access record</h1>
+    <p style="font-weight: bold">
+        Only use this form under extraordinary circumstances (such as when tablet login is not working).
+        This form is not intended to be used regularly.
+    </p>
+    <form action="{% url 'new_area_access_record' %}" method="post">
+        {% csrf_token %}
+        <div class="form-horizontal">
+            <div class="form-group">
+                <div class="col-sm-12">
+                    Customer: {{ customer }}
+                    <br>
+                    <input type="hidden" name="customer" value="{{ customer.id }}">
+                </div>
+            </div>
+            <div class="form-group">
+                <div class="col-sm-12">
+                    {% if customer.active_project_count == 1 %}
+                        Area access will be billed to the customer's only project, &quot;{{ customer.active_projects.0 }}&quot;
+                        <input type="hidden" name="project" value="{{ customer.active_projects.0.id }}">
+                    {% else %}
+                        Which of the customer's projects would you like to bill?
+                        <div class="radio">
+                            {% for p in customer.active_projects %}
+                                <label class="control-label">
+                                    <input type="radio" name="project" value="{{ p.id }}" required>
+                                    {% project_selection_display p %}
+                                </label>
+                                <br>
+                            {% endfor %}
+                        </div>
+                    {% endif %}
+                </div>
+            </div>
+        </div>
+        <div class="form-group">
+            {% if areas|length == 1 %}
+                The customer only has access to the {{ areas.0 }}. Access will be billed for that area.
+                <input type="hidden" name="area" value="{{ areas.0.id }}">
+            {% else %}
+                {{ customer }} has access to the following areas. Which would you like to bill for access?
+                {% include 'area_access/login_areas.html' with areas=areas user_accessible_areas=user_accessible_areas %}
+            {% endif %}
+        </div>
+        <div class="form-group">{% button type="save" value="Create area access record" %}</div>
+    </form>
+{% endblock %}
```

## NEMO/templates/area_access/self_login.html

```diff
@@ -1,44 +1,43 @@
 {% extends 'base.html' %}
 {% load mptt_tags %}
 {% load custom_tags_and_filters %}
 {% block title %}Log in to an area{% endblock %}
 {% block content %}
-	<h1>Log in to an access controlled area</h1>
-	{% if error_message %}
-		<div class="alert alert-danger">
-			{{ error_message }}
-		</div>
-	{% elif area_error_message %}
-		<div class="alert alert-danger">
-			{{ area_error_message }}
-		</div>
-	{% endif %}
-	{% if not error_message %}
-		<form method="post" action="{% url 'self_log_in' %}">
-			{% csrf_token %}
-			<div class="form-group">
-				{% if projects|length == 1 %}
-					You only have one active project. Area access will be billed to: {{ projects.0 }}
-					<input type="hidden" name="project" value="{{ projects.0.id }}">
-				{% else %}
-					<p>Charge area access to which project?</p>
-					{% for p in projects %}
-						<div class="radio">
-							<label><input type="radio" name="project" value="{{ p.id }}" required>{% project_selection_display p %}</label>
-						</div>
-					{% endfor %}
-				{% endif %}
-			</div>
-			<div class="form-group">
-			{% if areas|length == 1 %}
-				You are only able to access one area: {{ areas.0 }}
-				<input type="hidden" name="area" value="{{ areas.0.id }}">
-			{% else %}
-				<p>Log in to which area?</p>
-				{% include 'area_access/login_areas.html' with area_id=area_id %}
-			{% endif %}
-			</div>
+    <h1>Log in to an access controlled area</h1>
+    {% if error_message %}
+        <div class="alert alert-danger">{{ error_message }}</div>
+    {% elif area_error_message %}
+        <div class="alert alert-danger">{{ area_error_message }}</div>
+    {% endif %}
+    {% if not error_message %}
+        <form method="post" action="{% url 'self_log_in' %}">
+            {% csrf_token %}
+            <div class="form-group">
+                {% if projects|length == 1 %}
+                    You only have one active project. Area access will be billed to: {{ projects.0 }}
+                    <input type="hidden" name="project" value="{{ projects.0.id }}">
+                {% else %}
+                    <p>Charge area access to which project?</p>
+                    {% for p in projects %}
+                        <div class="radio">
+                            <label>
+                                <input type="radio" name="project" value="{{ p.id }}" required>
+                                {% project_selection_display p %}
+                            </label>
+                        </div>
+                    {% endfor %}
+                {% endif %}
+            </div>
+            <div class="form-group">
+                {% if areas|length == 1 %}
+                    You are only able to access one area: {{ areas.0 }}
+                    <input type="hidden" name="area" value="{{ areas.0.id }}">
+                {% else %}
+                    <p>Log in to which area?</p>
+                    {% include 'area_access/login_areas.html' with area_id=area_id %}
+                {% endif %}
+            </div>
             {% button type="save" icon="glyphicon-log-in" value="Log in" %}
-		</form>
-	{% endif %}
-{% endblock %}
+        </form>
+    {% endif %}
+{% endblock %}
```

## NEMO/templates/base/footer.html

```diff
@@ -1,8 +1,13 @@
 {% load custom_tags_and_filters %}
 <!-- Version -->
 <footer class="page-footer">
-	{% app_version as app_version %}
-	<div class="container">
-		{% if app_version %}v {% app_version %}{% else %}&nbsp;{% endif %} - <a href="https://www.nist.gov/cnst" target="_blank">Developed by CNST, NIST</a>
-	</div>
-</footer>
+    {% app_version as app_version %}
+    <div class="container">
+        {% if app_version %}
+            v {% app_version %}
+        {% else %}
+            &nbsp;
+        {% endif %}
+        - <a href="https://www.nist.gov/cnst" target="_blank">Developed by CNST, NIST</a>
+    </div>
+</footer>
```

### html2text {}

```diff
@@ -1,3 +1,3 @@
 {% load custom_tags_and_filters %} {% app_version as app_version %}
-{% if app_version %}v {% app_version %}{% else %} {% endif %} - _D_e_v_e_l_o_p_e_d_ _b_y
-_C_N_S_T_,_ _N_I_S_T
+{% if app_version %} v {% app_version %} {% else %}   {% endif %} - _D_e_v_e_l_o_p_e_d
+_b_y_ _C_N_S_T_,_ _N_I_S_T
```

## NEMO/templates/base/impersonate_header.html

```diff
@@ -1,3 +1,5 @@
 <div class="alert-warning" style="padding: 10px; text-align: center">
-	<span style="margin-right: 15px">You are currently impersonating {{ request.session.impersonated_user }}</span><a href="{% url 'impersonate' %}?unimpersonate" style="color: initial"><button>Switch back</button></a>
-</div>
+    <span style="margin-right: 15px">You are currently impersonating {{ request.session.impersonated_user }}</span><a href="{% url 'impersonate' %}?unimpersonate" style="color: initial">
+        <button>Switch back</button>
+    </a>
+</div>
```

### html2text {}

```diff
@@ -1,2 +1,2 @@
-You are currently impersonating {{ request.session.impersonated_user }}_S_w_i_t_c_h
+You are currently impersonating {{ request.session.impersonated_user }}_ _S_w_i_t_c_h
 _b_a_c_k
```

## NEMO/templates/base/navbar.html

 * *Ordering differences only*

```diff
@@ -1 +1 @@
-{% extends 'base/navbar_base.html' %}
+{% extends 'base/navbar_base.html' %}
```

## NEMO/templates/base/navbar_base.html

```diff
@@ -1,143 +1,194 @@
 {% load static %}
 {% load custom_tags_and_filters %}
 <nav class="navbar navbar-default navbar-static-top" role="navigation">
-	<div class="container">
-		<div class="navbar-header">
-			<a class="navbar-brand" href="{% url 'landing' %}">{{ site_title }}</a>
-			<button type="button" class="navbar-toggle navbar-btn" data-toggle="collapse" data-target="#site-navigation" aria-label="menu button">
-				<span class="icon-bar"></span>
-				<span class="icon-bar"></span>
-				<span class="icon-bar"></span>
-			</button>
-		</div>
-		<div class="navbar-collapse collapse" id="site-navigation">
-			<ul class="nav navbar-nav">
+    <div class="container">
+        <div class="navbar-header">
+            <a class="navbar-brand" href="{% url 'landing' %}">{{ site_title }}</a>
+            <button type="button"
+                    class="navbar-toggle navbar-btn"
+                    data-toggle="collapse"
+                    data-target="#site-navigation"
+                    aria-label="menu button">
+                <span class="icon-bar"></span>
+                <span class="icon-bar"></span>
+                <span class="icon-bar"></span>
+            </button>
+        </div>
+        <div class="navbar-collapse collapse" id="site-navigation">
+            <ul class="nav navbar-nav">
                 {% block navbar_main %}
-					<li><a href="{% url 'calendar' %}">{{ calendar_page_title }}</a></li>
-					{% if tools_exist %}
-						<li><a href="{% url 'tool_control' %}">{{ tool_control_page_title }}</a></li>{% endif %}
+                    <li>
+                        <a href="{% url 'calendar' %}">{{ calendar_page_title }}</a>
+                    </li>
+                    {% if tools_exist %}
+                        <li>
+                            <a href="{% url 'tool_control' %}">{{ tool_control_page_title }}</a>
+                        </li>
+                    {% endif %}
                     {% if tools_exist or areas_exist %}
                         {% if areas_exist %}
-							<li><a href="{% url 'status_dashboard' %}">{{ status_dashboard_page_title }}</a></li>
+                            <li>
+                                <a href="{% url 'status_dashboard' %}">{{ status_dashboard_page_title }}</a>
+                            </li>
                         {% else %}
-							<li><a href="{% url 'status_dashboard_tab' 'tools' %}">{{ status_dashboard_page_title }}</a>
-							</li>
+                            <li>
+                                <a href="{% url 'status_dashboard_tab' 'tools' %}">{{ status_dashboard_page_title }}</a>
+                            </li>
                         {% endif %}
                     {% endif %}
                     {% if buddy_system_areas_exist or access_user_request_allowed_exist and facility_managers_exist or adjustment_request_allowed and facility_managers_exist or training_show_in_user_requests %}
-                        <li><a href="{% url 'user_requests' %}">
-							{{ requests_page_title }}
-						{% with notification_except_training=buddy_notification_count|add:temporary_access_notification_count|add:adjustment_notification_count %}
-							{% if training_show_in_user_requests %}
-								{% if buddy_notification_count or temporary_access_notification_count or adjustment_notification_count or training_request_notification_count %}
-									<span class="badge active">{{ notification_except_training|add:training_request_notification_count }}</span>
-								{% endif %}
-							{% else %}
-								{% if buddy_notification_count or temporary_access_notification_count or adjustment_notification_count %}
-									<span class="badge active">{{ notification_except_training }}</span>
-								{% endif %}
-							{% endif %}
-						{% endwith %}
-                        </a></li>
+                        <li>
+                            <a href="{% url 'user_requests' %}">
+                                {{ requests_page_title }}
+                                {% with notification_except_training=buddy_notification_count|add:temporary_access_notification_count|add:adjustment_notification_count %}
+                                    {% if training_show_in_user_requests %}
+                                        {% if buddy_notification_count or temporary_access_notification_count or adjustment_notification_count or training_request_notification_count %}
+                                            <span class="badge active">{{ notification_except_training|add:training_request_notification_count }}</span>
+                                        {% endif %}
+                                    {% else %}
+                                        {% if buddy_notification_count or temporary_access_notification_count or adjustment_notification_count %}
+                                            <span class="badge active">{{ notification_except_training }}</span>
+                                        {% endif %}
+                                    {% endif %}
+                                {% endwith %}
+                            </a>
+                        </li>
                     {% endif %}
                     {% if safety_menu_item %}
-                        <li><a href="{% url 'safety' %}">
-							{{ safety_page_title }}
-                            {% if safety_notification_count %}
-                                <span class="badge active">{{ safety_notification_count }}</span>
-                            {% endif %}
-                        </a></li>
+                        <li>
+                            <a href="{% url 'safety' %}">
+                                {{ safety_page_title }}
+                                {% if safety_notification_count %}<span class="badge active">{{ safety_notification_count }}</span>{% endif %}
+                            </a>
+                        </li>
                     {% endif %}
                 {% endblock %}
-				{% if user.is_any_part_of_staff or user.is_tool_superuser or user.is_project_pi or user.get_all_permissions and "django.contrib.admin"|app_installed %}
-					<li class="dropdown">
-						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Administration <b class="caret"></b></a>
-						<ul id="admin-nav" class="dropdown-menu">
+                {% if user.is_any_part_of_staff or user.is_tool_superuser or user.is_project_pi or user.get_all_permissions and "django.contrib.admin"|app_installed %}
+                    <li class="dropdown">
+                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Administration <b class="caret"></b></a>
+                        <ul id="admin-nav" class="dropdown-menu">
                             {% block navbar_admin %}
                                 {# The navigation_url tag will display the item if the URL name can be reversed. #}
                                 {# This allows items to be easily removed from the public facing version. #}
                                 {% navigation_url 'admin:index' 'Detailed administration' user.is_superuser user.get_all_permissions %}
                                 {% if user.is_any_part_of_staff %}
                                     {% navigation_url 'abuse' 'Abuse' user.is_facility_manager user.is_superuser %}
                                     {% navigation_url 'accounts_and_projects' 'Accounts and projects' user.is_accounting_officer user.is_user_office user.is_facility_manager user.is_superuser %}
                                     {% navigation_url 'alerts' 'Alerts' user.is_staff user.is_user_office user.is_superuser %}
                                     {% navigation_url 'api-root' 'API' user.is_superuser %}
-                                    {% if areas_exist %}{% navigation_url 'area_access' 'Area access' user.is_staff user.is_user_office user.is_superuser %}{% endif %}
-                                    {% if tools_exist %}{% navigation_url 'configuration_agenda' 'Configuration agenda' user.is_staff user.is_superuser %}{% endif %}
+                                    {% if areas_exist %}
+                                        {% navigation_url 'area_access' 'Area access' user.is_staff user.is_user_office user.is_superuser %}
+                                    {% endif %}
+                                    {% if tools_exist %}
+                                        {% navigation_url 'configuration_agenda' 'Configuration agenda' user.is_staff user.is_superuser %}
+                                    {% endif %}
                                     {% if user.is_facility_manager or user.is_superuser or user.is_staff and "contracts"|customization:"contracts_view_staff" == "enabled" or user.is_user_office and "contracts"|customization:"contracts_view_user_office" == "enabled" or user.is_accounting_officer and "contracts"|customization:"contracts_view_accounting_officer" == "enabled" %}
                                         {% navigation_url 'service_contracts' 'Contracts & procurements' %}
                                     {% endif %}
                                     {% navigation_url 'customization' 'Customization' user.is_superuser %}
                                     {% navigation_url 'email_broadcast' 'Email' %}
-                                    {% if tools_exist %}{% navigation_url 'maintenance' 'Maintenance' user.is_staff  user.is_superuser %}{% endif %}
+                                    {% if tools_exist %}
+                                        {% navigation_url 'maintenance' 'Maintenance' user.is_staff  user.is_superuser %}
+                                    {% endif %}
                                     {% navigation_url 'project_billing' 'Project billing' user.is_accounting_officer user.is_user_office user.is_superuser %}
-                                    {% if tools_exist %}{% navigation_url 'qualifications' 'Qualifications' user.is_staff user.is_superuser %}{% endif %}
+                                    {% if tools_exist %}
+                                        {% navigation_url 'qualifications' 'Qualifications' user.is_staff user.is_superuser %}
+                                    {% endif %}
                                     {% navigation_url 'recurring_charges' recurring_charges_name user.is_user_office user.is_facility_manager user.is_superuser %}
                                     {% navigation_url 'staff_charges' 'Remote work' user.is_staff user.is_superuser %}
                                     {% navigation_url 'resources' 'Resources' user.is_staff user.is_superuser %}
                                     {% navigation_url 'sensors' 'Sensor data' %}
                                     {# we can't use args with navigation url so let's check that the regular one exists and then use staff in <li> #}
                                     {% navigation_url 'knowledge_base' '' as knowledge_base_url %}
                                     {% if knowledge_base_url %}
-                                        <li><a href="{% url 'knowledge_base' 'staff' %}">Staff knowledge base</a></li>
+                                        <li>
+                                            <a href="{% url 'knowledge_base' 'staff' %}">Staff knowledge base</a>
+                                        </li>
                                     {% endif %}
                                     {% navigation_url 'consumables' 'Supplies' user.is_staff user.is_user_office user.is_superuser %}
-                                    {% if tools_exist %}{% navigation_url 'training' 'Training' user.is_staff user.is_superuser %}{% endif %}
+                                    {% if tools_exist %}
+                                        {% navigation_url 'training' 'Training' user.is_staff user.is_superuser %}
+                                    {% endif %}
                                     {% navigation_url 'users' 'Users' %}
-									{% if "projects_and_accounts"|customization:"project_allow_transferring_charges" == "enabled" %}
-										{% navigation_url 'transfer_charges' 'Transfer charges' user.is_accounting_officer user.is_facility_manager user.is_superuser %}
-									{% endif %}
+                                    {% if "projects_and_accounts"|customization:"project_allow_transferring_charges" == "enabled" %}
+                                        {% navigation_url 'transfer_charges' 'Transfer charges' user.is_accounting_officer user.is_facility_manager user.is_superuser %}
+                                    {% endif %}
                                 {% elif user.is_tool_superuser or user.is_project_pi %}
                                     {% navigation_url 'projects' 'Projects' user.is_project_pi %}
-                                    {% if tools_exist %}{% navigation_url 'training' 'Training' user.is_tool_superuser %}{% endif %}
+                                    {% if tools_exist %}
+                                        {% navigation_url 'training' 'Training' user.is_tool_superuser %}
+                                    {% endif %}
                                 {% endif %}
                                 {% if perms.NEMO.can_impersonate_users %}
                                     {% navigation_url 'impersonate' 'Impersonate' %}
                                 {% endif %}
                             {% endblock %}
-						</ul>
-					</li>
-				{% endif %}
+                        </ul>
+                    </li>
+                {% endif %}
                 {% if user.is_staff and user.charging_staff_time %}
-					<li class="visible-xs visible-sm">
+                    <li class="visible-xs visible-sm">
                         <a href="{% url 'staff_charges' %}" style="color:red; text-decoration: none">
-                            <span id="staff_charge_link" data-container="body" data-toggle="tooltip" data-placement="right" title="{% with user.get_staff_charge as staff_charge %}You are charging staff time to {{ staff_charge.customer }} for the project named {{ staff_charge.project }} since {{ staff_charge.start }}.{% endwith %}">Charging staff time</span>
+                            <span id="staff_charge_link"
+                                  data-container="body"
+                                  data-toggle="tooltip"
+                                  data-placement="right"
+                                  title="{% with user.get_staff_charge as staff_charge %}You are charging staff time to {{ staff_charge.customer }} for the project named {{ staff_charge.project }} since {{ staff_charge.start }}.{% endwith %}">Charging staff time</span>
                         </a>
-						<script>
-							$("#staff_charge_link").tooltip();
-						</script>
-					</li>
-				{% endif %}
-				<li class="visible-xs visible-sm"><a href="{%  url 'user_preferences' %}">Preferences</a></li>
-				{% if logout_allowed %}
-					<li class="visible-xs visible-sm"><a href="{% url 'logout' %}">Logout</a></li>
-				{% endif %}
-			</ul>
-			<ul class="nav navbar-nav navbar-right hidden-sm hidden-xs">
-				{% if user.is_staff and user.charging_staff_time %}
-					<li>
-						<p class="navbar-text">
-							<a id="staff_charge_link" href="{% url 'staff_charges' %}" style="color:red; text-decoration: none" data-container="body" data-toggle="tooltip" data-placement="bottom" title="{% with user.get_staff_charge as staff_charge %}You are charging staff time to {{ staff_charge.customer }} for the project named {{ staff_charge.project }} since {{ staff_charge.start }}.{% endwith %}">
-								Charging staff time
-							</a>
-						</p>
-						<script>
-							$("#staff_charge_link").tooltip();
-						</script>
-					</li>
-				{% endif %}
-				<li><p class="navbar-text">Welcome, {{ user.first_name }}</p></li>
-				<li class="navbar-preferences"><a href="{%  url 'user_preferences' %}"><img src="{% static 'icons/preferences.png' %}" alt="preferences"/></a></li>
-				{% if logout_allowed %}
-					<li><a href="{% url 'logout' %}" style="padding-left: 0;padding-right: 0;margin-left: 15px; margin-right: 15px">Logout</a></li>
-				{% endif %}
-			</ul>
-		</div>
-	</div>
+                        <script>$("#staff_charge_link").tooltip();</script>
+                    </li>
+                {% endif %}
+                <li class="visible-xs visible-sm">
+                    <a href="{% url 'user_preferences' %}">Preferences</a>
+                </li>
+                {% if logout_allowed %}
+                    <li class="visible-xs visible-sm">
+                        <a href="{% url 'logout' %}">Logout</a>
+                    </li>
+                {% endif %}
+            </ul>
+            <ul class="nav navbar-nav navbar-right hidden-sm hidden-xs">
+                {% if user.is_staff and user.charging_staff_time %}
+                    <li>
+                        <p class="navbar-text">
+                            <a id="staff_charge_link"
+                               href="{% url 'staff_charges' %}"
+                               style="color:red;
+                                      text-decoration: none"
+                               data-container="body"
+                               data-toggle="tooltip"
+                               data-placement="bottom"
+                               title="{% with user.get_staff_charge as staff_charge %}You are charging staff time to {{ staff_charge.customer }} for the project named {{ staff_charge.project }} since {{ staff_charge.start }}.{% endwith %}">
+                                Charging staff time
+                            </a>
+                        </p>
+                        <script>$("#staff_charge_link").tooltip();</script>
+                    </li>
+                {% endif %}
+                <li>
+                    <p class="navbar-text">Welcome, {{ user.first_name }}</p>
+                </li>
+                <li class="navbar-preferences">
+                    <a href="{% url 'user_preferences' %}">
+                        <img src="{% static 'icons/preferences.png' %}" alt="preferences" />
+                    </a>
+                </li>
+                {% if logout_allowed %}
+                    <li>
+                        <a href="{% url 'logout' %}"
+                           style="padding-left: 0;
+                                  padding-right: 0;
+                                  margin-left: 15px;
+                                  margin-right: 15px">Logout</a>
+                    </li>
+                {% endif %}
+            </ul>
+        </div>
+    </div>
 </nav>
 <script>
     window.addEventListener("load", function ()
     {
         sort_elements(document.getElementById('admin-nav'), "> li");
     });
-</script>
+</script>
```

### html2text {}

```diff
@@ -19,16 +19,16 @@
       _t_e_m_p_o_r_a_r_y___a_c_c_e_s_s___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _o_r_ _a_d_j_u_s_t_m_e_n_t___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _o_r
       _t_r_a_i_n_i_n_g___r_e_q_u_e_s_t___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _%_}_ _{
       _{_ _n_o_t_i_f_i_c_a_t_i_o_n___e_x_c_e_p_t___t_r_a_i_n_i_n_g_|_a_d_d_:_t_r_a_i_n_i_n_g___r_e_q_u_e_s_t___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _}_}
       _{_%_ _e_n_d_i_f_ _%_}_ _{_%_ _e_l_s_e_ _%_}_ _{_%_ _i_f_ _b_u_d_d_y___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _o_r
       _t_e_m_p_o_r_a_r_y___a_c_c_e_s_s___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _o_r_ _a_d_j_u_s_t_m_e_n_t___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _%_}_ _{
       _{_ _n_o_t_i_f_i_c_a_t_i_o_n___e_x_c_e_p_t___t_r_a_i_n_i_n_g_ _}_}_ _{_%_ _e_n_d_i_f_ _%_}_ _{_%_ _e_n_d_i_f_ _%_}_ _{_%_ _e_n_d_w_i_t_h_ _%_}
     * {% endif %} {% if safety_menu_item %}
-    * _{_{_ _s_a_f_e_t_y___p_a_g_e___t_i_t_l_e_ _}_}_ _{_%_ _i_f_ _s_a_f_e_t_y___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _%_}_ _{
-      _{_ _s_a_f_e_t_y___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _}_}_ _{_%_ _e_n_d_i_f_ _%_}
+    * _{_{_ _s_a_f_e_t_y___p_a_g_e___t_i_t_l_e_ _}_}_ _{_%_ _i_f_ _s_a_f_e_t_y___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _%_}_{
+      _{_ _s_a_f_e_t_y___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _}_}_{_%_ _e_n_d_i_f_ _%_}
     * {% endif %} {% endblock %} {% if user.is_any_part_of_staff or
       user.is_tool_superuser or user.is_project_pi or user.get_all_permissions
       and "django.contrib.admin"|app_installed %}
     * _A_d_m_i_n_i_s_t_r_a_t_i_o_n
           o {% block navbar_admin %} {# The navigation_url tag will display the
             item if the URL name can be reversed. #} {# This allows items to be
             easily removed from the public facing version. #} {% navigation_url
@@ -36,58 +36,59 @@
             user.get_all_permissions %} {% if user.is_any_part_of_staff %} {%
             navigation_url 'abuse' 'Abuse' user.is_facility_manager
             user.is_superuser %} {% navigation_url 'accounts_and_projects'
             'Accounts and projects' user.is_accounting_officer
             user.is_user_office user.is_facility_manager user.is_superuser %}
             {% navigation_url 'alerts' 'Alerts' user.is_staff
             user.is_user_office user.is_superuser %} {% navigation_url 'api-
-            root' 'API' user.is_superuser %} {% if areas_exist %}{%
+            root' 'API' user.is_superuser %} {% if areas_exist %} {%
             navigation_url 'area_access' 'Area access' user.is_staff
-            user.is_user_office user.is_superuser %}{% endif %} {% if
-            tools_exist %}{% navigation_url 'configuration_agenda'
-            'Configuration agenda' user.is_staff user.is_superuser %}{% endif
+            user.is_user_office user.is_superuser %} {% endif %} {% if
+            tools_exist %} {% navigation_url 'configuration_agenda'
+            'Configuration agenda' user.is_staff user.is_superuser %} {% endif
             %} {% if user.is_facility_manager or user.is_superuser or
             user.is_staff and "contracts"|customization:"contracts_view_staff"
             == "enabled" or user.is_user_office and "contracts"|customization:
             "contracts_view_user_office" == "enabled" or
             user.is_accounting_officer and "contracts"|customization:
             "contracts_view_accounting_officer" == "enabled" %} {%
             navigation_url 'service_contracts' 'Contracts & procurements' %} {%
             endif %} {% navigation_url 'customization' 'Customization'
             user.is_superuser %} {% navigation_url 'email_broadcast' 'Email' %}
-            {% if tools_exist %}{% navigation_url 'maintenance' 'Maintenance'
-            user.is_staff user.is_superuser %}{% endif %} {% navigation_url
+            {% if tools_exist %} {% navigation_url 'maintenance' 'Maintenance'
+            user.is_staff user.is_superuser %} {% endif %} {% navigation_url
             'project_billing' 'Project billing' user.is_accounting_officer
-            user.is_user_office user.is_superuser %} {% if tools_exist %}{%
+            user.is_user_office user.is_superuser %} {% if tools_exist %} {%
             navigation_url 'qualifications' 'Qualifications' user.is_staff
-            user.is_superuser %}{% endif %} {% navigation_url
+            user.is_superuser %} {% endif %} {% navigation_url
             'recurring_charges' recurring_charges_name user.is_user_office
             user.is_facility_manager user.is_superuser %} {% navigation_url
             'staff_charges' 'Remote work' user.is_staff user.is_superuser %} {%
             navigation_url 'resources' 'Resources' user.is_staff
             user.is_superuser %} {% navigation_url 'sensors' 'Sensor data' %}
             {# we can't use args with navigation url so let's check that the
             regular one exists and then use staff in
           o #} {% navigation_url 'knowledge_base' '' as knowledge_base_url %}
             {% if knowledge_base_url %}
           o _S_t_a_f_f_ _k_n_o_w_l_e_d_g_e_ _b_a_s_e
           o {% endif %} {% navigation_url 'consumables' 'Supplies'
             user.is_staff user.is_user_office user.is_superuser %} {% if
-            tools_exist %}{% navigation_url 'training' 'Training' user.is_staff
-            user.is_superuser %}{% endif %} {% navigation_url 'users' 'Users'
-            %} {% if "projects_and_accounts"|customization:
+            tools_exist %} {% navigation_url 'training' 'Training'
+            user.is_staff user.is_superuser %} {% endif %} {% navigation_url
+            'users' 'Users' %} {% if "projects_and_accounts"|customization:
             "project_allow_transferring_charges" == "enabled" %} {%
             navigation_url 'transfer_charges' 'Transfer charges'
             user.is_accounting_officer user.is_facility_manager
             user.is_superuser %} {% endif %} {% elif user.is_tool_superuser or
             user.is_project_pi %} {% navigation_url 'projects' 'Projects'
-            user.is_project_pi %} {% if tools_exist %}{% navigation_url
-            'training' 'Training' user.is_tool_superuser %}{% endif %} {% endif
-            %} {% if perms.NEMO.can_impersonate_users %} {% navigation_url
-            'impersonate' 'Impersonate' %} {% endif %} {% endblock %}
+            user.is_project_pi %} {% if tools_exist %} {% navigation_url
+            'training' 'Training' user.is_tool_superuser %} {% endif %} {%
+            endif %} {% if perms.NEMO.can_impersonate_users %} {%
+            navigation_url 'impersonate' 'Impersonate' %} {% endif %} {%
+            endblock %}
     * {% endif %} {% if user.is_staff and user.charging_staff_time %}
     * _C_h_a_r_g_i_n_g_ _s_t_a_f_f_ _t_i_m_e
 {% endif %}
 _P_r_e_f_e_r_e_n_c_e_s
 {% if logout_allowed %}
 _L_o_g_o_u_t
 {% endif %}
```

## NEMO/templates/base/popup.html

```diff
@@ -1,8 +1,14 @@
 <div class="modal-header">
     <button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
-    <h4 id="modal-description-label" class="modal-title">{% block title %}{% endblock %}</h4>
+    <h4 id="modal-description-label" class="modal-title">
+        {% block title %}{% endblock %}
+    </h4>
 </div>
 <div class="modal-body">
     {% block content %}{% endblock %}
 </div>
-<div class="modal-footer">{% block footer %}{% endblock %}</div>
+{% spaceless %}
+    <div class="modal-footer">
+        {% block footer %}{% endblock %}
+    </div>
+{% endspaceless %}
```

## NEMO/templates/calendar/accessories.html

```diff
@@ -1,21 +1,16 @@
 {% load custom_tags_and_filters %}
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal">&times;</button>
-	<h4 class="modal-title">Choose tool accessories</h4>
+    <button type="button" class="close" data-dismiss="modal">&times;</button>
+    <h4 class="modal-title">Choose tool accessories</h4>
 </div>
-
 <div class="modal-body">
-	<input type="hidden" id="dialog_cancelled" value="true">
-	<form id="additional_event_parameters">
-		<input type="hidden" id="accessories_configured" name="accessories_configured" value="true">
-		{% include 'calendar/accessories_helper.html' %}
-	</form>
+    <input type="hidden" id="dialog_cancelled" value="true">
+    <form id="additional_event_parameters">
+        <input type="hidden" id="accessories_configured" name="accessories_configured" value="true">
+        {% include 'calendar/accessories_helper.html' %}
+    </form>
 </div>
-
 <div class="modal-footer">
     {% button type="save" submit=False dismiss="modal" onclick="$('#dialog_cancelled').val(false);" value="Create this reservation" %}
 </div>
-
-<script>
-	$('[data-toggle~="tooltip"]').tooltip();
-</script>
+<script>$('[data-toggle~="tooltip"]').tooltip();</script>
```

## NEMO/templates/calendar/accessories_helper.html

```diff
@@ -2,31 +2,34 @@
 {# It is included from templates/calendar/accessories.html for the desktop version #}
 {# and from templates/mobile/new_reservation.html from the mobile version. #}
 {# from templates/kiosk/tool_reservation.html from the kiosk version. #}
 {# If you modify this template then please check that all other versions work. #}
 {% load custom_tags_and_filters %}
 {% load tz %}
 <div class="form-group">
-	<label for="tool_accessories">Optional accessories:</label>
-	{% for accessory in tool_accessories %}
-		<div class="checkbox">
-			<label>
-				<input type="checkbox" value="{{ accessory.id }}" name="tool_accessories" {% if accessory.id in selected_accessories %} checked{% endif %} {% if accessory.name in conflicts.keys %}disabled{% endif %}>{{ accessory.name }}
-				{% if accessory.name in conflicts %}
-					<span class="grey">(Unavailable
-					{% for reservation_using_accessory in conflicts|get_item:accessory.name %}
-						{% if reservation_using_accessory.start|localtime|date == reservation_using_accessory.end|localtime|date %}
-							on {{ reservation_using_accessory.start|localtime|date }} from
-							{{ reservation_using_accessory.start|time }} to {{ reservation_using_accessory.end|time }}
-						{% else %}
-							from {{ reservation_using_accessory.start }} to {{ reservation_using_accessory.end }}
-						{% endif %}
-						{% if not forloop.last %}
-							and
-						{% endif %}
-					{% endfor %}
-					)</span>
-				{% endif %}
-			</label>
-		</div>
-	{% endfor %}
+    <label for="tool_accessories">Optional accessories:</label>
+    {% for accessory in tool_accessories %}
+        <div class="checkbox">
+            <label>
+                <input type="checkbox"
+                       value="{{ accessory.id }}"
+                       name="tool_accessories"
+                       {% if accessory.id in selected_accessories %}checked{% endif %}
+                       {% if accessory.name in conflicts.keys %}disabled{% endif %}>
+                {{ accessory.name }}
+                {% if accessory.name in conflicts %}
+                    <span class="grey">(Unavailable
+                        {% for reservation_using_accessory in conflicts|get_item:accessory.name %}
+                            {% if reservation_using_accessory.start|localtime|date == reservation_using_accessory.end|localtime|date %}
+                                on {{ reservation_using_accessory.start|localtime|date }} from
+                                {{ reservation_using_accessory.start|time }} to {{ reservation_using_accessory.end|time }}
+                            {% else %}
+                                from {{ reservation_using_accessory.start }} to {{ reservation_using_accessory.end }}
+                            {% endif %}
+                            {% if not forloop.last %}and{% endif %}
+                        {% endfor %}
+                    )</span>
+                {% endif %}
+            </label>
+        </div>
+    {% endfor %}
 </div>
```

## NEMO/templates/calendar/calendar.html

```diff
@@ -1,84 +1,159 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% load training_tags %}
 {% block title %}{{ calendar_page_title }}{% endblock %}
 {% block extrahead %}
-	{% load static %}
-	<link rel="stylesheet" type="text/css" href="{% static "fullcalendar/fullcalendar.min.css" %}" />
-	<script type="text/javascript" src="{% static "fullcalendar/fullcalendar.min.js" %}"></script>
+    {% load static %}
+    <link rel="stylesheet" type="text/css" href="{% static "fullcalendar/fullcalendar.min.css" %}" />
+    <script type="text/javascript" src="{% static "fullcalendar/fullcalendar.min.js" %}"></script>
 {% endblock %}
 {% block body %}
-<div id="main-content">
-<div id="sidebar" class="application-sidebar">
-	<div class="btn-group sidebar-item">
-		<button type="button" class="btn btn-default dropdown-toggle" style="width:100%" data-toggle="dropdown">
-			<span id="event_type">Reservations</span>
-			<span class="caret"></span>
-		</button>
-		<ul class="dropdown-menu">
-			<li class="dropdown-header" id="event_type_help">Which type of events would you like<br>to view on the calendar?</li>
-			<li data-toggle="tooltip" data-placement="right" title="Displays {% if tools and areas %}tool and area{% elif tools %}tool{% elif areas %}area{% endif %} reservations. While viewing reservations, the 'Personal schedule' link shows your reservations for all {% if tools and areas %}tools and areas{% elif tools %}tools{% elif areas %}areas{% endif %}. Select a {% if tools and areas %}tool or area{% elif tools %}tool{% elif areas %}area{% endif %} to view everyone's reservations for that {% if tools and areas %}tool or area{% elif tools %}tool{% elif areas %}area{% endif %}."><a aria-describedby="event_type_help" href="javascript:void(0)" onclick="change_calendar_event_type(this)">Reservations</a></li>
-			<li data-toggle="tooltip" data-placement="right" title="Displays your {{ facility_name }} usage. This includes{% if areas %} area access,{% endif %}{% if tools %} tool usage,{% endif %} and missed reservations (which are all billable items)."><a aria-describedby="event_type_help" href="javascript:void(0)" onclick="change_calendar_event_type(this)">{{ facility_name }} usage</a></li>
-                <li data-toggle="tooltip" data-placement="right" title="Displays the tool configuration agenda."><a
-                        aria-describedby="event_type_help" href="javascript:void(0)"
-                        onclick="change_calendar_event_type(this)">Configuration agenda</a></li>
-			{% if user.is_staff %}
-				<li data-toggle="tooltip" data-placement="right" title="Displays {{ facility_name }} reservations and usage for a specific user. This includes reservations, area access, tool usage, and missed reservations."><a aria-describedby="event_type_help" href="javascript:void(0)" onclick="change_calendar_event_type(this)">Specific user</a></li>
-			{% endif %}
-		</ul>
-	</div>
-	<div id="expand-collapse" class="btn-group sidebar-item">
-        {% if calendar_qualified_tools and not user.is_staff %}
-            <button type="button" class="btn btn-default" style="width:50%" onclick="toggle_categories()" title="Expand/collapse all categories"><span id="expand_collapse_icon" class="glyphicon glyphicon"></span></button>
-            <button type="button" class="btn btn-default" id="qualified_tools_btn" style="width:50%" onclick="toggle_qualified_tools(retrieve_user_qualifications())" title="Only show qualified tools"><span class="glyphicon glyphicon-check"></span></button>
-        {% else %}
-            <button type="button" class="btn btn-default" style="width:100%" onclick="toggle_categories()" title="Expand/collapse all categories"><span id="expand_collapse_icon" class="glyphicon glyphicon"></span></button>
-        {% endif %}
-	</div>
-	<input aria-label="Search for a tool or area" type="search" id="item_search" placeholder="Search for{% if tools %} a tool{% endif %}{% if tools and areas %} or{% endif %}{% if areas %} an area{% endif %}" class="form-control sidebar-item" autocomplete="off">
-	<input aria-label="Search for a user" type="search" id="user_search" placeholder="Search for a user" class="form-control sidebar-item" autocomplete="off" style="display:none">
-	<button id="chosen_user_button" type="button" class="btn btn-default" style="width:100%; display:none" onclick="clear_specific_user()"></button>
-
-	{# The following menu tree code was take from an example at http://www.bootply.com/120625 #}
-	<ul id="extra-links" class="nav nav-list" style="margin-top: 10px; margin-bottom: 8px;">
-        <li><a href="javascript:void(0)" id="extra-links-personal-schedule" class="selected personal_schedule"
-               data-item-id="personal_schedule" onclick="on_extra_link_click(this)">Personal schedule</a></li>
-		{% if calendar_all_tools %}
-            <li><a href="javascript:void(0)" id="extra-links-all-tools" class="all_tools" data-item-id="all_tools"
-                   onclick="on_extra_link_click(this)">All tools</a></li>
-		{% endif %}
-		{% if calendar_all_areas %}
-            <li><a href="javascript:void(0)" id="extra-links-all-areas" class="all_areas" data-item-id="all_areas"
-                   onclick="on_extra_link_click(this)">All areas</a></li>
-		{% endif %}
-		{% if calendar_all_areastools %}
-            <li><a href="javascript:void(0)" id="extra-links-all-areastools" class="all_areastools"
-                   data-item-id="all_areastools" onclick="on_extra_link_click(this)">All areas and tools</a></li>
-		{% endif %}
-	</ul>
-    <button style="width: 100%" id="clear-selection-btn" class="btn btn-default" onclick="on_clear_selection_click();">
-        Clear Selection
-    </button>
-	{# The item tree has the HTML class tag "item_tree". See the widgets/item_tree.py file for more information. #}
-	{{ rendered_item_tree_html }}
-	<div style="height:50px"></div>
-</div>
-
-<div id="calendar" class="application-content"></div>
-<input type="hidden" id="impersonate" name="impersonate" value="">
-
-<script type="text/javascript">
+    <div id="main-content">
+        <div id="sidebar" class="application-sidebar">
+            <div class="btn-group sidebar-item">
+                <button type="button" class="btn btn-default dropdown-toggle" style="width:100%" data-toggle="dropdown">
+                    <span id="event_type">Reservations</span>
+                    <span class="caret"></span>
+                </button>
+                <ul class="dropdown-menu">
+                    <li class="dropdown-header" id="event_type_help">
+                        Which type of events would you like
+                        <br>
+                        to view on the calendar?
+                    </li>
+                    <li data-toggle="tooltip"
+                        data-placement="right"
+                        title="Displays {% if tools and areas %}tool and area{% elif tools %}tool{% elif areas %}area{% endif %} reservations. While viewing reservations, the 'Personal schedule' link shows your reservations for all {% if tools and areas %}tools and areas{% elif tools %}tools{% elif areas %}areas{% endif %}. Select a {% if tools and areas %}tool or area{% elif tools %}tool{% elif areas %}area{% endif %} to view everyone's reservations for that {% if tools and areas %}tool or area{% elif tools %}tool{% elif areas %}area{% endif %}.">
+                        <a aria-describedby="event_type_help"
+                           href="javascript:void(0)"
+                           onclick="change_calendar_event_type(this)">Reservations</a>
+                    </li>
+                    <li data-toggle="tooltip"
+                        data-placement="right"
+                        title="Displays your {{ facility_name }} usage. This includes{% if areas %} area access,{% endif %}{% if tools %} tool usage,{% endif %} and missed reservations (which are all billable items).">
+                        <a aria-describedby="event_type_help"
+                           href="javascript:void(0)"
+                           onclick="change_calendar_event_type(this)">{{ facility_name }} usage</a>
+                    </li>
+                    <li data-toggle="tooltip" data-placement="right" title="Displays the tool configuration agenda.">
+                        <a aria-describedby="event_type_help"
+                           href="javascript:void(0)"
+                           onclick="change_calendar_event_type(this)">Configuration agenda</a>
+                    </li>
+                    {% if user.is_staff %}
+                        <li data-toggle="tooltip"
+                            data-placement="right"
+                            title="Displays {{ facility_name }} reservations and usage for a specific user. This includes reservations, area access, tool usage, and missed reservations.">
+                            <a aria-describedby="event_type_help"
+                               href="javascript:void(0)"
+                               onclick="change_calendar_event_type(this)">Specific user</a>
+                        </li>
+                    {% endif %}
+                </ul>
+            </div>
+            <div id="expand-collapse" class="btn-group sidebar-item">
+                {% if calendar_qualified_tools and not user.is_staff %}
+                    <button type="button"
+                            class="btn btn-default"
+                            style="width:50%"
+                            onclick="toggle_categories()"
+                            title="Expand/collapse all categories">
+                        <span id="expand_collapse_icon" class="glyphicon glyphicon"></span>
+                    </button>
+                    <button type="button"
+                            class="btn btn-default"
+                            id="qualified_tools_btn"
+                            style="width:50%"
+                            onclick="toggle_qualified_tools(retrieve_user_qualifications())"
+                            title="Only show qualified tools">
+                        <span class="glyphicon glyphicon-check"></span>
+                    </button>
+                {% else %}
+                    <button type="button"
+                            class="btn btn-default"
+                            style="width:100%"
+                            onclick="toggle_categories()"
+                            title="Expand/collapse all categories">
+                        <span id="expand_collapse_icon" class="glyphicon glyphicon"></span>
+                    </button>
+                {% endif %}
+            </div>
+            <input aria-label="Search for a tool or area"
+                   type="search"
+                   id="item_search"
+                   placeholder="Search for{% if tools %} a tool{% endif %}{% if tools and areas %} or{% endif %}{% if areas %} an area{% endif %}"
+                   class="form-control sidebar-item"
+                   autocomplete="off">
+            <input aria-label="Search for a user"
+                   type="search"
+                   id="user_search"
+                   placeholder="Search for a user"
+                   class="form-control sidebar-item"
+                   autocomplete="off"
+                   style="display:none">
+            <button id="chosen_user_button"
+                    type="button"
+                    class="btn btn-default"
+                    style="width:100%;
+                           display:none"
+                    onclick="clear_specific_user()"></button>
+            {# The following menu tree code was take from an example at http://www.bootply.com/120625 #}
+            <ul id="extra-links" class="nav nav-list" style="margin-top: 10px; margin-bottom: 8px;">
+                <li>
+                    <a href="javascript:void(0)"
+                       id="extra-links-personal-schedule"
+                       class="selected personal_schedule"
+                       data-item-id="personal_schedule"
+                       onclick="on_extra_link_click(this)">Personal schedule</a>
+                </li>
+                {% if calendar_all_tools %}
+                    <li>
+                        <a href="javascript:void(0)"
+                           id="extra-links-all-tools"
+                           class="all_tools"
+                           data-item-id="all_tools"
+                           onclick="on_extra_link_click(this)">All tools</a>
+                    </li>
+                {% endif %}
+                {% if calendar_all_areas %}
+                    <li>
+                        <a href="javascript:void(0)"
+                           id="extra-links-all-areas"
+                           class="all_areas"
+                           data-item-id="all_areas"
+                           onclick="on_extra_link_click(this)">All areas</a>
+                    </li>
+                {% endif %}
+                {% if calendar_all_areastools %}
+                    <li>
+                        <a href="javascript:void(0)"
+                           id="extra-links-all-areastools"
+                           class="all_areastools"
+                           data-item-id="all_areastools"
+                           onclick="on_extra_link_click(this)">All areas and tools</a>
+                    </li>
+                {% endif %}
+            </ul>
+            <button style="width: 100%"
+                    id="clear-selection-btn"
+                    class="btn btn-default"
+                    onclick="on_clear_selection_click();">Clear Selection</button>
+            {# The item tree has the HTML class tag "item_tree". See the widgets/item_tree.py file for more information. #}
+            {{ rendered_item_tree_html }}
+            <div style="height:50px"></div>
+        </div>
+        <div id="calendar" class="application-content"></div>
+        <input type="hidden" id="impersonate" name="impersonate" value="">
+        <script type="text/javascript">
 const training_button_text = "Schedule trainings";
 const training_button_text_done = "I've finished creating trainings";
 
 let logged_in = false;
-{% if user.in_area %}
-logged_in = "{{ user.area_access_record.area.name }}";
-{% endif %}
+{% if user.in_area %}logged_in = "{{ user.area_access_record.area.name }}";{% endif %}
 
 function get_event_type()
 {
 	return $("#event_type").text().trim().toLowerCase();
 }
 
 function set_event_type(text)
@@ -517,30 +592,33 @@
 			left: "prev,next today{% if user.is_staff %} proxyReservation scheduledOutage{% endif %}{% if "training"|customization:"training_module_enabled" == "enabled" and user|is_trainer %} scheduleTraining{% endif %} login logout",
 			center: "title",
 			right: "agendaDay,agendaWeek,month"
 		},
 		"views": {
 			"day": {
 				"titleFormat": ' ',
-				"columnFormat": '{{ calendar_day_column_format }}'
+				"columnFormat": '{{ calendar_day_column_format }}',
+				"timeFormat": '{{ calendar_day_time_format }}'
 			},
 			"week": {
 				"titleFormat": ' ',
-				"columnFormat": '{{ calendar_week_column_format }}'
+				"columnFormat": '{{ calendar_week_column_format }}',
+				"timeFormat": '{{ calendar_week_time_format }}'
 			},
 			"month": {
 				"titleFormat": 'MMMM YYYY',
-				"columnFormat": '{{ calendar_month_column_format }}'
+				"columnFormat": '{{ calendar_month_column_format }}',
+				"timeFormat": '{{ calendar_month_time_format }}'
 			}
 		},
 		"firstDay": '{{ calendar_first_day_of_week }}',
 		"scrollTime": '{{ calendar_start_of_the_day }}',
 		"defaultView": '{{ calendar_view }}',
 		"nowIndicator": '{{ calendar_now_indicator }}',
-        "slotLabelFormat": '{{ calendar_time_format }}',
+        "slotLabelFormat": '{{ calendar_axis_time_format }}',
 		"allDaySlot": false,
 		"allDayDefault": false,
 		"slotDuration": '00:15:00', {# 15 minutes each row #}
 		"slotLabelInterval": '1:00', {# One hour intervals for label #}
 		"editable": false,
 		"selectable": true,
 		"selectHelper": true,
@@ -991,10 +1069,10 @@
 	{% endif %}
 	$('[data-toggle~="tooltip"]').tooltip({ container: 'body' });
 	refresh_calendar_login();
 }
 
 $(on_load);
 
-</script>
-</div>
+        </script>
+    </div>
 {% endblock %}
```

## NEMO/templates/calendar/configuration.html

```diff
@@ -1,29 +1,25 @@
 {% load custom_tags_and_filters %}
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
-	<h4 id="modal-description-label" class="modal-title">Choose tool configuration</h4>
+    <button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
+    <h4 id="modal-description-label" class="modal-title">Choose tool configuration</h4>
 </div>
-
 <div class="modal-body">
-	{# Assume the dialog is cancelled by default, preventing the reservation request from being processed further. #}
-	{# When a button is clicked this value is set to false, enabling further processing. #}
-	{# Hiding the dialog using the X in the top right, or clicking outside of it, will stop processing. #}
-	<input type="hidden" id="dialog_cancelled" value="true">
-	<form id="additional_event_parameters">
-		<input type="hidden" id="configured" name="configured" value="true">
-		{% if not sufficient_notice %}
-			<div class="alert alert-danger">
-				<strong>Warning:</strong> {{ notice_limit }} hours of advance notice is required when reserving this tool in order to configure it properly. You may still create a reservation right now, but there is no guarantee the tool will be properly configured when you arrive to use it.
-			</div><p>
-		{% endif %}
-		{% include 'configuration/configuration_reservation_helper.html' %}
-	</form>
-</div>
-
-<div class="modal-footer">
-    {% button type="save" submit=False dismiss="modal" onclick="$('#dialog_cancelled').val(false);" value="Create this reservation" %}
-</div>
-
-<script>
-	$('[data-toggle~="tooltip"]').tooltip();
-</script>
+    {# Assume the dialog is cancelled by default, preventing the reservation request from being processed further. #}
+    {# When a button is clicked this value is set to false, enabling further processing. #}
+    {# Hiding the dialog using the X in the top right, or clicking outside of it, will stop processing. #}
+    <input type="hidden" id="dialog_cancelled" value="true">
+    <form id="additional_event_parameters">
+        <input type="hidden" id="configured" name="configured" value="true">
+        {% if not sufficient_notice %}
+            <div class="alert alert-danger">
+                <strong>Warning:</strong> {{ notice_limit }} hours of advance notice is required when reserving this tool in order to configure it properly. You may still create a reservation right now, but there is no guarantee the tool will be properly configured when you arrive to use it.
+            </div>
+            <p>
+            {% endif %}
+            {% include 'configuration/configuration_reservation_helper.html' %}
+        </form>
+    </div>
+    <div class="modal-footer">
+        {% button type="save" submit=False dismiss="modal" onclick="$('#dialog_cancelled').val(false);" value="Create this reservation" %}
+    </div>
+    <script>$('[data-toggle~="tooltip"]').tooltip();</script>
```

## NEMO/templates/calendar/configuration_event_feed.html

```diff
@@ -1,7 +1,8 @@
+{# djlint:off #}
 [
 {% for x in events %}
 	{
 	{% if all_tools and x.tool %}
 		"title": "{{ x.reservation_item.name|escapejs }} ({{ x.user.username|escapejs }})\n{{ x.get_configuration_options_display|escapejs }}",
 	{% else %}
 		"title": "{{ x.user|escapejs }}\n{{ x.get_configuration_options_display|escapejs }}",
@@ -16,8 +17,8 @@
 	{# The reservation creator or staff may edit the event: #}
 	{% if user.id == x.user.id or user.is_staff %}"editable": true,{% endif %}
 	"start": "{{ x.start|date:"c" }}",
 	"end": "{{ x.get_visual_end|date:"c" }}",
 	"details_url": "{% url 'reservation_details' x.id %}"
 	}{% if not forloop.last %},{% endif %}
 {% endfor %}
-]
+]
```

## NEMO/templates/calendar/new_training_event.html

```diff
@@ -1,135 +1,161 @@
 {% load custom_tags_and_filters %}
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal">&times;</button>
-	<h4 class="modal-title">New training event</h4>
+    <button type="button" class="close" data-dismiss="modal">&times;</button>
+    <h4 class="modal-title">New training event</h4>
 </div>
-
 <div class="modal-body">
-	<input type="hidden" id="dialog_cancelled" value="true">
-	{% if form.non_field_errors %}
-		<div class="alert alert-danger">
-			Oops! Something went wrong. The training event was not created because:<br>
-			{{ form.non_field_errors }}
-		</div>
-	{% endif %}
-	<form id="additional_event_parameters" class="form-horizontal" onsubmit="return false">
-		<input type="hidden" name="training_configured" value="true">
-		{% if training_details.techniques.all %}
-			<div class="form-group">
-				<label class="col-sm-3 col-md-2 control-label" for="technique">Technique</label>
-				<div class="col-sm-5 col-md-4">
-					<select class="form-control" name="technique" id="technique">
-						<option value="">{{ "training"|customization:"training_technique_empty_label" }}</option>
-						{% for technique in training_details.techniques.all %}
-							<option label="{{ technique.name }}" value="{{ technique.id }}" {% if form.technique.value|to_int == technique.id %}selected{% endif %}></option>
-						{% endfor %}
-					</select>
-				</div>
-				{% if form.technique.errors %}
-					<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
-						{{ form.technique.errors|striptags }}
-					</div>
-				{% endif %}
-			</div>
-		{% endif %}
-		<div class="form-group">
-			<label class="col-sm-3 col-md-2 control-label" for="duration">Duration</label>
-			<div class="col-sm-5 col-md-4">
-				<div class="input-group">
-					<input class="form-control" name="duration" id="duration" type="number" min="15" value="{{ form.duration.value|default_if_none:'' }}" required>
-					<span class="input-group-addon">minutes</span>
-				</div>
-			</div>
-			{% if form.duration.errors %}
-				<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
-					{{ form.duration.errors|striptags }}
-				</div>
-			{% endif %}
-		</div>
-		<div class="form-group">
-			<label class="col-sm-3 col-md-2 control-label" for="capacity">Capacity</label>
-			<div class="col-sm-5 col-md-4">
-				<div class="input-group">
-					<input class="form-control" name="capacity" id="capacity" type="number" min="1" value="{{ form.capacity.value|default_if_none:'' }}" required>
-					<span class="input-group-addon">attendees</span>
-				</div>
-			</div>
-			{% if form.capacity.errors %}
-				<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
-					{{ form.capacity.errors|striptags }}
-				</div>
-			{% endif %}
-		</div>
-		<div class="form-group">
-			<label class="col-sm-3 col-md-2 control-label" for="invitation_only">Invitation only</label>
-			<div class="col-sm-5">
-				<div class="checkbox">
-					<label><input type="checkbox" name="invitation_only" id="invitation_only" {% if form.invitation_only.value %}checked{% endif %}>Only invited users can register</label>
-				</div>
-			</div>
-			{% if form.invitation_only.errors %}
-				<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
-					{{ form.invitation_only.errors|striptags }}
-				</div>
-			{% endif %}
-		</div>
-		{% if form.instance.id and form.instance.users.all %}
-			<div class="form-group">
-				<label class="control-label col-sm-3 col-md-2" for="_search">Attendees</label>
-				<div id="registered-user-list" class="col-sm-9 form-control-static">
-					No users have registered for this training yet.
-				</div>
-			</div>
-		{% endif %}
-		<div class="form-group">
-			<label class="control-label col-sm-3 col-md-2" for="invited_search">Invitations</label>
-			<div class="col-sm-5 col-md-4">
-				<input id="invited_search" type="text" autocomplete="off" class="form-control" placeholder="Invite users">
-			</div>
-		</div>
-		<div class="form-group">
-			<div id="invited-user-list" class="col-sm-offset-3 col-md-offset-2 col-sm-5">
-				No users have been invited to this training yet.
-			</div>
-			{% if suggested_users %}
-				<div id="suggested_users_container" class="col-sm-4">
-					<div class="visible-xs" style="margin-top: 20px"></div>
-					<div style="text-align: right; margin-top: -40px">
-						<div style="text-decoration: underline;margin-bottom: 5px">Suggested users:</div>
-						<div id="suggested_users">
-							{% for user in suggested_users %}
-								<div>
-									<span onclick="add_invited_user('{{ user }}', '{{ user.id }}');$(this).closest('div').remove();if ($.trim($('#suggested_users').html()).length === 0){$('#suggested_users_container').remove()}" title="Add this user to the list of invited users"><span class="grey glyphicon glyphicon-chevron-left"></span> {{ user.get_name }}</span><br>
-								</div>
-							{% endfor %}
-						</div>
-					</div>
-				</div>
-			{% endif %}
-		</div>
-		<div class="form-group {% if form.message.errors %}has-error{% endif %}">
-			<label class="control-label col-sm-3 col-md-2" for="message">Message</label>
-			<div class="col-sm-8 col-md-6">
-				<textarea id="message" oninput="auto_size_textarea(this)" name="message" class="form-control" placeholder="Add a optional message for the users">{{ form.message.value|default_if_none:"" }}</textarea>
-			</div>
-			{% if form.message.errors %}
-				<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
-					{{ form.message.errors|striptags }}
-				</div>
-			{% endif %}
-		</div>
-	</form>
+    <input type="hidden" id="dialog_cancelled" value="true">
+    {% if form.non_field_errors %}
+        <div class="alert alert-danger">
+            Oops! Something went wrong. The training event was not created because:
+            <br>
+            {{ form.non_field_errors }}
+        </div>
+    {% endif %}
+    <form id="additional_event_parameters" class="form-horizontal" onsubmit="return false">
+        <input type="hidden" name="training_configured" value="true">
+        {% if training_details.techniques.all %}
+            <div class="form-group">
+                <label class="col-sm-3 col-md-2 control-label" for="technique">Technique</label>
+                <div class="col-sm-5 col-md-4">
+                    <select class="form-control" name="technique" id="technique">
+                        <option value="">{{ "training"|customization:"training_technique_empty_label" }}</option>
+                        {% for technique in training_details.techniques.all %}
+                            <option label="{{ technique.name }}"
+                                    value="{{ technique.id }}"
+                                    {% if form.technique.value|to_int == technique.id %}selected{% endif %}></option>
+                        {% endfor %}
+                    </select>
+                </div>
+                {% if form.technique.errors %}
+                    <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
+                        {{ form.technique.errors|striptags }}
+                    </div>
+                {% endif %}
+            </div>
+        {% endif %}
+        <div class="form-group">
+            <label class="col-sm-3 col-md-2 control-label" for="duration">Duration</label>
+            <div class="col-sm-5 col-md-4">
+                <div class="input-group">
+                    <input class="form-control"
+                           name="duration"
+                           id="duration"
+                           type="number"
+                           min="15"
+                           value="{{ form.duration.value|default_if_none:'' }}"
+                           required>
+                    <span class="input-group-addon">minutes</span>
+                </div>
+            </div>
+            {% if form.duration.errors %}
+                <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
+                    {{ form.duration.errors|striptags }}
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="col-sm-3 col-md-2 control-label" for="capacity">Capacity</label>
+            <div class="col-sm-5 col-md-4">
+                <div class="input-group">
+                    <input class="form-control"
+                           name="capacity"
+                           id="capacity"
+                           type="number"
+                           min="1"
+                           value="{{ form.capacity.value|default_if_none:'' }}"
+                           required>
+                    <span class="input-group-addon">attendees</span>
+                </div>
+            </div>
+            {% if form.capacity.errors %}
+                <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
+                    {{ form.capacity.errors|striptags }}
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="col-sm-3 col-md-2 control-label" for="invitation_only">Invitation only</label>
+            <div class="col-sm-5">
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox"
+                               name="invitation_only"
+                               id="invitation_only"
+                               {% if form.invitation_only.value %}checked{% endif %}>
+                        Only invited users can register
+                    </label>
+                </div>
+            </div>
+            {% if form.invitation_only.errors %}
+                <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
+                    {{ form.invitation_only.errors|striptags }}
+                </div>
+            {% endif %}
+        </div>
+        {% if form.instance.id and form.instance.users.all %}
+            <div class="form-group">
+                <label class="control-label col-sm-3 col-md-2" for="_search">Attendees</label>
+                <div id="registered-user-list" class="col-sm-9 form-control-static">
+                    No users have registered for this training yet.
+                </div>
+            </div>
+        {% endif %}
+        <div class="form-group">
+            <label class="control-label col-sm-3 col-md-2" for="invited_search">Invitations</label>
+            <div class="col-sm-5 col-md-4">
+                <input id="invited_search" type="text" autocomplete="off" class="form-control" placeholder="Invite users">
+            </div>
+        </div>
+        <div class="form-group">
+            <div id="invited-user-list" class="col-sm-offset-3 col-md-offset-2 col-sm-5">
+                No users have been invited to this training yet.
+            </div>
+            {% if suggested_users %}
+                <div id="suggested_users_container" class="col-sm-4">
+                    <div class="visible-xs" style="margin-top: 20px"></div>
+                    <div style="text-align: right; margin-top: -40px">
+                        <div style="text-decoration: underline;margin-bottom: 5px">Suggested users:</div>
+                        <div id="suggested_users">
+                            {% for user in suggested_users %}
+                                <div>
+                                    <span onclick="add_invited_user('{{ user }}', '{{ user.id }}');$(this).closest('div').remove();if ($.trim($('#suggested_users').html()).length === 0){$('#suggested_users_container').remove()}"
+                                          title="Add this user to the list of invited users"><span class="grey glyphicon glyphicon-chevron-left"></span> {{ user.get_name }}</span>
+                                    <br>
+                                </div>
+                            {% endfor %}
+                        </div>
+                    </div>
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group {% if form.message.errors %}has-error{% endif %}">
+            <label class="control-label col-sm-3 col-md-2" for="message">Message</label>
+            <div class="col-sm-8 col-md-6">
+                <textarea id="message"
+                          oninput="auto_size_textarea(this)"
+                          name="message"
+                          class="form-control"
+                          placeholder="Add a optional message for the users">{{ form.message.value|default_if_none:"" }}</textarea>
+            </div>
+            {% if form.message.errors %}
+                <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
+                    {{ form.message.errors|striptags }}
+                </div>
+            {% endif %}
+        </div>
+    </form>
 </div>
 <div class="modal-footer">
-	<div class="row">
-		<div class="col-md-offset-3 col-md-9 text-left">
-			{% button type="save" submit=False dismiss="modal" onclick="$('#dialog_cancelled').val(false);" value="Confirm" %}
-		</div>
-	</div>
+    <div class="row">
+        <div class="col-md-offset-3 col-md-9 text-left">
+            {% button type="save" submit=False dismiss="modal" onclick="$('#dialog_cancelled').val(false);" value="Confirm" %}
+        </div>
+    </div>
 </div>
 <script>
 	$("#invited_search").autocomplete('users', select_invited_user, '{% url 'user_for_training_search' %}', true);
 	function select_invited_user(jquery_event, search_selection, dataset_name)
 	{
 		$(this).typeahead('val', '').focus();
 		add_invited_user(search_selection.name, search_selection.id);
```

## NEMO/templates/calendar/policy_dialog.html

```diff
@@ -1,28 +1,29 @@
 {% load custom_tags_and_filters %}
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
-	<h4 id="modal-description-label" class="modal-title">{{ facility_name }} policy conflict</h4>
+    <button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
+    <h4 id="modal-description-label" class="modal-title">{{ facility_name }} policy conflict</h4>
 </div>
-
 <div class="modal-body">
-	<p>This reservation conflicts with {{ facility_name }} policy.{% if overridable %} The policy <span style="font-weight:bold">can</span> be overridden.{% endif %}</p>
-	<ul>
-		{% for reason in policy_problems %}
-			<li>{{ reason }}</li>
-		{% endfor %}
-	</ul>
-	<input type="hidden" id="dialog_cancelled" value="true">
-	<form id="additional_event_parameters">
-		<input type="hidden" name="explicit_policy_override" value="true">
-	</form>
-	{% if overridable %}<p>What would you like to do?</p>{% endif %}
+    <p>
+        This reservation conflicts with {{ facility_name }} policy.
+        {% if overridable %}The policy <span style="font-weight:bold">can</span> be overridden.{% endif %}
+    </p>
+    <ul>
+        {% for reason in policy_problems %}<li>{{ reason }}</li>{% endfor %}
+    </ul>
+    <input type="hidden" id="dialog_cancelled" value="true">
+    <form id="additional_event_parameters">
+        <input type="hidden" name="explicit_policy_override" value="true">
+    </form>
+    {% if overridable %}<p>What would you like to do?</p>{% endif %}
 </div>
-
 <div class="modal-footer">
-	{% if overridable %}
-		<button type="button" class="btn btn-info pull-left" data-dismiss="modal"><i class="glyphicon glyphicon-ban-circle"></i> Don't create the reservation</button>
-		{% button type="save" submit=False dismiss="modal" onclick="$('#dialog_cancelled').val(false)" value="Override policy and "|concat:reservation_action|concat:" the reservation" %}
-	{% else %}
-		<button type="button" class="btn btn-warning" data-dismiss="modal">Continue</button>
-	{% endif %}
-</div>
+    {% if overridable %}
+        <button type="button" class="btn btn-info pull-left" data-dismiss="modal">
+            <i class="glyphicon glyphicon-ban-circle"></i> Don't create the reservation
+        </button>
+        {% button type="save" submit=False dismiss="modal" onclick="$('#dialog_cancelled').val(false)" value="Override policy and "|concat:reservation_action|concat:" the reservation" %}
+    {% else %}
+        <button type="button" class="btn btn-warning" data-dismiss="modal">Continue</button>
+    {% endif %}
+</div>
```

## NEMO/templates/calendar/project_choice.html

```diff
@@ -1,26 +1,29 @@
 {% load custom_tags_and_filters %}
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
-	<h4 id="modal-description-label" class="modal-title">Which project is this for?</h4>
+    <button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
+    <h4 id="modal-description-label" class="modal-title">Which project is this for?</h4>
 </div>
-
 <div class="modal-body">
-	{# Assume the dialog is cancelled by default, preventing the reservation request from being processed further. #}
-	{# When a button is clicked this value is set to true, enabling further processing. #}
-	{# Hiding the dialog using the X in the top right, or clicking outside of it, will stop processing. #}
-	<input type="hidden" id="dialog_cancelled" value="true">
-	<form id="additional_event_parameters" onsubmit="return false">
-		<p>
+    {# Assume the dialog is cancelled by default, preventing the reservation request from being processed further. #}
+    {# When a button is clicked this value is set to true, enabling further processing. #}
+    {# Hiding the dialog using the X in the top right, or clicking outside of it, will stop processing. #}
+    <input type="hidden" id="dialog_cancelled" value="true">
+    <form id="additional_event_parameters" onsubmit="return false">
+        <p>
             Associate your reservation with a project.
             {% if missed_reservation_threshold %}
                 A fee will be charged to that project if you miss your reservation by more than {{ missed_reservation_threshold }} minutes.
             {% endif %}
         </p>
-		<input type="hidden" id="project_id" name="project_id">
-		{% for project in active_projects %}
-			<div class="form-group">
-				<button class="btn btn-default" data-dismiss="modal" onclick="$('#project_id').val({{ project.id }}); $('#dialog_cancelled').val(false)">{% project_selection_display project %}</button>
-			</div>
-		{% endfor %}
-	</form>
-</div>
+        <input type="hidden" id="project_id" name="project_id">
+        {% for project in active_projects %}
+            <div class="form-group">
+                <button class="btn btn-default"
+                        data-dismiss="modal"
+                        onclick="$('#project_id').val({{ project.id }}); $('#dialog_cancelled').val(false)">
+                    {% project_selection_display project %}
+                </button>
+            </div>
+        {% endfor %}
+    </form>
+</div>
```

## NEMO/templates/calendar/proxy_reservation.html

```diff
@@ -1,31 +1,34 @@
 {% load custom_tags_and_filters %}
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
-	<h4 id="modal-description-label" class="modal-title">Make a reservation for someone else</h4>
+    <button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
+    <h4 id="modal-description-label" class="modal-title">Make a reservation for someone else</h4>
 </div>
-
 <div class="modal-body">
-	<p id="proxy-reservation-description">
-		You can make reservations for another user by searching for and selecting the user below. Any reservations you make after that will be made for the selected user.
-		When you are done making reservations for another user, click the button that says &quot;Reserving as [user]&quot; at the top of the calendar.
-	</p>
-	<p>
-		While you are making reservations for someone else, all validation checks apply as if you are that user.
-		Likewise, error messages are displayed as if you are that person.
-	</p>
-	<input aria-label="Search for a user" aria-describedby="proxy-reservation-description" id="proxy_reservation" type="search" class="form-control" placeholder="Search for a user">
+    <p id="proxy-reservation-description">
+        You can make reservations for another user by searching for and selecting the user below. Any reservations you make after that will be made for the selected user.
+        When you are done making reservations for another user, click the button that says &quot;Reserving as [user]&quot; at the top of the calendar.
+    </p>
+    <p>
+        While you are making reservations for someone else, all validation checks apply as if you are that user.
+        Likewise, error messages are displayed as if you are that person.
+    </p>
+    <input aria-label="Search for a user"
+           aria-describedby="proxy-reservation-description"
+           id="proxy_reservation"
+           type="search"
+           class="form-control"
+           placeholder="Search for a user">
 </div>
-
 <script>
 	$("#proxy_reservation").autocomplete('users', proxy_reservation, {{ users|json_search_base }});
 	autofocus('#proxy_reservation');
 	function proxy_reservation(jquery_event, search_selection)
 	{
 		$($(".fc-scheduledOutage-button")[0]).hide();
 		$($(".fc-scheduleTraining-button")[0]).hide();
 		let proxy_reservation_button = $(".fc-proxyReservation-button")[0];
 		$(proxy_reservation_button).html('Reserving as ' + search_selection.name);
 		$("#impersonate").val(search_selection.id);
 		$("#dialog").modal('hide');
 	}
-</script>
+</script>
```

## NEMO/templates/calendar/reservation_event_feed.html

```diff
@@ -1,7 +1,8 @@
+{# djlint:off #}
 {% load training_tags %}
 [
 	{% for x in events %}
 	{
 		{% if personal_schedule and x.tool %}
 			"title": "{{x.reservation_item.name|escapejs}} ({{x.user.username|escapejs}})\n{{ x.title|escapejs }}",
 			"color": "#33ad33",
@@ -62,8 +63,8 @@
 		"color": "#BF00FFFF",
 		"start": "{{ training.start|date:"c" }}",
 		"end": "{{ training.end|date:"c" }}",
 		{% if user.is_staff or user|is_trainer:training.tool %}"editable": true,{% endif %}
 		"details_url": "{% url 'training_event_details' training.id %}"
 	}{% if not forloop.last %},{% endif %}
 	{% endfor %}
-]
+]
```

## NEMO/templates/calendar/reservation_questions.html

```diff
@@ -1,33 +1,34 @@
 {% load custom_tags_and_filters %}
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
-	<h4 id="modal-description-label" class="modal-title">Reservation questions</h4>
+    <button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
+    <h4 id="modal-description-label" class="modal-title">Reservation questions</h4>
 </div>
-
 <div class="modal-body">
-	<p>This reservation requires extra information to be provided:</p>
+    <p>This reservation requires extra information to be provided:</p>
     {% if error %}
         <div class="alert alert-danger">
-			Oops! Something went wrong. Please correct the errors highlighted below.<br><br>
-			<ul><li>{{ error }}</li></ul>
-		</div>
+            Oops! Something went wrong. Please correct the errors highlighted below.
+            <br>
+            <br>
+            <ul>
+                <li>{{ error }}</li>
+            </ul>
+        </div>
     {% endif %}
-	<input type="hidden" id="dialog_cancelled" value="true">
-	<form id="additional_event_parameters">
+    <input type="hidden" id="dialog_cancelled" value="true">
+    <form id="additional_event_parameters">
         <input type="hidden" name="reservation_questions" value=true>
-		{{ reservation_questions }}
-	</form>
+        {{ reservation_questions }}
+    </form>
 </div>
-
 <div class="modal-footer">
     <p id="answer_to_proceed" style="text-align:center">Please answer the required questions (above) to proceed</p>
     {% button id="reservation_questions_submit" type="save" value="Submit" dismiss="modal" onclick="$('#dialog_cancelled').val(false);" submit=False %}
 </div>
-
 <script>
 	function update_submit_button()
 	{
 		if(document.querySelector('#additional_event_parameters').checkValidity())
 		{
 			$('#answer_to_proceed').hide();
 			$("#reservation_questions_submit").show();
@@ -38,8 +39,8 @@
 			$("#reservation_questions_submit").hide();
 		}
 	}
 
 	update_submit_button();
     $('body').on('question-group-changed', update_submit_button);
 	$('body').on('change keyup', '#additional_event_parameters input[required], #additional_event_parameters select[required], #additional_event_parameters textarea[required]', update_submit_button);
-</script>
+</script>
```

## NEMO/templates/calendar/reservation_warning.html

```diff
@@ -1,32 +1,40 @@
 <div class="alert alert-warning" style="margin-bottom: 0">
-	<table style="width: 100%">
-		<tr>
-			<th class="alert alert-danger danger-highlight text-center">
-				<table style="margin: auto">
-					<tr>
-						<td style="padding-right: 10px"><span class="glyphicon glyphicon-alert warning-highlight notification-icon"></span></td>
-						<td>This is a busy time in the {{ area.name }}</td>
-					</tr>
-				</table>
-			</th>
-		</tr>
-		<tr style="height: 15px"></tr>
-		<tr>
-			<td class="text-center" style="color:black;">
-				At <b>{{ max_area_time|time }}</b>, {{ max_area_count }} people (including you) are expected in the {{ area.name }} area.
-				{% if area.maximum_capacity %}
-					<br>
-					<b>The maximum capacity is {{ area.maximum_capacity }} people.</b>
-				{% endif %}
-				{% if max_location_count > 1 %}<br><br>In addition, at <b>{{ max_location_time|time }}</b>, {{ max_location_count }} of those people are expected in the same location ({{ location }}){% endif %}
-				<br><br>
-				Please consider social distancing when making reservations.<br>
-			</td>
-		</tr>
-	</table>
-	<div style="text-align: center; margin-top: 15px">
-		<button type="button" class="btn btn-default" data-dismiss="modal" aria-label="Ok">
-			<span aria-hidden="true">Ok</span>
-		</button>
-	</div>
-</div>
+    <table style="width: 100%">
+        <tr>
+            <th class="alert alert-danger danger-highlight text-center">
+                <table style="margin: auto">
+                    <tr>
+                        <td style="padding-right: 10px">
+                            <span class="glyphicon glyphicon-alert warning-highlight notification-icon"></span>
+                        </td>
+                        <td>This is a busy time in the {{ area.name }}</td>
+                    </tr>
+                </table>
+            </th>
+        </tr>
+        <tr style="height: 15px"></tr>
+        <tr>
+            <td class="text-center" style="color:black;">
+                At <b>{{ max_area_time|time }}</b>, {{ max_area_count }} people (including you) are expected in the {{ area.name }} area.
+                {% if area.maximum_capacity %}
+                    <br>
+                    <b>The maximum capacity is {{ area.maximum_capacity }} people.</b>
+                {% endif %}
+                {% if max_location_count > 1 %}
+                    <br>
+                    <br>
+                    In addition, at <b>{{ max_location_time|time }}</b>, {{ max_location_count }} of those people are expected in the same location ({{ location }})
+                {% endif %}
+                <br>
+                <br>
+                Please consider social distancing when making reservations.
+                <br>
+            </td>
+        </tr>
+    </table>
+    <div style="text-align: center; margin-top: 15px">
+        <button type="button" class="btn btn-default" data-dismiss="modal" aria-label="Ok">
+            <span aria-hidden="true">Ok</span>
+        </button>
+    </div>
+</div>
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
  TThhiiss iiss aa bbuussyy ttiimmee iinn tthhee {{{{ aarreeaa..nnaammee }}}}
 At {{{{ mmaaxx__aarreeaa__ttiimmee||ttiimmee }}}}, {{ max_area_count }} people (including you) are
 expected in the {{ area.name }} area. {% if area.maximum_capacity %}
 TThhee mmaaxxiimmuumm ccaappaacciittyy iiss {{{{ aarreeaa..mmaaxxiimmuumm__ccaappaacciittyy }}}} ppeeooppllee.. {% endif %} {% if
 max_location_count > 1 %}
 
 In addition, at {{{{ mmaaxx__llooccaattiioonn__ttiimmee||ttiimmee }}}}, {{ max_location_count }} of those
-people are expected in the same location ({{ location }}){% endif %}
+people are expected in the same location ({{ location }}) {% endif %}
 
 Please consider social distancing when making reservations.
 Ok
```

## NEMO/templates/calendar/scheduled_outage_information.html

```diff
@@ -1,81 +1,196 @@
 {% load static %}
 {% load custom_tags_and_filters %}
 {% block extrahead %}
     <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
-
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
-	<h4 id="modal-description-label" class="modal-title">Schedule an outage</h4>
+    <button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
+    <h4 id="modal-description-label" class="modal-title">Schedule an outage</h4>
 </div>
-
 <div class="modal-body clearfix">
-	{# Assume the dialog is cancelled by default, preventing the scheduled outage request from being processed further. #}
-	{# When a button is clicked this value is set to false, enabling further processing. #}
-	{# Hiding the dialog using the X in the top right, or clicking outside of it, will stop processing. #}
-	<input type="hidden" id="dialog_cancelled" value="true">
-	<form id="additional_event_parameters" onsubmit="return false">
-		<input type="hidden" id="configured" name="configured" value="true">
-		<div class="form-group col-sm-12">
-			<label for="title">Title</label>
-			<input aria-labelledby="outage_title_help" id="title" name="title" type="text" maxlength="100" class="form-control" autocomplete="off">
+    {# Assume the dialog is cancelled by default, preventing the scheduled outage request from being processed further. #}
+    {# When a button is clicked this value is set to false, enabling further processing. #}
+    {# Hiding the dialog using the X in the top right, or clicking outside of it, will stop processing. #}
+    <input type="hidden" id="dialog_cancelled" value="true">
+    <form id="additional_event_parameters" onsubmit="return false">
+        <input type="hidden" id="outage_submitted" name="outage_submitted" value="true">
+        {% if outage_submitted %}
+            {% if form.errors %}
+                <div class="col-sm-12">
+                    <div class="alert alert-danger">
+                        Oops! Something went wrong. Please correct the errors highlighted below.
+                        <br>
+                        {{ form.non_field_errors }}
+                    </div>
+                </div>
+            {% endif %}
+        {% endif %}
+        <div class="form-group col-sm-12">
+            <label for="title">Title</label>
+            {% if outage_submitted and form.title.errors %}
+                <span class="pull-right danger-highlight">{{ form.title.errors|striptags }}</span>
+            {% endif %}
+            <input aria-labelledby="outage_title_help"
+                   id="title"
+                   name="title"
+                   type="text"
+                   maxlength="100"
+                   class="form-control"
+                   value="{{ form.title.value|default_if_none:'' }}"
+                   autocomplete="off">
             <div id="outage_title_help" class="light-grey">You must provide a title to create a scheduled outage</div>
-		</div>
-		{% if categories %}
-			<div class="form-group col-sm-12">
-				<label for="category">Category</label>
-				<select aria-labelledby="outage_category_help" class="form-control" name="category" id="category">
-					<option></option>
-					{% for c in categories %}
-						<option>{{ c }}</option>
-					{% endfor %}
-				</select>
-                <div id="outage_category_help" class="light-grey">Is there a category for this outage? This is useful for data and trend analysis</div>
-			</div>
-		{% endif %}
-		<div class="form-group col-sm-12">
-			<label for="details">Details</label>
-			<textarea aria-labelledby="outage_details_help" name="details" id="details" rows="7" maxlength="3000" class="form-control"></textarea>
-            <div id="outage_details_help" class="light-grey">Please provide any additional details for the scheduled outage. Be descriptive so that users understand why there is a scheduled outage.</div>
-		</div>
-		<div class="col-sm-12">
-			<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#recurrence" class="pointer" style="text-decoration: none">
-				<input type="checkbox" id="recurring_outage" name="recurring_outage"/>
-			</a>
-			<label for="recurring_outage" style="padding-left: 5px">Create more than one occurrence of this outage</label>
-		</div>
-		<div id="recurrence" class="collapse col-sm-12" style="margin: 0 auto">
-			<div class="col-sm-12">
-				<div class="form-group col-sm-2">
-					<label for="recurrence_interval">Every</label>
-					<input id="recurrence_interval" name="recurrence_interval" type="number" class="form-control" value="1"/>
-				</div>
-				<div class="form-group col-sm-6">
-					<label for="recurrence_frequency">Frequency</label>
-					<select class="form-control" name="recurrence_frequency" id="recurrence_frequency">
-						{% for choice in recurrence_intervals %}
-							<option value="{{ choice.0 }}">{{ choice.1 }}</option>
-						{% endfor %}
-					</select>
-				</div>
-				<div class="form-group col-sm-4">
-					<label for="recurrence_until">Until:</label>
-					<input type="text" id="recurrence_until" name="recurrence_until" class="form-control select-date" placeholder="Choose a date">
-				</div>
-			</div>
-		</div>
-	</form>
+        </div>
+        {% if categories %}
+            <div class="form-group col-sm-12">
+                <label for="category">Category</label>
+                {% if outage_submitted and form.category.errors %}
+                    <span class="pull-right danger-highlight">{{ form.category.errors|striptags }}</span>
+                {% endif %}
+                <select aria-labelledby="outage_category_help" class="form-control" name="category" id="category">
+                    <option></option>
+                    {% for c in categories %}
+                        <option {% if form.category.value == c %}selected{% endif %}>{{ c }}</option>
+                    {% endfor %}
+                </select>
+                <div id="outage_category_help" class="light-grey">
+                    Is there a category for this outage? This is useful for data and trend analysis
+                </div>
+            </div>
+        {% endif %}
+        <div class="form-group col-sm-12">
+            <label for="details">Details</label>
+            {% if outage_submitted and form.details.errors %}
+                <span class="pull-right danger-highlight">{{ form.details.errors|striptags }}</span>
+            {% endif %}
+            <textarea aria-labelledby="outage_details_help"
+                      name="details"
+                      id="details"
+                      rows="7"
+                      maxlength="3000"
+                      class="form-control">{{ form.details.value|default_if_none:"" }}</textarea>
+            <div id="outage_details_help" class="light-grey">
+                Please provide any additional details for the scheduled outage. Be descriptive so that users understand why there is a scheduled outage.
+            </div>
+        </div>
+        <div class="col-sm-12">
+            <a id="reminder_outage_link"
+               onclick="toggle_details(this)"
+               data-toggle="collapse"
+               data-target="#reminder_section"
+               class="pointer"
+               style="text-decoration: none">
+                <input type="hidden" name="send_reminders" value="" />
+                <input type="checkbox"
+                       id="send_reminders"
+                       name="send_reminders"
+                       {% if form.send_reminders.value %}checked{% endif %} />
+            </a>
+            <label for="send_reminders" style="padding-left: 5px">Send reminder(s) for this outage</label>
+        </div>
+        <div id="reminder_section"
+             class="collapse {{ form.send_reminders.value|yesno:"in," }} col-sm-12"
+             style="margin: 0 auto">
+            <div class="form-group">
+                <label for="reminder_days">Reminder day(s)</label>
+                {% if outage_submitted and form.reminder_days.errors %}
+                    <span class="pull-right danger-highlight">{{ form.reminder_days.errors|striptags }}</span>
+                {% endif %}
+                <input aria-labelledby="outage_reminder_days_help"
+                       id="reminder_days"
+                       name="reminder_days"
+                       type="text"
+                       maxlength="2000"
+                       class="form-control"
+                       value="{{ form.reminder_days.value|default_if_none:'' }}"
+                       autocomplete="off">
+                <div id="outage_reminder_days_help" class="light-grey">
+                    The number of day(s) prior to the start of the outage to send the reminder on
+                </div>
+            </div>
+            <div class="form-group">
+                <label for="reminder_emails">Reminder email(s)</label>
+                {% if outage_submitted and form.reminder_emails.errors %}
+                    <span class="pull-right danger-highlight">{{ form.reminder_emails.errors|striptags }}</span>
+                {% endif %}
+                <input aria-labelledby="outage_reminder_emails_help"
+                       id="reminder_emails"
+                       name="reminder_emails"
+                       type="text"
+                       maxlength="2000"
+                       class="form-control"
+                       value="{{ form.reminder_emails.value|default_if_none:'' }}"
+                       autocomplete="off">
+                <div id="outage_reminder_emails_help" class="light-grey">The email(s) to send the reminder to</div>
+            </div>
+        </div>
+        <div class="col-sm-12">
+            <a id="recurring_outage_link"
+               onclick="toggle_details(this)"
+               data-toggle="collapse"
+               data-target="#recurrence"
+               class="pointer"
+               style="text-decoration: none">
+                <input type="hidden" name="recurring_outage" value="" />
+                <input type="checkbox"
+                       id="recurring_outage"
+                       name="recurring_outage"
+                       {% if form.recurring_outage.value %}checked{% endif %} />
+            </a>
+            <label for="recurring_outage" style="padding-left: 5px">Create more than one occurrence of this outage</label>
+        </div>
+        <div id="recurrence"
+             class="collapse {{ form.recurring_outage.value|yesno:"in," }} col-sm-12"
+             style="margin: 0 auto">
+            <div class="row">
+                <div class="form-group col-sm-2">
+                    <label for="recurrence_interval">Every</label>
+                    <input id="recurrence_interval"
+                           name="recurrence_interval"
+                           type="number"
+                           class="form-control"
+                           value="{{ form.recurrence_interval.value|default_if_none:'1' }}" />
+                    {% if outage_submitted and form.recurrence_interval.errors %}
+                        <span class="pull-right danger-highlight">{{ form.recurrence_interval.errors|striptags }}</span>
+                    {% endif %}
+                </div>
+                <div class="form-group col-sm-6">
+                    <label for="recurrence_frequency">Frequency</label>
+                    <select class="form-control" name="recurrence_frequency" id="recurrence_frequency">
+                        {% for choice in recurrence_intervals %}
+                            <option value="{{ choice.0 }}"
+                                    {% if form.recurrence_frequency.value == choice.0|stringformat:'i' %}selected{% endif %}>
+                                {{ choice.1 }}
+                            </option>
+                        {% endfor %}
+                    </select>
+                    {% if outage_submitted and form.recurrence_frequency.errors %}
+                        <span class="pull-right danger-highlight">{{ form.recurrence_frequency.errors|striptags }}</span>
+                    {% endif %}
+                </div>
+                <div class="form-group col-sm-4">
+                    <label for="recurrence_until">Until</label>
+                    <input type="text"
+                           id="recurrence_until"
+                           name="recurrence_until"
+                           class="form-control select-date"
+                           value="{{ form.recurrence_until.value|input_date_format }}"
+                           placeholder="Choose a date">
+                    {% if outage_submitted and form.recurrence_until.errors %}
+                        <span class="pull-right danger-highlight">{{ form.recurrence_until.errors|striptags }}</span>
+                    {% endif %}
+                </div>
+            </div>
+        </div>
+    </form>
 </div>
-
 <div class="modal-footer">
-	<div class="col-sm-12">
+    <div class="col-sm-12">
         {% button id="schedule_outage" type="save" disabled="disabled" submit=False dismiss="modal" onclick="$('#dialog_cancelled').val(false)" value="Schedule this outage" %}
-	</div>
+    </div>
 </div>
-
 <script>
 	autofocus('#title');
 	$('#title').on('input', function() { if(this.value) $('#schedule_outage').prop('disabled', false); else $('#schedule_outage').prop('disabled', true); });
 	$('#recurrence_until').datetimepicker({format: '{{ date_input_js_format }}', useCurrent: false, maxDate: moment('{{ recurrence_date_start|input_date_format }}', '{{ date_input_js_format }}').add({{ calendar_outage_recurrence_limit }}, 'days').toDate(), minDate: moment('{{ recurrence_date_start|input_date_format }}', '{{ date_input_js_format }}')});
-</script>
+</script>
```

### html2text {}

```diff
@@ -1,28 +1,57 @@
 {% load static %} {% load custom_tags_and_filters %} {% block extrahead %}
 }">
-}"/> {% endblock %}
+}" /> {% endblock %}
 ×
 ****** SScchheedduullee aann oouuttaaggee ******
 {# Assume the dialog is cancelled by default, preventing the scheduled outage
 request from being processed further. #} {# When a button is clicked this value
 is set to false, enabling further processing. #} {# Hiding the dialog using the
 X in the top right, or clicking outside of it, will stop processing. #}
-Title[title               ]
+{% if outage_submitted %} {% if form.errors %}
+Oops! Something went wrong. Please correct the errors highlighted below.
+{{ form.non_field_errors }}
+{% endif %} {% endif %}
+Title {% if outage_submitted and form.title.errors %} {
+{ form.title.errors|striptags }} {% endif %}[{
+{ form.title.value|default_if_none:'' }}]
 You must provide a title to create a scheduled outage
 {% if categories %}
 {% for c in categories %}
-{{ c }}
+% if form.category.value == c %}selected{% endif %}>{{ c }}
 {% endfor %}
 Is there a category for this outage? This is useful for data and trend analysis
 {% endif %}
+Details {% if outage_submitted and form.details.errors %} {
+{ form.details.errors|striptags }} {% endif %}
+{{ form.details.value|default_if_none:"" }}
 Please provide any additional details for the scheduled outage. Be descriptive
 so that users understand why there is a scheduled outage.
-??Create more than one occurrence of this outage
-Every[Unknown INPUT type]
+% if form.send_reminders.value %}checked{% endif %} />
+Send reminder(s) for this outage
+} col-sm-12" style="margin: 0 auto">
+Reminder day(s) {% if outage_submitted and form.reminder_days.errors %} {
+{ form.reminder_days.errors|striptags }} {% endif %}[{
+{ form.reminder_days.value|default_if_none:'' }}]
+The number of day(s) prior to the start of the outage to send the reminder on
+Reminder email(s) {% if outage_submitted and form.reminder_emails.errors %} {
+{ form.reminder_emails.errors|striptags }} {% endif %}[{
+{ form.reminder_emails.value|default_if_none:'' }}]
+The email(s) to send the reminder to
+% if form.recurring_outage.value %}checked{% endif %} />
+Create more than one occurrence of this outage
+} col-sm-12" style="margin: 0 auto">
+Every [Unknown INPUT type]{% if outage_submitted and
+form.recurrence_interval.errors %} {{ form.recurrence_interval.errors|striptags
+}} {% endif %}
 {% for choice in recurrence_intervals %}
-{{ choice.1 }}
+% if form.recurrence_frequency.value == choice.0|stringformat:'i' %}selected{%
+endif %}> {{ choice.1 }}
 {% endfor %}
-Until:[recurrence_until    ]
+{% if outage_submitted and form.recurrence_frequency.errors %} {
+{ form.recurrence_frequency.errors|striptags }} {% endif %}
+Until [{{ form.recurrence_until.value|input_date_format }}]{% if
+outage_submitted and form.recurrence_until.errors %} {
+{ form.recurrence_until.errors|striptags }} {% endif %}
 {% button id="schedule_outage" type="save" disabled="disabled" submit=False
 dismiss="modal" onclick="$('#dialog_cancelled').val(false)" value="Schedule
 this outage" %}
```

## NEMO/templates/calendar/specific_user_feed.html

```diff
@@ -1,7 +1,8 @@
+{# djlint:off #}
 [
 	{% for x in usage_events %}
 	{
 		"title": "Usage of the {{ x.tool.name }}",
 		"id": {{ x.id }},
 		"color": "#33ad33",
 		"start": "{{ x.start|date:"c" }}",
@@ -37,8 +38,8 @@
 		"id": {{ x.id }},
 		"color": {% if x.tool %}"#ff0000"{% elif x.area %}"#FF6666"{% endif %},
 		"start": "{{ x.start|date:"c" }}",
 		"end": "{{ x.get_visual_end|date:"c" }}",
 		"details_url": "{% url 'reservation_details' x.id %}"
 	}{% if not forloop.last %},{% endif %}
 	{% endfor %}
-]
+]
```

## NEMO/templates/calendar/usage_event_feed.html

```diff
@@ -1,7 +1,8 @@
+{# djlint:off #}
 [
 	{% for x in usage_events %}
 	{
 		{% if personal_schedule %}
 			"title": "{{ x.tool.name }} ({{ x.user.username }})\n {{ x.project }}",
 		{% else %}
 			"title": "{{ x.tool.name }} ({% if x.operator.id != x.user.id %}{{ x.operator }} on behalf of {% endif %}{{ x.user.username }})\n {{ x.project }}",
@@ -47,8 +48,8 @@
 		"id": {{ x.id }},
 		"color": "#ff0000",
 		"start": "{{ x.start|date:"c" }}",
 		"end": "{{ x.end|date:"c" }}",
 		"details_url": "{% url 'reservation_details' x.id %}"
 	}{% if not forloop.last %},{% endif %}
 	{% endfor %}
-]
+]
```

## NEMO/templates/configuration/configuration_history.html

```diff
@@ -1,16 +1,19 @@
 {% for config in configs %}
-	<div class="media" style="margin-top: 15px">
-		<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#config_{{ forloop.counter }}_details"
-		   class="pointer">
-			<span class="glyphicon pull-left chevron glyphicon-chevron-right"></span>
-		</a>
-		<div class="media-body">
-			<div class="media-heading">On <i
-					style="font-size: small">{{ config.modification_time|default:'Current' }}</i> {{ config.user }}
-				changed the {{ config.name }} configuration
-			</div>
-			<div id="config_{{ forloop.counter }}_details" class="media-middle collapse"
-				 style="margin-top: 10px">{{ config.html }}</div>
-		</div>
-	</div>
-{% endfor %}
+    <div class="media" style="margin-top: 15px">
+        <a onclick="toggle_details(this)"
+           data-toggle="collapse"
+           data-target="#config_{{ forloop.counter }}_details"
+           class="pointer">
+            <span class="glyphicon pull-left chevron glyphicon-chevron-right"></span>
+        </a>
+        <div class="media-body">
+            <div class="media-heading">
+                On <i style="font-size: small">{{ config.modification_time|default:'Current' }}</i> {{ config.user }}
+                changed the {{ config.name }} configuration
+            </div>
+            <div id="config_{{ forloop.counter }}_details" class="media-middle collapse" style="margin-top: 10px">
+                {{ config.html }}
+            </div>
+        </div>
+    </div>
+{% endfor %}
```

## NEMO/templates/configuration/configuration_line_item.html

```diff
@@ -1,24 +1,34 @@
 {% load custom_tags_and_filters %}
 {% if readonly %}
-	{% if multiple %}
-		{{ item_name }}{% if config != config_item %} position {{ config_item.position }}{% endif %}: {{ display_setting }}
-		<br>
-	{% else %}
-		{% if config != config_item %}&nbsp;position {{ config_item.position }}{% endif %}: {{ display_setting }}
-	{% endif %}
+    {% if multiple %}
+        {{ item_name }}
+        {% if config != config_item %}position {{ config_item.position }}{% endif %}
+        : {{ display_setting }}
+        <br>
+    {% else %}
+        {% if config != config_item %}&nbsp;position {{ config_item.position }}{% endif %}
+        : {{ display_setting }}
+    {% endif %}
 {% else %}
-	{% with element_id=config_item.id|concat:"__"|concat:index %}
-		<label class='form-inline'>{{ item_name }}{% if config != config_item %} position {{ config_item.position }}{% endif %}:
-			<select id='configuration_setting__{{ element_id }}' class='form-control' style='width:300px' onchange="on_change_configuration('{{ url }}', '{{ config_item.id }}', '{{ index }}', $('#configuration_setting__{{ element_id }}').val(), $('#confirm__{{ element_id }}'))" {% if config_item.permanent_setting %}disabled{% endif %}>
-				{% if config_item.permanent_setting %}
-					<option selected>{{ current_setting }}</option>
-				{% else %}
-					{% for setting in config.available_settings_as_list %}
-						<option value="{{ forloop.counter0 }}" {% if setting == current_setting %}selected{% endif %}>{{ setting }}</option>
-					{% endfor %}
-				{% endif %}
-			</select>
-		</label>
-		<span id='confirm__{{ element_id }}' style='display: none' class='success-highlight'> Saved <i class='glyphicon glyphicon-ok'></i></span>
-	{% endwith %}
-{% endif %}
+    {% with element_id=config_item.id|concat:"__"|concat:index %}
+        <label class='form-inline'>
+            {{ item_name }}
+            {% if config != config_item %}position {{ config_item.position }}{% endif %}
+            :
+            <select id='configuration_setting__{{ element_id }}'
+                    class='form-control'
+                    style='width:300px'
+                    onchange="on_change_configuration('{{ url }}', '{{ config_item.id }}', '{{ index }}', $('#configuration_setting__{{ element_id }}').val(), $('#confirm__{{ element_id }}'))"
+                    {% if config_item.permanent_setting %}disabled{% endif %}>
+                {% if config_item.permanent_setting %}
+                    <option selected>{{ current_setting }}</option>
+                {% else %}
+                    {% for setting in config.available_settings_as_list %}
+                        <option value="{{ forloop.counter0 }}" {% if setting == current_setting %}selected{% endif %}>{{ setting }}</option>
+                    {% endfor %}
+                {% endif %}
+            </select>
+        </label>
+        <span id='confirm__{{ element_id }}' style='display: none' class='success-highlight'> Saved <i class='glyphicon glyphicon-ok'></i></span>
+    {% endwith %}
+{% endif %}
```

## NEMO/templates/configuration/configuration_reservation_helper.html

```diff
@@ -1,111 +1,143 @@
 {# This template is shared by the desktop, mobile and kiosk versions of NEMO. #}
 {# It is included from templates/calendar/configuration.html for the desktop version #}
 {# from templates/mobile/new_reservation.html for the mobile version. #}
 {# and from templates/kiosk/tool_reservation.html for the kiosk version. #}
 {# If you modify this template then please check that all 3 versions work. #}
 {% load custom_tags_and_filters %}
-
 <div class="form-group">
-	{% if config_error %}
-		<div class="alert alert-danger">{{ config_error }}</div>
-	{% endif %}
-	{% for config in configurations %}
-		{% if config.prompt %}<p>{{ config.prompt }}</p>{% endif %}
-		{% if config|class_name != "ConfigurationPrecursor" %}
-			{# Regular config #}
-			{% if config.current_settings_as_list|length == 1 %}
-				<label for="configuration_{{ config.id }}__slot_0__display_order_{{ config.display_order }}">{{ config.name }}:</label>
-				<select class="form-control" id="configuration_{{ config.id }}__slot_0__display_order_{{ config.display_order }}" name="configuration_{{ config.id }}__slot_0__display_order_{{ config.display_order }}">
-					{% if config.absence_string %}
-						<option value="">{{ config.absence_string }}</option>
-					{% endif %}
-					{% for setting in config.available_settings_as_list %}
-						<option value={{ forloop.counter0 }}>{{ setting }}</option>
-					{% endfor %}
-				</select>
-			{% else %}
-				{% if config.configurable_item_name %}{{ config.name }}:<br>{% endif %}
-				{% for slot in config.range_of_configurable_items %}
-					<label for="configuration_{{ config.id }}__slot_{{ slot }}__display_order_{{ config.display_order }}">
-						{% if config.configurable_item_name %}{{ config.configurable_item_name }}{% else %}
-							{{ config.name }}{% endif %} #{{ slot|add:1 }}:</label>
-					<select class="form-control" id="configuration_{{ config.id }}__slot_{{ slot }}__display_order_{{ config.display_order }}" name="configuration_{{ config.id }}__slot_{{ slot }}__display_order_{{ config.display_order }}">
-						{% if config.absence_string %}
-							<option value="">{{ config.absence_string }}</option>
-						{% endif %}
-						{% for setting in config.available_settings_as_list %}
-							<option value={{ forloop.counter0 }}>{{ setting }}</option>
-						{% endfor %}
-					</select>
-					<br>
-				{% endfor %}
-			{% endif %}
-		{% else %}
-			{# Precursor #}
-			{% with precursor_config=config %}
-				{% if precursor_config.configurable_item_name %}{{ precursor_config.name }}:<br>{% endif %}
-				{% for slot in precursor_config.configurationprecursorslot_set.all %}
-					<div class="row form-group" style="margin-bottom: 0">
-						<div class="col-sm-6">
-							<label for="configurationslot_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}">
-								{% if precursor_config.configurable_item_name %}{{ precursor_config.configurable_item_name }}{% else %}
-									{{ precursor_config.name }}{% endif %}:</label>
-							{% if slot.permanent_setting %}
-								<input type="hidden" value="irrelevant" name="configurationslot_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}">
-							{% endif %}
-							<select class="form-control" id="configurationslot_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}" name="configurationslot_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}" {% if slot.permanent_setting %}disabled{% endif %}>
-								{% if slot.permanent_setting %}
-									<option selected value="">{{ slot.setting }}</option>
-								{% else %}
-									{% with available_settings=slot|precursor_slot_available_settings:reservation_start %}
-										{% if precursor_config.absence_string %}
-											<option value="">{{ precursor_config.absence_string }}</option>
-										{% endif %}
-										{% for setting in precursor_config.available_settings_as_list %}
-											{% if setting in available_settings %}
-												<option value={{ forloop.counter0 }}>{{ setting }}</option>
-											{% endif %}
-										{% endfor %}
-									{% endwith %}
-								{% endif %}
-							</select>
-						</div>
-						<div class="col-sm-6">
-							<label for="position_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}">Position:</label>
-							{% if slot.permanent_position %}
-								<input type="hidden" value="irrelevant" name="position_{{ slot.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}">
-							{% endif %}
-							<select class="form-control" id="position_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}" name="position_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}" {% if slot.permanent_position %}disabled{% endif %}>
-								{% if slot.permanent_position %}
-									<option selected value="">{{ slot.position }}</option>
-								{% else %}
-									<option value="">Any</option>
-									{% for av_slot in slot|precursor_slot_available_positions:reservation_start %}
-										<option value="{{ av_slot }}">{{ av_slot }}</option>
-									{% endfor %}
-								{% endif %}
-							</select>
-						</div>
-					</div>
-					<br>
-				{% endfor %}
-			{% endwith %}
-		{% endif %}
-		<p>
-	{% endfor %}
-</div>
-
-{% if able_to_self_configure %}
-	<div class="form-group">
-		<div class="checkbox">
-			<label data-toggle="tooltip" data-placement="bottom" title="Checking this box indicates you wish to perform the tool configuration instead of having the {{ facility_name }} staff configure the tool. If you configure the tool, you are responsible for recording the configuration change.">
-				<input type="checkbox" name="self_configuration"> I will configure the tool myself
-			</label>
-		</div>
-	</div>
-{% endif %}
-
-<div class="form-group">
-	<label for="additional_information">Do you have anything else to add? (Optional)</label>
-	<textarea name="additional_information" id="additional_information" rows="7" class="form-control" maxlength="{{ additional_information_maximum_length }}" placeholder="Please provide any additional information regarding tool configuration for your reservation (using less than 3000 characters)."></textarea>
-</div>
+    {% if config_error %}<div class="alert alert-danger">{{ config_error }}</div>{% endif %}
+    {% for config in configurations %}
+        {% if config.prompt %}<p>{{ config.prompt }}</p>{% endif %}
+        {% if config|class_name != "ConfigurationPrecursor" %}
+            {# Regular config #}
+            {% if config.current_settings_as_list|length == 1 %}
+                <label for="configuration_{{ config.id }}__slot_0__display_order_{{ config.display_order }}">{{ config.name }}:</label>
+                <select class="form-control"
+                        id="configuration_{{ config.id }}__slot_0__display_order_{{ config.display_order }}"
+                        name="configuration_{{ config.id }}__slot_0__display_order_{{ config.display_order }}">
+                    {% if config.absence_string %}<option value="">{{ config.absence_string }}</option>{% endif %}
+                    {% for setting in config.available_settings_as_list %}
+                        <option value={{ forloop.counter0 }}>{{ setting }}
+                        </option>
+                    {% endfor %}
+                </select>
+            {% else %}
+                {% if config.configurable_item_name %}
+                    {{ config.name }}:
+                    <br>
+                {% endif %}
+                {% for slot in config.range_of_configurable_items %}
+                    <label for="configuration_{{ config.id }}__slot_{{ slot }}__display_order_{{ config.display_order }}">
+                        {% if config.configurable_item_name %}
+                            {{ config.configurable_item_name }}
+                        {% else %}
+                            {{ config.name }}
+                        {% endif %}
+                        #{{ slot|add:1 }}:
+                    </label>
+                    <select class="form-control"
+                            id="configuration_{{ config.id }}__slot_{{ slot }}__display_order_{{ config.display_order }}"
+                            name="configuration_{{ config.id }}__slot_{{ slot }}__display_order_{{ config.display_order }}">
+                        {% if config.absence_string %}<option value="">{{ config.absence_string }}</option>{% endif %}
+                        {% for setting in config.available_settings_as_list %}
+                            <option value={{ forloop.counter0 }}>{{ setting }}
+                            </option>
+                        {% endfor %}
+                    </select>
+                    <br>
+                {% endfor %}
+            {% endif %}
+        {% else %}
+            {# Precursor #}
+            {% with precursor_config=config %}
+                {% if precursor_config.configurable_item_name %}
+                    {{ precursor_config.name }}:
+                    <br>
+                {% endif %}
+                {% for slot in precursor_config.configurationprecursorslot_set.all %}
+                    <div class="row form-group" style="margin-bottom: 0">
+                        <div class="col-sm-6">
+                            <label for="configurationslot_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}">
+                                {% if precursor_config.configurable_item_name %}
+                                    {{ precursor_config.configurable_item_name }}
+                                {% else %}
+                                    {{ precursor_config.name }}
+                                {% endif %}
+                                :
+                            </label>
+                            {% if slot.permanent_setting %}
+                                <input type="hidden"
+                                       value="irrelevant"
+                                       name="configurationslot_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}">
+                            {% endif %}
+                            <select class="form-control"
+                                    id="configurationslot_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}"
+                                    name="configurationslot_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}"
+                                    {% if slot.permanent_setting %}disabled{% endif %}>
+                                {% if slot.permanent_setting %}
+                                    <option selected value="">{{ slot.setting }}</option>
+                                {% else %}
+                                    {% with available_settings=slot|precursor_slot_available_settings:reservation_start %}
+                                        {% if precursor_config.absence_string %}<option value="">{{ precursor_config.absence_string }}</option>{% endif %}
+                                        {% for setting in precursor_config.available_settings_as_list %}
+                                            {% if setting in available_settings %}
+                                                <option value={{ forloop.counter0 }}>{{ setting }}
+                                                </option>
+                                            {% endif %}
+                                        {% endfor %}
+                                    {% endwith %}
+                                {% endif %}
+                            </select>
+                        </div>
+                        <div class="col-sm-6">
+                            <label for="position_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}">
+                                Position:
+                            </label>
+                            {% if slot.permanent_position %}
+                                <input type="hidden"
+                                       value="irrelevant"
+                                       name="position_{{ slot.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}">
+                            {% endif %}
+                            <select class="form-control"
+                                    id="position_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}"
+                                    name="position_{{ precursor_config.id }}__slot_{{ slot.id }}__display_order_{{ precursor_config.display_order }}"
+                                    {% if slot.permanent_position %}disabled{% endif %}>
+                                {% if slot.permanent_position %}
+                                    <option selected value="">{{ slot.position }}</option>
+                                {% else %}
+                                    <option value="">Any</option>
+                                    {% for av_slot in slot|precursor_slot_available_positions:reservation_start %}
+                                        <option value="{{ av_slot }}">{{ av_slot }}</option>
+                                    {% endfor %}
+                                {% endif %}
+                            </select>
+                        </div>
+                    </div>
+                    <br>
+                {% endfor %}
+            {% endwith %}
+        {% endif %}
+        <p>
+        {% endfor %}
+    </div>
+    {% if able_to_self_configure %}
+        <div class="form-group">
+            <div class="checkbox">
+                <label data-toggle="tooltip"
+                       data-placement="bottom"
+                       title="Checking this box indicates you wish to perform the tool configuration instead of having the {{ facility_name }} staff configure the tool. If you configure the tool, you are responsible for recording the configuration change.">
+                    <input type="checkbox" name="self_configuration">
+                    I will configure the tool myself
+                </label>
+            </div>
+        </div>
+    {% endif %}
+    <div class="form-group">
+        <label for="additional_information">Do you have anything else to add? (Optional)</label>
+        <textarea name="additional_information"
+                  id="additional_information"
+                  rows="7"
+                  class="form-control"
+                  maxlength="{{ additional_information_maximum_length }}"
+                  placeholder="Please provide any additional information regarding tool configuration for your reservation (using less than 3000 characters)."></textarea>
+    </div>
```

## NEMO/templates/consumables/consumables.html

```diff
@@ -1,97 +1,114 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Withdraw consumables{% endblock %}
 {% block content %}
-	<h1>Withdraw consumables</h1>
+    <h1>Withdraw consumables</h1>
     <div style="height: 15px"></div>
     <div class="col-md-5">
-        <p>Use this form to {% if self_checkout %}checkout{% else %}charge users for{% endif %} consumable items & supplies.</p>
+        <p>
+            Use this form to
+            {% if self_checkout %}
+                checkout
+            {% else %}
+                charge users for
+            {% endif %}
+            consumable items & supplies.
+        </p>
         <form id="withdrawal_form_order" action="{% url 'consumables' %}" class="form-horizontal" method="post">
             {% csrf_token %}
             {% if not self_checkout %}
                 <div class="form-group">
                     <label class="control-label col-md-3" for="customer_search">Customer</label>
                     <div class="col-md-9">
                         <input type="text" class="form-control" id="customer_search" placeholder="Search for a customer" required>
-                        <input type="button" id="chosen_customer" class="btn btn-default" style="display:none" onclick="clear_selected_customer()" aria-label="Selected customer">
+                        <input type="button"
+                               id="chosen_customer"
+                               class="btn btn-default"
+                               style="display:none"
+                               onclick="clear_selected_customer()"
+                               aria-label="Selected customer">
                         <input type="hidden" id="customer" name="customer">
                     </div>
                 </div>
             {% endif %}
-
             <div class="form-group">
                 <label class="control-label col-md-3" for="project">Project</label>
                 <div class="col-md-9">
                     <select id="project" name="project" class="form-control" {% if not projects %}disabled{% endif %} required>
                         {% if projects|length == 0 %}
                             <option></option>
                         {% elif projects|length == 1 %}
                             <option value="{{ projects.0.id }}">{{ projects.0 }}</option>
                         {% elif projects %}
                             <option disabled selected value="">Choose a project to bill</option>
-                            {% for p in projects %}
-                                <option value="{{ p.id }}">{{ p }}</option>
-                            {% endfor %}
+                            {% for p in projects %}<option value="{{ p.id }}">{{ p }}</option>{% endfor %}
                         {% endif %}
                     </select>
                 </div>
             </div>
-
             <div class="form-group">
                 <label class="control-label col-md-3">Consumables</label>
-                <div class="col-md-9 control-label" style="text-align: left">
-                </div>
+                <div class="col-md-9 control-label" style="text-align: left"></div>
             </div>
-
             <div class="form-group">
                 <div class="col-sm-12">
                     <table class="table">
                         {% with category_collapse="application"|customization:"consumable_category_collapse" %}
                             {% regroup consumables by category as categories %}
                             {% for category in categories %}
                                 {% if categories|length > 1 or category.grouper %}
-                                    <tr onclick="toggle_details('#chevron_{{ category.grouper.id }}')" data-toggle="collapse" data-target="#category_{{ category.grouper.id }}_details"><th id="chevron_{{ category.grouper.id }}"><span class="glyphicon glyphicon-chevron-{% if category_collapse %}right{% else %}down{% endif %} pull-left chevron"></span>{{ category.grouper|default_if_none:"Uncategorized" }}</th></tr>
+                                    <tr onclick="toggle_details('#chevron_{{ category.grouper.id }}')"
+                                        data-toggle="collapse"
+                                        data-target="#category_{{ category.grouper.id }}_details">
+                                        <th id="chevron_{{ category.grouper.id }}">
+                                            <span class="glyphicon glyphicon-chevron-{% if category_collapse %}right{% else %}down{% endif %} pull-left chevron"></span>{{ category.grouper|default_if_none:"Uncategorized" }}
+                                        </th>
+                                    </tr>
                                 {% endif %}
-                                <tbody id="category_{{ category.grouper.id }}_details" class="collapse {% if not category_collapse %}in{% endif %}">
+                                <tbody id="category_{{ category.grouper.id }}_details"
+                                       class="collapse {% if not category_collapse %}in{% endif %}">
                                     {% for item in category.list %}
-                                        <tr><td {% if categories|length > 1 or category.grouper %}style="padding-left: 45px;"{% endif %}>
-                                            <div class="consumable-row">
-                                                {% if item.notes %}<span data-toggle="notes-tooltip" title="{{ item.notes|linebreaksbr }}" class="glyphicon glyphicon-info-sign primary-highlight"></span>{% endif %}
-                                                <span class="consumable_trigger" data-item-id="{{ item.id }}">{{ item.name }}{% if rates and rates|get_item:item.name %} ({{ rates|get_item:item.name|safe }}){% endif %}
-                                                    {% if not item.reusable %}
-                                                        {% if item.quantity > 0 %}
-                                                            <span>({{ item.quantity }} left)</span>
-                                                        {% else %}
-                                                            <span class="danger-highlight">(sold-out)</span>
-                                                        {% endif %}
-                                                    {% endif %}
-                                                    {% if item.reusable or item.quantity > 0 %}
-                                                        <span class="glyphicon glyphicon-plus-sign success-highlight" style="vertical-align: text-top"></span>
+                                        <tr>
+                                            <td {% if categories|length > 1 or category.grouper %}style="padding-left: 45px;"{% endif %}>
+                                                <div class="consumable-row">
+                                                    {% if item.notes %}
+                                                        <span data-toggle="notes-tooltip"
+                                                              title="{{ item.notes|linebreaksbr }}"
+                                                              class="glyphicon glyphicon-info-sign primary-highlight"></span>
                                                     {% endif %}
-                                                </span>
-                                            </div>
-                                        </td></tr>
+                                                    <span class="consumable_trigger" data-item-id="{{ item.id }}">{{ item.name }}
+                                                        {% if rates and rates|get_item:item.name %}({{ rates|get_item:item.name|safe }}){% endif %}
+                                                        {% if not item.reusable %}
+                                                            {% if item.quantity > 0 %}
+                                                                <span>({{ item.quantity }} left)</span>
+                                                            {% else %}
+                                                                <span class="danger-highlight">(sold-out)</span>
+                                                            {% endif %}
+                                                        {% endif %}
+                                                        {% if item.reusable or item.quantity > 0 %}
+                                                            <span class="glyphicon glyphicon-plus-sign success-highlight" style="vertical-align: text-top"></span>
+                                                        {% endif %}
+                                                    </span>
+                                                </div>
+                                            </td>
+                                        </tr>
                                     {% endfor %}
                                 </tbody>
                             {% endfor %}
                         {% endwith %}
                     </table>
                 </div>
             </div>
         </form>
     </div>
-
     <div class="col-md-6">
-        <div id="consumables_order" class="affix">
-            {% include 'consumables/consumables_order.html' %}
-        </div>
+        <div id="consumables_order" class="affix">{% include 'consumables/consumables_order.html' %}</div>
     </div>
-
-	<script type="text/javascript">
+    <script type="text/javascript">
         function add_tooltip(element, consumable_id)
         {
             let consumable_tooltip_content =
                 "<div style='margin: 10px;'>" +
                 "<input type='hidden' id='consumable' name='consumable' value='" + consumable_id + "'>" +
                 "<div style='margin-bottom: 10px'>" +
                 "<label for=quantity class='control-label'>How many?</label>" +
@@ -118,28 +135,28 @@
 		function update_projects(response, status, xml_http_request)
 		{
 		    let project_selector = $('#project');
 			project_selector.find('option').remove().end().removeAttr('disabled');
 			let projects = response['projects'];
 
 			if(projects.length === 0)
-				project_selector.append($('<option/>', {text: "No active projects!"})).attr('disabled', 'disabled');
+				project_selector.append($('<option />', {text: "No active projects!"})).attr('disabled', 'disabled');
 			else if(projects.length === 1)
-				project_selector.append($('<option/>', {value: response['projects'][0].id, text: response['projects'][0].name}));
+				project_selector.append($('<option />', {value: response['projects'][0].id, text: response['projects'][0].name}));
 			else
 			{
-				project_selector.append($('<option/>', {
+				project_selector.append($('<option />', {
 					text: "Choose a project to bill",
 					disabled: true,
 					selected: true,
                     value: ""
 				}));
 				$.each(projects, function(count, project)
 				{
-					project_selector.append($('<option/>', {value: project.id, text: project.name}));
+					project_selector.append($('<option />', {value: project.id, text: project.name}));
 				});
 			}
 		}
         window.addEventListener("load", function ()
         {
 			$('[data-toggle="notes-tooltip"]').tooltip({"html": true, container: 'body'});
             $('#customer_search').autocomplete('users', fetch_projects, {{ users|json_search_base }}).focus();
@@ -181,9 +198,10 @@
             });
             {# Prevent refresh resubmit #}
             if (window.history.replaceState)
             {
                 window.history.replaceState(null, null, window.location.href);
             }
         }, true);
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% block title
 %}Withdraw consumables{% endblock %} {% block content %}
 ************ WWiitthhddrraaww ccoonnssuummaabblleess ************
-Use this form to {% if self_checkout %}checkout{% else %}charge users for{%
+Use this form to {% if self_checkout %} checkout {% else %} charge users for {%
 endif %} consumable items & supplies.
 {% csrf_token %} {% if not self_checkout %}
 Customer
 [                    ][Unknown INPUT type]
 {% endif %}
 Project
 % if not projects %}disabled{% endif %} required> {% if projects|length == 0 %}
```

## NEMO/templates/consumables/consumables_order.html

```diff
@@ -14,21 +14,24 @@
         {% for withdraw in request.session.withdrawals %}
             <tr>
                 <td>{{ withdraw.customer }}</td>
                 <td>{{ withdraw.project }}</td>
                 <td>{{ withdraw.consumable }}</td>
                 <td>{{ withdraw.quantity }}</td>
                 <td style="vertical-align: middle">
-                    <span class="glyphicon glyphicon-remove pull-right" style="cursor:pointer" onclick="$('#consumables_order').load('{% url 'remove_consumable' forloop.counter0 %}')" title="Remove this withdrawal"></span>
+                    <span class="glyphicon glyphicon-remove pull-right"
+                          style="cursor:pointer"
+                          onclick="$('#consumables_order').load('{% url 'remove_consumable' forloop.counter0 %}')"
+                          title="Remove this withdrawal"></span>
                 </td>
             </tr>
         {% endfor %}
     </table>
     <div class="pull-left">
         {% url 'clear_withdrawals' as clear_withdrawals_url %}
         {% button type="delete" size="small" value="Clear" title="Remove all items in current order" onclick="$('#consumables_order').load('"|concat:clear_withdrawals_url|concat:"')" %}
     </div>
     <form action="{% url 'withdraw_consumables' %}" class="form-horizontal pull-right" method="post">
         {% csrf_token %}
         {% button type="save" size="small" value="Confirm" %}
     </form>
-{% endif %}
+{% endif %}
```

## NEMO/templates/consumables/recurring_charge.html

```diff
@@ -1,154 +1,214 @@
 {% extends 'base.html' %}
 {% load static %}
 {% load custom_tags_and_filters %}
-{% block title %}{% if form.instance.id %}Modify {{ form.instance.name }}{% else %}New item{% endif %}{% endblock %}
+{% block title %}
+    {% if form.instance.id %}
+        Modify {{ form.instance.name }}
+    {% else %}
+        New item
+    {% endif %}
+{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
-    <h1 class="form-group">{% if form.instance.id %}Modify {{ form.instance.name }}{% else %}New item{% endif %}</h1>
-	<form class="well form-horizontal" action="{% if form.instance.id %}{% url 'edit_recurring_charge' form.instance.id %}{% else %}{% url 'create_recurring_charge' %}{% endif %}" method="post">
-		{% csrf_token %}
-		{% if form.non_field_errors %}
-			<div class="alert alert-danger">
-				{{ form.non_field_errors }}
-			</div>
-		{% endif %}
+    <h1 class="form-group">
+        {% if form.instance.id %}
+            Modify {{ form.instance.name }}
+        {% else %}
+            New item
+        {% endif %}
+    </h1>
+    <form class="well form-horizontal"
+          action="{% if form.instance.id %}{% url 'edit_recurring_charge' form.instance.id %}{% else %}{% url 'create_recurring_charge' %}{% endif %}"
+          method="post">
+        {% csrf_token %}
+        {% if form.non_field_errors %}<div class="alert alert-danger">{{ form.non_field_errors }}</div>{% endif %}
         <div class="form-group">
-            <label class="control-label col-sm-2" for="recurring_charge_name"><b>Name</b></label>
+            <label class="control-label col-sm-2" for="recurring_charge_name">
+                <b>Name</b>
+            </label>
             <div class="col-sm-6 col-md-4">
-                <input required class="form-control" id="recurring_charge_name" name="name" type="text" autocomplete="off" value="{{ form.instance.name }}" {% if form.fields.name.disabled %}disabled{% endif %} autofocus/>
+                <input required
+                       class="form-control"
+                       id="recurring_charge_name"
+                       name="name"
+                       type="text"
+                       autocomplete="off"
+                       value="{{ form.instance.name }}"
+                       {% if form.fields.name.disabled %}disabled{% endif %}
+                       autofocus />
             </div>
             {% if form.name.errors %}
-				<div class="col-sm-4 col-md-6 form-control-static danger-highlight">
-					{{ form.name.errors|striptags }}
-				</div>
-			{% endif %}
+                <div class="col-sm-4 col-md-6 form-control-static danger-highlight">{{ form.name.errors|striptags }}</div>
+            {% endif %}
         </div>
         <div class="form-group">
-            <label class="control-label col-sm-2" for="consumable"><b>Consumable</b></label>
+            <label class="control-label col-sm-2" for="consumable">
+                <b>Consumable</b>
+            </label>
             {% if force_quantity %}
-                <input name="quantity" type="hidden" value="{{ force_quantity }}" {% if form.fields.quantity.disabled %}disabled{% endif %}/>
+                <input name="quantity"
+                       type="hidden"
+                       value="{{ force_quantity }}"
+                       {% if form.fields.quantity.disabled %}disabled{% endif %} />
             {% else %}
                 <div class="col-sm-2 col-md-1">
-                    <input aria-label="Quantity" id="quantity" name="quantity" type="number" class="form-control" value="{{ form.quantity.value }}" {% if form.fields.quantity.disabled %}disabled{% endif %}/>
+                    <input aria-label="Quantity"
+                           id="quantity"
+                           name="quantity"
+                           type="number"
+                           class="form-control"
+                           value="{{ form.quantity.value }}"
+                           {% if form.fields.quantity.disabled %}disabled{% endif %} />
                 </div>
             {% endif %}
             <div class="{% if force_quantity %}col-sm-6 col-md-4{% else %}col-sm-4 col-md-3{% endif %}">
-                <select class="form-control" id="consumable" name="consumable" {% if form.fields.consumable.disabled %}disabled{% endif %}>
+                <select class="form-control"
+                        id="consumable"
+                        name="consumable"
+                        {% if form.fields.consumable.disabled %}disabled{% endif %}>
                     {% if not form.consumable.value %}<option value="" disabled selected>Select a consumable</option>{% endif %}
                     {% regroup consumables by category as consumable_by_category %}
                     {% for category in consumable_by_category %}
-                        {% if consumable_by_category|length != 1 and category.grouper %}<optgroup label="{{ category.grouper.name }}">{% endif %}
-                        {% for consumable in category.list %}
-                            <option label="{{ consumable.name }}" value="{{ consumable.id }}" {% if form.consumable.value|to_int == consumable.id %}selected{% endif %}></option>
-                        {% endfor %}
-                        {% if consumable_by_category|length != 1 and category.grouper %}</optgroup>{% endif %}
+                        {% if consumable_by_category|length != 1 and category.grouper %}
+                            <optgroup label="{{ category.grouper.name }}">
+                            {% endif %}
+                            {% for consumable in category.list %}
+                                <option label="{{ consumable.name }}"
+                                        value="{{ consumable.id }}"
+                                        {% if form.consumable.value|to_int == consumable.id %}selected{% endif %}>
+                                </option>
+                            {% endfor %}
+                            {% if consumable_by_category|length != 1 and category.grouper %}</optgroup>{% endif %}
                     {% endfor %}
                 </select>
             </div>
             {% if form.quantity.errors or form.consumable.errors %}
-				<div class="col-sm-4 col-md-6 form-control-static danger-highlight">
-					{{ form.consumable.errors|striptags|default:form.quantity.errors|striptags }}
-				</div>
-			{% endif %}
+                <div class="col-sm-4 col-md-6 form-control-static danger-highlight">
+                    {{ form.consumable.errors|striptags|default:form.quantity.errors|striptags }}
+                </div>
+            {% endif %}
         </div>
         <div class="form-group">
             <label class="control-label col-sm-2" for="customer_search">Customer</label>
             <div class="col-sm-6 col-md-4">
                 <input type="text" class="form-control" id="customer_search" placeholder="Search for a customer">
-                <input type="button" id="chosen_customer" title="chosen customer" class="btn btn-default" style="display:none" onclick="clear_selected_customer()">
+                <input type="button"
+                       id="chosen_customer"
+                       title="chosen customer"
+                       class="btn btn-default"
+                       style="display:none"
+                       onclick="clear_selected_customer()">
                 <input type="hidden" id="customer" name="customer">
             </div>
             {% if form.customer.errors %}
-				<div class="col-sm-4 col-md-6 form-control-static danger-highlight">
-					{{ form.customer.errors|striptags }}
-				</div>
-			{% endif %}
+                <div class="col-sm-4 col-md-6 form-control-static danger-highlight">{{ form.customer.errors|striptags }}</div>
+            {% endif %}
         </div>
         <div class="form-group">
             <label class="control-label col-sm-2" for="project">Project</label>
             <div class="col-sm-6 col-md-4">
                 <select id="project" name="project" class="form-control" {% if not projects %}disabled{% endif %}>
                     {% if projects|length == 0 %}
                         <option></option>
                     {% elif projects|length == 1 %}
                         <option value="{{ projects.0.id }}">{{ projects.0 }}</option>
                     {% elif projects %}
                         <option disabled selected value="">Choose a project to bill</option>
-                        {% for p in projects %}
-                            <option value="{{ p.id }}">{{ p }}</option>
-                        {% endfor %}
+                        {% for p in projects %}<option value="{{ p.id }}">{{ p }}</option>{% endfor %}
                     {% endif %}
                 </select>
             </div>
             {% if form.project.errors %}
-				<div class="col-sm-4 col-md-6 form-control-static danger-highlight">
-					{{ form.project.errors|striptags }}
-				</div>
-			{% endif %}
+                <div class="col-sm-4 col-md-6 form-control-static danger-highlight">{{ form.project.errors|striptags }}</div>
+            {% endif %}
         </div>
-		<div class="form-group">
+        <div class="form-group">
             <label class="control-label col-sm-2" for="rec_start">Start charging on</label>
             <div class="col-sm-6 col-md-4">
-                <input type="text" class="form-control" name="rec_start" id="rec_start" value="{{ form.rec_start.value|input_date_format }}" {% if form.fields.rec_start.disabled %}disabled{% endif %}>
+                <input type="text"
+                       class="form-control"
+                       name="rec_start"
+                       id="rec_start"
+                       value="{{ form.rec_start.value|input_date_format }}"
+                       {% if form.fields.rec_start.disabled %}disabled{% endif %}>
             </div>
             {% if form.rec_start.errors %}
-				<div class="col-sm-4 col-md-6 form-control-static danger-highlight">
-					{{ form.rec_start.errors|striptags }}
-				</div>
-			{% endif %}
+                <div class="col-sm-4 col-md-6 form-control-static danger-highlight">{{ form.rec_start.errors|striptags }}</div>
+            {% endif %}
         </div>
         <div class="form-group">
             <label class="control-label col-sm-2" for="rec_interval">And then every</label>
             <div class="col-sm-3 col-md-2">
-                <input id="rec_interval" name="rec_interval" type="number" class="form-control" value="{{ form.rec_interval.value }}" {% if form.fields.rec_interval.disabled %}disabled{% endif %}/>
+                <input id="rec_interval"
+                       name="rec_interval"
+                       type="number"
+                       class="form-control"
+                       value="{{ form.rec_interval.value }}"
+                       {% if form.fields.rec_interval.disabled %}disabled{% endif %} />
             </div>
             <div class="col-sm-3 col-md-2">
-                <select class="form-control" name="rec_frequency" id="rec_frequency" aria-label="Frequency" {% if form.fields.rec_frequency.disabled %}disabled{% endif %}>
+                <select class="form-control"
+                        name="rec_frequency"
+                        id="rec_frequency"
+                        aria-label="Frequency"
+                        {% if form.fields.rec_frequency.disabled %}disabled{% endif %}>
                     {% for choice in form.fields.rec_frequency.choices %}
-                        <option value="{{ choice.0 }}" {% if choice.0 == form.rec_frequency.value|to_int %}selected{% endif %}>{{ choice.1 }}</option>
+                        <option value="{{ choice.0 }}" {% if choice.0 == form.rec_frequency.value|to_int %}selected{% endif %}>
+                            {{ choice.1 }}
+                        </option>
                     {% endfor %}
                 </select>
             </div>
             {% if form.rec_interval.errors or form.rec_frequency.errors %}
-				<div class="col-sm-4 col-md-6 form-control-static danger-highlight">
-					{{ form.rec_interval.errors|striptags|default:form.rec_frequency.errors|striptags }}
-				</div>
-			{% endif %}
+                <div class="col-sm-4 col-md-6 form-control-static danger-highlight">
+                    {{ form.rec_interval.errors|striptags|default:form.rec_frequency.errors|striptags }}
+                </div>
+            {% endif %}
         </div>
         <div class="form-group">
             <label class="control-label col-sm-2" for="rec_until">Until</label>
             <div class="col-sm-6 col-md-4">
-                <input type="text" id="rec_until" name="rec_until" class="form-control" placeholder="Choose a date" value="{{ form.rec_until.value|input_date_format }}" {% if form.fields.rec_until.disabled %}disabled{% endif %}>
+                <input type="text"
+                       id="rec_until"
+                       name="rec_until"
+                       class="form-control"
+                       placeholder="Choose a date"
+                       value="{{ form.rec_until.value|input_date_format }}"
+                       {% if form.fields.rec_until.disabled %}disabled{% endif %}>
             </div>
             {% if form.rec_until.errors %}
-				<div class="col-sm-4 col-md-6 form-control-static danger-highlight">
-					{{ form.rec_until.errors|striptags }}
-				</div>
-			{% endif %}
+                <div class="col-sm-4 col-md-6 form-control-static danger-highlight">{{ form.rec_until.errors|striptags }}</div>
+            {% endif %}
         </div>
         <div class="form-group">
             <label class="control-label col-sm-2" for="rec_count">Or after</label>
             <div class="col-sm-2">
-                <input type="number" id="rec_count" name="rec_count" class="form-control" value="{{ form.rec_count.value }}" {% if form.fields.rec_count.disabled %}disabled{% endif %}>
+                <input type="number"
+                       id="rec_count"
+                       name="rec_count"
+                       class="form-control"
+                       value="{{ form.rec_count.value }}"
+                       {% if form.fields.rec_count.disabled %}disabled{% endif %}>
             </div>
             <span class="control-label col-sm-4 col-md-2" style="text-align: left">iterations</span>
             {% if form.rec_count.errors %}
-				<div class="col-sm-4 col-md-6 form-control-static danger-highlight">
-					{{ form.rec_count.errors|striptags }}
-				</div>
-			{% endif %}
+                <div class="col-sm-4 col-md-6 form-control-static danger-highlight">{{ form.rec_count.errors|striptags }}</div>
+            {% endif %}
         </div>
         <div class="form-group">
             <div class="col-sm-offset-2 col-sm-10">
                 {% button type="save" value="Save" name="save" %}
-                <div style="display: inline-block" {% if not can_charge %}title="The customer was already charged for this item today"{% endif %}>{% button type="warn" submit=True value="Save and charge now" onclick="if (confirm('Are you sure you want to charge this customer today?')){ submit_and_disable(this); } else return false;" icon="glyphicon-floppy-save" name="save_and_charge" disabled=can_charge|yesno:",disabled" %}</div>
+                <div style="display: inline-block"
+                     {% if not can_charge %}title="The customer was already charged for this item today"{% endif %}>
+                    {% button type="warn" submit=True value="Save and charge now" onclick="if (confirm('Are you sure you want to charge this customer today?')){ submit_and_disable(this); } else return false;" icon="glyphicon-floppy-save" name="save_and_charge" disabled=can_charge|yesno:",disabled" %}
+                </div>
             </div>
         </div>
     </form>
     <script>
         let timepicker_properties =
 		{
 			format: '{{ date_input_js_format }}',
@@ -173,31 +233,31 @@
 		{
 		    let project_selector = $('#project');
 			project_selector.find('option').remove().end().removeAttr('disabled').prop('required', true);
 			let projects = response['projects'];
 
 			if(projects.length === 0)
             {
-				project_selector.append($('<option/>', { text: "No active projects!" })).attr('disabled', 'disabled');
+				project_selector.append($('<option />', { text: "No active projects!" })).attr('disabled', 'disabled');
             }
 			else if(projects.length === 1)
             {
-				project_selector.append($('<option/>', { value: response['projects'][0].id, text: response['projects'][0].name }));
+				project_selector.append($('<option />', { value: response['projects'][0].id, text: response['projects'][0].name }));
             }
 			else
 			{
-				project_selector.append($('<option/>', {
+				project_selector.append($('<option />', {
 					text: "Choose a project to bill",
 					disabled: true,
 					selected: true,
                     value: ""
 				}));
 				$.each(projects, function(count, project)
 				{
-					project_selector.append($('<option/>', {value: project.id, text: project.name}));
+					project_selector.append($('<option />', {value: project.id, text: project.name}));
 				});
 			}
 		}
         window.addEventListener("load", function ()
         {
             $('#customer_search').autocomplete('users', fetch_projects, {{ users|json_search_base }});
             {% if form.cleaned_data %}
@@ -206,9 +266,10 @@
                 {% endif %}
             {% elif form.instance.id and form.instance.customer %}
                 fetch_projects(null, {'id': '{{ form.instance.customer.id }}', 'name': '{{ form.instance.customer.get_name }}' }, null, function(){$('#project').val('{{ form.instance.project.id }}');});
             {% endif %}
             $('#rec_start').datetimepicker(timepicker_properties);
             $('#rec_until').datetimepicker(timepicker_properties);
 		}, true);
-	</script>
+	
+    </script>
 {% endblock %}
```

### html2text {}

```diff
@@ -1,32 +1,32 @@
 {% extends 'base.html' %} {% load static %} {% load custom_tags_and_filters %}
-{% block title %}{% if form.instance.id %}Modify {{ form.instance.name }}{%
-else %}New item{% endif %}{% endblock %} {% block extrahead %}
+{% block title %} {% if form.instance.id %} Modify {{ form.instance.name }} {%
+else %} New item {% endif %} {% endblock %} {% block extrahead %}
 }">
-}"/> {% endblock %} {% block content %}
-************ {{%% iiff ffoorrmm..iinnssttaannccee..iidd %%}}MMooddiiffyy {{{{ ffoorrmm..iinnssttaannccee..nnaammee }}}}{{%% eellssee %%}}NNeeww
-iitteemm{{%% eennddiiff %%}} ************
+}" /> {% endblock %} {% block content %}
+************ {{%% iiff ffoorrmm..iinnssttaannccee..iidd %%}} MMooddiiffyy {{{{ ffoorrmm..iinnssttaannccee..nnaammee }}}} {{%% eellssee %%}} NNeeww
+iitteemm {{%% eennddiiff %%}} ************
 {% csrf_token %} {% if form.non_field_errors %}
 {{ form.non_field_errors }}
 {% endif %}
 NNaammee
-% if form.fields.name.disabled %}disabled{% endif %} autofocus/>
+% if form.fields.name.disabled %}disabled{% endif %} autofocus />
 {% if form.name.errors %}
 {{ form.name.errors|striptags }}
 {% endif %}
 CCoonnssuummaabbllee {% if force_quantity %}
-% if form.fields.quantity.disabled %}disabled{% endif %}/> {% else %}
-% if form.fields.quantity.disabled %}disabled{% endif %}/>
+% if form.fields.quantity.disabled %}disabled{% endif %} /> {% else %}
+% if form.fields.quantity.disabled %}disabled{% endif %} />
 {% endif %}
 % if form.fields.consumable.disabled %}disabled{% endif %}> {% if not
 form.consumable.value %}
 Select a consumable
 {% endif %} {% regroup consumables by category as consumable_by_category %} {%
 for category in consumable_by_category %} {% if consumable_by_category|length
-!= 1 and category.grouper %}{% endif %} {% for consumable in category.list %}
+!= 1 and category.grouper %} {% endif %} {% for consumable in category.list %}
 % if form.consumable.value|to_int == consumable.id %}selected{% endif %}>
 {% endfor %} {% if consumable_by_category|length != 1 and category.grouper %}{%
 endif %} {% endfor %}
 {% if form.quantity.errors or form.consumable.errors %}
 {{ form.consumable.errors|striptags|default:form.quantity.errors|striptags }}
 {% endif %}
 Customer
@@ -48,18 +48,18 @@
 {% endif %}
 Start charging on
 % if form.fields.rec_start.disabled %}disabled{% endif %}>
 {% if form.rec_start.errors %}
 {{ form.rec_start.errors|striptags }}
 {% endif %}
 And then every
-% if form.fields.rec_interval.disabled %}disabled{% endif %}/>
+% if form.fields.rec_interval.disabled %}disabled{% endif %} />
 % if form.fields.rec_frequency.disabled %}disabled{% endif %}> {% for choice in
 form.fields.rec_frequency.choices %}
-% if choice.0 == form.rec_frequency.value|to_int %}selected{% endif %}>{
+% if choice.0 == form.rec_frequency.value|to_int %}selected{% endif %}> {
 { choice.1 }}
 {% endfor %}
 {% if form.rec_interval.errors or form.rec_frequency.errors %}
 {{ form.rec_interval.errors|striptags|default:
 form.rec_frequency.errors|striptags }}
 {% endif %}
 Until
@@ -70,12 +70,12 @@
 Or after
 % if form.fields.rec_count.disabled %}disabled{% endif %}>
 iterations {% if form.rec_count.errors %}
 {{ form.rec_count.errors|striptags }}
 {% endif %}
 {% button type="save" value="Save" name="save" %}
 % if not can_charge %}title="The customer was already charged for this item
-today"{% endif %}>{% button type="warn" submit=True value="Save and charge now"
-onclick="if (confirm('Are you sure you want to charge this customer today?'))
-{ submit_and_disable(this); } else return false;" icon="glyphicon-floppy-save"
-name="save_and_charge" disabled=can_charge|yesno:",disabled" %}
+today"{% endif %}> {% button type="warn" submit=True value="Save and charge
+now" onclick="if (confirm('Are you sure you want to charge this customer
+today?')){ submit_and_disable(this); } else return false;" icon="glyphicon-
+floppy-save" name="save_and_charge" disabled=can_charge|yesno:",disabled" %}
 {% endblock %}
```

## NEMO/templates/consumables/recurring_charges.html

```diff
@@ -1,35 +1,42 @@
 {% extends 'pagination/pagination_base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}{{ recurring_charges_name }}{% endblock %}
 {% block before_pagination %}
-	<div class="h1 row">
+    <div class="h1 row">
         <div class="col-xs-6 col-sm-7 col-md-8">{{ recurring_charges_name }}</div>
         <div class="col-xs-6 col-sm-5 col-md-4 text-right">
             {% button type="export" value="Export" url="export_recurring_charges" target="_blank" %}
             {% if extended_permissions %}
                 {% button value="Add item" type="add" url="create_recurring_charge" %}
             {% endif %}
         </div>
-	</div>
+    </div>
     {% if page %}
         <div class="row" style="margin-bottom: 25px">
             <div class="col-sm-6">
-                <input id="search" type="text" aria-label="Search for {{ recurring_charges_name|lower }}" placeholder="Search for {{ recurring_charges_name|lower }}" class="form-control" autofocus>
+                <input id="search"
+                       type="text"
+                       aria-label="Search for {{ recurring_charges_name|lower }}"
+                       placeholder="Search for {{ recurring_charges_name|lower }}"
+                       class="form-control"
+                       autofocus>
             </div>
         </div>
     {% endif %}
 {% endblock %}
 {% block pagination_content %}
     {% regroup page by quantity as different_quantities %}
     <table class="table table-bordered table-condensed table-hover table-align-middle thead-light">
         <thead>
             <tr>
                 <th>{% include 'pagination/pagination_column.html' with order_by='name' name='Name' %}</th>
-                {% if different_quantities|length != 1 or page.0.quantity != 1 %}<th>{% include 'pagination/pagination_column.html' with order_by='quantity' name='Quantity' %}</th>{% endif %}
+                {% if different_quantities|length != 1 or page.0.quantity != 1 %}
+                    <th>{% include 'pagination/pagination_column.html' with order_by='quantity' name='Quantity' %}</th>
+                {% endif %}
                 <th>{% include 'pagination/pagination_column.html' with order_by='consumable' name='Item' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='customer' name='Customer' %}</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='project' name='Project' %}</th>
                 <th>Frequency</th>
                 <th>{% include 'pagination/pagination_column.html' with order_by='last_charge' name='Last charge' %}</th>
                 <th>Next charge</th>
                 <th>Actions</th>
@@ -38,17 +45,28 @@
         <tbody>
             {% now "Y-m-d" as today_date %}
             {% for recurring_charge in page %}
                 <tr {% if not recurring_charge.is_empty and not recurring_charge.next_charge %}class="danger" data-toggle="tooltip" data-title="This item expired"{% endif %}>
                     <td>{{ recurring_charge.name }}</td>
                     {% if different_quantities|length != 1 or page.0.quantity != 1 %}<td>{{ recurring_charge.quantity }}</td>{% endif %}
                     <td>{{ recurring_charge.consumable }}</td>
-                    <td {% if recurring_charge.invalid_customer %}class="danger" data-toggle="tooltip" data-title="{{ recurring_charge.invalid_customer|default:'' }}"{% endif %}>{{ recurring_charge.customer|default_if_none:"" }}</td>
-                    <td {% if recurring_charge.invalid_project %}class="danger" data-toggle="tooltip" data-title="{{ recurring_charge.invalid_project|default:'' }}"{% endif %}>{{ recurring_charge.project|default_if_none:"" }}</td>
-                    <td style="white-space: nowrap;">{% if recurring_charge.get_recurrence_interval_display %}{{ recurring_charge.get_recurrence_interval_display }} <span class="glyphicon glyphicon-info-sign primary-highlight" style="vertical-align: text-bottom" data-toggle="tooltip" data-title="{{ recurring_charge.get_recurrence_display|default_if_none:'' }}"></span>{% endif %}</td>
+                    <td {% if recurring_charge.invalid_customer %}class="danger" data-toggle="tooltip" data-title="{{ recurring_charge.invalid_customer|default:'' }}"{% endif %}>
+                        {{ recurring_charge.customer|default_if_none:"" }}
+                    </td>
+                    <td {% if recurring_charge.invalid_project %}class="danger" data-toggle="tooltip" data-title="{{ recurring_charge.invalid_project|default:'' }}"{% endif %}>
+                        {{ recurring_charge.project|default_if_none:"" }}
+                    </td>
+                    <td style="white-space: nowrap;">
+                        {% if recurring_charge.get_recurrence_interval_display %}
+                            {{ recurring_charge.get_recurrence_interval_display }} <span class="glyphicon glyphicon-info-sign primary-highlight"
+       style="vertical-align: text-bottom"
+       data-toggle="tooltip"
+       data-title="{{ recurring_charge.get_recurrence_display|default_if_none:'' }}"></span>
+                        {% endif %}
+                    </td>
                     <td>{{ recurring_charge.last_charge|date:'SHORT_DATE_FORMAT' }}</td>
                     <td>{{ recurring_charge.next_charge|date:'SHORT_DATE_FORMAT' }}</td>
                     <td class="button-column-minimum">
                         {% url "edit_recurring_charge" recurring_charge.id as edit_charge %}
                         {% url "clear_recurring_charge" recurring_charge.id as clear_charge %}
                         {% url "delete_recurring_charge" recurring_charge.id as delete_charge %}
                         {% button type="edit" size="small" value="Edit" url=edit_charge %}
@@ -59,23 +77,26 @@
                     </td>
                 </tr>
             {% endfor %}
         </tbody>
     </table>
 {% endblock %}
 {% block table_empty_content %}
-    <div>There are no current {{ recurring_charges_name|lower }}. {% if extended_permissions %}Please add some by clicking the "Add item" button above.{% endif %}</div>
+    <div>
+        There are no current {{ recurring_charges_name|lower }}.
+        {% if extended_permissions %}Please add some by clicking the "Add item" button above.{% endif %}
+    </div>
 {% endblock %}
 {% block after_pagination %}
     <script>
         $('[data-toggle~="tooltip"]').tooltip({container: 'body'});
 		function get_charge(jquery_event, search_selection, dataset_name)
 		{
 			window.location.href = "{% url 'edit_recurring_charge' 999 %}".replace('999', search_selection.id);
 		}
 		function on_load()
 		{
 			$("#search").autocomplete('recurring_charges', get_charge, '{% url 'search_recurring_charges' %}', true).focus();
 		}
 		window.addEventListener('load', on_load, true);
     </script>
-{% endblock %}
+{% endblock %}
```

## NEMO/templates/contact/contact_staff.html

```diff
@@ -1,22 +1,26 @@
 {% extends 'base.html' %}
 {% block title %}Contact {{ facility_name }} staff{% endblock %}
 {% block content %}
-	<h1>Contact information</h1>
-	{% for category in categories %}
-		<h3>{{ category }}</h3>
-		<div class="row">
-			{% for person in people %}
-				{% if person.category == category %}
-					<div class="col-md-3">
-						<div class="thumbnail">
-							{% if person.image %}<img alt="staff contact picture" src="{{ person.image.url }}" style="margin-top:7px; height:266px; width:200px">{% endif %}
-							<div class="caption">
-								{% include 'snippets/contact_person.html' %}
-							</div>
-						</div>
-					</div>
-				{% endif %}
-			{% endfor %}
-		</div>
-	{% endfor %}
-{% endblock %}
+    <h1>Contact information</h1>
+    {% for category in categories %}
+        <h3>{{ category }}</h3>
+        <div class="row">
+            {% for person in people %}
+                {% if person.category == category %}
+                    <div class="col-md-3">
+                        <div class="thumbnail">
+                            {% if person.image %}
+                                <img alt="staff contact picture"
+                                     src="{{ person.image.url }}"
+                                     style="margin-top:7px;
+                                            height:266px;
+                                            width:200px">
+                            {% endif %}
+                            <div class="caption">{% include 'snippets/contact_person.html' %}</div>
+                        </div>
+                    </div>
+                {% endif %}
+            {% endfor %}
+        </div>
+    {% endfor %}
+{% endblock %}
```

## NEMO/templates/customizations/customizations.html

```diff
@@ -1,46 +1,44 @@
 {% extends 'base.html' %}
 {% block title %}Site customization{% endblock %}
 {% block extrahead %}
-	{% load static %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    {% load static %}
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
     <h1 style="margin-top: 0;">Customization</h1>
     <p>You can customize portions of {{ site_title }} to suit your organization's needs.</p>
-
     <div class="row">
         <div class="col-sm-3">
             <ul class="nav nav-pills nav-stacked" id="tabs">
                 {% for customization_instance in customization.instances %}
                     <li class="{% if customization_instance.key == customization.key %}active{% endif %}">
-                        <a id="{{ customization_instance.key }}-tab-link" href="{% url 'customization' customization_instance.key %}">{{ customization_instance.title }}</a>
+                        <a id="{{ customization_instance.key }}-tab-link"
+                           href="{% url 'customization' customization_instance.key %}">{{ customization_instance.title }}</a>
                     </li>
                 {% endfor %}
             </ul>
         </div>
         <div class="col-sm-9">
             <div class="tab-content panel panel-default">
-                <div class="tab-pane active" id="{{ customization.key }}-tab">
-                    {% include customization.template %}
-                </div>
+                <div class="tab-pane active" id="{{ customization.key }}-tab">{% include customization.template %}</div>
             </div>
         </div>
     </div>
-
-	<script type="application/javascript">
+    <script type="application/javascript">
         sort_elements(document.getElementById('tabs'), "> li");
 		function check_delete_file_before_submit(name)
         {
 			let has_file = $('input[name='+name+']')[0].files.length !== 0;
 			if (!has_file)
             {
 			    return confirm("Submitting without a new file will delete any previous content. \nAre you sure you want to continue?");
 			}
             else
             {
 			    return true;
 			}
         }
-	</script>
+	
+    </script>
 {% endblock %}
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
 {% extends 'base.html' %} {% block title %}Site customization{% endblock %} {%
 block extrahead %} {% load static %}
 }">
-}"/> {% endblock %} {% block content %}
+}" /> {% endblock %} {% block content %}
 ************ CCuussttoommiizzaattiioonn ************
 You can customize portions of {{ site_title }} to suit your organization's
 needs.
     * {% for customization_instance in customization.instances %}
     * _{_{_ _c_u_s_t_o_m_i_z_a_t_i_o_n___i_n_s_t_a_n_c_e_._t_i_t_l_e_ _}_}
     * {% endfor %}
 {% include customization.template %}
```

## NEMO/templates/customizations/customizations_application.html

```diff
@@ -21,518 +21,670 @@
 00000140: 6c20 636f 6c2d 6d64 2d33 2220 666f 723d  l col-md-3" for=
 00000150: 2266 6163 696c 6974 795f 6e61 6d65 223e  "facility_name">
 00000160: 4661 6369 6c69 7479 206e 616d 653c 2f6c  Facility name</l
 00000170: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
 00000180: 2020 3c64 6976 2063 6c61 7373 3d22 636f    <div class="co
 00000190: 6c2d 6d64 2d34 223e 0a20 2020 2020 2020  l-md-4">.       
 000001a0: 2020 2020 2020 2020 203c 696e 7075 7420           <input 
-000001b0: 7479 7065 3d22 7465 7874 2220 6964 3d22  type="text" id="
-000001c0: 6661 6369 6c69 7479 5f6e 616d 6522 206e  facility_name" n
-000001d0: 616d 653d 2266 6163 696c 6974 795f 6e61  ame="facility_na
-000001e0: 6d65 2220 636c 6173 733d 2266 6f72 6d2d  me" class="form-
-000001f0: 636f 6e74 726f 6c22 2076 616c 7565 3d22  control" value="
-00000200: 7b7b 2066 6163 696c 6974 795f 6e61 6d65  {{ facility_name
-00000210: 207d 7d22 3e0a 2020 2020 2020 2020 2020   }}">.          
-00000220: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-00000230: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
-00000240: 2263 6f6c 2d6d 642d 3520 6865 6c70 2d62  "col-md-5 help-b
-00000250: 6c6f 636b 206c 6967 6874 2d67 7265 7922  lock light-grey"
-00000260: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-00000270: 2020 5468 6520 6e61 6d65 206f 6620 7468    The name of th
-00000280: 6520 6661 6369 6c69 7479 2074 6f20 7573  e facility to us
-00000290: 6520 696e 2061 6c6c 2074 656d 706c 6174  e in all templat
-000002a0: 6573 2e0a 2020 2020 2020 2020 2020 2020  es..            
-000002b0: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
-000002c0: 2f64 6976 3e0a 2020 2020 2020 2020 3c64  /div>.        <d
-000002d0: 6976 2063 6c61 7373 3d22 666f 726d 2d67  iv class="form-g
-000002e0: 726f 7570 223e 0a20 2020 2020 2020 2020  roup">.         
-000002f0: 2020 203c 6c61 6265 6c20 636c 6173 733d     <label class=
-00000300: 2263 6f6e 7472 6f6c 2d6c 6162 656c 2063  "control-label c
-00000310: 6f6c 2d6d 642d 3322 2066 6f72 3d22 7369  ol-md-3" for="si
-00000320: 7465 5f74 6974 6c65 223e 5369 7465 2074  te_title">Site t
-00000330: 6974 6c65 3c2f 6c61 6265 6c3e 0a20 2020  itle</label>.   
-00000340: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
-00000350: 6173 733d 2263 6f6c 2d6d 642d 3422 3e0a  ass="col-md-4">.
-00000360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000370: 3c69 6e70 7574 2074 7970 653d 2274 6578  <input type="tex
-00000380: 7422 2069 643d 2273 6974 655f 7469 746c  t" id="site_titl
-00000390: 6522 206e 616d 653d 2273 6974 655f 7469  e" name="site_ti
-000003a0: 746c 6522 2063 6c61 7373 3d22 666f 726d  tle" class="form
-000003b0: 2d63 6f6e 7472 6f6c 2220 7661 6c75 653d  -control" value=
-000003c0: 227b 7b20 7369 7465 5f74 6974 6c65 207d  "{{ site_title }
-000003d0: 7d22 3e0a 2020 2020 2020 2020 2020 2020  }">.            
-000003e0: 3c2f 6469 763e 0a20 2020 2020 2020 2020  </div>.         
-000003f0: 2020 203c 6469 7620 636c 6173 733d 2263     <div class="c
-00000400: 6f6c 2d6d 642d 3520 6865 6c70 2d62 6c6f  ol-md-5 help-blo
-00000410: 636b 206c 6967 6874 2d67 7265 7922 3e0a  ck light-grey">.
-00000420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000430: 5468 6520 6e61 6d65 206f 6620 7468 6520  The name of the 
-00000440: 7369 7465 2074 6f20 7573 6520 696e 2061  site to use in a
-00000450: 6c6c 2074 656d 706c 6174 6573 2f68 6561  ll templates/hea
-00000460: 6465 7273 2e0a 2020 2020 2020 2020 2020  ders..          
-00000470: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-00000480: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
-00000490: 3c64 6976 2063 6c61 7373 3d22 666f 726d  <div class="form
-000004a0: 2d67 726f 7570 223e 0a20 2020 2020 2020  -group">.       
-000004b0: 2020 2020 203c 6c61 6265 6c20 636c 6173       <label clas
-000004c0: 733d 2263 6f6e 7472 6f6c 2d6c 6162 656c  s="control-label
-000004d0: 2063 6f6c 2d6d 642d 3322 3e41 7265 6120   col-md-3">Area 
-000004e0: 6c6f 6769 6e2f 6c6f 676f 7574 3c2f 6c61  login/logout</la
-000004f0: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
-00000500: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
-00000510: 2d6d 642d 3922 3e0a 2020 2020 2020 2020  -md-9">.        
-00000520: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00000530: 7373 3d22 6368 6563 6b62 6f78 223e 0a20  ss="checkbox">. 
-00000540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000550: 2020 203c 6c61 6265 6c3e 3c69 6e70 7574     <label><input
-00000560: 2074 7970 653d 2263 6865 636b 626f 7822   type="checkbox"
-00000570: 206e 616d 653d 2273 656c 665f 6c6f 675f   name="self_log_
-00000580: 696e 2220 7b25 2069 6620 7365 6c66 5f6c  in" {% if self_l
-00000590: 6f67 5f69 6e20 257d 6368 6563 6b65 647b  og_in %}checked{
-000005a0: 2520 656e 6469 6620 257d 2076 616c 7565  % endif %} value
-000005b0: 3d22 656e 6162 6c65 6422 3e41 6c6c 6f77  ="enabled">Allow
-000005c0: 2075 7365 7273 2074 6f20 6c6f 6720 7468   users to log th
-000005d0: 656d 7365 6c76 6573 2069 6e74 6f20 6163  emselves into ac
-000005e0: 6365 7373 2063 6f6e 7472 6f6c 6c65 6420  cess controlled 
-000005f0: 6172 6561 7320 6672 6f6d 2074 6865 206c  areas from the l
-00000600: 616e 6469 6e67 2070 6167 653c 2f6c 6162  anding page</lab
-00000610: 656c 3e3c 6272 2f3e 0a20 2020 2020 2020  el><br/>.       
-00000620: 2020 2020 2020 2020 2020 2020 203c 6c61               <la
-00000630: 6265 6c3e 3c69 6e70 7574 2074 7970 653d  bel><input type=
-00000640: 2263 6865 636b 626f 7822 206e 616d 653d  "checkbox" name=
-00000650: 2273 656c 665f 6c6f 675f 6f75 7422 207b  "self_log_out" {
-00000660: 2520 6966 2073 656c 665f 6c6f 675f 6f75  % if self_log_ou
-00000670: 7420 257d 6368 6563 6b65 647b 2520 656e  t %}checked{% en
-00000680: 6469 6620 257d 2076 616c 7565 3d22 656e  dif %} value="en
-00000690: 6162 6c65 6422 3e41 6c6c 6f77 2075 7365  abled">Allow use
-000006a0: 7273 2074 6f20 6c6f 6720 7468 656d 7365  rs to log themse
-000006b0: 6c76 6573 206f 7574 206f 6620 6163 6365  lves out of acce
-000006c0: 7373 2063 6f6e 7472 6f6c 6c65 6420 6172  ss controlled ar
-000006d0: 6561 7320 6672 6f6d 2074 6865 206c 616e  eas from the lan
-000006e0: 6469 6e67 2070 6167 653c 2f6c 6162 656c  ding page</label
-000006f0: 3e3c 6272 2f3e 0a20 2020 2020 2020 2020  ><br/>.         
-00000700: 2020 2020 2020 2020 2020 203c 6c61 6265             <labe
-00000710: 6c3e 3c69 6e70 7574 2074 7970 653d 2263  l><input type="c
-00000720: 6865 636b 626f 7822 206e 616d 653d 2263  heckbox" name="c
-00000730: 616c 656e 6461 725f 6c6f 6769 6e5f 6c6f  alendar_login_lo
-00000740: 676f 7574 2220 7b25 2069 6620 6361 6c65  gout" {% if cale
-00000750: 6e64 6172 5f6c 6f67 696e 5f6c 6f67 6f75  ndar_login_logou
-00000760: 7420 257d 6368 6563 6b65 647b 2520 656e  t %}checked{% en
-00000770: 6469 6620 257d 2076 616c 7565 3d22 656e  dif %} value="en
-00000780: 6162 6c65 6422 3e53 686f 7720 6163 6365  abled">Show acce
-00000790: 7373 2063 6f6e 7472 6f6c 6c65 6420 6172  ss controlled ar
-000007a0: 6561 206c 6f67 696e 2f6c 6f67 6f75 7420  ea login/logout 
-000007b0: 6275 7474 6f6e 206f 6e20 6361 6c65 6e64  button on calend
-000007c0: 6172 2076 6965 7720 2872 6571 7569 7265  ar view (require
-000007d0: 7320 6c6f 6769 6e20 616e 642f 6f72 206c  s login and/or l
-000007e0: 6f67 6f75 7420 6665 6174 7572 6520 656e  ogout feature en
-000007f0: 6162 6c65 6420 6162 6f76 6529 3c2f 6c61  abled above)</la
-00000800: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
-00000810: 2020 2020 2020 2020 207b 2520 6966 2022           {% if "
-00000820: 4e45 4d4f 2e61 7070 732e 6172 6561 5f61  NEMO.apps.area_a
-00000830: 6363 6573 7322 7c61 7070 5f69 6e73 7461  ccess"|app_insta
-00000840: 6c6c 6564 2025 7d3c 6c61 6265 6c3e 3c69  lled %}<label><i
-00000850: 6e70 7574 2074 7970 653d 2263 6865 636b  nput type="check
-00000860: 626f 7822 206e 616d 653d 2261 7265 615f  box" name="area_
-00000870: 6c6f 676f 7574 5f61 6c72 6561 6479 5f6c  logout_already_l
-00000880: 6f67 6765 645f 696e 2220 7b25 2069 6620  ogged_in" {% if 
-00000890: 6172 6561 5f6c 6f67 6f75 745f 616c 7265  area_logout_alre
-000008a0: 6164 795f 6c6f 6767 6564 5f69 6e20 257d  ady_logged_in %}
-000008b0: 6368 6563 6b65 647b 2520 656e 6469 6620  checked{% endif 
-000008c0: 257d 2076 616c 7565 3d22 656e 6162 6c65  %} value="enable
-000008d0: 6422 3e41 7574 6f6d 6174 6963 616c 6c79  d">Automatically
-000008e0: 206c 6f67 2075 7365 7273 206f 7574 2077   log users out w
-000008f0: 6865 6e20 7468 6579 2074 7279 2074 6f20  hen they try to 
-00000900: 6c6f 6720 696e 2074 6f20 616e 2061 7265  log in to an are
-00000910: 6120 7468 6579 2061 7265 2061 6c72 6561  a they are alrea
-00000920: 6479 206c 6f67 6765 6420 696e 2028 7369  dy logged in (si
-00000930: 6e67 6c65 2065 6e74 7261 6e63 652f 6578  ngle entrance/ex
-00000940: 6974 2074 6162 6c65 7420 6d6f 6465 293c  it tablet mode)<
-00000950: 2f6c 6162 656c 3e7b 2520 656e 6469 6620  /label>{% endif 
-00000960: 257d 0a20 2020 2020 2020 2020 2020 2020  %}.             
-00000970: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
-00000980: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
-00000990: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
-000009a0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-000009b0: 666f 726d 2d67 726f 7570 223e 0a20 2020  form-group">.   
-000009c0: 2020 2020 2020 2020 203c 6c61 6265 6c20           <label 
-000009d0: 636c 6173 733d 2263 6f6e 7472 6f6c 2d6c  class="control-l
-000009e0: 6162 656c 2063 6f6c 2d6d 642d 3322 3e41  abel col-md-3">A
-000009f0: 7265 6120 7573 6167 6520 7265 6d69 6e64  rea usage remind
-00000a00: 6572 3c2f 6c61 6265 6c3e 0a20 2020 2020  er</label>.     
-00000a10: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
-00000a20: 733d 2263 6f6c 2d6d 642d 3922 3e0a 2020  s="col-md-9">.  
-00000a30: 2020 2020 2020 2020 2020 2020 2020 3c64                <d
-00000a40: 6976 2063 6c61 7373 3d22 6368 6563 6b62  iv class="checkb
-00000a50: 6f78 223e 0a20 2020 2020 2020 2020 2020  ox">.           
-00000a60: 2020 2020 2020 2020 203c 696e 7075 7420           <input 
-00000a70: 7479 7065 3d22 6869 6464 656e 2220 6e61  type="hidden" na
-00000a80: 6d65 3d22 6172 6561 5f69 6e5f 7573 6167  me="area_in_usag
-00000a90: 655f 7265 6d69 6e64 6572 7322 2076 616c  e_reminders" val
-00000aa0: 7565 3d22 6f66 6622 2f3e 0a20 2020 2020  ue="off"/>.     
-00000ab0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
-00000ac0: 6c61 6265 6c3e 3c69 6e70 7574 2074 7970  label><input typ
-00000ad0: 653d 2263 6865 636b 626f 7822 206e 616d  e="checkbox" nam
-00000ae0: 653d 2261 7265 615f 696e 5f75 7361 6765  e="area_in_usage
-00000af0: 5f72 656d 696e 6465 7273 2220 7b25 2069  _reminders" {% i
-00000b00: 6620 6172 6561 5f69 6e5f 7573 6167 655f  f area_in_usage_
-00000b10: 7265 6d69 6e64 6572 7320 213d 2022 6f66  reminders != "of
-00000b20: 6622 2025 7d63 6865 636b 6564 7b25 2065  f" %}checked{% e
-00000b30: 6e64 6966 2025 7d20 7661 6c75 653d 2222  ndif %} value=""
-00000b40: 3e49 6e20 7573 6167 6520 7265 6d69 6e64  >In usage remind
-00000b50: 6572 2065 6d61 696c 732c 2073 686f 7720  er emails, show 
-00000b60: 6172 6561 7320 7573 6572 7320 6172 6520  areas users are 
-00000b70: 6375 7272 656e 746c 7920 6c6f 6767 6564  currently logged
-00000b80: 2069 6e3c 2f6c 6162 656c 3e3c 6272 2f3e   in</label><br/>
-00000b90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000ba0: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
-00000bb0: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
-00000bc0: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
-00000bd0: 2020 3c64 6976 2063 6c61 7373 3d22 666f    <div class="fo
-00000be0: 726d 2d67 726f 7570 223e 0a20 2020 2020  rm-group">.     
-00000bf0: 2020 2020 2020 203c 6c61 6265 6c20 636c         <label cl
-00000c00: 6173 733d 2263 6f6e 7472 6f6c 2d6c 6162  ass="control-lab
-00000c10: 656c 2063 6f6c 2d6d 642d 3322 3e43 6f6e  el col-md-3">Con
-00000c20: 7375 6d61 626c 6573 3c2f 6c61 6265 6c3e  sumables</label>
-00000c30: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
-00000c40: 7620 636c 6173 733d 2263 6f6c 2d6d 642d  v class="col-md-
-00000c50: 3922 3e0a 2020 2020 2020 2020 2020 2020  9">.            
-00000c60: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-00000c70: 6368 6563 6b62 6f78 223e 0a20 2020 2020  checkbox">.     
-00000c80: 2020 2020 2020 2020 2020 2020 2020 203c                 <
-00000c90: 6c61 6265 6c3e 3c69 6e70 7574 2074 7970  label><input typ
-00000ca0: 653d 2263 6865 636b 626f 7822 206e 616d  e="checkbox" nam
-00000cb0: 653d 2263 6f6e 7375 6d61 626c 655f 7573  e="consumable_us
-00000cc0: 6572 5f73 656c 665f 6368 6563 6b6f 7574  er_self_checkout
-00000cd0: 2220 7b25 2069 6620 636f 6e73 756d 6162  " {% if consumab
-00000ce0: 6c65 5f75 7365 725f 7365 6c66 5f63 6865  le_user_self_che
-00000cf0: 636b 6f75 7420 257d 6368 6563 6b65 647b  ckout %}checked{
-00000d00: 2520 656e 6469 6620 257d 2076 616c 7565  % endif %} value
-00000d10: 3d22 656e 6162 6c65 6422 3e41 6c6c 6f77  ="enabled">Allow
-00000d20: 2075 7365 7273 2074 6f20 7365 6c66 2d63   users to self-c
-00000d30: 6865 636b 6f75 7420 636f 6e73 756d 6162  heckout consumab
-00000d40: 6c65 733c 2f6c 6162 656c 3e0a 2020 2020  les</label>.    
-00000d50: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
-00000d60: 763e 0a20 2020 2020 2020 2020 2020 203c  v>.            <
-00000d70: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
-00000d80: 2020 3c64 6976 2063 6c61 7373 3d22 636f    <div class="co
-00000d90: 6c2d 6d64 2d6f 6666 7365 742d 3320 636f  l-md-offset-3 co
-00000da0: 6c2d 6d64 2d39 2068 656c 702d 626c 6f63  l-md-9 help-bloc
-00000db0: 6b20 6c69 6768 742d 6772 6579 223e 0a20  k light-grey">. 
-00000dc0: 2020 2020 2020 2020 2020 2020 2020 2049                 I
-00000dd0: 6620 656e 6162 6c65 642c 2079 6f75 206e  f enabled, you n
-00000de0: 6565 6420 746f 2061 6464 2061 207b 2520  eed to add a {% 
-00000df0: 6966 2022 646a 616e 676f 2e63 6f6e 7472  if "django.contr
-00000e00: 6962 2e61 646d 696e 227c 6170 705f 696e  ib.admin"|app_in
-00000e10: 7374 616c 6c65 6420 257d 3c61 2068 7265  stalled %}<a hre
-00000e20: 663d 227b 2520 7572 6c20 2761 646d 696e  f="{% url 'admin
-00000e30: 3a4e 454d 4f5f 6c61 6e64 696e 6770 6167  :NEMO_landingpag
-00000e40: 6563 686f 6963 655f 6368 616e 6765 6c69  echoice_changeli
-00000e50: 7374 2720 257d 223e 6c61 6e64 696e 6720  st' %}">landing 
-00000e60: 7061 6765 2063 686f 6963 653c 2f61 3e7b  page choice</a>{
-00000e70: 2520 656c 7365 2025 7d6c 616e 6469 6e67  % else %}landing
-00000e80: 2070 6167 6520 6f70 7469 6f6e 7b25 2065   page option{% e
-00000e90: 6e64 6966 2025 7d20 7769 7468 2075 726c  ndif %} with url
-00000ea0: 203c 623e 2f63 6f6e 7375 6d61 626c 6573   <b>/consumables
-00000eb0: 2f3c 2f62 3e20 736f 2075 7365 7273 2063  /</b> so users c
-00000ec0: 616e 2068 6176 6520 6120 7761 7920 746f  an have a way to
-00000ed0: 2067 6574 2074 6f20 7468 6520 7061 6765   get to the page
-00000ee0: 2e0a 2020 2020 2020 2020 2020 2020 3c2f  ..            </
-00000ef0: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
-00000f00: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
-00000f10: 2d6d 642d 6f66 6673 6574 2d33 2063 6f6c  -md-offset-3 col
-00000f20: 2d6d 642d 3922 3e0a 2020 2020 2020 2020  -md-9">.        
-00000f30: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00000f40: 7373 3d22 6368 6563 6b62 6f78 223e 0a20  ss="checkbox">. 
-00000f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000f60: 2020 203c 6c61 6265 6c3e 3c69 6e70 7574     <label><input
-00000f70: 2074 7970 653d 2263 6865 636b 626f 7822   type="checkbox"
-00000f80: 2069 643d 2263 6f6e 7375 6d61 626c 655f   id="consumable_
-00000f90: 6361 7465 676f 7279 5f63 6f6c 6c61 7073  category_collaps
-00000fa0: 6522 206e 616d 653d 2263 6f6e 7375 6d61  e" name="consuma
-00000fb0: 626c 655f 6361 7465 676f 7279 5f63 6f6c  ble_category_col
-00000fc0: 6c61 7073 6522 207b 2520 6966 2063 6f6e  lapse" {% if con
-00000fd0: 7375 6d61 626c 655f 6361 7465 676f 7279  sumable_category
-00000fe0: 5f63 6f6c 6c61 7073 6520 257d 6368 6563  _collapse %}chec
-00000ff0: 6b65 647b 2520 656e 6469 6620 257d 2076  ked{% endif %} v
-00001000: 616c 7565 3d22 656e 6162 6c65 6422 3e20  alue="enabled"> 
-00001010: 436f 6c6c 6170 7365 2063 6f6e 7375 6d61  Collapse consuma
-00001020: 626c 6520 6361 7465 676f 7269 6573 2062  ble categories b
-00001030: 7920 6465 6661 756c 743c 2f6c 6162 656c  y default</label
-00001040: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-00001050: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-00001060: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
-00001070: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00001080: 7373 3d22 636f 6c2d 6d64 2d6f 6666 7365  ss="col-md-offse
-00001090: 742d 3320 636f 6c2d 6d64 2d39 2068 656c  t-3 col-md-9 hel
-000010a0: 702d 626c 6f63 6b20 6c69 6768 742d 6772  p-block light-gr
-000010b0: 6579 223e 0a20 2020 2020 2020 2020 2020  ey">.           
-000010c0: 2020 2020 2043 6865 636b 2074 6869 7320       Check this 
-000010d0: 626f 7820 746f 2063 6f6c 6c61 7073 6520  box to collapse 
-000010e0: 636f 6e73 756d 6162 6c65 2063 6174 6567  consumable categ
-000010f0: 6f72 6965 7320 6279 2064 6566 6175 6c74  ories by default
-00001100: 2e0a 2020 2020 2020 2020 2020 2020 3c2f  ..            </
-00001110: 6469 763e 0a20 2020 2020 2020 203c 2f64  div>.        </d
-00001120: 6976 3e0a 0909 7b25 2069 6620 224e 454d  iv>...{% if "NEM
-00001130: 4f2e 6170 7073 2e61 7265 615f 6163 6365  O.apps.area_acce
-00001140: 7373 227c 6170 705f 696e 7374 616c 6c65  ss"|app_installe
-00001150: 6420 6f72 2022 4e45 4d4f 2e61 7070 732e  d or "NEMO.apps.
-00001160: 6b69 6f73 6b22 7c61 7070 5f69 6e73 7461  kiosk"|app_insta
-00001170: 6c6c 6564 2025 7d0a 2020 2020 2020 2020  lled %}.        
-00001180: 2020 2020 7b25 2069 6620 6261 6467 655f      {% if badge_
-00001190: 7265 6164 6572 7320 257d 0a20 2020 2020  readers %}.     
-000011a0: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
-000011b0: 636c 6173 733d 2266 6f72 6d2d 6772 6f75  class="form-grou
-000011c0: 7022 3e0a 2020 2020 2020 2020 2020 2020  p">.            
-000011d0: 2020 2020 2020 2020 3c6c 6162 656c 2063          <label c
-000011e0: 6c61 7373 3d22 636f 6e74 726f 6c2d 6c61  lass="control-la
-000011f0: 6265 6c20 636f 6c2d 6d64 2d33 2220 666f  bel col-md-3" fo
-00001200: 723d 2264 6566 6175 6c74 5f62 6164 6765  r="default_badge
-00001210: 5f72 6561 6465 725f 6964 223e 4465 6661  _reader_id">Defa
-00001220: 756c 7420 6261 6467 6520 7265 6164 6572  ult badge reader
-00001230: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
-00001240: 2020 2020 2020 2020 2020 2020 203c 6469               <di
-00001250: 7620 636c 6173 733d 2263 6f6c 2d6d 642d  v class="col-md-
-00001260: 3422 3e0a 2020 2020 2020 2020 2020 2020  4">.            
-00001270: 2020 2020 2020 2020 2020 2020 3c73 656c              <sel
-00001280: 6563 7420 6964 3d22 6465 6661 756c 745f  ect id="default_
-00001290: 6261 6467 655f 7265 6164 6572 5f69 6422  badge_reader_id"
-000012a0: 206e 616d 653d 2264 6566 6175 6c74 5f62   name="default_b
-000012b0: 6164 6765 5f72 6561 6465 725f 6964 2220  adge_reader_id" 
-000012c0: 636c 6173 733d 2266 6f72 6d2d 636f 6e74  class="form-cont
-000012d0: 726f 6c22 3e0a 2020 2020 2020 2020 2020  rol">.          
-000012e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000012f0: 2020 3c6f 7074 696f 6e20 7661 6c75 653d    <option value=
-00001300: 2222 206c 6162 656c 3d22 4465 6661 756c  "" label="Defaul
-00001310: 7420 6261 6467 6520 7265 6164 6572 223e  t badge reader">
-00001320: 3c2f 6f70 7469 6f6e 3e0a 2020 2020 2020  </option>.      
-00001330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001340: 2020 2020 2020 7b25 2066 6f72 2062 6164        {% for bad
-00001350: 6765 5f72 6561 6465 7220 696e 2062 6164  ge_reader in bad
-00001360: 6765 5f72 6561 6465 7273 2025 7d0a 2020  ge_readers %}.  
-00001370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001380: 2020 2020 2020 2020 2020 2020 2020 3c6f                <o
-00001390: 7074 696f 6e20 7661 6c75 653d 227b 7b20  ption value="{{ 
-000013a0: 6261 6467 655f 7265 6164 6572 2e69 6420  badge_reader.id 
-000013b0: 7d7d 2220 6c61 6265 6c3d 227b 7b20 6261  }}" label="{{ ba
-000013c0: 6467 655f 7265 6164 6572 2e6e 616d 6520  dge_reader.name 
-000013d0: 7d7d 2220 7b25 2069 6620 6465 6661 756c  }}" {% if defaul
-000013e0: 745f 6261 6467 655f 7265 6164 6572 5f69  t_badge_reader_i
-000013f0: 647c 746f 5f69 6e74 203d 3d20 6261 6467  d|to_int == badg
-00001400: 655f 7265 6164 6572 2e69 6420 257d 7365  e_reader.id %}se
-00001410: 6c65 6374 6564 7b25 2065 6e64 6966 2025  lected{% endif %
-00001420: 7d3e 3c2f 6f70 7469 6f6e 3e0a 2020 2020  }></option>.    
-00001430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001440: 2020 2020 2020 2020 7b25 2065 6e64 666f          {% endfo
-00001450: 7220 257d 0a20 2020 2020 2020 2020 2020  r %}.           
-00001460: 2020 2020 2020 2020 2020 2020 203c 2f73               </s
-00001470: 656c 6563 743e 0a20 2020 2020 2020 2020  elect>.         
-00001480: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
-00001490: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-000014a0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
-000014b0: 3d22 636f 6c2d 6d64 2d35 2068 656c 702d  ="col-md-5 help-
-000014c0: 626c 6f63 6b20 6c69 6768 742d 6772 6579  block light-grey
-000014d0: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
-000014e0: 2020 2020 2020 2020 2020 2054 6865 2064             The d
-000014f0: 6566 6175 6c74 2062 6164 6765 2072 6561  efault badge rea
-00001500: 6465 7220 746f 2075 7365 2066 6f72 2074  der to use for t
-00001510: 6865 2061 7265 6120 6163 6365 7373 2061  he area access a
-00001520: 6e64 206b 696f 736b 2074 6162 6c65 7473  nd kiosk tablets
-00001530: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001540: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
-00001550: 2020 2020 2020 2020 2020 2020 203c 2f64               </d
-00001560: 6976 3e0a 2020 2020 2020 2020 2020 2020  iv>.            
-00001570: 7b25 2065 6e64 6966 2025 7d0a 2020 2020  {% endif %}.    
-00001580: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00001590: 7373 3d22 666f 726d 2d67 726f 7570 223e  ss="form-group">
-000015a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000015b0: 203c 6c61 6265 6c20 636c 6173 733d 2263   <label class="c
-000015c0: 6f6e 7472 6f6c 2d6c 6162 656c 2063 6f6c  ontrol-label col
-000015d0: 2d6d 642d 3322 2066 6f72 3d22 7368 6f77  -md-3" for="show
-000015e0: 5f62 6164 6765 5f6e 756d 6265 7222 3e42  _badge_number">B
-000015f0: 6164 6765 206e 756d 6265 7220 7363 616e  adge number scan
-00001600: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
-00001610: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
-00001620: 6173 733d 2263 6f6c 2d6d 642d 3922 3e0a  ass="col-md-9">.
-00001630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001640: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-00001650: 6368 6563 6b62 6f78 223e 0a20 2020 2020  checkbox">.     
-00001660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001670: 2020 203c 6c61 6265 6c3e 3c69 6e70 7574     <label><input
-00001680: 2074 7970 653d 2263 6865 636b 626f 7822   type="checkbox"
-00001690: 2069 643d 2273 686f 775f 6261 6467 655f   id="show_badge_
-000016a0: 6e75 6d62 6572 2220 6e61 6d65 3d22 7368  number" name="sh
-000016b0: 6f77 5f62 6164 6765 5f6e 756d 6265 7222  ow_badge_number"
-000016c0: 207b 2520 6966 2073 686f 775f 6261 6467   {% if show_badg
-000016d0: 655f 6e75 6d62 6572 2025 7d63 6865 636b  e_number %}check
-000016e0: 6564 7b25 2065 6e64 6966 2025 7d20 7661  ed{% endif %} va
-000016f0: 6c75 653d 2265 6e61 626c 6564 223e 2044  lue="enabled"> D
-00001700: 6973 706c 6179 2062 6164 6765 206e 756d  isplay badge num
-00001710: 6265 7220 7768 656e 2062 6164 6769 6e67  ber when badging
-00001720: 2069 6e20 6b69 6f73 6b20 616e 6420 6172   in kiosk and ar
-00001730: 6561 2061 6363 6573 733c 2f6c 6162 656c  ea access</label
-00001740: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-00001750: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
-00001760: 2020 2020 2020 2020 2020 2020 203c 2f64               </d
-00001770: 6976 3e0a 2020 2020 2020 2020 2020 2020  iv>.            
-00001780: 3c2f 6469 763e 0a09 097b 2520 656e 6469  </div>...{% endi
-00001790: 6620 257d 0a20 2020 2020 2020 203c 6469  f %}.        <di
-000017a0: 7620 636c 6173 733d 2263 7573 746f 6d69  v class="customi
-000017b0: 7a61 7469 6f6e 2d73 6570 6172 6174 696f  zation-separatio
-000017c0: 6e22 2073 7479 6c65 3d22 6d61 7267 696e  n" style="margin
-000017d0: 2d62 6f74 746f 6d3a 2031 3570 7822 3e3c  -bottom: 15px"><
-000017e0: 2f64 6976 3e0a 0909 3c68 3320 636c 6173  /div>...<h3 clas
-000017f0: 733d 2263 7573 746f 6d69 7a61 7469 6f6e  s="customization
-00001800: 2d73 6563 7469 6f6e 2d74 6974 6c65 223e  -section-title">
-00001810: 5061 6765 2074 6974 6c65 2073 6574 7469  Page title setti
-00001820: 6e67 733c 2f68 333e 0a09 093c 6469 7620  ngs</h3>...<div 
-00001830: 636c 6173 733d 2266 6f72 6d2d 6772 6f75  class="form-grou
-00001840: 7022 3e0a 0909 093c 6c61 6265 6c20 636c  p">....<label cl
-00001850: 6173 733d 2263 6f6e 7472 6f6c 2d6c 6162  ass="control-lab
-00001860: 656c 2063 6f6c 2d6d 642d 3322 2066 6f72  el col-md-3" for
-00001870: 3d22 6361 6c65 6e64 6172 5f70 6167 655f  ="calendar_page_
-00001880: 7469 746c 6522 3e43 616c 656e 6461 723c  title">Calendar<
-00001890: 2f6c 6162 656c 3e0a 0909 093c 6469 7620  /label>....<div 
-000018a0: 636c 6173 733d 2263 6f6c 2d6d 642d 3422  class="col-md-4"
-000018b0: 3e0a 0909 0909 3c69 6e70 7574 2074 7970  >.....<input typ
-000018c0: 653d 2274 6578 7422 2069 643d 2263 616c  e="text" id="cal
-000018d0: 656e 6461 725f 7061 6765 5f74 6974 6c65  endar_page_title
-000018e0: 2220 6e61 6d65 3d22 6361 6c65 6e64 6172  " name="calendar
-000018f0: 5f70 6167 655f 7469 746c 6522 2063 6c61  _page_title" cla
-00001900: 7373 3d22 666f 726d 2d63 6f6e 7472 6f6c  ss="form-control
-00001910: 220a 0909 0909 0920 2020 7661 6c75 653d  "......   value=
-00001920: 227b 7b20 6361 6c65 6e64 6172 5f70 6167  "{{ calendar_pag
-00001930: 655f 7469 746c 6520 7d7d 223e 0a09 0909  e_title }}">....
-00001940: 3c2f 6469 763e 0a09 0909 3c64 6976 2063  </div>....<div c
-00001950: 6c61 7373 3d22 636f 6c2d 6d64 2d35 2068  lass="col-md-5 h
-00001960: 656c 702d 626c 6f63 6b20 6c69 6768 742d  elp-block light-
-00001970: 6772 6579 223e 0a09 0909 0954 6865 2074  grey">.....The t
-00001980: 6974 6c65 206f 6620 7468 6520 2243 616c  itle of the "Cal
-00001990: 656e 6461 7222 2070 6167 6520 616e 6420  endar" page and 
-000019a0: 6974 7320 636f 7272 6573 706f 6e64 696e  its correspondin
-000019b0: 6720 6c69 6e6b 2069 6e20 7468 6520 6e61  g link in the na
-000019c0: 7662 6172 2e0a 0909 093c 2f64 6976 3e0a  vbar.....</div>.
-000019d0: 0909 3c2f 6469 763e 0a09 093c 6469 7620  ..</div>...<div 
-000019e0: 636c 6173 733d 2266 6f72 6d2d 6772 6f75  class="form-grou
-000019f0: 7022 3e0a 0909 093c 6c61 6265 6c20 636c  p">....<label cl
-00001a00: 6173 733d 2263 6f6e 7472 6f6c 2d6c 6162  ass="control-lab
-00001a10: 656c 2063 6f6c 2d6d 642d 3322 2066 6f72  el col-md-3" for
-00001a20: 3d22 746f 6f6c 5f63 6f6e 7472 6f6c 5f70  ="tool_control_p
-00001a30: 6167 655f 7469 746c 6522 3e54 6f6f 6c20  age_title">Tool 
-00001a40: 636f 6e74 726f 6c3c 2f6c 6162 656c 3e0a  control</label>.
-00001a50: 0909 093c 6469 7620 636c 6173 733d 2263  ...<div class="c
-00001a60: 6f6c 2d6d 642d 3422 3e0a 0909 0909 3c69  ol-md-4">.....<i
-00001a70: 6e70 7574 2074 7970 653d 2274 6578 7422  nput type="text"
-00001a80: 2069 643d 2274 6f6f 6c5f 636f 6e74 726f   id="tool_contro
-00001a90: 6c5f 7061 6765 5f74 6974 6c65 2220 6e61  l_page_title" na
-00001aa0: 6d65 3d22 746f 6f6c 5f63 6f6e 7472 6f6c  me="tool_control
-00001ab0: 5f70 6167 655f 7469 746c 6522 2063 6c61  _page_title" cla
-00001ac0: 7373 3d22 666f 726d 2d63 6f6e 7472 6f6c  ss="form-control
-00001ad0: 220a 0909 0909 0920 2020 7661 6c75 653d  "......   value=
-00001ae0: 227b 7b20 746f 6f6c 5f63 6f6e 7472 6f6c  "{{ tool_control
-00001af0: 5f70 6167 655f 7469 746c 6520 7d7d 223e  _page_title }}">
-00001b00: 0a09 0909 3c2f 6469 763e 0a09 0909 3c64  ....</div>....<d
-00001b10: 6976 2063 6c61 7373 3d22 636f 6c2d 6d64  iv class="col-md
-00001b20: 2d35 2068 656c 702d 626c 6f63 6b20 6c69  -5 help-block li
-00001b30: 6768 742d 6772 6579 223e 0a09 0909 0954  ght-grey">.....T
-00001b40: 6865 2074 6974 6c65 206f 6620 7468 6520  he title of the 
-00001b50: 2254 6f6f 6c20 636f 6e74 726f 6c22 2070  "Tool control" p
-00001b60: 6167 6520 616e 6420 6974 7320 636f 7272  age and its corr
-00001b70: 6573 706f 6e64 696e 6720 6c69 6e6b 2069  esponding link i
-00001b80: 6e20 7468 6520 6e61 7662 6172 2e0a 0909  n the navbar....
-00001b90: 093c 2f64 6976 3e0a 0909 3c2f 6469 763e  .</div>...</div>
-00001ba0: 0a09 093c 6469 7620 636c 6173 733d 2266  ...<div class="f
-00001bb0: 6f72 6d2d 6772 6f75 7022 3e0a 0909 093c  orm-group">....<
-00001bc0: 6c61 6265 6c20 636c 6173 733d 2263 6f6e  label class="con
-00001bd0: 7472 6f6c 2d6c 6162 656c 2063 6f6c 2d6d  trol-label col-m
-00001be0: 642d 3322 2066 6f72 3d22 7374 6174 7573  d-3" for="status
-00001bf0: 5f64 6173 6862 6f61 7264 5f70 6167 655f  _dashboard_page_
-00001c00: 7469 746c 6522 3e53 7461 7475 7320 6461  title">Status da
-00001c10: 7368 626f 6172 643c 2f6c 6162 656c 3e0a  shboard</label>.
-00001c20: 0909 093c 6469 7620 636c 6173 733d 2263  ...<div class="c
-00001c30: 6f6c 2d6d 642d 3422 3e0a 0909 0909 3c69  ol-md-4">.....<i
-00001c40: 6e70 7574 2074 7970 653d 2274 6578 7422  nput type="text"
-00001c50: 2069 643d 2273 7461 7475 735f 6461 7368   id="status_dash
-00001c60: 626f 6172 645f 7061 6765 5f74 6974 6c65  board_page_title
-00001c70: 2220 6e61 6d65 3d22 7374 6174 7573 5f64  " name="status_d
-00001c80: 6173 6862 6f61 7264 5f70 6167 655f 7469  ashboard_page_ti
-00001c90: 746c 6522 0a09 0909 0909 2020 2063 6c61  tle"......   cla
-00001ca0: 7373 3d22 666f 726d 2d63 6f6e 7472 6f6c  ss="form-control
-00001cb0: 2220 7661 6c75 653d 227b 7b20 7374 6174  " value="{{ stat
-00001cc0: 7573 5f64 6173 6862 6f61 7264 5f70 6167  us_dashboard_pag
-00001cd0: 655f 7469 746c 6520 7d7d 223e 0a09 0909  e_title }}">....
-00001ce0: 3c2f 6469 763e 0a09 0909 3c64 6976 2063  </div>....<div c
-00001cf0: 6c61 7373 3d22 636f 6c2d 6d64 2d35 2068  lass="col-md-5 h
-00001d00: 656c 702d 626c 6f63 6b20 6c69 6768 742d  elp-block light-
-00001d10: 6772 6579 223e 0a09 0909 0954 6865 2074  grey">.....The t
-00001d20: 6974 6c65 206f 6620 7468 6520 2253 7461  itle of the "Sta
-00001d30: 7475 7320 6461 7368 626f 6172 6422 2070  tus dashboard" p
-00001d40: 6167 6520 616e 6420 6974 7320 636f 7272  age and its corr
-00001d50: 6573 706f 6e64 696e 6720 6c69 6e6b 2069  esponding link i
-00001d60: 6e20 7468 6520 6e61 7662 6172 2e0a 0909  n the navbar....
-00001d70: 093c 2f64 6976 3e0a 0909 3c2f 6469 763e  .</div>...</div>
-00001d80: 0a09 093c 6469 7620 636c 6173 733d 2266  ...<div class="f
-00001d90: 6f72 6d2d 6772 6f75 7022 3e0a 0909 093c  orm-group">....<
-00001da0: 6c61 6265 6c20 636c 6173 733d 2263 6f6e  label class="con
-00001db0: 7472 6f6c 2d6c 6162 656c 2063 6f6c 2d6d  trol-label col-m
-00001dc0: 642d 3322 2066 6f72 3d22 7265 7175 6573  d-3" for="reques
-00001dd0: 7473 5f70 6167 655f 7469 746c 6522 3e52  ts_page_title">R
-00001de0: 6571 7565 7374 733c 2f6c 6162 656c 3e0a  equests</label>.
-00001df0: 0909 093c 6469 7620 636c 6173 733d 2263  ...<div class="c
-00001e00: 6f6c 2d6d 642d 3422 3e0a 0909 0909 3c69  ol-md-4">.....<i
-00001e10: 6e70 7574 2074 7970 653d 2274 6578 7422  nput type="text"
-00001e20: 2069 643d 2272 6571 7565 7374 735f 7061   id="requests_pa
-00001e30: 6765 5f74 6974 6c65 2220 6e61 6d65 3d22  ge_title" name="
-00001e40: 7265 7175 6573 7473 5f70 6167 655f 7469  requests_page_ti
-00001e50: 746c 6522 2063 6c61 7373 3d22 666f 726d  tle" class="form
-00001e60: 2d63 6f6e 7472 6f6c 220a 0909 0909 0920  -control"...... 
-00001e70: 2020 7661 6c75 653d 227b 7b20 7265 7175    value="{{ requ
-00001e80: 6573 7473 5f70 6167 655f 7469 746c 6520  ests_page_title 
-00001e90: 7d7d 223e 0a09 0909 3c2f 6469 763e 0a09  }}">....</div>..
-00001ea0: 0909 3c64 6976 2063 6c61 7373 3d22 636f  ..<div class="co
-00001eb0: 6c2d 6d64 2d35 2068 656c 702d 626c 6f63  l-md-5 help-bloc
-00001ec0: 6b20 6c69 6768 742d 6772 6579 223e 0a09  k light-grey">..
-00001ed0: 0909 0954 6865 2074 6974 6c65 206f 6620  ...The title of 
-00001ee0: 7468 6520 2252 6571 7565 7374 7322 2070  the "Requests" p
-00001ef0: 6167 6520 616e 6420 6974 7320 636f 7272  age and its corr
-00001f00: 6573 706f 6e64 696e 6720 6c69 6e6b 2069  esponding link i
-00001f10: 6e20 7468 6520 6e61 7662 6172 2e0a 0909  n the navbar....
-00001f20: 093c 2f64 6976 3e0a 0909 3c2f 6469 763e  .</div>...</div>
-00001f30: 0a09 093c 6469 7620 636c 6173 733d 2266  ...<div class="f
-00001f40: 6f72 6d2d 6772 6f75 7022 3e0a 0909 093c  orm-group">....<
-00001f50: 6c61 6265 6c20 636c 6173 733d 2263 6f6e  label class="con
-00001f60: 7472 6f6c 2d6c 6162 656c 2063 6f6c 2d6d  trol-label col-m
-00001f70: 642d 3322 2066 6f72 3d22 7361 6665 7479  d-3" for="safety
-00001f80: 5f70 6167 655f 7469 746c 6522 3e53 6166  _page_title">Saf
-00001f90: 6574 793c 2f6c 6162 656c 3e0a 0909 093c  ety</label>....<
-00001fa0: 6469 7620 636c 6173 733d 2263 6f6c 2d6d  div class="col-m
-00001fb0: 642d 3422 3e0a 0909 0909 3c69 6e70 7574  d-4">.....<input
-00001fc0: 2074 7970 653d 2274 6578 7422 2069 643d   type="text" id=
-00001fd0: 2273 6166 6574 795f 7061 6765 5f74 6974  "safety_page_tit
-00001fe0: 6c65 2220 6e61 6d65 3d22 7361 6665 7479  le" name="safety
-00001ff0: 5f70 6167 655f 7469 746c 6522 2063 6c61  _page_title" cla
-00002000: 7373 3d22 666f 726d 2d63 6f6e 7472 6f6c  ss="form-control
-00002010: 220a 0909 0909 0920 2020 7661 6c75 653d  "......   value=
-00002020: 227b 7b20 7361 6665 7479 5f70 6167 655f  "{{ safety_page_
-00002030: 7469 746c 6520 7d7d 223e 0a09 0909 3c2f  title }}">....</
-00002040: 6469 763e 0a09 0909 3c64 6976 2063 6c61  div>....<div cla
-00002050: 7373 3d22 636f 6c2d 6d64 2d35 2068 656c  ss="col-md-5 hel
-00002060: 702d 626c 6f63 6b20 6c69 6768 742d 6772  p-block light-gr
-00002070: 6579 223e 0a09 0909 0954 6865 2074 6974  ey">.....The tit
-00002080: 6c65 206f 6620 7468 6520 2253 6166 6574  le of the "Safet
-00002090: 7922 2070 6167 6520 616e 6420 6974 7320  y" page and its 
-000020a0: 636f 7272 6573 706f 6e64 696e 6720 6c69  corresponding li
-000020b0: 6e6b 2069 6e20 7468 6520 6e61 7662 6172  nk in the navbar
-000020c0: 2e0a 0909 093c 2f64 6976 3e0a 0909 3c2f  .....</div>...</
-000020d0: 6469 763e 0a09 093c 6469 7620 636c 6173  div>...<div clas
-000020e0: 733d 2263 7573 746f 6d69 7a61 7469 6f6e  s="customization
-000020f0: 2d73 6570 6172 6174 696f 6e22 2073 7479  -separation" sty
-00002100: 6c65 3d22 6d61 7267 696e 2d62 6f74 746f  le="margin-botto
-00002110: 6d3a 2031 3570 7822 3e3c 2f64 6976 3e0a  m: 15px"></div>.
-00002120: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00002130: 7373 3d22 7465 7874 2d63 656e 7465 7222  ss="text-center"
-00002140: 3e0a 2020 2020 2020 2020 2020 2020 7b25  >.            {%
-00002150: 2062 7574 746f 6e20 7479 7065 3d22 7361   button type="sa
-00002160: 7665 2220 7661 6c75 653d 2253 6176 6520  ve" value="Save 
-00002170: 7365 7474 696e 6773 2220 257d 0a20 2020  settings" %}.   
-00002180: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
-00002190: 3c2f 666f 726d 3e0a 3c2f 6469 763e       </form>.</div>
+000001b0: 7479 7065 3d22 7465 7874 220a 2020 2020  type="text".    
+000001c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000001d0: 2020 2069 643d 2266 6163 696c 6974 795f     id="facility_
+000001e0: 6e61 6d65 220a 2020 2020 2020 2020 2020  name".          
+000001f0: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+00000200: 653d 2266 6163 696c 6974 795f 6e61 6d65  e="facility_name
+00000210: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00000220: 2020 2020 2020 2020 2063 6c61 7373 3d22           class="
+00000230: 666f 726d 2d63 6f6e 7472 6f6c 220a 2020  form-control".  
+00000240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000250: 2020 2020 2076 616c 7565 3d22 7b7b 2066       value="{{ f
+00000260: 6163 696c 6974 795f 6e61 6d65 207d 7d22  acility_name }}"
+00000270: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
+00000280: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
+00000290: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
+000002a0: 2d6d 642d 3520 6865 6c70 2d62 6c6f 636b  -md-5 help-block
+000002b0: 206c 6967 6874 2d67 7265 7922 3e54 6865   light-grey">The
+000002c0: 206e 616d 6520 6f66 2074 6865 2066 6163   name of the fac
+000002d0: 696c 6974 7920 746f 2075 7365 2069 6e20  ility to use in 
+000002e0: 616c 6c20 7465 6d70 6c61 7465 732e 3c2f  all templates.</
+000002f0: 6469 763e 0a20 2020 2020 2020 203c 2f64  div>.        </d
+00000300: 6976 3e0a 2020 2020 2020 2020 3c64 6976  iv>.        <div
+00000310: 2063 6c61 7373 3d22 666f 726d 2d67 726f   class="form-gro
+00000320: 7570 223e 0a20 2020 2020 2020 2020 2020  up">.           
+00000330: 203c 6c61 6265 6c20 636c 6173 733d 2263   <label class="c
+00000340: 6f6e 7472 6f6c 2d6c 6162 656c 2063 6f6c  ontrol-label col
+00000350: 2d6d 642d 3322 2066 6f72 3d22 7369 7465  -md-3" for="site
+00000360: 5f74 6974 6c65 223e 5369 7465 2074 6974  _title">Site tit
+00000370: 6c65 3c2f 6c61 6265 6c3e 0a20 2020 2020  le</label>.     
+00000380: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+00000390: 733d 2263 6f6c 2d6d 642d 3422 3e0a 2020  s="col-md-4">.  
+000003a0: 2020 2020 2020 2020 2020 2020 2020 3c69                <i
+000003b0: 6e70 7574 2074 7970 653d 2274 6578 7422  nput type="text"
+000003c0: 2069 643d 2273 6974 655f 7469 746c 6522   id="site_title"
+000003d0: 206e 616d 653d 2273 6974 655f 7469 746c   name="site_titl
+000003e0: 6522 2063 6c61 7373 3d22 666f 726d 2d63  e" class="form-c
+000003f0: 6f6e 7472 6f6c 2220 7661 6c75 653d 227b  ontrol" value="{
+00000400: 7b20 7369 7465 5f74 6974 6c65 207d 7d22  { site_title }}"
+00000410: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
+00000420: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
+00000430: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
+00000440: 2d6d 642d 3520 6865 6c70 2d62 6c6f 636b  -md-5 help-block
+00000450: 206c 6967 6874 2d67 7265 7922 3e54 6865   light-grey">The
+00000460: 206e 616d 6520 6f66 2074 6865 2073 6974   name of the sit
+00000470: 6520 746f 2075 7365 2069 6e20 616c 6c20  e to use in all 
+00000480: 7465 6d70 6c61 7465 732f 6865 6164 6572  templates/header
+00000490: 732e 3c2f 6469 763e 0a20 2020 2020 2020  s.</div>.       
+000004a0: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
+000004b0: 3c64 6976 2063 6c61 7373 3d22 666f 726d  <div class="form
+000004c0: 2d67 726f 7570 223e 0a20 2020 2020 2020  -group">.       
+000004d0: 2020 2020 203c 6c61 6265 6c20 636c 6173       <label clas
+000004e0: 733d 2263 6f6e 7472 6f6c 2d6c 6162 656c  s="control-label
+000004f0: 2063 6f6c 2d6d 642d 3322 3e41 7265 6120   col-md-3">Area 
+00000500: 6c6f 6769 6e2f 6c6f 676f 7574 3c2f 6c61  login/logout</la
+00000510: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
+00000520: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
+00000530: 2d6d 642d 3922 3e0a 2020 2020 2020 2020  -md-9">.        
+00000540: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+00000550: 7373 3d22 6368 6563 6b62 6f78 223e 0a20  ss="checkbox">. 
+00000560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000570: 2020 203c 6c61 6265 6c3e 0a20 2020 2020     <label>.     
+00000580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000590: 2020 203c 696e 7075 7420 7479 7065 3d22     <input type="
+000005a0: 6368 6563 6b62 6f78 2220 6e61 6d65 3d22  checkbox" name="
+000005b0: 7365 6c66 5f6c 6f67 5f69 6e22 207b 2520  self_log_in" {% 
+000005c0: 6966 2073 656c 665f 6c6f 675f 696e 2025  if self_log_in %
+000005d0: 7d63 6865 636b 6564 7b25 2065 6e64 6966  }checked{% endif
+000005e0: 2025 7d20 7661 6c75 653d 2265 6e61 626c   %} value="enabl
+000005f0: 6564 223e 0a20 2020 2020 2020 2020 2020  ed">.           
+00000600: 2020 2020 2020 2020 2020 2020 2041 6c6c               All
+00000610: 6f77 2075 7365 7273 2074 6f20 6c6f 6720  ow users to log 
+00000620: 7468 656d 7365 6c76 6573 2069 6e74 6f20  themselves into 
+00000630: 6163 6365 7373 2063 6f6e 7472 6f6c 6c65  access controlle
+00000640: 6420 6172 6561 7320 6672 6f6d 2074 6865  d areas from the
+00000650: 206c 616e 6469 6e67 2070 6167 650a 2020   landing page.  
+00000660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000670: 2020 3c2f 6c61 6265 6c3e 0a20 2020 2020    </label>.     
+00000680: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00000690: 6272 202f 3e0a 2020 2020 2020 2020 2020  br />.          
+000006a0: 2020 2020 2020 2020 2020 3c6c 6162 656c            <label
+000006b0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+000006c0: 2020 2020 2020 2020 2020 3c69 6e70 7574            <input
+000006d0: 2074 7970 653d 2263 6865 636b 626f 7822   type="checkbox"
+000006e0: 206e 616d 653d 2273 656c 665f 6c6f 675f   name="self_log_
+000006f0: 6f75 7422 207b 2520 6966 2073 656c 665f  out" {% if self_
+00000700: 6c6f 675f 6f75 7420 257d 6368 6563 6b65  log_out %}checke
+00000710: 647b 2520 656e 6469 6620 257d 2076 616c  d{% endif %} val
+00000720: 7565 3d22 656e 6162 6c65 6422 3e0a 2020  ue="enabled">.  
+00000730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000740: 2020 2020 2020 416c 6c6f 7720 7573 6572        Allow user
+00000750: 7320 746f 206c 6f67 2074 6865 6d73 656c  s to log themsel
+00000760: 7665 7320 6f75 7420 6f66 2061 6363 6573  ves out of acces
+00000770: 7320 636f 6e74 726f 6c6c 6564 2061 7265  s controlled are
+00000780: 6173 2066 726f 6d20 7468 6520 6c61 6e64  as from the land
+00000790: 696e 6720 7061 6765 0a20 2020 2020 2020  ing page.       
+000007a0: 2020 2020 2020 2020 2020 2020 203c 2f6c               </l
+000007b0: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
+000007c0: 2020 2020 2020 2020 2020 3c62 7220 2f3e            <br />
+000007d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000007e0: 2020 2020 203c 6c61 6265 6c3e 0a20 2020       <label>.   
+000007f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000800: 2020 2020 203c 696e 7075 7420 7479 7065       <input type
+00000810: 3d22 6368 6563 6b62 6f78 220a 2020 2020  ="checkbox".    
+00000820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000830: 2020 2020 2020 2020 2020 206e 616d 653d             name=
+00000840: 2263 616c 656e 6461 725f 6c6f 6769 6e5f  "calendar_login_
+00000850: 6c6f 676f 7574 220a 2020 2020 2020 2020  logout".        
+00000860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000870: 2020 2020 2020 207b 2520 6966 2063 616c         {% if cal
+00000880: 656e 6461 725f 6c6f 6769 6e5f 6c6f 676f  endar_login_logo
+00000890: 7574 2025 7d63 6865 636b 6564 7b25 2065  ut %}checked{% e
+000008a0: 6e64 6966 2025 7d0a 2020 2020 2020 2020  ndif %}.        
+000008b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000008c0: 2020 2020 2020 2076 616c 7565 3d22 656e         value="en
+000008d0: 6162 6c65 6422 3e0a 2020 2020 2020 2020  abled">.        
+000008e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000008f0: 5368 6f77 2061 6363 6573 7320 636f 6e74  Show access cont
+00000900: 726f 6c6c 6564 2061 7265 6120 6c6f 6769  rolled area logi
+00000910: 6e2f 6c6f 676f 7574 2062 7574 746f 6e20  n/logout button 
+00000920: 6f6e 2063 616c 656e 6461 7220 7669 6577  on calendar view
+00000930: 2028 7265 7175 6972 6573 206c 6f67 696e   (requires login
+00000940: 2061 6e64 2f6f 7220 6c6f 676f 7574 2066   and/or logout f
+00000950: 6561 7475 7265 2065 6e61 626c 6564 2061  eature enabled a
+00000960: 626f 7665 290a 2020 2020 2020 2020 2020  bove).          
+00000970: 2020 2020 2020 2020 2020 3c2f 6c61 6265            </labe
+00000980: 6c3e 0a20 2020 2020 2020 2020 2020 2020  l>.             
+00000990: 2020 2020 2020 207b 2520 6966 2022 4e45         {% if "NE
+000009a0: 4d4f 2e61 7070 732e 6172 6561 5f61 6363  MO.apps.area_acc
+000009b0: 6573 7322 7c61 7070 5f69 6e73 7461 6c6c  ess"|app_install
+000009c0: 6564 2025 7d0a 2020 2020 2020 2020 2020  ed %}.          
+000009d0: 2020 2020 2020 2020 2020 2020 2020 3c6c                <l
+000009e0: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
+000009f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a00: 2020 3c69 6e70 7574 2074 7970 653d 2263    <input type="c
+00000a10: 6865 636b 626f 7822 0a20 2020 2020 2020  heckbox".       
+00000a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a30: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
+00000a40: 3d22 6172 6561 5f6c 6f67 6f75 745f 616c  ="area_logout_al
+00000a50: 7265 6164 795f 6c6f 6767 6564 5f69 6e22  ready_logged_in"
+00000a60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a80: 2020 2020 7b25 2069 6620 6172 6561 5f6c      {% if area_l
+00000a90: 6f67 6f75 745f 616c 7265 6164 795f 6c6f  ogout_already_lo
+00000aa0: 6767 6564 5f69 6e20 257d 6368 6563 6b65  gged_in %}checke
+00000ab0: 647b 2520 656e 6469 6620 257d 0a20 2020  d{% endif %}.   
+00000ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ae0: 7661 6c75 653d 2265 6e61 626c 6564 223e  value="enabled">
+00000af0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000b00: 2020 2020 2020 2020 2020 2020 2041 7574               Aut
+00000b10: 6f6d 6174 6963 616c 6c79 206c 6f67 2075  omatically log u
+00000b20: 7365 7273 206f 7574 2077 6865 6e20 7468  sers out when th
+00000b30: 6579 2074 7279 2074 6f20 6c6f 6720 696e  ey try to log in
+00000b40: 2074 6f20 616e 2061 7265 6120 7468 6579   to an area they
+00000b50: 2061 7265 2061 6c72 6561 6479 206c 6f67   are already log
+00000b60: 6765 6420 696e 2028 7369 6e67 6c65 2065  ged in (single e
+00000b70: 6e74 7261 6e63 652f 6578 6974 2074 6162  ntrance/exit tab
+00000b80: 6c65 7420 6d6f 6465 290a 2020 2020 2020  let mode).      
+00000b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ba0: 2020 3c2f 6c61 6265 6c3e 0a20 2020 2020    </label>.     
+00000bb0: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+00000bc0: 2520 656e 6469 6620 257d 0a20 2020 2020  % endif %}.     
+00000bd0: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+00000be0: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
+00000bf0: 6469 763e 0a20 2020 2020 2020 203c 2f64  div>.        </d
+00000c00: 6976 3e0a 2020 2020 2020 2020 3c64 6976  iv>.        <div
+00000c10: 2063 6c61 7373 3d22 666f 726d 2d67 726f   class="form-gro
+00000c20: 7570 223e 0a20 2020 2020 2020 2020 2020  up">.           
+00000c30: 203c 6c61 6265 6c20 636c 6173 733d 2263   <label class="c
+00000c40: 6f6e 7472 6f6c 2d6c 6162 656c 2063 6f6c  ontrol-label col
+00000c50: 2d6d 642d 3322 3e41 7265 6120 7573 6167  -md-3">Area usag
+00000c60: 6520 7265 6d69 6e64 6572 3c2f 6c61 6265  e reminder</labe
+00000c70: 6c3e 0a20 2020 2020 2020 2020 2020 203c  l>.            <
+00000c80: 6469 7620 636c 6173 733d 2263 6f6c 2d6d  div class="col-m
+00000c90: 642d 3922 3e0a 2020 2020 2020 2020 2020  d-9">.          
+00000ca0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
+00000cb0: 3d22 6368 6563 6b62 6f78 223e 0a20 2020  ="checkbox">.   
+00000cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000cd0: 203c 696e 7075 7420 7479 7065 3d22 6869   <input type="hi
+00000ce0: 6464 656e 2220 6e61 6d65 3d22 6172 6561  dden" name="area
+00000cf0: 5f69 6e5f 7573 6167 655f 7265 6d69 6e64  _in_usage_remind
+00000d00: 6572 7322 2076 616c 7565 3d22 6f66 6622  ers" value="off"
+00000d10: 202f 3e0a 2020 2020 2020 2020 2020 2020   />.            
+00000d20: 2020 2020 2020 2020 3c6c 6162 656c 3e0a          <label>.
+00000d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d40: 2020 2020 2020 2020 3c69 6e70 7574 2074          <input t
+00000d50: 7970 653d 2263 6865 636b 626f 7822 0a20  ype="checkbox". 
+00000d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d70: 2020 2020 2020 2020 2020 2020 2020 6e61                na
+00000d80: 6d65 3d22 6172 6561 5f69 6e5f 7573 6167  me="area_in_usag
+00000d90: 655f 7265 6d69 6e64 6572 7322 0a20 2020  e_reminders".   
+00000da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000db0: 2020 2020 2020 2020 2020 2020 7b25 2069              {% i
+00000dc0: 6620 6172 6561 5f69 6e5f 7573 6167 655f  f area_in_usage_
+00000dd0: 7265 6d69 6e64 6572 7320 213d 2022 6f66  reminders != "of
+00000de0: 6622 2025 7d63 6865 636b 6564 7b25 2065  f" %}checked{% e
+00000df0: 6e64 6966 2025 7d0a 2020 2020 2020 2020  ndif %}.        
+00000e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e10: 2020 2020 2020 2076 616c 7565 3d22 223e         value="">
+00000e20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000e30: 2020 2020 2020 2020 2049 6e20 7573 6167           In usag
+00000e40: 6520 7265 6d69 6e64 6572 2065 6d61 696c  e reminder email
+00000e50: 732c 2073 686f 7720 6172 6561 7320 7573  s, show areas us
+00000e60: 6572 7320 6172 6520 6375 7272 656e 746c  ers are currentl
+00000e70: 7920 6c6f 6767 6564 2069 6e0a 2020 2020  y logged in.    
+00000e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e90: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
+00000ea0: 2020 2020 2020 2020 2020 2020 203c 6272               <br
+00000eb0: 202f 3e0a 2020 2020 2020 2020 2020 2020   />.            
+00000ec0: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
+00000ed0: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00000ee0: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00000ef0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+00000f00: 2266 6f72 6d2d 6772 6f75 7022 3e0a 2020  "form-group">.  
+00000f10: 2020 2020 2020 2020 2020 3c6c 6162 656c            <label
+00000f20: 2063 6c61 7373 3d22 636f 6e74 726f 6c2d   class="control-
+00000f30: 6c61 6265 6c20 636f 6c2d 6d64 2d33 223e  label col-md-3">
+00000f40: 436f 6e73 756d 6162 6c65 733c 2f6c 6162  Consumables</lab
+00000f50: 656c 3e0a 2020 2020 2020 2020 2020 2020  el>.            
+00000f60: 3c64 6976 2063 6c61 7373 3d22 636f 6c2d  <div class="col-
+00000f70: 6d64 2d39 223e 0a20 2020 2020 2020 2020  md-9">.         
+00000f80: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+00000f90: 733d 2263 6865 636b 626f 7822 3e0a 2020  s="checkbox">.  
+00000fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000fb0: 2020 3c6c 6162 656c 3e0a 2020 2020 2020    <label>.      
+00000fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000fd0: 2020 3c69 6e70 7574 2074 7970 653d 2263    <input type="c
+00000fe0: 6865 636b 626f 7822 0a20 2020 2020 2020  heckbox".       
+00000ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001000: 2020 2020 2020 2020 6e61 6d65 3d22 636f          name="co
+00001010: 6e73 756d 6162 6c65 5f75 7365 725f 7365  nsumable_user_se
+00001020: 6c66 5f63 6865 636b 6f75 7422 0a20 2020  lf_checkout".   
+00001030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001040: 2020 2020 2020 2020 2020 2020 7b25 2069              {% i
+00001050: 6620 636f 6e73 756d 6162 6c65 5f75 7365  f consumable_use
+00001060: 725f 7365 6c66 5f63 6865 636b 6f75 7420  r_self_checkout 
+00001070: 257d 6368 6563 6b65 647b 2520 656e 6469  %}checked{% endi
+00001080: 6620 257d 0a20 2020 2020 2020 2020 2020  f %}.           
+00001090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000010a0: 2020 2020 7661 6c75 653d 2265 6e61 626c      value="enabl
+000010b0: 6564 223e 0a20 2020 2020 2020 2020 2020  ed">.           
+000010c0: 2020 2020 2020 2020 2020 2020 2041 6c6c               All
+000010d0: 6f77 2075 7365 7273 2074 6f20 7365 6c66  ow users to self
+000010e0: 2d63 6865 636b 6f75 7420 636f 6e73 756d  -checkout consum
+000010f0: 6162 6c65 730a 2020 2020 2020 2020 2020  ables.          
+00001100: 2020 2020 2020 2020 2020 3c2f 6c61 6265            </labe
+00001110: 6c3e 0a20 2020 2020 2020 2020 2020 2020  l>.             
+00001120: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
+00001130: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00001140: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
+00001150: 6173 733d 2263 6f6c 2d6d 642d 6f66 6673  ass="col-md-offs
+00001160: 6574 2d33 2063 6f6c 2d6d 642d 3920 6865  et-3 col-md-9 he
+00001170: 6c70 2d62 6c6f 636b 206c 6967 6874 2d67  lp-block light-g
+00001180: 7265 7922 3e0a 2020 2020 2020 2020 2020  rey">.          
+00001190: 2020 2020 2020 4966 2065 6e61 626c 6564        If enabled
+000011a0: 2c20 796f 7520 6e65 6564 2074 6f20 6164  , you need to ad
+000011b0: 6420 610a 2020 2020 2020 2020 2020 2020  d a.            
+000011c0: 2020 2020 7b25 2069 6620 2264 6a61 6e67      {% if "djang
+000011d0: 6f2e 636f 6e74 7269 622e 6164 6d69 6e22  o.contrib.admin"
+000011e0: 7c61 7070 5f69 6e73 7461 6c6c 6564 2025  |app_installed %
+000011f0: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
+00001200: 2020 2020 2020 3c61 2068 7265 663d 227b        <a href="{
+00001210: 2520 7572 6c20 2761 646d 696e 3a4e 454d  % url 'admin:NEM
+00001220: 4f5f 6c61 6e64 696e 6770 6167 6563 686f  O_landingpagecho
+00001230: 6963 655f 6368 616e 6765 6c69 7374 2720  ice_changelist' 
+00001240: 257d 223e 6c61 6e64 696e 6720 7061 6765  %}">landing page
+00001250: 2063 686f 6963 653c 2f61 3e0a 2020 2020   choice</a>.    
+00001260: 2020 2020 2020 2020 2020 2020 7b25 2065              {% e
+00001270: 6c73 6520 257d 0a20 2020 2020 2020 2020  lse %}.         
+00001280: 2020 2020 2020 2020 2020 206c 616e 6469             landi
+00001290: 6e67 2070 6167 6520 6f70 7469 6f6e 0a20  ng page option. 
+000012a0: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+000012b0: 2520 656e 6469 6620 257d 0a20 2020 2020  % endif %}.     
+000012c0: 2020 2020 2020 2020 2020 2077 6974 6820             with 
+000012d0: 7572 6c20 3c62 3e2f 636f 6e73 756d 6162  url <b>/consumab
+000012e0: 6c65 732f 3c2f 623e 2073 6f20 7573 6572  les/</b> so user
+000012f0: 7320 6361 6e20 6861 7665 2061 2077 6179  s can have a way
+00001300: 2074 6f20 6765 7420 746f 2074 6865 2070   to get to the p
+00001310: 6167 652e 0a20 2020 2020 2020 2020 2020  age..           
+00001320: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
+00001330: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00001340: 636f 6c2d 6d64 2d6f 6666 7365 742d 3320  col-md-offset-3 
+00001350: 636f 6c2d 6d64 2d39 223e 0a20 2020 2020  col-md-9">.     
+00001360: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
+00001370: 636c 6173 733d 2263 6865 636b 626f 7822  class="checkbox"
+00001380: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00001390: 2020 2020 2020 3c6c 6162 656c 3e0a 2020        <label>.  
+000013a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000013b0: 2020 2020 2020 3c69 6e70 7574 2074 7970        <input typ
+000013c0: 653d 2263 6865 636b 626f 7822 0a20 2020  e="checkbox".   
+000013d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000013e0: 2020 2020 2020 2020 2020 2020 6964 3d22              id="
+000013f0: 636f 6e73 756d 6162 6c65 5f63 6174 6567  consumable_categ
+00001400: 6f72 795f 636f 6c6c 6170 7365 220a 2020  ory_collapse".  
+00001410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001420: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+00001430: 653d 2263 6f6e 7375 6d61 626c 655f 6361  e="consumable_ca
+00001440: 7465 676f 7279 5f63 6f6c 6c61 7073 6522  tegory_collapse"
+00001450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001470: 7b25 2069 6620 636f 6e73 756d 6162 6c65  {% if consumable
+00001480: 5f63 6174 6567 6f72 795f 636f 6c6c 6170  _category_collap
+00001490: 7365 2025 7d63 6865 636b 6564 7b25 2065  se %}checked{% e
+000014a0: 6e64 6966 2025 7d0a 2020 2020 2020 2020  ndif %}.        
+000014b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000014c0: 2020 2020 2020 2076 616c 7565 3d22 656e         value="en
+000014d0: 6162 6c65 6422 3e0a 2020 2020 2020 2020  abled">.        
+000014e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000014f0: 436f 6c6c 6170 7365 2063 6f6e 7375 6d61  Collapse consuma
+00001500: 626c 6520 6361 7465 676f 7269 6573 2062  ble categories b
+00001510: 7920 6465 6661 756c 740a 2020 2020 2020  y default.      
+00001520: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
+00001530: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
+00001540: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00001550: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
+00001560: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
+00001570: 7620 636c 6173 733d 2263 6f6c 2d6d 642d  v class="col-md-
+00001580: 6f66 6673 6574 2d33 2063 6f6c 2d6d 642d  offset-3 col-md-
+00001590: 3920 6865 6c70 2d62 6c6f 636b 206c 6967  9 help-block lig
+000015a0: 6874 2d67 7265 7922 3e0a 2020 2020 2020  ht-grey">.      
+000015b0: 2020 2020 2020 2020 2020 4368 6563 6b20            Check 
+000015c0: 7468 6973 2062 6f78 2074 6f20 636f 6c6c  this box to coll
+000015d0: 6170 7365 2063 6f6e 7375 6d61 626c 6520  apse consumable 
+000015e0: 6361 7465 676f 7269 6573 2062 7920 6465  categories by de
+000015f0: 6661 756c 742e 0a20 2020 2020 2020 2020  fault..         
+00001600: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
+00001610: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+00001620: 207b 2520 6966 2022 4e45 4d4f 2e61 7070   {% if "NEMO.app
+00001630: 732e 6172 6561 5f61 6363 6573 7322 7c61  s.area_access"|a
+00001640: 7070 5f69 6e73 7461 6c6c 6564 206f 7220  pp_installed or 
+00001650: 224e 454d 4f2e 6170 7073 2e6b 696f 736b  "NEMO.apps.kiosk
+00001660: 227c 6170 705f 696e 7374 616c 6c65 6420  "|app_installed 
+00001670: 257d 0a20 2020 2020 2020 2020 2020 207b  %}.            {
+00001680: 2520 6966 2062 6164 6765 5f72 6561 6465  % if badge_reade
+00001690: 7273 2025 7d0a 2020 2020 2020 2020 2020  rs %}.          
+000016a0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
+000016b0: 3d22 666f 726d 2d67 726f 7570 223e 0a20  ="form-group">. 
+000016c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000016d0: 2020 203c 6c61 6265 6c20 636c 6173 733d     <label class=
+000016e0: 2263 6f6e 7472 6f6c 2d6c 6162 656c 2063  "control-label c
+000016f0: 6f6c 2d6d 642d 3322 2066 6f72 3d22 6465  ol-md-3" for="de
+00001700: 6661 756c 745f 6261 6467 655f 7265 6164  fault_badge_read
+00001710: 6572 5f69 6422 3e44 6566 6175 6c74 2062  er_id">Default b
+00001720: 6164 6765 2072 6561 6465 723c 2f6c 6162  adge reader</lab
+00001730: 656c 3e0a 2020 2020 2020 2020 2020 2020  el>.            
+00001740: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+00001750: 7373 3d22 636f 6c2d 6d64 2d34 223e 0a20  ss="col-md-4">. 
+00001760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001770: 2020 2020 2020 203c 7365 6c65 6374 2069         <select i
+00001780: 643d 2264 6566 6175 6c74 5f62 6164 6765  d="default_badge
+00001790: 5f72 6561 6465 725f 6964 2220 6e61 6d65  _reader_id" name
+000017a0: 3d22 6465 6661 756c 745f 6261 6467 655f  ="default_badge_
+000017b0: 7265 6164 6572 5f69 6422 2063 6c61 7373  reader_id" class
+000017c0: 3d22 666f 726d 2d63 6f6e 7472 6f6c 223e  ="form-control">
+000017d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000017e0: 2020 2020 2020 2020 2020 2020 203c 6f70               <op
+000017f0: 7469 6f6e 2076 616c 7565 3d22 2220 6c61  tion value="" la
+00001800: 6265 6c3d 2244 6566 6175 6c74 2062 6164  bel="Default bad
+00001810: 6765 2072 6561 6465 7222 3e3c 2f6f 7074  ge reader"></opt
+00001820: 696f 6e3e 0a20 2020 2020 2020 2020 2020  ion>.           
+00001830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001840: 207b 2520 666f 7220 6261 6467 655f 7265   {% for badge_re
+00001850: 6164 6572 2069 6e20 6261 6467 655f 7265  ader in badge_re
+00001860: 6164 6572 7320 257d 0a20 2020 2020 2020  aders %}.       
+00001870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001880: 2020 2020 2020 2020 203c 6f70 7469 6f6e           <option
+00001890: 2076 616c 7565 3d22 7b7b 2062 6164 6765   value="{{ badge
+000018a0: 5f72 6561 6465 722e 6964 207d 7d22 0a20  _reader.id }}". 
+000018b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000018c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000018d0: 2020 2020 2020 206c 6162 656c 3d22 7b7b         label="{{
+000018e0: 2062 6164 6765 5f72 6561 6465 722e 6e61   badge_reader.na
+000018f0: 6d65 207d 7d22 0a20 2020 2020 2020 2020  me }}".         
+00001900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001910: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+00001920: 2520 6966 2064 6566 6175 6c74 5f62 6164  % if default_bad
+00001930: 6765 5f72 6561 6465 725f 6964 7c74 6f5f  ge_reader_id|to_
+00001940: 696e 7420 3d3d 2062 6164 6765 5f72 6561  int == badge_rea
+00001950: 6465 722e 6964 2025 7d73 656c 6563 7465  der.id %}selecte
+00001960: 647b 2520 656e 6469 6620 257d 3e0a 2020  d{% endif %}>.  
+00001970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001980: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
+00001990: 6f70 7469 6f6e 3e0a 2020 2020 2020 2020  option>.        
+000019a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000019b0: 2020 2020 7b25 2065 6e64 666f 7220 257d      {% endfor %}
+000019c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000019d0: 2020 2020 2020 2020 203c 2f73 656c 6563           </selec
+000019e0: 743e 0a20 2020 2020 2020 2020 2020 2020  t>.             
+000019f0: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00001a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a10: 2020 3c64 6976 2063 6c61 7373 3d22 636f    <div class="co
+00001a20: 6c2d 6d64 2d35 2068 656c 702d 626c 6f63  l-md-5 help-bloc
+00001a30: 6b20 6c69 6768 742d 6772 6579 223e 0a20  k light-grey">. 
+00001a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a50: 2020 2020 2020 2054 6865 2064 6566 6175         The defau
+00001a60: 6c74 2062 6164 6765 2072 6561 6465 7220  lt badge reader 
+00001a70: 746f 2075 7365 2066 6f72 2074 6865 2061  to use for the a
+00001a80: 7265 6120 6163 6365 7373 2061 6e64 206b  rea access and k
+00001a90: 696f 736b 2074 6162 6c65 7473 2e0a 2020  iosk tablets..  
+00001aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ab0: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+00001ac0: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+00001ad0: 2020 2020 2020 2020 2020 2020 7b25 2065              {% e
+00001ae0: 6e64 6966 2025 7d0a 2020 2020 2020 2020  ndif %}.        
+00001af0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00001b00: 666f 726d 2d67 726f 7570 223e 0a20 2020  form-group">.   
+00001b10: 2020 2020 2020 2020 2020 2020 203c 6c61               <la
+00001b20: 6265 6c20 636c 6173 733d 2263 6f6e 7472  bel class="contr
+00001b30: 6f6c 2d6c 6162 656c 2063 6f6c 2d6d 642d  ol-label col-md-
+00001b40: 3322 2066 6f72 3d22 7368 6f77 5f62 6164  3" for="show_bad
+00001b50: 6765 5f6e 756d 6265 7222 3e42 6164 6765  ge_number">Badge
+00001b60: 206e 756d 6265 7220 7363 616e 3c2f 6c61   number scan</la
+00001b70: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
+00001b80: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+00001b90: 2263 6f6c 2d6d 642d 3922 3e0a 2020 2020  "col-md-9">.    
+00001ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001bb0: 3c64 6976 2063 6c61 7373 3d22 6368 6563  <div class="chec
+00001bc0: 6b62 6f78 223e 0a20 2020 2020 2020 2020  kbox">.         
+00001bd0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00001be0: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
+00001bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c00: 2020 203c 696e 7075 7420 7479 7065 3d22     <input type="
+00001c10: 6368 6563 6b62 6f78 220a 2020 2020 2020  checkbox".      
+00001c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c30: 2020 2020 2020 2020 2020 2020 2069 643d               id=
+00001c40: 2273 686f 775f 6261 6467 655f 6e75 6d62  "show_badge_numb
+00001c50: 6572 220a 2020 2020 2020 2020 2020 2020  er".            
+00001c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c70: 2020 2020 2020 206e 616d 653d 2273 686f         name="sho
+00001c80: 775f 6261 6467 655f 6e75 6d62 6572 220a  w_badge_number".
+00001c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001cb0: 2020 207b 2520 6966 2073 686f 775f 6261     {% if show_ba
+00001cc0: 6467 655f 6e75 6d62 6572 2025 7d63 6865  dge_number %}che
+00001cd0: 636b 6564 7b25 2065 6e64 6966 2025 7d0a  cked{% endif %}.
+00001ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d00: 2020 2076 616c 7565 3d22 656e 6162 6c65     value="enable
+00001d10: 6422 3e0a 2020 2020 2020 2020 2020 2020  d">.            
+00001d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d30: 4469 7370 6c61 7920 6261 6467 6520 6e75  Display badge nu
+00001d40: 6d62 6572 2077 6865 6e20 6261 6467 696e  mber when badgin
+00001d50: 6720 696e 206b 696f 736b 2061 6e64 2061  g in kiosk and a
+00001d60: 7265 6120 6163 6365 7373 0a20 2020 2020  rea access.     
+00001d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d80: 2020 203c 2f6c 6162 656c 3e0a 2020 2020     </label>.    
+00001d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001da0: 3c2f 6469 763e 0a20 2020 2020 2020 2020  </div>.         
+00001db0: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00001dc0: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
+00001dd0: 0a20 2020 2020 2020 207b 2520 656e 6469  .        {% endi
+00001de0: 6620 257d 0a20 2020 2020 2020 203c 6469  f %}.        <di
+00001df0: 7620 636c 6173 733d 2263 7573 746f 6d69  v class="customi
+00001e00: 7a61 7469 6f6e 2d73 6570 6172 6174 696f  zation-separatio
+00001e10: 6e22 2073 7479 6c65 3d22 6d61 7267 696e  n" style="margin
+00001e20: 2d62 6f74 746f 6d3a 2031 3570 7822 3e3c  -bottom: 15px"><
+00001e30: 2f64 6976 3e0a 2020 2020 2020 2020 3c68  /div>.        <h
+00001e40: 3320 636c 6173 733d 2263 7573 746f 6d69  3 class="customi
+00001e50: 7a61 7469 6f6e 2d73 6563 7469 6f6e 2d74  zation-section-t
+00001e60: 6974 6c65 223e 5061 6765 2074 6974 6c65  itle">Page title
+00001e70: 2073 6574 7469 6e67 733c 2f68 333e 0a20   settings</h3>. 
+00001e80: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+00001e90: 733d 2266 6f72 6d2d 6772 6f75 7022 3e0a  s="form-group">.
+00001ea0: 2020 2020 2020 2020 2020 2020 3c6c 6162              <lab
+00001eb0: 656c 2063 6c61 7373 3d22 636f 6e74 726f  el class="contro
+00001ec0: 6c2d 6c61 6265 6c20 636f 6c2d 6d64 2d33  l-label col-md-3
+00001ed0: 2220 666f 723d 2263 616c 656e 6461 725f  " for="calendar_
+00001ee0: 7061 6765 5f74 6974 6c65 223e 4361 6c65  page_title">Cale
+00001ef0: 6e64 6172 3c2f 6c61 6265 6c3e 0a20 2020  ndar</label>.   
+00001f00: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
+00001f10: 6173 733d 2263 6f6c 2d6d 642d 3422 3e0a  ass="col-md-4">.
+00001f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f30: 3c69 6e70 7574 2074 7970 653d 2274 6578  <input type="tex
+00001f40: 7422 0a20 2020 2020 2020 2020 2020 2020  t".             
+00001f50: 2020 2020 2020 2020 2020 6964 3d22 6361            id="ca
+00001f60: 6c65 6e64 6172 5f70 6167 655f 7469 746c  lendar_page_titl
+00001f70: 6522 0a20 2020 2020 2020 2020 2020 2020  e".             
+00001f80: 2020 2020 2020 2020 2020 6e61 6d65 3d22            name="
+00001f90: 6361 6c65 6e64 6172 5f70 6167 655f 7469  calendar_page_ti
+00001fa0: 746c 6522 0a20 2020 2020 2020 2020 2020  tle".           
+00001fb0: 2020 2020 2020 2020 2020 2020 636c 6173              clas
+00001fc0: 733d 2266 6f72 6d2d 636f 6e74 726f 6c22  s="form-control"
+00001fd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001fe0: 2020 2020 2020 2020 7661 6c75 653d 227b          value="{
+00001ff0: 7b20 6361 6c65 6e64 6172 5f70 6167 655f  { calendar_page_
+00002000: 7469 746c 6520 7d7d 223e 0a20 2020 2020  title }}">.     
+00002010: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00002020: 2020 2020 2020 2020 2020 3c64 6976 2063            <div c
+00002030: 6c61 7373 3d22 636f 6c2d 6d64 2d35 2068  lass="col-md-5 h
+00002040: 656c 702d 626c 6f63 6b20 6c69 6768 742d  elp-block light-
+00002050: 6772 6579 223e 0a20 2020 2020 2020 2020  grey">.         
+00002060: 2020 2020 2020 2054 6865 2074 6974 6c65         The title
+00002070: 206f 6620 7468 6520 2243 616c 656e 6461   of the "Calenda
+00002080: 7222 2070 6167 6520 616e 6420 6974 7320  r" page and its 
+00002090: 636f 7272 6573 706f 6e64 696e 6720 6c69  corresponding li
+000020a0: 6e6b 2069 6e20 7468 6520 6e61 7662 6172  nk in the navbar
+000020b0: 2e0a 2020 2020 2020 2020 2020 2020 3c2f  ..            </
+000020c0: 6469 763e 0a20 2020 2020 2020 203c 2f64  div>.        </d
+000020d0: 6976 3e0a 2020 2020 2020 2020 3c64 6976  iv>.        <div
+000020e0: 2063 6c61 7373 3d22 666f 726d 2d67 726f   class="form-gro
+000020f0: 7570 223e 0a20 2020 2020 2020 2020 2020  up">.           
+00002100: 203c 6c61 6265 6c20 636c 6173 733d 2263   <label class="c
+00002110: 6f6e 7472 6f6c 2d6c 6162 656c 2063 6f6c  ontrol-label col
+00002120: 2d6d 642d 3322 2066 6f72 3d22 746f 6f6c  -md-3" for="tool
+00002130: 5f63 6f6e 7472 6f6c 5f70 6167 655f 7469  _control_page_ti
+00002140: 746c 6522 3e54 6f6f 6c20 636f 6e74 726f  tle">Tool contro
+00002150: 6c3c 2f6c 6162 656c 3e0a 2020 2020 2020  l</label>.      
+00002160: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
+00002170: 3d22 636f 6c2d 6d64 2d34 223e 0a20 2020  ="col-md-4">.   
+00002180: 2020 2020 2020 2020 2020 2020 203c 696e               <in
+00002190: 7075 7420 7479 7065 3d22 7465 7874 220a  put type="text".
+000021a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000021b0: 2020 2020 2020 2069 643d 2274 6f6f 6c5f         id="tool_
+000021c0: 636f 6e74 726f 6c5f 7061 6765 5f74 6974  control_page_tit
+000021d0: 6c65 220a 2020 2020 2020 2020 2020 2020  le".            
+000021e0: 2020 2020 2020 2020 2020 206e 616d 653d             name=
+000021f0: 2274 6f6f 6c5f 636f 6e74 726f 6c5f 7061  "tool_control_pa
+00002200: 6765 5f74 6974 6c65 220a 2020 2020 2020  ge_title".      
+00002210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002220: 2063 6c61 7373 3d22 666f 726d 2d63 6f6e   class="form-con
+00002230: 7472 6f6c 220a 2020 2020 2020 2020 2020  trol".          
+00002240: 2020 2020 2020 2020 2020 2020 2076 616c               val
+00002250: 7565 3d22 7b7b 2074 6f6f 6c5f 636f 6e74  ue="{{ tool_cont
+00002260: 726f 6c5f 7061 6765 5f74 6974 6c65 207d  rol_page_title }
+00002270: 7d22 3e0a 2020 2020 2020 2020 2020 2020  }">.            
+00002280: 3c2f 6469 763e 0a20 2020 2020 2020 2020  </div>.         
+00002290: 2020 203c 6469 7620 636c 6173 733d 2263     <div class="c
+000022a0: 6f6c 2d6d 642d 3520 6865 6c70 2d62 6c6f  ol-md-5 help-blo
+000022b0: 636b 206c 6967 6874 2d67 7265 7922 3e0a  ck light-grey">.
+000022c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000022d0: 5468 6520 7469 746c 6520 6f66 2074 6865  The title of the
+000022e0: 2022 546f 6f6c 2063 6f6e 7472 6f6c 2220   "Tool control" 
+000022f0: 7061 6765 2061 6e64 2069 7473 2063 6f72  page and its cor
+00002300: 7265 7370 6f6e 6469 6e67 206c 696e 6b20  responding link 
+00002310: 696e 2074 6865 206e 6176 6261 722e 0a20  in the navbar.. 
+00002320: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+00002330: 3e0a 2020 2020 2020 2020 3c2f 6469 763e  >.        </div>
+00002340: 0a20 2020 2020 2020 203c 6469 7620 636c  .        <div cl
+00002350: 6173 733d 2266 6f72 6d2d 6772 6f75 7022  ass="form-group"
+00002360: 3e0a 2020 2020 2020 2020 2020 2020 3c6c  >.            <l
+00002370: 6162 656c 2063 6c61 7373 3d22 636f 6e74  abel class="cont
+00002380: 726f 6c2d 6c61 6265 6c20 636f 6c2d 6d64  rol-label col-md
+00002390: 2d33 2220 666f 723d 2273 7461 7475 735f  -3" for="status_
+000023a0: 6461 7368 626f 6172 645f 7061 6765 5f74  dashboard_page_t
+000023b0: 6974 6c65 223e 5374 6174 7573 2064 6173  itle">Status das
+000023c0: 6862 6f61 7264 3c2f 6c61 6265 6c3e 0a20  hboard</label>. 
+000023d0: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
+000023e0: 636c 6173 733d 2263 6f6c 2d6d 642d 3422  class="col-md-4"
+000023f0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00002400: 2020 3c69 6e70 7574 2074 7970 653d 2274    <input type="t
+00002410: 6578 7422 0a20 2020 2020 2020 2020 2020  ext".           
+00002420: 2020 2020 2020 2020 2020 2020 6964 3d22              id="
+00002430: 7374 6174 7573 5f64 6173 6862 6f61 7264  status_dashboard
+00002440: 5f70 6167 655f 7469 746c 6522 0a20 2020  _page_title".   
+00002450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002460: 2020 2020 6e61 6d65 3d22 7374 6174 7573      name="status
+00002470: 5f64 6173 6862 6f61 7264 5f70 6167 655f  _dashboard_page_
+00002480: 7469 746c 6522 0a20 2020 2020 2020 2020  title".         
+00002490: 2020 2020 2020 2020 2020 2020 2020 636c                cl
+000024a0: 6173 733d 2266 6f72 6d2d 636f 6e74 726f  ass="form-contro
+000024b0: 6c22 0a20 2020 2020 2020 2020 2020 2020  l".             
+000024c0: 2020 2020 2020 2020 2020 7661 6c75 653d            value=
+000024d0: 227b 7b20 7374 6174 7573 5f64 6173 6862  "{{ status_dashb
+000024e0: 6f61 7264 5f70 6167 655f 7469 746c 6520  oard_page_title 
+000024f0: 7d7d 223e 0a20 2020 2020 2020 2020 2020  }}">.           
+00002500: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
+00002510: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00002520: 636f 6c2d 6d64 2d35 2068 656c 702d 626c  col-md-5 help-bl
+00002530: 6f63 6b20 6c69 6768 742d 6772 6579 223e  ock light-grey">
+00002540: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002550: 2054 6865 2074 6974 6c65 206f 6620 7468   The title of th
+00002560: 6520 2253 7461 7475 7320 6461 7368 626f  e "Status dashbo
+00002570: 6172 6422 2070 6167 6520 616e 6420 6974  ard" page and it
+00002580: 7320 636f 7272 6573 706f 6e64 696e 6720  s corresponding 
+00002590: 6c69 6e6b 2069 6e20 7468 6520 6e61 7662  link in the navb
+000025a0: 6172 2e0a 2020 2020 2020 2020 2020 2020  ar..            
+000025b0: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
+000025c0: 2f64 6976 3e0a 2020 2020 2020 2020 3c64  /div>.        <d
+000025d0: 6976 2063 6c61 7373 3d22 666f 726d 2d67  iv class="form-g
+000025e0: 726f 7570 223e 0a20 2020 2020 2020 2020  roup">.         
+000025f0: 2020 203c 6c61 6265 6c20 636c 6173 733d     <label class=
+00002600: 2263 6f6e 7472 6f6c 2d6c 6162 656c 2063  "control-label c
+00002610: 6f6c 2d6d 642d 3322 2066 6f72 3d22 7265  ol-md-3" for="re
+00002620: 7175 6573 7473 5f70 6167 655f 7469 746c  quests_page_titl
+00002630: 6522 3e52 6571 7565 7374 733c 2f6c 6162  e">Requests</lab
+00002640: 656c 3e0a 2020 2020 2020 2020 2020 2020  el>.            
+00002650: 3c64 6976 2063 6c61 7373 3d22 636f 6c2d  <div class="col-
+00002660: 6d64 2d34 223e 0a20 2020 2020 2020 2020  md-4">.         
+00002670: 2020 2020 2020 203c 696e 7075 7420 7479         <input ty
+00002680: 7065 3d22 7465 7874 220a 2020 2020 2020  pe="text".      
+00002690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000026a0: 2069 643d 2272 6571 7565 7374 735f 7061   id="requests_pa
+000026b0: 6765 5f74 6974 6c65 220a 2020 2020 2020  ge_title".      
+000026c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000026d0: 206e 616d 653d 2272 6571 7565 7374 735f   name="requests_
+000026e0: 7061 6765 5f74 6974 6c65 220a 2020 2020  page_title".    
+000026f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002700: 2020 2063 6c61 7373 3d22 666f 726d 2d63     class="form-c
+00002710: 6f6e 7472 6f6c 220a 2020 2020 2020 2020  ontrol".        
+00002720: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+00002730: 616c 7565 3d22 7b7b 2072 6571 7565 7374  alue="{{ request
+00002740: 735f 7061 6765 5f74 6974 6c65 207d 7d22  s_page_title }}"
+00002750: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
+00002760: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
+00002770: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
+00002780: 2d6d 642d 3520 6865 6c70 2d62 6c6f 636b  -md-5 help-block
+00002790: 206c 6967 6874 2d67 7265 7922 3e0a 2020   light-grey">.  
+000027a0: 2020 2020 2020 2020 2020 2020 2020 5468                Th
+000027b0: 6520 7469 746c 6520 6f66 2074 6865 2022  e title of the "
+000027c0: 5265 7175 6573 7473 2220 7061 6765 2061  Requests" page a
+000027d0: 6e64 2069 7473 2063 6f72 7265 7370 6f6e  nd its correspon
+000027e0: 6469 6e67 206c 696e 6b20 696e 2074 6865  ding link in the
+000027f0: 206e 6176 6261 722e 0a20 2020 2020 2020   navbar..       
+00002800: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+00002810: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
+00002820: 2020 203c 6469 7620 636c 6173 733d 2266     <div class="f
+00002830: 6f72 6d2d 6772 6f75 7022 3e0a 2020 2020  orm-group">.    
+00002840: 2020 2020 2020 2020 3c6c 6162 656c 2063          <label c
+00002850: 6c61 7373 3d22 636f 6e74 726f 6c2d 6c61  lass="control-la
+00002860: 6265 6c20 636f 6c2d 6d64 2d33 2220 666f  bel col-md-3" fo
+00002870: 723d 2273 6166 6574 795f 7061 6765 5f74  r="safety_page_t
+00002880: 6974 6c65 223e 5361 6665 7479 3c2f 6c61  itle">Safety</la
+00002890: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
+000028a0: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
+000028b0: 2d6d 642d 3422 3e0a 2020 2020 2020 2020  -md-4">.        
+000028c0: 2020 2020 2020 2020 3c69 6e70 7574 2074          <input t
+000028d0: 7970 653d 2274 6578 7422 0a20 2020 2020  ype="text".     
+000028e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000028f0: 2020 6964 3d22 7361 6665 7479 5f70 6167    id="safety_pag
+00002900: 655f 7469 746c 6522 0a20 2020 2020 2020  e_title".       
+00002910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002920: 6e61 6d65 3d22 7361 6665 7479 5f70 6167  name="safety_pag
+00002930: 655f 7469 746c 6522 0a20 2020 2020 2020  e_title".       
+00002940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002950: 636c 6173 733d 2266 6f72 6d2d 636f 6e74  class="form-cont
+00002960: 726f 6c22 0a20 2020 2020 2020 2020 2020  rol".           
+00002970: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
+00002980: 653d 227b 7b20 7361 6665 7479 5f70 6167  e="{{ safety_pag
+00002990: 655f 7469 746c 6520 7d7d 223e 0a20 2020  e_title }}">.   
+000029a0: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+000029b0: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+000029c0: 2063 6c61 7373 3d22 636f 6c2d 6d64 2d35   class="col-md-5
+000029d0: 2068 656c 702d 626c 6f63 6b20 6c69 6768   help-block ligh
+000029e0: 742d 6772 6579 223e 0a20 2020 2020 2020  t-grey">.       
+000029f0: 2020 2020 2020 2020 2054 6865 2074 6974           The tit
+00002a00: 6c65 206f 6620 7468 6520 2253 6166 6574  le of the "Safet
+00002a10: 7922 2070 6167 6520 616e 6420 6974 7320  y" page and its 
+00002a20: 636f 7272 6573 706f 6e64 696e 6720 6c69  corresponding li
+00002a30: 6e6b 2069 6e20 7468 6520 6e61 7662 6172  nk in the navbar
+00002a40: 2e0a 2020 2020 2020 2020 2020 2020 3c2f  ..            </
+00002a50: 6469 763e 0a20 2020 2020 2020 203c 2f64  div>.        </d
+00002a60: 6976 3e0a 2020 2020 2020 2020 3c64 6976  iv>.        <div
+00002a70: 2063 6c61 7373 3d22 6375 7374 6f6d 697a   class="customiz
+00002a80: 6174 696f 6e2d 7365 7061 7261 7469 6f6e  ation-separation
+00002a90: 2220 7374 796c 653d 226d 6172 6769 6e2d  " style="margin-
+00002aa0: 626f 7474 6f6d 3a20 3135 7078 223e 3c2f  bottom: 15px"></
+00002ab0: 6469 763e 0a20 2020 2020 2020 203c 6469  div>.        <di
+00002ac0: 7620 636c 6173 733d 2274 6578 742d 6365  v class="text-ce
+00002ad0: 6e74 6572 223e 7b25 2062 7574 746f 6e20  nter">{% button 
+00002ae0: 7479 7065 3d22 7361 7665 2220 7661 6c75  type="save" valu
+00002af0: 653d 2253 6176 6520 7365 7474 696e 6773  e="Save settings
+00002b00: 2220 257d 3c2f 6469 763e 0a20 2020 203c  " %}</div>.    <
+00002b10: 2f66 6f72 6d3e 0a3c 2f64 6976 3e0a       /form>.</div>.
```

## NEMO/templates/customizations/customizations_calendar.html

```diff
@@ -1,170 +1,329 @@
 {% load custom_tags_and_filters %}
 <div class="panel-body">
     <h3 class="customization-section-title">Calendar settings</h3>
     <form method="POST" action="{% url 'customize' 'calendar' %}" class="form-horizontal">
         {% csrf_token %}
         <div class="form-group">
-            <label class="control-label col-md-3" >Default view</label>
+            <label class="control-label col-md-3">Default view</label>
             <div class="col-md-9">
                 <div class="radio">
-                    <label><input type="radio" id="calendar_view" name="calendar_view" {% if not calendar_view or calendar_view == 'agendaWeek' %}checked{% endif %} value="agendaWeek"> Week view</label>
-                    <label><input type="radio" id="calendar_view" name="calendar_view" {% if calendar_view == 'month' %}checked{% endif %} value="month"> Month view</label>
-                    <label><input type="radio" id="calendar_view" name="calendar_view" {% if calendar_view == 'agendaDay' %}checked{% endif %} value="agendaDay"> Day view</label>
+                    <label>
+                        <input type="radio"
+                               id="calendar_view"
+                               name="calendar_view"
+                               {% if not calendar_view or calendar_view == 'agendaWeek' %}checked{% endif %}
+                               value="agendaWeek">
+                        Week view
+                    </label>
+                    <label>
+                        <input type="radio"
+                               id="calendar_view"
+                               name="calendar_view"
+                               {% if calendar_view == 'month' %}checked{% endif %}
+                               value="month">
+                        Month view
+                    </label>
+                    <label>
+                        <input type="radio"
+                               id="calendar_view"
+                               name="calendar_view"
+                               {% if calendar_view == 'agendaDay' %}checked{% endif %}
+                               value="agendaDay">
+                        Day view
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
-            <label class="control-label col-md-3" >First day of the week</label>
+            <label class="control-label col-md-3">First day of the week</label>
             <div class="col-md-9">
                 <div class="radio">
-                    <label><input type="radio" id="calendar_first_day_of_week" name="calendar_first_day_of_week" {% if not calendar_first_day_of_week or calendar_first_day_of_week == '1' %}checked{% endif %} value="1"> Monday</label>
-                    <label><input type="radio" id="calendar_first_day_of_week" name="calendar_first_day_of_week" {% if calendar_first_day_of_week == '0' %}checked{% endif %} value="0"> Sunday</label>
+                    <label>
+                        <input type="radio"
+                               id="calendar_first_day_of_week"
+                               name="calendar_first_day_of_week"
+                               {% if not calendar_first_day_of_week or calendar_first_day_of_week == '1' %}checked{% endif %}
+                               value="1">
+                        Monday
+                    </label>
+                    <label>
+                        <input type="radio"
+                               id="calendar_first_day_of_week"
+                               name="calendar_first_day_of_week"
+                               {% if calendar_first_day_of_week == '0' %}checked{% endif %}
+                               value="0">
+                        Sunday
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3" for="calendar_start_of_the_day">Start of the day</label>
             <div class="col-md-3">
-                <input type="text" id="calendar_start_of_the_day" name="calendar_start_of_the_day" class="form-control" value="{{ calendar_start_of_the_day }}" placeholder="07:00:00">
-            </div>
-            <div class="col-md-6 help-block light-grey">
-                The time the day starts in the calendar view (24h format).
+                <input type="text"
+                       id="calendar_start_of_the_day"
+                       name="calendar_start_of_the_day"
+                       class="form-control"
+                       value="{{ calendar_start_of_the_day }}"
+                       placeholder="07:00:00">
             </div>
+            <div class="col-md-6 help-block light-grey">The time the day starts in the calendar view (24h format).</div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3" for="calendar_outage_recurrence_limit">Outage recurrence limit</label>
             <div class="col-md-3">
                 <div class="input-group">
-                    <input type="number" id="calendar_outage_recurrence_limit" name="calendar_outage_recurrence_limit" class="form-control" value="{{ calendar_outage_recurrence_limit }}">
+                    <input type="number"
+                           id="calendar_outage_recurrence_limit"
+                           name="calendar_outage_recurrence_limit"
+                           class="form-control"
+                           value="{{ calendar_outage_recurrence_limit }}">
                     <span class="input-group-addon">days</span>
                 </div>
             </div>
             <div class="col-md-6 help-block light-grey">
                 The maximum number of days a recurring scheduled outage can be set in advance.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3">Current time indicator</label>
             <div class="col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="calendar_now_indicator" {% if calendar_now_indicator %}checked{% endif %} value="enabled">Show current time indicator on the calendar</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="calendar_now_indicator"
+                               {% if calendar_now_indicator %}checked{% endif %}
+                               value="enabled">
+                        Show current time indicator on the calendar
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3">Areas</label>
             <div class="col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="calendar_display_not_qualified_areas" {% if calendar_display_not_qualified_areas %}checked{% endif %} value="enabled">Also show areas (for reservations) that the user doesn't have access to (grayed out)</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="calendar_display_not_qualified_areas"
+                               {% if calendar_display_not_qualified_areas %}checked{% endif %}
+                               value="enabled">
+                        Also show areas (for reservations) that the user doesn't have access to (grayed out)
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="form-group">
-            <label class="control-label col-md-3" >Overview options:</label>
+            <label class="control-label col-md-3">Overview options:</label>
             <div class="col-md-9">
                 <div class="checkbox">
-                    <label style="padding-right: 20px;"><input type="checkbox" id="calendar_all_tools" name="calendar_all_tools" {% if calendar_all_tools  %}checked{% endif %} value="enabled"> Enable all tools option</label>
-                    <label style="padding-right: 20px;"><input type="checkbox" id="calendar_all_areas" name="calendar_all_areas" {% if calendar_all_areas %}checked{% endif %} value="enabled"> Enable all areas option</label>
-                    <label style="padding-right: 20px;"><input type="checkbox" id="calendar_all_areastools" name="calendar_all_areastools" {% if calendar_all_areastools %}checked{% endif %} value="enabled"> Enable all tools & areas option</label>
-                    <label style="padding-right: 20px;"><input type="checkbox" id="calendar_qualified_tools" name="calendar_qualified_tools" {% if calendar_qualified_tools %}checked{% endif %} value="enabled"> Show qualified tools button</label>
+                    <label style="padding-right: 20px;">
+                        <input type="checkbox"
+                               id="calendar_all_tools"
+                               name="calendar_all_tools"
+                               {% if calendar_all_tools %}checked{% endif %}
+                               value="enabled">
+                        Enable all tools option
+                    </label>
+                    <label style="padding-right: 20px;">
+                        <input type="checkbox"
+                               id="calendar_all_areas"
+                               name="calendar_all_areas"
+                               {% if calendar_all_areas %}checked{% endif %}
+                               value="enabled">
+                        Enable all areas option
+                    </label>
+                    <label style="padding-right: 20px;">
+                        <input type="checkbox"
+                               id="calendar_all_areastools"
+                               name="calendar_all_areastools"
+                               {% if calendar_all_areastools %}checked{% endif %}
+                               value="enabled">
+                        Enable all tools & areas option
+                    </label>
+                    <label style="padding-right: 20px;">
+                        <input type="checkbox"
+                               id="calendar_qualified_tools"
+                               name="calendar_qualified_tools"
+                               {% if calendar_qualified_tools %}checked{% endif %}
+                               value="enabled">
+                        Show qualified tools button
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3">Configuration settings</label>
             <div class="col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="calendar_configuration_in_reservations" {% if calendar_configuration_in_reservations %}checked{% endif %} value="enabled">Show configuration settings and colors in the reservation calendar</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="calendar_configuration_in_reservations"
+                               {% if calendar_configuration_in_reservations %}checked{% endif %}
+                               value="enabled">
+                        Show configuration settings and colors in the reservation calendar
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
         <h3 class="customization-section-title">Calendar format</h3>
         <div class="form-group">
             <div class="col-md-12" style="margin-top: 15px">
                 The following settings allow to customize the date format in the different calendar views. See <a href="https://fullcalendar.io/docs/v1/formatDate" target="_blank">FullCalendar documentation</a> for more information on the syntax.
             </div>
         </div>
         <div class="form-group">
-            <label class="control-label col-md-3" for="calendar_time_format">Time format</label>
+            <label class="control-label col-md-3" for="calendar_axis_time_format">Axis time format</label>
             <div class="col-md-3">
-                <input type="text" id="calendar_time_format" name="calendar_time_format" class="form-control" value="{{ calendar_time_format }}"  placeholder="ha">
+                <input type="text"
+                       id="calendar_axis_time_format"
+                       name="calendar_axis_time_format"
+                       class="form-control"
+                       value="{{ calendar_axis_time_format }}"
+                       placeholder="ha">
             </div>
             <div class="col-md-6 help-block light-grey">
-                The time format for the calendar.
+                The time format for the calendar axis labels  (only applies to day and week view).
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3" for="calendar_day_column_format">Day column format</label>
             <div class="col-md-3">
-                <input type="text" id="calendar_day_column_format" name="calendar_day_column_format" class="form-control" value="{{ calendar_day_column_format }}"  placeholder="dddd MM/DD/YYYY">
+                <input type="text"
+                       id="calendar_day_column_format"
+                       name="calendar_day_column_format"
+                       class="form-control"
+                       value="{{ calendar_day_column_format }}"
+                       placeholder="dddd MM/DD/YYYY">
             </div>
-            <div class="col-md-6 help-block light-grey">
-                The column date format for the day view.
+            <div class="col-md-6 help-block light-grey">The column date format for the day view.</div>
+        </div>
+        <div class="form-group">
+            <label class="control-label col-md-3" for="calendar_day_time_format">Day time format</label>
+            <div class="col-md-3">
+                <input type="text"
+                       id="calendar_day_time_format"
+                       name="calendar_day_time_format"
+                       class="form-control"
+                       value="{{ calendar_day_time_format }}"
+                       placeholder="h:mm">
             </div>
+            <div class="col-md-6 help-block light-grey">The reservation time format for the day view.</div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3" for="calendar_week_column_format">Week column format</label>
             <div class="col-md-3">
-                <input type="text" id="calendar_week_column_format" name="calendar_week_column_format" class="form-control" value="{{ calendar_week_column_format }}"  placeholder="ddd M/DD">
+                <input type="text"
+                       id="calendar_week_column_format"
+                       name="calendar_week_column_format"
+                       class="form-control"
+                       value="{{ calendar_week_column_format }}"
+                       placeholder="ddd M/DD">
             </div>
-            <div class="col-md-6 help-block light-grey">
-                The column date format for the week view.
+            <div class="col-md-6 help-block light-grey">The column date format for the week view.</div>
+        </div>
+        <div class="form-group">
+            <label class="control-label col-md-3" for="calendar_week_time_format">Week time format</label>
+            <div class="col-md-3">
+                <input type="text"
+                       id="calendar_week_time_format"
+                       name="calendar_week_time_format"
+                       class="form-control"
+                       value="{{ calendar_week_time_format }}"
+                       placeholder="h:mm">
             </div>
+            <div class="col-md-6 help-block light-grey">The reservation time format for the week view.</div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3" for="calendar_month_column_format">Month column format</label>
             <div class="col-md-3">
-                <input type="text" id="calendar_month_column_format" name="calendar_month_column_format" class="form-control" value="{{ calendar_month_column_format }}"  placeholder="ddd">
+                <input type="text"
+                       id="calendar_month_column_format"
+                       name="calendar_month_column_format"
+                       class="form-control"
+                       value="{{ calendar_month_column_format }}"
+                       placeholder="ddd">
             </div>
-            <div class="col-md-6 help-block light-grey">
-                The column date format for the month view.
+            <div class="col-md-6 help-block light-grey">The column date format for the month view.</div>
+        </div>
+        <div class="form-group">
+            <label class="control-label col-md-3" for="calendar_month_time_format">Month time format</label>
+            <div class="col-md-3">
+                <input type="text"
+                       id="calendar_month_time_format"
+                       name="calendar_month_time_format"
+                       class="form-control"
+                       value="{{ calendar_month_time_format }}"
+                       placeholder="h(:mm)t">
             </div>
+            <div class="col-md-6 help-block light-grey">The reservation time format for the month view.</div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
         <h3 class="customization-section-title">Reservation confirmations</h3>
         <div class="form-group">
             <label class="control-label col-md-3">Create</label>
             <div class="col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="create_reservation_confirmation" {% if create_reservation_confirmation %}checked{% endif %} value="enabled">Require users to confirm by clicking 'Ok' when creating a reservation (this setting can be overwritten by users).</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="create_reservation_confirmation"
+                               {% if create_reservation_confirmation %}checked{% endif %}
+                               value="enabled">
+                        Require users to confirm by clicking 'Ok' when creating a reservation (this setting can be overwritten by users).
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3">Move/Resize</label>
             <div class="col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="change_reservation_confirmation" {% if change_reservation_confirmation %}checked{% endif %} value="enabled">Require users to confirm by clicking 'Ok' when moving/resizing a reservation (this setting can be overwritten by users).</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="change_reservation_confirmation"
+                               {% if change_reservation_confirmation %}checked{% endif %}
+                               value="enabled">
+                        Require users to confirm by clicking 'Ok' when moving/resizing a reservation (this setting can be overwritten by users).
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="form-group">
             <div class="col-md-12" style="margin-top: 15px">
                 The following settings allow to customize the date and time formats displayed on confirmations when <i>creating</i> a reservation.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3" for="reservation_confirmation_date_format">Date format</label>
             <div class="col-md-3">
-                <input type="text" id="reservation_confirmation_date_format" name="reservation_confirmation_date_format" class="form-control" value="{{ reservation_confirmation_date_format }}"  placeholder="MMMM D, yyyy">
-            </div>
-            <div class="col-md-6 help-block light-grey">
-                The date format (not including time).
+                <input type="text"
+                       id="reservation_confirmation_date_format"
+                       name="reservation_confirmation_date_format"
+                       class="form-control"
+                       value="{{ reservation_confirmation_date_format }}"
+                       placeholder="MMMM D, yyyy">
             </div>
+            <div class="col-md-6 help-block light-grey">The date format (not including time).</div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-3" for="reservation_confirmation_time_format">Time format</label>
             <div class="col-md-3">
-                <input type="text" id="reservation_confirmation_time_format" name="reservation_confirmation_time_format" class="form-control" value="{{ reservation_confirmation_time_format }}"  placeholder="h:mma">
-            </div>
-            <div class="col-md-6 help-block light-grey">
-                The time format.
+                <input type="text"
+                       id="reservation_confirmation_time_format"
+                       name="reservation_confirmation_time_format"
+                       class="form-control"
+                       value="{{ reservation_confirmation_time_format }}"
+                       placeholder="h:mma">
             </div>
+            <div class="col-md-6 help-block light-grey">The time format.</div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
-</div>
+</div>
```

## NEMO/templates/customizations/customizations_dashboard.html

```diff
@@ -35,471 +35,711 @@
 00000220: 6173 3c2f 6c61 6265 6c3e 0a20 2020 2020  as</label>.     
 00000230: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
 00000240: 733d 2263 6f6c 2d6d 642d 3922 3e0a 2020  s="col-md-9">.  
 00000250: 2020 2020 2020 2020 2020 2020 2020 3c64                <d
 00000260: 6976 2063 6c61 7373 3d22 6368 6563 6b62  iv class="checkb
 00000270: 6f78 223e 0a20 2020 2020 2020 2020 2020  ox">.           
 00000280: 2020 2020 2020 2020 203c 6c61 6265 6c3e           <label>
-00000290: 3c69 6e70 7574 2074 7970 653d 2263 6865  <input type="che
-000002a0: 636b 626f 7822 206e 616d 653d 2264 6173  ckbox" name="das
-000002b0: 6862 6f61 7264 5f64 6973 706c 6179 5f6e  hboard_display_n
-000002c0: 6f74 5f71 7561 6c69 6669 6564 5f61 7265  ot_qualified_are
-000002d0: 6173 2220 7b25 2069 6620 6461 7368 626f  as" {% if dashbo
-000002e0: 6172 645f 6469 7370 6c61 795f 6e6f 745f  ard_display_not_
-000002f0: 7175 616c 6966 6965 645f 6172 6561 7320  qualified_areas 
-00000300: 257d 6368 6563 6b65 647b 2520 656e 6469  %}checked{% endi
-00000310: 6620 257d 2076 616c 7565 3d22 656e 6162  f %} value="enab
-00000320: 6c65 6422 3e53 686f 7720 6172 6561 7320  led">Show areas 
-00000330: 7468 6520 7573 6572 2064 6f65 736e 2774  the user doesn't
-00000340: 2068 6176 6520 6163 6365 7373 2074 6f3c   have access to<
-00000350: 2f6c 6162 656c 3e3c 6272 2f3e 0a20 2020  /label><br/>.   
-00000360: 2020 2020 2020 2020 2020 2020 203c 2f64               </d
-00000370: 6976 3e0a 2020 2020 2020 2020 2020 2020  iv>.            
-00000380: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
-00000390: 2f64 6976 3e0a 2020 2020 2020 2020 3c64  /div>.        <d
-000003a0: 6976 2063 6c61 7373 3d22 666f 726d 2d67  iv class="form-g
-000003b0: 726f 7570 223e 0a20 2020 2020 2020 2020  roup">.         
-000003c0: 2020 203c 6c61 6265 6c20 636c 6173 733d     <label class=
-000003d0: 2263 6f6e 7472 6f6c 2d6c 6162 656c 2063  "control-label c
-000003e0: 6f6c 2d6d 642d 3322 3e50 726f 6a65 6374  ol-md-3">Project
-000003f0: 733c 2f6c 6162 656c 3e0a 2020 2020 2020  s</label>.      
-00000400: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
-00000410: 3d22 636f 6c2d 6d64 2d39 223e 0a20 2020  ="col-md-9">.   
-00000420: 2020 2020 2020 2020 2020 2020 203c 6469               <di
-00000430: 7620 636c 6173 733d 2263 6865 636b 626f  v class="checkbo
-00000440: 7822 3e0a 2020 2020 2020 2020 2020 2020  x">.            
-00000450: 2020 2020 2020 2020 3c6c 6162 656c 3e3c          <label><
-00000460: 696e 7075 7420 7479 7065 3d22 6368 6563  input type="chec
-00000470: 6b62 6f78 2220 6e61 6d65 3d22 6461 7368  kbox" name="dash
-00000480: 626f 6172 645f 6869 6465 5f70 726f 6a65  board_hide_proje
-00000490: 6374 2220 7b25 2069 6620 6461 7368 626f  ct" {% if dashbo
-000004a0: 6172 645f 6869 6465 5f70 726f 6a65 6374  ard_hide_project
-000004b0: 2025 7d63 6865 636b 6564 7b25 2065 6e64   %}checked{% end
-000004c0: 6966 2025 7d20 7661 6c75 653d 2265 6e61  if %} value="ena
-000004d0: 626c 6564 223e 4869 6465 2070 726f 6a65  bled">Hide proje
-000004e0: 6374 7320 7468 6520 7573 6572 7320 6172  cts the users ar
-000004f0: 6520 776f 726b 696e 6720 6f6e 2069 6e20  e working on in 
-00000500: 6f63 6375 7061 6e63 793c 2f6c 6162 656c  occupancy</label
-00000510: 3e3c 6272 2f3e 0a20 2020 2020 2020 2020  ><br/>.         
-00000520: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
-00000530: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
-00000540: 0a20 2020 2020 2020 203c 2f64 6976 3e0a  .        </div>.
-00000550: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00000560: 7373 3d22 666f 726d 2d67 726f 7570 2220  ss="form-group" 
-00000570: 7374 796c 653d 226d 6172 6769 6e2d 626f  style="margin-bo
-00000580: 7474 6f6d 3a20 303b 2062 6f72 6465 722d  ttom: 0; border-
-00000590: 746f 703a 2064 6f74 7465 6420 3170 7820  top: dotted 1px 
-000005a0: 2364 6464 223e 0a20 2020 2020 2020 2020  #ddd">.         
-000005b0: 2020 203c 6469 7620 636c 6173 733d 2263     <div class="c
-000005c0: 6f6c 2d6d 642d 3522 3e0a 2020 2020 2020  ol-md-5">.      
-000005d0: 2020 2020 2020 2020 2020 3c68 353e 5374            <h5>St
-000005e0: 6166 6620 7374 6174 7573 3c2f 6835 3e0a  aff status</h5>.
-000005f0: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
-00000600: 763e 0a20 2020 2020 2020 203c 2f64 6976  v>.        </div
-00000610: 3e0a 2020 2020 2020 2020 3c64 6976 2063  >.        <div c
-00000620: 6c61 7373 3d22 666f 726d 2d67 726f 7570  lass="form-group
-00000630: 223e 0a20 2020 2020 2020 2020 2020 203c  ">.            <
-00000640: 6c61 6265 6c20 636c 6173 733d 2263 6f6e  label class="con
-00000650: 7472 6f6c 2d6c 6162 656c 2063 6f6c 2d6d  trol-label col-m
-00000660: 642d 3322 3e44 6973 706c 6179 3c2f 6c61  d-3">Display</la
-00000670: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
-00000680: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
-00000690: 2d6d 642d 3922 3e0a 2020 2020 2020 2020  -md-9">.        
-000006a0: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-000006b0: 7373 3d22 6368 6563 6b62 6f78 223e 0a20  ss="checkbox">. 
-000006c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000006d0: 2020 203c 6c61 6265 6c3e 3c69 6e70 7574     <label><input
-000006e0: 2074 7970 653d 2263 6865 636b 626f 7822   type="checkbox"
-000006f0: 206e 616d 653d 2264 6173 6862 6f61 7264   name="dashboard
-00000700: 5f73 7461 6666 5f73 7461 7475 735f 7374  _staff_status_st
-00000710: 6166 665f 6f6e 6c79 2220 7b25 2069 6620  aff_only" {% if 
-00000720: 6461 7368 626f 6172 645f 7374 6166 665f  dashboard_staff_
-00000730: 7374 6174 7573 5f73 7461 6666 5f6f 6e6c  status_staff_onl
-00000740: 7920 257d 6368 6563 6b65 647b 2520 656e  y %}checked{% en
-00000750: 6469 6620 257d 2076 616c 7565 3d22 656e  dif %} value="en
-00000760: 6162 6c65 6422 3e4f 6e6c 7920 7368 6f77  abled">Only show
-00000770: 2073 7461 6666 2073 7461 7475 7320 746f   staff status to
-00000780: 2073 7461 6666 206d 656d 6265 7273 3c2f   staff members</
-00000790: 6c61 6265 6c3e 3c62 722f 3e0a 2020 2020  label><br/>.    
-000007a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007b0: 3c6c 6162 656c 3e3c 696e 7075 7420 7479  <label><input ty
-000007c0: 7065 3d22 6368 6563 6b62 6f78 2220 6e61  pe="checkbox" na
-000007d0: 6d65 3d22 6461 7368 626f 6172 645f 7374  me="dashboard_st
-000007e0: 6166 665f 7374 6174 7573 5f77 6565 6b64  aff_status_weekd
-000007f0: 6179 735f 6f6e 6c79 2220 7b25 2069 6620  ays_only" {% if 
-00000800: 6461 7368 626f 6172 645f 7374 6166 665f  dashboard_staff_
-00000810: 7374 6174 7573 5f77 6565 6b64 6179 735f  status_weekdays_
-00000820: 6f6e 6c79 2025 7d63 6865 636b 6564 7b25  only %}checked{%
-00000830: 2065 6e64 6966 2025 7d20 7661 6c75 653d   endif %} value=
-00000840: 2265 6e61 626c 6564 223e 4f6e 6c79 2073  "enabled">Only s
-00000850: 686f 7720 7765 656b 6461 7973 2028 6e6f  how weekdays (no
-00000860: 2077 6565 6b65 6e64 2920 2d20 6f6e 6c79   weekend) - only
-00000870: 2061 7070 6c69 6573 2074 6f20 7765 656b   applies to week
-00000880: 2076 6965 773c 2f6c 6162 656c 3e3c 6272   view</label><br
-00000890: 2f3e 0a20 2020 2020 2020 2020 2020 2020  />.             
-000008a0: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
-000008b0: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
-000008c0: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
-000008d0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-000008e0: 666f 726d 2d67 726f 7570 223e 0a20 2020  form-group">.   
-000008f0: 2020 2020 2020 2020 203c 6c61 6265 6c20           <label 
-00000900: 636c 6173 733d 2263 6f6e 7472 6f6c 2d6c  class="control-l
-00000910: 6162 656c 2063 6f6c 2d6d 642d 3322 3e46  abel col-md-3">F
-00000920: 6972 7374 2064 6179 206f 6620 7468 6520  irst day of the 
-00000930: 7765 656b 3c2f 6c61 6265 6c3e 0a20 2020  week</label>.   
-00000940: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
-00000950: 6173 733d 2263 6f6c 2d6d 642d 3922 3e0a  ass="col-md-9">.
-00000960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000970: 3c64 6976 2063 6c61 7373 3d22 7261 6469  <div class="radi
-00000980: 6f22 3e0a 2020 2020 2020 2020 2020 2020  o">.            
-00000990: 2020 2020 2020 2020 3c6c 6162 656c 3e3c          <label><
-000009a0: 696e 7075 7420 7479 7065 3d22 7261 6469  input type="radi
-000009b0: 6f22 206e 616d 653d 2264 6173 6862 6f61  o" name="dashboa
-000009c0: 7264 5f73 7461 6666 5f73 7461 7475 735f  rd_staff_status_
-000009d0: 6669 7273 745f 6461 795f 6f66 5f77 6565  first_day_of_wee
-000009e0: 6b22 207b 2520 6966 206e 6f74 2064 6173  k" {% if not das
-000009f0: 6862 6f61 7264 5f73 7461 6666 5f73 7461  hboard_staff_sta
-00000a00: 7475 735f 6669 7273 745f 6461 795f 6f66  tus_first_day_of
-00000a10: 5f77 6565 6b20 6f72 2064 6173 6862 6f61  _week or dashboa
-00000a20: 7264 5f73 7461 6666 5f73 7461 7475 735f  rd_staff_status_
-00000a30: 6669 7273 745f 6461 795f 6f66 5f77 6565  first_day_of_wee
-00000a40: 6b20 3d3d 2027 3127 2025 7d63 6865 636b  k == '1' %}check
-00000a50: 6564 7b25 2065 6e64 6966 2025 7d20 7661  ed{% endif %} va
-00000a60: 6c75 653d 2231 223e 204d 6f6e 6461 793c  lue="1"> Monday<
-00000a70: 2f6c 6162 656c 3e0a 2020 2020 2020 2020  /label>.        
-00000a80: 2020 2020 2020 2020 2020 2020 3c6c 6162              <lab
-00000a90: 656c 3e3c 696e 7075 7420 7479 7065 3d22  el><input type="
-00000aa0: 7261 6469 6f22 206e 616d 653d 2264 6173  radio" name="das
-00000ab0: 6862 6f61 7264 5f73 7461 6666 5f73 7461  hboard_staff_sta
-00000ac0: 7475 735f 6669 7273 745f 6461 795f 6f66  tus_first_day_of
-00000ad0: 5f77 6565 6b22 207b 2520 6966 2064 6173  _week" {% if das
-00000ae0: 6862 6f61 7264 5f73 7461 6666 5f73 7461  hboard_staff_sta
-00000af0: 7475 735f 6669 7273 745f 6461 795f 6f66  tus_first_day_of
-00000b00: 5f77 6565 6b20 3d3d 2027 3027 2025 7d63  _week == '0' %}c
-00000b10: 6865 636b 6564 7b25 2065 6e64 6966 2025  hecked{% endif %
-00000b20: 7d20 7661 6c75 653d 2230 223e 2053 756e  } value="0"> Sun
-00000b30: 6461 793c 2f6c 6162 656c 3e0a 2020 2020  day</label>.    
-00000b40: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
-00000b50: 763e 0a20 2020 2020 2020 2020 2020 203c  v>.            <
-00000b60: 2f64 6976 3e0a 2020 2020 2020 2020 3c2f  /div>.        </
-00000b70: 6469 763e 0a20 2020 2020 2020 203c 6469  div>.        <di
-00000b80: 7620 636c 6173 733d 2266 6f72 6d2d 6772  v class="form-gr
-00000b90: 6f75 7022 3e0a 2020 2020 2020 2020 2020  oup">.          
-00000ba0: 2020 3c6c 6162 656c 2063 6c61 7373 3d22    <label class="
-00000bb0: 636f 6e74 726f 6c2d 6c61 6265 6c20 636f  control-label co
-00000bc0: 6c2d 6d64 2d33 2220 666f 723d 2264 6173  l-md-3" for="das
-00000bd0: 6862 6f61 7264 5f73 7461 6666 5f73 7461  hboard_staff_sta
-00000be0: 7475 735f 6461 7465 5f66 6f72 6d61 7422  tus_date_format"
-00000bf0: 3e44 6174 6520 666f 726d 6174 3c2f 6c61  >Date format</la
-00000c00: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
-00000c10: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
-00000c20: 2d6d 642d 3322 3e0a 2020 2020 2020 2020  -md-3">.        
-00000c30: 2020 2020 2020 2020 3c69 6e70 7574 2074          <input t
-00000c40: 7970 653d 2274 6578 7422 2069 643d 2264  ype="text" id="d
-00000c50: 6173 6862 6f61 7264 5f73 7461 6666 5f73  ashboard_staff_s
-00000c60: 7461 7475 735f 6461 7465 5f66 6f72 6d61  tatus_date_forma
-00000c70: 7422 206e 616d 653d 2264 6173 6862 6f61  t" name="dashboa
-00000c80: 7264 5f73 7461 6666 5f73 7461 7475 735f  rd_staff_status_
-00000c90: 6461 7465 5f66 6f72 6d61 7422 2063 6c61  date_format" cla
-00000ca0: 7373 3d22 666f 726d 2d63 6f6e 7472 6f6c  ss="form-control
-00000cb0: 2220 7661 6c75 653d 227b 7b20 6461 7368  " value="{{ dash
-00000cc0: 626f 6172 645f 7374 6166 665f 7374 6174  board_staff_stat
-00000cd0: 7573 5f64 6174 655f 666f 726d 6174 207d  us_date_format }
-00000ce0: 7d22 3e0a 2020 2020 2020 2020 2020 2020  }">.            
-00000cf0: 3c2f 6469 763e 0a20 2020 2020 2020 2020  </div>.         
-00000d00: 2020 203c 6469 7620 636c 6173 733d 2263     <div class="c
-00000d10: 6f6c 2d6d 642d 3620 6865 6c70 2d62 6c6f  ol-md-6 help-blo
-00000d20: 636b 206c 6967 6874 2d67 7265 7922 3e0a  ck light-grey">.
-00000d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000d40: 5468 6520 6461 7465 2066 6f72 6d61 7420  The date format 
-00000d50: 746f 2075 7365 2069 6e20 7468 6520 7374  to use in the st
-00000d60: 6174 7573 2064 6173 6862 6f61 7264 2073  atus dashboard s
-00000d70: 7461 6666 2074 6162 2e20 5365 6520 3c61  taff tab. See <a
-00000d80: 2068 7265 663d 2268 7474 7073 3a2f 2f64   href="https://d
-00000d90: 6f63 732e 646a 616e 676f 7072 6f6a 6563  ocs.djangoprojec
-00000da0: 742e 636f 6d2f 656e 2f32 2e32 2f72 6566  t.com/en/2.2/ref
-00000db0: 2f74 656d 706c 6174 6573 2f62 7569 6c74  /templates/built
-00000dc0: 696e 732f 2364 6174 6522 2074 6172 6765  ins/#date" targe
-00000dd0: 743d 225f 626c 616e 6b22 3e44 6a61 6e67  t="_blank">Djang
-00000de0: 6f20 6461 7465 2066 6f72 6d61 7473 3c2f  o date formats</
-00000df0: 613e 2066 6f72 2064 6574 6169 6c73 2e0a  a> for details..
-00000e00: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
-00000e10: 763e 0a20 2020 2020 2020 203c 2f64 6976  v>.        </div
-00000e20: 3e0a 2020 2020 2020 2020 3c64 6976 2063  >.        <div c
-00000e30: 6c61 7373 3d22 666f 726d 2d67 726f 7570  lass="form-group
-00000e40: 223e 0a20 2020 2020 2020 2020 2020 203c  ">.            <
-00000e50: 6c61 6265 6c20 636c 6173 733d 2263 6f6e  label class="con
-00000e60: 7472 6f6c 2d6c 6162 656c 2063 6f6c 2d6d  trol-label col-m
-00000e70: 642d 3322 3e43 6865 636b 2070 6173 7420  d-3">Check past 
-00000e80: 6176 6169 6c61 6269 6c69 7479 3c2f 6c61  availability</la
-00000e90: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
-00000ea0: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
-00000eb0: 2d6d 642d 3922 3e0a 2020 2020 2020 2020  -md-9">.        
-00000ec0: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00000ed0: 7373 3d22 7261 6469 6f22 3e0a 2020 2020  ss="radio">.    
-00000ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ef0: 3c6c 6162 656c 3e3c 696e 7075 7420 7479  <label><input ty
-00000f00: 7065 3d22 7261 6469 6f22 206e 616d 653d  pe="radio" name=
-00000f10: 2264 6173 6862 6f61 7264 5f73 7461 6666  "dashboard_staff
-00000f20: 5f73 7461 7475 735f 6368 6563 6b5f 7061  _status_check_pa
-00000f30: 7374 5f73 7461 7475 7322 207b 2520 6966  st_status" {% if
-00000f40: 206e 6f74 2064 6173 6862 6f61 7264 5f73   not dashboard_s
-00000f50: 7461 6666 5f73 7461 7475 735f 6368 6563  taff_status_chec
-00000f60: 6b5f 7061 7374 5f73 7461 7475 7320 257d  k_past_status %}
-00000f70: 6368 6563 6b65 647b 2520 656e 6469 6620  checked{% endif 
-00000f80: 257d 2076 616c 7565 3d22 223e 2045 7665  %} value=""> Eve
-00000f90: 7279 6f6e 653c 2f6c 6162 656c 3e0a 2020  ryone</label>.  
-00000fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000fb0: 2020 3c6c 6162 656c 3e3c 696e 7075 7420    <label><input 
-00000fc0: 7479 7065 3d22 7261 6469 6f22 206e 616d  type="radio" nam
-00000fd0: 653d 2264 6173 6862 6f61 7264 5f73 7461  e="dashboard_sta
-00000fe0: 6666 5f73 7461 7475 735f 6368 6563 6b5f  ff_status_check_
-00000ff0: 7061 7374 5f73 7461 7475 7322 207b 2520  past_status" {% 
-00001000: 6966 2064 6173 6862 6f61 7264 5f73 7461  if dashboard_sta
-00001010: 6666 5f73 7461 7475 735f 6368 6563 6b5f  ff_status_check_
-00001020: 7061 7374 5f73 7461 7475 7320 3d3d 2027  past_status == '
-00001030: 7374 6166 6673 2720 257d 6368 6563 6b65  staffs' %}checke
-00001040: 647b 2520 656e 6469 6620 257d 2076 616c  d{% endif %} val
-00001050: 7565 3d22 7374 6166 6673 223e 2053 7461  ue="staffs"> Sta
-00001060: 6666 206f 6e6c 793c 2f6c 6162 656c 3e0a  ff only</label>.
-00001070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001080: 2020 2020 3c6c 6162 656c 3e3c 696e 7075      <label><inpu
-00001090: 7420 7479 7065 3d22 7261 6469 6f22 206e  t type="radio" n
-000010a0: 616d 653d 2264 6173 6862 6f61 7264 5f73  ame="dashboard_s
-000010b0: 7461 6666 5f73 7461 7475 735f 6368 6563  taff_status_chec
-000010c0: 6b5f 7061 7374 5f73 7461 7475 7322 207b  k_past_status" {
-000010d0: 2520 6966 2064 6173 6862 6f61 7264 5f73  % if dashboard_s
-000010e0: 7461 6666 5f73 7461 7475 735f 6368 6563  taff_status_chec
-000010f0: 6b5f 7061 7374 5f73 7461 7475 7320 3d3d  k_past_status ==
-00001100: 2027 6d61 6e61 6765 7273 2720 257d 6368   'managers' %}ch
-00001110: 6563 6b65 647b 2520 656e 6469 6620 257d  ecked{% endif %}
-00001120: 2076 616c 7565 3d22 6d61 6e61 6765 7273   value="managers
-00001130: 223e 204d 616e 6167 6572 7320 6f6e 6c79  "> Managers only
-00001140: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
-00001150: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
-00001160: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
-00001170: 763e 0a20 2020 2020 2020 203c 2f64 6976  v>.        </div
-00001180: 3e0a 2020 2020 2020 2020 3c64 6976 2063  >.        <div c
-00001190: 6c61 7373 3d22 666f 726d 2d67 726f 7570  lass="form-group
-000011a0: 223e 0a20 2020 2020 2020 2020 2020 203c  ">.            <
-000011b0: 6c61 6265 6c20 636c 6173 733d 2263 6f6e  label class="con
-000011c0: 7472 6f6c 2d6c 6162 656c 2063 6f6c 2d6d  trol-label col-m
-000011d0: 642d 3322 3e43 6865 636b 2066 7574 7572  d-3">Check futur
-000011e0: 6520 6176 6169 6c61 6269 6c69 7479 3c2f  e availability</
-000011f0: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
-00001200: 2020 203c 6469 7620 636c 6173 733d 2263     <div class="c
-00001210: 6f6c 2d6d 642d 3922 3e0a 2020 2020 2020  ol-md-9">.      
-00001220: 2020 2020 2020 2020 2020 3c64 6976 2063            <div c
-00001230: 6c61 7373 3d22 7261 6469 6f22 3e0a 2020  lass="radio">.  
-00001240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001250: 2020 3c6c 6162 656c 3e3c 696e 7075 7420    <label><input 
-00001260: 7479 7065 3d22 7261 6469 6f22 206e 616d  type="radio" nam
-00001270: 653d 2264 6173 6862 6f61 7264 5f73 7461  e="dashboard_sta
-00001280: 6666 5f73 7461 7475 735f 6368 6563 6b5f  ff_status_check_
-00001290: 6675 7475 7265 5f73 7461 7475 7322 207b  future_status" {
-000012a0: 2520 6966 206e 6f74 2064 6173 6862 6f61  % if not dashboa
-000012b0: 7264 5f73 7461 6666 5f73 7461 7475 735f  rd_staff_status_
-000012c0: 6368 6563 6b5f 6675 7475 7265 5f73 7461  check_future_sta
-000012d0: 7475 7320 257d 6368 6563 6b65 647b 2520  tus %}checked{% 
-000012e0: 656e 6469 6620 257d 2076 616c 7565 3d22  endif %} value="
-000012f0: 223e 2045 7665 7279 6f6e 653c 2f6c 6162  "> Everyone</lab
-00001300: 656c 3e0a 2020 2020 2020 2020 2020 2020  el>.            
-00001310: 2020 2020 2020 2020 3c6c 6162 656c 3e3c          <label><
-00001320: 696e 7075 7420 7479 7065 3d22 7261 6469  input type="radi
-00001330: 6f22 206e 616d 653d 2264 6173 6862 6f61  o" name="dashboa
-00001340: 7264 5f73 7461 6666 5f73 7461 7475 735f  rd_staff_status_
-00001350: 6368 6563 6b5f 6675 7475 7265 5f73 7461  check_future_sta
-00001360: 7475 7322 207b 2520 6966 2064 6173 6862  tus" {% if dashb
-00001370: 6f61 7264 5f73 7461 6666 5f73 7461 7475  oard_staff_statu
-00001380: 735f 6368 6563 6b5f 6675 7475 7265 5f73  s_check_future_s
-00001390: 7461 7475 7320 3d3d 2027 7374 6166 6673  tatus == 'staffs
-000013a0: 2720 257d 6368 6563 6b65 647b 2520 656e  ' %}checked{% en
-000013b0: 6469 6620 257d 2076 616c 7565 3d22 7374  dif %} value="st
-000013c0: 6166 6673 223e 2053 7461 6666 206f 6e6c  affs"> Staff onl
-000013d0: 793c 2f6c 6162 656c 3e0a 2020 2020 2020  y</label>.      
-000013e0: 2020 2020 2020 2020 2020 2020 2020 3c6c                <l
-000013f0: 6162 656c 3e3c 696e 7075 7420 7479 7065  abel><input type
-00001400: 3d22 7261 6469 6f22 206e 616d 653d 2264  ="radio" name="d
-00001410: 6173 6862 6f61 7264 5f73 7461 6666 5f73  ashboard_staff_s
-00001420: 7461 7475 735f 6368 6563 6b5f 6675 7475  tatus_check_futu
-00001430: 7265 5f73 7461 7475 7322 207b 2520 6966  re_status" {% if
-00001440: 2064 6173 6862 6f61 7264 5f73 7461 6666   dashboard_staff
-00001450: 5f73 7461 7475 735f 6368 6563 6b5f 6675  _status_check_fu
-00001460: 7475 7265 5f73 7461 7475 7320 3d3d 2027  ture_status == '
-00001470: 6d61 6e61 6765 7273 2720 257d 6368 6563  managers' %}chec
-00001480: 6b65 647b 2520 656e 6469 6620 257d 2076  ked{% endif %} v
-00001490: 616c 7565 3d22 6d61 6e61 6765 7273 223e  alue="managers">
-000014a0: 204d 616e 6167 6572 7320 6f6e 6c79 3c2f   Managers only</
-000014b0: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
-000014c0: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
-000014d0: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
-000014e0: 0a20 2020 2020 2020 203c 2f64 6976 3e0a  .        </div>.
-000014f0: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00001500: 7373 3d22 666f 726d 2d67 726f 7570 223e  ss="form-group">
-00001510: 0a20 2020 2020 2020 2020 2020 203c 6c61  .            <la
-00001520: 6265 6c20 636c 6173 733d 2263 6f6e 7472  bel class="contr
-00001530: 6f6c 2d6c 6162 656c 2063 6f6c 2d6d 642d  ol-label col-md-
-00001540: 3322 3e55 7365 7220 7669 6577 206f 7074  3">User view opt
-00001550: 696f 6e73 3c2f 6c61 6265 6c3e 0a20 2020  ions</label>.   
-00001560: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
-00001570: 6173 733d 2263 6f6c 2d6d 642d 3922 3e0a  ass="col-md-9">.
-00001580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001590: 3c64 6976 2063 6c61 7373 3d22 7261 6469  <div class="radi
-000015a0: 6f22 3e0a 2020 2020 2020 2020 2020 2020  o">.            
-000015b0: 2020 2020 2020 2020 3c6c 6162 656c 3e3c          <label><
-000015c0: 696e 7075 7420 7479 7065 3d22 7261 6469  input type="radi
-000015d0: 6f22 206e 616d 653d 2264 6173 6862 6f61  o" name="dashboa
-000015e0: 7264 5f73 7461 6666 5f73 7461 7475 735f  rd_staff_status_
-000015f0: 7573 6572 5f76 6965 7722 207b 2520 6966  user_view" {% if
-00001600: 206e 6f74 2064 6173 6862 6f61 7264 5f73   not dashboard_s
-00001610: 7461 6666 5f73 7461 7475 735f 7573 6572  taff_status_user
-00001620: 5f76 6965 7720 257d 6368 6563 6b65 647b  _view %}checked{
-00001630: 2520 656e 6469 6620 257d 2076 616c 7565  % endif %} value
-00001640: 3d22 223e 2044 6179 2f57 6565 6b2f 4d6f  =""> Day/Week/Mo
-00001650: 6e74 683c 2f6c 6162 656c 3e0a 2020 2020  nth</label>.    
+00000290: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000002a0: 2020 2020 2020 2020 203c 696e 7075 7420           <input 
+000002b0: 7479 7065 3d22 6368 6563 6b62 6f78 220a  type="checkbox".
+000002c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000002d0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+000002e0: 616d 653d 2264 6173 6862 6f61 7264 5f64  ame="dashboard_d
+000002f0: 6973 706c 6179 5f6e 6f74 5f71 7561 6c69  isplay_not_quali
+00000300: 6669 6564 5f61 7265 6173 220a 2020 2020  fied_areas".    
+00000310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000320: 2020 2020 2020 2020 2020 207b 2520 6966             {% if
+00000330: 2064 6173 6862 6f61 7264 5f64 6973 706c   dashboard_displ
+00000340: 6179 5f6e 6f74 5f71 7561 6c69 6669 6564  ay_not_qualified
+00000350: 5f61 7265 6173 2025 7d63 6865 636b 6564  _areas %}checked
+00000360: 7b25 2065 6e64 6966 2025 7d0a 2020 2020  {% endif %}.    
+00000370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000380: 2020 2020 2020 2020 2020 2076 616c 7565             value
+00000390: 3d22 656e 6162 6c65 6422 3e0a 2020 2020  ="enabled">.    
+000003a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000003b0: 2020 2020 5368 6f77 2061 7265 6173 2074      Show areas t
+000003c0: 6865 2075 7365 7220 646f 6573 6e27 7420  he user doesn't 
+000003d0: 6861 7665 2061 6363 6573 7320 746f 0a20  have access to. 
+000003e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000003f0: 2020 203c 2f6c 6162 656c 3e0a 2020 2020     </label>.    
+00000400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000410: 3c62 7220 2f3e 0a20 2020 2020 2020 2020  <br />.         
+00000420: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00000430: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
+00000440: 0a20 2020 2020 2020 203c 2f64 6976 3e0a  .        </div>.
+00000450: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+00000460: 7373 3d22 666f 726d 2d67 726f 7570 223e  ss="form-group">
+00000470: 0a20 2020 2020 2020 2020 2020 203c 6c61  .            <la
+00000480: 6265 6c20 636c 6173 733d 2263 6f6e 7472  bel class="contr
+00000490: 6f6c 2d6c 6162 656c 2063 6f6c 2d6d 642d  ol-label col-md-
+000004a0: 3322 3e50 726f 6a65 6374 733c 2f6c 6162  3">Projects</lab
+000004b0: 656c 3e0a 2020 2020 2020 2020 2020 2020  el>.            
+000004c0: 3c64 6976 2063 6c61 7373 3d22 636f 6c2d  <div class="col-
+000004d0: 6d64 2d39 223e 0a20 2020 2020 2020 2020  md-9">.         
+000004e0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+000004f0: 733d 2263 6865 636b 626f 7822 3e0a 2020  s="checkbox">.  
+00000500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000510: 2020 3c6c 6162 656c 3e0a 2020 2020 2020    <label>.      
+00000520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000530: 2020 3c69 6e70 7574 2074 7970 653d 2263    <input type="c
+00000540: 6865 636b 626f 7822 0a20 2020 2020 2020  heckbox".       
+00000550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000560: 2020 2020 2020 2020 6e61 6d65 3d22 6461          name="da
+00000570: 7368 626f 6172 645f 6869 6465 5f70 726f  shboard_hide_pro
+00000580: 6a65 6374 220a 2020 2020 2020 2020 2020  ject".          
+00000590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000005a0: 2020 2020 207b 2520 6966 2064 6173 6862       {% if dashb
+000005b0: 6f61 7264 5f68 6964 655f 7072 6f6a 6563  oard_hide_projec
+000005c0: 7420 257d 6368 6563 6b65 647b 2520 656e  t %}checked{% en
+000005d0: 6469 6620 257d 0a20 2020 2020 2020 2020  dif %}.         
+000005e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000005f0: 2020 2020 2020 7661 6c75 653d 2265 6e61        value="ena
+00000600: 626c 6564 223e 0a20 2020 2020 2020 2020  bled">.         
+00000610: 2020 2020 2020 2020 2020 2020 2020 2048                 H
+00000620: 6964 6520 7072 6f6a 6563 7473 2074 6865  ide projects the
+00000630: 2075 7365 7273 2061 7265 2077 6f72 6b69   users are worki
+00000640: 6e67 206f 6e20 696e 206f 6363 7570 616e  ng on in occupan
+00000650: 6379 0a20 2020 2020 2020 2020 2020 2020  cy.             
+00000660: 2020 2020 2020 203c 2f6c 6162 656c 3e0a         </label>.
+00000670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000680: 2020 2020 3c62 7220 2f3e 0a20 2020 2020      <br />.     
+00000690: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+000006a0: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
+000006b0: 6469 763e 0a20 2020 2020 2020 203c 2f64  div>.        </d
+000006c0: 6976 3e0a 2020 2020 2020 2020 3c64 6976  iv>.        <div
+000006d0: 2063 6c61 7373 3d22 666f 726d 2d67 726f   class="form-gro
+000006e0: 7570 2220 7374 796c 653d 226d 6172 6769  up" style="margi
+000006f0: 6e2d 626f 7474 6f6d 3a20 303b 2062 6f72  n-bottom: 0; bor
+00000700: 6465 722d 746f 703a 2064 6f74 7465 6420  der-top: dotted 
+00000710: 3170 7820 2364 6464 223e 0a20 2020 2020  1px #ddd">.     
+00000720: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+00000730: 733d 2263 6f6c 2d6d 642d 3522 3e0a 2020  s="col-md-5">.  
+00000740: 2020 2020 2020 2020 2020 2020 2020 3c68                <h
+00000750: 353e 5374 6166 6620 7374 6174 7573 3c2f  5>Staff status</
+00000760: 6835 3e0a 2020 2020 2020 2020 2020 2020  h5>.            
+00000770: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
+00000780: 2f64 6976 3e0a 2020 2020 2020 2020 3c64  /div>.        <d
+00000790: 6976 2063 6c61 7373 3d22 666f 726d 2d67  iv class="form-g
+000007a0: 726f 7570 223e 0a20 2020 2020 2020 2020  roup">.         
+000007b0: 2020 203c 6c61 6265 6c20 636c 6173 733d     <label class=
+000007c0: 2263 6f6e 7472 6f6c 2d6c 6162 656c 2063  "control-label c
+000007d0: 6f6c 2d6d 642d 3322 3e44 6973 706c 6179  ol-md-3">Display
+000007e0: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
+000007f0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+00000800: 2263 6f6c 2d6d 642d 3922 3e0a 2020 2020  "col-md-9">.    
+00000810: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+00000820: 2063 6c61 7373 3d22 6368 6563 6b62 6f78   class="checkbox
+00000830: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
+00000840: 2020 2020 2020 203c 6c61 6265 6c3e 0a20         <label>. 
+00000850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000860: 2020 2020 2020 203c 696e 7075 7420 7479         <input ty
+00000870: 7065 3d22 6368 6563 6b62 6f78 220a 2020  pe="checkbox".  
+00000880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000890: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+000008a0: 653d 2264 6173 6862 6f61 7264 5f73 7461  e="dashboard_sta
+000008b0: 6666 5f73 7461 7475 735f 7374 6166 665f  ff_status_staff_
+000008c0: 6f6e 6c79 220a 2020 2020 2020 2020 2020  only".          
+000008d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000008e0: 2020 2020 207b 2520 6966 2064 6173 6862       {% if dashb
+000008f0: 6f61 7264 5f73 7461 6666 5f73 7461 7475  oard_staff_statu
+00000900: 735f 7374 6166 665f 6f6e 6c79 2025 7d63  s_staff_only %}c
+00000910: 6865 636b 6564 7b25 2065 6e64 6966 2025  hecked{% endif %
+00000920: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
+00000930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000940: 2076 616c 7565 3d22 656e 6162 6c65 6422   value="enabled"
+00000950: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00000960: 2020 2020 2020 2020 2020 4f6e 6c79 2073            Only s
+00000970: 686f 7720 7374 6166 6620 7374 6174 7573  how staff status
+00000980: 2074 6f20 7374 6166 6620 6d65 6d62 6572   to staff member
+00000990: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+000009a0: 2020 2020 2020 3c2f 6c61 6265 6c3e 0a20        </label>. 
+000009b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000009c0: 2020 203c 6272 202f 3e0a 2020 2020 2020     <br />.      
+000009d0: 2020 2020 2020 2020 2020 2020 2020 3c6c                <l
+000009e0: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
+000009f0: 2020 2020 2020 2020 2020 2020 2020 3c69                <i
+00000a00: 6e70 7574 2074 7970 653d 2263 6865 636b  nput type="check
+00000a10: 626f 7822 0a20 2020 2020 2020 2020 2020  box".           
+00000a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a30: 2020 2020 6e61 6d65 3d22 6461 7368 626f      name="dashbo
+00000a40: 6172 645f 7374 6166 665f 7374 6174 7573  ard_staff_status
+00000a50: 5f77 6565 6b64 6179 735f 6f6e 6c79 220a  _weekdays_only".
+00000a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a70: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+00000a80: 2520 6966 2064 6173 6862 6f61 7264 5f73  % if dashboard_s
+00000a90: 7461 6666 5f73 7461 7475 735f 7765 656b  taff_status_week
+00000aa0: 6461 7973 5f6f 6e6c 7920 257d 6368 6563  days_only %}chec
+00000ab0: 6b65 647b 2520 656e 6469 6620 257d 0a20  ked{% endif %}. 
+00000ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ad0: 2020 2020 2020 2020 2020 2020 2020 7661                va
+00000ae0: 6c75 653d 2265 6e61 626c 6564 223e 0a20  lue="enabled">. 
+00000af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b00: 2020 2020 2020 204f 6e6c 7920 7368 6f77         Only show
+00000b10: 2077 6565 6b64 6179 7320 286e 6f20 7765   weekdays (no we
+00000b20: 656b 656e 6429 202d 206f 6e6c 7920 6170  ekend) - only ap
+00000b30: 706c 6965 7320 746f 2077 6565 6b20 7669  plies to week vi
+00000b40: 6577 0a20 2020 2020 2020 2020 2020 2020  ew.             
+00000b50: 2020 2020 2020 203c 2f6c 6162 656c 3e0a         </label>.
+00000b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b70: 2020 2020 3c62 7220 2f3e 0a20 2020 2020      <br />.     
+00000b80: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+00000b90: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
+00000ba0: 6469 763e 0a20 2020 2020 2020 203c 2f64  div>.        </d
+00000bb0: 6976 3e0a 2020 2020 2020 2020 3c64 6976  iv>.        <div
+00000bc0: 2063 6c61 7373 3d22 666f 726d 2d67 726f   class="form-gro
+00000bd0: 7570 223e 0a20 2020 2020 2020 2020 2020  up">.           
+00000be0: 203c 6c61 6265 6c20 636c 6173 733d 2263   <label class="c
+00000bf0: 6f6e 7472 6f6c 2d6c 6162 656c 2063 6f6c  ontrol-label col
+00000c00: 2d6d 642d 3322 3e46 6972 7374 2064 6179  -md-3">First day
+00000c10: 206f 6620 7468 6520 7765 656b 3c2f 6c61   of the week</la
+00000c20: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
+00000c30: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
+00000c40: 2d6d 642d 3922 3e0a 2020 2020 2020 2020  -md-9">.        
+00000c50: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+00000c60: 7373 3d22 7261 6469 6f22 3e0a 2020 2020  ss="radio">.    
+00000c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c80: 3c6c 6162 656c 3e0a 2020 2020 2020 2020  <label>.        
+00000c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ca0: 3c69 6e70 7574 2074 7970 653d 2272 6164  <input type="rad
+00000cb0: 696f 220a 2020 2020 2020 2020 2020 2020  io".            
+00000cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000cd0: 2020 206e 616d 653d 2264 6173 6862 6f61     name="dashboa
+00000ce0: 7264 5f73 7461 6666 5f73 7461 7475 735f  rd_staff_status_
+00000cf0: 6669 7273 745f 6461 795f 6f66 5f77 6565  first_day_of_wee
+00000d00: 6b22 0a20 2020 2020 2020 2020 2020 2020  k".             
+00000d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d20: 2020 7b25 2069 6620 6e6f 7420 6461 7368    {% if not dash
+00000d30: 626f 6172 645f 7374 6166 665f 7374 6174  board_staff_stat
+00000d40: 7573 5f66 6972 7374 5f64 6179 5f6f 665f  us_first_day_of_
+00000d50: 7765 656b 206f 7220 6461 7368 626f 6172  week or dashboar
+00000d60: 645f 7374 6166 665f 7374 6174 7573 5f66  d_staff_status_f
+00000d70: 6972 7374 5f64 6179 5f6f 665f 7765 656b  irst_day_of_week
+00000d80: 203d 3d20 2731 2720 257d 6368 6563 6b65   == '1' %}checke
+00000d90: 647b 2520 656e 6469 6620 257d 0a20 2020  d{% endif %}.   
+00000da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000db0: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
+00000dc0: 653d 2231 223e 0a20 2020 2020 2020 2020  e="1">.         
+00000dd0: 2020 2020 2020 2020 2020 2020 2020 204d                 M
+00000de0: 6f6e 6461 790a 2020 2020 2020 2020 2020  onday.          
+00000df0: 2020 2020 2020 2020 2020 3c2f 6c61 6265            </labe
+00000e00: 6c3e 0a20 2020 2020 2020 2020 2020 2020  l>.             
+00000e10: 2020 2020 2020 203c 6c61 6265 6c3e 0a20         <label>. 
+00000e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e30: 2020 2020 2020 203c 696e 7075 7420 7479         <input ty
+00000e40: 7065 3d22 7261 6469 6f22 0a20 2020 2020  pe="radio".     
+00000e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e60: 2020 2020 2020 2020 2020 6e61 6d65 3d22            name="
+00000e70: 6461 7368 626f 6172 645f 7374 6166 665f  dashboard_staff_
+00000e80: 7374 6174 7573 5f66 6972 7374 5f64 6179  status_first_day
+00000e90: 5f6f 665f 7765 656b 220a 2020 2020 2020  _of_week".      
+00000ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000eb0: 2020 2020 2020 2020 207b 2520 6966 2064           {% if d
+00000ec0: 6173 6862 6f61 7264 5f73 7461 6666 5f73  ashboard_staff_s
+00000ed0: 7461 7475 735f 6669 7273 745f 6461 795f  tatus_first_day_
+00000ee0: 6f66 5f77 6565 6b20 3d3d 2027 3027 2025  of_week == '0' %
+00000ef0: 7d63 6865 636b 6564 7b25 2065 6e64 6966  }checked{% endif
+00000f00: 2025 7d0a 2020 2020 2020 2020 2020 2020   %}.            
+00000f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f20: 2020 2076 616c 7565 3d22 3022 3e0a 2020     value="0">.  
+00000f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f40: 2020 2020 2020 5375 6e64 6179 0a20 2020        Sunday.   
+00000f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f60: 203c 2f6c 6162 656c 3e0a 2020 2020 2020   </label>.      
+00000f70: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
+00000f80: 0a20 2020 2020 2020 2020 2020 203c 2f64  .            </d
+00000f90: 6976 3e0a 2020 2020 2020 2020 3c2f 6469  iv>.        </di
+00000fa0: 763e 0a20 2020 2020 2020 203c 6469 7620  v>.        <div 
+00000fb0: 636c 6173 733d 2266 6f72 6d2d 6772 6f75  class="form-grou
+00000fc0: 7022 3e0a 2020 2020 2020 2020 2020 2020  p">.            
+00000fd0: 3c6c 6162 656c 2063 6c61 7373 3d22 636f  <label class="co
+00000fe0: 6e74 726f 6c2d 6c61 6265 6c20 636f 6c2d  ntrol-label col-
+00000ff0: 6d64 2d33 2220 666f 723d 2264 6173 6862  md-3" for="dashb
+00001000: 6f61 7264 5f73 7461 6666 5f73 7461 7475  oard_staff_statu
+00001010: 735f 6461 7465 5f66 6f72 6d61 7422 3e44  s_date_format">D
+00001020: 6174 6520 666f 726d 6174 3c2f 6c61 6265  ate format</labe
+00001030: 6c3e 0a20 2020 2020 2020 2020 2020 203c  l>.            <
+00001040: 6469 7620 636c 6173 733d 2263 6f6c 2d6d  div class="col-m
+00001050: 642d 3322 3e0a 2020 2020 2020 2020 2020  d-3">.          
+00001060: 2020 2020 2020 3c69 6e70 7574 2074 7970        <input typ
+00001070: 653d 2274 6578 7422 0a20 2020 2020 2020  e="text".       
+00001080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001090: 6964 3d22 6461 7368 626f 6172 645f 7374  id="dashboard_st
+000010a0: 6166 665f 7374 6174 7573 5f64 6174 655f  aff_status_date_
+000010b0: 666f 726d 6174 220a 2020 2020 2020 2020  format".        
+000010c0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+000010d0: 616d 653d 2264 6173 6862 6f61 7264 5f73  ame="dashboard_s
+000010e0: 7461 6666 5f73 7461 7475 735f 6461 7465  taff_status_date
+000010f0: 5f66 6f72 6d61 7422 0a20 2020 2020 2020  _format".       
+00001100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001110: 636c 6173 733d 2266 6f72 6d2d 636f 6e74  class="form-cont
+00001120: 726f 6c22 0a20 2020 2020 2020 2020 2020  rol".           
+00001130: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
+00001140: 653d 227b 7b20 6461 7368 626f 6172 645f  e="{{ dashboard_
+00001150: 7374 6166 665f 7374 6174 7573 5f64 6174  staff_status_dat
+00001160: 655f 666f 726d 6174 207d 7d22 3e0a 2020  e_format }}">.  
+00001170: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
+00001180: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
+00001190: 7620 636c 6173 733d 2263 6f6c 2d6d 642d  v class="col-md-
+000011a0: 3620 6865 6c70 2d62 6c6f 636b 206c 6967  6 help-block lig
+000011b0: 6874 2d67 7265 7922 3e0a 2020 2020 2020  ht-grey">.      
+000011c0: 2020 2020 2020 2020 2020 5468 6520 6461            The da
+000011d0: 7465 2066 6f72 6d61 7420 746f 2075 7365  te format to use
+000011e0: 2069 6e20 7468 6520 7374 6174 7573 2064   in the status d
+000011f0: 6173 6862 6f61 7264 2073 7461 6666 2074  ashboard staff t
+00001200: 6162 2e20 5365 6520 3c61 2068 7265 663d  ab. See <a href=
+00001210: 2268 7474 7073 3a2f 2f64 6f63 732e 646a  "https://docs.dj
+00001220: 616e 676f 7072 6f6a 6563 742e 636f 6d2f  angoproject.com/
+00001230: 656e 2f32 2e32 2f72 6566 2f74 656d 706c  en/2.2/ref/templ
+00001240: 6174 6573 2f62 7569 6c74 696e 732f 2364  ates/builtins/#d
+00001250: 6174 6522 2074 6172 6765 743d 225f 626c  ate" target="_bl
+00001260: 616e 6b22 3e44 6a61 6e67 6f20 6461 7465  ank">Django date
+00001270: 2066 6f72 6d61 7473 3c2f 613e 2066 6f72   formats</a> for
+00001280: 2064 6574 6169 6c73 2e0a 2020 2020 2020   details..      
+00001290: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+000012a0: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+000012b0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+000012c0: 666f 726d 2d67 726f 7570 223e 0a20 2020  form-group">.   
+000012d0: 2020 2020 2020 2020 203c 6c61 6265 6c20           <label 
+000012e0: 636c 6173 733d 2263 6f6e 7472 6f6c 2d6c  class="control-l
+000012f0: 6162 656c 2063 6f6c 2d6d 642d 3322 3e43  abel col-md-3">C
+00001300: 6865 636b 2070 6173 7420 6176 6169 6c61  heck past availa
+00001310: 6269 6c69 7479 3c2f 6c61 6265 6c3e 0a20  bility</label>. 
+00001320: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
+00001330: 636c 6173 733d 2263 6f6c 2d6d 642d 3922  class="col-md-9"
+00001340: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00001350: 2020 3c64 6976 2063 6c61 7373 3d22 7261    <div class="ra
+00001360: 6469 6f22 3e0a 2020 2020 2020 2020 2020  dio">.          
+00001370: 2020 2020 2020 2020 2020 3c6c 6162 656c            <label
+00001380: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00001390: 2020 2020 2020 2020 2020 3c69 6e70 7574            <input
+000013a0: 2074 7970 653d 2272 6164 696f 220a 2020   type="radio".  
+000013b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000013c0: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+000013d0: 653d 2264 6173 6862 6f61 7264 5f73 7461  e="dashboard_sta
+000013e0: 6666 5f73 7461 7475 735f 6368 6563 6b5f  ff_status_check_
+000013f0: 7061 7374 5f73 7461 7475 7322 0a20 2020  past_status".   
+00001400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001410: 2020 2020 2020 2020 2020 2020 7b25 2069              {% i
+00001420: 6620 6e6f 7420 6461 7368 626f 6172 645f  f not dashboard_
+00001430: 7374 6166 665f 7374 6174 7573 5f63 6865  staff_status_che
+00001440: 636b 5f70 6173 745f 7374 6174 7573 2025  ck_past_status %
+00001450: 7d63 6865 636b 6564 7b25 2065 6e64 6966  }checked{% endif
+00001460: 2025 7d0a 2020 2020 2020 2020 2020 2020   %}.            
+00001470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001480: 2020 2076 616c 7565 3d22 223e 0a20 2020     value="">.   
+00001490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000014a0: 2020 2020 2045 7665 7279 6f6e 650a 2020       Everyone.  
+000014b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000014c0: 2020 3c2f 6c61 6265 6c3e 0a20 2020 2020    </label>.     
+000014d0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+000014e0: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
+000014f0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00001500: 696e 7075 7420 7479 7065 3d22 7261 6469  input type="radi
+00001510: 6f22 0a20 2020 2020 2020 2020 2020 2020  o".             
+00001520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001530: 2020 6e61 6d65 3d22 6461 7368 626f 6172    name="dashboar
+00001540: 645f 7374 6166 665f 7374 6174 7573 5f63  d_staff_status_c
+00001550: 6865 636b 5f70 6173 745f 7374 6174 7573  heck_past_status
+00001560: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00001570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001580: 207b 2520 6966 2064 6173 6862 6f61 7264   {% if dashboard
+00001590: 5f73 7461 6666 5f73 7461 7475 735f 6368  _staff_status_ch
+000015a0: 6563 6b5f 7061 7374 5f73 7461 7475 7320  eck_past_status 
+000015b0: 3d3d 2027 7374 6166 6673 2720 257d 6368  == 'staffs' %}ch
+000015c0: 6563 6b65 647b 2520 656e 6469 6620 257d  ecked{% endif %}
+000015d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000015e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000015f0: 7661 6c75 653d 2273 7461 6666 7322 3e0a  value="staffs">.
+00001600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001610: 2020 2020 2020 2020 5374 6166 6620 6f6e          Staff on
+00001620: 6c79 0a20 2020 2020 2020 2020 2020 2020  ly.             
+00001630: 2020 2020 2020 203c 2f6c 6162 656c 3e0a         </label>.
+00001640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001650: 2020 2020 3c6c 6162 656c 3e0a 2020 2020      <label>.    
 00001660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001670: 3c6c 6162 656c 3e3c 696e 7075 7420 7479  <label><input ty
-00001680: 7065 3d22 7261 6469 6f22 206e 616d 653d  pe="radio" name=
-00001690: 2264 6173 6862 6f61 7264 5f73 7461 6666  "dashboard_staff
-000016a0: 5f73 7461 7475 735f 7573 6572 5f76 6965  _status_user_vie
-000016b0: 7722 207b 2520 6966 2064 6173 6862 6f61  w" {% if dashboa
-000016c0: 7264 5f73 7461 6666 5f73 7461 7475 735f  rd_staff_status_
-000016d0: 7573 6572 5f76 6965 7720 3d3d 2027 7765  user_view == 'we
-000016e0: 656b 2720 257d 6368 6563 6b65 647b 2520  ek' %}checked{% 
-000016f0: 656e 6469 6620 257d 2076 616c 7565 3d22  endif %} value="
-00001700: 7765 656b 223e 2044 6179 2f57 6565 6b3c  week"> Day/Week<
-00001710: 2f6c 6162 656c 3e0a 2020 2020 2020 2020  /label>.        
-00001720: 2020 2020 2020 2020 2020 2020 3c6c 6162              <lab
-00001730: 656c 3e3c 696e 7075 7420 7479 7065 3d22  el><input type="
-00001740: 7261 6469 6f22 206e 616d 653d 2264 6173  radio" name="das
-00001750: 6862 6f61 7264 5f73 7461 6666 5f73 7461  hboard_staff_sta
-00001760: 7475 735f 7573 6572 5f76 6965 7722 207b  tus_user_view" {
-00001770: 2520 6966 2064 6173 6862 6f61 7264 5f73  % if dashboard_s
-00001780: 7461 6666 5f73 7461 7475 735f 7573 6572  taff_status_user
-00001790: 5f76 6965 7720 3d3d 2027 6461 7927 2025  _view == 'day' %
-000017a0: 7d63 6865 636b 6564 7b25 2065 6e64 6966  }checked{% endif
-000017b0: 2025 7d20 7661 6c75 653d 2264 6179 223e   %} value="day">
-000017c0: 2044 6179 3c2f 6c61 6265 6c3e 0a20 2020   Day</label>.   
-000017d0: 2020 2020 2020 2020 2020 2020 203c 2f64               </d
-000017e0: 6976 3e0a 2020 2020 2020 2020 2020 2020  iv>.            
-000017f0: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
-00001800: 2f64 6976 3e0a 2020 2020 2020 2020 3c64  /div>.        <d
-00001810: 6976 2063 6c61 7373 3d22 666f 726d 2d67  iv class="form-g
-00001820: 726f 7570 223e 0a20 2020 2020 2020 2020  roup">.         
-00001830: 2020 203c 6c61 6265 6c20 636c 6173 733d     <label class=
-00001840: 2263 6f6e 7472 6f6c 2d6c 6162 656c 2063  "control-label c
-00001850: 6f6c 2d6d 642d 3322 3e53 7461 6666 2076  ol-md-3">Staff v
-00001860: 6965 7720 6f70 7469 6f6e 733c 2f6c 6162  iew options</lab
-00001870: 656c 3e0a 2020 2020 2020 2020 2020 2020  el>.            
-00001880: 3c64 6976 2063 6c61 7373 3d22 636f 6c2d  <div class="col-
-00001890: 6d64 2d39 223e 0a20 2020 2020 2020 2020  md-9">.         
-000018a0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
-000018b0: 733d 2272 6164 696f 223e 0a20 2020 2020  s="radio">.     
-000018c0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
-000018d0: 6c61 6265 6c3e 3c69 6e70 7574 2074 7970  label><input typ
-000018e0: 653d 2272 6164 696f 2220 6e61 6d65 3d22  e="radio" name="
-000018f0: 6461 7368 626f 6172 645f 7374 6166 665f  dashboard_staff_
-00001900: 7374 6174 7573 5f73 7461 6666 5f76 6965  status_staff_vie
-00001910: 7722 207b 2520 6966 206e 6f74 2064 6173  w" {% if not das
-00001920: 6862 6f61 7264 5f73 7461 6666 5f73 7461  hboard_staff_sta
-00001930: 7475 735f 7374 6166 665f 7669 6577 2025  tus_staff_view %
-00001940: 7d63 6865 636b 6564 7b25 2065 6e64 6966  }checked{% endif
-00001950: 2025 7d20 7661 6c75 653d 2222 3e20 4461   %} value=""> Da
-00001960: 792f 5765 656b 2f4d 6f6e 7468 3c2f 6c61  y/Week/Month</la
-00001970: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
-00001980: 2020 2020 2020 2020 203c 6c61 6265 6c3e           <label>
-00001990: 3c69 6e70 7574 2074 7970 653d 2272 6164  <input type="rad
-000019a0: 696f 2220 6e61 6d65 3d22 6461 7368 626f  io" name="dashbo
-000019b0: 6172 645f 7374 6166 665f 7374 6174 7573  ard_staff_status
-000019c0: 5f73 7461 6666 5f76 6965 7722 207b 2520  _staff_view" {% 
-000019d0: 6966 2064 6173 6862 6f61 7264 5f73 7461  if dashboard_sta
-000019e0: 6666 5f73 7461 7475 735f 7374 6166 665f  ff_status_staff_
-000019f0: 7669 6577 203d 3d20 2777 6565 6b27 2025  view == 'week' %
-00001a00: 7d63 6865 636b 6564 7b25 2065 6e64 6966  }checked{% endif
-00001a10: 2025 7d20 7661 6c75 653d 2277 6565 6b22   %} value="week"
-00001a20: 3e20 4461 792f 5765 656b 3c2f 6c61 6265  > Day/Week</labe
-00001a30: 6c3e 0a20 2020 2020 2020 2020 2020 2020  l>.             
-00001a40: 2020 2020 2020 203c 6c61 6265 6c3e 3c69         <label><i
+00001670: 2020 2020 3c69 6e70 7574 2074 7970 653d      <input type=
+00001680: 2272 6164 696f 220a 2020 2020 2020 2020  "radio".        
+00001690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000016a0: 2020 2020 2020 206e 616d 653d 2264 6173         name="das
+000016b0: 6862 6f61 7264 5f73 7461 6666 5f73 7461  hboard_staff_sta
+000016c0: 7475 735f 6368 6563 6b5f 7061 7374 5f73  tus_check_past_s
+000016d0: 7461 7475 7322 0a20 2020 2020 2020 2020  tatus".         
+000016e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000016f0: 2020 2020 2020 7b25 2069 6620 6461 7368        {% if dash
+00001700: 626f 6172 645f 7374 6166 665f 7374 6174  board_staff_stat
+00001710: 7573 5f63 6865 636b 5f70 6173 745f 7374  us_check_past_st
+00001720: 6174 7573 203d 3d20 276d 616e 6167 6572  atus == 'manager
+00001730: 7327 2025 7d63 6865 636b 6564 7b25 2065  s' %}checked{% e
+00001740: 6e64 6966 2025 7d0a 2020 2020 2020 2020  ndif %}.        
+00001750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001760: 2020 2020 2020 2076 616c 7565 3d22 6d61         value="ma
+00001770: 6e61 6765 7273 223e 0a20 2020 2020 2020  nagers">.       
+00001780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001790: 204d 616e 6167 6572 7320 6f6e 6c79 0a20   Managers only. 
+000017a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000017b0: 2020 203c 2f6c 6162 656c 3e0a 2020 2020     </label>.    
+000017c0: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
+000017d0: 763e 0a20 2020 2020 2020 2020 2020 203c  v>.            <
+000017e0: 2f64 6976 3e0a 2020 2020 2020 2020 3c2f  /div>.        </
+000017f0: 6469 763e 0a20 2020 2020 2020 203c 6469  div>.        <di
+00001800: 7620 636c 6173 733d 2266 6f72 6d2d 6772  v class="form-gr
+00001810: 6f75 7022 3e0a 2020 2020 2020 2020 2020  oup">.          
+00001820: 2020 3c6c 6162 656c 2063 6c61 7373 3d22    <label class="
+00001830: 636f 6e74 726f 6c2d 6c61 6265 6c20 636f  control-label co
+00001840: 6c2d 6d64 2d33 223e 4368 6563 6b20 6675  l-md-3">Check fu
+00001850: 7475 7265 2061 7661 696c 6162 696c 6974  ture availabilit
+00001860: 793c 2f6c 6162 656c 3e0a 2020 2020 2020  y</label>.      
+00001870: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
+00001880: 3d22 636f 6c2d 6d64 2d39 223e 0a20 2020  ="col-md-9">.   
+00001890: 2020 2020 2020 2020 2020 2020 203c 6469               <di
+000018a0: 7620 636c 6173 733d 2272 6164 696f 223e  v class="radio">
+000018b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000018c0: 2020 2020 203c 6c61 6265 6c3e 0a20 2020       <label>.   
+000018d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000018e0: 2020 2020 203c 696e 7075 7420 7479 7065       <input type
+000018f0: 3d22 7261 6469 6f22 0a20 2020 2020 2020  ="radio".       
+00001900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001910: 2020 2020 2020 2020 6e61 6d65 3d22 6461          name="da
+00001920: 7368 626f 6172 645f 7374 6166 665f 7374  shboard_staff_st
+00001930: 6174 7573 5f63 6865 636b 5f66 7574 7572  atus_check_futur
+00001940: 655f 7374 6174 7573 220a 2020 2020 2020  e_status".      
+00001950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001960: 2020 2020 2020 2020 207b 2520 6966 206e           {% if n
+00001970: 6f74 2064 6173 6862 6f61 7264 5f73 7461  ot dashboard_sta
+00001980: 6666 5f73 7461 7475 735f 6368 6563 6b5f  ff_status_check_
+00001990: 6675 7475 7265 5f73 7461 7475 7320 257d  future_status %}
+000019a0: 6368 6563 6b65 647b 2520 656e 6469 6620  checked{% endif 
+000019b0: 257d 0a20 2020 2020 2020 2020 2020 2020  %}.             
+000019c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000019d0: 2020 7661 6c75 653d 2222 3e0a 2020 2020    value="">.    
+000019e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000019f0: 2020 2020 4576 6572 796f 6e65 0a20 2020      Everyone.   
+00001a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a10: 203c 2f6c 6162 656c 3e0a 2020 2020 2020   </label>.      
+00001a20: 2020 2020 2020 2020 2020 2020 2020 3c6c                <l
+00001a30: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
+00001a40: 2020 2020 2020 2020 2020 2020 2020 3c69                <i
 00001a50: 6e70 7574 2074 7970 653d 2272 6164 696f  nput type="radio
-00001a60: 2220 6e61 6d65 3d22 6461 7368 626f 6172  " name="dashboar
-00001a70: 645f 7374 6166 665f 7374 6174 7573 5f73  d_staff_status_s
-00001a80: 7461 6666 5f76 6965 7722 207b 2520 6966  taff_view" {% if
-00001a90: 2064 6173 6862 6f61 7264 5f73 7461 6666   dashboard_staff
-00001aa0: 5f73 7461 7475 735f 7374 6166 665f 7669  _status_staff_vi
-00001ab0: 6577 203d 3d20 2764 6179 2720 257d 6368  ew == 'day' %}ch
-00001ac0: 6563 6b65 647b 2520 656e 6469 6620 257d  ecked{% endif %}
-00001ad0: 2076 616c 7565 3d22 6461 7922 3e20 4461   value="day"> Da
-00001ae0: 793c 2f6c 6162 656c 3e0a 2020 2020 2020  y</label>.      
-00001af0: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
-00001b00: 0a20 2020 2020 2020 2020 2020 203c 2f64  .            </d
-00001b10: 6976 3e0a 2020 2020 2020 2020 3c2f 6469  iv>.        </di
-00001b20: 763e 0a20 2020 2020 2020 203c 6469 7620  v>.        <div 
-00001b30: 636c 6173 733d 2266 6f72 6d2d 6772 6f75  class="form-grou
-00001b40: 7022 3e0a 2020 2020 2020 2020 2020 2020  p">.            
-00001b50: 3c6c 6162 656c 2063 6c61 7373 3d22 636f  <label class="co
-00001b60: 6e74 726f 6c2d 6c61 6265 6c20 636f 6c2d  ntrol-label col-
-00001b70: 6d64 2d33 223e 5669 6577 2061 6273 656e  md-3">View absen
-00001b80: 6365 2064 6574 6169 6c73 3c2f 6c61 6265  ce details</labe
-00001b90: 6c3e 0a20 2020 2020 2020 2020 2020 203c  l>.            <
-00001ba0: 6469 7620 636c 6173 733d 2263 6f6c 2d6d  div class="col-m
-00001bb0: 642d 3922 3e0a 0909 0909 3c64 6976 2063  d-9">.....<div c
-00001bc0: 6c61 7373 3d22 6368 6563 6b62 6f78 223e  lass="checkbox">
-00001bd0: 0a09 0909 0909 3c6c 6162 656c 3e3c 696e  ......<label><in
-00001be0: 7075 7420 7479 7065 3d22 6368 6563 6b62  put type="checkb
-00001bf0: 6f78 2220 6e61 6d65 3d22 6461 7368 626f  ox" name="dashbo
-00001c00: 6172 645f 7374 6166 665f 7374 6174 7573  ard_staff_status
-00001c10: 5f61 6273 656e 6365 5f76 6965 775f 7374  _absence_view_st
-00001c20: 6166 6622 207b 2520 6966 2064 6173 6862  aff" {% if dashb
-00001c30: 6f61 7264 5f73 7461 6666 5f73 7461 7475  oard_staff_statu
-00001c40: 735f 6162 7365 6e63 655f 7669 6577 5f73  s_absence_view_s
-00001c50: 7461 6666 2025 7d63 6865 636b 6564 7b25  taff %}checked{%
-00001c60: 2065 6e64 6966 2025 7d20 7661 6c75 653d   endif %} value=
-00001c70: 2265 6e61 626c 6564 223e 5465 6368 6e69  "enabled">Techni
-00001c80: 6361 6c20 7374 6166 663c 2f6c 6162 656c  cal staff</label
-00001c90: 3e3c 6272 2f3e 0a09 0909 0909 3c6c 6162  ><br/>......<lab
-00001ca0: 656c 3e3c 696e 7075 7420 7479 7065 3d22  el><input type="
-00001cb0: 6368 6563 6b62 6f78 2220 6e61 6d65 3d22  checkbox" name="
-00001cc0: 6461 7368 626f 6172 645f 7374 6166 665f  dashboard_staff_
-00001cd0: 7374 6174 7573 5f61 6273 656e 6365 5f76  status_absence_v
-00001ce0: 6965 775f 7573 6572 5f6f 6666 6963 6522  iew_user_office"
-00001cf0: 207b 2520 6966 2064 6173 6862 6f61 7264   {% if dashboard
-00001d00: 5f73 7461 6666 5f73 7461 7475 735f 6162  _staff_status_ab
-00001d10: 7365 6e63 655f 7669 6577 5f75 7365 725f  sence_view_user_
-00001d20: 6f66 6669 6365 2025 7d63 6865 636b 6564  office %}checked
-00001d30: 7b25 2065 6e64 6966 2025 7d20 7661 6c75  {% endif %} valu
-00001d40: 653d 2265 6e61 626c 6564 223e 5573 6572  e="enabled">User
-00001d50: 206f 6666 6963 653c 2f6c 6162 656c 3e3c   office</label><
-00001d60: 6272 2f3e 0a09 0909 0909 3c6c 6162 656c  br/>......<label
-00001d70: 3e3c 696e 7075 7420 7479 7065 3d22 6368  ><input type="ch
-00001d80: 6563 6b62 6f78 2220 6e61 6d65 3d22 6461  eckbox" name="da
-00001d90: 7368 626f 6172 645f 7374 6166 665f 7374  shboard_staff_st
-00001da0: 6174 7573 5f61 6273 656e 6365 5f76 6965  atus_absence_vie
-00001db0: 775f 6163 636f 756e 7469 6e67 5f6f 6666  w_accounting_off
-00001dc0: 6963 6572 2220 7b25 2069 6620 6461 7368  icer" {% if dash
-00001dd0: 626f 6172 645f 7374 6166 665f 7374 6174  board_staff_stat
-00001de0: 7573 5f61 6273 656e 6365 5f76 6965 775f  us_absence_view_
-00001df0: 6163 636f 756e 7469 6e67 5f6f 6666 6963  accounting_offic
-00001e00: 6572 2025 7d63 6865 636b 6564 7b25 2065  er %}checked{% e
-00001e10: 6e64 6966 2025 7d20 7661 6c75 653d 2265  ndif %} value="e
-00001e20: 6e61 626c 6564 223e 4163 636f 756e 7469  nabled">Accounti
-00001e30: 6e67 2073 7461 6666 3c2f 6c61 6265 6c3e  ng staff</label>
-00001e40: 3c62 722f 3e0a 0909 0909 093c 6c61 6265  <br/>......<labe
-00001e50: 6c3e 3c69 6e70 7574 2074 7970 653d 2263  l><input type="c
-00001e60: 6865 636b 626f 7822 2063 6865 636b 6564  heckbox" checked
-00001e70: 2064 6973 6162 6c65 643e 4661 6369 6c69   disabled>Facili
-00001e80: 7479 206d 616e 6167 6572 733c 2f6c 6162  ty managers</lab
-00001e90: 656c 3e3c 6272 2f3e 0a09 0909 093c 2f64  el><br/>.....</d
-00001ea0: 6976 3e0a 0909 093c 2f64 6976 3e0a 2020  iv>....</div>.  
-00001eb0: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
-00001ec0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
-00001ed0: 2263 7573 746f 6d69 7a61 7469 6f6e 2d73  "customization-s
-00001ee0: 6570 6172 6174 696f 6e22 2073 7479 6c65  eparation" style
-00001ef0: 3d22 6d61 7267 696e 2d62 6f74 746f 6d3a  ="margin-bottom:
-00001f00: 2031 3570 7822 3e3c 2f64 6976 3e0a 2020   15px"></div>.  
-00001f10: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
-00001f20: 3d22 7465 7874 2d63 656e 7465 7222 3e0a  ="text-center">.
-00001f30: 2020 2020 2020 2020 2020 2020 7b25 2062              {% b
-00001f40: 7574 746f 6e20 7479 7065 3d22 7361 7665  utton type="save
-00001f50: 2220 7661 6c75 653d 2253 6176 6520 7365  " value="Save se
-00001f60: 7474 696e 6773 2220 257d 0a20 2020 2020  ttings" %}.     
-00001f70: 2020 203c 2f64 6976 3e0a 2020 2020 3c2f     </div>.    </
-00001f80: 666f 726d 3e0a 3c2f 6469 763e            form>.</div>
+00001a60: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00001a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a80: 206e 616d 653d 2264 6173 6862 6f61 7264   name="dashboard
+00001a90: 5f73 7461 6666 5f73 7461 7475 735f 6368  _staff_status_ch
+00001aa0: 6563 6b5f 6675 7475 7265 5f73 7461 7475  eck_future_statu
+00001ab0: 7322 0a20 2020 2020 2020 2020 2020 2020  s".             
+00001ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ad0: 2020 7b25 2069 6620 6461 7368 626f 6172    {% if dashboar
+00001ae0: 645f 7374 6166 665f 7374 6174 7573 5f63  d_staff_status_c
+00001af0: 6865 636b 5f66 7574 7572 655f 7374 6174  heck_future_stat
+00001b00: 7573 203d 3d20 2773 7461 6666 7327 2025  us == 'staffs' %
+00001b10: 7d63 6865 636b 6564 7b25 2065 6e64 6966  }checked{% endif
+00001b20: 2025 7d0a 2020 2020 2020 2020 2020 2020   %}.            
+00001b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b40: 2020 2076 616c 7565 3d22 7374 6166 6673     value="staffs
+00001b50: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
+00001b60: 2020 2020 2020 2020 2020 2053 7461 6666             Staff
+00001b70: 206f 6e6c 790a 2020 2020 2020 2020 2020   only.          
+00001b80: 2020 2020 2020 2020 2020 3c2f 6c61 6265            </labe
+00001b90: 6c3e 0a20 2020 2020 2020 2020 2020 2020  l>.             
+00001ba0: 2020 2020 2020 203c 6c61 6265 6c3e 0a20         <label>. 
+00001bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001bc0: 2020 2020 2020 203c 696e 7075 7420 7479         <input ty
+00001bd0: 7065 3d22 7261 6469 6f22 0a20 2020 2020  pe="radio".     
+00001be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001bf0: 2020 2020 2020 2020 2020 6e61 6d65 3d22            name="
+00001c00: 6461 7368 626f 6172 645f 7374 6166 665f  dashboard_staff_
+00001c10: 7374 6174 7573 5f63 6865 636b 5f66 7574  status_check_fut
+00001c20: 7572 655f 7374 6174 7573 220a 2020 2020  ure_status".    
+00001c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c40: 2020 2020 2020 2020 2020 207b 2520 6966             {% if
+00001c50: 2064 6173 6862 6f61 7264 5f73 7461 6666   dashboard_staff
+00001c60: 5f73 7461 7475 735f 6368 6563 6b5f 6675  _status_check_fu
+00001c70: 7475 7265 5f73 7461 7475 7320 3d3d 2027  ture_status == '
+00001c80: 6d61 6e61 6765 7273 2720 257d 6368 6563  managers' %}chec
+00001c90: 6b65 647b 2520 656e 6469 6620 257d 0a20  ked{% endif %}. 
+00001ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001cb0: 2020 2020 2020 2020 2020 2020 2020 7661                va
+00001cc0: 6c75 653d 226d 616e 6167 6572 7322 3e0a  lue="managers">.
+00001cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ce0: 2020 2020 2020 2020 4d61 6e61 6765 7273          Managers
+00001cf0: 206f 6e6c 790a 2020 2020 2020 2020 2020   only.          
+00001d00: 2020 2020 2020 2020 2020 3c2f 6c61 6265            </labe
+00001d10: 6c3e 0a20 2020 2020 2020 2020 2020 2020  l>.             
+00001d20: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
+00001d30: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00001d40: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+00001d50: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00001d60: 666f 726d 2d67 726f 7570 223e 0a20 2020  form-group">.   
+00001d70: 2020 2020 2020 2020 203c 6c61 6265 6c20           <label 
+00001d80: 636c 6173 733d 2263 6f6e 7472 6f6c 2d6c  class="control-l
+00001d90: 6162 656c 2063 6f6c 2d6d 642d 3322 3e55  abel col-md-3">U
+00001da0: 7365 7220 7669 6577 206f 7074 696f 6e73  ser view options
+00001db0: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
+00001dc0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+00001dd0: 2263 6f6c 2d6d 642d 3922 3e0a 2020 2020  "col-md-9">.    
+00001de0: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+00001df0: 2063 6c61 7373 3d22 7261 6469 6f22 3e0a   class="radio">.
+00001e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e10: 2020 2020 3c6c 6162 656c 3e0a 2020 2020      <label>.    
+00001e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e30: 2020 2020 3c69 6e70 7574 2074 7970 653d      <input type=
+00001e40: 2272 6164 696f 220a 2020 2020 2020 2020  "radio".        
+00001e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e60: 2020 2020 2020 206e 616d 653d 2264 6173         name="das
+00001e70: 6862 6f61 7264 5f73 7461 6666 5f73 7461  hboard_staff_sta
+00001e80: 7475 735f 7573 6572 5f76 6965 7722 0a20  tus_user_view". 
+00001e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ea0: 2020 2020 2020 2020 2020 2020 2020 7b25                {%
+00001eb0: 2069 6620 6e6f 7420 6461 7368 626f 6172   if not dashboar
+00001ec0: 645f 7374 6166 665f 7374 6174 7573 5f75  d_staff_status_u
+00001ed0: 7365 725f 7669 6577 2025 7d63 6865 636b  ser_view %}check
+00001ee0: 6564 7b25 2065 6e64 6966 2025 7d0a 2020  ed{% endif %}.  
+00001ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f00: 2020 2020 2020 2020 2020 2020 2076 616c               val
+00001f10: 7565 3d22 223e 0a20 2020 2020 2020 2020  ue="">.         
+00001f20: 2020 2020 2020 2020 2020 2020 2020 2044                 D
+00001f30: 6179 2f57 6565 6b2f 4d6f 6e74 680a 2020  ay/Week/Month.  
+00001f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f50: 2020 3c2f 6c61 6265 6c3e 0a20 2020 2020    </label>.     
+00001f60: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00001f70: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
+00001f80: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00001f90: 696e 7075 7420 7479 7065 3d22 7261 6469  input type="radi
+00001fa0: 6f22 0a20 2020 2020 2020 2020 2020 2020  o".             
+00001fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001fc0: 2020 6e61 6d65 3d22 6461 7368 626f 6172    name="dashboar
+00001fd0: 645f 7374 6166 665f 7374 6174 7573 5f75  d_staff_status_u
+00001fe0: 7365 725f 7669 6577 220a 2020 2020 2020  ser_view".      
+00001ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002000: 2020 2020 2020 2020 207b 2520 6966 2064           {% if d
+00002010: 6173 6862 6f61 7264 5f73 7461 6666 5f73  ashboard_staff_s
+00002020: 7461 7475 735f 7573 6572 5f76 6965 7720  tatus_user_view 
+00002030: 3d3d 2027 7765 656b 2720 257d 6368 6563  == 'week' %}chec
+00002040: 6b65 647b 2520 656e 6469 6620 257d 0a20  ked{% endif %}. 
+00002050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002060: 2020 2020 2020 2020 2020 2020 2020 7661                va
+00002070: 6c75 653d 2277 6565 6b22 3e0a 2020 2020  lue="week">.    
+00002080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002090: 2020 2020 4461 792f 5765 656b 0a20 2020      Day/Week.   
+000020a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020b0: 203c 2f6c 6162 656c 3e0a 2020 2020 2020   </label>.      
+000020c0: 2020 2020 2020 2020 2020 2020 2020 3c6c                <l
+000020d0: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
+000020e0: 2020 2020 2020 2020 2020 2020 2020 3c69                <i
+000020f0: 6e70 7574 2074 7970 653d 2272 6164 696f  nput type="radio
+00002100: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00002110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002120: 206e 616d 653d 2264 6173 6862 6f61 7264   name="dashboard
+00002130: 5f73 7461 6666 5f73 7461 7475 735f 7573  _staff_status_us
+00002140: 6572 5f76 6965 7722 0a20 2020 2020 2020  er_view".       
+00002150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002160: 2020 2020 2020 2020 7b25 2069 6620 6461          {% if da
+00002170: 7368 626f 6172 645f 7374 6166 665f 7374  shboard_staff_st
+00002180: 6174 7573 5f75 7365 725f 7669 6577 203d  atus_user_view =
+00002190: 3d20 2764 6179 2720 257d 6368 6563 6b65  = 'day' %}checke
+000021a0: 647b 2520 656e 6469 6620 257d 0a20 2020  d{% endif %}.   
+000021b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000021c0: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
+000021d0: 653d 2264 6179 223e 0a20 2020 2020 2020  e="day">.       
+000021e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000021f0: 2044 6179 0a20 2020 2020 2020 2020 2020   Day.           
+00002200: 2020 2020 2020 2020 203c 2f6c 6162 656c           </label
+00002210: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00002220: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+00002230: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+00002240: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
+00002250: 2020 203c 6469 7620 636c 6173 733d 2266     <div class="f
+00002260: 6f72 6d2d 6772 6f75 7022 3e0a 2020 2020  orm-group">.    
+00002270: 2020 2020 2020 2020 3c6c 6162 656c 2063          <label c
+00002280: 6c61 7373 3d22 636f 6e74 726f 6c2d 6c61  lass="control-la
+00002290: 6265 6c20 636f 6c2d 6d64 2d33 223e 5374  bel col-md-3">St
+000022a0: 6166 6620 7669 6577 206f 7074 696f 6e73  aff view options
+000022b0: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
+000022c0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+000022d0: 2263 6f6c 2d6d 642d 3922 3e0a 2020 2020  "col-md-9">.    
+000022e0: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+000022f0: 2063 6c61 7373 3d22 7261 6469 6f22 3e0a   class="radio">.
+00002300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002310: 2020 2020 3c6c 6162 656c 3e0a 2020 2020      <label>.    
+00002320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002330: 2020 2020 3c69 6e70 7574 2074 7970 653d      <input type=
+00002340: 2272 6164 696f 220a 2020 2020 2020 2020  "radio".        
+00002350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002360: 2020 2020 2020 206e 616d 653d 2264 6173         name="das
+00002370: 6862 6f61 7264 5f73 7461 6666 5f73 7461  hboard_staff_sta
+00002380: 7475 735f 7374 6166 665f 7669 6577 220a  tus_staff_view".
+00002390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000023a0: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+000023b0: 2520 6966 206e 6f74 2064 6173 6862 6f61  % if not dashboa
+000023c0: 7264 5f73 7461 6666 5f73 7461 7475 735f  rd_staff_status_
+000023d0: 7374 6166 665f 7669 6577 2025 7d63 6865  staff_view %}che
+000023e0: 636b 6564 7b25 2065 6e64 6966 2025 7d0a  cked{% endif %}.
+000023f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002400: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+00002410: 616c 7565 3d22 223e 0a20 2020 2020 2020  alue="">.       
+00002420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002430: 2044 6179 2f57 6565 6b2f 4d6f 6e74 680a   Day/Week/Month.
+00002440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002450: 2020 2020 3c2f 6c61 6265 6c3e 0a20 2020      </label>.   
+00002460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002470: 203c 6c61 6265 6c3e 0a20 2020 2020 2020   <label>.       
+00002480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002490: 203c 696e 7075 7420 7479 7065 3d22 7261   <input type="ra
+000024a0: 6469 6f22 0a20 2020 2020 2020 2020 2020  dio".           
+000024b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000024c0: 2020 2020 6e61 6d65 3d22 6461 7368 626f      name="dashbo
+000024d0: 6172 645f 7374 6166 665f 7374 6174 7573  ard_staff_status
+000024e0: 5f73 7461 6666 5f76 6965 7722 0a20 2020  _staff_view".   
+000024f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002500: 2020 2020 2020 2020 2020 2020 7b25 2069              {% i
+00002510: 6620 6461 7368 626f 6172 645f 7374 6166  f dashboard_staf
+00002520: 665f 7374 6174 7573 5f73 7461 6666 5f76  f_status_staff_v
+00002530: 6965 7720 3d3d 2027 7765 656b 2720 257d  iew == 'week' %}
+00002540: 6368 6563 6b65 647b 2520 656e 6469 6620  checked{% endif 
+00002550: 257d 0a20 2020 2020 2020 2020 2020 2020  %}.             
+00002560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002570: 2020 7661 6c75 653d 2277 6565 6b22 3e0a    value="week">.
+00002580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002590: 2020 2020 2020 2020 4461 792f 5765 656b          Day/Week
+000025a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000025b0: 2020 2020 203c 2f6c 6162 656c 3e0a 2020       </label>.  
+000025c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000025d0: 2020 3c6c 6162 656c 3e0a 2020 2020 2020    <label>.      
+000025e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000025f0: 2020 3c69 6e70 7574 2074 7970 653d 2272    <input type="r
+00002600: 6164 696f 220a 2020 2020 2020 2020 2020  adio".          
+00002610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002620: 2020 2020 206e 616d 653d 2264 6173 6862       name="dashb
+00002630: 6f61 7264 5f73 7461 6666 5f73 7461 7475  oard_staff_statu
+00002640: 735f 7374 6166 665f 7669 6577 220a 2020  s_staff_view".  
+00002650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002660: 2020 2020 2020 2020 2020 2020 207b 2520               {% 
+00002670: 6966 2064 6173 6862 6f61 7264 5f73 7461  if dashboard_sta
+00002680: 6666 5f73 7461 7475 735f 7374 6166 665f  ff_status_staff_
+00002690: 7669 6577 203d 3d20 2764 6179 2720 257d  view == 'day' %}
+000026a0: 6368 6563 6b65 647b 2520 656e 6469 6620  checked{% endif 
+000026b0: 257d 0a20 2020 2020 2020 2020 2020 2020  %}.             
+000026c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000026d0: 2020 7661 6c75 653d 2264 6179 223e 0a20    value="day">. 
+000026e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000026f0: 2020 2020 2020 2044 6179 0a20 2020 2020         Day.     
+00002700: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00002710: 2f6c 6162 656c 3e0a 2020 2020 2020 2020  /label>.        
+00002720: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+00002730: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+00002740: 3e0a 2020 2020 2020 2020 3c2f 6469 763e  >.        </div>
+00002750: 0a20 2020 2020 2020 203c 6469 7620 636c  .        <div cl
+00002760: 6173 733d 2266 6f72 6d2d 6772 6f75 7022  ass="form-group"
+00002770: 3e0a 2020 2020 2020 2020 2020 2020 3c6c  >.            <l
+00002780: 6162 656c 2063 6c61 7373 3d22 636f 6e74  abel class="cont
+00002790: 726f 6c2d 6c61 6265 6c20 636f 6c2d 6d64  rol-label col-md
+000027a0: 2d33 223e 5669 6577 2061 6273 656e 6365  -3">View absence
+000027b0: 2064 6574 6169 6c73 3c2f 6c61 6265 6c3e   details</label>
+000027c0: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
+000027d0: 7620 636c 6173 733d 2263 6f6c 2d6d 642d  v class="col-md-
+000027e0: 3922 3e0a 2020 2020 2020 2020 2020 2020  9">.            
+000027f0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00002800: 6368 6563 6b62 6f78 223e 0a20 2020 2020  checkbox">.     
+00002810: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00002820: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
+00002830: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00002840: 696e 7075 7420 7479 7065 3d22 6368 6563  input type="chec
+00002850: 6b62 6f78 220a 2020 2020 2020 2020 2020  kbox".          
+00002860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002870: 2020 2020 206e 616d 653d 2264 6173 6862       name="dashb
+00002880: 6f61 7264 5f73 7461 6666 5f73 7461 7475  oard_staff_statu
+00002890: 735f 6162 7365 6e63 655f 7669 6577 5f73  s_absence_view_s
+000028a0: 7461 6666 220a 2020 2020 2020 2020 2020  taff".          
+000028b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000028c0: 2020 2020 207b 2520 6966 2064 6173 6862       {% if dashb
+000028d0: 6f61 7264 5f73 7461 6666 5f73 7461 7475  oard_staff_statu
+000028e0: 735f 6162 7365 6e63 655f 7669 6577 5f73  s_absence_view_s
+000028f0: 7461 6666 2025 7d63 6865 636b 6564 7b25  taff %}checked{%
+00002900: 2065 6e64 6966 2025 7d0a 2020 2020 2020   endif %}.      
+00002910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002920: 2020 2020 2020 2020 2076 616c 7565 3d22           value="
+00002930: 656e 6162 6c65 6422 3e0a 2020 2020 2020  enabled">.      
+00002940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002950: 2020 5465 6368 6e69 6361 6c20 7374 6166    Technical staf
+00002960: 660a 2020 2020 2020 2020 2020 2020 2020  f.              
+00002970: 2020 2020 2020 3c2f 6c61 6265 6c3e 0a20        </label>. 
+00002980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002990: 2020 203c 6272 202f 3e0a 2020 2020 2020     <br />.      
+000029a0: 2020 2020 2020 2020 2020 2020 2020 3c6c                <l
+000029b0: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
+000029c0: 2020 2020 2020 2020 2020 2020 2020 3c69                <i
+000029d0: 6e70 7574 2074 7970 653d 2263 6865 636b  nput type="check
+000029e0: 626f 7822 0a20 2020 2020 2020 2020 2020  box".           
+000029f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a00: 2020 2020 6e61 6d65 3d22 6461 7368 626f      name="dashbo
+00002a10: 6172 645f 7374 6166 665f 7374 6174 7573  ard_staff_status
+00002a20: 5f61 6273 656e 6365 5f76 6965 775f 7573  _absence_view_us
+00002a30: 6572 5f6f 6666 6963 6522 0a20 2020 2020  er_office".     
+00002a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a50: 2020 2020 2020 2020 2020 7b25 2069 6620            {% if 
+00002a60: 6461 7368 626f 6172 645f 7374 6166 665f  dashboard_staff_
+00002a70: 7374 6174 7573 5f61 6273 656e 6365 5f76  status_absence_v
+00002a80: 6965 775f 7573 6572 5f6f 6666 6963 6520  iew_user_office 
+00002a90: 257d 6368 6563 6b65 647b 2520 656e 6469  %}checked{% endi
+00002aa0: 6620 257d 0a20 2020 2020 2020 2020 2020  f %}.           
+00002ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002ac0: 2020 2020 7661 6c75 653d 2265 6e61 626c      value="enabl
+00002ad0: 6564 223e 0a20 2020 2020 2020 2020 2020  ed">.           
+00002ae0: 2020 2020 2020 2020 2020 2020 2055 7365               Use
+00002af0: 7220 6f66 6669 6365 0a20 2020 2020 2020  r office.       
+00002b00: 2020 2020 2020 2020 2020 2020 203c 2f6c               </l
+00002b10: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
+00002b20: 2020 2020 2020 2020 2020 3c62 7220 2f3e            <br />
+00002b30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002b40: 2020 2020 203c 6c61 6265 6c3e 0a20 2020       <label>.   
+00002b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b60: 2020 2020 203c 696e 7075 7420 7479 7065       <input type
+00002b70: 3d22 6368 6563 6b62 6f78 220a 2020 2020  ="checkbox".    
+00002b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b90: 2020 2020 2020 2020 2020 206e 616d 653d             name=
+00002ba0: 2264 6173 6862 6f61 7264 5f73 7461 6666  "dashboard_staff
+00002bb0: 5f73 7461 7475 735f 6162 7365 6e63 655f  _status_absence_
+00002bc0: 7669 6577 5f61 6363 6f75 6e74 696e 675f  view_accounting_
+00002bd0: 6f66 6669 6365 7222 0a20 2020 2020 2020  officer".       
+00002be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002bf0: 2020 2020 2020 2020 7b25 2069 6620 6461          {% if da
+00002c00: 7368 626f 6172 645f 7374 6166 665f 7374  shboard_staff_st
+00002c10: 6174 7573 5f61 6273 656e 6365 5f76 6965  atus_absence_vie
+00002c20: 775f 6163 636f 756e 7469 6e67 5f6f 6666  w_accounting_off
+00002c30: 6963 6572 2025 7d63 6865 636b 6564 7b25  icer %}checked{%
+00002c40: 2065 6e64 6966 2025 7d0a 2020 2020 2020   endif %}.      
+00002c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002c60: 2020 2020 2020 2020 2076 616c 7565 3d22           value="
+00002c70: 656e 6162 6c65 6422 3e0a 2020 2020 2020  enabled">.      
+00002c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002c90: 2020 4163 636f 756e 7469 6e67 2073 7461    Accounting sta
+00002ca0: 6666 0a20 2020 2020 2020 2020 2020 2020  ff.             
+00002cb0: 2020 2020 2020 203c 2f6c 6162 656c 3e0a         </label>.
+00002cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002cd0: 2020 2020 3c62 7220 2f3e 0a20 2020 2020      <br />.     
+00002ce0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00002cf0: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
+00002d00: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00002d10: 696e 7075 7420 7479 7065 3d22 6368 6563  input type="chec
+00002d20: 6b62 6f78 2220 6368 6563 6b65 6420 6469  kbox" checked di
+00002d30: 7361 626c 6564 3e0a 2020 2020 2020 2020  sabled>.        
+00002d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002d50: 4661 6369 6c69 7479 206d 616e 6167 6572  Facility manager
+00002d60: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+00002d70: 2020 2020 2020 3c2f 6c61 6265 6c3e 0a20        </label>. 
+00002d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002d90: 2020 203c 6272 202f 3e0a 2020 2020 2020     <br />.      
+00002da0: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
+00002db0: 0a20 2020 2020 2020 2020 2020 203c 2f64  .            </d
+00002dc0: 6976 3e0a 2020 2020 2020 2020 3c2f 6469  iv>.        </di
+00002dd0: 763e 0a20 2020 2020 2020 203c 6469 7620  v>.        <div 
+00002de0: 636c 6173 733d 2263 7573 746f 6d69 7a61  class="customiza
+00002df0: 7469 6f6e 2d73 6570 6172 6174 696f 6e22  tion-separation"
+00002e00: 2073 7479 6c65 3d22 6d61 7267 696e 2d62   style="margin-b
+00002e10: 6f74 746f 6d3a 2031 3570 7822 3e3c 2f64  ottom: 15px"></d
+00002e20: 6976 3e0a 2020 2020 2020 2020 3c64 6976  iv>.        <div
+00002e30: 2063 6c61 7373 3d22 7465 7874 2d63 656e   class="text-cen
+00002e40: 7465 7222 3e7b 2520 6275 7474 6f6e 2074  ter">{% button t
+00002e50: 7970 653d 2273 6176 6522 2076 616c 7565  ype="save" value
+00002e60: 3d22 5361 7665 2073 6574 7469 6e67 7322  ="Save settings"
+00002e70: 2025 7d3c 2f64 6976 3e0a 2020 2020 3c2f   %}</div>.    </
+00002e80: 666f 726d 3e0a 3c2f 6469 763e 0a         form>.</div>.
```

## NEMO/templates/customizations/customizations_emails.html

```diff
@@ -2,62 +2,80 @@
 <div class="panel-body">
     <h3 class="customization-section-title">Email addresses</h3>
     <form method="POST" action="{% url 'customize' 'emails' %}" class="form-horizontal">
         {% csrf_token %}
         <div class="form-group {% if errors.feedback_email_address %}has-error{% endif %}">
             <label class="control-label col-md-2" for="feedback_email_address">Feedback</label>
             <div class="col-md-3">
-                <input type="email" id="feedback_email_address" name="feedback_email_address" class="form-control" value="{% if errors.feedback_email_address %}{{ errors.feedback_email_address.value }}{% else %}{{ feedback_email_address }}{% endif %}" placeholder="feedback@example.org">
+                <input type="email"
+                       id="feedback_email_address"
+                       name="feedback_email_address"
+                       class="form-control"
+                       value="{% if errors.feedback_email_address %}{{ errors.feedback_email_address.value }}{% else %}{{ feedback_email_address }}{% endif %}"
+                       placeholder="feedback@example.org">
             </div>
             <div class="col-md-7 help-block light-grey">
                 {% if errors.feedback_email_address %}
                     {{ errors.feedback_email_address.error }}
                 {% else %}
                     User feedback from the <a href="{% url 'feedback' %}">Feedback page</a> is sent to this email address.
                 {% endif %}
             </div>
         </div>
         <div class="form-group {% if errors.safety_email_address %}has-error{% endif %}">
             <label class="control-label col-md-2" for="safety_email_address">Safety</label>
             <div class="col-md-3">
-                <input type="email" id="safety_email_address" name="safety_email_address" class="form-control" value="{% if errors.safety_email_address %}{{ errors.safety_email_address.value }}{% else %}{{ safety_email_address }}{% endif %}" placeholder="safety@example.org">
+                <input type="email"
+                       id="safety_email_address"
+                       name="safety_email_address"
+                       class="form-control"
+                       value="{% if errors.safety_email_address %}{{ errors.safety_email_address.value }}{% else %}{{ safety_email_address }}{% endif %}"
+                       placeholder="safety@example.org">
             </div>
             <div class="col-md-7 help-block light-grey">
                 {% if errors.safety_email_address %}
                     {{ errors.safety_email_address.error }}
                 {% else %}
                     <a href="{% url 'safety_issues' %}">Safety suggestions and observations</a> are sent to this email address.
                 {% endif %}
             </div>
         </div>
         <div class="form-group {% if errors.abuse_email_address %}has-error{% endif %}">
             <label class="control-label col-md-2" for="abuse_email_address">Abuse</label>
             <div class="col-md-3">
-                <input type="text" id="abuse_email_address" name="abuse_email_address" class="form-control" value="{% if errors.abuse_email_address %}{{ errors.abuse_email_address.value }}{% else %}{{ abuse_email_address }}{% endif %}" placeholder="abuse@example.org">
+                <input type="text"
+                       id="abuse_email_address"
+                       name="abuse_email_address"
+                       class="form-control"
+                       value="{% if errors.abuse_email_address %}{{ errors.abuse_email_address.value }}{% else %}{{ abuse_email_address }}{% endif %}"
+                       placeholder="abuse@example.org">
             </div>
             <div class="col-md-7 help-block light-grey">
                 {% if errors.abuse_email_address %}
                     {{ errors.abuse_email_address.error }}
                 {% else %}
                     Alerts about user activities that could constitute 'abuse' are sent to this email address. Examples include missed reservations and unauthorized tool access.
                 {% endif %}
             </div>
         </div>
         <div class="form-group {% if errors.user_office_email_address %}has-error{% endif %}">
             <label class="control-label col-md-2" for="user_office_email_address">User office</label>
             <div class="col-md-3">
-                <input type="email" id="user_office_email_address" name="user_office_email_address" class="form-control" value="{% if errors.user_office_email_address %}{{ errors.user_office_email_address.value }}{% else %}{{ user_office_email_address }}{% endif %}" placeholder="information@example.org">
+                <input type="email"
+                       id="user_office_email_address"
+                       name="user_office_email_address"
+                       class="form-control"
+                       value="{% if errors.user_office_email_address %}{{ errors.user_office_email_address.value }}{% else %}{{ user_office_email_address }}{% endif %}"
+                       placeholder="information@example.org">
             </div>
             <div class="col-md-7 help-block light-grey">
                 {% if errors.user_office_email_address %}
                     {{ errors.user_office_email_address.error }}
                 {% else %}
                     The main point of contact for users to obtain {{ facility_name }} information. Automated emails sent from {{ site_title }} are typically 'from' this address.
                 {% endif %}
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
-</div>
+</div>
```

## NEMO/templates/customizations/customizations_interlock.html

```diff
@@ -2,45 +2,52 @@
 <div class="panel-body">
     <h3 class="customization-section-title">Interlock settings</h3>
     <form method="POST" action="{% url 'customize' 'interlock' %}" class="form-horizontal">
         {% csrf_token %}
         <div class="form-group">
             <label class="control-label col-md-2" for="tool_interlock_failure_message">Tool failure message</label>
             <div class="col-md-5">
-                <textarea oninput="auto_size_textarea(this);" id="tool_interlock_failure_message" name="tool_interlock_failure_message" class="form-control">{{ tool_interlock_failure_message }}</textarea>
-            </div>
-            <div class="col-md-5 help-block light-grey">
-                The message to display when a tool interlock command fails.
+                <textarea oninput="auto_size_textarea(this);"
+                          id="tool_interlock_failure_message"
+                          name="tool_interlock_failure_message"
+                          class="form-control">{{ tool_interlock_failure_message }}</textarea>
             </div>
+            <div class="col-md-5 help-block light-grey">The message to display when a tool interlock command fails.</div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-2" for="door_interlock_failure_message">Door failure message</label>
             <div class="col-md-5">
-                <textarea oninput="auto_size_textarea(this);" id="door_interlock_failure_message" name="door_interlock_failure_message" class="form-control">{{ door_interlock_failure_message }}</textarea>
-            </div>
-            <div class="col-md-5 help-block light-grey">
-                The message to display when a door interlock command fails.
+                <textarea oninput="auto_size_textarea(this);"
+                          id="door_interlock_failure_message"
+                          name="door_interlock_failure_message"
+                          class="form-control">{{ door_interlock_failure_message }}</textarea>
             </div>
+            <div class="col-md-5 help-block light-grey">The message to display when a door interlock command fails.</div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-2">Bypass on error</label>
             <div class="col-md-10">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="allow_bypass_interlock_on_failure" {% if allow_bypass_interlock_on_failure %}checked{% endif %} value="enabled">Check this box to offer users the option to bypass lock/unlock command when there is an interlock error.</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="allow_bypass_interlock_on_failure"
+                               {% if allow_bypass_interlock_on_failure %}checked{% endif %}
+                               value="enabled">
+                        Check this box to offer users the option to bypass lock/unlock command when there is an interlock error.
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
     <script type="text/javascript">
         $("#interlock-tab-link").click(function() {setTimeout(on_interlock_tab_show, 50)});
         function on_interlock_tab_show()
         {
             auto_size_textarea(document.getElementById('tool_interlock_failure_message'));
             auto_size_textarea(document.getElementById('door_interlock_failure_message'));
         }
         on_interlock_tab_show();
     </script>
-</div>
+</div>
```

## NEMO/templates/customizations/customizations_knowledge_base.html

```diff
@@ -3,37 +3,55 @@
     <h3 class="customization-section-title">Knowledge base settings</h3>
     <form method="POST" action="{% url 'customize' 'knowledge_base' %}" class="form-horizontal">
         {% csrf_token %}
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">User view</label>
             <div class="col-sm-8 col-md-9">
                 <div class="radio">
-                    <label><input type="radio" id="knowledge_base_user_expand_categories"
-                                  name="knowledge_base_user_expand_categories"
-                                  {% if not knowledge_base_user_expand_categories %}checked{% endif %} value=""> Side
-                        category panel</label>
-                    <label><input type="radio" name="knowledge_base_user_expand_categories"
-                                  {% if knowledge_base_user_expand_categories %}checked{% endif %} value="enabled"> All
-                        expanded categories</label>
+                    <label>
+                        <input type="radio"
+                               id="knowledge_base_user_expand_categories"
+                               name="knowledge_base_user_expand_categories"
+                               {% if not knowledge_base_user_expand_categories %}checked{% endif %}
+                               value="">
+                        Side
+                        category panel
+                    </label>
+                    <label>
+                        <input type="radio"
+                               name="knowledge_base_user_expand_categories"
+                               {% if knowledge_base_user_expand_categories %}checked{% endif %}
+                               value="enabled">
+                        All
+                        expanded categories
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Staff view</label>
             <div class="col-sm-8 col-md-9">
                 <div class="radio">
-                    <label><input type="radio" id="knowledge_base_staff_expand_categories"
-                                  name="knowledge_base_staff_expand_categories"
-                                  {% if not knowledge_base_staff_expand_categories %}checked{% endif %} value=""> Side
-                        category panel</label>
-                    <label><input type="radio" name="knowledge_base_staff_expand_categories"
-                                  {% if knowledge_base_staff_expand_categories %}checked{% endif %} value="enabled"> All
-                        expanded categories</label>
+                    <label>
+                        <input type="radio"
+                               id="knowledge_base_staff_expand_categories"
+                               name="knowledge_base_staff_expand_categories"
+                               {% if not knowledge_base_staff_expand_categories %}checked{% endif %}
+                               value="">
+                        Side
+                        category panel
+                    </label>
+                    <label>
+                        <input type="radio"
+                               name="knowledge_base_staff_expand_categories"
+                               {% if knowledge_base_staff_expand_categories %}checked{% endif %}
+                               value="enabled">
+                        All
+                        expanded categories
+                    </label>
                 </div>
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
 </div>
```

## NEMO/templates/customizations/customizations_projects_and_accounts.html

```diff
@@ -1,110 +1,153 @@
 {% load custom_tags_and_filters %}
 <div class="panel-body">
     <h3 class="customization-section-title">Projects & accounts</h3>
     <form method="POST" action="{% url 'customize' 'projects_and_accounts' %}" class="form-horizontal">
         {% csrf_token %}
         <div class="form-group" style="margin-bottom: 0">
-			<label class="control-label col-md-3" for="account_list_active_only">Projects/accounts list</label>
+            <label class="control-label col-md-3" for="account_list_active_only">Projects/accounts list</label>
             <div class="col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" id="account_list_active_only" name="account_list_active_only" {% if account_list_active_only %}checked{% endif %} value="enabled"> Hide inactive accounts</label>
+                    <label>
+                        <input type="checkbox"
+                               id="account_list_active_only"
+                               name="account_list_active_only"
+                               {% if account_list_active_only %}checked{% endif %}
+                               value="enabled">
+                        Hide inactive accounts
+                    </label>
                 </div>
             </div>
             <div class="col-md-offset-3 col-md-9 help-block light-grey">
-				Check this box to only show active accounts in the account list.
+                Check this box to only show active accounts in the account list.
             </div>
         </div>
         <div class="form-group" style="margin-bottom: 0">
             <div class="col-md-offset-3 col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" id="project_list_active_only" name="project_list_active_only" {% if project_list_active_only %}checked{% endif %} value="enabled"> Hide inactive projects</label>
+                    <label>
+                        <input type="checkbox"
+                               id="project_list_active_only"
+                               name="project_list_active_only"
+                               {% if project_list_active_only %}checked{% endif %}
+                               value="enabled">
+                        Hide inactive projects
+                    </label>
                 </div>
             </div>
             <div class="col-md-offset-3 col-md-9 help-block light-grey">
-				Check this box to only show active projects in the project list.
+                Check this box to only show active projects in the project list.
             </div>
         </div>
         <div class="form-group">
             <div class="col-md-offset-3 col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" id="account_list_collapse" name="account_list_collapse" {% if account_list_collapse %}checked{% endif %} value="enabled"> Collapse project list by default</label>
+                    <label>
+                        <input type="checkbox"
+                               id="account_list_collapse"
+                               name="account_list_collapse"
+                               {% if account_list_collapse %}checked{% endif %}
+                               value="enabled">
+                        Collapse project list by default
+                    </label>
                 </div>
             </div>
             <div class="col-md-offset-3 col-md-9 help-block light-grey">
                 Check this box to collapse account projects by default.
-			</div>
-		</div>
-		<div class="form-group">
-			<label class="control-label col-md-3" for="project_allow_transferring_charges">Transfer charges</label>
-			<div class="col-md-8">
-				<div class="checkbox">
-					<label><input type="checkbox" id="project_allow_transferring_charges"
-								  name="project_allow_transferring_charges"
-								  {% if project_allow_transferring_charges %}checked{% endif %} value="enabled"> Allow
-						accounting officers and managers to transfer charges to another project</label>
-				</div>
-			</div>
-			<div class="col-md-offset-3 col-md-8 help-block light-grey">
-				Check this box to enable the transfer charges feature (available in the Administration menu or <a
-					href="{% url 'transfer_charges' %}">here</a>).
             </div>
         </div>
-		<div class="form-group">
-			<label class="control-label col-md-3" for="project_allow_pi_manage_users">Project PIs</label>
+        <div class="form-group">
+            <label class="control-label col-md-3" for="project_allow_transferring_charges">Transfer charges</label>
             <div class="col-md-8">
                 <div class="checkbox">
-                    <label><input type="checkbox" id="project_allow_pi_manage_users" name="project_allow_pi_manage_users" {% if project_allow_pi_manage_users %}checked{% endif %} value="enabled"> Allow project PIs to manage users</label>
+                    <label>
+                        <input type="checkbox"
+                               id="project_allow_transferring_charges"
+                               name="project_allow_transferring_charges"
+                               {% if project_allow_transferring_charges %}checked{% endif %}
+                               value="enabled">
+                        Allow
+                        accounting officers and managers to transfer charges to another project
+                    </label>
+                </div>
+            </div>
+            <div class="col-md-offset-3 col-md-8 help-block light-grey">
+                Check this box to enable the transfer charges feature (available in the Administration menu or <a href="{% url 'transfer_charges' %}">here</a>).
+            </div>
+        </div>
+        <div class="form-group">
+            <label class="control-label col-md-3" for="project_allow_pi_manage_users">Project PIs</label>
+            <div class="col-md-8">
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox"
+                               id="project_allow_pi_manage_users"
+                               name="project_allow_pi_manage_users"
+                               {% if project_allow_pi_manage_users %}checked{% endif %}
+                               value="enabled">
+                        Allow project PIs to manage users
+                    </label>
                 </div>
             </div>
             <div class="col-md-offset-3 col-md-8 help-block light-grey">
                 Check this box to allow project PIs to add/remove users to/from projects.
             </div>
         </div>
         <div class="form-group {% if errors.project_application_identifier_name %}has-error{% endif %}">
             <label class="control-label col-md-3" for="project_application_identifier_name">Project identifier name</label>
             <div class="col-md-8">
-                <input type="text" id="project_application_identifier_name" name="project_application_identifier_name" class="form-control" value="{{ project_application_identifier_name }}">
+                <input type="text"
+                       id="project_application_identifier_name"
+                       name="project_application_identifier_name"
+                       class="form-control"
+                       value="{{ project_application_identifier_name }}">
             </div>
             <div class="col-md-offset-3 col-md-8 help-block light-grey">
                 {% if errors.project_application_identifier_name %}
                     {{ errors.project_application_identifier_name.error }}
                 {% else %}
                     The name of the project identifier property (Application, ID, Reference, PO etc.).
                 {% endif %}
             </div>
         </div>
         <div class="form-group {% if errors.project_selection_template %}has-error{% endif %}">
             <label class="control-label col-md-3" for="project_selection_template">Project selection template</label>
             <div class="col-md-8">
-                <textarea oninput="auto_size_textarea(this);" id="project_selection_template" name="project_selection_template" class="form-control">{% if errors.project_selection_template %}{{ errors.project_selection_template.value }}{% else %}{{ project_selection_template }}{% endif %}</textarea>
+                <textarea oninput="auto_size_textarea(this);"
+                          id="project_selection_template"
+                          name="project_selection_template"
+                          class="form-control">{% if errors.project_selection_template %}{{ errors.project_selection_template.value }}{% else %}{{ project_selection_template }}{% endif %}</textarea>
             </div>
             <div class="col-md-offset-3 col-md-8 help-block light-grey">
                 {% if errors.project_selection_template %}
                     {{ errors.project_selection_template.error }}
                 {% else %}
                     The django template used for rendering project selection when enabling tools and making reservations. The context variable <b>project</b> is provided.
                 {% endif %}
             </div>
         </div>
-		<div class="form-group">
-			<label class="control-label col-md-3">Document upload</label>
-			<div class="col-md-5">
-				<div class="checkbox">
-					<label><input type="checkbox" name="project_allow_document_upload" {% if project_allow_document_upload %}checked{% endif %} value="enabled">Enable project document upload</label>
-				</div>
-			</div>
-		</div>
-        <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
+        <div class="form-group">
+            <label class="control-label col-md-3">Document upload</label>
+            <div class="col-md-5">
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox"
+                               name="project_allow_document_upload"
+                               {% if project_allow_document_upload %}checked{% endif %}
+                               value="enabled">
+                        Enable project document upload
+                    </label>
+                </div>
+            </div>
         </div>
+        <div class="customization-separation" style="margin-bottom: 15px"></div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
     <script type="text/javascript">
         $("#projects_and_accounts-tab-link").click(function() {setTimeout(on_project_tab_show, 50)});
         function on_project_tab_show()
         {
             auto_size_textarea(document.getElementById('project_selection_template'))
         }
         on_project_tab_show();
     </script>
-</div>
+</div>
```

## NEMO/templates/customizations/customizations_rates.html

```diff
@@ -3,35 +3,50 @@
     <h3 class="customization-section-title" id="rate">Rates settings</h3>
     <form method="POST" action="{% url 'customize' 'rates' %}" class="form-horizontal">
         {% csrf_token %}
         <div class="form-group">
             <label class="control-label col-md-2">Rates table</label>
             <div class="col-md-10">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="rates_expand_table" {% if rates_expand_table %}checked{% endif %} value="enabled">Expand rates table in tool control</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="rates_expand_table"
+                               {% if rates_expand_table %}checked{% endif %}
+                               value="enabled">
+                        Expand rates table in tool control
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
     <div class="customization-separation" style="margin-top: 15px; margin-bottom: 15px"></div>
     <div class="form-group form-horizontal">
         <h3 class="customization-section-title" id="rate">Tool Rates</h3>
         <p>
             You can upload a json file to display tool rates. An example of a valid rates file can be found on <a target="_blank" href="https://github.com/usnistgov/NEMO/raw/master/resources/splash_pad_rates.json">Github</a>.
-            <br><br>It should be a JSON array of elements, and the following key/values are supported for each element:
+            <br>
+            <br>
+            It should be a JSON array of elements, and the following key/values are supported for each element:
         </p>
         <ul>
-            <li><b>item_id</b> - the id of the tool or supply</li>
-            <li><b>table_id</b> - the type of rate, one of "inventory_rate" (for supplies), "primetime_eq_hourly_rate" (for tool), "training_individual_hourly_rate" (for individual training rate), "training_group_hourly_rate" (for group training rate)</li>
-            <li><b>rate_class</b> - the class, one of "full cost" or "cost shared"</li>
-            <li><b>rate</b> - the rate amount</li>
+            <li>
+                <b>item_id</b> - the id of the tool or supply
+            </li>
+            <li>
+                <b>table_id</b> - the type of rate, one of "inventory_rate" (for supplies), "primetime_eq_hourly_rate" (for tool), "training_individual_hourly_rate" (for individual training rate), "training_group_hourly_rate" (for group training rate)
+            </li>
+            <li>
+                <b>rate_class</b> - the class, one of "full cost" or "cost shared"
+            </li>
+            <li>
+                <b>rate</b> - the rate amount
+            </li>
             <li>item - the name of the item (optional)</li>
         </ul>
         <div class="col-md-6">
             {% include 'customizations/customizations_upload.html' with element=rates name='rates' extension='json' key='rates' %}
         </div>
     </div>
-</div>
+</div>
```

## NEMO/templates/customizations/customizations_recurring_charges.html

```diff
@@ -2,58 +2,80 @@
 <div class="panel-body">
     <h3 class="customization-section-title">{{ recurring_charges_name }} settings</h3>
     <form method="POST" action="{% url 'customize' 'recurring_charges' %}" class="form-horizontal">
         {% csrf_token %}
         <div class="form-group">
             <label class="control-label col-md-2" for="recurring_charges_name">Feature name</label>
             <div class="col-md-3">
-                <input type="text" id="recurring_charges_name" name="recurring_charges_name" class="form-control" value="{{ recurring_charges_name }}">
-            </div>
-            <div class="col-md-7 help-block light-grey">
-                The name to use for this feature throughout the application.
+                <input type="text"
+                       id="recurring_charges_name"
+                       name="recurring_charges_name"
+                       class="form-control"
+                       value="{{ recurring_charges_name }}">
             </div>
+            <div class="col-md-7 help-block light-grey">The name to use for this feature throughout the application.</div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-2">Lock {{ recurring_charges_name|lower }}</label>
             <div class="col-md-10">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="recurring_charges_lock" {% if recurring_charges_lock %}checked{% endif %} value="enabled">Check this box to lock {{ recurring_charges_name|lower }}, so staff members can only change customer and project fields.</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="recurring_charges_lock"
+                               {% if recurring_charges_lock %}checked{% endif %}
+                               value="enabled">
+                        Check this box to lock {{ recurring_charges_name|lower }}, so staff members can only change customer and project fields.
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-2">Customer validation</label>
             <div class="col-md-10">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="recurring_charges_skip_customer_validation" {% if recurring_charges_skip_customer_validation %}checked{% endif %} value="enabled">Check this box to skip customer validation (inactive or access has expired).</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="recurring_charges_skip_customer_validation"
+                               {% if recurring_charges_skip_customer_validation %}checked{% endif %}
+                               value="enabled">
+                        Check this box to skip customer validation (inactive or access has expired).
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-2" for="recurring_charges_category">Category</label>
             <div class="col-md-3">
                 <select class="form-control" id="recurring_charges_category" name="recurring_charges_category">
                     <option selected>All categories</option>
                     {% for consumable_category in consumable_categories %}
-                        <option value="{{ consumable_category.id }}" {% if consumable_category.id == recurring_charges_category|to_int %}selected{% endif %}>{{ consumable_category.name }}</option>
+                        <option value="{{ consumable_category.id }}"
+                                {% if consumable_category.id == recurring_charges_category|to_int %}selected{% endif %}>
+                            {{ consumable_category.name }}
+                        </option>
                     {% endfor %}
                 </select>
             </div>
             <div class="col-md-7 help-block light-grey">
                 [Optional] Select a consumable category to restrict consumable choices to.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-2" for="recurring_charges_force_quantity">Force quantity</label>
             <div class="col-md-3">
-                <input type="number" step="1" id="recurring_charges_force_quantity" name="recurring_charges_force_quantity" class="form-control" value="{{ recurring_charges_force_quantity }}">
+                <input type="number"
+                       step="1"
+                       id="recurring_charges_force_quantity"
+                       name="recurring_charges_force_quantity"
+                       class="form-control"
+                       value="{{ recurring_charges_force_quantity }}">
             </div>
             <div class="col-md-7 help-block light-grey">
                 [Optional] Define a quantity to be automatically set for every {{ recurring_charges_name|lower }}.
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
-</div>
+</div>
```

## NEMO/templates/customizations/customizations_remote_work.html

```diff
@@ -3,35 +3,61 @@
     <h3 class="customization-section-title">Remote work settings</h3>
     <form method="POST" action="{% url 'customize' 'remote_work' %}" class="form-horizontal">
         {% csrf_token %}
         <div class="form-group">
             <label class="control-label col-sm-4">Remote work validation</label>
             <div class="col-sm-8">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="remote_work_validation" {% if remote_work_validation %}checked{% endif %} value="enabled">Allow staff member to validate previous remote work</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="remote_work_validation"
+                               {% if remote_work_validation %}checked{% endif %}
+                               value="enabled">
+                        Allow staff member to validate previous remote work
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4">Remote work area access time</label>
             <div class="col-sm-8">
                 <div class="checkbox">
-                    <input type="hidden" name="remote_work_start_area_access_automatically" value="off"/>
-                    <label><input type="checkbox" name="remote_work_start_area_access_automatically" {% if remote_work_start_area_access_automatically != "off" %}checked{% endif %} value="">Charge area access time automatically when starting a remote project</label><br/>
+                    <input type="hidden" name="remote_work_start_area_access_automatically" value="off" />
+                    <label>
+                        <input type="checkbox"
+                               name="remote_work_start_area_access_automatically"
+                               {% if remote_work_start_area_access_automatically != "off" %}checked{% endif %}
+                               value="">
+                        Charge area access time automatically when starting a remote project
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4">Work on behalf of another user</label>
             <div class="col-sm-8">
                 <div class="radio">
-                    <label><input type="radio" name="remote_work_ask_explicitly" {% if not remote_work_ask_explicitly %}checked{% endif %} value="">Staff on behalf of user is always considered remote</label><br/>
-                    <label><input type="radio" name="remote_work_ask_explicitly" {% if remote_work_ask_explicitly %}checked{% endif %} value="enabled">Ask explicitly</label><br/>
+                    <label>
+                        <input type="radio"
+                               name="remote_work_ask_explicitly"
+                               {% if not remote_work_ask_explicitly %}checked{% endif %}
+                               value="">
+                        Staff on behalf of user is always considered remote
+                    </label>
+                    <br />
+                    <label>
+                        <input type="radio"
+                               name="remote_work_ask_explicitly"
+                               {% if remote_work_ask_explicitly %}checked{% endif %}
+                               value="enabled">
+                        Ask explicitly
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
-</div>
+</div>
```

## NEMO/templates/customizations/customizations_requests.html

```diff
@@ -3,251 +3,388 @@
     <form method="POST" action="{% url 'customize' 'requests' %}" class="form-horizontal">
         {% csrf_token %}
         <h3 class="customization-section-title">Charges adjustments and validation settings</h3>
         <div class="form-group">
             <label class="control-label col-md-4">Enable adjustment requests</label>
             <div class="col-md-8">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="adjustment_requests_enabled" {% if adjustment_requests_enabled %}checked{% endif %} value="enabled">Check this box to allow users to request adjustment for charges.</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="adjustment_requests_enabled"
+                               {% if adjustment_requests_enabled %}checked{% endif %}
+                               value="enabled">
+                        Check this box to allow users to request adjustment for charges.
+                    </label>
+                    <br />
                 </div>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 At least one user with the facility manager role needs to exist for approval.
             </div>
         </div>
-		<div class="form-group">
+        <div class="form-group">
             <label class="control-label col-md-4">Enable charges validation</label>
             <div class="col-md-8">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="charges_validation_enabled" {% if charges_validation_enabled %}checked{% endif %} value="enabled">Check this box to allow users to validate charges.</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="charges_validation_enabled"
+                               {% if charges_validation_enabled %}checked{% endif %}
+                               value="enabled">
+                        Check this box to allow users to validate charges.
+                    </label>
+                    <br />
                 </div>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 Charges validation uses the same charge types and time limit as adjustments.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-4" for="adjustment_requests_title">Adjustment request tab title</label>
             <div class="col-md-7">
-                <input type="text" id="adjustment_requests_title" name="adjustment_requests_title" class="form-control" value="{{ adjustment_requests_title }}"/>
+                <input type="text"
+                       id="adjustment_requests_title"
+                       name="adjustment_requests_title"
+                       class="form-control"
+                       value="{{ adjustment_requests_title }}" />
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The title for the adjustment request tab of the user requests page.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-4" for="adjustment_requests_description">Adjustment requests description</label>
             <div class="col-md-7">
-                <textarea oninput="auto_size_textarea(this);" id="adjustment_requests_description" name="adjustment_requests_description" class="form-control">{{ adjustment_requests_description }}</textarea>
+                <textarea oninput="auto_size_textarea(this);"
+                          id="adjustment_requests_description"
+                          name="adjustment_requests_description"
+                          class="form-control">{{ adjustment_requests_description }}</textarea>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The description/instructions to display on the adjustment requests page.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-4" for="adjustment_requests_display_max">Adjustment requests display maximum</label>
             <div class="col-md-3">
                 <div class="input-group">
-                    <input type="number" step="1" min="0" id="adjustment_requests_display_max" name="adjustment_requests_display_max" class="form-control text-right" value="{{ adjustment_requests_display_max }}"/>
+                    <input type="number"
+                           step="1"
+                           min="0"
+                           id="adjustment_requests_display_max"
+                           name="adjustment_requests_display_max"
+                           class="form-control text-right"
+                           value="{{ adjustment_requests_display_max }}" />
                     <span class="input-group-addon">requests</span>
                 </div>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The maximum number of requests to display in each section (approved, denied). Leave blank for all.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-4">Allowed charges for staff</label>
             <div class="col-md-8">
                 <div class="checkbox">
-                    <input type="hidden" name="adjustment_requests_staff_staff_charges_enabled" value="off"/>
-                    <label><input type="checkbox" name="adjustment_requests_staff_staff_charges_enabled" {% if adjustment_requests_staff_staff_charges_enabled == "enabled" %}checked{% endif %} value="enabled">Remote work (Staff charges, Tool usage & Area access)</label><br/>
+                    <input type="hidden" name="adjustment_requests_staff_staff_charges_enabled" value="off" />
+                    <label>
+                        <input type="checkbox"
+                               name="adjustment_requests_staff_staff_charges_enabled"
+                               {% if adjustment_requests_staff_staff_charges_enabled == "enabled" %}checked{% endif %}
+                               value="enabled">
+                        Remote work (Staff charges, Tool usage & Area access)
+                    </label>
+                    <br />
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-4">Allowed charges for users</label>
             <div class="col-md-8">
                 <div class="checkbox">
                     <div class="row col-md-12">
-                        <input type="hidden" name="adjustment_requests_tool_usage_enabled" value="off"/>
-                        <label><input type="checkbox" name="adjustment_requests_tool_usage_enabled" {% if adjustment_requests_tool_usage_enabled == "enabled" %}checked{% endif %} value="enabled">Tool usage</label><br/>
+                        <input type="hidden" name="adjustment_requests_tool_usage_enabled" value="off" />
+                        <label>
+                            <input type="checkbox"
+                                   name="adjustment_requests_tool_usage_enabled"
+                                   {% if adjustment_requests_tool_usage_enabled == "enabled" %}checked{% endif %}
+                                   value="enabled">
+                            Tool usage
+                        </label>
+                        <br />
                     </div>
                     <div class="row col-md-12">
-                        <input type="hidden" name="adjustment_requests_area_access_enabled" value="off"/>
-                        <label><input type="checkbox" name="adjustment_requests_area_access_enabled" {% if adjustment_requests_area_access_enabled == "enabled" %}checked{% endif %} value="enabled">Area access</label><br/>
+                        <input type="hidden" name="adjustment_requests_area_access_enabled" value="off" />
+                        <label>
+                            <input type="checkbox"
+                                   name="adjustment_requests_area_access_enabled"
+                                   {% if adjustment_requests_area_access_enabled == "enabled" %}checked{% endif %}
+                                   value="enabled">
+                            Area access
+                        </label>
+                        <br />
                     </div>
                     <div class="row col-lg-4 col-xs-5">
-                        <input type="hidden" name="adjustment_requests_missed_reservation_enabled" value="off"/>
-                        <label><input type="checkbox" name="adjustment_requests_missed_reservation_enabled" {% if adjustment_requests_missed_reservation_enabled == "enabled" %}checked{% endif %} value="enabled">Missed reservation</label>
+                        <input type="hidden" name="adjustment_requests_missed_reservation_enabled" value="off" />
+                        <label>
+                            <input type="checkbox"
+                                   name="adjustment_requests_missed_reservation_enabled"
+                                   {% if adjustment_requests_missed_reservation_enabled == "enabled" %}checked{% endif %}
+                                   value="enabled">
+                            Missed reservation
+                        </label>
                     </div>
                     <div class="row col-xs-8">
-                        <label><input type="checkbox" name="adjustment_requests_missed_reservation_times" {% if adjustment_requests_missed_reservation_times %}checked{% endif %} value="enabled">users can adjust reservation times</label>
+                        <label>
+                            <input type="checkbox"
+                                   name="adjustment_requests_missed_reservation_times"
+                                   {% if adjustment_requests_missed_reservation_times %}checked{% endif %}
+                                   value="enabled">
+                            users can adjust reservation times
+                        </label>
                     </div>
                 </div>
             </div>
         </div>
         <br>
         <div class="form-group">
-            <label class="control-label col-md-4" for="adjustment_requests_charges_display_number">Restrict number of charges</label>
+            <label class="control-label col-md-4" for="adjustment_requests_charges_display_number">
+                Restrict number of charges
+            </label>
             <div class="col-md-5">
                 <div class="input-group">
-                    <input type="number" step="1" min="0" id="adjustment_requests_charges_display_number" name="adjustment_requests_charges_display_number" class="form-control text-right" value="{{ adjustment_requests_charges_display_number }}"/>
+                    <input type="number"
+                           step="1"
+                           min="0"
+                           id="adjustment_requests_charges_display_number"
+                           name="adjustment_requests_charges_display_number"
+                           class="form-control text-right"
+                           value="{{ adjustment_requests_charges_display_number }}" />
                     <span class="input-group-addon">most recent charges</span>
                 </div>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The number of most recent charges to show in the dropdown menu when creating an adjustment.
             </div>
         </div>
         <div class="form-group {% if errors.adjustment_requests_time_limit_interval or errors.adjustment_requests_time_limit_frequency %}has-error{% endif %}">
             <label class="control-label col-md-4" for="adjustment_requests_time_limit_interval">Time limit for adjustments</label>
             <div class="col-md-5">
                 <div class="input-group">
                     <span class="input-group-addon">last</span>
-                    <input type="number" step="1" min="0" id="adjustment_requests_time_limit_interval" name="adjustment_requests_time_limit_interval" class="form-control text-right" value="{{ adjustment_requests_time_limit_interval }}"/>
+                    <input type="number"
+                           step="1"
+                           min="0"
+                           id="adjustment_requests_time_limit_interval"
+                           name="adjustment_requests_time_limit_interval"
+                           class="form-control text-right"
+                           value="{{ adjustment_requests_time_limit_interval }}" />
                     <span class="input-group-addon" style="background-color: initial; padding: 0">
-                        <select aria-label="time limit frequency" style="width: auto; border: none; text-align: center; padding: 6px 12px;" id="adjustment_requests_time_limit_frequency" name="adjustment_requests_time_limit_frequency">
+                        <select aria-label="time limit frequency"
+                                style="width: auto;
+                                       border: none;
+                                       text-align: center;
+                                       padding: 6px 12px"
+                                id="adjustment_requests_time_limit_frequency"
+                                name="adjustment_requests_time_limit_frequency">
                             <option value=""></option>
                             {% for freq in frequency_choices %}
                                 {{ adjustment_requests_time_limit_frequency }}
-                                <option value="{{ freq.0 }}" {% if adjustment_requests_time_limit_frequency|to_int == freq.0 %}selected{% endif %}>{{ freq.1 }}</option>
+                                <option value="{{ freq.0 }}"
+                                        {% if adjustment_requests_time_limit_frequency|to_int == freq.0 %}selected{% endif %}>
+                                    {{ freq.1 }}
+                                </option>
                             {% endfor %}
                         </select>
-
                     </span>
                 </div>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 {% if errors.adjustment_requests_time_limit_interval %}
                     {{ errors.adjustment_requests_time_limit_interval.error }}
                 {% elif errors.adjustment_requests_time_limit_frequency %}
                     {{ errors.adjustment_requests_time_limit_frequency.error }}
                 {% else %}
                     The timeframe for users to be able to request adjustment on charges.
                 {% endif %}
             </div>
         </div>
         <div class="form-group">
-            <label class="control-label col-md-4">Edit approved charges</label>
+            <label class="control-label col-md-4">Approved charges</label>
             <div class="col-md-8">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="adjustment_requests_edit_charge_button" {% if adjustment_requests_edit_charge_button %}checked{% endif %} value="enabled">Check this box to show a link to edit the original charge after approval</label><br/>
+                    <label>
+                        <input type="checkbox"
+                               name="adjustment_requests_edit_charge_button"
+                               {% if adjustment_requests_edit_charge_button %}checked{% endif %}
+                               value="enabled">
+                        Check this box to show a link to edit the original charge after approval
+                    </label>
+                    <br>
+                    <label>
+                        <input type="checkbox"
+                               name="adjustment_requests_apply_button"
+                               {% if adjustment_requests_apply_button %}checked{% endif %}
+                               value="enabled">
+                        Check this box to allow reviewers to adjust the charge when approving an adjustment
+                    </label>
+                    <br />
                 </div>
             </div>
-            <div class="col-md-offset-4 col-md-8 help-block light-grey">
-                This does not apply to general charges.
-            </div>
+            <div class="col-md-offset-4 col-md-8 help-block light-grey">This does not apply to general charges.</div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
         <h3 class="customization-section-title">Access requests settings</h3>
         <div class="form-group">
             <label class="control-label col-md-4" for="access_requests_title">Access request tab title</label>
             <div class="col-md-7">
-                <input type="text" id="access_requests_title" name="access_requests_title" class="form-control" value="{{ access_requests_title }}"/>
+                <input type="text"
+                       id="access_requests_title"
+                       name="access_requests_title"
+                       class="form-control"
+                       value="{{ access_requests_title }}" />
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The title for the access request tab of the user requests page.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-4" for="access_requests_description">Access requests description</label>
             <div class="col-md-7">
-                <textarea oninput="auto_size_textarea(this);" id="access_requests_description" name="access_requests_description" class="form-control">{{ access_requests_description }}</textarea>
+                <textarea oninput="auto_size_textarea(this);"
+                          id="access_requests_description"
+                          name="access_requests_description"
+                          class="form-control">{{ access_requests_description }}</textarea>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The description/instructions to display on the access requests page.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-4" for="access_requests_minimum_users">Access requests minimum users</label>
             <div class="col-md-3">
                 <div class="input-group">
-                    <input type="number" step="1" min="0" id="access_requests_minimum_users" name="access_requests_minimum_users" class="form-control text-right" value="{{ access_requests_minimum_users }}"/>
+                    <input type="number"
+                           step="1"
+                           min="0"
+                           id="access_requests_minimum_users"
+                           name="access_requests_minimum_users"
+                           class="form-control text-right"
+                           value="{{ access_requests_minimum_users }}" />
                     <span class="input-group-addon">users</span>
                 </div>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The minimum number of users (creator included) needed for an access request to be valid.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-4" for="access_requests_display_max">Access requests display maximum</label>
             <div class="col-md-3">
                 <div class="input-group">
-                    <input type="number" step="1" min="0" id="access_requests_display_max" name="access_requests_display_max" class="form-control text-right" value="{{ access_requests_display_max }}"/>
+                    <input type="number"
+                           step="1"
+                           min="0"
+                           id="access_requests_display_max"
+                           name="access_requests_display_max"
+                           class="form-control text-right"
+                           value="{{ access_requests_display_max }}" />
                     <span class="input-group-addon">requests</span>
                 </div>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The maximum number of requests to display in each section (approved, denied, expired). Leave blank for all.
             </div>
         </div>
         <div class="form-group {% if errors.weekend_access_notification_emails %}has-error{% endif %}">
-            <label class="control-label col-md-4" for="weekend_access_notification_emails">Weekend access notification email(s)</label>
+            <label class="control-label col-md-4" for="weekend_access_notification_emails">
+                Weekend access notification email(s)
+            </label>
             <div class="col-md-7">
-                <input type="text" id="weekend_access_notification_emails" name="weekend_access_notification_emails" class="form-control" value="{% if errors.weekend_access_notification_emails %}{{ errors.weekend_access_notification_emails.value }}{% else %}{{ weekend_access_notification_emails }}{% endif %}" placeholder="weekend_access@example.org"/>
+                <input type="text"
+                       id="weekend_access_notification_emails"
+                       name="weekend_access_notification_emails"
+                       class="form-control"
+                       value="{% if errors.weekend_access_notification_emails %}{{ errors.weekend_access_notification_emails.value }}{% else %}{{ weekend_access_notification_emails }}{% endif %}"
+                       placeholder="weekend_access@example.org" />
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 {% if errors.weekend_access_notification_emails %}
                     {{ errors.weekend_access_notification_emails.error }}
                 {% else %}
                     The email(s) to notify for weekend access. A comma-separated list can be used.
                 {% endif %}
             </div>
         </div>
         <div class="form-group">
-            <label class="control-label col-md-4" for="weekend_access_notification_cutoff_day">Weekend access notification cutoff</label>
+            <label class="control-label col-md-4" for="weekend_access_notification_cutoff_day">
+                Weekend access notification cutoff
+            </label>
             <div class="col-md-2">
-                <select id="weekend_access_notification_cutoff_day" name="weekend_access_notification_cutoff_day" class="form-control">
+                <select id="weekend_access_notification_cutoff_day"
+                        name="weekend_access_notification_cutoff_day"
+                        class="form-control">
                     <option value=""></option>
                     <option value="1" {% if weekend_access_notification_cutoff_day == '1' %}selected{% endif %}>Tuesday</option>
                     <option value="2" {% if weekend_access_notification_cutoff_day == '2' %}selected{% endif %}>Wednesday</option>
                     <option value="3" {% if weekend_access_notification_cutoff_day == '3' %}selected{% endif %}>Thursday</option>
                     <option value="4" {% if weekend_access_notification_cutoff_day == '4' %}selected{% endif %}>Friday</option>
                     <option value="5" {% if weekend_access_notification_cutoff_day == '5' %}selected{% endif %}>Saturday</option>
                 </select>
             </div>
             <div class="col-md-1 text-center">
                 <label class="control-label" for="weekend_access_notification_cutoff_hour">at</label>
             </div>
             <div class="col-md-2">
                 <div class="input-group">
-                    <input type="number" step="1" min="0" max="24" id="weekend_access_notification_cutoff_hour" name="weekend_access_notification_cutoff_hour" class="form-control text-right" value="{{ weekend_access_notification_cutoff_hour }}"/>
+                    <input type="number"
+                           step="1"
+                           min="0"
+                           max="24"
+                           id="weekend_access_notification_cutoff_hour"
+                           name="weekend_access_notification_cutoff_hour"
+                           class="form-control text-right"
+                           value="{{ weekend_access_notification_cutoff_hour }}" />
                     <span class="input-group-addon">:00 hrs</span>
                 </div>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The cutoff day and hour after which an email is sent if there is no approved weekend access for the week (in 24hrs format). If left blank the "no weekend access" will NOT be sent.
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
         <h3 class="customization-section-title">Buddy requests settings</h3>
         <div class="form-group">
             <label class="control-label col-md-4" for="buddy_requests_title">Buddy request tab title</label>
             <div class="col-md-7">
-                <input type="text" id="buddy_requests_title" name="buddy_requests_title" class="form-control" value="{{ buddy_requests_title }}"/>
+                <input type="text"
+                       id="buddy_requests_title"
+                       name="buddy_requests_title"
+                       class="form-control"
+                       value="{{ buddy_requests_title }}" />
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The title for the buddy request tab of the user requests page.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-4" for="buddy_board_description">Buddy board description</label>
             <div class="col-md-7">
-                <textarea oninput="auto_size_textarea(this);" id="buddy_board_description" name="buddy_board_description" class="form-control">{{ buddy_board_description }}</textarea>
+                <textarea oninput="auto_size_textarea(this);"
+                          id="buddy_board_description"
+                          name="buddy_board_description"
+                          class="form-control">{{ buddy_board_description }}</textarea>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The description/instructions to display on the buddy board page.
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
     <script type="text/javascript">
         $("#requests-tab-link").click(function() {setTimeout(on_requests_tab_show, 50)});
         function on_requests_tab_show()
         {
             auto_size_textarea(document.getElementById('buddy_board_description'));
             auto_size_textarea(document.getElementById('access_requests_description'));
```

## NEMO/templates/customizations/customizations_safety.html

```diff
@@ -3,54 +3,100 @@
     <h3 class="customization-section-title">Safety settings</h3>
     <form method="POST" action="{% url 'customize' 'safety' %}" class="form-horizontal">
         {% csrf_token %}
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Main menu item</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <input type="hidden" name="safety_main_menu" value="off"/>
-                    <label for="safety_main_menu"><input type="checkbox" id="safety_main_menu" name="safety_main_menu" {% if safety_main_menu != "off" %}checked{% endif %} value=""> Show</label>
+                    <input type="hidden" name="safety_main_menu" value="off" />
+                    <label for="safety_main_menu">
+                        <input type="checkbox"
+                               id="safety_main_menu"
+                               name="safety_main_menu"
+                               {% if safety_main_menu != "off" %}checked{% endif %}
+                               value="">
+                        Show
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Safety page items</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
                     <div class="row col-sm-12">
-                        <input type="hidden" name="safety_show_safety" value="off"/>
-                        <label for="safety_show_safety"><input type="checkbox" id="safety_show_safety" name="safety_show_safety" {% if safety_show_safety != "off" %}checked{% endif %} value=""> Safety</label>
+                        <input type="hidden" name="safety_show_safety" value="off" />
+                        <label for="safety_show_safety">
+                            <input type="checkbox"
+                                   id="safety_show_safety"
+                                   name="safety_show_safety"
+                                   {% if safety_show_safety != "off" %}checked{% endif %}
+                                   value="">
+                            Safety
+                        </label>
                     </div>
                     <div class="row col-sm-12">
-                        <input type="hidden" name="safety_show_safety_issues" value="off"/>
-                        <label for="safety_show_safety_issues"><input type="checkbox" id="safety_show_safety_issues" name="safety_show_safety_issues" {% if safety_show_safety_issues != "off" %}checked{% endif %} value=""> Safety issues</label>
+                        <input type="hidden" name="safety_show_safety_issues" value="off" />
+                        <label for="safety_show_safety_issues">
+                            <input type="checkbox"
+                                   id="safety_show_safety_issues"
+                                   name="safety_show_safety_issues"
+                                   {% if safety_show_safety_issues != "off" %}checked{% endif %}
+                                   value="">
+                            Safety issues
+                        </label>
                     </div>
                     <div class="row col-sm-12">
-                        <input type="hidden" name="safety_show_safety_data_sheets" value="off"/>
-                        <label for="safety_show_safety_data_sheets"><input type="checkbox" id="safety_show_safety_data_sheets" name="safety_show_safety_data_sheets" {% if safety_show_safety_data_sheets != "off" %}checked{% endif %} value=""> Safety data sheets</label>
+                        <input type="hidden" name="safety_show_safety_data_sheets" value="off" />
+                        <label for="safety_show_safety_data_sheets">
+                            <input type="checkbox"
+                                   id="safety_show_safety_data_sheets"
+                                   name="safety_show_safety_data_sheets"
+                                   {% if safety_show_safety_data_sheets != "off" %}checked{% endif %}
+                                   value="">
+                            Safety data sheets
+                        </label>
                     </div>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Safety items view</label>
             <div class="col-sm-8 col-md-9">
                 <div class="radio">
-                    <label><input type="radio" id="safety_items_expand_categories" name="safety_items_expand_categories" {% if not safety_items_expand_categories %}checked{% endif %} value=""> Side category panel</label>
-                    <label><input type="radio" name="safety_items_expand_categories" {% if safety_items_expand_categories %}checked{% endif %} value="enabled"> All expanded categories</label>
+                    <label>
+                        <input type="radio"
+                               id="safety_items_expand_categories"
+                               name="safety_items_expand_categories"
+                               {% if not safety_items_expand_categories %}checked{% endif %}
+                               value="">
+                        Side category panel
+                    </label>
+                    <label>
+                        <input type="radio"
+                               name="safety_items_expand_categories"
+                               {% if safety_items_expand_categories %}checked{% endif %}
+                               value="enabled">
+                        All expanded categories
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Safety data sheets</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <label for="safety_data_sheets_keywords_default"><input type="checkbox" id="safety_data_sheets_keywords_default" name="safety_data_sheets_keywords_default" {% if safety_data_sheets_keywords_default %}checked{% endif %} value="enabled"> Search with keywords by default</label>
+                    <label for="safety_data_sheets_keywords_default">
+                        <input type="checkbox"
+                               id="safety_data_sheets_keywords_default"
+                               name="safety_data_sheets_keywords_default"
+                               {% if safety_data_sheets_keywords_default %}checked{% endif %}
+                               value="enabled">
+                        Search with keywords by default
+                    </label>
                 </div>
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
 </div>
```

## NEMO/templates/customizations/customizations_shadowing_verification.html

```diff
@@ -2,49 +2,63 @@
 <div class="panel-body">
     <h3 class="customization-section-title">Shadowing Verification</h3>
     <form method="POST" action="{% url 'customize' 'shadowing_verification' %}" class="form-horizontal">
         {% csrf_token %}
         <div class="form-group">
             <label class="control-label col-md-4" for="shadowing_verification_request_title">Page title</label>
             <div class="col-md-7">
-                <input type="text" id="shadowing_verification_request_title" name="shadowing_verification_request_title" class="form-control" value="{{ shadowing_verification_request_title }}"/>
-            </div>
-            <div class="col-md-offset-4 col-md-8 help-block light-grey">
-                The title for the shadowing verification page.
+                <input type="text"
+                       id="shadowing_verification_request_title"
+                       name="shadowing_verification_request_title"
+                       class="form-control"
+                       value="{{ shadowing_verification_request_title }}" />
             </div>
+            <div class="col-md-offset-4 col-md-8 help-block light-grey">The title for the shadowing verification page.</div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-4" for="shadowing_verification_request_description">Description</label>
             <div class="col-md-7">
-                <textarea oninput="auto_size_textarea(this);" id="shadowing_verification_request_description" name="shadowing_verification_request_description" class="form-control">{{ shadowing_verification_request_description }}</textarea>
+                <textarea oninput="auto_size_textarea(this);"
+                          id="shadowing_verification_request_description"
+                          name="shadowing_verification_request_description"
+                          class="form-control">{{ shadowing_verification_request_description }}</textarea>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The description/instructions to display on the shadowing verification page.
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-md-4" for="shadowing_verification_request_display_max">Display maximum</label>
             <div class="col-md-3">
                 <div class="input-group">
-                    <input type="number" step="1" min="0" id="shadowing_verification_request_display_max" name="shadowing_verification_request_display_max" class="form-control text-right" value="{{ shadowing_verification_request_display_max }}"/>
+                    <input type="number"
+                           step="1"
+                           min="0"
+                           id="shadowing_verification_request_display_max"
+                           name="shadowing_verification_request_display_max"
+                           class="form-control text-right"
+                           value="{{ shadowing_verification_request_display_max }}" />
                     <span class="input-group-addon">requests</span>
                 </div>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The maximum number of requests to display in each section (approved, denied). Leave blank for all.
             </div>
         </div>
-		<div class="form-group">
-            <label class="control-label col-md-4" for="shadowing_verification_request_description_placeholder">Form description field placeholder</label>
+        <div class="form-group">
+            <label class="control-label col-md-4" for="shadowing_verification_request_description_placeholder">
+                Form description field placeholder
+            </label>
             <div class="col-md-7">
-                <textarea oninput="auto_size_textarea(this);" id="shadowing_verification_request_description_placeholder" name="shadowing_verification_request_description_placeholder" class="form-control">{{ shadowing_verification_request_description_placeholder }}</textarea>
+                <textarea oninput="auto_size_textarea(this);"
+                          id="shadowing_verification_request_description_placeholder"
+                          name="shadowing_verification_request_description_placeholder"
+                          class="form-control">{{ shadowing_verification_request_description_placeholder }}</textarea>
             </div>
             <div class="col-md-offset-4 col-md-8 help-block light-grey">
                 The placeholder/instructions to display on the shadowing verification form's description field.
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
-        </div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
-</div>
+</div>
```

## NEMO/templates/customizations/customizations_templates.html

```diff
@@ -1,473 +1,645 @@
 {% load custom_tags_and_filters %}
 <div class="panel-body">
     <h3 class="customization-section-title" id="login_banner_id">Login banner</h3>
-    <p>The login banner is an informational message displayed underneath the username and password text boxes on the login page. You can customize this to convey rules for {{ site_title }} users at your organization.</p>
+    <p>
+        The login banner is an informational message displayed underneath the username and password text boxes on the login page. You can customize this to convey rules for {{ site_title }} users at your organization.
+    </p>
     {% include 'customizations/customizations_upload.html' with element=login_banner name='login banner' key='templates' %}
     <div class="customization-separation"></div>
 </div>
 <div class="panel-body">
-    <h3 class="customization-section-title" id="authorization_failed_id">&quot;<a href="{% url 'authorization_failed' %}" target="_blank">{{ facility_name }} failed login</a>&quot; message</h3>
+    <h3 class="customization-section-title" id="authorization_failed_id">
+        &quot;<a href="{% url 'authorization_failed' %}" target="_blank">{{ facility_name }} failed login</a>&quot; message
+    </h3>
     <p>
         This message is displayed after authentication when either no matching username could be found in the database or if that user has been deactivated.
-        <br>The HTML you upload is rendered with the Django template engine. You can use JavaScript (including jQuery) within the message.
+        <br>
+        The HTML you upload is rendered with the Django template engine. You can use JavaScript (including jQuery) within the message.
     </p>
     {% include 'customizations/customizations_upload.html' with element=authorization_failed name='authorization failed' button_name='Upload failed login page' key='templates' %}
     <div class="customization-separation"></div>
 </div>
 <div class="panel-body">
-    <h3 class="customization-section-title" id="safety_introduction_id">Introduction for &quot;<a href="{% url 'safety_issues' %}" target="_blank">Safety suggestions and observations</a>&quot; page</h3>
-    <p>What would you like everyone to know about safety policy and procedures? This introduction will be presented at the top of the safety page. You can use HTML to modify the look of the text.</p>
+    <h3 class="customization-section-title" id="safety_introduction_id">
+        Introduction for &quot;<a href="{% url 'safety_issues' %}" target="_blank">Safety suggestions and observations</a>&quot; page
+    </h3>
+    <p>
+        What would you like everyone to know about safety policy and procedures? This introduction will be presented at the top of the safety page. You can use HTML to modify the look of the text.
+    </p>
     {% include 'customizations/customizations_upload.html' with element=safety_introduction name='safety introduction' key='templates' %}
     <div class="customization-separation"></div>
 </div>
 <div class="panel-body">
-    <h3 class="customization-section-title" id="facility_rules_tutorial_id">&quot;<a href="{% url 'facility_rules' %}" target="_blank">{{ facility_name }} rules tutorial</a>&quot; page</h3>
+    <h3 class="customization-section-title" id="facility_rules_tutorial_id">
+        &quot;<a href="{% url 'facility_rules' %}" target="_blank">{{ facility_name }} rules tutorial</a>&quot; page
+    </h3>
     <p>
         The facility rules tutorial is an opportunity to provide new users with a tutorial to your facility operating procedures and rules.
-        <br>The HTML you upload is rendered with the Django template engine. You can use JavaScript (including jQuery) within the page.
+        <br>
+        The HTML you upload is rendered with the Django template engine. You can use JavaScript (including jQuery) within the page.
         <br>
     </p>
     <ul>
-        <li>The form should include <b>{% templatetag openblock %} csrf_token {% templatetag closeblock %}</b> inside the form tags.</li>
-        <li>Completion of the HTML form should be POSTed to <b>"{% templatetag openblock %} url 'facility_rules' {% templatetag closeblock %}"</b> (exactly as is).</li>
+        <li>
+            The form should include <b>{% templatetag openblock %} csrf_token {% templatetag closeblock %}</b> inside the form tags.
+        </li>
+        <li>
+            Completion of the HTML form should be POSTed to <b>"{% templatetag openblock %} url 'facility_rules' {% templatetag closeblock %}"</b> (exactly as is).
+        </li>
     </ul>
     <p>
         Upon completion, the user's "facility rules tutorial required" attribute is set to false, and they are able to make reservations and control tools.
     </p>
     {% include 'customizations/customizations_upload.html' with element=facility_rules_tutorial name='facility rules tutorial' hide_content=True key='templates' %}
     <div class="customization-separation"></div>
 </div>
 <div class="panel-body">
-    <h3 class="customization-section-title" id="jumbotron_watermark_id">&quot;<a href="{% url 'jumbotron' %}" target="_blank">Jumbotron</a>&quot; watermark</h3>
-    <p>This image is displayed as background for the Jumbotron. It is set as a full background screen, so your image needs to take that into account.
-        <br>The image you upload should be a valid image file (recommended size is 1500x1000).
+    <h3 class="customization-section-title" id="jumbotron_watermark_id">
+        &quot;<a href="{% url 'jumbotron' %}" target="_blank">Jumbotron</a>&quot; watermark
+    </h3>
+    <p>
+        This image is displayed as background for the Jumbotron. It is set as a full background screen, so your image needs to take that into account.
+        <br>
+        The image you upload should be a valid image file (recommended size is 1500x1000).
     </p>
     {% include 'customizations/customizations_upload.html' with element=jumbotron_watermark name='jumbotron watermark' extension='png' key='templates' %}
     <div class="customization-separation"></div>
 </div>
 <div id="panel-sort">
     <div class="panel-body">
-        <h3 class="customization-section-title" id="access_request_notification_email_id">Access request notification email</h3>
-        <p>This email is sent to the person who created the request when an access request is created or updated. The other users present on the request as well as the reviewers are cc'ed.</p>
+        <h3 class="customization-section-title" id="access_request_notification_email_id">
+            Access request notification email
+        </h3>
+        <p>
+            This email is sent to the person who created the request when an access request is created or updated. The other users present on the request as well as the reviewers are cc'ed.
+        </p>
         <p>The following context variables are provided when the email is rendered:</p>
         <ul>
-            <li><b>template_color</b> - the color: green if approved, red if denied, blue otherwise</li>
-            <li><b>access_request</b> - the user's access request that was created or updated</li>
-            <li><b>status</b> - the status of the request: received, updated, approved or denied</li>
-            <li><b>access_requests_url</b> - the URL to the access requests page</li>
+            <li>
+                <b>template_color</b> - the color: green if approved, red if denied, blue otherwise
+            </li>
+            <li>
+                <b>access_request</b> - the user's access request that was created or updated
+            </li>
+            <li>
+                <b>status</b> - the status of the request: received, updated, approved or denied
+            </li>
+            <li>
+                <b>access_requests_url</b> - the URL to the access requests page
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=access_request_notification_email name='access request notification email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
-        <h3 class="customization-section-title" id="adjustment_request_notification_email_id">Adjustment request notification email</h3>
-        <p>This email is sent to the person who created the request when an adjustment request is created or updated. Reviewers are cc'ed.</p>
+        <h3 class="customization-section-title" id="adjustment_request_notification_email_id">
+            Adjustment request notification email
+        </h3>
+        <p>
+            This email is sent to the person who created the request when an adjustment request is created or updated. Reviewers are cc'ed.
+        </p>
         <p>When an adjustment request is approved it is also sent to the User Office</p>
         <p>The following context variables are provided when the email is rendered:</p>
         <ul>
-            <li><b>template_color</b> - the color: green if approved, red if denied, blue otherwise</li>
-            <li><b>adjustment_request</b> - the user's adjustment request that was created or updated</li>
-            <li><b>status</b> - the status of the request: received, updated, approved or denied</li>
-            <li><b>adjustment_requests_url</b> - the URL to the adjustment requests page</li>
-            <li><b>manager_note</b> - an extra (optional) note from the manager sent to the user when the request is denied or to the user office when it is approved</li>
-            <li><b>user_office</b> - a flag that is true when the email is addressed to the User Office</li>
+            <li>
+                <b>template_color</b> - the color: green if approved, red if denied, blue otherwise
+            </li>
+            <li>
+                <b>adjustment_request</b> - the user's adjustment request that was created or updated
+            </li>
+            <li>
+                <b>status</b> - the status of the request: received, updated, approved or denied
+            </li>
+            <li>
+                <b>adjustment_requests_url</b> - the URL to the adjustment requests page
+            </li>
+            <li>
+                <b>manager_note</b> - an extra (optional) note from the manager sent to the user when the request is denied or to the user office when it is approved
+            </li>
+            <li>
+                <b>user_office</b> - a flag that is true when the email is addressed to the User Office
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=adjustment_request_notification_email name='adjustment request notification email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
+    <div class="panel-body">
+        <h3 class="customization-section-title" id="wait_list_notification_email_id">Tool wait list notification email</h3>
+        <p>This email is sent to a person in a wait list when their turn to use the tool has arrived.</p>
+        <p>The following context variables are provided when the email is rendered:</p>
+        <ul>
+            <li>
+                <b>user</b> - the user in the wait list
+            </li>
+            <li>
+                <b>tool</b> - the tool that the user is in the wait list for
+            </li>
+            <li>
+                <b>time_to_expiration</b> - the time left for the user to use the tool
+            </li>
+        </ul>
+        {% include 'customizations/customizations_upload.html' with element=wait_list_notification_email name='wait list notification email' key='templates' %}
+        <div class="customization-separation"></div>
+    </div>
     <div class="panel-body">
         <h3 class="customization-section-title" id="cancellation_email_id">Cancellation email</h3>
-        <p>This email is sent to a user when a staff member cancels the user's reservation. The following context variables are provided when the email is rendered:</p>
+        <p>
+            This email is sent to a user when a staff member cancels the user's reservation. The following context variables are provided when the email is rendered:
+        </p>
         <ul>
-            <li><b>reservation</b> - the user's reservation that was cancelled</li>
-            <li><b>staff_member</b> - the user object of the staff member who cancelled the reservation</li>
-            <li><b>reason</b> - the reason the staff member provided for cancelling the reservation</li>
+            <li>
+                <b>reservation</b> - the user's reservation that was cancelled
+            </li>
+            <li>
+                <b>staff_member</b> - the user object of the staff member who cancelled the reservation
+            </li>
+            <li>
+                <b>reason</b> - the reason the staff member provided for cancelling the reservation
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=cancellation_email name='cancellation email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="counter_threshold_reached_email_id">Counter threshold reached email</h3>
         <p>
             This email is sent to the counter's warning email when the value of an counter reaches the warning threshold.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>counter</b> - the counter which value reached the warning threshold</li>
+            <li>
+                <b>counter</b> - the counter which value reached the warning threshold
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=counter_threshold_reached_email name='counter threshold reached email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="feedback_email_id">Feedback email</h3>
         <p>
             This email is sent when a user <a href="{% url 'feedback' %}" target="_blank">submits feedback</a>. The feedback email address (at the top of this page) must also be configured for users to be able to do this.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>contents</b> - the user's feedback</li>
-            <li><b>user</b> - the user object of the user who submitted the feedback</li>
+            <li>
+                <b>contents</b> - the user's feedback
+            </li>
+            <li>
+                <b>user</b> - the user object of the user who submitted the feedback
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=feedback_email name='feedback email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="generic_email_id">Generic email</h3>
-        <p>A generic email that can be sent to qualified tool users, members of an account, or members of a project. Send these using the <a href="{% url 'email_broadcast' %}">email broadcast page</a>. The following context variables are provided when the email is rendered:</p>
+        <p>
+            A generic email that can be sent to qualified tool users, members of an account, or members of a project. Send these using the <a href="{% url 'email_broadcast' %}">email broadcast page</a>. The following context variables are provided when the email is rendered:
+        </p>
         <ul>
-            <li><b>title</b> - the user specified title of the email</li>
-            <li><b>greeting</b> - a greeting to the recipients of the email</li>
-            <li><b>contents</b> - the body of the email</li>
-            <li><b>template_color</b> - the color to emphasize</li>
+            <li>
+                <b>title</b> - the user specified title of the email
+            </li>
+            <li>
+                <b>greeting</b> - a greeting to the recipients of the email
+            </li>
+            <li>
+                <b>contents</b> - the body of the email
+            </li>
+            <li>
+                <b>template_color</b> - the color to emphasize
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=generic_email name='generic email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="missed_reservation_email_id">Missed reservation email</h3>
         <p>
             This email is sent when a user misses a reservation. If a tool is not used for an amount
             of time after the user's reservation has begun, it is marked as missed and removed from the calendar.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>reservation</b> - the reservation that the user missed</li>
+            <li>
+                <b>reservation</b> - the reservation that the user missed
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=missed_reservation_email name='missed reservation email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="facility_rules_tutorial_email_id">Facility rules tutorial email</h3>
         <p>
             This email is sent when a user completes the facility rules tutorial. It can contain a free-response answer (quiz question).
             If you do not upload a template then no notification email is sent to staff when a user completes the training tutorial.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>user</b> - the user's model instance</li>
-            <li><b>making_reservations_rule_summary</b> - a free-response answer provided by the user. Normally, this is provided by the user to summarize their understanding of the {{ facility_name }} rules and proceedures.</li>
+            <li>
+                <b>user</b> - the user's model instance
+            </li>
+            <li>
+                <b>making_reservations_rule_summary</b> - a free-response answer provided by the user. Normally, this is provided by the user to summarize their understanding of the {{ facility_name }} rules and proceedures.
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=facility_rules_tutorial_email name='facility rules tutorial email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="new_task_email_id">New task email</h3>
         <p>
             This email is sent when a new maintenance task is created for a tool.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>user</b> - the user who created the task</li>
-            <li><b>task</b> - the task information</li>
-            <li><b>tool</b> - the tool that the task is associated with</li>
-            <li><b>tool_control_absolute_url</b> - the URL of the tool control page for the tool</li>
-            <li><b>template_color</b> - an HTML color code indicating the severity of the problem. Orange for warning, red for shutdown.</li>
+            <li>
+                <b>user</b> - the user who created the task
+            </li>
+            <li>
+                <b>task</b> - the task information
+            </li>
+            <li>
+                <b>tool</b> - the tool that the task is associated with
+            </li>
+            <li>
+                <b>tool_control_absolute_url</b> - the URL of the tool control page for the tool
+            </li>
+            <li>
+                <b>template_color</b> - an HTML color code indicating the severity of the problem. Orange for warning, red for shutdown.
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=new_task_email name='new task email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="out_of_time_reservation_email_id">Out of time reservation email</h3>
         <p>
             This email is sent when a user is still logged in an area but his reservation expired. A grace period can be set when configuring the area.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>reservation</b> - the reservation that the user is out of time on</li>
+            <li>
+                <b>reservation</b> - the reservation that the user is out of time on
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=out_of_time_reservation_email name='out of time reservation email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
-        <h3 class="customization-section-title" id="recurring_charges_reminder_email_id">{{ recurring_charges_name }} reminder email</h3>
+        <h3 class="customization-section-title" id="recurring_charges_reminder_email_id">
+            {{ recurring_charges_name }} reminder email
+        </h3>
         <p>
             This email is sent to users at configurable days (defaults to one week) before they are charged for {{ recurring_charges_name|lower }}.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>user</b> - the user who is assigned to the items</li>
-            <li><b>charges</b> - the list of {{ recurring_charges_name|lower }}</li>
-            <li><b>reminder_days</b> - the number of days until the items are charged</li>
+            <li>
+                <b>user</b> - the user who is assigned to the items
+            </li>
+            <li>
+                <b>charges</b> - the list of {{ recurring_charges_name|lower }}
+            </li>
+            <li>
+                <b>reminder_days</b> - the number of days until the items are charged
+            </li>
         </ul>
         {% with button_name=recurring_charges_name|lower %}
             {% include 'customizations/customizations_upload.html' with element=recurring_charges_reminder_email name="recurring charges reminder email" button_name="Upload "|concat:button_name|concat:" reminder email" element_link_name=button_name.split|join:"_"|concat:"_reminder_email" key='templates' %}
         {% endwith %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="reorder_supplies_reminder_email_id">Reorder supplies reminder email</h3>
         <p>
             This email is sent to the item's reminder email when the quantity of an item falls below the reminder threshold and should be reordered.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>item</b> - the item which quantity fell below the reminder threshold</li>
+            <li>
+                <b>item</b> - the item which quantity fell below the reminder threshold
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=reorder_supplies_reminder_email name='reorder supplies reminder email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
-        <h3 class="customization-section-title" id="reservation_ending_reminder_email_id">Reservation ending reminder email</h3>
+        <h3 class="customization-section-title" id="reservation_ending_reminder_email_id">
+            Reservation ending reminder email
+        </h3>
         <p>
             This email is sent to a user that is logged in an area 30 and 15 minutes before their area reservation ends.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>reservation</b> - the user's reservation ending</li>
+            <li>
+                <b>reservation</b> - the user's reservation ending
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=reservation_ending_reminder_email name='reservation ending reminder email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="reservation_reminder_email_id">Reservation reminder email</h3>
         <p>
             This email is sent to a user two hours before their tool/area reservation begins.
             The reservation warning email must also exist for this email to be sent.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>reservation</b> - the user's upcoming reservation</li>
+            <li>
+                <b>reservation</b> - the user's upcoming reservation
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=reservation_reminder_email name='reservation reminder email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="reservation_warning_email_id">Reservation warning email</h3>
         <p>
             This email is sent to a user two hours before their tool/area reservation begins and maintenance may interfere with the upcoming reservation.
             The reservation reminder email must also exist for this email to be sent.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>reservation</b> - the user's upcoming reservation</li>
-            <li><b>fatal_error</b> - boolean value that, when true, indicates that it will be impossible for the user to use the tool/access the area during their reservation (due to maintenance, outages or a missing required dependency)</li>
-            <li><b>template_color</b> - an HTML color code indicating the severity of the problem. Orange for warning, red for shutdown.</li>
+            <li>
+                <b>reservation</b> - the user's upcoming reservation
+            </li>
+            <li>
+                <b>fatal_error</b> - boolean value that, when true, indicates that it will be impossible for the user to use the tool/access the area during their reservation (due to maintenance, outages or a missing required dependency)
+            </li>
+            <li>
+                <b>template_color</b> - an HTML color code indicating the severity of the problem. Orange for warning, red for shutdown.
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=reservation_warning_email name='reservation warning email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="safety_issue_email_id">Safety issue email</h3>
         <p>
             This email is sent when a new maintenance task is created for a tool.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>issue</b> - the issue information</li>
-            <li><b>issue_absolute_url</b> - the URL for the detailed view of the issue</li>
+            <li>
+                <b>issue</b> - the issue information
+            </li>
+            <li>
+                <b>issue_absolute_url</b> - the URL for the detailed view of the issue
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=safety_issue_email name='safety issue email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
+    <div class="panel-body">
+        <h3 class="customization-section-title" id="scheduled_outage_reminder_email_id">Scheduled outage reminder email</h3>
+        <p>
+            This email is periodically sent to the reminder email(s) set on the scheduled outage.
+            The following context variables are provided when the email is rendered:
+        </p>
+        <ul>
+            <li>
+                <b>outage</b> - the upcoming scheduled outage
+            </li>
+        </ul>
+        {% include 'customizations/customizations_upload.html' with element=scheduled_outage_reminder_email name='scheduled outage reminder email' key='templates' %}
+        <div class="customization-separation"></div>
+    </div>
     <div class="panel-body">
         <h3 class="customization-section-title" id="staff_charge_reminder_email_id">Staff charge reminder email</h3>
         <p>
             This email is periodically sent to remind staff that they are charging a user for staff time.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>staff_charge</b> - the staff charge that is in progress</li>
+            <li>
+                <b>staff_charge</b> - the staff charge that is in progress
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=staff_charge_reminder_email name='staff charge reminder email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="task_status_notification_id">Task status notification email</h3>
         <p>
             This email is sent when a tool task has be updated and set to a particular state.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>template_color</b> - the color to emphasize</li>
-            <li><b>title</b> - a title indicating that the message is a task status notification</li>
-            <li><b>task</b> - the task that was updated</li>
-            <li><b>status_message</b> - the current status message for the task</li>
-            <li><b>notification_message</b> - the notification message that is configured (via the admin site) for the status</li>
-            <li><b>tool_control_absolute_url</b> - the URL of the tool control page for the task</li>
+            <li>
+                <b>template_color</b> - the color to emphasize
+            </li>
+            <li>
+                <b>title</b> - a title indicating that the message is a task status notification
+            </li>
+            <li>
+                <b>task</b> - the task that was updated
+            </li>
+            <li>
+                <b>status_message</b> - the current status message for the task
+            </li>
+            <li>
+                <b>notification_message</b> - the notification message that is configured (via the admin site) for the status
+            </li>
+            <li>
+                <b>tool_control_absolute_url</b> - the URL of the tool control page for the task
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=task_status_notification name='task status notification' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
-        <h3 class="customization-section-title" id="tool_qualification_expiration_email_id">Tool qualification expiration email</h3>
+        <h3 class="customization-section-title" id="tool_qualification_expiration_email_id">
+            Tool qualification expiration email
+        </h3>
         <p>
             This email is sent to the user, tool owner & backup owners and facility managers when a tool qualification is about to expire (reminder) or expired.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>remaining_days</b> - the number of days left before the qualification expires. This variable is only provided when a reminder is sent</li>
-            <li><b>expiration_date</b> - the date the tool qualification expires</li>
-            <li><b>user</b> - the user whose qualification is expiring</li>
-            <li><b>tool</b> - the tool whose qualification is expiring</li>
-            <li><b>last_tool_use</b> - the last time the tool was used. Blank if the user never used the tool</li>
-            <li><b>qualification_date</b> - the time the user was last qualified on that tool</li>
+            <li>
+                <b>remaining_days</b> - the number of days left before the qualification expires. This variable is only provided when a reminder is sent
+            </li>
+            <li>
+                <b>expiration_date</b> - the date the tool qualification expires
+            </li>
+            <li>
+                <b>user</b> - the user whose qualification is expiring
+            </li>
+            <li>
+                <b>tool</b> - the tool whose qualification is expiring
+            </li>
+            <li>
+                <b>last_tool_use</b> - the last time the tool was used. Blank if the user never used the tool
+            </li>
+            <li>
+                <b>qualification_date</b> - the time the user was last qualified on that tool
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=tool_qualification_expiration_email name='tool qualification expiration email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
-	<div class="panel-body">
-        <h3 class="customization-section-title" id="training_invitation_received_email_id">Training invitation received email</h3>
-        <p>
-            This email is sent when users are invited to a training session.
-        </p>
-        <p>
-            The following context variables are provided when the email is rendered:
-        </p>
+    <div class="panel-body">
+        <h3 class="customization-section-title" id="training_invitation_received_email_id">
+            Training invitation received email
+        </h3>
+        <p>This email is sent when users are invited to a training session.</p>
+        <p>The following context variables are provided when the email is rendered:</p>
         <ul>
-            <li><b>training_invitation</b> - the training invitation being sent</li>
+            <li>
+                <b>training_invitation</b> - the training invitation being sent
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=training_invitation_received_email name='training invitation received email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
-	<div class="panel-body">
-        <h3 class="customization-section-title" id="training_invitation_declined_email_id">Training invitation declined email</h3>
-        <p>
-            This email is sent when a user declines an invitation to a training session.
-        </p>
-        <p>
-            The following context variables are provided when the email is rendered:
-        </p>
+    <div class="panel-body">
+        <h3 class="customization-section-title" id="training_invitation_declined_email_id">
+            Training invitation declined email
+        </h3>
+        <p>This email is sent when a user declines an invitation to a training session.</p>
+        <p>The following context variables are provided when the email is rendered:</p>
         <ul>
-            <li><b>training_invitation</b> - the training invitation being declined</li>
-            <li><b>reason</b> - the optional reason/message provided by the user</li>
+            <li>
+                <b>training_invitation</b> - the training invitation being declined
+            </li>
+            <li>
+                <b>reason</b> - the optional reason/message provided by the user
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=training_invitation_declined_email name='training invitation declined email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
-	<div class="panel-body">
+    <div class="panel-body">
         <h3 class="customization-section-title" id="training_request_submitted_email_id">Training request submitted email</h3>
-        <p>
-            This email is sent to all trainers of a tool when a training request is submitted.
-        </p>
-        <p>
-            The following context variables are provided when the email is rendered:
-        </p>
+        <p>This email is sent to all trainers of a tool when a training request is submitted.</p>
+        <p>The following context variables are provided when the email is rendered:</p>
         <ul>
-            <li><b>training_request</b> - the training request being submitted</li>
+            <li>
+                <b>training_request</b> - the training request being submitted
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=training_request_submitted_email name='training request submitted email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
-	<div class="panel-body">
+    <div class="panel-body">
         <h3 class="customization-section-title" id="training_session_cancelled_email_id">Training session cancelled email</h3>
-        <p>
-            This email is sent to all attendees of a training session when it is cancelled.
-        </p>
-        <p>
-            The following context variables are provided when the email is rendered:
-        </p>
+        <p>This email is sent to all attendees of a training session when it is cancelled.</p>
+        <p>The following context variables are provided when the email is rendered:</p>
         <ul>
-            <li><b>user</b> - the training attendee</li>
-            <li><b>training_session</b> - the training session being cancelled</li>
-            <li><b>reason</b> - the cancellation reason</li>
+            <li>
+                <b>user</b> - the training attendee
+            </li>
+            <li>
+                <b>training_session</b> - the training session being cancelled
+            </li>
+            <li>
+                <b>reason</b> - the cancellation reason
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=training_session_cancelled_email name='training session cancelled email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="unauthorized_tool_access_email_id">Unauthorized tool access email</h3>
-        <p>
-            This email is sent when a user tries to access a tool:
-        </p>
+        <p>This email is sent when a user tries to access a tool:</p>
         <ul>
             <li>without being logged in to the area in which the tool resides (type 'area').</li>
             <li>without having a current area reservation (type 'reservation')</li>
         </ul>
-        <p>
-            The following context variables are provided when the email is rendered:
-        </p>
+        <p>The following context variables are provided when the email is rendered:</p>
         <ul>
-            <li><b>operator</b> - the person who attempted to use the tool</li>
-            <li><b>tool</b> - the tool that the user was denied access to</li>
-            <li><b>type</b> - the type of abuse ('area' or 'reservation')</li>
+            <li>
+                <b>operator</b> - the person who attempted to use the tool
+            </li>
+            <li>
+                <b>tool</b> - the tool that the user was denied access to
+            </li>
+            <li>
+                <b>type</b> - the type of abuse ('area' or 'reservation')
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=unauthorized_tool_access_email name='unauthorized tool access email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="usage_reminder_email_id">Usage reminder email</h3>
         <p>
             This email is periodically sent to remind a user that they have a tool enabled.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>user</b> - the user who is using a tool or logged in to an area</li>
-            <li><b>resources_in_use</b> - the resources the user is still using/logged in to (tools or areas)</li>
+            <li>
+                <b>user</b> - the user who is using a tool or logged in to an area
+            </li>
+            <li>
+                <b>resources_in_use</b> - the resources the user is still using/logged in to (tools or areas)
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=usage_reminder_email name='usage reminder email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
-        <h3 class="customization-section-title" id="user_access_expiration_reminder_email_id">User access expiration reminder email</h3>
+        <h3 class="customization-section-title" id="user_access_expiration_reminder_email_id">
+            User access expiration reminder email
+        </h3>
         <p>
             This email is periodically sent to remind a user that their access is expiring.
             The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>user</b> - the user whose access is expiring</li>
-            <li><b>remaining_days</b> - the remaining days before the access expires</li>
+            <li>
+                <b>user</b> - the user whose access is expiring
+            </li>
+            <li>
+                <b>remaining_days</b> - the remaining days before the access expires
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=user_access_expiration_reminder_email name='user access expiration reminder email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="reservation_created_user_email_id">User reservation created email</h3>
         <p>
             This email is sent to a user when the user creates a reservation and has opted to receive ics calendar notification in his preferences.
-            <br>This is optional, the email will still be sent with only the calendar attachment if this is left blank.
-            <br><br>The following context variables are provided when the email is rendered:
+            <br>
+            This is optional, the email will still be sent with only the calendar attachment if this is left blank.
+            <br>
+            <br>
+            The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>reservation</b> - the user's reservation that was created</li>
+            <li>
+                <b>reservation</b> - the user's reservation that was created
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=reservation_created_user_email name='reservation created user email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="reservation_cancelled_user_email_id">User reservation cancelled email</h3>
         <p>
             This email is sent to a user when the user cancels his own reservation and has opted to receive ics calendar notification in his preferences.
-            <br>This is optional, the email will still be sent with only the calendar attachment if this is left blank.
-            <br><br>The following context variables are provided when the email is rendered:
+            <br>
+            This is optional, the email will still be sent with only the calendar attachment if this is left blank.
+            <br>
+            <br>
+            The following context variables are provided when the email is rendered:
         </p>
         <ul>
-            <li><b>reservation</b> - the user's reservation that was cancelled</li>
+            <li>
+                <b>reservation</b> - the user's reservation that was cancelled
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=reservation_cancelled_user_email name='reservation cancelled user email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
-
     <div class="panel-body">
         <h3 class="customization-section-title" id="weekend_access_email_id">Weekend access notification email</h3>
         <p>
             This email is sent to the <a href="?#weekend_access_notification_emails">weekend access notification email(s)</a> as well as the facility manager(s) when:
         </p>
         <ul>
             <li>
@@ -475,40 +647,52 @@
                 (The email is sent when the first weekend access request is approved).
             </li>
             <li>
                 there are no approved access requests that include weekend time during the current week.
                 (the email is sent on the <a href="?#weekend_access_notification_cutoff_day">cutoff day</a> at the <a href="?#weekend_access_notification_cutoff_hour">cutoff hour</a> provided in the user requests settings above).
             </li>
         </ul>
-        <p>
-            The following context variables are provided when the email is rendered:
-        </p>
+        <p>The following context variables are provided when the email is rendered:</p>
         <ul>
-            <li><b>weekend_access</b> - true/false, whether there are approved weekend access requests for the current week.</li>
+            <li>
+                <b>weekend_access</b> - true/false, whether there are approved weekend access requests for the current week.
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=weekend_access_email name='weekend access email' key='templates' %}
     </div>
     <div class="panel-body">
-        <h3 class="customization-section-title" id="shadowing_verification_notification_email_id">Shadowing Verification notification email</h3>
-        <p>This email is sent to the person who created the request when a shadowing verification is created or updated. Facility managers are cc'ed.</p>
+        <h3 class="customization-section-title" id="shadowing_verification_notification_email_id">
+            Shadowing Verification notification email
+        </h3>
+        <p>
+            This email is sent to the person who created the request when a shadowing verification is created or updated. Facility managers are cc'ed.
+        </p>
         <p>The following context variables are provided when the email is rendered:</p>
         <ul>
-            <li><b>template_color</b> - the color: green if approved, red if denied, blue otherwise</li>
-            <li><b>shadowing_verification</b> - the user's shadowing verification that was created or updated</li>
-            <li><b>status</b> - the status of the request: received, updated, approved or denied</li>
-            <li><b>shadowing_verification_url</b> - the URL to the shadowing verifications page</li>
+            <li>
+                <b>template_color</b> - the color: green if approved, red if denied, blue otherwise
+            </li>
+            <li>
+                <b>shadowing_verification</b> - the user's shadowing verification that was created or updated
+            </li>
+            <li>
+                <b>status</b> - the status of the request: received, updated, approved or denied
+            </li>
+            <li>
+                <b>shadowing_verification_url</b> - the URL to the shadowing verifications page
+            </li>
         </ul>
         {% include 'customizations/customizations_upload.html' with element=shadowing_verification_notification_email name='shadowing verification notification email' key='templates' %}
         <div class="customization-separation"></div>
     </div>
 </div>
 <script>
     function sort_comp(element)
     {
-        return element.getElementsByTagName("h3")[0].innerText.toLowerCase();
+        return element.getElementsByTagName("h3")[0].innerText.toLowerCase().trim();
     }
 
     window.addEventListener("load", function ()
     {
         sort_elements(document.getElementById('panel-sort'), "> div", sort_comp);
     });
-</script>
+</script>
```

### html2text {}

```diff
@@ -68,14 +68,24 @@
     * mmaannaaggeerr__nnoottee - an extra (optional) note from the manager sent to the user
       when the request is denied or to the user office when it is approved
     * uusseerr__ooffffiiccee - a flag that is true when the email is addressed to the User
       Office
 {% include 'customizations/customizations_upload.html' with
 element=adjustment_request_notification_email name='adjustment request
 notification email' key='templates' %}
+******** TTooooll wwaaiitt lliisstt nnoottiiffiiccaattiioonn eemmaaiill ********
+This email is sent to a person in a wait list when their turn to use the tool
+has arrived.
+The following context variables are provided when the email is rendered:
+    * uusseerr - the user in the wait list
+    * ttooooll - the tool that the user is in the wait list for
+    * ttiimmee__ttoo__eexxppiirraattiioonn - the time left for the user to use the tool
+{% include 'customizations/customizations_upload.html' with
+element=wait_list_notification_email name='wait list notification email'
+key='templates' %}
 ******** CCaanncceellllaattiioonn eemmaaiill ********
 This email is sent to a user when a staff member cancels the user's
 reservation. The following context variables are provided when the email is
 rendered:
     * rreesseerrvvaattiioonn - the user's reservation that was cancelled
     * ssttaaffff__mmeemmbbeerr - the user object of the staff member who cancelled the
       reservation
@@ -204,14 +214,22 @@
 ******** SSaaffeettyy iissssuuee eemmaaiill ********
 This email is sent when a new maintenance task is created for a tool. The
 following context variables are provided when the email is rendered:
     * iissssuuee - the issue information
     * iissssuuee__aabbssoolluuttee__uurrll - the URL for the detailed view of the issue
 {% include 'customizations/customizations_upload.html' with
 element=safety_issue_email name='safety issue email' key='templates' %}
+******** SScchheedduulleedd oouuttaaggee rreemmiinnddeerr eemmaaiill ********
+This email is periodically sent to the reminder email(s) set on the scheduled
+outage. The following context variables are provided when the email is
+rendered:
+    * oouuttaaggee - the upcoming scheduled outage
+{% include 'customizations/customizations_upload.html' with
+element=scheduled_outage_reminder_email name='scheduled outage reminder email'
+key='templates' %}
 ******** SSttaaffff cchhaarrggee rreemmiinnddeerr eemmaaiill ********
 This email is periodically sent to remind staff that they are charging a user
 for staff time. The following context variables are provided when the email is
 rendered:
     * ssttaaffff__cchhaarrggee - the staff charge that is in progress
 {% include 'customizations/customizations_upload.html' with
 element=staff_charge_reminder_email name='staff charge reminder email'
```

## NEMO/templates/customizations/customizations_tool.html

```diff
@@ -3,56 +3,96 @@
     <div class="panel-body">
         {% csrf_token %}
         <h3 class="customization-section-title">Tool settings</h3>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Phone number</label>
             <div class="col-sm-8 col-md-9">
                 <div class="radio">
-                    <label><input type="radio" id="tool_phone_number_required" name="tool_phone_number_required" {% if tool_phone_number_required == "off" %}checked{% endif %} value="off"> Not required</label>
-                    <label><input type="radio" name="tool_phone_number_required" {% if tool_phone_number_required == "enabled" %}checked{% endif %} value="enabled"> Required</label>
+                    <label>
+                        <input type="radio"
+                               id="tool_phone_number_required"
+                               name="tool_phone_number_required"
+                               {% if tool_phone_number_required == "off" %}checked{% endif %}
+                               value="off">
+                        Not required
+                    </label>
+                    <label>
+                        <input type="radio"
+                               name="tool_phone_number_required"
+                               {% if tool_phone_number_required == "enabled" %}checked{% endif %}
+                               value="enabled">
+                        Required
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Location</label>
             <div class="col-sm-8 col-md-9">
                 <div class="radio">
-                    <label><input type="radio" id="tool_location_required" name="tool_location_required" {% if tool_location_required == "off" %}checked{% endif %} value="off"> Not required</label>
-                    <label><input type="radio" name="tool_location_required" {% if tool_location_required == "enabled" %}checked{% endif %} value="enabled"> Required</label>
+                    <label>
+                        <input type="radio"
+                               id="tool_location_required"
+                               name="tool_location_required"
+                               {% if tool_location_required == "off" %}checked{% endif %}
+                               value="off">
+                        Not required
+                    </label>
+                    <label>
+                        <input type="radio"
+                               name="tool_location_required"
+                               {% if tool_location_required == "enabled" %}checked{% endif %}
+                               value="enabled">
+                        Required
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Reservation policy</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="tool_reservation_policy_superusers_bypass" {% if tool_reservation_policy_superusers_bypass %}checked{% endif %} value="enabled"> Tool superusers are exempt from reservation policy rules</label>
+                    <label>
+                        <input type="checkbox"
+                               name="tool_reservation_policy_superusers_bypass"
+                               {% if tool_reservation_policy_superusers_bypass %}checked{% endif %}
+                               value="enabled">
+                        Tool superusers are exempt from reservation policy rules
+                    </label>
                 </div>
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
         <h3 class="customization-section-title">Tool configuration</h3>
         <div class="form-group {% if errors.tool_control_configuration_setting_template %}has-error{% endif %}">
             <label class="control-label col-md-3" for="tool_control_configuration_setting_template">Configuration template</label>
             <div class="col-md-7">
-                <textarea oninput="auto_size_textarea(this);" id="tool_control_configuration_setting_template" name="tool_control_configuration_setting_template" class="form-control">{% if errors.tool_control_configuration_setting_template %}{{ errors.tool_control_configuration_setting_template.value }}{% else %}{{ tool_control_configuration_setting_template }}{% endif %}</textarea>
+                <textarea oninput="auto_size_textarea(this);"
+                          id="tool_control_configuration_setting_template"
+                          name="tool_control_configuration_setting_template"
+                          class="form-control">{% if errors.tool_control_configuration_setting_template %}{{ errors.tool_control_configuration_setting_template.value }}{% else %}{{ tool_control_configuration_setting_template }}{% endif %}</textarea>
             </div>
             <div class="col-md-offset-3 col-md-9 help-block light-grey">
                 {% if errors.tool_control_configuration_setting_template %}
                     {{ errors.tool_control_configuration_setting_template.error }}
                 {% else %}
                     The django template used for rendering current configuration setting. The context variable <b>current_setting</b> is provided.
                 {% endif %}
             </div>
         </div>
         <div class="form-group {% if errors.tool_configuration_near_future_days %}has-error{% endif %}">
             <label class="control-label col-sm-4 col-md-3" for="tool_configuration_near_future_days">Near future</label>
             <div class="col-md-3">
                 <div class="input-group">
-                    <input type="number" min="1" id="tool_configuration_near_future_days" name="tool_configuration_near_future_days" class="form-control text-right" value="{% if errors.tool_configuration_near_future_days %}{{ errors.tool_configuration_near_future_days.value }}{% else %}{{ tool_configuration_near_future_days }}{% endif %}"/>
+                    <input type="number"
+                           min="1"
+                           id="tool_configuration_near_future_days"
+                           name="tool_configuration_near_future_days"
+                           class="form-control text-right"
+                           value="{% if errors.tool_configuration_near_future_days %}{{ errors.tool_configuration_near_future_days.value }}{% else %}{{ tool_configuration_near_future_days }}{% endif %}" />
                     <span class="input-group-addon">day(s)</span>
                 </div>
             </div>
             <div class="col-md-offset-3 col-md-9 help-block light-grey">
                 {% if errors.tool_configuration_near_future_days %}
                     {{ errors.tool_configuration_near_future_days.error }}
                 {% else %}
@@ -62,193 +102,373 @@
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
         <h3 class="customization-section-title">Tool problems</h3>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">New problems</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" name="tool_problem_send_to_all_qualified_users" {% if tool_problem_send_to_all_qualified_users %}checked{% endif %} value="enabled">Send new tool problems to all qualified users (but not updates)</label>
+                    <label>
+                        <input type="checkbox"
+                               name="tool_problem_send_to_all_qualified_users"
+                               {% if tool_problem_send_to_all_qualified_users %}checked{% endif %}
+                               value="enabled">
+                        Send new tool problems to all qualified users (but not updates)
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Updates</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <input type="hidden" name="tool_task_updates_facility_managers" value="off"/>
-                    <label><input type="checkbox" name="tool_task_updates_facility_managers" {% if tool_task_updates_facility_managers != 'off' %}checked{% endif %} value="">Send all tool problem & updates to facility managers</label><br>
-                    <label><input type="checkbox" name="tool_task_updates_superusers" {% if tool_task_updates_superusers %}checked{% endif %} value="enabled">Send all tool problem & updates to tool superusers</label>
+                    <input type="hidden" name="tool_task_updates_facility_managers" value="off" />
+                    <label>
+                        <input type="checkbox"
+                               name="tool_task_updates_facility_managers"
+                               {% if tool_task_updates_facility_managers != 'off' %}checked{% endif %}
+                               value="">
+                        Send all tool problem & updates to facility managers
+                    </label>
+                    <br>
+                    <label>
+                        <input type="checkbox"
+                               name="tool_task_updates_superusers"
+                               {% if tool_task_updates_superusers %}checked{% endif %}
+                               value="enabled">
+                        Send all tool problem & updates to tool superusers
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3" for="tool_problem_max_image_size_pixels">Limit task images size</label>
             <div class="col-md-3">
                 <div class="input-group">
-                    <input type="number" min="0" id="tool_problem_max_image_size_pixels" name="tool_problem_max_image_size_pixels" class="form-control text-right" value="{% if errors.tool_problem_max_image_size_pixels %}{{ errors.tool_problem_max_image_size_pixels.value }}{% else %}{{ tool_problem_max_image_size_pixels }}{% endif %}"/>
+                    <input type="number"
+                           min="0"
+                           id="tool_problem_max_image_size_pixels"
+                           name="tool_problem_max_image_size_pixels"
+                           class="form-control text-right"
+                           value="{% if errors.tool_problem_max_image_size_pixels %}{{ errors.tool_problem_max_image_size_pixels.value }}{% else %}{{ tool_problem_max_image_size_pixels }}{% endif %}" />
                     <span class="input-group-addon">pixels</span>
                 </div>
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
         <h3 class="customization-section-title">Tool control</h3>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Usage data history</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" id="tool_control_hide_data_history_users" name="tool_control_hide_data_history_users" {% if tool_control_hide_data_history_users %}checked{% endif %} value="enabled"> Check to only show usage data history tab for staff members</label>
+                    <label>
+                        <input type="checkbox"
+                               id="tool_control_hide_data_history_users"
+                               name="tool_control_hide_data_history_users"
+                               {% if tool_control_hide_data_history_users %}checked{% endif %}
+                               value="enabled">
+                        Check to only show usage data history tab for staff members
+                    </label>
                 </div>
             </div>
         </div>
-		<div class="form-group">
+        <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Force off</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" id="tool_control_ongoing_reservation_force_off" name="tool_control_ongoing_reservation_force_off" {% if tool_control_ongoing_reservation_force_off %}checked{% endif %} value="enabled"> Allow users with ongoing reservation to force the previous user off the tool</label>
+                    <label>
+                        <input type="checkbox"
+                               id="tool_control_ongoing_reservation_force_off"
+                               name="tool_control_ongoing_reservation_force_off"
+                               {% if tool_control_ongoing_reservation_force_off %}checked{% endif %}
+                               value="enabled">
+                        Allow users with ongoing reservation to force the previous user off the tool
+                    </label>
                 </div>
             </div>
         </div>
-		<div class="form-group">
+        <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Take over</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" id="tool_control_allow_take_over" name="tool_control_allow_take_over" {% if tool_control_allow_take_over %}checked{% endif %} value="enabled"> Allow users to take over using a tool currently in use by another user (unless the tool is set to require reservations)</label>
+                    <label>
+                        <input type="checkbox"
+                               id="tool_control_allow_take_over"
+                               name="tool_control_allow_take_over"
+                               {% if tool_control_allow_take_over %}checked{% endif %}
+                               value="enabled">
+                        Allow users to take over using a tool currently in use by another user (unless the tool is set to require reservations)
+                    </label>
                 </div>
             </div>
         </div>
-		<div class="form-group">
+        <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Email other qualified users</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" id="tool_control_broadcast_qualified_users" name="tool_control_broadcast_qualified_users" {% if tool_control_broadcast_qualified_users %}checked{% endif %} value="enabled"> Allow qualified users on a tool to send a broadcast email to other users of that tool</label>
+                    <label>
+                        <input type="checkbox"
+                               id="tool_control_broadcast_qualified_users"
+                               name="tool_control_broadcast_qualified_users"
+                               {% if tool_control_broadcast_qualified_users %}checked{% endif %}
+                               value="enabled">
+                        Allow qualified users on a tool to send a broadcast email to other users of that tool
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Qualified users list</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" id="tool_control_show_qualified_users_to_all" name="tool_control_show_qualified_users_to_all" {% if tool_control_show_qualified_users_to_all %}checked{% endif %} value="enabled"> Check to allow everyone to see who is qualified on a tool</label>
+                    <label>
+                        <input type="checkbox"
+                               id="tool_control_show_qualified_users_to_all"
+                               name="tool_control_show_qualified_users_to_all"
+                               {% if tool_control_show_qualified_users_to_all %}checked{% endif %}
+                               value="enabled">
+                        Check to allow everyone to see who is qualified on a tool
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Show tool documents to</label>
             <div class="col-sm-8 col-md-9">
                 <div class="radio">
-                    <label><input type="radio" id="tool_control_show_documents_only_qualified_users_2" name="tool_control_show_documents_only_qualified_users" {% if not tool_control_show_documents_only_qualified_users %}checked{% endif %} value=""> Everyone</label><br>
-                    <label><input type="radio" id="tool_control_show_documents_only_qualified_users_1" name="tool_control_show_documents_only_qualified_users" {% if tool_control_show_documents_only_qualified_users %}checked{% endif %} value="enabled"> Only qualified users</label>
+                    <label>
+                        <input type="radio"
+                               id="tool_control_show_documents_only_qualified_users_2"
+                               name="tool_control_show_documents_only_qualified_users"
+                               {% if not tool_control_show_documents_only_qualified_users %}checked{% endif %}
+                               value="">
+                        Everyone
+                    </label>
+                    <br>
+                    <label>
+                        <input type="radio"
+                               id="tool_control_show_documents_only_qualified_users_1"
+                               name="tool_control_show_documents_only_qualified_users"
+                               {% if tool_control_show_documents_only_qualified_users %}checked{% endif %}
+                               value="enabled">
+                        Only qualified users
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Email users with upcoming reservation</label>
             <div class="col-sm-8 col-md-9">
                 <div class="radio">
-                    <label><input type="radio" id="tool_control_broadcast_upcoming_reservation_1" name="tool_control_broadcast_upcoming_reservation" {% if not tool_control_broadcast_upcoming_reservation %}checked{% endif %} value=""> Staff only</label><br>
-                    <label><input type="radio" id="tool_control_broadcast_upcoming_reservation_2" name="tool_control_broadcast_upcoming_reservation" {% if tool_control_broadcast_upcoming_reservation == "qualified" %}checked{% endif %} value="qualified"> Qualified users</label><br>
-                    <label><input type="radio" id="tool_control_broadcast_upcoming_reservation_3" name="tool_control_broadcast_upcoming_reservation" {% if tool_control_broadcast_upcoming_reservation == "all" %}checked{% endif %} value="all"> All</label>
+                    <label>
+                        <input type="radio"
+                               id="tool_control_broadcast_upcoming_reservation_1"
+                               name="tool_control_broadcast_upcoming_reservation"
+                               {% if not tool_control_broadcast_upcoming_reservation %}checked{% endif %}
+                               value="">
+                        Staff only
+                    </label>
+                    <br>
+                    <label>
+                        <input type="radio"
+                               id="tool_control_broadcast_upcoming_reservation_2"
+                               name="tool_control_broadcast_upcoming_reservation"
+                               {% if tool_control_broadcast_upcoming_reservation == "qualified" %}checked{% endif %}
+                               value="qualified">
+                        Qualified users
+                    </label>
+                    <br>
+                    <label>
+                        <input type="radio"
+                               id="tool_control_broadcast_upcoming_reservation_3"
+                               name="tool_control_broadcast_upcoming_reservation"
+                               {% if tool_control_broadcast_upcoming_reservation == "all" %}checked{% endif %}
+                               value="all">
+                        All
+                    </label>
                 </div>
             </div>
         </div>
         <div class="form-group">
             <label class="control-label col-sm-4 col-md-3">Show task details by default</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" id="tool_control_show_task_details" name="tool_control_show_task_details" {% if tool_control_show_task_details %}checked{% endif %} value="enabled"> Show task details, such as who created the task and when, by default (click on the task to collapse/hide)</label>
+                    <label>
+                        <input type="checkbox"
+                               id="tool_control_show_task_details"
+                               name="tool_control_show_task_details"
+                               {% if tool_control_show_task_details %}checked{% endif %}
+                               value="enabled">
+                        Show task details, such as who created the task and when, by default (click on the task to collapse/hide)
+                    </label>
                 </div>
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
         <h3 class="customization-section-title">Tool grant access email</h3>
-		<div class="form-group {% if errors.tool_grant_access_emails %}has-error{% endif %}">
+        <div class="form-group {% if errors.tool_grant_access_emails %}has-error{% endif %}">
             <label class="control-label col-md-3" for="tool_grant_access_emails">Send email to</label>
             <div class="col-md-7">
-                <input type="text" id="tool_grant_access_emails" name="tool_grant_access_emails" class="form-control" value="{% if errors.tool_grant_access_emails %}{{ errors.tool_grant_access_emails.value }}{% else %}{{ tool_grant_access_emails }}{% endif %}" placeholder="information@example.org"/>
+                <input type="text"
+                       id="tool_grant_access_emails"
+                       name="tool_grant_access_emails"
+                       class="form-control"
+                       value="{% if errors.tool_grant_access_emails %}{{ errors.tool_grant_access_emails.value }}{% else %}{{ tool_grant_access_emails }}{% endif %}"
+                       placeholder="information@example.org" />
             </div>
             <div class="col-md-offset-3 col-md-9 help-block light-grey">
                 {% if errors.tool_grant_access_emails %}
                     {{ errors.tool_grant_access_emails.error }}
                 {% else %}
-                    A comma-separated list can be used.<br>
-					This email is sent by the timed service <b>send_email_grant_access</b> when users are qualified on tools which have the <b>grant_badge_reader_access_upon_qualification</b> set.
+                    A comma-separated list can be used.
+                    <br>
+                    This email is sent by the timed service <b>send_email_grant_access</b> when users are qualified on tools which have the <b>grant_badge_reader_access_upon_qualification</b> set.
                 {% endif %}
             </div>
         </div>
-		<div class="form-group {% if errors.tool_grant_access_emails %}has-error{% endif %}">
+        <div class="form-group {% if errors.tool_grant_access_emails %}has-error{% endif %}">
             <label class="control-label col-md-3" for="tool_grant_access_include_physical_access">Include physical access</label>
             <div class="col-sm-8 col-md-9">
                 <div class="checkbox">
-                    <label><input type="checkbox" id="tool_grant_access_include_physical_access" name="tool_grant_access_include_physical_access" {% if tool_grant_access_include_physical_access %}checked{% endif %} value="enabled"> Check this box to include users who were granted physical access </label>
+                    <label>
+                        <input type="checkbox"
+                               id="tool_grant_access_include_physical_access"
+                               name="tool_grant_access_include_physical_access"
+                               {% if tool_grant_access_include_physical_access %}checked{% endif %}
+                               value="enabled">
+                        Check this box to include users who were granted physical access
+                    </label>
                 </div>
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <h3 class="customization-section-title">Tool qualification expiration</h3>
-        <p>If active, this feature will remove tool qualification from a user if the user has not used the tool after a while or never used it since qualified (configured separately).
-        <p>The <a href="{% url 'customization' 'templates' %}?#tool_qualification_expiration_email_id">user tool qualification expiration email</a> need to be set to enable this feature.</p><br/>
-        <div class="form-group {% if errors.tool_qualification_reminder_days %}has-error{% endif %}">
-            <label class="control-label col-md-3" for="tool_qualification_reminder_days">Reminder days</label>
-            <div class="col-md-5">
-                <input type="text" id="tool_qualification_reminder_days" name="tool_qualification_reminder_days" class="form-control" value="{% if errors.tool_qualification_reminder_days %}{{ errors.tool_qualification_reminder_days.value }}{% else %}{{ tool_qualification_reminder_days }}{% endif %}"/>
-            </div>
-            <div class="col-md-offset-3 col-md-9 help-block light-grey">
-                {% if errors.tool_qualification_reminder_days %}
-                    {{ errors.tool_qualification_reminder_days.error }}
-                {% else %}
-                    The (optional) number of days to send a reminder prior to the user's tool qualification expiration (below). A comma-separated list can be used for multiple reminders. This applies to both expiration cases.
-                {% endif %}
-            </div>
-        </div>
-        <div class="form-group {% if errors.tool_qualification_expiration_days %}has-error{% endif %}">
-            <label class="control-label col-md-3" for="tool_qualification_expiration_days">Expiration days (previous tool usage)</label>
-            <div class="col-md-5">
-                <input type="number" step="1" id="tool_qualification_expiration_days" name="tool_qualification_expiration_days" class="form-control" value="{% if errors.tool_qualification_expiration_days %}{{ errors.tool_qualification_expiration_days.value }}{% else %}{{ tool_qualification_expiration_days }}{% endif %}"/>
-            </div>
-            <div class="col-md-offset-3 col-md-9 help-block light-grey">
-                {% if errors.tool_qualification_expiration_days %}
-                    {{ errors.tool_qualification_expiration_days.error }}
-                {% else %}
-                    The number of days before the user's tool qualification expires since the user last used the tool.
-                {% endif %}
-            </div>
-        </div>
-        <div class="form-group {% if errors.tool_qualification_expiration_never_used_days %}has-error{% endif %}">
-            <label class="control-label col-md-3" for="tool_qualification_expiration_never_used_days">Expiration days (no tool usage)</label>
-            <div class="col-md-5">
-                <input type="number" step="1" id="tool_qualification_expiration_never_used_days" name="tool_qualification_expiration_never_used_days" class="form-control" value="{% if errors.tool_qualification_expiration_never_used_days %}{{ errors.tool_qualification_expiration_never_used_days.value }}{% else %}{{ tool_qualification_expiration_never_used_days }}{% endif %}"/>
+        <h3 class="customization-section-title">Tool wait list</h3>
+        <div class="form-group">
+            <label class="control-label col-sm-4 col-md-3" for="tool_wait_list_spot_expiration">Time to expiration</label>
+            <div class="col-md-3">
+                <div class="input-group">
+                    <input type="number"
+                           min="0"
+                           id="tool_wait_list_spot_expiration"
+                           name="tool_wait_list_spot_expiration"
+                           class="form-control text-right"
+                           value="{% if errors.tool_wait_list_spot_expiration %}{{ errors.tool_wait_list_spot_expiration.value }}{% else %}{{ tool_wait_list_spot_expiration }}{% endif %}" />
+                    <span class="input-group-addon">minutes</span>
+                </div>
             </div>
             <div class="col-md-offset-3 col-md-9 help-block light-grey">
-                {% if errors.tool_qualification_expiration_never_used_days %}
-                    {{ errors.tool_qualification_expiration_never_used_days.error }}
-                {% else %}
-                    The number of days before the user's tool qualification expires since the user qualified for the first time.
-                {% endif %}
+                Time to expiration for a spot in the wait list. If a user does not claim the spot within this time, the user will be removed from the wait list.
             </div>
         </div>
-        <div class="form-group {% if errors.tool_qualification_cc %}has-error{% endif %}">
-            <label class="control-label col-md-3" for="tool_qualification_cc">Reminder/expiration CC</label>
-            <div class="col-md-5">
-                <input type="text" id="tool_qualification_cc" name="tool_qualification_cc" class="form-control" value="{% if errors.tool_qualification_cc %}{{ errors.tool_qualification_cc.value }}{% else %}{{ tool_qualification_cc }}{% endif %}" placeholder="information@example.org"/>
+        <div class="form-group">
+            <label class="control-label col-sm-4 col-md-3" for="tool_wait_list_reservation_buffer">
+                Reservation wait list buffer
+            </label>
+            <div class="col-md-3">
+                <div class="input-group">
+                    <input type="number"
+                           min="0"
+                           id="tool_wait_list_reservation_buffer"
+                           name="tool_wait_list_reservation_buffer"
+                           class="form-control text-right"
+                           value="{% if errors.tool_wait_list_reservation_buffer %}{{ errors.tool_wait_list_reservation_buffer.value }}{% else %}{{ tool_wait_list_reservation_buffer }}{% endif %}" />
+                    <span class="input-group-addon">minutes</span>
+                </div>
             </div>
             <div class="col-md-offset-3 col-md-9 help-block light-grey">
-                {% if errors.tool_qualification_cc %}
-                    {{ errors.tool_qualification_cc.error }}
-                {% else %}
-                    Extra email address to copy when a user's tool qualification reminder/expiration email is sent. A comma-separated list can be used.
-                {% endif %}
+                For a tool operating in "hybrid" mode, if a reservation is upcoming within this time, the next user in the wait list will not be notified.
             </div>
         </div>
         <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
+        <h3 class="customization-section-title">Tool qualification expiration</h3>
+        <p>
+            If active, this feature will remove tool qualification from a user if the user has not used the tool after a while or never used it since qualified (configured separately).
+            <p>
+                The <a href="{% url 'customization' 'templates' %}?#tool_qualification_expiration_email_id">user tool qualification expiration email</a> need to be set to enable this feature.
+            </p>
+            <br />
+            <div class="form-group {% if errors.tool_qualification_reminder_days %}has-error{% endif %}">
+                <label class="control-label col-md-3" for="tool_qualification_reminder_days">Reminder days</label>
+                <div class="col-md-5">
+                    <input type="text"
+                           id="tool_qualification_reminder_days"
+                           name="tool_qualification_reminder_days"
+                           class="form-control"
+                           value="{% if errors.tool_qualification_reminder_days %}{{ errors.tool_qualification_reminder_days.value }}{% else %}{{ tool_qualification_reminder_days }}{% endif %}" />
+                </div>
+                <div class="col-md-offset-3 col-md-9 help-block light-grey">
+                    {% if errors.tool_qualification_reminder_days %}
+                        {{ errors.tool_qualification_reminder_days.error }}
+                    {% else %}
+                        The (optional) number of days to send a reminder prior to the user's tool qualification expiration (below). A comma-separated list can be used for multiple reminders. This applies to both expiration cases.
+                    {% endif %}
+                </div>
+            </div>
+            <div class="form-group {% if errors.tool_qualification_expiration_days %}has-error{% endif %}">
+                <label class="control-label col-md-3" for="tool_qualification_expiration_days">
+                    Expiration days (previous tool usage)
+                </label>
+                <div class="col-md-5">
+                    <input type="number"
+                           step="1"
+                           id="tool_qualification_expiration_days"
+                           name="tool_qualification_expiration_days"
+                           class="form-control"
+                           value="{% if errors.tool_qualification_expiration_days %}{{ errors.tool_qualification_expiration_days.value }}{% else %}{{ tool_qualification_expiration_days }}{% endif %}" />
+                </div>
+                <div class="col-md-offset-3 col-md-9 help-block light-grey">
+                    {% if errors.tool_qualification_expiration_days %}
+                        {{ errors.tool_qualification_expiration_days.error }}
+                    {% else %}
+                        The number of days before the user's tool qualification expires since the user last used the tool.
+                    {% endif %}
+                </div>
+            </div>
+            <div class="form-group {% if errors.tool_qualification_expiration_never_used_days %}has-error{% endif %}">
+                <label class="control-label col-md-3" for="tool_qualification_expiration_never_used_days">
+                    Expiration days (no tool usage)
+                </label>
+                <div class="col-md-5">
+                    <input type="number"
+                           step="1"
+                           id="tool_qualification_expiration_never_used_days"
+                           name="tool_qualification_expiration_never_used_days"
+                           class="form-control"
+                           value="{% if errors.tool_qualification_expiration_never_used_days %}{{ errors.tool_qualification_expiration_never_used_days.value }}{% else %}{{ tool_qualification_expiration_never_used_days }}{% endif %}" />
+                </div>
+                <div class="col-md-offset-3 col-md-9 help-block light-grey">
+                    {% if errors.tool_qualification_expiration_never_used_days %}
+                        {{ errors.tool_qualification_expiration_never_used_days.error }}
+                    {% else %}
+                        The number of days before the user's tool qualification expires since the user qualified for the first time.
+                    {% endif %}
+                </div>
+            </div>
+            <div class="form-group {% if errors.tool_qualification_cc %}has-error{% endif %}">
+                <label class="control-label col-md-3" for="tool_qualification_cc">Reminder/expiration CC</label>
+                <div class="col-md-5">
+                    <input type="text"
+                           id="tool_qualification_cc"
+                           name="tool_qualification_cc"
+                           class="form-control"
+                           value="{% if errors.tool_qualification_cc %}{{ errors.tool_qualification_cc.value }}{% else %}{{ tool_qualification_cc }}{% endif %}"
+                           placeholder="information@example.org" />
+                </div>
+                <div class="col-md-offset-3 col-md-9 help-block light-grey">
+                    {% if errors.tool_qualification_cc %}
+                        {{ errors.tool_qualification_cc.error }}
+                    {% else %}
+                        Extra email address to copy when a user's tool qualification reminder/expiration email is sent. A comma-separated list can be used.
+                    {% endif %}
+                </div>
+            </div>
+            <div class="customization-separation" style="margin-bottom: 15px"></div>
+            <div class="text-center">{% button type="save" value="Save settings" %}</div>
         </div>
-    </div>
-    <script type="text/javascript">
+        <script type="text/javascript">
         $("#tool-tab-link").click(function() {setTimeout(on_tool_tab_show, 50)});
         function on_tool_tab_show()
         {
             auto_size_textarea(document.getElementById('tool_control_configuration_setting_template'))
         }
         on_tool_tab_show();
-    </script>
-</form>
+        </script>
+    </form>
```

## NEMO/templates/customizations/customizations_training.html

```diff
@@ -1,119 +1,181 @@
 {% load custom_tags_and_filters %}
 <div class="panel-body">
     <h3 class="customization-section-title">Training module</h3>
     <form method="POST" action="{% url 'customize' 'training' %}" class="form-horizontal">
         {% csrf_token %}
-		<div class="form-group">
+        <div class="form-group">
             <label class="control-label col-lg-3 col-md-4 col-sm-5">Training types allowed</label>
             <div class="col-lg-9 col-md-8 col-sm-7">
-				<div class="checkbox">
-					{% for val, name in training_types %}
-						<label><input type="checkbox" name="training_type_list" {% if not training_only_type or training_only_type == val|stringformat:'i' %}checked{% endif %} value="{{ val }}">{{ name }}</label><br/>
-					{% endfor %}
-				</div>
-			</div>
+                <div class="checkbox">
+                    {% for val, name in training_types %}
+                        <label>
+                            <input type="checkbox"
+                                   name="training_type_list"
+                                   {% if not training_only_type or training_only_type == val|stringformat:'i' %}checked{% endif %}
+                                   value="{{ val }}">
+                            {{ name }}
+                        </label>
+                        <br />
+                    {% endfor %}
+                </div>
+            </div>
         </div>
         <div class="form-group">
             <label class="control-label col-lg-3 col-md-4 col-sm-5">Training date</label>
             <div class="col-lg-9 col-md-8 col-sm-7">
-				<div class="checkbox">
-                    <label><input type="checkbox" id="training_allow_date" name="training_allow_date" {% if training_allow_date %}checked{% endif %} value="enabled">Allow trainer to pick the training date for each entry</label>
-				</div>
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox"
+                               id="training_allow_date"
+                               name="training_allow_date"
+                               {% if training_allow_date %}checked{% endif %}
+                               value="enabled">
+                        Allow trainer to pick the training date for each entry
+                    </label>
+                </div>
                 <div class="help-block light-grey" style="margin-bottom: 0">Qualifications will still happen in real time</div>
-			</div>
+            </div>
         </div>
         <div class="form-group">
             <label class="control-label col-lg-3 col-md-4 col-sm-5">Training module</label>
             <div class="col-lg-9 col-md-8 col-sm-7">
-				<div class="checkbox">
-					<input type="hidden" name="training_module_enabled" value="off"/>
-					<label><input type="checkbox" name="training_module_enabled" {% if training_module_enabled == "enabled" %}checked{% endif %} value="enabled">Enable training requests/sessions scheduling</label><br/>
-					<label><input type="checkbox" name="training_show_in_user_requests" {% if training_show_in_user_requests %}checked{% endif %} value="enabled">Show training requests in user requests page</label><br/>
-				</div>
-			</div>
-        </div>
-		<div class="form-group">
-			<label class="control-label col-lg-3 col-md-4 col-sm-5" for="training_technique_empty_label">Technique empty label</label>
-			<div class="col-lg-3 col-md-4 col-sm-5">
-				<input class="form-control" name="training_technique_empty_label" id="training_technique_empty_label" type="text" value="{{ training_technique_empty_label|default_if_none:'' }}">
-			</div>
-		</div>
-		<div class="customization-separation" style="margin-bottom: 15px"></div>
-    	<h3 class="customization-section-title">Defaults</h3>
-		<div class="form-group{% if errors.training_event_default_duration %}has-error{% endif %}">
-            <label class="control-label col-lg-3 col-md-4 col-sm-5" for="training_event_default_duration">Session default duration</label>
-			<div class="col-lg-3 col-md-4 col-sm-5">
-				<div class="input-group">
-					<input class="form-control" name="training_event_default_duration" id="training_event_default_duration" type="number" value="{{ training_event_default_duration|default_if_none:'' }}">
-					<span class="input-group-addon">minutes</span>
-				</div>
-			</div>
-			{% if errors.training_event_default_duration %}
-				<div class="col-lg-offset-3 col-md-offset-4 col-sm-offset-5 col-lg-9 col-md-8 col-sm-7 help-block light-grey">
+                <div class="checkbox">
+                    <input type="hidden" name="training_module_enabled" value="off" />
+                    <label>
+                        <input type="checkbox"
+                               name="training_module_enabled"
+                               {% if training_module_enabled == "enabled" %}checked{% endif %}
+                               value="enabled">
+                        Enable training requests/sessions scheduling
+                    </label>
+                    <br />
+                    <label>
+                        <input type="checkbox"
+                               name="training_show_in_user_requests"
+                               {% if training_show_in_user_requests %}checked{% endif %}
+                               value="enabled">
+                        Show training requests in user requests page
+                    </label>
+                    <br />
+                </div>
+            </div>
+        </div>
+        <div class="form-group">
+            <label class="control-label col-lg-3 col-md-4 col-sm-5" for="training_technique_empty_label">
+                Technique empty label
+            </label>
+            <div class="col-lg-3 col-md-4 col-sm-5">
+                <input class="form-control"
+                       name="training_technique_empty_label"
+                       id="training_technique_empty_label"
+                       type="text"
+                       value="{{ training_technique_empty_label|default_if_none:'' }}">
+            </div>
+        </div>
+        <div class="customization-separation" style="margin-bottom: 15px"></div>
+        <h3 class="customization-section-title">Defaults</h3>
+        <div class="form-group{% if errors.training_event_default_duration %}has-error{% endif %}">
+            <label class="control-label col-lg-3 col-md-4 col-sm-5" for="training_event_default_duration">
+                Session default duration
+            </label>
+            <div class="col-lg-3 col-md-4 col-sm-5">
+                <div class="input-group">
+                    <input class="form-control"
+                           name="training_event_default_duration"
+                           id="training_event_default_duration"
+                           type="number"
+                           value="{{ training_event_default_duration|default_if_none:'' }}">
+                    <span class="input-group-addon">minutes</span>
+                </div>
+            </div>
+            {% if errors.training_event_default_duration %}
+                <div class="col-lg-offset-3 col-md-offset-4 col-sm-offset-5 col-lg-9 col-md-8 col-sm-7 help-block light-grey">
                     {{ errors.training_event_default_duration.error }}
-            	</div>
-			{% endif %}
+                </div>
+            {% endif %}
         </div>
-		<div class="form-group{% if errors.training_event_default_capacity %}has-error{% endif %}">
-            <label class="control-label col-lg-3 col-md-4 col-sm-5" for="training_event_default_capacity">Session default capacity</label>
-			<div class="col-lg-3 col-md-4 col-sm-5">
-				<div class="input-group">
-					<input class="form-control" name="training_event_default_capacity" id="training_event_default_capacity" type="number" value="{{ training_event_default_capacity|default_if_none:'' }}">
-					<span class="input-group-addon">attendees</span>
-				</div>
-			</div>
-			{% if errors.training_event_default_capacity %}
-				<div class="col-lg-offset-3 col-md-offset-4 col-sm-offset-5 col-lg-9 col-md-8 col-sm-7 help-block light-grey">
+        <div class="form-group{% if errors.training_event_default_capacity %}has-error{% endif %}">
+            <label class="control-label col-lg-3 col-md-4 col-sm-5" for="training_event_default_capacity">
+                Session default capacity
+            </label>
+            <div class="col-lg-3 col-md-4 col-sm-5">
+                <div class="input-group">
+                    <input class="form-control"
+                           name="training_event_default_capacity"
+                           id="training_event_default_capacity"
+                           type="number"
+                           value="{{ training_event_default_capacity|default_if_none:'' }}">
+                    <span class="input-group-addon">attendees</span>
+                </div>
+            </div>
+            {% if errors.training_event_default_capacity %}
+                <div class="col-lg-offset-3 col-md-offset-4 col-sm-offset-5 col-lg-9 col-md-8 col-sm-7 help-block light-grey">
                     {{ errors.training_event_default_capacity.error }}
-            	</div>
-			{% endif %}
+                </div>
+            {% endif %}
         </div>
         <div class="form-group">
             <label class="control-label col-lg-3 col-md-4 col-sm-5">Request default availability</label>
             <div class="col-lg-9 col-md-8 col-sm-7">
-				<div class="checkbox">
-					<label><input type="checkbox" name="training_request_default_availability_allowed" {% if training_request_default_availability_allowed %}checked{% endif %} value="enabled">Allow users to submit their availability when creating requests</label><br/>
-				</div>
-			</div>
-		</div>
-		<div class="form-group">
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox"
+                               name="training_request_default_availability_allowed"
+                               {% if training_request_default_availability_allowed %}checked{% endif %}
+                               value="enabled">
+                        Allow users to submit their availability when creating requests
+                    </label>
+                    <br />
+                </div>
+            </div>
+        </div>
+        <div class="form-group">
             <label class="control-label col-lg-3 col-md-4 col-sm-5">User message</label>
             <div class="col-lg-9 col-md-8 col-sm-7">
-				<div class="checkbox">
-					<label><input type="checkbox" name="training_request_default_message_required" {% if training_request_default_message_required %}checked{% endif %} value="enabled">Require users to submit a message when creating requests</label>
-				</div>
-			</div>
-		</div>
-		<div class="form-group">
-            <label class="control-label col-lg-3 col-md-4 col-sm-5" for="training_request_default_message_placeholder">Message placeholder</label>
-			<div class="col-md-7">
-				<textarea oninput="auto_size_textarea(this);" id="training_request_default_message_placeholder" name="training_request_default_message_placeholder" class="form-control">{{ training_request_default_message_placeholder }}</textarea>
-			</div>
-		</div>
-		<div class="form-group {% if errors.training_excluded_tools %}has-error{% endif %}">
-			<label class="control-label col-md-3" for="exclude_tool">Excluded tools</label>
-			<div class="col-md-7">
-				<input id="exclude_tool" type="text" autocomplete="off" class="form-control" placeholder="Search for a tool to exclude">
-			</div>
-			{% if errors.training_excluded_tools %}
-				<div class="col-md-offset-3 col-md-9 help-block light-grey">
-					{{ errors.training_excluded_tools.error }}
-				</div>
-			{% endif %}
-		</div>
-		<div class="form-group">
-			<div id="exclude-list" class="col-md-offset-3 col-md-4">
-				No tools are excluded.
-			</div>
-		</div>
-        <div class="customization-separation" style="margin-bottom: 15px"></div>
-        <div class="text-center">
-            {% button type="save" value="Save settings" %}
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox"
+                               name="training_request_default_message_required"
+                               {% if training_request_default_message_required %}checked{% endif %}
+                               value="enabled">
+                        Require users to submit a message when creating requests
+                    </label>
+                </div>
+            </div>
+        </div>
+        <div class="form-group">
+            <label class="control-label col-lg-3 col-md-4 col-sm-5" for="training_request_default_message_placeholder">
+                Message placeholder
+            </label>
+            <div class="col-md-7">
+                <textarea oninput="auto_size_textarea(this);"
+                          id="training_request_default_message_placeholder"
+                          name="training_request_default_message_placeholder"
+                          class="form-control">{{ training_request_default_message_placeholder }}</textarea>
+            </div>
+        </div>
+        <div class="form-group {% if errors.training_excluded_tools %}has-error{% endif %}">
+            <label class="control-label col-md-3" for="exclude_tool">Excluded tools</label>
+            <div class="col-md-7">
+                <input id="exclude_tool"
+                       type="text"
+                       autocomplete="off"
+                       class="form-control"
+                       placeholder="Search for a tool to exclude">
+            </div>
+            {% if errors.training_excluded_tools %}
+                <div class="col-md-offset-3 col-md-9 help-block light-grey">{{ errors.training_excluded_tools.error }}</div>
+            {% endif %}
         </div>
+        <div class="form-group">
+            <div id="exclude-list" class="col-md-offset-3 col-md-4">No tools are excluded.</div>
+        </div>
+        <div class="customization-separation" style="margin-bottom: 15px"></div>
+        <div class="text-center">{% button type="save" value="Save settings" %}</div>
     </form>
 </div>
 <script>
 	function add_tool(jquery_event, search_selection, dataset_name)
 	{
         $(this).typeahead('val', '').focus();
 		add_to_list("#exclude-list", "remove_tool", search_selection.id, search_selection.name, "Remove " + search_selection.name, "training_excluded_tools_list");
@@ -123,8 +185,8 @@
 		remove_from_list("#exclude-list", "#training_excluded_tools_list_" + tool_id, "No tools are excluded.");
 	}
 	$('#exclude_tool').autocomplete('tools', add_tool, {{ tools|json_search_base }});
     {% for tool in excluded_tools %}
 		add_tool(undefined, {name:'{{ tool.name }}', id:{{ tool.id }}});
 	{% endfor %}
 	auto_size_textarea(document.getElementById("training_request_default_message_placeholder"));
-</script>
+</script>
```

## NEMO/templates/customizations/customizations_upload.html

```diff
@@ -1,16 +1,24 @@
 {% load static %}
 {% load custom_tags_and_filters %}
 {% with element_name=name.split|join:"_"|lower extension=extension|default:"html" %}
-    <form method="POST" action="{% url 'customize' key element_name %}#{{ element_name }}_id" enctype="multipart/form-data">
+    <form method="POST"
+          action="{% url 'customize' key element_name %}#{{ element_name }}_id"
+          enctype="multipart/form-data">
         {% csrf_token %}
         <div class="form-group" style="margin-bottom: 0">
-            <input type="file" name="{{ element_name }}" class="customization-input-file" onchange="this.style.color = 'inherit';$('#{{ element_name }}_span').hide()">
+            <input type="file"
+                   name="{{ element_name }}"
+                   class="customization-input-file"
+                   onchange="this.style.color = 'inherit';$('#{{ element_name }}_span').hide()">
             {% if element %}
-                <a id="{{ element_name }}_span" href="{% get_media_prefix %}{{ element_name }}.{{ extension }}" download="{{ element_name }}.{{ extension }}" target="_blank">{{ element_link_name|default:element_name }}.{{ extension }}</a>
+                <a id="{{ element_name }}_span"
+                   href="{% get_media_prefix %}{{ element_name }}.{{ extension }}"
+                   download="{{ element_name }}.{{ extension }}"
+                   target="_blank">{{ element_link_name|default:element_name }}.{{ extension }}</a>
             {% endif %}
         </div>
         <div class="form-group">
             <div style="display: inline-block;margin-right:15px;margin-top: 15px">
                 {% with upload_button_name="Upload "|concat:name %}
                     {% button type="save" value=button_name|default:upload_button_name onclick="return check_delete_file_before_submit('"|concat:element_name|concat:"') && submit_and_disable(this);" icon="glyphicon-floppy-open" %}
                 {% endwith %}
@@ -19,8 +27,8 @@
                 <div style="display: inline-block;margin-top: 15px">
                     {% get_media_prefix as media_prefix %}
                     {% button type="info" url=media_prefix|concat:element_name|concat:"."|concat:extension target="_blank" value="Show current content" icon="glyphicon-eye-open" %}
                 </div>
             {% endif %}
         </div>
     </form>
-{% endwith %}
+{% endwith %}
```

## NEMO/templates/customizations/customizations_user.html

```diff
@@ -16,311 +16,372 @@
 000000f0: 203c 6469 7620 636c 6173 733d 2266 6f72   <div class="for
 00000100: 6d2d 6772 6f75 7022 3e0a 2020 2020 2020  m-group">.      
 00000110: 2020 2020 2020 3c6c 6162 656c 2063 6c61        <label cla
 00000120: 7373 3d22 636f 6e74 726f 6c2d 6c61 6265  ss="control-labe
 00000130: 6c20 636f 6c2d 6d64 2d34 2063 6f6c 2d6c  l col-md-4 col-l
 00000140: 672d 3322 2066 6f72 3d22 6465 6661 756c  g-3" for="defaul
 00000150: 745f 7573 6572 5f74 7261 696e 696e 675f  t_user_training_
-00000160: 6e6f 745f 7265 7175 6972 6564 223e 4e65  not_required">Ne
-00000170: 7720 7573 6572 2066 6163 696c 6974 7920  w user facility 
-00000180: 7475 746f 7269 616c 3c2f 6c61 6265 6c3e  tutorial</label>
-00000190: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
-000001a0: 7620 636c 6173 733d 2263 6f6c 2d6d 642d  v class="col-md-
-000001b0: 3820 636f 6c2d 6c67 2d39 223e 0a20 2020  8 col-lg-9">.   
-000001c0: 2020 2020 2020 2020 2020 2020 203c 6469               <di
-000001d0: 7620 636c 6173 733d 2272 6164 696f 223e  v class="radio">
-000001e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000001f0: 2020 2020 203c 6c61 6265 6c3e 3c69 6e70       <label><inp
-00000200: 7574 2074 7970 653d 2272 6164 696f 2220  ut type="radio" 
-00000210: 6964 3d22 6465 6661 756c 745f 7573 6572  id="default_user
-00000220: 5f74 7261 696e 696e 675f 6e6f 745f 7265  _training_not_re
-00000230: 7175 6972 6564 2220 6e61 6d65 3d22 6465  quired" name="de
-00000240: 6661 756c 745f 7573 6572 5f74 7261 696e  fault_user_train
-00000250: 696e 675f 6e6f 745f 7265 7175 6972 6564  ing_not_required
-00000260: 2220 7b25 2069 6620 6e6f 7420 6465 6661  " {% if not defa
-00000270: 756c 745f 7573 6572 5f74 7261 696e 696e  ult_user_trainin
-00000280: 675f 6e6f 745f 7265 7175 6972 6564 2025  g_not_required %
-00000290: 7d63 6865 636b 6564 7b25 2065 6e64 6966  }checked{% endif
-000002a0: 2025 7d20 7661 6c75 653d 2222 3e20 5265   %} value=""> Re
-000002b0: 7175 6972 6564 3c2f 6c61 6265 6c3e 0a20  quired</label>. 
-000002c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000002d0: 2020 203c 6c61 6265 6c3e 3c69 6e70 7574     <label><input
-000002e0: 2074 7970 653d 2272 6164 696f 2220 6e61   type="radio" na
-000002f0: 6d65 3d22 6465 6661 756c 745f 7573 6572  me="default_user
-00000300: 5f74 7261 696e 696e 675f 6e6f 745f 7265  _training_not_re
-00000310: 7175 6972 6564 2220 7b25 2069 6620 6465  quired" {% if de
-00000320: 6661 756c 745f 7573 6572 5f74 7261 696e  fault_user_train
-00000330: 696e 675f 6e6f 745f 7265 7175 6972 6564  ing_not_required
-00000340: 2025 7d63 6865 636b 6564 7b25 2065 6e64   %}checked{% end
-00000350: 6966 2025 7d20 7661 6c75 653d 2265 6e61  if %} value="ena
-00000360: 626c 6564 223e 204e 6f74 2072 6571 7569  bled"> Not requi
-00000370: 7265 643c 2f6c 6162 656c 3e0a 2020 2020  red</label>.    
-00000380: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
-00000390: 763e 0a20 2020 2020 2020 2020 2020 203c  v>.            <
-000003a0: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
-000003b0: 2020 3c64 6976 2063 6c61 7373 3d22 636f    <div class="co
-000003c0: 6c2d 6c67 2d6f 6666 7365 742d 3320 636f  l-lg-offset-3 co
-000003d0: 6c2d 6d64 2d6f 6666 7365 742d 3420 636f  l-md-offset-4 co
-000003e0: 6c2d 6d64 2d38 2063 6f6c 2d6c 672d 3920  l-md-8 col-lg-9 
-000003f0: 6865 6c70 2d62 6c6f 636b 206c 6967 6874  help-block light
-00000400: 2d67 7265 7922 3e0a 2020 2020 2020 2020  -grey">.        
-00000410: 2020 2020 2020 2020 5768 6574 6865 7220          Whether 
-00000420: 7468 6520 6661 6369 6c69 7479 2072 756c  the facility rul
-00000430: 6573 2074 7574 6f72 6961 6c20 6973 2072  es tutorial is r
-00000440: 6571 7569 7265 6420 666f 7220 6e65 7720  equired for new 
-00000450: 7573 6572 7320 6279 2064 6566 6175 6c74  users by default
-00000460: 2e0a 2020 2020 2020 2020 2020 2020 3c2f  ..            </
-00000470: 6469 763e 0a20 2020 2020 2020 203c 2f64  div>.        </d
-00000480: 6976 3e0a 2020 2020 2020 2020 3c64 6976  iv>.        <div
-00000490: 2063 6c61 7373 3d22 666f 726d 2d67 726f   class="form-gro
-000004a0: 7570 223e 0a20 2020 2020 2020 2020 2020  up">.           
-000004b0: 203c 6c61 6265 6c20 636c 6173 733d 2263   <label class="c
-000004c0: 6f6e 7472 6f6c 2d6c 6162 656c 2063 6f6c  ontrol-label col
-000004d0: 2d6d 642d 3420 636f 6c2d 6c67 2d33 2220  -md-4 col-lg-3" 
-000004e0: 666f 723d 2275 7365 725f 6c69 7374 5f61  for="user_list_a
-000004f0: 6374 6976 655f 6f6e 6c79 223e 5573 6572  ctive_only">User
-00000500: 206c 6973 743c 2f6c 6162 656c 3e0a 2020   list</label>.  
-00000510: 2020 2020 2020 2020 2020 3c64 6976 2063            <div c
-00000520: 6c61 7373 3d22 636f 6c2d 6d64 2d38 2063  lass="col-md-8 c
-00000530: 6f6c 2d6c 672d 3922 3e0a 2020 2020 2020  ol-lg-9">.      
-00000540: 2020 2020 2020 2020 2020 3c64 6976 2063            <div c
-00000550: 6c61 7373 3d22 6368 6563 6b62 6f78 223e  lass="checkbox">
-00000560: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000570: 2020 2020 203c 6c61 6265 6c3e 3c69 6e70       <label><inp
-00000580: 7574 2074 7970 653d 2263 6865 636b 626f  ut type="checkbo
-00000590: 7822 2069 643d 2275 7365 725f 6c69 7374  x" id="user_list
-000005a0: 5f61 6374 6976 655f 6f6e 6c79 2220 6e61  _active_only" na
-000005b0: 6d65 3d22 7573 6572 5f6c 6973 745f 6163  me="user_list_ac
-000005c0: 7469 7665 5f6f 6e6c 7922 207b 2520 6966  tive_only" {% if
-000005d0: 2075 7365 725f 6c69 7374 5f61 6374 6976   user_list_activ
-000005e0: 655f 6f6e 6c79 2025 7d63 6865 636b 6564  e_only %}checked
-000005f0: 7b25 2065 6e64 6966 2025 7d20 7661 6c75  {% endif %} valu
-00000600: 653d 2265 6e61 626c 6564 223e 2048 6964  e="enabled"> Hid
-00000610: 6520 696e 6163 7469 7665 3c2f 6c61 6265  e inactive</labe
-00000620: 6c3e 0a20 2020 2020 2020 2020 2020 2020  l>.             
-00000630: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
-00000640: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
-00000650: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
-00000660: 6173 733d 2263 6f6c 2d6c 672d 6f66 6673  ass="col-lg-offs
-00000670: 6574 2d33 2063 6f6c 2d6d 642d 6f66 6673  et-3 col-md-offs
-00000680: 6574 2d34 2063 6f6c 2d6d 642d 3820 636f  et-4 col-md-8 co
-00000690: 6c2d 6c67 2d39 2068 656c 702d 626c 6f63  l-lg-9 help-bloc
-000006a0: 6b20 6c69 6768 742d 6772 6579 223e 0a20  k light-grey">. 
-000006b0: 2020 2020 2020 2020 2020 2020 2020 2043                 C
-000006c0: 6865 636b 2074 6869 7320 626f 7820 746f  heck this box to
-000006d0: 206f 6e6c 7920 7368 6f77 2061 6374 6976   only show activ
-000006e0: 6520 7573 6572 7320 696e 2074 6865 2075  e users in the u
-000006f0: 7365 7220 6c69 7374 2e0a 2020 2020 2020  ser list..      
-00000700: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
-00000710: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
-00000720: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-00000730: 666f 726d 2d67 726f 7570 223e 0a20 2020  form-group">.   
-00000740: 2020 2020 2020 2020 203c 6c61 6265 6c20           <label 
-00000750: 636c 6173 733d 2263 6f6e 7472 6f6c 2d6c  class="control-l
-00000760: 6162 656c 2063 6f6c 2d6d 642d 3420 636f  abel col-md-4 co
-00000770: 6c2d 6c67 2d33 2220 666f 723d 2275 7365  l-lg-3" for="use
-00000780: 725f 6c69 7374 5f61 6374 6976 655f 6f6e  r_list_active_on
-00000790: 6c79 223e 5573 6572 2064 6f63 756d 656e  ly">User documen
-000007a0: 7420 7570 6c6f 6164 3c2f 6c61 6265 6c3e  t upload</label>
-000007b0: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
-000007c0: 7620 636c 6173 733d 2263 6f6c 2d6d 642d  v class="col-md-
-000007d0: 3820 636f 6c2d 6c67 2d39 223e 0a20 2020  8 col-lg-9">.   
-000007e0: 2020 2020 2020 2020 2020 2020 203c 6469               <di
-000007f0: 7620 636c 6173 733d 2263 6865 636b 626f  v class="checkbo
-00000800: 7822 3e0a 0909 0909 093c 6c61 6265 6c3e  x">......<label>
-00000810: 3c69 6e70 7574 2074 7970 653d 2263 6865  <input type="che
-00000820: 636b 626f 7822 206e 616d 653d 2275 7365  ckbox" name="use
-00000830: 725f 616c 6c6f 775f 646f 6375 6d65 6e74  r_allow_document
-00000840: 5f75 706c 6f61 6422 207b 2520 6966 2075  _upload" {% if u
-00000850: 7365 725f 616c 6c6f 775f 646f 6375 6d65  ser_allow_docume
-00000860: 6e74 5f75 706c 6f61 6420 257d 6368 6563  nt_upload %}chec
-00000870: 6b65 647b 2520 656e 6469 6620 257d 2076  ked{% endif %} v
-00000880: 616c 7565 3d22 656e 6162 6c65 6422 3e45  alue="enabled">E
-00000890: 6e61 626c 653c 2f6c 6162 656c 3e0a 0909  nable</label>...
-000008a0: 0909 3c2f 6469 763e 0a20 2020 2020 2020  ..</div>.       
-000008b0: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
-000008c0: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-000008d0: 7373 3d22 636f 6c2d 6c67 2d6f 6666 7365  ss="col-lg-offse
-000008e0: 742d 3320 636f 6c2d 6d64 2d6f 6666 7365  t-3 col-md-offse
-000008f0: 742d 3420 636f 6c2d 6d64 2d38 2063 6f6c  t-4 col-md-8 col
-00000900: 2d6c 672d 3920 6865 6c70 2d62 6c6f 636b  -lg-9 help-block
-00000910: 206c 6967 6874 2d67 7265 7922 3e0a 2020   light-grey">.  
-00000920: 2020 2020 2020 2020 2020 2020 2020 4368                Ch
-00000930: 6563 6b20 7468 6973 2062 6f78 2074 6f20  eck this box to 
-00000940: 616c 6c6f 7720 7570 6c6f 6164 696e 6720  allow uploading 
-00000950: 646f 6375 6d65 6e74 7320 746f 2075 7365  documents to use
-00000960: 7273 2e0a 2020 2020 2020 2020 2020 2020  rs..            
-00000970: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
-00000980: 2f64 6976 3e0a 2020 2020 2020 2020 3c64  /div>.        <d
-00000990: 6976 2063 6c61 7373 3d22 6375 7374 6f6d  iv class="custom
-000009a0: 697a 6174 696f 6e2d 7365 7061 7261 7469  ization-separati
-000009b0: 6f6e 2220 7374 796c 653d 226d 6172 6769  on" style="margi
-000009c0: 6e2d 626f 7474 6f6d 3a20 3135 7078 223e  n-bottom: 15px">
-000009d0: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
-000009e0: 6833 2063 6c61 7373 3d22 6375 7374 6f6d  h3 class="custom
-000009f0: 697a 6174 696f 6e2d 7365 6374 696f 6e2d  ization-section-
-00000a00: 7469 746c 6522 3e41 6363 6573 7320 6578  title">Access ex
-00000a10: 7069 7261 7469 6f6e 2072 656d 696e 6465  piration reminde
-00000a20: 723c 2f68 333e 0a09 093c 6469 7620 636c  r</h3>...<div cl
-00000a30: 6173 733d 2266 6f72 6d2d 6772 6f75 7020  ass="form-group 
-00000a40: 7b25 2069 6620 6572 726f 7273 2e75 7365  {% if errors.use
-00000a50: 725f 6163 6365 7373 5f65 7870 6972 6174  r_access_expirat
-00000a60: 696f 6e5f 7265 6d69 6e64 6572 5f64 6179  ion_reminder_day
-00000a70: 7320 257d 6861 732d 6572 726f 727b 2520  s %}has-error{% 
-00000a80: 656e 6469 6620 257d 223e 0a20 2020 2020  endif %}">.     
-00000a90: 2020 2020 2020 203c 6c61 6265 6c20 636c         <label cl
-00000aa0: 6173 733d 2263 6f6e 7472 6f6c 2d6c 6162  ass="control-lab
-00000ab0: 656c 2063 6f6c 2d6d 642d 3420 636f 6c2d  el col-md-4 col-
-00000ac0: 6c67 2d33 2220 666f 723d 2275 7365 725f  lg-3" for="user_
-00000ad0: 6163 6365 7373 5f65 7870 6972 6174 696f  access_expiratio
-00000ae0: 6e5f 7265 6d69 6e64 6572 5f64 6179 7322  n_reminder_days"
-00000af0: 3e52 656d 696e 6465 7220 6461 7973 3c2f  >Reminder days</
-00000b00: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
-00000b10: 2020 203c 6469 7620 636c 6173 733d 2263     <div class="c
-00000b20: 6f6c 2d6d 642d 3820 636f 6c2d 6c67 2d39  ol-md-8 col-lg-9
-00000b30: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
-00000b40: 2020 203c 696e 7075 7420 7479 7065 3d22     <input type="
-00000b50: 7465 7874 2220 6964 3d22 7573 6572 5f61  text" id="user_a
-00000b60: 6363 6573 735f 6578 7069 7261 7469 6f6e  ccess_expiration
-00000b70: 5f72 656d 696e 6465 725f 6461 7973 2220  _reminder_days" 
-00000b80: 6e61 6d65 3d22 7573 6572 5f61 6363 6573  name="user_acces
-00000b90: 735f 6578 7069 7261 7469 6f6e 5f72 656d  s_expiration_rem
-00000ba0: 696e 6465 725f 6461 7973 2220 636c 6173  inder_days" clas
-00000bb0: 733d 2266 6f72 6d2d 636f 6e74 726f 6c22  s="form-control"
-00000bc0: 2076 616c 7565 3d22 7b25 2069 6620 6572   value="{% if er
-00000bd0: 726f 7273 2e75 7365 725f 6163 6365 7373  rors.user_access
-00000be0: 5f65 7870 6972 6174 696f 6e5f 7265 6d69  _expiration_remi
-00000bf0: 6e64 6572 5f64 6179 7320 257d 7b7b 2065  nder_days %}{{ e
-00000c00: 7272 6f72 732e 7573 6572 5f61 6363 6573  rrors.user_acces
-00000c10: 735f 6578 7069 7261 7469 6f6e 5f72 656d  s_expiration_rem
-00000c20: 696e 6465 725f 6461 7973 2e76 616c 7565  inder_days.value
-00000c30: 207d 7d7b 2520 656c 7365 2025 7d7b 7b20   }}{% else %}{{ 
-00000c40: 7573 6572 5f61 6363 6573 735f 6578 7069  user_access_expi
-00000c50: 7261 7469 6f6e 5f72 656d 696e 6465 725f  ration_reminder_
-00000c60: 6461 7973 207d 7d7b 2520 656e 6469 6620  days }}{% endif 
-00000c70: 257d 222f 3e0a 2020 2020 2020 2020 2020  %}"/>.          
-00000c80: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-00000c90: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
-00000ca0: 2263 6f6c 2d6c 672d 6f66 6673 6574 2d33  "col-lg-offset-3
-00000cb0: 2063 6f6c 2d6d 642d 6f66 6673 6574 2d34   col-md-offset-4
-00000cc0: 2063 6f6c 2d6d 642d 3820 636f 6c2d 6c67   col-md-8 col-lg
-00000cd0: 2d39 2068 656c 702d 626c 6f63 6b20 6c69  -9 help-block li
-00000ce0: 6768 742d 6772 6579 223e 0a20 2020 2020  ght-grey">.     
-00000cf0: 2020 2020 2020 2020 2020 207b 2520 6966             {% if
-00000d00: 2065 7272 6f72 732e 7573 6572 5f61 6363   errors.user_acc
-00000d10: 6573 735f 6578 7069 7261 7469 6f6e 5f72  ess_expiration_r
-00000d20: 656d 696e 6465 725f 6461 7973 2025 7d0a  eminder_days %}.
-00000d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000d40: 2020 2020 7b7b 2065 7272 6f72 732e 7573      {{ errors.us
-00000d50: 6572 5f61 6363 6573 735f 6578 7069 7261  er_access_expira
-00000d60: 7469 6f6e 5f72 656d 696e 6465 725f 6461  tion_reminder_da
-00000d70: 7973 2e65 7272 6f72 207d 7d0a 2020 2020  ys.error }}.    
-00000d80: 2020 2020 2020 2020 2020 2020 7b25 2065              {% e
-00000d90: 6c73 6520 257d 0a20 2020 2020 2020 2020  lse %}.         
-00000da0: 2020 2020 2020 2020 2020 2054 6865 206e             The n
-00000db0: 756d 6265 7220 6f66 2064 6179 7320 746f  umber of days to
-00000dc0: 2073 656e 6420 6120 7265 6d69 6e64 6572   send a reminder
-00000dd0: 2070 7269 6f72 2074 6f20 7468 6520 7573   prior to the us
-00000de0: 6572 2773 2061 6363 6573 7320 6578 7069  er's access expi
-00000df0: 7261 7469 6f6e 2e20 4120 636f 6d6d 612d  ration. A comma-
-00000e00: 7365 7061 7261 7465 6420 6c69 7374 2063  separated list c
-00000e10: 616e 2062 6520 7573 6564 2066 6f72 206d  an be used for m
-00000e20: 756c 7469 706c 6520 7265 6d69 6e64 6572  ultiple reminder
-00000e30: 732e 0a20 2020 2020 2020 2020 2020 2020  s..             
-00000e40: 2020 2020 2020 2054 6869 7320 7365 7474         This sett
-00000e50: 696e 6720 616e 6420 7468 6520 3c61 2068  ing and the <a h
-00000e60: 7265 663d 227b 2520 7572 6c20 2763 7573  ref="{% url 'cus
-00000e70: 746f 6d69 7a61 7469 6f6e 2720 2774 656d  tomization' 'tem
-00000e80: 706c 6174 6573 2720 257d 3f23 7573 6572  plates' %}?#user
-00000e90: 5f61 6363 6573 735f 6578 7069 7261 7469  _access_expirati
-00000ea0: 6f6e 5f72 656d 696e 6465 725f 656d 6169  on_reminder_emai
-00000eb0: 6c5f 6964 223e 7573 6572 2061 6363 6573  l_id">user acces
-00000ec0: 7320 6578 7069 7261 7469 6f6e 2072 656d  s expiration rem
-00000ed0: 696e 6465 7220 656d 6169 6c3c 2f61 3e20  inder email</a> 
-00000ee0: 6e65 6564 2074 6f20 6265 2073 6574 2074  need to be set t
-00000ef0: 6f20 656e 6162 6c65 2074 6869 7320 6665  o enable this fe
-00000f00: 6174 7572 652e 0a20 2020 2020 2020 2020  ature..         
-00000f10: 2020 2020 2020 207b 2520 656e 6469 6620         {% endif 
-00000f20: 257d 0a20 2020 2020 2020 2020 2020 203c  %}.            <
-00000f30: 2f64 6976 3e0a 2020 2020 2020 2020 3c2f  /div>.        </
-00000f40: 6469 763e 0a09 093c 6469 7620 636c 6173  div>...<div clas
-00000f50: 733d 2266 6f72 6d2d 6772 6f75 7020 7b25  s="form-group {%
-00000f60: 2069 6620 6572 726f 7273 2e75 7365 725f   if errors.user_
-00000f70: 6163 6365 7373 5f65 7870 6972 6174 696f  access_expiratio
-00000f80: 6e5f 7265 6d69 6e64 6572 5f63 6320 257d  n_reminder_cc %}
-00000f90: 6861 732d 6572 726f 727b 2520 656e 6469  has-error{% endi
-00000fa0: 6620 257d 223e 0a20 2020 2020 2020 2020  f %}">.         
-00000fb0: 2020 203c 6c61 6265 6c20 636c 6173 733d     <label class=
-00000fc0: 2263 6f6e 7472 6f6c 2d6c 6162 656c 2063  "control-label c
-00000fd0: 6f6c 2d6d 642d 3420 636f 6c2d 6c67 2d33  ol-md-4 col-lg-3
-00000fe0: 2220 666f 723d 2275 7365 725f 6163 6365  " for="user_acce
-00000ff0: 7373 5f65 7870 6972 6174 696f 6e5f 7265  ss_expiration_re
-00001000: 6d69 6e64 6572 5f63 6322 3e52 656d 696e  minder_cc">Remin
-00001010: 6465 7220 656d 6169 6c20 4343 3c2f 6c61  der email CC</la
-00001020: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
-00001030: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
-00001040: 2d6d 642d 3820 636f 6c2d 6c67 2d39 223e  -md-8 col-lg-9">
-00001050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001060: 203c 696e 7075 7420 7479 7065 3d22 7465   <input type="te
-00001070: 7874 2220 6964 3d22 7573 6572 5f61 6363  xt" id="user_acc
-00001080: 6573 735f 6578 7069 7261 7469 6f6e 5f72  ess_expiration_r
-00001090: 656d 696e 6465 725f 6363 2220 6e61 6d65  eminder_cc" name
-000010a0: 3d22 7573 6572 5f61 6363 6573 735f 6578  ="user_access_ex
-000010b0: 7069 7261 7469 6f6e 5f72 656d 696e 6465  piration_reminde
-000010c0: 725f 6363 2220 636c 6173 733d 2266 6f72  r_cc" class="for
-000010d0: 6d2d 636f 6e74 726f 6c22 2076 616c 7565  m-control" value
-000010e0: 3d22 7b25 2069 6620 6572 726f 7273 2e75  ="{% if errors.u
-000010f0: 7365 725f 6163 6365 7373 5f65 7870 6972  ser_access_expir
-00001100: 6174 696f 6e5f 7265 6d69 6e64 6572 5f63  ation_reminder_c
-00001110: 6320 257d 7b7b 2065 7272 6f72 732e 7573  c %}{{ errors.us
-00001120: 6572 5f61 6363 6573 735f 6578 7069 7261  er_access_expira
-00001130: 7469 6f6e 5f72 656d 696e 6465 725f 6363  tion_reminder_cc
-00001140: 2e76 616c 7565 207d 7d7b 2520 656c 7365  .value }}{% else
-00001150: 2025 7d7b 7b20 7573 6572 5f61 6363 6573   %}{{ user_acces
-00001160: 735f 6578 7069 7261 7469 6f6e 5f72 656d  s_expiration_rem
-00001170: 696e 6465 725f 6363 207d 7d7b 2520 656e  inder_cc }}{% en
-00001180: 6469 6620 257d 2220 706c 6163 6568 6f6c  dif %}" placehol
-00001190: 6465 723d 2269 6e66 6f72 6d61 7469 6f6e  der="information
-000011a0: 4065 7861 6d70 6c65 2e6f 7267 222f 3e0a  @example.org"/>.
-000011b0: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
-000011c0: 763e 0a20 2020 2020 2020 2020 2020 203c  v>.            <
-000011d0: 6469 7620 636c 6173 733d 2263 6f6c 2d6c  div class="col-l
-000011e0: 672d 6f66 6673 6574 2d33 2063 6f6c 2d6d  g-offset-3 col-m
-000011f0: 642d 6f66 6673 6574 2d34 2063 6f6c 2d6d  d-offset-4 col-m
-00001200: 642d 3820 636f 6c2d 6c67 2d39 2068 656c  d-8 col-lg-9 hel
-00001210: 702d 626c 6f63 6b20 6c69 6768 742d 6772  p-block light-gr
-00001220: 6579 223e 0a20 2020 2020 2020 2020 2020  ey">.           
-00001230: 2020 2020 207b 2520 6966 2065 7272 6f72       {% if error
-00001240: 732e 7573 6572 5f61 6363 6573 735f 6578  s.user_access_ex
-00001250: 7069 7261 7469 6f6e 5f72 656d 696e 6465  piration_reminde
-00001260: 725f 6363 2025 7d0a 2020 2020 2020 2020  r_cc %}.        
-00001270: 2020 2020 2020 2020 2020 2020 7b7b 2065              {{ e
-00001280: 7272 6f72 732e 7573 6572 5f61 6363 6573  rrors.user_acces
-00001290: 735f 6578 7069 7261 7469 6f6e 5f72 656d  s_expiration_rem
-000012a0: 696e 6465 725f 6363 2e65 7272 6f72 207d  inder_cc.error }
-000012b0: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
-000012c0: 2020 7b25 2065 6c73 6520 257d 0a20 2020    {% else %}.   
-000012d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000012e0: 2045 7874 7261 2065 6d61 696c 2061 6464   Extra email add
-000012f0: 7265 7373 2074 6f20 636f 7079 2077 6865  ress to copy whe
-00001300: 6e20 6120 7573 6572 2061 6363 6573 7320  n a user access 
-00001310: 6578 7069 7261 7469 6f6e 2072 656d 696e  expiration remin
-00001320: 6465 7220 6973 2073 656e 742e 2041 2063  der is sent. A c
-00001330: 6f6d 6d61 2d73 6570 6172 6174 6564 206c  omma-separated l
-00001340: 6973 7420 6361 6e20 6265 2075 7365 642e  ist can be used.
-00001350: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001360: 207b 2520 656e 6469 6620 257d 0a20 2020   {% endif %}.   
-00001370: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
-00001380: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
-00001390: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
-000013a0: 733d 2263 7573 746f 6d69 7a61 7469 6f6e  s="customization
-000013b0: 2d73 6570 6172 6174 696f 6e22 2073 7479  -separation" sty
-000013c0: 6c65 3d22 6d61 7267 696e 2d62 6f74 746f  le="margin-botto
-000013d0: 6d3a 2031 3570 7822 3e3c 2f64 6976 3e0a  m: 15px"></div>.
-000013e0: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-000013f0: 7373 3d22 7465 7874 2d63 656e 7465 7222  ss="text-center"
-00001400: 3e0a 2020 2020 2020 2020 2020 2020 7b25  >.            {%
-00001410: 2062 7574 746f 6e20 7479 7065 3d22 7361   button type="sa
-00001420: 7665 2220 7661 6c75 653d 2253 6176 6520  ve" value="Save 
-00001430: 7365 7474 696e 6773 2220 257d 0a20 2020  settings" %}.   
-00001440: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
-00001450: 3c2f 6469 763e 0a3c 2f66 6f72 6d3e       </div>.</form>
+00000160: 6e6f 745f 7265 7175 6972 6564 223e 0a20  not_required">. 
+00000170: 2020 2020 2020 2020 2020 2020 2020 204e                 N
+00000180: 6577 2075 7365 7220 6661 6369 6c69 7479  ew user facility
+00000190: 2074 7574 6f72 6961 6c0a 2020 2020 2020   tutorial.      
+000001a0: 2020 2020 2020 3c2f 6c61 6265 6c3e 0a20        </label>. 
+000001b0: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
+000001c0: 636c 6173 733d 2263 6f6c 2d6d 642d 3820  class="col-md-8 
+000001d0: 636f 6c2d 6c67 2d39 223e 0a20 2020 2020  col-lg-9">.     
+000001e0: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
+000001f0: 636c 6173 733d 2272 6164 696f 223e 0a20  class="radio">. 
+00000200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000210: 2020 203c 6c61 6265 6c3e 0a20 2020 2020     <label>.     
+00000220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000230: 2020 203c 696e 7075 7420 7479 7065 3d22     <input type="
+00000240: 7261 6469 6f22 0a20 2020 2020 2020 2020  radio".         
+00000250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000260: 2020 2020 2020 6964 3d22 6465 6661 756c        id="defaul
+00000270: 745f 7573 6572 5f74 7261 696e 696e 675f  t_user_training_
+00000280: 6e6f 745f 7265 7175 6972 6564 220a 2020  not_required".  
+00000290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000002a0: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+000002b0: 653d 2264 6566 6175 6c74 5f75 7365 725f  e="default_user_
+000002c0: 7472 6169 6e69 6e67 5f6e 6f74 5f72 6571  training_not_req
+000002d0: 7569 7265 6422 0a20 2020 2020 2020 2020  uired".         
+000002e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000002f0: 2020 2020 2020 7b25 2069 6620 6e6f 7420        {% if not 
+00000300: 6465 6661 756c 745f 7573 6572 5f74 7261  default_user_tra
+00000310: 696e 696e 675f 6e6f 745f 7265 7175 6972  ining_not_requir
+00000320: 6564 2025 7d63 6865 636b 6564 7b25 2065  ed %}checked{% e
+00000330: 6e64 6966 2025 7d0a 2020 2020 2020 2020  ndif %}.        
+00000340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000350: 2020 2020 2020 2076 616c 7565 3d22 223e         value="">
+00000360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000370: 2020 2020 2020 2020 2052 6571 7569 7265           Require
+00000380: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+00000390: 2020 2020 2020 3c2f 6c61 6265 6c3e 0a20        </label>. 
+000003a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000003b0: 2020 203c 6c61 6265 6c3e 0a20 2020 2020     <label>.     
+000003c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000003d0: 2020 203c 696e 7075 7420 7479 7065 3d22     <input type="
+000003e0: 7261 6469 6f22 0a20 2020 2020 2020 2020  radio".         
+000003f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000400: 2020 2020 2020 6e61 6d65 3d22 6465 6661        name="defa
+00000410: 756c 745f 7573 6572 5f74 7261 696e 696e  ult_user_trainin
+00000420: 675f 6e6f 745f 7265 7175 6972 6564 220a  g_not_required".
+00000430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000440: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+00000450: 2520 6966 2064 6566 6175 6c74 5f75 7365  % if default_use
+00000460: 725f 7472 6169 6e69 6e67 5f6e 6f74 5f72  r_training_not_r
+00000470: 6571 7569 7265 6420 257d 6368 6563 6b65  equired %}checke
+00000480: 647b 2520 656e 6469 6620 257d 0a20 2020  d{% endif %}.   
+00000490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000004a0: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
+000004b0: 653d 2265 6e61 626c 6564 223e 0a20 2020  e="enabled">.   
+000004c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000004d0: 2020 2020 204e 6f74 2072 6571 7569 7265       Not require
+000004e0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+000004f0: 2020 2020 2020 3c2f 6c61 6265 6c3e 0a20        </label>. 
+00000500: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00000510: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
+00000520: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+00000530: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+00000540: 2263 6f6c 2d6c 672d 6f66 6673 6574 2d33  "col-lg-offset-3
+00000550: 2063 6f6c 2d6d 642d 6f66 6673 6574 2d34   col-md-offset-4
+00000560: 2063 6f6c 2d6d 642d 3820 636f 6c2d 6c67   col-md-8 col-lg
+00000570: 2d39 2068 656c 702d 626c 6f63 6b20 6c69  -9 help-block li
+00000580: 6768 742d 6772 6579 223e 0a20 2020 2020  ght-grey">.     
+00000590: 2020 2020 2020 2020 2020 2057 6865 7468             Wheth
+000005a0: 6572 2074 6865 2066 6163 696c 6974 7920  er the facility 
+000005b0: 7275 6c65 7320 7475 746f 7269 616c 2069  rules tutorial i
+000005c0: 7320 7265 7175 6972 6564 2066 6f72 206e  s required for n
+000005d0: 6577 2075 7365 7273 2062 7920 6465 6661  ew users by defa
+000005e0: 756c 742e 0a20 2020 2020 2020 2020 2020  ult..           
+000005f0: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
+00000600: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
+00000610: 6469 7620 636c 6173 733d 2266 6f72 6d2d  div class="form-
+00000620: 6772 6f75 7022 3e0a 2020 2020 2020 2020  group">.        
+00000630: 2020 2020 3c6c 6162 656c 2063 6c61 7373      <label class
+00000640: 3d22 636f 6e74 726f 6c2d 6c61 6265 6c20  ="control-label 
+00000650: 636f 6c2d 6d64 2d34 2063 6f6c 2d6c 672d  col-md-4 col-lg-
+00000660: 3322 2066 6f72 3d22 7573 6572 5f6c 6973  3" for="user_lis
+00000670: 745f 6163 7469 7665 5f6f 6e6c 7922 3e55  t_active_only">U
+00000680: 7365 7220 6c69 7374 3c2f 6c61 6265 6c3e  ser list</label>
+00000690: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
+000006a0: 7620 636c 6173 733d 2263 6f6c 2d6d 642d  v class="col-md-
+000006b0: 3820 636f 6c2d 6c67 2d39 223e 0a20 2020  8 col-lg-9">.   
+000006c0: 2020 2020 2020 2020 2020 2020 203c 6469               <di
+000006d0: 7620 636c 6173 733d 2263 6865 636b 626f  v class="checkbo
+000006e0: 7822 3e0a 2020 2020 2020 2020 2020 2020  x">.            
+000006f0: 2020 2020 2020 2020 3c6c 6162 656c 3e0a          <label>.
+00000700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000710: 2020 2020 2020 2020 3c69 6e70 7574 2074          <input t
+00000720: 7970 653d 2263 6865 636b 626f 7822 0a20  ype="checkbox". 
+00000730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000740: 2020 2020 2020 2020 2020 2020 2020 6964                id
+00000750: 3d22 7573 6572 5f6c 6973 745f 6163 7469  ="user_list_acti
+00000760: 7665 5f6f 6e6c 7922 0a20 2020 2020 2020  ve_only".       
+00000770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000780: 2020 2020 2020 2020 6e61 6d65 3d22 7573          name="us
+00000790: 6572 5f6c 6973 745f 6163 7469 7665 5f6f  er_list_active_o
+000007a0: 6e6c 7922 0a20 2020 2020 2020 2020 2020  nly".           
+000007b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000007c0: 2020 2020 7b25 2069 6620 7573 6572 5f6c      {% if user_l
+000007d0: 6973 745f 6163 7469 7665 5f6f 6e6c 7920  ist_active_only 
+000007e0: 257d 6368 6563 6b65 647b 2520 656e 6469  %}checked{% endi
+000007f0: 6620 257d 0a20 2020 2020 2020 2020 2020  f %}.           
+00000800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000810: 2020 2020 7661 6c75 653d 2265 6e61 626c      value="enabl
+00000820: 6564 223e 0a20 2020 2020 2020 2020 2020  ed">.           
+00000830: 2020 2020 2020 2020 2020 2020 2048 6964               Hid
+00000840: 6520 696e 6163 7469 7665 0a20 2020 2020  e inactive.     
+00000850: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00000860: 2f6c 6162 656c 3e0a 2020 2020 2020 2020  /label>.        
+00000870: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+00000880: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+00000890: 3e0a 2020 2020 2020 2020 2020 2020 3c64  >.            <d
+000008a0: 6976 2063 6c61 7373 3d22 636f 6c2d 6c67  iv class="col-lg
+000008b0: 2d6f 6666 7365 742d 3320 636f 6c2d 6d64  -offset-3 col-md
+000008c0: 2d6f 6666 7365 742d 3420 636f 6c2d 6d64  -offset-4 col-md
+000008d0: 2d38 2063 6f6c 2d6c 672d 3920 6865 6c70  -8 col-lg-9 help
+000008e0: 2d62 6c6f 636b 206c 6967 6874 2d67 7265  -block light-gre
+000008f0: 7922 3e0a 2020 2020 2020 2020 2020 2020  y">.            
+00000900: 2020 2020 4368 6563 6b20 7468 6973 2062      Check this b
+00000910: 6f78 2074 6f20 6f6e 6c79 2073 686f 7720  ox to only show 
+00000920: 6163 7469 7665 2075 7365 7273 2069 6e20  active users in 
+00000930: 7468 6520 7573 6572 206c 6973 742e 0a20  the user list.. 
+00000940: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+00000950: 3e0a 2020 2020 2020 2020 3c2f 6469 763e  >.        </div>
+00000960: 0a20 2020 2020 2020 203c 6469 7620 636c  .        <div cl
+00000970: 6173 733d 2266 6f72 6d2d 6772 6f75 7022  ass="form-group"
+00000980: 3e0a 2020 2020 2020 2020 2020 2020 3c6c  >.            <l
+00000990: 6162 656c 2063 6c61 7373 3d22 636f 6e74  abel class="cont
+000009a0: 726f 6c2d 6c61 6265 6c20 636f 6c2d 6d64  rol-label col-md
+000009b0: 2d34 2063 6f6c 2d6c 672d 3322 2066 6f72  -4 col-lg-3" for
+000009c0: 3d22 7573 6572 5f6c 6973 745f 6163 7469  ="user_list_acti
+000009d0: 7665 5f6f 6e6c 7922 3e55 7365 7220 646f  ve_only">User do
+000009e0: 6375 6d65 6e74 2075 706c 6f61 643c 2f6c  cument upload</l
+000009f0: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
+00000a00: 2020 3c64 6976 2063 6c61 7373 3d22 636f    <div class="co
+00000a10: 6c2d 6d64 2d38 2063 6f6c 2d6c 672d 3922  l-md-8 col-lg-9"
+00000a20: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00000a30: 2020 3c64 6976 2063 6c61 7373 3d22 6368    <div class="ch
+00000a40: 6563 6b62 6f78 223e 0a20 2020 2020 2020  eckbox">.       
+00000a50: 2020 2020 2020 2020 2020 2020 203c 6c61               <la
+00000a60: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
+00000a70: 2020 2020 2020 2020 2020 2020 203c 696e               <in
+00000a80: 7075 7420 7479 7065 3d22 6368 6563 6b62  put type="checkb
+00000a90: 6f78 220a 2020 2020 2020 2020 2020 2020  ox".            
+00000aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ab0: 2020 206e 616d 653d 2275 7365 725f 616c     name="user_al
+00000ac0: 6c6f 775f 646f 6375 6d65 6e74 5f75 706c  low_document_upl
+00000ad0: 6f61 6422 0a20 2020 2020 2020 2020 2020  oad".           
+00000ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000af0: 2020 2020 7b25 2069 6620 7573 6572 5f61      {% if user_a
+00000b00: 6c6c 6f77 5f64 6f63 756d 656e 745f 7570  llow_document_up
+00000b10: 6c6f 6164 2025 7d63 6865 636b 6564 7b25  load %}checked{%
+00000b20: 2065 6e64 6966 2025 7d0a 2020 2020 2020   endif %}.      
+00000b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b40: 2020 2020 2020 2020 2076 616c 7565 3d22           value="
+00000b50: 656e 6162 6c65 6422 3e0a 2020 2020 2020  enabled">.      
+00000b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b70: 2020 456e 6162 6c65 0a20 2020 2020 2020    Enable.       
+00000b80: 2020 2020 2020 2020 2020 2020 203c 2f6c               </l
+00000b90: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
+00000ba0: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00000bb0: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+00000bc0: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+00000bd0: 2063 6c61 7373 3d22 636f 6c2d 6c67 2d6f   class="col-lg-o
+00000be0: 6666 7365 742d 3320 636f 6c2d 6d64 2d6f  ffset-3 col-md-o
+00000bf0: 6666 7365 742d 3420 636f 6c2d 6d64 2d38  ffset-4 col-md-8
+00000c00: 2063 6f6c 2d6c 672d 3920 6865 6c70 2d62   col-lg-9 help-b
+00000c10: 6c6f 636b 206c 6967 6874 2d67 7265 7922  lock light-grey"
+00000c20: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00000c30: 2020 4368 6563 6b20 7468 6973 2062 6f78    Check this box
+00000c40: 2074 6f20 616c 6c6f 7720 7570 6c6f 6164   to allow upload
+00000c50: 696e 6720 646f 6375 6d65 6e74 7320 746f  ing documents to
+00000c60: 2075 7365 7273 2e0a 2020 2020 2020 2020   users..        
+00000c70: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
+00000c80: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
+00000c90: 2020 3c64 6976 2063 6c61 7373 3d22 6375    <div class="cu
+00000ca0: 7374 6f6d 697a 6174 696f 6e2d 7365 7061  stomization-sepa
+00000cb0: 7261 7469 6f6e 2220 7374 796c 653d 226d  ration" style="m
+00000cc0: 6172 6769 6e2d 626f 7474 6f6d 3a20 3135  argin-bottom: 15
+00000cd0: 7078 223e 3c2f 6469 763e 0a20 2020 2020  px"></div>.     
+00000ce0: 2020 203c 6833 2063 6c61 7373 3d22 6375     <h3 class="cu
+00000cf0: 7374 6f6d 697a 6174 696f 6e2d 7365 6374  stomization-sect
+00000d00: 696f 6e2d 7469 746c 6522 3e41 6363 6573  ion-title">Acces
+00000d10: 7320 6578 7069 7261 7469 6f6e 2072 656d  s expiration rem
+00000d20: 696e 6465 723c 2f68 333e 0a20 2020 2020  inder</h3>.     
+00000d30: 2020 203c 6469 7620 636c 6173 733d 2266     <div class="f
+00000d40: 6f72 6d2d 6772 6f75 7020 7b25 2069 6620  orm-group {% if 
+00000d50: 6572 726f 7273 2e75 7365 725f 6163 6365  errors.user_acce
+00000d60: 7373 5f65 7870 6972 6174 696f 6e5f 7265  ss_expiration_re
+00000d70: 6d69 6e64 6572 5f64 6179 7320 257d 6861  minder_days %}ha
+00000d80: 732d 6572 726f 727b 2520 656e 6469 6620  s-error{% endif 
+00000d90: 257d 223e 0a20 2020 2020 2020 2020 2020  %}">.           
+00000da0: 203c 6c61 6265 6c20 636c 6173 733d 2263   <label class="c
+00000db0: 6f6e 7472 6f6c 2d6c 6162 656c 2063 6f6c  ontrol-label col
+00000dc0: 2d6d 642d 3420 636f 6c2d 6c67 2d33 2220  -md-4 col-lg-3" 
+00000dd0: 666f 723d 2275 7365 725f 6163 6365 7373  for="user_access
+00000de0: 5f65 7870 6972 6174 696f 6e5f 7265 6d69  _expiration_remi
+00000df0: 6e64 6572 5f64 6179 7322 3e52 656d 696e  nder_days">Remin
+00000e00: 6465 7220 6461 7973 3c2f 6c61 6265 6c3e  der days</label>
+00000e10: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
+00000e20: 7620 636c 6173 733d 2263 6f6c 2d6d 642d  v class="col-md-
+00000e30: 3820 636f 6c2d 6c67 2d39 223e 0a20 2020  8 col-lg-9">.   
+00000e40: 2020 2020 2020 2020 2020 2020 203c 696e               <in
+00000e50: 7075 7420 7479 7065 3d22 7465 7874 220a  put type="text".
+00000e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e70: 2020 2020 2020 2069 643d 2275 7365 725f         id="user_
+00000e80: 6163 6365 7373 5f65 7870 6972 6174 696f  access_expiratio
+00000e90: 6e5f 7265 6d69 6e64 6572 5f64 6179 7322  n_reminder_days"
+00000ea0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000eb0: 2020 2020 2020 2020 6e61 6d65 3d22 7573          name="us
+00000ec0: 6572 5f61 6363 6573 735f 6578 7069 7261  er_access_expira
+00000ed0: 7469 6f6e 5f72 656d 696e 6465 725f 6461  tion_reminder_da
+00000ee0: 7973 220a 2020 2020 2020 2020 2020 2020  ys".            
+00000ef0: 2020 2020 2020 2020 2020 2063 6c61 7373             class
+00000f00: 3d22 666f 726d 2d63 6f6e 7472 6f6c 220a  ="form-control".
+00000f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f20: 2020 2020 2020 2076 616c 7565 3d22 7b25         value="{%
+00000f30: 2069 6620 6572 726f 7273 2e75 7365 725f   if errors.user_
+00000f40: 6163 6365 7373 5f65 7870 6972 6174 696f  access_expiratio
+00000f50: 6e5f 7265 6d69 6e64 6572 5f64 6179 7320  n_reminder_days 
+00000f60: 257d 7b7b 2065 7272 6f72 732e 7573 6572  %}{{ errors.user
+00000f70: 5f61 6363 6573 735f 6578 7069 7261 7469  _access_expirati
+00000f80: 6f6e 5f72 656d 696e 6465 725f 6461 7973  on_reminder_days
+00000f90: 2e76 616c 7565 207d 7d7b 2520 656c 7365  .value }}{% else
+00000fa0: 2025 7d7b 7b20 7573 6572 5f61 6363 6573   %}{{ user_acces
+00000fb0: 735f 6578 7069 7261 7469 6f6e 5f72 656d  s_expiration_rem
+00000fc0: 696e 6465 725f 6461 7973 207d 7d7b 2520  inder_days }}{% 
+00000fd0: 656e 6469 6620 257d 2220 2f3e 0a20 2020  endif %}" />.   
+00000fe0: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+00000ff0: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+00001000: 2063 6c61 7373 3d22 636f 6c2d 6c67 2d6f   class="col-lg-o
+00001010: 6666 7365 742d 3320 636f 6c2d 6d64 2d6f  ffset-3 col-md-o
+00001020: 6666 7365 742d 3420 636f 6c2d 6d64 2d38  ffset-4 col-md-8
+00001030: 2063 6f6c 2d6c 672d 3920 6865 6c70 2d62   col-lg-9 help-b
+00001040: 6c6f 636b 206c 6967 6874 2d67 7265 7922  lock light-grey"
+00001050: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00001060: 2020 7b25 2069 6620 6572 726f 7273 2e75    {% if errors.u
+00001070: 7365 725f 6163 6365 7373 5f65 7870 6972  ser_access_expir
+00001080: 6174 696f 6e5f 7265 6d69 6e64 6572 5f64  ation_reminder_d
+00001090: 6179 7320 257d 0a20 2020 2020 2020 2020  ays %}.         
+000010a0: 2020 2020 2020 2020 2020 207b 7b20 6572             {{ er
+000010b0: 726f 7273 2e75 7365 725f 6163 6365 7373  rors.user_access
+000010c0: 5f65 7870 6972 6174 696f 6e5f 7265 6d69  _expiration_remi
+000010d0: 6e64 6572 5f64 6179 732e 6572 726f 7220  nder_days.error 
+000010e0: 7d7d 0a20 2020 2020 2020 2020 2020 2020  }}.             
+000010f0: 2020 207b 2520 656c 7365 2025 7d0a 2020     {% else %}.  
+00001100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001110: 2020 5468 6520 6e75 6d62 6572 206f 6620    The number of 
+00001120: 6461 7973 2074 6f20 7365 6e64 2061 2072  days to send a r
+00001130: 656d 696e 6465 7220 7072 696f 7220 746f  eminder prior to
+00001140: 2074 6865 2075 7365 7227 7320 6163 6365   the user's acce
+00001150: 7373 2065 7870 6972 6174 696f 6e2e 2041  ss expiration. A
+00001160: 2063 6f6d 6d61 2d73 6570 6172 6174 6564   comma-separated
+00001170: 206c 6973 7420 6361 6e20 6265 2075 7365   list can be use
+00001180: 6420 666f 7220 6d75 6c74 6970 6c65 2072  d for multiple r
+00001190: 656d 696e 6465 7273 2e0a 2020 2020 2020  eminders..      
+000011a0: 2020 2020 2020 2020 2020 2020 2020 5468                Th
+000011b0: 6973 2073 6574 7469 6e67 2061 6e64 2074  is setting and t
+000011c0: 6865 203c 6120 6872 6566 3d22 7b25 2075  he <a href="{% u
+000011d0: 726c 2027 6375 7374 6f6d 697a 6174 696f  rl 'customizatio
+000011e0: 6e27 2027 7465 6d70 6c61 7465 7327 2025  n' 'templates' %
+000011f0: 7d3f 2375 7365 725f 6163 6365 7373 5f65  }?#user_access_e
+00001200: 7870 6972 6174 696f 6e5f 7265 6d69 6e64  xpiration_remind
+00001210: 6572 5f65 6d61 696c 5f69 6422 3e75 7365  er_email_id">use
+00001220: 7220 6163 6365 7373 2065 7870 6972 6174  r access expirat
+00001230: 696f 6e20 7265 6d69 6e64 6572 2065 6d61  ion reminder ema
+00001240: 696c 3c2f 613e 206e 6565 6420 746f 2062  il</a> need to b
+00001250: 6520 7365 7420 746f 2065 6e61 626c 6520  e set to enable 
+00001260: 7468 6973 2066 6561 7475 7265 2e0a 2020  this feature..  
+00001270: 2020 2020 2020 2020 2020 2020 2020 7b25                {%
+00001280: 2065 6e64 6966 2025 7d0a 2020 2020 2020   endif %}.      
+00001290: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+000012a0: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+000012b0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+000012c0: 666f 726d 2d67 726f 7570 207b 2520 6966  form-group {% if
+000012d0: 2065 7272 6f72 732e 7573 6572 5f61 6363   errors.user_acc
+000012e0: 6573 735f 6578 7069 7261 7469 6f6e 5f72  ess_expiration_r
+000012f0: 656d 696e 6465 725f 6363 2025 7d68 6173  eminder_cc %}has
+00001300: 2d65 7272 6f72 7b25 2065 6e64 6966 2025  -error{% endif %
+00001310: 7d22 3e0a 2020 2020 2020 2020 2020 2020  }">.            
+00001320: 3c6c 6162 656c 2063 6c61 7373 3d22 636f  <label class="co
+00001330: 6e74 726f 6c2d 6c61 6265 6c20 636f 6c2d  ntrol-label col-
+00001340: 6d64 2d34 2063 6f6c 2d6c 672d 3322 2066  md-4 col-lg-3" f
+00001350: 6f72 3d22 7573 6572 5f61 6363 6573 735f  or="user_access_
+00001360: 6578 7069 7261 7469 6f6e 5f72 656d 696e  expiration_remin
+00001370: 6465 725f 6363 223e 5265 6d69 6e64 6572  der_cc">Reminder
+00001380: 2065 6d61 696c 2043 433c 2f6c 6162 656c   email CC</label
+00001390: 3e0a 2020 2020 2020 2020 2020 2020 3c64  >.            <d
+000013a0: 6976 2063 6c61 7373 3d22 636f 6c2d 6d64  iv class="col-md
+000013b0: 2d38 2063 6f6c 2d6c 672d 3922 3e0a 2020  -8 col-lg-9">.  
+000013c0: 2020 2020 2020 2020 2020 2020 2020 3c69                <i
+000013d0: 6e70 7574 2074 7970 653d 2274 6578 7422  nput type="text"
+000013e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000013f0: 2020 2020 2020 2020 6964 3d22 7573 6572          id="user
+00001400: 5f61 6363 6573 735f 6578 7069 7261 7469  _access_expirati
+00001410: 6f6e 5f72 656d 696e 6465 725f 6363 220a  on_reminder_cc".
+00001420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001430: 2020 2020 2020 206e 616d 653d 2275 7365         name="use
+00001440: 725f 6163 6365 7373 5f65 7870 6972 6174  r_access_expirat
+00001450: 696f 6e5f 7265 6d69 6e64 6572 5f63 6322  ion_reminder_cc"
+00001460: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001470: 2020 2020 2020 2020 636c 6173 733d 2266          class="f
+00001480: 6f72 6d2d 636f 6e74 726f 6c22 0a20 2020  orm-control".   
+00001490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000014a0: 2020 2020 7661 6c75 653d 227b 2520 6966      value="{% if
+000014b0: 2065 7272 6f72 732e 7573 6572 5f61 6363   errors.user_acc
+000014c0: 6573 735f 6578 7069 7261 7469 6f6e 5f72  ess_expiration_r
+000014d0: 656d 696e 6465 725f 6363 2025 7d7b 7b20  eminder_cc %}{{ 
+000014e0: 6572 726f 7273 2e75 7365 725f 6163 6365  errors.user_acce
+000014f0: 7373 5f65 7870 6972 6174 696f 6e5f 7265  ss_expiration_re
+00001500: 6d69 6e64 6572 5f63 632e 7661 6c75 6520  minder_cc.value 
+00001510: 7d7d 7b25 2065 6c73 6520 257d 7b7b 2075  }}{% else %}{{ u
+00001520: 7365 725f 6163 6365 7373 5f65 7870 6972  ser_access_expir
+00001530: 6174 696f 6e5f 7265 6d69 6e64 6572 5f63  ation_reminder_c
+00001540: 6320 7d7d 7b25 2065 6e64 6966 2025 7d22  c }}{% endif %}"
+00001550: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001560: 2020 2020 2020 2020 706c 6163 6568 6f6c          placehol
+00001570: 6465 723d 2269 6e66 6f72 6d61 7469 6f6e  der="information
+00001580: 4065 7861 6d70 6c65 2e6f 7267 2220 2f3e  @example.org" />
+00001590: 0a20 2020 2020 2020 2020 2020 203c 2f64  .            </d
+000015a0: 6976 3e0a 2020 2020 2020 2020 2020 2020  iv>.            
+000015b0: 3c64 6976 2063 6c61 7373 3d22 636f 6c2d  <div class="col-
+000015c0: 6c67 2d6f 6666 7365 742d 3320 636f 6c2d  lg-offset-3 col-
+000015d0: 6d64 2d6f 6666 7365 742d 3420 636f 6c2d  md-offset-4 col-
+000015e0: 6d64 2d38 2063 6f6c 2d6c 672d 3920 6865  md-8 col-lg-9 he
+000015f0: 6c70 2d62 6c6f 636b 206c 6967 6874 2d67  lp-block light-g
+00001600: 7265 7922 3e0a 2020 2020 2020 2020 2020  rey">.          
+00001610: 2020 2020 2020 7b25 2069 6620 6572 726f        {% if erro
+00001620: 7273 2e75 7365 725f 6163 6365 7373 5f65  rs.user_access_e
+00001630: 7870 6972 6174 696f 6e5f 7265 6d69 6e64  xpiration_remind
+00001640: 6572 5f63 6320 257d 0a20 2020 2020 2020  er_cc %}.       
+00001650: 2020 2020 2020 2020 2020 2020 207b 7b20               {{ 
+00001660: 6572 726f 7273 2e75 7365 725f 6163 6365  errors.user_acce
+00001670: 7373 5f65 7870 6972 6174 696f 6e5f 7265  ss_expiration_re
+00001680: 6d69 6e64 6572 5f63 632e 6572 726f 7220  minder_cc.error 
+00001690: 7d7d 0a20 2020 2020 2020 2020 2020 2020  }}.             
+000016a0: 2020 207b 2520 656c 7365 2025 7d0a 2020     {% else %}.  
+000016b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000016c0: 2020 4578 7472 6120 656d 6169 6c20 6164    Extra email ad
+000016d0: 6472 6573 7320 746f 2063 6f70 7920 7768  dress to copy wh
+000016e0: 656e 2061 2075 7365 7220 6163 6365 7373  en a user access
+000016f0: 2065 7870 6972 6174 696f 6e20 7265 6d69   expiration remi
+00001700: 6e64 6572 2069 7320 7365 6e74 2e20 4120  nder is sent. A 
+00001710: 636f 6d6d 612d 7365 7061 7261 7465 6420  comma-separated 
+00001720: 6c69 7374 2063 616e 2062 6520 7573 6564  list can be used
+00001730: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00001740: 2020 7b25 2065 6e64 6966 2025 7d0a 2020    {% endif %}.  
+00001750: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
+00001760: 0a20 2020 2020 2020 203c 2f64 6976 3e0a  .        </div>.
+00001770: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+00001780: 7373 3d22 6375 7374 6f6d 697a 6174 696f  ss="customizatio
+00001790: 6e2d 7365 7061 7261 7469 6f6e 2220 7374  n-separation" st
+000017a0: 796c 653d 226d 6172 6769 6e2d 626f 7474  yle="margin-bott
+000017b0: 6f6d 3a20 3135 7078 223e 3c2f 6469 763e  om: 15px"></div>
+000017c0: 0a20 2020 2020 2020 203c 6469 7620 636c  .        <div cl
+000017d0: 6173 733d 2274 6578 742d 6365 6e74 6572  ass="text-center
+000017e0: 223e 7b25 2062 7574 746f 6e20 7479 7065  ">{% button type
+000017f0: 3d22 7361 7665 2220 7661 6c75 653d 2253  ="save" value="S
+00001800: 6176 6520 7365 7474 696e 6773 2220 257d  ave settings" %}
+00001810: 3c2f 6469 763e 0a20 2020 203c 2f64 6976  </div>.    </div
+00001820: 3e0a 3c2f 666f 726d 3e0a                 >.</form>.
```

## NEMO/templates/email/compose_email.html

```diff
@@ -1,117 +1,156 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Compose email{% endblock %}
 {% block content %}
-	<h1>Compose an email</h1>
-	{% if error %}
-		{{ error }}
-	{% elif generic_email_sample %}
-		<div class="row">
-			<form action="{% url 'send_broadcast_email' %}" id="email_form" method="post" enctype="multipart/form-data">
-				{% csrf_token %}
-				{% if user.is_any_part_of_staff %}
-					<div class="col-sm-6">
-						<div class="row">
-							<div class="col-sm-6 h3">Recipients</div>
-							<div class="col-sm-6 h3">{% if user_emails %}{% button type="export" size="small" value="Export user list" onclick="export_user_emails();" %}{% endif %}</div>
-						</div>
-						Active users are listed below in black. Inactive users are <span class="light-grey strikethrough">crossed out</span>.
-						<div class="checkbox">
-							<label><input type="checkbox" name="only_active_users" onclick="updated_email_link()" checked> Only send this email to active users</label>
-						</div>
-						<div class="checkbox">
-							<label><input type="checkbox" name="copy_me" onclick="updated_email_link()" checked> Send a copy of this email to myself</label>
-						</div>
-						{% for u in users %}
-							<span {% if not u.is_active %}class="light-grey strikethrough"{% endif %}>{{ u }} - {{ u.email }}</span><br>
-						{% endfor %}
-					</div>
-				{% endif %}
-				<div class="col-sm-6">
-					<h3>Email content</h3>
-					<input type="hidden" name="audience" value="{{ audience }}">
-					<input type="hidden" name="no_type" value="{{ no_type }}">
+    <h1>Compose an email</h1>
+    {% if error %}
+        {{ error }}
+    {% elif generic_email_sample %}
+        <div class="row">
+            <form action="{% url 'send_broadcast_email' %}"
+                  id="email_form"
+                  method="post"
+                  enctype="multipart/form-data">
+                {% csrf_token %}
+                {% if user.is_any_part_of_staff %}
+                    <div class="col-sm-6">
+                        <div class="row">
+                            <div class="col-sm-6 h3">Recipients</div>
+                            <div class="col-sm-6 h3">
+                                {% if user_emails %}
+                                    {% button type="export" size="small" value="Export user list" onclick="export_user_emails();" %}
+                                {% endif %}
+                            </div>
+                        </div>
+                        Active users are listed below in black. Inactive users are <span class="light-grey strikethrough">crossed out</span>.
+                        <div class="checkbox">
+                            <label>
+                                <input type="checkbox" name="only_active_users" onclick="updated_email_link()" checked>
+                                Only send this email to active users
+                            </label>
+                        </div>
+                        <div class="checkbox">
+                            <label>
+                                <input type="checkbox" name="copy_me" onclick="updated_email_link()" checked>
+                                Send a copy of this email to myself
+                            </label>
+                        </div>
+                        {% for u in users %}
+                            <span {% if not u.is_active %}class="light-grey strikethrough"{% endif %}>{{ u }} - {{ u.email }}</span>
+                            <br>
+                        {% endfor %}
+                    </div>
+                {% endif %}
+                <div class="col-sm-6">
+                    <h3>Email content</h3>
+                    <input type="hidden" name="audience" value="{{ audience }}">
+                    <input type="hidden" name="no_type" value="{{ no_type }}">
                     {% for selection_value in selection %}
-					    <input type="hidden" name="selection" value="{{ selection_value }}" oninput="updated_email_link()">
+                        <input type="hidden" name="selection" value="{{ selection_value }}" oninput="updated_email_link()">
                     {% endfor %}
-					<div class="form-group">
+                    <div class="form-group">
                         {% if topic %}
                             <div class="input-group">
                                 <span class="input-group-addon">[{{ topic }}]</span>
-                        {% endif %}
-						<input type="text" name="subject" class="form-control" aria-label="Email subject" placeholder="Subject line" oninput="updated_email_link()" autofocus required>
-                        {% if topic %}
-                            </div>
-                        {% endif %}
-					</div>
-					<div class="form-group">
-						Title background color:
-						<div class="radio" style="background-color:#5bc0de; padding:5px">
-							<label>
-								<input type="radio" name="color" value="#5bc0de" checked>
-								Blue, for conveying information
-							</label>
-						</div>
-						<div class="radio" style="background-color:#5cb85c; padding:5px">
-							<label>
-								<input type="radio" name="color" value="#5cb85c">
-								Green, for conveying success
-							</label>
-						</div>
-						<div class="radio" style="background-color:#f0ad4e; padding:5px">
-							<label>
-								<input type="radio" name="color" value="#f0ad4e">
-								Orange, for conveying a warning
-							</label>
-						</div>
-						<div class="radio" style="background-color:#d9534f; padding:5px">
-							<label>
-								<input type="radio" name="color" value="#d9534f">
-								Red, for conveying danger
-							</label>
-						</div>
-					</div>
-					<div class="form-group">
-						<input type="text" name="title" aria-label="Email title" class="form-control" style="text-transform:uppercase" placeholder="Title (always uppercase)" oninput="updated_email_link()">
-					</div>
-					<div class="form-group">
-						<input type="text" name="greeting" aria-label="Email greeting" class="form-control" placeholder="Greeting" oninput="updated_email_link()">
-					</div>
-					<div class="form-group">
-						<textarea class="form-control" name="contents" aria-label="Email contents" rows="6" placeholder="What would you like to say?" oninput="updated_email_link()" required></textarea>
-					</div>
-					<div class="form-group">
-						<input name="attachments" type="file" multiple>
-					</div>
+                            {% endif %}
+                            <input type="text"
+                                   name="subject"
+                                   class="form-control"
+                                   aria-label="Email subject"
+                                   placeholder="Subject line"
+                                   oninput="updated_email_link()"
+                                   autofocus
+                                   required>
+                            {% if topic %}</div>{% endif %}
+                    </div>
+                    <div class="form-group">
+                        Title background color:
+                        <div class="radio" style="background-color:#5bc0de; padding:5px">
+                            <label>
+                                <input type="radio" name="color" value="#5bc0de" checked>
+                                Blue, for conveying information
+                            </label>
+                        </div>
+                        <div class="radio" style="background-color:#5cb85c; padding:5px">
+                            <label>
+                                <input type="radio" name="color" value="#5cb85c">
+                                Green, for conveying success
+                            </label>
+                        </div>
+                        <div class="radio" style="background-color:#f0ad4e; padding:5px">
+                            <label>
+                                <input type="radio" name="color" value="#f0ad4e">
+                                Orange, for conveying a warning
+                            </label>
+                        </div>
+                        <div class="radio" style="background-color:#d9534f; padding:5px">
+                            <label>
+                                <input type="radio" name="color" value="#d9534f">
+                                Red, for conveying danger
+                            </label>
+                        </div>
+                    </div>
+                    <div class="form-group">
+                        <input type="text"
+                               name="title"
+                               aria-label="Email title"
+                               class="form-control"
+                               style="text-transform:uppercase"
+                               placeholder="Title (always uppercase)"
+                               oninput="updated_email_link()">
+                    </div>
+                    <div class="form-group">
+                        <input type="text"
+                               name="greeting"
+                               aria-label="Email greeting"
+                               class="form-control"
+                               placeholder="Greeting"
+                               oninput="updated_email_link()">
+                    </div>
+                    <div class="form-group">
+                        <textarea class="form-control"
+                                  name="contents"
+                                  aria-label="Email contents"
+                                  rows="6"
+                                  placeholder="What would you like to say?"
+                                  oninput="updated_email_link()"
+                                  required></textarea>
+                    </div>
+                    <div class="form-group">
+                        <input name="attachments" type="file" multiple>
+                    </div>
                     {% button type="view" onclick="update_preview();document.getElementById('email_preview').scrollIntoView();" value="Preview" %}
-					{% button type="save" value="Send" icon="glyphicon-send" %}
+                    {% button type="save" value="Send" icon="glyphicon-send" %}
                     {% if user.is_any_part_of_staff and user_emails %}
                         {% if active_user_emails|length > 2000 %}
-                            <div class="pull-right" style="display: inline-block" id="default_client_email_wrapper" data-title="There are too many email addresses to use the default email client. Use the export function instead.">
+                            <div class="pull-right"
+                                 style="display: inline-block"
+                                 id="default_client_email_wrapper"
+                                 data-title="There are too many email addresses to use the default email client. Use the export function instead.">
                                 {% button type="info" value="Use default email client" icon="glyphicon-envelope" disabled="disabled" %}
                             </div>
                         {% else %}
                             <a id="email_client_link" href="" target="_blank" class="pull-right">{% button type="info" value="Use default email client" icon="glyphicon-envelope" %}</a>
                         {% endif %}
                     {% endif %}
-					<div style="height:50px"></div>
-					<h3>Your email will look like this...</h3>
-					<table style="width:100%; border-width: 1px;border-style: solid;">
-						<tr>
-							<td id="email_preview">{{ generic_email_sample|safe }}</td>
-						</tr>
-					</table>
-				</div>
-			</form>
-		</div>
-	{% else %}
-		A generic email format has not been customized for your organization yet. You'll need to create one before you can send email broadcasts from within {{ site_title }}. Please visit the <a href="{% url 'customization' %}">customizations page</a> to upload a template.
-	{% endif %}
-	<script type="application/javascript">
+                    <div style="height:50px"></div>
+                    <h3>Your email will look like this...</h3>
+                    <table style="width:100%; border-width: 1px;border-style: solid;">
+                        <tr>
+                            <td id="email_preview">{{ generic_email_sample|safe }}</td>
+                        </tr>
+                    </table>
+                </div>
+            </form>
+        </div>
+    {% else %}
+        A generic email format has not been customized for your organization yet. You'll need to create one before you can send email broadcasts from within {{ site_title }}. Please visit the <a href="{% url 'customization' %}">customizations page</a> to upload a template.
+    {% endif %}
+    <script type="application/javascript">
         window.addEventListener('load', function()
         {
             $('#default_client_email_wrapper').tooltip();
             updated_email_link();
         });
         {% if user.is_any_part_of_staff %}
         function export_user_emails()
@@ -187,9 +226,10 @@
             {
                 mailto = mailto + '&body=' + encodeURIComponent(email_body);
             }
             let mailto_link = $('#email_client_link')[0];
             mailto_link.href = mailto;
         }
         {%  endif %}
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

## NEMO/templates/email/email_broadcast.html

```diff
@@ -1,56 +1,73 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Email broadcast{% endblock %}
 {% block content %}
-	<h1>Email broadcast</h1>
-
-	{% if error %}
-		<div class="alert alert-danger">
-			{{ error }}
-		</div>
-	{% endif %}
-
-	Compose an email to all users who...
-	<ul>
-		<li><a href="{% url 'email_broadcast' 'user' %}">have an account in {{ site_title }}</a></li>
-		{% if tools_exist %}<li><a href="{% url 'email_broadcast' 'tool' %}">are qualified for a tool</a></li>{% endif %}
-		{% if tools_exist %}<li><a href="{% url 'email_broadcast' 'tool-reservation' %}">have an upcoming reservation on a tool</a></li>{% endif %}
-		{% if areas_exist %}<li><a href="{% url 'email_broadcast' 'area' %}">have access to an area</a></li>{% endif %}
-		<li><a href="{% url 'email_broadcast' 'project' %}">are working on a project</a></li>
-		<li><a href="{% url 'email_broadcast' 'project-pis' %}">are project principal investigators</a></li>
-		<li><a href="{% url 'email_broadcast' 'account' %}">bill to an account</a></li>
-	</ul>
-
-	{% if search_base %}
-		<form id="email" method="get" action="{% url 'compose_email' %}">
+    <h1>Email broadcast</h1>
+    {% if error %}<div class="alert alert-danger">{{ error }}</div>{% endif %}
+    Compose an email to all users who...
+    <ul>
+        <li>
+            <a href="{% url 'email_broadcast' 'user' %}">have an account in {{ site_title }}</a>
+        </li>
+        {% if tools_exist %}
+            <li>
+                <a href="{% url 'email_broadcast' 'tool' %}">are qualified for a tool</a>
+            </li>
+        {% endif %}
+        {% if tools_exist %}
+            <li>
+                <a href="{% url 'email_broadcast' 'tool-reservation' %}">have an upcoming reservation on a tool</a>
+            </li>
+        {% endif %}
+        {% if areas_exist %}
+            <li>
+                <a href="{% url 'email_broadcast' 'area' %}">have access to an area</a>
+            </li>
+        {% endif %}
+        <li>
+            <a href="{% url 'email_broadcast' 'project' %}">are working on a project</a>
+        </li>
+        <li>
+            <a href="{% url 'email_broadcast' 'project-pis' %}">are project principal investigators</a>
+        </li>
+        <li>
+            <a href="{% url 'email_broadcast' 'account' %}">bill to an account</a>
+        </li>
+    </ul>
+    {% if search_base %}
+        <form id="email" method="get" action="{% url 'compose_email' %}">
             {% if audience == "project-pis" %}
                 <div class="row">
                     <div class="col-sm-4 checkbox">
-                        <label><input type="checkbox" name="no_type" checked/> Active projects</label>
+                        <label>
+                            <input type="checkbox" name="no_type" checked />
+                            Active projects
+                        </label>
                     </div>
                 </div>
             {% endif %}
             <div class="row">
                 <div class="col-sm-4">
-                    <input id="search" class="form-control" aria-label="Audience" placeholder="{% if audience == "project-pis" %}[Optional] Select project(s){% else %}Which {% if audience == 'tool-reservation' %}tool{% else %}{{ audience }}{% endif %}?{% endif %}" autofocus />
+                    <input id="search"
+                           class="form-control"
+                           aria-label="Audience"
+                           placeholder="{% if audience == "project-pis" %}[Optional] Select project(s){% else %}Which {% if audience == 'tool-reservation' %}tool{% else %}{{ audience }}{% endif %}?{% endif %}"
+                           autofocus />
                 </div>
             </div>
-
             <div class="col-sm-3">
                 <input type="hidden" name="audience" value="{{ audience }}">
-                <div class="row" id="selection-list" style="margin-top: 10px; margin-bottom: 15px;">
-                </div>
+                <div class="row" id="selection-list" style="margin-top: 10px; margin-bottom: 15px;"></div>
                 <div class="row">
                     {% button type="save" id="confirm" size="small" value="Confirm" icon="glyphicon-ok-circle" style="display: none" %}
                 </div>
             </div>
-		</form>
-
-		<script type="text/javascript">
+        </form>
+        <script type="text/javascript">
             {% if display_str %}
 			    $('#search').autocomplete('search_base', set_selection, {{ search_base|json_search_base:display_str }});
             {% else %}
 			    $('#search').autocomplete('search_base', set_selection, {{ search_base|json_search_base }});
             {% endif %}
 			function set_selection(jquery_event, search_selection, dataset_name)
 			{
@@ -63,33 +80,36 @@
                 $("#selection_" + id).remove();
                 if($("#selection-list").find("input").length === 0)
                 {
                     {% if audience != "project-pis" %}$("#confirm").hide();{% endif %}
                 }
             }
             {% if audience == "project-pis" %}$("#confirm").show();{% endif %}
-		</script>
-	{% endif %}
-
+		
+        </script>
+    {% endif %}
     {% if user_types %}
         <div class="row">
-			<div class="col-sm-4">
+            <div class="col-sm-4">
                 <label for="selection_user_type">Which user type(s)?</label>
             </div>
         </div>
-
         <form class="col-sm-3" id="email" method="get" action="{% url 'compose_email' %}">
             <input type="hidden" name="audience" value="{{ audience }}">
             <div class="row checkbox">
-                <label><input type="checkbox" name="no_type" checked/> Users without a type</label>
+                <label>
+                    <input type="checkbox" name="no_type" checked />
+                    Users without a type
+                </label>
             </div>
             {% for user_type in user_types %}
                 <div class="row checkbox">
-                    <label><input type="checkbox" name="selection" value="{{ user_type.id }}" checked/> {{ user_type.name }}</label>
+                    <label>
+                        <input type="checkbox" name="selection" value="{{ user_type.id }}" checked />
+                        {{ user_type.name }}
+                    </label>
                 </div>
             {% endfor %}
-            <div class="row">
-                {% button type="save" size="small" value="Confirm" icon="glyphicon-ok-circle" %}
-            </div>
+            <div class="row">{% button type="save" size="small" value="Confirm" icon="glyphicon-ok-circle" %}</div>
         </form>
     {% endif %}
-{% endblock %}
+{% endblock %}
```

## NEMO/templates/email/email_form.html

```diff
@@ -1,26 +1,40 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Compose an email{% endblock %}
 {% block content %}
-	<h1>Compose an email</h1>
-	<form action="{% url 'send_email' %}" method="post">
-		{% csrf_token %}
-		<input type="hidden" value="{{ recipient }}" name="recipient">
-		<div class="form-group">
-			<p>From: {{ user.email }}</p>
-			<p>To: {% if name %}{{ name }}{% else %}{{ recipient }}{% endif %}</p>
-			<div class="checkbox">
-				<label><input type="checkbox" name="copy_me" checked>Send a copy of this message to myself</label>
-			</div>
-		</div>
-		<div class="form-group">
-			<input id="subject" class="form-control" type="text" name="subject" aria-label="Email subject" placeholder="What is the subject of this email?" required>
-		</div>
-		<div class="form-group">
-			<textarea class="form-control" rows="6" name="body" aria-label="Email content" required></textarea>
-		</div>
-		<div class="form-group">
-            {% button type="save" value="Send email" icon="glyphicon-send" %}
-		</div>
-	</form>
-{% endblock %}
+    <h1>Compose an email</h1>
+    <form action="{% url 'send_email' %}" method="post">
+        {% csrf_token %}
+        <input type="hidden" value="{{ recipient }}" name="recipient">
+        <div class="form-group">
+            <p>From: {{ user.email }}</p>
+            <p>
+                To:
+                {% if name %}
+                    {{ name }}
+                {% else %}
+                    {{ recipient }}
+                {% endif %}
+            </p>
+            <div class="checkbox">
+                <label>
+                    <input type="checkbox" name="copy_me" checked>
+                    Send a copy of this message to myself
+                </label>
+            </div>
+        </div>
+        <div class="form-group">
+            <input id="subject"
+                   class="form-control"
+                   type="text"
+                   name="subject"
+                   aria-label="Email subject"
+                   placeholder="What is the subject of this email?"
+                   required>
+        </div>
+        <div class="form-group">
+            <textarea class="form-control" rows="6" name="body" aria-label="Email content" required></textarea>
+        </div>
+        <div class="form-group">{% button type="save" value="Send email" icon="glyphicon-send" %}</div>
+    </form>
+{% endblock %}
```

## NEMO/templates/event_details/area_access_details.html

```diff
@@ -1,20 +1,23 @@
 {% extends popup_view|yesno:"base/popup.html,base.html" %}
-
 {% block title %}{{ event.area }} access details{% endblock %}
 {% block content %}
-    {% if not popup_view %}
-        <h1>{{ event.area }} access details</h1>
-    {% endif %}
+    {% if not popup_view %}<h1>{{ event.area }} access details</h1>{% endif %}
     {% if event.staff_charge %}
-        This {{ event.area }} charge was incurred by {{ event.staff_charge.staff_member }} while performing work on the customer's behalf.<p>
-    {% endif %}
-    Customer: {{ event.customer }}<br>
-    Project: {{ event.project.name }}<br>
-    Start: {{ event.start }}<br>
-    {% if event.end %}
-        End: {{ event.end }}<br>
-    {% else %}
-        {{ event.area }} time is currently being charged for this project.<br>
-    {% endif %}
-    Identifier: {{ event.id }}
-{% endblock %}
+        This {{ event.area }} charge was incurred by {{ event.staff_charge.staff_member }} while performing work on the customer's behalf.
+        <p>
+        {% endif %}
+        Customer: {{ event.customer }}
+        <br>
+        Project: {{ event.project.name }}
+        <br>
+        Start: {{ event.start }}
+        <br>
+        {% if event.end %}
+            End: {{ event.end }}
+            <br>
+        {% else %}
+            {{ event.area }} time is currently being charged for this project.
+            <br>
+        {% endif %}
+        Identifier: {{ event.id }}
+    {% endblock %}
```

## NEMO/templates/event_details/outage_details.html

```diff
@@ -1,14 +1,13 @@
 {% extends popup_view|yesno:"base/popup.html,base.html" %}
 {% load custom_tags_and_filters %}
 {% load tz %}
-
 {% if not popup_view %}
-{% block extrahead %}
-    <script type="text/javascript">
+    {% block extrahead %}
+        <script type="text/javascript">
     function callback_success(){
         // if on a standalone page, reload the browser window to display the results of the change to the outage
         location.reload()
     }
 
     function cancel_outage(url)
     {
@@ -32,150 +31,183 @@
     {
         let failure_dialog = ajax_failure_callback("Unable to change outage date");
         let data = {'id': outage_id};
         data[param] = value;
         ajax_post(url, data, callback_success, [failure_dialog]);
     }
 
-    </script>
-{% endblock %}
+        </script>
+    {% endblock %}
 {% endif %}
-
 {% block title %}Scheduled outage details{% endblock %}
 {% block content %}
-    {% if not popup_view %}
-        <h1>Scheduled outage details</h1>
-    {% endif %}
-	<table class="table table-striped" style="margin-bottom: 0">
-		{% if user.is_staff %}
-			<tr>
-				<td><label for="outage_title" style="margin-bottom: 0">Title:</label></td>
-				<td>
-					<div id="outage_display_title" style="display: inline">
-						{{ outage.title }}
-						<span class="glyphicon glyphicon-pencil pull-right" title="Change the outage title"
-							  onclick="$('#outage_display_title').hide();$('#outage_change_title').css('display', 'inline');"></span>
-					</div>
-					<div id="outage_change_title" style="display: none">
-						<div class="input-group" style="display: inline-flex; vertical-align: middle">
-							<input type="text" id="outage_title" class="form-control" value="{{ outage.title }}">
-							<span class="input-group-btn">
-                                <button type="button" class="btn btn-success" data-dismiss="modal"
-										onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() { {% endif %}change_outage_title('{% url 'change_outage_title' outage.id %}', $('#outage_title').val()) {% if popup_view %}}){% endif %}">Change title</button>
-                            </span>
-						</div>
-					</div>
-				</td>
-			</tr>
-		{% else %}
-			<tr>
-				<td>Title:</td>
-				<td>{{ outage.title }}</td>
-			</tr>
-		{% endif %}
-		<tr>
-			<td>Created by:</td>
-			<td>{{ outage.creator }}</td>
-		</tr>
-		{% if outage.tool %}
-			<tr>
-				<td>Tool:</td>
-				<td>{{ outage.tool }}</td>
-			</tr>
-		{% endif %}
-		{% if outage.resource %}
-			<tr>
-				<td>Resource:</td>
-				<td>{{ outage.resource }} <span class="light-grey">({{ outage.resource.category }})</span></td>
-			</tr>
-		{% endif %}
-		{% if outage.category %}
-			<tr>
-				<td>Outage category:</td>
-				<td>{{ outage.category }}</td>
-			</tr>
-		{% endif %}
-		<tr>
-			{% if user.is_staff and outage.has_not_ended and outage.has_not_started %}
-				<td style="vertical-align: middle"><label for="outage_start" style="margin-bottom: 0">Start:</label>
-				</td>
-				<td id="outage_display_start">
-					{{ outage.start }}
-					<span class="glyphicon glyphicon-pencil pull-right" title="Change the start date"
-						  onclick="$('#outage_display_start').hide();$('#outage_change_start').show();"></span>
-				</td>
-				<td id="outage_change_start" style="display: none">
-					<div class="input-group">
-						<input type="text" id="outage_start" class="form-control"
-							   value="{{ outage.start|localtime|input_date_format }}">
-						<span class="input-group-btn">
-                            <button type="button" class="btn btn-success" data-dismiss="modal"
-									onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() { {% endif %}change_outage_date('{% url 'change_outage_date' %}', {{ outage.id }}, 'new_start', $('#outage_start').val()) {% if popup_view %}}){% endif %}">Change start</button>
-                        </span>
-					</div>
-				</td>
-			{% else %}
-				<td>Start:</td>
-				<td>{{ outage.start }}</td>
-			{% endif %}
-		</tr>
-		<tr>
-			{% if user.is_staff and outage.has_not_ended and outage.has_not_started %}
-				<td style="vertical-align: middle"><label for="outage_end" style="margin-bottom: 0">End:</label></td>
-				<td id="outage_display_end">
-					{{ outage.end }}
-					<span class="glyphicon glyphicon-pencil pull-right" title="Change the end date"
-						  onclick="$('#outage_display_end').hide();$('#outage_change_end').show();"></span>
-				</td>
-				<td id="outage_change_end" style="display: none">
-					<div class="input-group">
-						<input type="text" id="outage_end" class="form-control"
-							   value="{{ outage.end|localtime|input_date_format }}">
-						<span class="input-group-btn">
-                            <button type="button" class="btn btn-success" data-dismiss="modal"
-									onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() { {% endif %}change_outage_date('{% url 'change_outage_date' %}', {{ outage.id }}, 'new_end', $('#outage_end').val()) {% if popup_view %}}){% endif %}">Change end</button>
-                        </span>
-					</div>
-				</td>
-			{% else %}
-				<td>End:</td>
-				<td>{{ outage.end }}</td>
-			{% endif %}
-		</tr>
-		<tr>
-			<td>Identifier:</td>
-			<td>{{ outage.id }}</td>
-		</tr>
-		{% if outage.details or user.is_staff %}
-			{% if user.is_staff %}
-				<tr>
-					<td><label for="outage_details" style="margin-bottom: 0">Details:</label></td>
-					<td id="outage_display_details">
-						<span class="glyphicon glyphicon-pencil pull-right" title="Change the outage details"
-							  onclick="$('#outage_display_details').hide();$('#outage_change_details').show();auto_size_textarea(document.getElementById('outage_details'))"></span>
-						{{ outage.details|linebreaksbr }}
-					</td>
-					<td id="outage_change_details" style="display: none">
-						<div class="input-group" style="width: 100%;">
-							<textarea id="outage_details" class="form-control"
-									  oninput="auto_size_textarea(this);">{{ outage.details }}</textarea>
-							<span class="input-group-addon btn btn-success" style="color: #fff" data-dismiss="modal"
-								  onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() { {% endif %}change_outage_details('{% url 'change_outage_details' outage.id %}', $('#outage_details').val()) {% if popup_view %}}){% endif %}">Change details</span>
-						</div>
-					</td>
-				</tr>
-			{% else %}
-				<tr>
-					<td>Details:</td>
-					<td>{{ outage.details|linebreaksbr }}</td>
-				</tr>
-			{% endif %}
-		{% endif %}
-	</table>
-
-    {# Allow the user to cancel the outage if they have that privilege. only in popup view #}
+    {% if not popup_view %}<h1>Scheduled outage details</h1>{% endif %}
+    <table class="table table-striped" style="margin-bottom: 0">
+        {% if user.is_staff %}
+            <tr>
+                <td>
+                    <label for="outage_title" style="margin-bottom: 0">Title:</label>
+                </td>
+                <td>
+                    <div id="outage_display_title" style="display: inline">
+                        {{ outage.title }}
+                        <span class="glyphicon glyphicon-pencil pull-right"
+                              title="Change the outage title"
+                              onclick="$('#outage_display_title').hide();$('#outage_change_title').css('display', 'inline');"></span>
+                    </div>
+                    <div id="outage_change_title" style="display: none">
+                        <div class="input-group" style="display: inline-flex; vertical-align: middle">
+                            <input type="text" id="outage_title" class="form-control" value="{{ outage.title }}">
+                            <span class="input-group-btn">
+                                <button type="button" class="btn btn-success" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() {
+                                {% endif %}
+                                change_outage_title('{% url 'change_outage_title' outage.id %}', $('#outage_title').val()) {% if popup_view %}}){% endif %}
+                            ">Change title</button>
+                    </span>
+                </div>
+            </div>
+        </td>
+    </tr>
+{% else %}
+    <tr>
+        <td>Title:</td>
+        <td>{{ outage.title }}</td>
+    </tr>
+{% endif %}
+<tr>
+    <td>Created by:</td>
+    <td>{{ outage.creator }}</td>
+</tr>
+{% if outage.tool %}
+    <tr>
+        <td>Tool:</td>
+        <td>{{ outage.tool }}</td>
+    </tr>
+{% endif %}
+{% if outage.resource %}
+    <tr>
+        <td>Resource:</td>
+        <td>
+            {{ outage.resource }} <span class="light-grey">({{ outage.resource.category }})</span>
+        </td>
+    </tr>
+{% endif %}
+{% if outage.category %}
+    <tr>
+        <td>Outage category:</td>
+        <td>{{ outage.category }}</td>
+    </tr>
+{% endif %}
+<tr>
+    {% if user.is_staff and outage.has_not_ended and outage.has_not_started %}
+        <td style="vertical-align: middle">
+            <label for="outage_start" style="margin-bottom: 0">Start:</label>
+        </td>
+        <td id="outage_display_start">
+            {{ outage.start }}
+            <span class="glyphicon glyphicon-pencil pull-right"
+                  title="Change the start date"
+                  onclick="$('#outage_display_start').hide();$('#outage_change_start').show();"></span>
+        </td>
+        <td id="outage_change_start" style="display: none">
+            <div class="input-group">
+                <input type="text"
+                       id="outage_start"
+                       class="form-control"
+                       value="{{ outage.start|localtime|input_date_format }}">
+                <span class="input-group-btn">
+                    <button type="button" class="btn btn-success" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() {
+                    {% endif %}
+                    change_outage_date('{% url 'change_outage_date' %}', {{ outage.id }}, 'new_start', $('#outage_start').val()) {% if popup_view %}}){% endif %}
+                ">Change start</button>
+        </span>
+    </div>
+</td>
+{% else %}
+<td>Start:</td>
+<td>{{ outage.start }}</td>
+{% endif %}
+</tr>
+<tr>
+    {% if user.is_staff and outage.has_not_ended and outage.has_not_started %}
+        <td style="vertical-align: middle">
+            <label for="outage_end" style="margin-bottom: 0">End:</label>
+        </td>
+        <td id="outage_display_end">
+            {{ outage.end }}
+            <span class="glyphicon glyphicon-pencil pull-right"
+                  title="Change the end date"
+                  onclick="$('#outage_display_end').hide();$('#outage_change_end').show();"></span>
+        </td>
+        <td id="outage_change_end" style="display: none">
+            <div class="input-group">
+                <input type="text"
+                       id="outage_end"
+                       class="form-control"
+                       value="{{ outage.end|localtime|input_date_format }}">
+                <span class="input-group-btn">
+                    <button type="button" class="btn btn-success" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() {
+                    {% endif %}
+                    change_outage_date('{% url 'change_outage_date' %}', {{ outage.id }}, 'new_end', $('#outage_end').val()) {% if popup_view %}}){% endif %}
+                ">Change end</button>
+        </span>
+    </div>
+</td>
+{% else %}
+<td>End:</td>
+<td>{{ outage.end }}</td>
+{% endif %}
+</tr>
+{% if outage.reminder_days and outage.reminder_emails %}
+    <tr>
+        <td>Reminder day(s):</td>
+        <td>{{ outage.reminder_days }}</td>
+    </tr>
+    <tr>
+        <td>Reminder email(s):</td>
+        <td>{{ outage.reminder_emails|join:', ' }}</td>
+    </tr>
+{% endif %}
+<tr>
+    <td>Identifier:</td>
+    <td>{{ outage.id }}</td>
+</tr>
+{% if outage.details or user.is_staff %}
     {% if user.is_staff %}
-        <div class="modal-footer" style="padding: 15px 0 0 0;">
-            <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() { {% endif %}cancel_outage('{% url 'cancel_outage' outage.id  %}', 'Outage {{ outage.id }}'); {% if popup_view %}}){% endif %}">Cancel this outage</button>
+        <tr>
+            <td>
+                <label for="outage_details" style="margin-bottom: 0">Details:</label>
+            </td>
+            <td id="outage_display_details">
+                <span class="glyphicon glyphicon-pencil pull-right"
+                      title="Change the outage details"
+                      onclick="$('#outage_display_details').hide();$('#outage_change_details').show();auto_size_textarea(document.getElementById('outage_details'))"></span>
+                {{ outage.details|linebreaksbr }}
+            </td>
+            <td id="outage_change_details" style="display: none">
+                <div class="input-group" style="width: 100%;">
+                    <textarea id="outage_details" class="form-control" oninput="auto_size_textarea(this);">{{ outage.details }}</textarea>
+                    <span class="input-group-addon btn btn-success" style="color: #fff" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() {
+                    {% endif %}
+                    change_outage_details('{% url 'change_outage_details' outage.id %}', $('#outage_details').val()) {% if popup_view %}}){% endif %}
+            ">Change details</span>
         </div>
-    {% endif %}
-{% endblock %}
+    </td>
+</tr>
+{% else %}
+<tr>
+    <td>Details:</td>
+    <td>{{ outage.details|linebreaksbr }}</td>
+</tr>
+{% endif %}
+{% endif %}
+</table>
+{# Allow the user to cancel the outage if they have that privilege. only in popup view #}
+{% if user.is_staff %}
+    <div class="modal-footer" style="padding: 15px 0 0 0;">
+        <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() {
+        {% endif %}
+        cancel_outage('{% url 'cancel_outage' outage.id %}', 'Outage {{ outage.id }}'); {% if popup_view %}}){% endif %}
+    ">Cancel this outage</button>
+</div>
+{% endif %}
+{% endblock %}
```

### html2text {}

```diff
@@ -2,35 +2,41 @@
 custom_tags_and_filters %} {% load tz %} {% if not popup_view %} {% block
 extrahead %}
 {% endblock %} {% endif %} {% block title %}Scheduled outage details{% endblock
 %} {% block content %} {% if not popup_view %}
 ************ SScchheedduulleedd oouuttaaggee ddeettaaiillss ************
 {% endif %}
             {{ outage.title }}
-Title:      [{{ outage.title }}
-            ]Change title
+Title:      [{{ outage.title }}  ]Change
+            title
 Title:      {{ outage.title }}
 Created by: {{ outage.creator }}
 Tool:       {{ outage.tool }}
             {{ outage.resource }} ({
 Resource:   { outage.resource.category
             }})
 Outage      {{ outage.category }}
 category:
-                                        [{                                              {
-Start:      {{ outage.start }}          {                                        Start: {
-                                        outage.start|localtime|input_date_format        outage.start
-                                        }}]Change start                                 }}
-                                        [{                                              {
-End:        {{ outage.end }}            { outage.end|localtime|input_date_format End:   { outage.end
-                                        }}]Change end                                   }}
+                                         [{                                              {
+Start:      {{ outage.start }}           {                                        Start: {
+                                         outage.start|localtime|input_date_format        outage.start
+                                         }}]Change start                                 }}
+                                         [{                                              {
+End:        {{ outage.end }}             { outage.end|localtime|input_date_format End:   { outage.end
+                                         }}]Change end                                   }}
+Reminder    {{ outage.reminder_days }}
+day(s):
+            {
+Reminder    {
+email(s):   outage.reminder_emails|join:
+            ', ' }}
 Identifier: {{ outage.id }}
             {
-Details:    {                           {{ outage.details }}
-            outage.details|linebreaksbr  Change details
+Details:    {                            {{ outage.details }}
+            outage.details|linebreaksbr   Change details
             }}
             {
 Details:    {
             outage.details|linebreaksbr
             }}
 {# Allow the user to cancel the outage if they have that privilege. only in
 popup view #} {% if user.is_staff %}
```

## NEMO/templates/event_details/reservation_details.html

```diff
@@ -1,14 +1,13 @@
 {% extends popup_view|yesno:"base/popup.html,base.html" %}
 {% load custom_tags_and_filters %}
 {% load tz %}
-
 {% if not popup_view %}
-{% block extrahead %}
-    <script type="text/javascript">
+    {% block extrahead %}
+        <script type="text/javascript">
     function callback_success(){
         // if on a standalone page, reload the browser window to display the results of the change to the reservation
         location.reload()
     }
 
     function cancel_reservation(url, reservation_id, reason)
     {
@@ -41,223 +40,294 @@
         let failure_dialog = ajax_failure_callback("Unable to change reservation project");
         function callback_failure(){
             $('#reservation_project').show();
             $('#reservation_change_project').hide();
         }
         ajax_post(url, {'project_id': project_id}, callback_success, [failure_dialog, callback_failure]);
     }
-    </script>
-{% endblock %}
+        </script>
+    {% endblock %}
 {% endif %}
-
 {% block title %}{{ reservation.reservation_item }} reservation details{% endblock %}
-
 {% block content %}
-    {% if not popup_view %}
-        <h1>{{ reservation.reservation_item }} reservation details</h1>
+    {% if not popup_view %}<h1>{{ reservation.reservation_item }} reservation details</h1>{% endif %}
+    {% if reservation.short_notice %}
+        <div class="alert alert-danger">
+            {{ facility_name }} staff were not given sufficient notice to configure this tool. There is no guarantee that this tool will be configured properly at time of use.
+        </div>
     {% endif %}
-	{% if reservation.short_notice %}
-		<div class="alert alert-danger">{{ facility_name }} staff were not given sufficient notice to configure this tool. There is no guarantee that this tool will be configured properly at time of use.</div>
-	{% endif %}
-	{% if reservation.missed %}
-		<div class="alert alert-danger">This reservation was automatically removed from the calendar due to {{ reservation.reservation_item_type.value }} inactivity.</div>
-	{% endif %}
-
-	<table class="table table-striped" style="margin-bottom: 0">
-
-	{% if user.is_staff %}
-    <tr>
-        <td style="vertical-align: middle"><label for="title">Title:</label></td>
-        <td>
-            <div class="input-group">
-                <input type="text" id="title"  class="form-control" placeholder="{{ reservation.user }}" maxlength="200" value="{{ reservation.title }}">
-                <span class="input-group-btn">
-                    <button type="button" class="btn btn-success" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() { {% endif %}set_reservation_title('{% url 'set_reservation_title' reservation.id %}', {{ reservation.id }}, $('#title').val()) {% if popup_view %}}){% endif %}">Set title</button>
+    {% if reservation.missed %}
+        <div class="alert alert-danger">
+            This reservation was automatically removed from the calendar due to {{ reservation.reservation_item_type.value }} inactivity.
+        </div>
+    {% endif %}
+    <table class="table table-striped" style="margin-bottom: 0">
+        {% if user.is_staff %}
+            <tr>
+                <td style="vertical-align: middle">
+                    <label for="title">Title:</label>
+                </td>
+                <td>
+                    <div class="input-group">
+                        <input type="text"
+                               id="title"
+                               class="form-control"
+                               placeholder="{{ reservation.user }}"
+                               maxlength="200"
+                               value="{{ reservation.title }}">
+                        <span class="input-group-btn">
+                            <button type="button" class="btn btn-success" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() {
+                            {% endif %}
+                            set_reservation_title('{% url 'set_reservation_title' reservation.id %}', {{ reservation.id }}, $('#title').val()) {% if popup_view %}}){% endif %}
+                        ">Set title</button>
                 </span>
             </div>
         </td>
     </tr>
-	{% elif reservation.title %}
-        <tr>
-            <td>Title:</td>
-            <td>{{ reservation.title }}</td>
-        </tr>
-    {% endif %}
-
-	<tr>
-        <td>User:</td>
-        <td><a title="Click to email this user" href="{% url 'get_email_form_for_user' reservation.user.id %}">{{ reservation.user }}</a></td>
-    </tr>
+{% elif reservation.title %}
     <tr>
-        <td>Created by:</td>
-        <td>{{ reservation.creator }}</td>
+        <td>Title:</td>
+        <td>{{ reservation.title }}</td>
     </tr>
+{% endif %}
+<tr>
+    <td>User:</td>
+    <td>
+        <a title="Click to email this user" href="{% url 'get_email_form_for_user' reservation.user.id %}">{{ reservation.user }}</a>
+    </td>
+</tr>
+<tr>
+    <td>Created by:</td>
+    <td>{{ reservation.creator }}</td>
+</tr>
+<tr>
+    <td>Created on:</td>
+    <td>{{ reservation.creation_time }}</td>
+</tr>
+{% if reservation.tool %}
     <tr>
-        <td>Created on:</td>
-        <td>{{ reservation.creation_time }}</td>
+        <td>Tool:</td>
+        <td>
+            <a title="Click to go to the tool control page for this tool"
+               href="{% url 'tool_control' reservation.tool.id %}">{{ reservation.tool }}</a>
+        </td>
     </tr>
-	{% if reservation.tool %}
+    {% if reservation.tool_accessories %}
         <tr>
-            <td>Tool:</td>
-            <td><a title="Click to go to the tool control page for this tool" href="{% url 'tool_control' reservation.tool.id %}">{{ reservation.tool }}</a></td>
-        </tr>
-		{% if reservation.tool_accessories %}
-			<tr>
-				<td>Selected accessories:</td>
-				<td>{{ reservation.tool_accessories.all|join:", " }}</td>
-			</tr>
-		{% endif %}
-    {% elif reservation.area %}
-        <tr>
-            <td>Area:</td>
-            <td>{{ reservation.area }}</td>
+            <td>Selected accessories:</td>
+            <td>{{ reservation.tool_accessories.all|join:", " }}</td>
         </tr>
     {% endif %}
-	{% if reservation.project %}
-        <tr id="reservation_project">
-            <td style="vertical-align: middle;">Project:</td>
-            <td>
-                {{ reservation.project }}
-                {% if reservation_project_can_be_changed %}<span class="glyphicon glyphicon-pencil pull-right" title="Change the project" onclick="$('#reservation_project').hide();$('#reservation_change_project').show();"></span>{% endif %}
-            </td>
-        </tr>
-        {% if reservation_project_can_be_changed %}
-            <tr id="reservation_change_project" style="display: none;">
-                <td style="vertical-align: middle;"><label for="change_project">Project:</label></td>
-                <td>
-                    <div class="input-group">
-                        <select id="change_project" name="project" aria-label="Reservation project" class="form-control">
-                            {% for p in reservation.user.active_projects %}
-                                <option value="{{ p.id }}" {% if reservation.project.id == p.id %}selected{% endif %}>{% project_selection_display p %}</option>
-                            {% endfor %}
-                        </select>
-                        <span class="input-group-btn">
-                            <button type="button" class="btn btn-success" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() { {% endif %} change_reservation_project('{% url 'change_reservation_project' reservation.id %}', $('#change_project').val()) {% if popup_view %} }) {% endif %}">Change project</button>
-                        </span>
-                    </div>
-                </td>
-            </tr>
-        {% endif %}
-	{% endif %}
+{% elif reservation.area %}
     <tr>
-        {% if request.user == reservation.user and reservation.has_not_ended and reservation.has_not_started %}
-            <td style="vertical-align: middle"><label for="reservation_start" style="margin-bottom: 0">Start:</label></td>
-            <td id="reservation_display_start">
-                {{ reservation.start }}
-                <span class="glyphicon glyphicon-pencil pull-right" title="Change the start date" onclick="$('#reservation_display_start').hide();$('#reservation_change_start').show();"></span>
-            </td>
-            <td id="reservation_change_start" style="display: none">
-                <div class="input-group">
-                    <input type="text" id="reservation_start" class="form-control" value="{{ reservation.start|localtime|input_date_format }}">
-                    <span class="input-group-btn">
-                        <button type="button" class="btn btn-success" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() { {% endif %}change_reservation_date('{% url 'change_reservation_date' %}', {{ reservation.id }}, 'new_start', $('#reservation_start').val()) {% if popup_view %}}){% endif %}">Change start</button>
-                    </span>
-                </div>
-            </td>
-        {% else %}
-            <td>Start:</td>
-            <td>{{ reservation.start }}</td>
-        {% endif %}
+        <td>Area:</td>
+        <td>{{ reservation.area }}</td>
     </tr>
-    <tr>
-        {% if request.user == reservation.user and reservation.has_not_ended and reservation.has_not_started %}
-            <td style="vertical-align: middle"><label for="reservation_end" style="margin-bottom: 0">End:</label></td>
-            <td id="reservation_display_end">
-                {{ reservation.end }}
-                <span class="glyphicon glyphicon-pencil pull-right" title="Change the end date" onclick="$('#reservation_display_end').hide();$('#reservation_change_end').show();"></span>
+{% endif %}
+{% if reservation.project %}
+    <tr id="reservation_project">
+        <td style="vertical-align: middle;">Project:</td>
+        <td>
+            {{ reservation.project }}
+            {% if reservation_project_can_be_changed %}
+                <span class="glyphicon glyphicon-pencil pull-right"
+                      title="Change the project"
+                      onclick="$('#reservation_project').hide();$('#reservation_change_project').show();"></span>
+            {% endif %}
+        </td>
+    </tr>
+    {% if reservation_project_can_be_changed %}
+        <tr id="reservation_change_project" style="display: none;">
+            <td style="vertical-align: middle;">
+                <label for="change_project">Project:</label>
             </td>
-            <td id="reservation_change_end" style="display: none">
+            <td>
                 <div class="input-group">
-                    <input type="text" id="reservation_end" class="form-control" value="{{ reservation.end|localtime|input_date_format }}">
+                    <select id="change_project" name="project" aria-label="Reservation project" class="form-control">
+                        {% for p in reservation.user.active_projects %}
+                            <option value="{{ p.id }}" {% if reservation.project.id == p.id %}selected{% endif %}>
+                                {% project_selection_display p %}
+                            </option>
+                        {% endfor %}
+                    </select>
                     <span class="input-group-btn">
-                        <button type="button" class="btn btn-success" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() { {% endif %}change_reservation_date('{% url 'change_reservation_date' %}', {{ reservation.id }}, 'new_end', $('#reservation_end').val()) {% if popup_view %}}){% endif %}">Change end</button>
-                    </span>
-                </div>
-            </td>
-        {% else %}
-            <td>End:</td>
-            <td>{{ reservation.end }}</td>
-        {% endif %}
-    </tr>
-    <tr>
-        <td>Identifier:</td>
-        <td>{{ reservation.id }}</td>
-    </tr>
-    {% if reservation.question_data_json.items %}
+                        <button type="button" class="btn btn-success" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() {
+                        {% endif %}
+                        change_reservation_project('{% url 'change_reservation_project' reservation.id %}', $('#change_project').val()) {% if popup_view %}}){% endif %}
+                    ">Change project</button>
+            </span>
+        </div>
+    </td>
+</tr>
+{% endif %}
+{% endif %}
+<tr>
+    {% if request.user == reservation.user and reservation.has_not_ended and reservation.has_not_started %}
+        <td style="vertical-align: middle">
+            <label for="reservation_start" style="margin-bottom: 0">Start:</label>
+        </td>
+        <td id="reservation_display_start">
+            {{ reservation.start }}
+            <span class="glyphicon glyphicon-pencil pull-right"
+                  title="Change the start date"
+                  onclick="$('#reservation_display_start').hide();$('#reservation_change_start').show();"></span>
+        </td>
+        <td id="reservation_change_start" style="display: none">
+            <div class="input-group">
+                <input type="text"
+                       id="reservation_start"
+                       class="form-control"
+                       value="{{ reservation.start|localtime|input_date_format }}">
+                <span class="input-group-btn">
+                    <button type="button" class="btn btn-success" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() {
+                    {% endif %}
+                    change_reservation_date('{% url 'change_reservation_date' %}', {{ reservation.id }}, 'new_start', $('#reservation_start').val()) {% if popup_view %}}){% endif %}
+                ">Change start</button>
+        </span>
+    </div>
+</td>
+{% else %}
+<td>Start:</td>
+<td>{{ reservation.start }}</td>
+{% endif %}
+</tr>
+<tr>
+    {% if request.user == reservation.user and reservation.has_not_ended and reservation.has_not_started %}
+        <td style="vertical-align: middle">
+            <label for="reservation_end" style="margin-bottom: 0">End:</label>
+        </td>
+        <td id="reservation_display_end">
+            {{ reservation.end }}
+            <span class="glyphicon glyphicon-pencil pull-right"
+                  title="Change the end date"
+                  onclick="$('#reservation_display_end').hide();$('#reservation_change_end').show();"></span>
+        </td>
+        <td id="reservation_change_end" style="display: none">
+            <div class="input-group">
+                <input type="text"
+                       id="reservation_end"
+                       class="form-control"
+                       value="{{ reservation.end|localtime|input_date_format }}">
+                <span class="input-group-btn">
+                    <button type="button" class="btn btn-success" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() {
+                    {% endif %}
+                    change_reservation_date('{% url 'change_reservation_date' %}', {{ reservation.id }}, 'new_end', $('#reservation_end').val()) {% if popup_view %}}){% endif %}
+                ">Change end</button>
+        </span>
+    </div>
+</td>
+{% else %}
+<td>End:</td>
+<td>{{ reservation.end }}</td>
+{% endif %}
+</tr>
+<tr>
+    <td>Identifier:</td>
+    <td>{{ reservation.id }}</td>
+</tr>
+{% if reservation.question_data_json.items %}
     <tr>
         <td>Reservation questions:</td>
         <td style="padding: 0;">
             <table class="table table-striped" style="margin-bottom: 0;">
-            {% for question_name, data in reservation.question_data_json.items %}
-                {% if data.type == 'group' %}
-                    <tr>
-                        <td {% if forloop.first %}style="border-top:none;"{% endif %}>{{ data.title }}{% if data.title|slice:"-1:" != ":" %}:{% endif %}</td>
-                        <td style="padding: 0;{% if forloop.first %}border-top:none;{% endif %}">
-                            <table class="table table-striped" style="margin-bottom: 0;">
-                                {% res_question_tbody data.user_input %}
-                            </table>
-                        </td>
-                    </tr>
+                {% for question_name, data in reservation.question_data_json.items %}
+                    {% if data.type == 'group' %}
+                        <tr>
+                            <td {% if forloop.first %}style="border-top:none;"{% endif %}>
+                                {{ data.title }}
+                                {% if data.title|slice:"-1:" != ":" %}:{% endif %}
+                            </td>
+                            <td style="padding: 0;{% if forloop.first %}border-top:none;{% endif %}">
+                                <table class="table table-striped" style="margin-bottom: 0;">
+                                    {% res_question_tbody data.user_input %}
+                                </table>
+                            </td>
+                        </tr>
+                    {% else %}
+                        <tr>
+                            <td {% if forloop.first %}style="border-top:none;"{% endif %}>
+                                {{ data.title }}
+                                {% if data.title|slice:"-1:" != ":" %}:{% endif %}
+                            </td>
+                            <td {% if forloop.first %}style="border-top:none;"{% endif %}>{{ data.user_input|linebreaksbr }}</td>
+                        </tr>
+                    {% endif %}
+                {% endfor %}
+            </table>
+        </td>
+    </tr>
+{% endif %}
+{% if reservation.self_configuration %}
+    <tr>
+        <td>Self-configuration:</td>
+        <td>{{ reservation.user }} has opted to perform the tool configuration</td>
+    </tr>
+{% endif %}
+{% if reservation.configurationoption_set.exists %}
+    <tr>
+        <td>Configuration:</td>
+        <td>
+            {% for config_option in reservation.configurationoption_set.all %}
+                {{ config_option.name }}
+                {% if config_option.precursor_configuration %}
+                    {% if config_option.current_position is None %}
+                        any position
+                    {% else %}
+                        position {{ config_option.current_position }}
+                    {% endif %}
+                {% endif %}
+                :
+                {% if config_option.get_color %}
+                    <span class="configuration-reservation-option" style="background-color: {{ config_option.get_color }}">{{ config_option.current_setting }}</span>
                 {% else %}
-                    <tr>
-                        <td {% if forloop.first %}style="border-top:none;"{% endif %}>{{ data.title }}{% if data.title|slice:"-1:" != ":" %}:{% endif %}</td>
-                        <td {% if forloop.first %}style="border-top:none;"{% endif %}>{{ data.user_input|linebreaksbr }}</td>
-                    </tr>
+                    {{ config_option.current_setting }}
                 {% endif %}
+                <br>
             {% endfor %}
-            </table>
         </td>
     </tr>
-    {% endif %}
-    {% if reservation.self_configuration %}
-        <tr>
-            <td>Self-configuration:</td>
-            <td>{{ reservation.user }} has opted to perform the tool configuration</td>
-        </tr>
-    {% endif %}
-		{% if reservation.configurationoption_set.exists %}
-			<tr>
-				<td>Configuration:</td>
-				<td>
-					{% for config_option in reservation.configurationoption_set.all %}
-						{{ config_option.name }} {% if config_option.precursor_configuration %} {% if config_option.current_position is None %}any position{% else %}position {{ config_option.current_position }}{% endif %}{% endif %}: {% if config_option.get_color %}
-						<span class="configuration-reservation-option"
-							  style="background-color: {{ config_option.get_color }}">{{ config_option.current_setting }}</span>{% else %}
-						{{ config_option.current_setting }}{% endif %}<br>
-					{% endfor %}
-				</td>
-			</tr>
-		{% endif %}
-    {% if reservation.additional_information %}
-        <tr>
-            <td>Additional information:</td>
-            <td>{{ reservation.additional_information|linebreaksbr }}</td>
-        </tr>
-    {% endif %}
-    </table>
-
-    {# Allow the user to cancel the reservation if they have that privilege. #}
-    {% if not reservation.missed and not reservation.cancelled %}
-        {% if reservation.user.id == user.id and reservation.has_not_ended or user.is_staff %}
-            <div class="modal-footer" style="padding: 15px 0 0 0;">
-                {# You must provide a reason if you are cancelling someone else's reservation. #}
-                {% if reservation.user == user %}
-                    <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() { {% endif %}cancel_reservation('{% url 'cancel_reservation' reservation.id %}', 'Reservation {{ reservation.id }}') {% if popup_view %}}){% endif %}" title="Cancel this reservation"><i class="glyphicon glyphicon-trash"></i> Cancel this reservation</button>
-                {% else %}
-                    <div class="input-group">
-                        <input type="text" id="reason" class="form-control" placeholder="Reason for cancellation (required)" aria-label="Reason for cancellation (required)" maxlength="3000">
-                        <span class="input-group-btn">
-                            <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() { {% endif %}cancel_reservation('{% url 'cancel_reservation' reservation.id %}', 'Reservation {{ reservation.id }}', $('#reason').val()) {% if popup_view %} }) {% endif %}" title="Cancel this reservation"><i class="glyphicon glyphicon-trash"></i> Cancel this reservation</button>
-                        </span>
-                    </div>
-                    <script>
-                        autofocus("#reason");
-                    </script>
+{% endif %}
+{% if reservation.additional_information %}
+    <tr>
+        <td>Additional information:</td>
+        <td>{{ reservation.additional_information|linebreaksbr }}</td>
+    </tr>
+{% endif %}
+</table>
+{# Allow the user to cancel the reservation if they have that privilege. #}
+{% if not reservation.missed and not reservation.cancelled %}
+    {% if reservation.user.id == user.id and reservation.has_not_ended or user.is_staff %}
+        <div class="modal-footer" style="padding: 15px 0 0 0;">
+            {# You must provide a reason if you are cancelling someone else's reservation. #}
+            {% if reservation.user == user %}
+                <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() {
                 {% endif %}
-            </div>
-        {% endif %}
-    {% endif %}
-
-    {% if popup_view and reservation.question_data_json.items %}
-        <script>$('#dialog .modal-dialog').addClass('modal-lg');</script>
-    {% endif %}
-{% endblock %}
+                cancel_reservation('{% url 'cancel_reservation' reservation.id %}', 'Reservation {{ reservation.id }}') {% if popup_view %}}){% endif %}
+            " title="Cancel this reservation">
+            <i class="glyphicon glyphicon-trash"></i> Cancel this reservation
+        </button>
+    {% else %}
+        <div class="input-group">
+            <input type="text"
+                   id="reason"
+                   class="form-control"
+                   placeholder="Reason for cancellation (required)"
+                   aria-label="Reason for cancellation (required)"
+                   maxlength="3000">
+            <span class="input-group-btn">
+                <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="{% if popup_view %}$('#dialog').one('hidden.bs.modal', function() {
+                {% endif %}
+                cancel_reservation('{% url 'cancel_reservation' reservation.id %}', 'Reservation {{ reservation.id }}', $('#reason').val()) {% if popup_view %}}){% endif %}
+            " title="Cancel this reservation">
+            <i class="glyphicon glyphicon-trash"></i> Cancel this reservation
+        </button>
+    </span>
+</div>
+<script>autofocus("#reason");</script>
+{% endif %}
+</div>
+{% endif %}
+{% endif %}
+{% if popup_view and reservation.question_data_json.items %}
+    <script>$('#dialog .modal-dialog').addClass('modal-lg');</script>
+{% endif %}
+{% endblock %}
```

### html2text {}

```diff
@@ -18,19 +18,19 @@
 Created by:    {{ reservation.creator }}
 Created on:    {{ reservation.creation_time }}
 Tool:          _{_{_ _r_e_s_e_r_v_a_t_i_o_n_._t_o_o_l_ _}_}
 Selected       {{ reservation.tool_accessories.all|join:", "
 accessories:   }}
 Area:          {{ reservation.area }}
                {{ reservation.project }} {% if
-Project:       reservation_project_can_be_changed %}{% endif
+Project:       reservation_project_can_be_changed %} {% endif
                %}
                {% for p in reservation.user.active_projects %}
                % if reservation.project.id == p.id %}selected
-Project:       {% endif %}>{% project_selection_display p %}
+Project:       {% endif %}> {% project_selection_display p %}
                {% endfor %}
                Change project
                                                                [{                                                   {
 Start:         {{ reservation.start }}                         {                                             Start: {
                                                                reservation.start|localtime|input_date_format        reservation.start
                                                                }}]Change start                                      }}
                                                                [{                                                   {
@@ -41,20 +41,21 @@
 questions:
 Self-          {{ reservation.user }} has opted to perform the
 configuration: tool configuration
                {% for config_option in
                reservation.configurationoption_set.all %} {
                { config_option.name }} {% if
                config_option.precursor_configuration %} {% if
-               config_option.current_position is None %}any
-Configuration: position{% else %}position {
-               { config_option.current_position }}{% endif %}
-               {% endif %}: {% if config_option.get_color %} {
-               { config_option.current_setting }}{% else %} {
-               { config_option.current_setting }}{% endif %}
+               config_option.current_position is None %} any
+Configuration: position {% else %} position {
+               { config_option.current_position }} {% endif %}
+               {% endif %} : {% if config_option.get_color %}
+               {{ config_option.current_setting }} {% else %}
+               {{ config_option.current_setting }} {% endif %}
+
                {% endfor %}
                {
 Additional     {
 information:   reservation.additional_information|linebreaksbr
                }}
 {# Allow the user to cancel the reservation if they have that privilege. #} {%
 if not reservation.missed and not reservation.cancelled %} {% if
```

## NEMO/templates/event_details/training_event_details.html

```diff
@@ -1,114 +1,113 @@
 {% extends popup_view|yesno:"base/popup.html,base.html" %}
 {% load custom_tags_and_filters %}
 {% load training_tags %}
 {% block title %}Training event details{% endblock %}
 {% block content %}
-    {% if not popup_view %}
-        <h1>Training event details</h1>
-    {% endif %}
-	<table class="table table-striped" style="margin-bottom: 0;">
-		<tr>
-			<th>Tool</th>
-			<td>{{ training.tool }}</td>
-		</tr>
-		{% if training.technique %}
-			<tr>
-				<th>Technique</th>
-				<td>{{ training.technique.name }}</td>
-			</tr>
-		{% endif %}
-		<tr>
-			<th>Trainer</th>
-			<td>{{ training.trainer.get_name }}</td>
-		</tr>
-		<tr>
-			<th>Created by</th>
-			<td>{{ training.creator.get_name }}</td>
-		</tr>
-		<tr>
-			<th>Created on</th>
-			<td>{{ training.creation_time }}</td>
-		</tr>
-		<tr>
-			<th>Start</th>
-			<td>{{ training.start }}</td>
-		</tr>
-		<tr>
-			<th>End</th>
-			<td>{{ training.end }}</td>
-		</tr>
-		<tr>
-			<th>Duration</th>
-			<td>{{ training.duration }} minutes</td>
-		</tr>
-		<tr>
-			<th>Attendees</th>
-			<td>{{ training.current_capacity }}/{{ training.capacity }}
-				{% if training.users.all %}
-					{% if user.is_staff or user|is_trainer:training.tool %}
-						{% for attendee in training.users.all %}
-							<br>{{ attendee }}
-						{% endfor %}
-					{% endif %}
-				{% endif %}
-			</td>
-		</tr>
-		{% if training.pending_invitations.all %}
-			{% if user.is_staff or user|is_trainer:training.tool %}
-				<tr>
-					<th>Invitations</th>
-					<td>
-						{% for invite in training.pending_invitations.all %}
-							{{ invite.user }}
-							{% if not forloop.last %}<br>{% endif %}
-						{% endfor %}
-					</td>
-				</tr>
-			{% endif %}
-		{% endif %}
-		<tr>
-			<th>Identifier</th>
-			<td>{{ training.id }}</td>
-		</tr>
-		{% if training.message %}
-			<tr>
-				<th>Details</th>
-				<td>{{ training.message|linebreaksbr }}</td>
-			</tr>
-		{% endif %}
-	</table>
-
+    {% if not popup_view %}<h1>Training event details</h1>{% endif %}
+    <table class="table table-striped" style="margin-bottom: 0;">
+        <tr>
+            <th>Tool</th>
+            <td>{{ training.tool }}</td>
+        </tr>
+        {% if training.technique %}
+            <tr>
+                <th>Technique</th>
+                <td>{{ training.technique.name }}</td>
+            </tr>
+        {% endif %}
+        <tr>
+            <th>Trainer</th>
+            <td>{{ training.trainer.get_name }}</td>
+        </tr>
+        <tr>
+            <th>Created by</th>
+            <td>{{ training.creator.get_name }}</td>
+        </tr>
+        <tr>
+            <th>Created on</th>
+            <td>{{ training.creation_time }}</td>
+        </tr>
+        <tr>
+            <th>Start</th>
+            <td>{{ training.start }}</td>
+        </tr>
+        <tr>
+            <th>End</th>
+            <td>{{ training.end }}</td>
+        </tr>
+        <tr>
+            <th>Duration</th>
+            <td>{{ training.duration }} minutes</td>
+        </tr>
+        <tr>
+            <th>Attendees</th>
+            <td>
+                {{ training.current_capacity }}/{{ training.capacity }}
+                {% if training.users.all %}
+                    {% if user.is_staff or user|is_trainer:training.tool %}
+                        {% for attendee in training.users.all %}
+                            <br>
+                            {{ attendee }}
+                        {% endfor %}
+                    {% endif %}
+                {% endif %}
+            </td>
+        </tr>
+        {% if training.pending_invitations.all %}
+            {% if user.is_staff or user|is_trainer:training.tool %}
+                <tr>
+                    <th>Invitations</th>
+                    <td>
+                        {% for invite in training.pending_invitations.all %}
+                            {{ invite.user }}
+                            {% if not forloop.last %}<br>{% endif %}
+                        {% endfor %}
+                    </td>
+                </tr>
+            {% endif %}
+        {% endif %}
+        <tr>
+            <th>Identifier</th>
+            <td>{{ training.id }}</td>
+        </tr>
+        {% if training.message %}
+            <tr>
+                <th>Details</th>
+                <td>{{ training.message|linebreaksbr }}</td>
+            </tr>
+        {% endif %}
+    </table>
     {% if user.is_staff or user|is_trainer:training.tool or user not in training.users.all and user != training.trainer and training.current_capacity < training.capacity %}
         <div class="modal-footer" style="padding-bottom: 0; padding-right: 0">
-    		{% if training|training_event_invitations:request.user %}
-				{% for invite in training|training_event_invitations:request.user %}
-					{% url "decline_training_invitation" training_invitation.id as decline_invitation_url %}
-					{% button type="delete" value="Decline" icon="glyphicon-ban-circle" onclick="confirm_action('"|concat:decline_invitation_url|concat:"', false, callback_success, 'declining', 'invitation', 'Decline')" data_toggle="modal" data_target="#confirm-actions" %}
-					{% url 'accept_training_invitation' invite.id as accept_training_invitation_url %}
-					{% button type="save" value="Accept training invitation" icon="glyphicon-ok-sign" dismiss="modal" onclick="register_for_training('"|concat:accept_training_invitation_url|concat:"');" %}
-				{% endfor %}
-			{% elif user not in training.users.all and user != training.trainer and training.current_capacity < training.capacity %}
-				{% if not training.invitation_only %}
-					{% url 'register_for_training' training.id as register_for_training_url %}
-					{% button type="save" value="Register for this training" icon="glyphicon-ok-sign" dismiss="modal" onclick="register_for_training('"|concat:register_for_training_url|concat:"');" %}
-				{% else %}
-					{% button type="save" value="This event is by invitation only" icon="glyphicon-ok-sign" disabled="disabled" %}
-				{% endif %}
-    		{% endif %}
-			{% if user.is_staff or user|is_trainer:training.tool %}
-				{% url 'cancel_training_event' training.id as cancel_training_url %}
-				{% with reason_required=training_event.users.exists|yesno:"true,false" %}
-					{% button type="delete" value="Cancel this training" onclick="confirm_action('"|concat:cancel_training_url|concat:"', "|concat:reason_required|concat:", callback_success, 'cancelling', 'training', 'Confirm cancellation');" data_toggle="modal" data_target="#confirm-actions" %}
-				{% endwith %}
-			{% endif %}
+            {% if training|training_event_invitations:request.user %}
+                {% for invite in training|training_event_invitations:request.user %}
+                    {% url "decline_training_invitation" training_invitation.id as decline_invitation_url %}
+                    {% button type="delete" value="Decline" icon="glyphicon-ban-circle" onclick="confirm_action('"|concat:decline_invitation_url|concat:"', false, callback_success, 'declining', 'invitation', 'Decline')" data_toggle="modal" data_target="#confirm-actions" %}
+                    {% url 'accept_training_invitation' invite.id as accept_training_invitation_url %}
+                    {% button type="save" value="Accept training invitation" icon="glyphicon-ok-sign" dismiss="modal" onclick="register_for_training('"|concat:accept_training_invitation_url|concat:"');" %}
+                {% endfor %}
+            {% elif user not in training.users.all and user != training.trainer and training.current_capacity < training.capacity %}
+                {% if not training.invitation_only %}
+                    {% url 'register_for_training' training.id as register_for_training_url %}
+                    {% button type="save" value="Register for this training" icon="glyphicon-ok-sign" dismiss="modal" onclick="register_for_training('"|concat:register_for_training_url|concat:"');" %}
+                {% else %}
+                    {% button type="save" value="This event is by invitation only" icon="glyphicon-ok-sign" disabled="disabled" %}
+                {% endif %}
+            {% endif %}
+            {% if user.is_staff or user|is_trainer:training.tool %}
+                {% url 'cancel_training_event' training.id as cancel_training_url %}
+                {% with reason_required=training_event.users.exists|yesno:"true,false" %}
+                    {% button type="delete" value="Cancel this training" onclick="confirm_action('"|concat:cancel_training_url|concat:"', "|concat:reason_required|concat:", callback_success, 'cancelling', 'training', 'Confirm cancellation');" data_toggle="modal" data_target="#confirm-actions" %}
+                {% endwith %}
+            {% endif %}
         </div>
     {% endif %}
-	{% include 'snippets/confirm_action_modal.html' %}
-	<script type="text/javascript">
+    {% include 'snippets/confirm_action_modal.html' %}
+    <script type="text/javascript">
 		function callback_success(){
 			// if on a standalone page, reload the browser window to display the results of the change to the reservation
             {% if not popup_view %}
 				location.reload();
 			{% else %}
 				$('#dialog').modal('hide');
 				refresh_calendar_and_sidebar();
@@ -116,9 +115,10 @@
 		}
 
 		function register_for_training(url)
 		{
 			let failure_dialog = ajax_failure_callback("Unable to register for this training");
 			ajax_post(url, undefined, callback_success, [failure_dialog, callback_success]);
 		}
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

## NEMO/templates/event_details/usage_details.html

```diff
@@ -1,19 +1,24 @@
 {% extends popup_view|yesno:"base/popup.html,base.html" %}
-
 {% block title %}{{ event.tool }} usage details{% endblock %}
 {% block content %}
-    {% if not popup_view %}
-        <h1>{{ event.tool }} usage details</h1>
-    {% endif %}
-    User: {{ event.user }}<br>
-    Operator: {{ event.operator }}<br>
-    Project: {{ event.project.name }}<br>
-    Tool: {{ event.tool }}<br>
-    Start: {{ event.start }}<br>
+    {% if not popup_view %}<h1>{{ event.tool }} usage details</h1>{% endif %}
+    User: {{ event.user }}
+    <br>
+    Operator: {{ event.operator }}
+    <br>
+    Project: {{ event.project.name }}
+    <br>
+    Tool: {{ event.tool }}
+    <br>
+    Start: {{ event.start }}
+    <br>
     {% if event.end %}
-        End: {{ event.end }}<br>
+        End: {{ event.end }}
+        <br>
     {% else %}
-        This tool is currently in use.<br>
+        This tool is currently in use.
+        <br>
     {% endif %}
-    Identifier: {{ event.id }}<br>
-{% endblock %}
+    Identifier: {{ event.id }}
+    <br>
+{% endblock %}
```

## NEMO/templates/jumbotron/jumbotron.html

```diff
@@ -1,44 +1,41 @@
 {% load static %}
 {% load custom_tags_and_filters %}
 <!DOCTYPE html>
 <html lang="en">
-<head>
-	{# This meta-tag forcefully disables 'compatibility mode' in Internet Explorer because it causes rendering problems. #}
-	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
-	<meta charset="UTF-8">
-
-	{# jQuery #}
-    <script type="text/javascript" src="{% static "jquery.min.js" %}"></script>
-
-	{# Bootstrap #}
-    <script type="text/javascript" src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
-    <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.min.css" %}"/>
-    <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.min.css" %}"/>
-
-	{# NEMO #}
-    <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}"/>
-	<script type="text/javascript" src="{% static "nemo.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "nemo.css" %}"/>
-
-	<title>Jumbotron</title>
-</head>
-<body class="jumbotron-body" style="background-image:linear-gradient(rgba(255,255,255,0.5), rgba(255,255,255,0.5)), url('{{ MEDIA_URL }}jumbotron_watermark.png')">
-	<div id="jumbotron-container" style="min-height: calc(100vh - 61px); padding:10px 30px 0 30px">
-		<div class="container-fluid" style="background:transparent">
-			<div class="row" id="content" style="background:transparent"></div>
-			<div class="row" id="offline-message" style="display:none">
-				<div class="col-lg-12" style="text-align:center">
-					<span style="font-size:250px; color:red">{{ site_title }} is offline</span>
-				</div>
-			</div>
-		</div>
-	</div>
-	{% include 'base/footer.html' %}
-	<script>
+    <head>
+        {# This meta-tag forcefully disables 'compatibility mode' in Internet Explorer because it causes rendering problems. #}
+        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
+        <meta charset="UTF-8">
+        {# jQuery #}
+        <script type="text/javascript" src="{% static "jquery.min.js" %}"></script>
+        {# Bootstrap #}
+        <script type="text/javascript" src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
+        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap.min.css" %}" />
+        <link rel="stylesheet" type="text/css" href="{% static "bootstrap/css/bootstrap-theme.min.css" %}" />
+        {# NEMO #}
+        <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}" />
+        <script type="text/javascript" src="{% static "nemo.js" %}"></script>
+        <link rel="stylesheet" type="text/css" href="{% static "nemo.css" %}" />
+        <title>Jumbotron</title>
+    </head>
+    <body class="jumbotron-body"
+          style="background-image:linear-gradient(rgba(255,255,255,0.5), rgba(255,255,255,0.5)), url('{{ MEDIA_URL }}jumbotron_watermark.png')">
+        <div id="jumbotron-container" style="min-height: calc(100vh - 61px); padding:10px 30px 0 30px">
+            <div class="container-fluid" style="background:transparent">
+                <div class="row" id="content" style="background:transparent"></div>
+                <div class="row" id="offline-message" style="display:none">
+                    <div class="col-lg-12" style="text-align:center">
+                        <span style="font-size:250px; color:red">{{ site_title }} is offline</span>
+                    </div>
+                </div>
+            </div>
+        </div>
+        {% include 'base/footer.html' %}
+        <script>
 		function on_complete(response, status)
 		{
 			if (status === "success")
 			{
 				$("#offline-message").hide();
 				$("#content").show();
 			}
@@ -54,10 +51,11 @@
 		}
 		function on_load()
 		{
 			refresh_jumbotron();
 			set_interval_when_visible(document, refresh_jumbotron, 10000);
 		}
 		$(on_load);
-	</script>
-</body>
-</html>
+	
+        </script>
+    </body>
+</html>
```

### html2text {}

```diff
@@ -1,13 +1,13 @@
 {% load static %} {% load custom_tags_and_filters %}
 {# This meta-tag forcefully disables 'compatibility mode' in Internet Explorer
 because it causes rendering problems. #}
 {# jQuery #}
 }">
 {# Bootstrap #}
 }">
-}"/>
-}"/> {# NEMO #}
+}" />
+}" /> {# NEMO #}
 }">
-}"/>
+}" />
 {{ site_title }} is offline
 {% include 'base/footer.html' %}
```

## NEMO/templates/jumbotron/jumbotron_content.html

```diff
@@ -1,86 +1,112 @@
 <div class="row" style="background:transparent">
-	{% if areas_exist %}
-		<div class="{% if alerts or disabled_resources %}{% if tools_exist %}col-lg-4{% else %}col-lg-6{% endif %}{% else %}{% if tools_exist %}col-lg-6{% else %}col-lg-12{% endif %}{% endif %}" style="text-align:center; background:transparent">
-			{% if not facility_occupants %}
-				<h2>Nobody is in an access controlled<br>{{ facility_name }} area</h2>
-			{% else %}
-				{% regroup facility_occupants by area as area_occupants %}
-				<h2>Area occupancy</h2>
-				<p>
-					Staff members are highlighted in <span class="bg-success">&nbsp;green&nbsp;</span><br>
-                    Service personnel are highlighted in <span class="bg-warning">&nbsp;orange&nbsp;</span><br>
+    {% if areas_exist %}
+        <div class="{% if alerts or disabled_resources %}{% if tools_exist %}col-lg-4{% else %}col-lg-6{% endif %}{% else %}{% if tools_exist %}col-lg-6{% else %}col-lg-12{% endif %}{% endif %}"
+             style="text-align:center;
+                    background:transparent">
+            {% if not facility_occupants %}
+                <h2>
+                    Nobody is in an access controlled
+                    <br>
+                    {{ facility_name }} area
+                </h2>
+            {% else %}
+                {% regroup facility_occupants by area as area_occupants %}
+                <h2>Area occupancy</h2>
+                <p>
+                    Staff members are highlighted in <span class="bg-success">&nbsp;green&nbsp;</span>
+                    <br>
+                    Service personnel are highlighted in <span class="bg-warning">&nbsp;orange&nbsp;</span>
+                    <br>
                     {% if reservations_can_expire %}
-                    Users with expired reservations are highlighted in <span class="bg-danger">&nbsp;red&nbsp;</span>
+                        Users with expired reservations are highlighted in <span class="bg-danger">&nbsp;red&nbsp;</span>
                     {% endif %}
                     Users logged in outside of their allowed schedule are highlighted in <span class="bg-danger">&nbsp;red&nbsp;</span>
-				</p>
-				{% for area in area_occupants %}
-					{% include 'occupancy/occupancy_content.html' with area=area.grouper occupants=area.list transparent_bg=True center_th=True %}
-				{% endfor %}
-			{% endif %}
-		</div>
-	{% endif %}
-	{% if tools_exist %}
-		<div class="{% if alerts or disabled_resources %}{% if areas_exist %}col-lg-4{% else %}col-lg-6{% endif %}{% else %}{% if areas_exist %}col-lg-6{% else %}col-lg-12{% endif %}{% endif %}" style="text-align:center; background:transparent">
-			{% if usage_events %}
-				<h2>Tool usage</h2>
-				<p>{% if usage_events|length > 1 %}{{ usage_events|length }} tools are in use{% endif %}&nbsp;</p>
-				{# Panel is used to make table borders rounded. #}
-				<div class="panel panel-default" style="background:transparent">
-					<table class="table table-bordered table-condensed" style="background:transparent">
-						<thead>
-							<tr>
-								<th style="text-align: center">Tool</th>
-								<th style="text-align: center">User</th>
-								<th style="text-align: center">In use since...</th>
-							</tr>
-						</thead>
-						<tbody style="background:transparent">
-						{% for u in usage_events %}
-							<tr {% if u.operator.is_any_part_of_staff %}class="success" {% elif u.operator.is_service_personnel %}class="warning" {% else %}style="background:transparent"{% endif %}>
-								<td>{{ u.tool }}</td>
-								<td><span>{{ u.operator.first_name }} {{ u.operator.last_name }}{% if u.user != u.operator %} on behalf of {{ u.user.first_name }} {{ u.user.last_name }}{% endif %}</span></td>
-								<td>{{ u.start|date:"MONTH_DAY_FORMAT" }} @ {{ u.start|time }}</td>
-							</tr>
-						{% endfor %}
-						</tbody>
-					</table>
-				</div>
-			{% else %}
-				<h2>No {{ facility_name }} tools are in use</h2>
-			{% endif %}
-		</div>
-	{% endif %}
-	{% if alerts or disabled_resources %}
-		<div class="{% if areas_exist and tools_exist %}col-lg-4{% else %}col-lg-6{% endif %}" style="text-align:center">
-			<h2>Alerts and outages</h2>
-			<p>{# For spacing #}&nbsp;</p>
-			{% for a in alerts %}
-				<div class="alert alert-danger">
-					<table style="width:100%">
-						<tr>
-							<td style="width:100px"><span class="glyphicon glyphicon-alert danger-highlight" style="font-size:64px"></span></td>
-							<td>
-								{% if a.title %}<span style="font-weight:bold">{{ a.title }}</span><br>{% endif %}
-								{{ a.contents|linebreaks }}
-							</td>
-						</tr>
-					</table>
-				</div>
-			{% endfor %}
-			{% for r in disabled_resources %}
-				<div class="alert alert-danger">
-					<table style="width:100%">
-						<tr>
-							<td style="width:100px"><span class="glyphicon glyphicon-leaf danger-highlight" style="font-size:64px"></span></td>
-							<td>
-								<span style="font-weight:bold">Resource outage: {{ r }}</span><br>
-								{{ r.restriction_message }}
-							</td>
-						</tr>
-					</table>
-				</div>
-			{% endfor %}
-		</div>
-	{% endif %}
-</div>
+                </p>
+                {% for area in area_occupants %}
+                    {% include 'occupancy/occupancy_content.html' with area=area.grouper occupants=area.list transparent_bg=True center_th=True %}
+                {% endfor %}
+            {% endif %}
+        </div>
+    {% endif %}
+    {% if tools_exist %}
+        <div class="{% if alerts or disabled_resources %}{% if areas_exist %}col-lg-4{% else %}col-lg-6{% endif %}{% else %}{% if areas_exist %}col-lg-6{% else %}col-lg-12{% endif %}{% endif %}"
+             style="text-align:center;
+                    background:transparent">
+            {% if usage_events %}
+                <h2>Tool usage</h2>
+                <p>
+                    {% if usage_events|length > 1 %}{{ usage_events|length }} tools are in use{% endif %}
+                    &nbsp;
+                </p>
+                {# Panel is used to make table borders rounded. #}
+                <div class="panel panel-default" style="background:transparent">
+                    <table class="table table-bordered table-condensed" style="background:transparent">
+                        <thead>
+                            <tr>
+                                <th style="text-align: center">Tool</th>
+                                <th style="text-align: center">User</th>
+                                <th style="text-align: center">In use since...</th>
+                            </tr>
+                        </thead>
+                        <tbody style="background:transparent">
+                            {% for u in usage_events %}
+                                <tr {% if u.operator.is_any_part_of_staff %}class="success" {% elif u.operator.is_service_personnel %}class="warning" {% else %}style="background:transparent"{% endif %}>
+                                    <td>{{ u.tool }}</td>
+                                    <td>
+                                        <span>{{ u.operator.first_name }} {{ u.operator.last_name }}
+                                            {% if u.user != u.operator %}on behalf of {{ u.user.first_name }} {{ u.user.last_name }}{% endif %}
+                                        </span>
+                                    </td>
+                                    <td>{{ u.start|date:"MONTH_DAY_FORMAT" }} @ {{ u.start|time }}</td>
+                                </tr>
+                            {% endfor %}
+                        </tbody>
+                    </table>
+                </div>
+            {% else %}
+                <h2>No {{ facility_name }} tools are in use</h2>
+            {% endif %}
+        </div>
+    {% endif %}
+    {% if alerts or disabled_resources %}
+        <div class="{% if areas_exist and tools_exist %}col-lg-4{% else %}col-lg-6{% endif %}"
+             style="text-align:center">
+            <h2>Alerts and outages</h2>
+            <p>{# For spacing #}&nbsp;</p>
+            {% for a in alerts %}
+                <div class="alert alert-danger">
+                    <table style="width:100%">
+                        <tr>
+                            <td style="width:100px">
+                                <span class="glyphicon glyphicon-alert danger-highlight" style="font-size:64px"></span>
+                            </td>
+                            <td>
+                                {% if a.title %}
+                                    <span style="font-weight:bold">{{ a.title }}</span>
+                                    <br>
+                                {% endif %}
+                                {{ a.contents|safe|linebreaksbr }}
+                            </td>
+                        </tr>
+                    </table>
+                </div>
+            {% endfor %}
+            {% for r in disabled_resources %}
+                <div class="alert alert-danger">
+                    <table style="width:100%">
+                        <tr>
+                            <td style="width:100px">
+                                <span class="glyphicon glyphicon-leaf danger-highlight" style="font-size:64px"></span>
+                            </td>
+                            <td>
+                                <span style="font-weight:bold">Resource outage: {{ r }}</span>
+                                <br>
+                                {{ r.restriction_message }}
+                            </td>
+                        </tr>
+                    </table>
+                </div>
+            {% endfor %}
+        </div>
+    {% endif %}
+</div>
```

### html2text {}

```diff
@@ -12,24 +12,24 @@
 {% for area in area_occupants %} {% include 'occupancy/occupancy_content.html'
 with area=area.grouper occupants=area.list transparent_bg=True center_th=True
 %} {% endfor %} {% endif %}
 {% endif %} {% if tools_exist %}
 {% if usage_events %}
 ********** TTooooll uussaaggee **********
 {% if usage_events|length > 1 %}{{ usage_events|length }} tools are in use{%
-endif %} 
+endif %}  
 {# Panel is used to make table borders rounded. #}
 TTooooll UUsseerr IInn uussee ssiinnccee......
 {% else %}
 ********** NNoo {{{{ ffaacciilliittyy__nnaammee }}}} ttoooollss aarree iinn uussee **********
 {% endif %}
 {% endif %} {% if alerts or disabled_resources %}
 ********** AAlleerrttss aanndd oouuttaaggeess **********
 {# For spacing #} 
 {% for a in alerts %}
- {% if a.title %}{{ a.title }}
- {% endif %} {{ a.contents|linebreaks }}
+ {% if a.title %} {{ a.title }}
+ {% endif %} {{ a.contents|safe|linebreaksbr }}
 {% endfor %} {% for r in disabled_resources %}
  Resource outage: {{ r }}
  {{ r.restriction_message }}
 {% endfor %}
 {% endif %}
```

## NEMO/templates/knowledge_base/knowledge_base.html

```diff
@@ -47,28 +47,28 @@
         </div>
     {% else %}
         <p>There are currently no knowledge base items.</p>
         {% if user.is_superuser and "django.contrib.admin"|app_installed %}
             {% with knowledge_base_url='admin:NEMO_'|concat:kind|concat:'knowledgebaseitem_changelist' %}
                 <p>
                     Please go to <a href="{% url knowledge_base_url %}">Administration -> Detailed Administration
-                    -> {{ kind|capfirst }} knowledge base items</a>
-                </p>
-            {% endwith %}
-        {% endif %}
+                -> {{ kind|capfirst }} knowledge base items</a>
+            </p>
+        {% endwith %}
     {% endif %}
-    <script>
+{% endif %}
+<script>
         function get_knowledge_base_item(jquery_event, search_selection, dataset_name) {
             window.location.href = "{% url 'knowledge_base_item' kind 999 %}".replace('999', search_selection.id);
         }
 
         function on_load() {
             $("#search").autocomplete('knowledge_base_items', get_knowledge_base_item, '{% url 'knowledge_base_items_search' kind %}', true);
         }
 
         function open_doc(url) {
             ajax_get(url, undefined, ajax_success_callback, ajax_failure_callback("Unable to display document"));
         }
 
         window.addEventListener('load', on_load, true);
-    </script>
-{% endblock %}
+</script>
+{% endblock %}
```

## NEMO/templates/knowledge_base/knowledge_base_base.html

```diff
@@ -1,12 +1,14 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block content %}
     <div id="knowledge-base-tabs" class="clearfix">
-        <h1 class="knowledge-base-title pull-left">{% block knowledge_base_title %}Knowledge base{% endblock %}</h1>
+        <h1 class="knowledge-base-title pull-left">
+            {% block knowledge_base_title %}Knowledge base{% endblock %}
+        </h1>
         {% if user.is_any_part_of_staff %}
             <ul class="nav nav-pills nav-pills-spacer knowledge-base-tabs-nav" id="tabs">
                 <li class="{% if kind == 'user' %}active{% endif %}">
                     <a href="#knowledge-base" onclick="location.href = '{% url "knowledge_base" "user" %}'">User</a>
                 </li>
                 <li class="{% if kind == 'staff' %}active{% endif %}">
                     <a href="#knowledge-base" onclick="location.href = '{% url "knowledge_base" "staff" %}'">Staff</a>
@@ -15,11 +17,9 @@
         {% endif %}
     </div>
     <div class="tab-content">
         <div class="tab-pane active" id="knowledge-base">
             {% block tab_content %}{% endblock %}
         </div>
     </div>
-    <script>
-        $("#tabs").find("a").click(switch_tab);
-    </script>
-{% endblock %}
+    <script>$("#tabs").find("a").click(switch_tab);</script>
+{% endblock %}
```

## NEMO/templates/knowledge_base/knowledge_base_items.html

```diff
@@ -1,50 +1,60 @@
 {% load custom_tags_and_filters %}
 <div class="tab-content panel panel-default">
     {% if category %}
-        <div class="panel-heading pointer" data-toggle="collapse" data-target="#items-{{ category.id }}"
+        <div class="panel-heading pointer"
+             data-toggle="collapse"
+             data-target="#items-{{ category.id }}"
              onclick="toggle_details($(this).children(':first'))">
-            <h3 class="panel-title pointer"><i class="glyphicon glyphicon-chevron-down chevron"></i> {{ category }}</h3>
+            <h3 class="panel-title pointer">
+                <i class="glyphicon glyphicon-chevron-down chevron"></i> {{ category }}
+            </h3>
         </div>
         <div class="collapse in" id="items-{{ category.id }}">
-        <div class="panel-body">
-    {% endif %}
-    <div class="tab-pane active" style="padding: 15px">
-        <ul style="padding-left: 15px">
-            {% for item in items %}
-                <li id="knowledge_base_item_{{ item.id }}" style="margin-bottom: 15px"><u>{{ item.name }}:</u>
-                    {% if item.description %}
-                        <div style="margin: 5px 0">{{ item.description|safe|linebreaksbr }}</div>
-                    {% endif %}
-                    <ul>
-                        {% if kind == "user" %}
-                            {% for doc in item.userknowledgebaseitemdocuments_set.all %}
-                                {% if doc.can_be_embedded %}
-                                    {% with content_type=doc|content_type %}
-                                        <li><a href="#"
-                                               onclick="open_doc('{% url 'media_view' 'true' content_type.id doc.id %}')">{{ doc.filename }}</a>
-                                        </li>
-                                    {% endwith %}
-                                {% else %}
-                                    <li><a href="{{ doc.link }}" target="_blank">{{ doc.filename }}</a></li>
-                                {% endif %}
-                            {% endfor %}
-                        {% else %}
-                            {% for doc in item.staffknowledgebaseitemdocuments_set.all %}
-                                {% if doc.can_be_embedded %}
-                                    {% with content_type=doc|content_type %}
-                                        <li><a href="#"
-                                               onclick="open_doc('{% url 'media_view' 'true' content_type.id doc.id %}')">{{ doc.filename }}</a>
-                                        </li>
-                                    {% endwith %}
+            <div class="panel-body">
+            {% endif %}
+            <div class="tab-pane active" style="padding: 15px">
+                <ul style="padding-left: 15px">
+                    {% for item in items %}
+                        <li id="knowledge_base_item_{{ item.id }}" style="margin-bottom: 15px">
+                            <u>{{ item.name }}:</u>
+                            {% if item.description %}<div style="margin: 5px 0">{{ item.description|safe|linebreaksbr }}</div>{% endif %}
+                            <ul>
+                                {% if kind == "user" %}
+                                    {% for doc in item.userknowledgebaseitemdocuments_set.all %}
+                                        {% if doc.can_be_embedded %}
+                                            {% with content_type=doc|content_type %}
+                                                <li>
+                                                    <a href="#" onclick="open_doc('{% url 'media_view' 'true' content_type.id doc.id %}')">{{ doc.filename }}</a>
+                                                </li>
+                                            {% endwith %}
+                                        {% else %}
+                                            <li>
+                                                <a href="{{ doc.link }}" target="_blank">{{ doc.filename }}</a>
+                                            </li>
+                                        {% endif %}
+                                    {% endfor %}
                                 {% else %}
-                                    <li><a href="{{ doc.link }}" target="_blank">{{ doc.filename }}</a></li>
+                                    {% for doc in item.staffknowledgebaseitemdocuments_set.all %}
+                                        {% if doc.can_be_embedded %}
+                                            {% with content_type=doc|content_type %}
+                                                <li>
+                                                    <a href="#" onclick="open_doc('{% url 'media_view' 'true' content_type.id doc.id %}')">{{ doc.filename }}</a>
+                                                </li>
+                                            {% endwith %}
+                                        {% else %}
+                                            <li>
+                                                <a href="{{ doc.link }}" target="_blank">{{ doc.filename }}</a>
+                                            </li>
+                                        {% endif %}
+                                    {% endfor %}
                                 {% endif %}
-                            {% endfor %}
-                        {% endif %}
-                    </ul>
-                </li>
-            {% endfor %}
-        </ul>
-    </div>
-    {% if category %}</div></div>{% endif %}
-</div>
+                            </ul>
+                        </li>
+                    {% endfor %}
+                </ul>
+            </div>
+            {% if category %}
+            </div>
+        </div>
+    {% endif %}
+</div>
```

## NEMO/templates/maintenance/closed_task_details.html

```diff
@@ -1,46 +1,53 @@
 {% load humanize %}
 <h2>{{ task.tool.name }} task</h2>
-Created by {{ task.creator }} on {{ task.creation_time }} ({{ task.creation_time|naturaltime }}).<br>
-Urgency: {{ task.get_urgency_display|lower }}<br>
+Created by {{ task.creator }} on {{ task.creation_time }} ({{ task.creation_time|naturaltime }}).
+<br>
+Urgency: {{ task.get_urgency_display|lower }}
+<br>
 {% if task.force_shutdown %}
-	<span class="danger-highlight glyphicon glyphicon-fire"></span> This task forced the tool to remain shut down.<br>
+    <span class="danger-highlight glyphicon glyphicon-fire"></span> This task forced the tool to remain shut down.
+    <br>
 {% endif %}
 {% if task.safety_hazard %}
-	<span class="danger-highlight glyphicon glyphicon-fire"></span> This task was considered a safety hazard to the {{ facility_name }}.<br>
+    <span class="danger-highlight glyphicon glyphicon-fire"></span> This task was considered a safety hazard to the {{ facility_name }}.
+    <br>
 {% endif %}
 {% if task.problem_category %}
-	Problem category: {{ task.problem_category|lower }}<br>
+    Problem category: {{ task.problem_category|lower }}
+    <br>
 {% endif %}
 <p>
-	<h4>Problem description</h4>
-	{{ task.problem_description|linebreaksbr }}
-<p>
-{% if task.task_images %}
-	<div>images:
-		<ul>
-			{% for image in task.task_images %}
-				<li><a href="{{ image.image.url }}" target="_blank" style="margin-right: 5px">{{ image.filename }}</a></li>
-			{% endfor %}
-		</ul>
-	</div>
-{% endif %}
-{% if task.progress_description %}
-	<p>
-		<h4>Progress</h4>
-		{{ task.progress_description|linebreaksbr }}
-	<p>
-{% endif %}
-{% if task.cancelled %}
-	<p>
-		<h4 class="primary-highlight">Cancelled on {{ task.resolution_time }}</h4>
-	<p>
-{% endif %}
-{% if task.resolved %}
-	<h4 class="success-highlight">Resolved by {{ task.resolver }} on {{ task.resolution_time }}</h4>
-	{% if task.resolution_category %}
-		Resolution category: {{ task.resolution_category|lower }}<br>
-	{% endif %}
-	{% if task.resolution_description %}
-		{{ task.resolution_description|linebreaksbr }}
-	{% endif %}
-{% endif %}
+    <h4>Problem description</h4>
+    {{ task.problem_description|linebreaksbr }}
+    <p>
+        {% if task.task_images %}
+            <div>
+                images:
+                <ul>
+                    {% for image in task.task_images %}
+                        <li>
+                            <a href="{{ image.image.url }}" target="_blank" style="margin-right: 5px">{{ image.filename }}</a>
+                        </li>
+                    {% endfor %}
+                </ul>
+            </div>
+        {% endif %}
+        {% if task.progress_description %}
+            <p>
+                <h4>Progress</h4>
+                {{ task.progress_description|linebreaksbr }}
+                <p>
+                {% endif %}
+                {% if task.cancelled %}
+                    <p>
+                        <h4 class="primary-highlight">Cancelled on {{ task.resolution_time }}</h4>
+                        <p>
+                        {% endif %}
+                        {% if task.resolved %}
+                            <h4 class="success-highlight">Resolved by {{ task.resolver }} on {{ task.resolution_time }}</h4>
+                            {% if task.resolution_category %}
+                                Resolution category: {{ task.resolution_category|lower }}
+                                <br>
+                            {% endif %}
+                            {% if task.resolution_description %}{{ task.resolution_description|linebreaksbr }}{% endif %}
+                        {% endif %}
```

### html2text {}

```diff
@@ -21,9 +21,9 @@
 {{ task.progress_description|linebreaksbr }}
 {% endif %} {% if task.cancelled %}
 ****** CCaanncceelllleedd oonn {{{{ ttaasskk..rreessoolluuttiioonn__ttiimmee }}}} ******
 {% endif %} {% if task.resolved %}
 ****** RReessoollvveedd bbyy {{{{ ttaasskk..rreessoollvveerr }}}} oonn {{{{ ttaasskk..rreessoolluuttiioonn__ttiimmee }}}} ******
 {% if task.resolution_category %} Resolution category: {
 { task.resolution_category|lower }}
-{% endif %} {% if task.resolution_description %} {
-{ task.resolution_description|linebreaksbr }} {% endif %} {% endif %}
+{% endif %} {% if task.resolution_description %}{
+{ task.resolution_description|linebreaksbr }}{% endif %} {% endif %}
```

## NEMO/templates/maintenance/maintenance.html

```diff
@@ -1,95 +1,117 @@
 {% extends 'base.html' %}
 {% load humanize %}
 {% block extrahead %}
-	{% load static %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
+    {% load static %}
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block title %}Maintenance{% endblock %}
 {% block body %}
-
-	<div class="container-fluid">
-		<h1 class="pull-left" style="margin-right:20px; margin-top:0; margin-bottom:0">Maintenance</h1>
-		<ul class="nav nav-pills" id="tabs">
-			<li class="active"><a href="#pending">Pending</a></li>
-			<li><a href="#closed">Closed</a></li>
-		</ul>
-	</div>
-
-	<div class="tab-content">
-		<div id="pending" class="tab-pane active">
-			<div class="split-screen-left-panel">
-				<table id="pending_tasks" class="table table-hover">
-					<thead><tr>
-						<th><a href="{% url 'maintenance' sort_by='urgency' %}">Urgency</a></th>
-						<th><a href="{% url 'maintenance' sort_by='force_shutdown' %}">Severity</a></th>
-						<th><a href="{% url 'maintenance' sort_by='tool' %}">Tool</a></th>
-						<th><a href="{% url 'maintenance' sort_by='problem_category' %}">Category</a></th>
-						<th><a href="{% url 'maintenance' sort_by='last_updated' %}">Last updated</a></th>
-						<th><a href="{% url 'maintenance' sort_by='creation_time' %}">Created</a></th>
-						<th>Description</th>
-					</tr></thead>
-					{% for task in pending_tasks %}
-						<tr onclick="pending_task_details(this, '{% url 'task_details' task.id %}')" data-task-id="{{ task.id }}">
-							<td>{{ task.get_urgency_display }}</td>
-							<td>{% if task.force_shutdown %}
-									<span class="glyphicon glyphicon-fire danger-highlight"></span>
-								{% else %}
-									<span class="glyphicon glyphicon-wrench warning-highlight"></span>
-								{% endif %}
-							</td>
-							<td>{{ task.tool.name }}</td>
-							<td>{{ task.problem_category|default_if_none:"" }}</td>
-							<td>{% if task.last_updated and task.last_updated_by %}{{ task.last_updated|naturaltime }} by {{ task.last_updated_by.first_name }}{% endif %}</td>
-							<td>{{ task.creation_time|naturaltime }}</td>
-							<td>{{ task.problem_description }}</td>
-						</tr>
-					{% endfor %}
-				</table>
-			</div>
-			<div id="pending_task_details" class="split-screen-right-panel"></div>
-		</div>
-
-		<div id="closed" class="tab-pane">
-			<div class="split-screen-left-panel">
-				<table id="closed_tasks" class="table table-hover">
-					<thead><tr>
-						<th>Urgency</th>
-						<th>Severity</th>
-						<th>Tool</th>
-						<th>Category</th>
-						<th>Created</th>
-						<th>Resolved</th>
-						<th>Description</th>
-					</tr></thead>
-					{% for task in closed_tasks %}
-						<tr onclick="closed_task_details(this, '{% url 'task_details' task.id %}')">
-							<td>{{ task.get_urgency_display }}</td>
-							<td>{% if task.force_shutdown %}
-									<span class="glyphicon glyphicon-fire danger-highlight"></span>
-								{% else %}
-									<span class="glyphicon glyphicon-wrench warning-highlight"></span>
-								{% endif %}
-							</td>
-							<td>{{ task.tool.name }}</td>
-							<td>{{ task.problem_category|default_if_none:"" }}</td>
-							<td>{{ task.creation_time }}</td>
-							<td>{{ task.resolution_time }}</td>
-							<td>{{ task.problem_description }}</td>
-						</tr>
-					{% endfor %}
-				</table>
-			</div>
-			<div id="closed_task_details" class="split-screen-right-panel"></div>
-		</div>
-	</div>
-
-	<script>
-
+    <div class="container-fluid">
+        <h1 class="pull-left" style="margin-right:20px; margin-top:0; margin-bottom:0">Maintenance</h1>
+        <ul class="nav nav-pills" id="tabs">
+            <li class="active">
+                <a href="#pending">Pending</a>
+            </li>
+            <li>
+                <a href="#closed">Closed</a>
+            </li>
+        </ul>
+    </div>
+    <div class="tab-content">
+        <div id="pending" class="tab-pane active">
+            <div class="split-screen-left-panel">
+                <table id="pending_tasks" class="table table-hover">
+                    <thead>
+                        <tr>
+                            <th>
+                                <a href="{% url 'maintenance' sort_by='urgency' %}">Urgency</a>
+                            </th>
+                            <th>
+                                <a href="{% url 'maintenance' sort_by='force_shutdown' %}">Severity</a>
+                            </th>
+                            <th>
+                                <a href="{% url 'maintenance' sort_by='tool' %}">Tool</a>
+                            </th>
+                            <th>
+                                <a href="{% url 'maintenance' sort_by='problem_category' %}">Category</a>
+                            </th>
+                            <th>
+                                <a href="{% url 'maintenance' sort_by='last_updated' %}">Last updated</a>
+                            </th>
+                            <th>
+                                <a href="{% url 'maintenance' sort_by='creation_time' %}">Created</a>
+                            </th>
+                            <th>Description</th>
+                        </tr>
+                    </thead>
+                    {% for task in pending_tasks %}
+                        <tr onclick="pending_task_details(this, '{% url 'task_details' task.id %}')"
+                            data-task-id="{{ task.id }}">
+                            <td>{{ task.get_urgency_display }}</td>
+                            <td>
+                                {% if task.force_shutdown %}
+                                    <span class="glyphicon glyphicon-fire danger-highlight"></span>
+                                {% else %}
+                                    <span class="glyphicon glyphicon-wrench warning-highlight"></span>
+                                {% endif %}
+                            </td>
+                            <td>{{ task.tool.name }}</td>
+                            <td>{{ task.problem_category|default_if_none:"" }}</td>
+                            <td>
+                                {% if task.last_updated and task.last_updated_by %}
+                                    {{ task.last_updated|naturaltime }} by {{ task.last_updated_by.first_name }}
+                                {% endif %}
+                            </td>
+                            <td>{{ task.creation_time|naturaltime }}</td>
+                            <td>{{ task.problem_description }}</td>
+                        </tr>
+                    {% endfor %}
+                </table>
+            </div>
+            <div id="pending_task_details" class="split-screen-right-panel"></div>
+        </div>
+        <div id="closed" class="tab-pane">
+            <div class="split-screen-left-panel">
+                <table id="closed_tasks" class="table table-hover">
+                    <thead>
+                        <tr>
+                            <th>Urgency</th>
+                            <th>Severity</th>
+                            <th>Tool</th>
+                            <th>Category</th>
+                            <th>Created</th>
+                            <th>Resolved</th>
+                            <th>Description</th>
+                        </tr>
+                    </thead>
+                    {% for task in closed_tasks %}
+                        <tr onclick="closed_task_details(this, '{% url 'task_details' task.id %}')">
+                            <td>{{ task.get_urgency_display }}</td>
+                            <td>
+                                {% if task.force_shutdown %}
+                                    <span class="glyphicon glyphicon-fire danger-highlight"></span>
+                                {% else %}
+                                    <span class="glyphicon glyphicon-wrench warning-highlight"></span>
+                                {% endif %}
+                            </td>
+                            <td>{{ task.tool.name }}</td>
+                            <td>{{ task.problem_category|default_if_none:"" }}</td>
+                            <td>{{ task.creation_time }}</td>
+                            <td>{{ task.resolution_time }}</td>
+                            <td>{{ task.problem_description }}</td>
+                        </tr>
+                    {% endfor %}
+                </table>
+            </div>
+            <div id="closed_task_details" class="split-screen-right-panel"></div>
+        </div>
+    </div>
+    <script>
 	function pending_task_details(row, url)
 	{
 		$("#pending_tasks tr").removeClass('active');
 		$(row).addClass('active');
 		$("#pending_task_details").html("Loading task details...").load(url, undefined, on_pending_task_details_failure);
 		save_active_task();
 	}
@@ -158,9 +180,10 @@
 			let row = $("#pending_tasks tr[data-task-id='" + active_row + "']");
 			row.click();
 		}
 	}
 
 	$(on_load);
 
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -4,19 +4,19 @@
 }" /> {% endblock %} {% block title %}Maintenance{% endblock %} {% block body
 %}
 ************ MMaaiinntteennaannccee ************
     * _P_e_n_d_i_n_g
     * _C_l_o_s_e_d
 _UU_rr_gg_ee_nn_cc_yy                  _SS_ee_vv_ee_rr_ii_tt_yy            _TT_oo_oo_ll           _CC_aa_tt_ee_gg_oo_rr_yy                               _LL_aa_ss_tt_ _uu_pp_dd_aa_tt_ee_dd                    _CC_rr_ee_aa_tt_ee_dd                        DDeessccrriippttiioonn
                                                                                                    {% if task.last_updated and
-{                        {% if               {              {                                      task.last_updated_by %}{        {                              {
+{                        {% if               {              {                                      task.last_updated_by %} {       {                              {
 {                        task.force_shutdown {              {                                      { task.last_updated|naturaltime {                              {
 task.get_urgency_display %} {% else %} {%    task.tool.name task.problem_category|default_if_none: }} by {                         task.creation_time|naturaltime task.problem_description
 }}                       endif %}            }}             "" }}                                  {                               }}                             }}
                                                                                                    task.last_updated_by.first_name
-                                                                                                   }}{% endif %}
+                                                                                                   }} {% endif %}
 UUrrggeennccyy                  SSeevveerriittyy            TTooooll           CCaatteeggoorryy                               CCrreeaatteedd            RReessoollvveedd             DDeessccrriippttiioonn
 {                        {% if               {              {                                      {                  {                    {
 {                        task.force_shutdown {              {                                      {                  {                    {
 task.get_urgency_display %} {% else %} {%    task.tool.name task.problem_category|default_if_none: task.creation_time task.resolution_time task.problem_description
 }}                       endif %}            }}             "" }}                                  }}                 }}                   }}
 {% endblock %}
```

## NEMO/templates/maintenance/pending_task_details.html

```diff
@@ -1,170 +1,217 @@
 {% load humanize %}
 {% load custom_tags_and_filters %}
 <h2>{{ task.tool.name }} task</h2>
 <p class="grey">
-	Primary tool owner: {{ task.tool.primary_owner }}<br>
-	{% if task.tool.backup_owners.all.exists %}Backup tool owner{{ task.tool.backup_owners.all.count|pluralize }}: {% for x in task.tool.backup_owners.all %}{{ x }}{% if not forloop.last %}, {% else %}{% endif %}{% endfor %}{% endif %}
+    Primary tool owner: {{ task.tool.primary_owner }}
+    <br>
+    {% if task.tool.backup_owners.all.exists %}
+        Backup tool owner{{ task.tool.backup_owners.all.count|pluralize }}:
+        {% for x in task.tool.backup_owners.all %}
+            {{ x }}
+            {% if not forloop.last %}
+                ,
+            {% else %}
+            {% endif %}
+        {% endfor %}
+    {% endif %}
 </p>
 <div style="margin-bottom: 12px">
-	{% if task.tool.in_use %}
-		{% if task.tool.get_current_usage_event.operator.id == user.id %}
+    {% if task.tool.in_use %}
+        {% if task.tool.get_current_usage_event.operator.id == user.id %}
             {% url 'disable_tool' task.tool.id as disable_tool_url %}
             {% button id="interlock" type="delete" onclick="disable_tool('"|concat:disable_tool_url|concat:"');" value="Disable tool" icon="glyphicon-stop" %}
-		{% else %}
+        {% else %}
             {% button type="warn" disabled="disabled" icon="glyphicon-ban-circle" value="Tool in use" %}
-		{% endif %}
-	{% else %}
-		{% if user.active_project_count == 1 %}
+        {% endif %}
+    {% else %}
+        {% if user.active_project_count == 1 %}
             {% url 'enable_tool' tool_id=task.tool.id user_id=user.id project_id=user.active_projects.0.id staff_charge='false' as enable_tool_one_project %}
             {% button id="interlock" type="save" onclick="enable_tool('"|concat:enable_tool_one_project|concat:"');" value="Enable tool" icon="glyphicon-play" %}
-		{% elif user.active_project_count > 1 %}
-			<div class="btn-group">
-				<button id="interlock" type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown"><i class="glyphicon glyphicon-play"></i> Enable tool <span class="caret"></span></button>
-				<ul class="dropdown-menu">
-					<li class="dropdown-header">Using which project?</li>
-					{% for project in user.active_projects %}
-						<li><a href="javascript:void(0)" onclick="enable_tool('{% url 'enable_tool' tool_id=task.tool.id user_id=user.id project_id=project.id staff_charge='false' %}')">{% project_selection_display project %}</a></li>
-					{% endfor %}
-				</ul>
-			</div>
-		{% endif %}
-	{% endif %}
+        {% elif user.active_project_count > 1 %}
+            <div class="btn-group">
+                <button id="interlock" type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown">
+                    <i class="glyphicon glyphicon-play"></i> Enable tool <span class="caret"></span>
+                </button>
+                <ul class="dropdown-menu">
+                    <li class="dropdown-header">Using which project?</li>
+                    {% for project in user.active_projects %}
+                        <li>
+                            <a href="javascript:void(0)"
+                               onclick="enable_tool('{% url 'enable_tool' tool_id=task.tool.id user_id=user.id project_id=project.id staff_charge='false' %}')">{% project_selection_display project %}</a>
+                        </li>
+                    {% endfor %}
+                </ul>
+            </div>
+        {% endif %}
+    {% endif %}
     {% url 'calendar' item_type='tool' item_id=task.tool.id as tool_calendar_url %}
     {% button value="Calendar" icon="glyphicon-share-alt" url=tool_calendar_url target="_blank" %}
     {% url 'tool_control' tool_id=task.tool.id as tool_control_url %}
     {% button value="Tool control" icon="glyphicon-share-alt" url=tool_control_url target="_blank" %}
 </div>
 <span style="color:grey">Created by {{ task.creator }} on {{ task.creation_time }} ({{ task.creation_time|naturaltime }}).</span>
 <p>
-{% if task.last_updated and task.last_updated_by %}
-	<span style="color:grey">Last updated by {{ task.last_updated_by }} on {{ task.last_updated }} ({{ task.last_updated|naturaltime }}).</span>
-{% endif %}
-
-<p>
-
-<form class="form-horizontal" action="{% url 'update_task' task.id %}" method="post" enctype="multipart/form-data">
-	{% csrf_token %}
-	<input type="hidden" name="next_page" value="maintenance">
-	<input type="hidden" name="tool" value="{{ task.tool.id }}">
-	<div class="form-group">
-		<label for="urgency" class="control-label col-lg-3">Urgency</label>
-		<div class="col-lg-3">
-			<select id="urgency" name="urgency" class="form-control">
-				{% for level in task.Urgency.Choices %}
-					<option value="{{ level.0 }}" {% if task.urgency == level.0 %}selected{% endif %}>{{ level.1 }}</option>
-				{% endfor %}
-			</select>
-		</div>
-	</div>
-	{% if initial_assessment_categories %}
-		<div class="form-group">
-			<label for="problem_category" class="control-label col-lg-3">Problem category</label>
-			<div class="col-lg-3">
-				<select id="problem_category" name="problem_category" class="form-control">
-					<option value="">&nbsp;</option>
-					{% for category in initial_assessment_categories %}
-						<option value="{{ category.id }}" {% if task.problem_category_id == category.id %}selected{% endif %}>{{ category.name }}</option>
-					{% endfor %}
-				</select>
-			</div>
-		</div>
-	{% endif %}
-	{% if task_statuses %}
-		<div class="form-group">
-			<label for="status" class="control-label col-lg-3">Status</label>
-			<div class="col-lg-3">
-				<select id="status" name="status" class="form-control">
-					<option value="">&nbsp;</option>
-					{% for status in task_statuses %}
-						<option {% if task.current_status == status.name %}selected{% endif %}>{{ status.name }}</option>
-					{% endfor %}
-				</select>
-			</div>
-		</div>
-	{% endif %}
-	<div class="form-group">
-		<label for="estimated_resolution_time" class="control-label col-lg-3">Estimated resolution</label>
-		<div class="col-lg-3">
-			<input id="estimated_resolution_time" name="estimated_resolution_time" type="text" class="form-control" autocomplete="off" value="{{ estimated_resolution_time|input_date_format }}">
-		</div>
-		<script>
+    {% if task.last_updated and task.last_updated_by %}
+        <span style="color:grey">Last updated by {{ task.last_updated_by }} on {{ task.last_updated }} ({{ task.last_updated|naturaltime }}).</span>
+    {% endif %}
+    <p>
+        <form class="form-horizontal"
+              action="{% url 'update_task' task.id %}"
+              method="post"
+              enctype="multipart/form-data">
+            {% csrf_token %}
+            <input type="hidden" name="next_page" value="maintenance">
+            <input type="hidden" name="tool" value="{{ task.tool.id }}">
+            <div class="form-group">
+                <label for="urgency" class="control-label col-lg-3">Urgency</label>
+                <div class="col-lg-3">
+                    <select id="urgency" name="urgency" class="form-control">
+                        {% for level in task.Urgency.Choices %}
+                            <option value="{{ level.0 }}" {% if task.urgency == level.0 %}selected{% endif %}>{{ level.1 }}</option>
+                        {% endfor %}
+                    </select>
+                </div>
+            </div>
+            {% if initial_assessment_categories %}
+                <div class="form-group">
+                    <label for="problem_category" class="control-label col-lg-3">Problem category</label>
+                    <div class="col-lg-3">
+                        <select id="problem_category" name="problem_category" class="form-control">
+                            <option value="">&nbsp;</option>
+                            {% for category in initial_assessment_categories %}
+                                <option value="{{ category.id }}" {% if task.problem_category_id == category.id %}selected{% endif %}>
+                                    {{ category.name }}
+                                </option>
+                            {% endfor %}
+                        </select>
+                    </div>
+                </div>
+            {% endif %}
+            {% if task_statuses %}
+                <div class="form-group">
+                    <label for="status" class="control-label col-lg-3">Status</label>
+                    <div class="col-lg-3">
+                        <select id="status" name="status" class="form-control">
+                            <option value="">&nbsp;</option>
+                            {% for status in task_statuses %}
+                                <option {% if task.current_status == status.name %}selected{% endif %}>{{ status.name }}</option>
+                            {% endfor %}
+                        </select>
+                    </div>
+                </div>
+            {% endif %}
+            <div class="form-group">
+                <label for="estimated_resolution_time" class="control-label col-lg-3">Estimated resolution</label>
+                <div class="col-lg-3">
+                    <input id="estimated_resolution_time"
+                           name="estimated_resolution_time"
+                           type="text"
+                           class="form-control"
+                           autocomplete="off"
+                           value="{{ estimated_resolution_time|input_date_format }}">
+                </div>
+                <script>
 			let timepicker_properties =
 			{
                 format: '{{ datetime_input_js_format }}',
 			};
 			$('#estimated_resolution_time').datetimepicker(timepicker_properties);
-		</script>
-	</div>
-	<div class="form-group">
-		<div class="col-lg-12">
-			<div class="checkbox"><label><input type="checkbox" name="force_shutdown" {% if task.force_shutdown %}checked{% endif %}> This task requires the {{ task.tool.name }} to be shutdown</label></div>
-			<div class="checkbox"><label><input type="checkbox" name="safety_hazard" {% if task.safety_hazard %}checked{% endif %}> This task is considered a potential safety hazard to the {{ facility_name }}</label></div>
-		</div>
-	</div>
-	<div class="form-group">
-		<div class="col-lg-12">
-			<div class="radio">
-				<label class="col-lg-2"><input type="radio" name="action" value="update" checked {% if completion_categories %}onchange="$('#resolution_category').toggle('collapsed')"{% endif %}> Update</label>
-				<label class="col-lg-2"><input type="radio" name="action" value="resolve" {% if completion_categories %}onchange="$('#resolution_category').toggle('collapsed')"{% endif %}> Resolve</label>
-			</div>
-		</div>
-	</div>
-	<div class="form-group">
-		<div class="col-lg-6">
-			<textarea name="description" class="form-control" rows="3" aria-label="Resolution description" placeholder="Please describe any actions being taken to resolve this task."></textarea>
-		</div>
-	</div>
-	<div id="resolution_category" class="form-group collapse">
-		<div class="col-lg-12">
-			<label for="category" class="control-label pull-left">Resolution category</label>
-			<div class="col-lg-4">
-				<select id="category" name="resolution_category" class="form-control">
-					<option value="">&nbsp;</option>
-					{% for c in completion_categories %}
-						<option value="{{ c.id }}">{{ c.name }}</option>
-					{% endfor %}
-				</select>
-			</div>
-		</div>
-	</div>
-	{% if task.task_images %}
-		<div class="form-group">
-			<div class="col-lg-6">images:
-				<ul>
-					{% for image in task.task_images %}
-						<li><a href="{{ image.image.url }}" target="_blank" style="margin-right: 5px">{{ image.filename }}</a></li>
-					{% endfor %}
-				</ul>
-			</div>
-		</div>
-	{% endif %}
-	<div class="form-group">
-		<div class="col-lg-6">
-			<input id="fileupload" type="file" name="image" multiple>
-		</div>
-	</div>
-	<div class="form-group">
-		<div class="col-lg-12">
-            {% button type="save" value="Save task" %}
-		</div>
-	</div>
-</form>
-
-<p>
-	<h4>Problem description</h4>
-	{{ task.problem_description|linebreaksbr }}
-<p>
-
-{% if task.progress_description %}
-	<p>
-		<h4>Progress</h4>
-		{{ task.progress_description|linebreaksbr }}
-	<p>
-{% endif %}
-
-{% if rendered_configuration_html %}
-	<p>
-		<h4>Configuration</h4>
-		{{ rendered_configuration_html }}
-	<p>
-{% endif %}
+		
+                </script>
+            </div>
+            <div class="form-group">
+                <div class="col-lg-12">
+                    <div class="checkbox">
+                        <label>
+                            <input type="checkbox" name="force_shutdown" {% if task.force_shutdown %}checked{% endif %}>
+                            This task requires the {{ task.tool.name }} to be shutdown
+                        </label>
+                    </div>
+                    <div class="checkbox">
+                        <label>
+                            <input type="checkbox" name="safety_hazard" {% if task.safety_hazard %}checked{% endif %}>
+                            This task is considered a potential safety hazard to the {{ facility_name }}
+                        </label>
+                    </div>
+                </div>
+            </div>
+            <div class="form-group">
+                <div class="col-lg-12">
+                    <div class="radio">
+                        <label class="col-lg-2">
+                            <input type="radio"
+                                   name="action"
+                                   value="update"
+                                   checked
+                                   {% if completion_categories %}onchange="$('#resolution_category').toggle('collapsed')"{% endif %}>
+                            Update
+                        </label>
+                        <label class="col-lg-2">
+                            <input type="radio"
+                                   name="action"
+                                   value="resolve"
+                                   {% if completion_categories %}onchange="$('#resolution_category').toggle('collapsed')"{% endif %}>
+                            Resolve
+                        </label>
+                    </div>
+                </div>
+            </div>
+            <div class="form-group">
+                <div class="col-lg-6">
+                    <textarea name="description"
+                              class="form-control"
+                              rows="3"
+                              aria-label="Resolution description"
+                              placeholder="Please describe any actions being taken to resolve this task."></textarea>
+                </div>
+            </div>
+            <div id="resolution_category" class="form-group collapse">
+                <div class="col-lg-12">
+                    <label for="category" class="control-label pull-left">Resolution category</label>
+                    <div class="col-lg-4">
+                        <select id="category" name="resolution_category" class="form-control">
+                            <option value="">&nbsp;</option>
+                            {% for c in completion_categories %}<option value="{{ c.id }}">{{ c.name }}</option>{% endfor %}
+                        </select>
+                    </div>
+                </div>
+            </div>
+            {% if task.task_images %}
+                <div class="form-group">
+                    <div class="col-lg-6">
+                        images:
+                        <ul>
+                            {% for image in task.task_images %}
+                                <li>
+                                    <a href="{{ image.image.url }}" target="_blank" style="margin-right: 5px">{{ image.filename }}</a>
+                                </li>
+                            {% endfor %}
+                        </ul>
+                    </div>
+                </div>
+            {% endif %}
+            <div class="form-group">
+                <div class="col-lg-6">
+                    <input id="fileupload" type="file" name="image" multiple>
+                </div>
+            </div>
+            <div class="form-group">
+                <div class="col-lg-12">{% button type="save" value="Save task" %}</div>
+            </div>
+        </form>
+        <p>
+            <h4>Problem description</h4>
+            {{ task.problem_description|linebreaksbr }}
+            <p>
+                {% if task.progress_description %}
+                    <p>
+                        <h4>Progress</h4>
+                        {{ task.progress_description|linebreaksbr }}
+                        <p>
+                        {% endif %}
+                        {% if rendered_configuration_html %}
+                            <p>
+                                <h4>Configuration</h4>
+                                {{ rendered_configuration_html }}
+                                <p>
+                                {% endif %}
```

### html2text {}

```diff
@@ -1,14 +1,14 @@
 {% load humanize %} {% load custom_tags_and_filters %}
 ********** {{{{ ttaasskk..ttooooll..nnaammee }}}} ttaasskk **********
 Primary tool owner: {{ task.tool.primary_owner }}
-{% if task.tool.backup_owners.all.exists %}Backup tool owner{
+{% if task.tool.backup_owners.all.exists %} Backup tool owner{
 { task.tool.backup_owners.all.count|pluralize }}: {% for x in
-task.tool.backup_owners.all %}{{ x }}{% if not forloop.last %}, {% else %}{%
-endif %}{% endfor %}{% endif %}
+task.tool.backup_owners.all %} {{ x }} {% if not forloop.last %} , {% else %}
+{% endif %} {% endfor %} {% endif %}
 {% if task.tool.in_use %} {% if task.tool.get_current_usage_event.operator.id
 == user.id %} {% url 'disable_tool' task.tool.id as disable_tool_url %} {%
 button id="interlock" type="delete" onclick="disable_tool('"|concat:
 disable_tool_url|concat:"');" value="Disable tool" icon="glyphicon-stop" %} {%
 else %} {% button type="warn" disabled="disabled" icon="glyphicon-ban-circle"
 value="Tool in use" %} {% endif %} {% else %} {% if user.active_project_count
 == 1 %} {% url 'enable_tool' tool_id=task.tool.id user_id=user.id
@@ -36,15 +36,15 @@
 Urgency
 {% for level in task.Urgency.Choices %}
 % if task.urgency == level.0 %}selected{% endif %}>{{ level.1 }}
 {% endfor %}
 {% if initial_assessment_categories %}
 Problem category
 {% for category in initial_assessment_categories %}
-% if task.problem_category_id == category.id %}selected{% endif %}>{
+% if task.problem_category_id == category.id %}selected{% endif %}> {
 { category.name }}
 {% endfor %}
 {% endif %} {% if task_statuses %}
 Status
 {% for status in task_statuses %}
 % if task.current_status == status.name %}selected{% endif %}>{{ status.name }}
 {% endfor %}
```

## NEMO/templates/mobile/cancellation_result.html

```diff
@@ -1,11 +1,21 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}{{ event_type }} cancelled{% endblock %}
 {% block content %}
-	<h3>The {{ event_type|lower }} has been cancelled.</h3>
-	<div style="font-size:x-large">
-		<p><a href="{% url 'landing' %}"><span class="glyphicon glyphicon-home" style="color:#22b14c"></span> Return to homepage</a></p>
-		{% if tool %}<p><a href="{% url 'view_calendar' 'tool' tool.id %}"><span class="glyphicon glyphicon-calendar" style="color:#22b14c"></span> View the {{ tool }} calendar</a></p>{% endif %}
-		{% if area %}<p><a href="{% url 'view_calendar' 'area' area.id %}"><span class="glyphicon glyphicon-calendar" style="color:#22b14c"></span> View the {{ area }} calendar</a></p>{% endif %}
-	</div>
-{% endblock %}
+    <h3>The {{ event_type|lower }} has been cancelled.</h3>
+    <div style="font-size:x-large">
+        <p>
+            <a href="{% url 'landing' %}"><span class="glyphicon glyphicon-home" style="color:#22b14c"></span> Return to homepage</a>
+        </p>
+        {% if tool %}
+            <p>
+                <a href="{% url 'view_calendar' 'tool' tool.id %}"><span class="glyphicon glyphicon-calendar" style="color:#22b14c"></span> View the {{ tool }} calendar</a>
+            </p>
+        {% endif %}
+        {% if area %}
+            <p>
+                <a href="{% url 'view_calendar' 'area' area.id %}"><span class="glyphicon glyphicon-calendar" style="color:#22b14c"></span> View the {{ area }} calendar</a>
+            </p>
+        {% endif %}
+    </div>
+{% endblock %}
```

## NEMO/templates/mobile/choose_item.html

```diff
@@ -1,39 +1,61 @@
 {% extends 'base.html' %}
 {% load static %}
 {% load custom_tags_and_filters %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "mobile.js" %}"></script>
+    <script type="text/javascript" src="{% static "mobile.js" %}"></script>
 {% endblock %}
 {% block title %}Choose tool{% endblock %}
 {% block content %}
-	<h3>{{ title }}</h3>
-	<form>
-		<div class="form-group">
-			<label for="search">Search for{% if tools %} a tool{% endif %}{% if tools and areas %} or{% endif %}{% if areas %} an area{% endif %}</label>
-			<input class="form-control" type="text" id="search" spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off" oninput="mobile_search(this, get_base_url, {% if tools and areas %}false{% else %}true{% endif %})" data-search-results-target="#search_results" data-search-base='{% json_search_base_with_extra_fields tools|add:areas %}'>
-		</div>
-	</form>
-	<div id="search_results"></div>
-	{% if tools %}
-		<p>... or select by category:</p>
-		{% regroup tools by category as tools_regrouped_by_category %}
-		{% for category in tools_regrouped_by_category %}
-			<div class="alert alert-info" role="alert">
-				<span style="cursor:pointer" class="pull-right glyphicon glyphicon-chevron-down" data-toggle="collapse" data-target="#category_{{ forloop.counter }}"></span>
-				<p style="cursor:pointer" data-toggle="collapse" data-target="#category_{{ forloop.counter }}"><strong>{{ category.grouper }}</strong></p>
-				<div id="category_{{ forloop.counter }}" class="collapse">
-					<div style="margin-bottom:10px"></div>
-					{% for tool in category.list %}
-						<p><a href="{% url next_page 'tool' tool.id %}">{{ tool.name_or_child_in_use_name }}</a></p>
-					{% endfor %}
-				</div>
-			</div>
-		{% endfor %}
-	{% endif %}
-	<script type="text/javascript">
+    <h3>{{ title }}</h3>
+    <form>
+        <div class="form-group">
+            <label for="search">
+                Search for
+                {% if tools %}a tool{% endif %}
+                {% if tools and areas %}or{% endif %}
+                {% if areas %}an area{% endif %}
+            </label>
+            <input class="form-control"
+                   type="text"
+                   id="search"
+                   spellcheck="false"
+                   autocapitalize="off"
+                   autocomplete="off"
+                   autocorrect="off"
+                   oninput="mobile_search(this, get_base_url, {% if tools and areas %}false{% else %}true{% endif %})"
+                   data-search-results-target="#search_results"
+                   data-search-base='{% json_search_base_with_extra_fields tools|add:areas %}'>
+        </div>
+    </form>
+    <div id="search_results"></div>
+    {% if tools %}
+        <p>... or select by category:</p>
+        {% regroup tools by category as tools_regrouped_by_category %}
+        {% for category in tools_regrouped_by_category %}
+            <div class="alert alert-info" role="alert">
+                <span style="cursor:pointer"
+                      class="pull-right glyphicon glyphicon-chevron-down"
+                      data-toggle="collapse"
+                      data-target="#category_{{ forloop.counter }}"></span>
+                <p style="cursor:pointer" data-toggle="collapse" data-target="#category_{{ forloop.counter }}">
+                    <strong>{{ category.grouper }}</strong>
+                </p>
+                <div id="category_{{ forloop.counter }}" class="collapse">
+                    <div style="margin-bottom:10px"></div>
+                    {% for tool in category.list %}
+                        <p>
+                            <a href="{% url next_page 'tool' tool.id %}">{{ tool.name_or_child_in_use_name }}</a>
+                        </p>
+                    {% endfor %}
+                </div>
+            </div>
+        {% endfor %}
+    {% endif %}
+    <script type="text/javascript">
 	let get_base_url = function(item_type, item_id)
 	{
 	    return '{% url next_page 'tool' '11111' %}'.replace('/tool/', '/'+item_type+'/').replace('11111', item_id)
 	}
-	</script>
+	
+    </script>
 {% endblock %}
```

### html2text {}

```diff
@@ -1,14 +1,14 @@
 {% extends 'base.html' %} {% load static %} {% load custom_tags_and_filters %}
 {% block extrahead %}
 }">
 {% endblock %} {% block title %}Choose tool{% endblock %} {% block content %}
 ******** {{{{ ttiittllee }}}} ********
-Search for{% if tools %} a tool{% endif %}{% if tools and areas %} or{% endif
-%}{% if areas %} an area{% endif %}[                    ]
+Search for {% if tools %}a tool{% endif %} {% if tools and areas %}or{% endif
+%} {% if areas %}an area{% endif %}[                    ]
 {% if tools %}
 ... or select by category:
 {% regroup tools by category as tools_regrouped_by_category %} {% for category
 in tools_regrouped_by_category %}
 {{{{ ccaatteeggoorryy..ggrroouuppeerr }}}}
 {% for tool in category.list %}
 _{_{_ _t_o_o_l_._n_a_m_e___o_r___c_h_i_l_d___i_n___u_s_e___n_a_m_e_ _}_}
```

## NEMO/templates/mobile/error.html

```diff
@@ -1,10 +1,14 @@
 {% extends 'base.html' %}
 {% block title %}Error{% endblock %}
 {% block content %}
-	<h2>Error</h2>
-	<h3>{{ message }}</h3>
-	<div style="font-size:x-large">
-		<p><a href="javascript:history.back()"><span class="glyphicon glyphicon-backward" style="color:#22b14c"></span> Back to previous page</a></p>
-		<p><a href="{% url 'landing' %}"><span class="glyphicon glyphicon-home" style="color:#22b14c"></span> Return to homepage</a></p>
-	</div>
-{% endblock %}
+    <h2>Error</h2>
+    <h3>{{ message }}</h3>
+    <div style="font-size:x-large">
+        <p>
+            <a href="javascript:history.back()"><span class="glyphicon glyphicon-backward" style="color:#22b14c"></span> Back to previous page</a>
+        </p>
+        <p>
+            <a href="{% url 'landing' %}"><span class="glyphicon glyphicon-home" style="color:#22b14c"></span> Return to homepage</a>
+        </p>
+    </div>
+{% endblock %}
```

## NEMO/templates/mobile/individual_outage.html

```diff
@@ -1,22 +1,32 @@
 {% load custom_tags_and_filters %}
 <div class="alert alert-danger" role="alert">
-	<span style="cursor:pointer" class="pull-right glyphicon glyphicon-chevron-down" data-toggle="collapse" data-target="#extended_outage_information_{{ outage.id }}"></span>
-	<span style="cursor:pointer" data-toggle="collapse" data-target="#extended_outage_information_{{ outage.id }}"><strong>{{ outage.title }}</strong></span><br>
-	Starting {{ outage.start }}<br>
-	Ending {{ outage.end }}<br>
-	<div id="extended_outage_information_{{ outage.id }}" class="collapse">
-		<div style="height:10px">{# Vertical spacer #}</div>
-		Created by {{ outage.creator }}<br>
-		{% if outage.details %}
-			Details:<br>
-			{{ outage.details|linebreaksbr }}
-		{% endif %}
-		{% if user.is_staff %}
-			<div style="height:10px">{# Vertical spacer #}</div>
-			<form method="post" action="{% url 'cancel_outage' outage.id %}">
-				{% csrf_token %}
+    <span style="cursor:pointer"
+          class="pull-right glyphicon glyphicon-chevron-down"
+          data-toggle="collapse"
+          data-target="#extended_outage_information_{{ outage.id }}"></span>
+    <span style="cursor:pointer"
+          data-toggle="collapse"
+          data-target="#extended_outage_information_{{ outage.id }}"><strong>{{ outage.title }}</strong></span>
+    <br>
+    Starting {{ outage.start }}
+    <br>
+    Ending {{ outage.end }}
+    <br>
+    <div id="extended_outage_information_{{ outage.id }}" class="collapse">
+        <div style="height:10px">{# Vertical spacer #}</div>
+        Created by {{ outage.creator }}
+        <br>
+        {% if outage.details %}
+            Details:
+            <br>
+            {{ outage.details|linebreaksbr }}
+        {% endif %}
+        {% if user.is_staff %}
+            <div style="height:10px">{# Vertical spacer #}</div>
+            <form method="post" action="{% url 'cancel_outage' outage.id %}">
+                {% csrf_token %}
                 {% button type="delete" submit=True value="Cancel this outage" %}
-			</form>
-		{% endif %}
-	</div>
-</div>
+            </form>
+        {% endif %}
+    </div>
+</div>
```

## NEMO/templates/mobile/individual_reservation.html

```diff
@@ -1,59 +1,103 @@
 {% load custom_tags_and_filters %}
 <div class="alert {% if personal_schedule %}alert-success{% else %}alert-info{% endif %}" role="alert">
-	<span style="cursor:pointer" class="pull-right glyphicon glyphicon-chevron-down" data-toggle="collapse" data-target="#extended_reservation_information_{{ reservation.id }}"></span>
-	<span style="cursor:pointer" data-toggle="collapse" data-target="#extended_reservation_information_{{ reservation.id }}"><strong>{% if personal_schedule %}{{ reservation.title|default:reservation.reservation_item }}{% else %}{{ reservation.title|default:reservation.user }}{% endif %}</strong></span><br>
-	Starting {{ reservation.start }}<br>
-	Ending {{ reservation.end }}<br>
-	<div id="extended_reservation_information_{{ reservation.id }}" class="collapse">
+    <span style="cursor:pointer"
+          class="pull-right glyphicon glyphicon-chevron-down"
+          data-toggle="collapse"
+          data-target="#extended_reservation_information_{{ reservation.id }}"></span>
+    <span style="cursor:pointer"
+          data-toggle="collapse"
+          data-target="#extended_reservation_information_{{ reservation.id }}"><strong>
+        {% if personal_schedule %}
+            {{ reservation.title|default:reservation.reservation_item }}
+        {% else %}
+            {{ reservation.title|default:reservation.user }}
+        {% endif %}
+    </strong></span>
+    <br>
+    Starting {{ reservation.start }}
+    <br>
+    Ending {{ reservation.end }}
+    <br>
+    <div id="extended_reservation_information_{{ reservation.id }}" class="collapse">
         {% for question_name, data in reservation.question_data_json.items %}
-            {{ question_name }}: {{ data.user_input }}<br>
+            {{ question_name }}: {{ data.user_input }}
+            <br>
         {% endfor %}
-		<div style="height:10px">{# Vertical spacer #}</div>
-		{% if reservation.project %}
-			For project {{ reservation.project }}<br>
-		{% endif %}
-		Created by {{ reservation.creator }} {% if reservation.user != reservation.creator %} on behalf of {{ reservation.user }}{% endif %} on {{ reservation.creation_time }}<br>
-		{% if reservation.tool_accessories.exists %}
-			<br>Selected accessories:<br>
-			{{ reservation.tool_accessories.all|join:", " }}
-			<br><br>
-		{% endif %}
-		{% if reservation.self_configuration %}
-			<strong>You have elected to configure this tool yourself.</strong><br>
-		{% else %}
-			{% if reservation.short_notice %}
-				<strong>This reservation was created on short notice. Tool configuration is not guaranteed upon start time.</strong><br>
-			{% endif %}
-		{% endif %}
-		{% if reservation.configurationoption_set.exists %}
-			<div style="height:10px">{# Vertical spacer #}</div>
-			Configuration:<br>
-			{% for config_option in reservation.configurationoption_set.all %}
-				{{ config_option.name }} {% if config_option.precursor_configuration %} {% if config_option.current_position is None %}any position{% else %}position {{ config_option.current_position }}{% endif %}{% endif %}: {% if config_option.get_color %}<span class="configuration-reservation-option"
-																				style="background-color: {{ config_option.get_color }}">{{ config_option.current_setting }}</span>{% else %}
-				{{ config_option.current_setting }}{% endif %}<br>
-			{% endfor %}
-		{% endif %}
-		{% if reservation.additional_information %}
-			<div style="height:10px">{# Vertical spacer #}</div>
-			Additional information:<br>
-			{{ reservation.additional_information|linebreaksbr }}
-		{% endif %}
-		{# Allow the user to cancel the reservation if they have that privilege. #}
-		{% if not reservation.missed and not reservation.cancelled %}
-			{% if reservation.user.id == user.id and reservation.has_not_ended or user.is_staff %}
-				<div style="height:10px">{# Vertical spacer #}</div>
-				<form method="post" action="{% url 'cancel_reservation' reservation.id %}">
-					{% csrf_token %}
-					{% if user != reservation.user %}
-						{# Staff must provide a reason for cancelling someone else's reservation. #}
-						<div class="form-group">
-							<input type="text" class="form-control" name="reason" maxlength="3000" placeholder="Cancellation reason (required)" aria-label="Cancellation reason (required)" required>
-						</div>
-					{% endif %}
+        <div style="height:10px">{# Vertical spacer #}</div>
+        {% if reservation.project %}
+            For project {{ reservation.project }}
+            <br>
+        {% endif %}
+        Created by {{ reservation.creator }}
+        {% if reservation.user != reservation.creator %}on behalf of {{ reservation.user }}{% endif %}
+        on {{ reservation.creation_time }}
+        <br>
+        {% if reservation.tool_accessories.exists %}
+            <br>
+            Selected accessories:
+            <br>
+            {{ reservation.tool_accessories.all|join:", " }}
+            <br>
+            <br>
+        {% endif %}
+        {% if reservation.self_configuration %}
+            <strong>You have elected to configure this tool yourself.</strong>
+            <br>
+        {% else %}
+            {% if reservation.short_notice %}
+                <strong>This reservation was created on short notice. Tool configuration is not guaranteed upon start time.</strong>
+                <br>
+            {% endif %}
+        {% endif %}
+        {% if reservation.configurationoption_set.exists %}
+            <div style="height:10px">{# Vertical spacer #}</div>
+            Configuration:
+            <br>
+            {% for config_option in reservation.configurationoption_set.all %}
+                {{ config_option.name }}
+                {% if config_option.precursor_configuration %}
+                    {% if config_option.current_position is None %}
+                        any position
+                    {% else %}
+                        position {{ config_option.current_position }}
+                    {% endif %}
+                {% endif %}
+                :
+                {% if config_option.get_color %}
+                    <span class="configuration-reservation-option" style="background-color: {{ config_option.get_color }}">{{ config_option.current_setting }}</span>
+                {% else %}
+                    {{ config_option.current_setting }}
+                {% endif %}
+                <br>
+            {% endfor %}
+        {% endif %}
+        {% if reservation.additional_information %}
+            <div style="height:10px">{# Vertical spacer #}</div>
+            Additional information:
+            <br>
+            {{ reservation.additional_information|linebreaksbr }}
+        {% endif %}
+        {# Allow the user to cancel the reservation if they have that privilege. #}
+        {% if not reservation.missed and not reservation.cancelled %}
+            {% if reservation.user.id == user.id and reservation.has_not_ended or user.is_staff %}
+                <div style="height:10px">{# Vertical spacer #}</div>
+                <form method="post" action="{% url 'cancel_reservation' reservation.id %}">
+                    {% csrf_token %}
+                    {% if user != reservation.user %}
+                        {# Staff must provide a reason for cancelling someone else's reservation. #}
+                        <div class="form-group">
+                            <input type="text"
+                                   class="form-control"
+                                   name="reason"
+                                   maxlength="3000"
+                                   placeholder="Cancellation reason (required)"
+                                   aria-label="Cancellation reason (required)"
+                                   required>
+                        </div>
+                    {% endif %}
                     {% button type="delete" submit=True value="Cancel this reservation" %}
-				</form>
-			{% endif %}
-		{% endif %}
-	</div>
-</div>
+                </form>
+            {% endif %}
+        {% endif %}
+    </div>
+</div>
```

## NEMO/templates/mobile/individual_training_event.html

```diff
@@ -1,47 +1,65 @@
 {% load custom_tags_and_filters %}
 {% load training_tags %}
 <div class="alert" style="background-color: #BF00FFFF; color: white" role="alert">
-	<span style="cursor:pointer" class="pull-right glyphicon glyphicon-chevron-down" data-toggle="collapse" data-target="#extended_training_information_{{ training.id }}"></span>
-	<span style="cursor:pointer" data-toggle="collapse" data-target="#extended_training_information_{{ training.id }}"><strong>Training by {{ training.trainer.get_name }}</strong></span><br>
-	Starting {{ training.start }}<br>
-	Ending {{ training.end }}<br>
-	<div id="extended_training_information_{{ training.id }}" class="collapse">
-		<div style="height:10px">{# Vertical spacer #}</div>
-		Trainer: {{ training.trainer.get_name }}<br>
-		{% if training.technique %}
-			Technique: {{ training.technique.name }}<br>
-		{% endif %}
-		Duration: {{ training.duration }} minutes<br>
-		Attendees: {{ training.current_capacity }}/{{ training.capacity }}<br>
-		{% if training.users.all %}
-			{% if user.is_staff or user|is_trainer:training.tool %}
-				{% for attendee in training.users.all %}
-					<span style="visibility: hidden">Attendees: </span>{{ attendee }}<br>
-				{% endfor %}
-			{% endif %}
-		{% endif %}
-		{% if training.pending_invitations.all %}
-			{% if user.is_staff or user|is_trainer:training.tool %}
-				Invitations:<br>
-				{% for invite in training.pending_invitations.all %}
-					<span style="visibility: hidden"></span>{{ invite.user }}<br>
-				{% endfor %}
-			{% endif %}
-		{% endif %}
-		{% if training.message %}
-			Details: {{ training.message|linebreaksbr }}<br>
-		{% endif %}
-		Created by {{ training.creator }}<br>
-		{% if training.details %}
-			Details:<br>
-			{{ training.details|linebreaksbr }}
-		{% endif %}
-{#		{% if user.is_staff %}#}
-{#			<div style="height:10px"></div>#}
-{#			<form method="post" action="{% url 'cancel_training' training.id %}">#}
-{#				{% csrf_token %}#}
-{#                {% button type="delete" submit=True value="Cancel this training" %}#}
-{#			</form>#}
-{#		{% endif %}#}
-	</div>
-</div>
+    <span style="cursor:pointer"
+          class="pull-right glyphicon glyphicon-chevron-down"
+          data-toggle="collapse"
+          data-target="#extended_training_information_{{ training.id }}"></span>
+    <span style="cursor:pointer"
+          data-toggle="collapse"
+          data-target="#extended_training_information_{{ training.id }}"><strong>Training by {{ training.trainer.get_name }}</strong></span>
+    <br>
+    Starting {{ training.start }}
+    <br>
+    Ending {{ training.end }}
+    <br>
+    <div id="extended_training_information_{{ training.id }}" class="collapse">
+        <div style="height:10px">{# Vertical spacer #}</div>
+        Trainer: {{ training.trainer.get_name }}
+        <br>
+        {% if training.technique %}
+            Technique: {{ training.technique.name }}
+            <br>
+        {% endif %}
+        Duration: {{ training.duration }} minutes
+        <br>
+        Attendees: {{ training.current_capacity }}/{{ training.capacity }}
+        <br>
+        {% if training.users.all %}
+            {% if user.is_staff or user|is_trainer:training.tool %}
+                {% for attendee in training.users.all %}
+                    <span style="visibility: hidden">Attendees:</span>{{ attendee }}
+                    <br>
+                {% endfor %}
+            {% endif %}
+        {% endif %}
+        {% if training.pending_invitations.all %}
+            {% if user.is_staff or user|is_trainer:training.tool %}
+                Invitations:
+                <br>
+                {% for invite in training.pending_invitations.all %}
+                    <span style="visibility: hidden"></span>{{ invite.user }}
+                    <br>
+                {% endfor %}
+            {% endif %}
+        {% endif %}
+        {% if training.message %}
+            Details: {{ training.message|linebreaksbr }}
+            <br>
+        {% endif %}
+        Created by {{ training.creator }}
+        <br>
+        {% if training.details %}
+            Details:
+            <br>
+            {{ training.details|linebreaksbr }}
+        {% endif %}
+        {#		{% if user.is_staff %}#}
+        {#			<div style="height:10px"></div>#}
+        {#			<form method="post" action="{% url 'cancel_training' training.id %}">#}
+        {#				{% csrf_token %}#}
+        {#                {% button type="delete" submit=True value="Cancel this training" %}#}
+        {#			</form>#}
+        {#		{% endif %}#}
+    </div>
+</div>
```

## NEMO/templates/mobile/new_reservation.html

```diff
@@ -1,52 +1,71 @@
 {% extends 'base.html' %}
 {% load static %}
 {% load custom_tags_and_filters %}
 {% block title %}New reservation{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "pickadate/picker.js" %}"></script>
-	<script type="text/javascript" src="{% static "pickadate/picker.date.js" %}"></script>
-	<script type="text/javascript" src="{% static "pickadate/picker.time.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "pickadate/default.css" %}"/>
-	<link rel="stylesheet" type="text/css" href="{% static "pickadate/default.date.css" %}"/>
-	<link rel="stylesheet" type="text/css" href="{% static "pickadate/default.time.css" %}"/>
+    <script type="text/javascript" src="{% static "pickadate/picker.js" %}"></script>
+    <script type="text/javascript" src="{% static "pickadate/picker.date.js" %}"></script>
+    <script type="text/javascript" src="{% static "pickadate/picker.time.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "pickadate/default.css" %}" />
+    <link rel="stylesheet" type="text/css" href="{% static "pickadate/default.date.css" %}" />
+    <link rel="stylesheet" type="text/css" href="{% static "pickadate/default.time.css" %}" />
 {% endblock %}
 {% block content %}
-	<h3>Create a new reservation</h3>
-	<form method="post" action="{% url 'make_reservation' %}">
-		{% csrf_token %}
-		<input type="hidden" name="item_id" value="{{ item.id }}">
-		<input type="hidden" name="item_type" value="{{ item_type }}">
-		{% if not user.is_staff %}
-			{% if user.active_project_count == 1 %}
-				<input type="hidden" name="project_id" value="{{ user.active_projects.0.id }}">
-			{% elif user.active_project_count > 1 %}
-				<h4>Which project is this for?</h4>
-				{% for project in user.active_projects %}
-                    <div class="radio"><label><input type="radio" name="project_id" value="{{ project.id }}"
-                                                     required>{% project_selection_display project %}</label></div>
-				{% endfor %}
-			{% endif %}
-		{% endif %}
-		<h4>When would you like to reserve the {{ item }}?</h4>
-		<div class="form-group">
-			<input type="text" id="date" name="date" class="form-control" aria-label="Reservation day" placeholder="Choose a date">
-		</div>
-		<div class="form-group">
-			<input type="text" id="start" name="start" class="form-control" aria-label="Reservation start time" placeholder="Choose a start time">
-		</div>
-		<div class="form-group">
-			<input type="text" id="end" name="end" class="form-control" aria-label="Reservation end time" placeholder="Choose an end time">
-		</div>
-		<div class="form-group text-center" style="margin-top:40px">
+    <h3>Create a new reservation</h3>
+    <form method="post" action="{% url 'make_reservation' %}">
+        {% csrf_token %}
+        <input type="hidden" name="item_id" value="{{ item.id }}">
+        <input type="hidden" name="item_type" value="{{ item_type }}">
+        {% if not user.is_staff %}
+            {% if user.active_project_count == 1 %}
+                <input type="hidden" name="project_id" value="{{ user.active_projects.0.id }}">
+            {% elif user.active_project_count > 1 %}
+                <h4>Which project is this for?</h4>
+                {% for project in user.active_projects %}
+                    <div class="radio">
+                        <label>
+                            <input type="radio" name="project_id" value="{{ project.id }}" required>
+                            {% project_selection_display project %}
+                        </label>
+                    </div>
+                {% endfor %}
+            {% endif %}
+        {% endif %}
+        <h4>When would you like to reserve the {{ item }}?</h4>
+        <div class="form-group">
+            <input type="text"
+                   id="date"
+                   name="date"
+                   class="form-control"
+                   aria-label="Reservation day"
+                   placeholder="Choose a date">
+        </div>
+        <div class="form-group">
+            <input type="text"
+                   id="start"
+                   name="start"
+                   class="form-control"
+                   aria-label="Reservation start time"
+                   placeholder="Choose a start time">
+        </div>
+        <div class="form-group">
+            <input type="text"
+                   id="end"
+                   name="end"
+                   class="form-control"
+                   aria-label="Reservation end time"
+                   placeholder="Choose an end time">
+        </div>
+        <div class="form-group text-center" style="margin-top:40px">
             {% button type="save" value="Create the reservation" %}
-		</div>
-	</form>
-	<div style="height:350px"></div>
-	<script>
+        </div>
+    </form>
+    <div style="height:350px"></div>
+    <script>
         window.addEventListener('load', function () {
             $('input[type=radio][name=project_id]').prop('checked', false);
         });
 		let unavailable_times = [];
 		{% for times in item_reservation_times %}
 		unavailable_times.push([{{ times.start|date:"U" }},{{ times.end|date:"U" }}]);
 		{% endfor %}
@@ -70,15 +89,16 @@
 				let time_selected = time.pick * 60 * 1000; // time in milliseconds
 				let date_time_selected = (date_selected + time_selected)/1000; // back to seconds to compare with python timestamp
 				for (let i=0 ; i < unavailable_times.length; i++) {
                     let times = unavailable_times[i];
                     let start = times[0];
                     let end = times[1];
                     if (date_time_selected >= start && date_time_selected < end) {
-                        return '<sp!an>h:i A</sp!an> <sm!all> !alre!ad!y re!serve!d</sm!all>';
+                        return '<sp !an>h:i A</sp !an> <sm !all> !alre!ad!y re!serve!d</sm !all>';
                     }
                 }
 			}
 		    return "h:i A";
         }
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,15 +1,15 @@
 {% extends 'base.html' %} {% load static %} {% load custom_tags_and_filters %}
 {% block title %}New reservation{% endblock %} {% block extrahead %}
 }">
 }">
 }">
-}"/>
-}"/>
-}"/> {% endblock %} {% block content %}
+}" />
+}" />
+}" /> {% endblock %} {% block content %}
 ******** CCrreeaattee aa nneeww rreesseerrvvaattiioonn ********
 {% csrf_token %} {% if not user.is_staff %} {% if user.active_project_count ==
 1 %} {% elif user.active_project_count > 1 %}
 ****** WWhhiicchh pprroojjeecctt iiss tthhiiss ffoorr?? ******
 {% for project in user.active_projects %}
 o{% project_selection_display project %}
 {% endfor %} {% endif %} {% endif %}
```

## NEMO/templates/mobile/no_active_projects.html

```diff
@@ -1,6 +1,8 @@
 {% extends 'base.html' %}
 {% block title %}No active projects{% endblock %}
 {% block content %}
-	<h3>Oops</h3>
-	<p>You are not a member of any active {{ facility_name }} projects and therefore may not create any reservations. Please contact the {{ facility_name }} staff to enroll in a project.</p>
-{% endblock %}
+    <h3>Oops</h3>
+    <p>
+        You are not a member of any active {{ facility_name }} projects and therefore may not create any reservations. Please contact the {{ facility_name }} staff to enroll in a project.
+    </p>
+{% endblock %}
```

## NEMO/templates/mobile/reservation_extra.html

```diff
@@ -1,39 +1,39 @@
 {% extends 'base.html' %}
 {% load static %}
 {% load custom_tags_and_filters %}
 {% block title %}Extra information needed{% endblock %}
 {% block content %}
-	<h3>Extra information needed</h3>
-	<form method="post" action="{% url 'make_reservation' %}">
-		{% csrf_token %}
-		<input type="hidden" name="date" value="{{ request_date }}">
-		<input type="hidden" name="start" value="{{ request_start }}">
-		<input type="hidden" name="end" value="{{ request_end }}">
-		<input type="hidden" name="item_id" value="{{ reservation.reservation_item.id }}">
-		<input type="hidden" name="item_type" value="{{ reservation.reservation_item_type.value }}">
-		<input type="hidden" name="project_id" value="{{ reservation.project_id }}">
-		<input type="hidden" name="configured" value="true">
+    <h3>Extra information needed</h3>
+    <form method="post" action="{% url 'make_reservation' %}">
+        {% csrf_token %}
+        <input type="hidden" name="date" value="{{ request_date }}">
+        <input type="hidden" name="start" value="{{ request_start }}">
+        <input type="hidden" name="end" value="{{ request_end }}">
+        <input type="hidden" name="item_id" value="{{ reservation.reservation_item.id }}">
+        <input type="hidden" name="item_type" value="{{ reservation.reservation_item_type.value }}">
+        <input type="hidden" name="project_id" value="{{ reservation.project_id }}">
+        <input type="hidden" name="configured" value="true">
         {% if reservation_questions %}
-			<div id="reservation_questions">
-				<h4>Please answer the following questions</h4>
-				{{ reservation_questions }}
-			</div>
+            <div id="reservation_questions">
+                <h4>Please answer the following questions</h4>
+                {{ reservation_questions }}
+            </div>
         {% endif %}
-		{% if tool_accessories %}
-			{% include "calendar/accessories_helper.html" %}
-		{% endif %}
-		{% if configurations %}
-			<h4>Choose tool configuration settings</h4>
-			{% if notice_limit > 0 %}
-				<div class="alert alert-info">
-					<strong>Please note:</strong> {{ notice_limit }} hours of advance notice is required when reserving this tool in order to configure it properly. A tool is not guaranteed to be configured properly if a reservation is created or modified on short notice.
-				</div>
-			{% endif %}
-			{% include 'configuration/configuration_reservation_helper.html' %}
-		{% endif %}
-		<div class="form-group text-center" style="margin-top:40px">
+        {% if tool_accessories %}
+            {% include "calendar/accessories_helper.html" %}
+        {% endif %}
+        {% if configurations %}
+            <h4>Choose tool configuration settings</h4>
+            {% if notice_limit > 0 %}
+                <div class="alert alert-info">
+                    <strong>Please note:</strong> {{ notice_limit }} hours of advance notice is required when reserving this tool in order to configure it properly. A tool is not guaranteed to be configured properly if a reservation is created or modified on short notice.
+                </div>
+            {% endif %}
+            {% include 'configuration/configuration_reservation_helper.html' %}
+        {% endif %}
+        <div class="form-group text-center" style="margin-top:40px">
             {% button type="save" value="Create the reservation" %}
-		</div>
-	</form>
-	<div style="height:350px"></div>
-{% endblock %}
+        </div>
+    </form>
+    <div style="height:350px"></div>
+{% endblock %}
```

## NEMO/templates/mobile/reservation_success.html

```diff
@@ -1,14 +1,21 @@
 {% extends 'base.html' %}
 {% block title %}Reservation confirmed{% endblock %}
 {% block content %}
-	<h3>Reservation confirmed!</h3>
-	<div class="alert alert-success" role="alert">
-		<strong>{{ new_reservation.reservation_item }}</strong><br>
-		Starting {{ new_reservation.start }}<br>
-		Ending {{ new_reservation.end }}<br>
-	</div>
-	<div style="font-size:x-large">
-		<p><a href="{% url 'landing' %}"><span class="glyphicon glyphicon-home" style="color:#22b14c"></span> Return to homepage</a></p>
-		<p><a href="{% url 'view_calendar' new_reservation.reservation_item_type.value new_reservation.reservation_item.id %}"><span class="glyphicon glyphicon-calendar" style="color:#22b14c"></span> View the {{ new_reservation.reservation_item }} calendar</a></p>
-	</div>
-{% endblock %}
+    <h3>Reservation confirmed!</h3>
+    <div class="alert alert-success" role="alert">
+        <strong>{{ new_reservation.reservation_item }}</strong>
+        <br>
+        Starting {{ new_reservation.start }}
+        <br>
+        Ending {{ new_reservation.end }}
+        <br>
+    </div>
+    <div style="font-size:x-large">
+        <p>
+            <a href="{% url 'landing' %}"><span class="glyphicon glyphicon-home" style="color:#22b14c"></span> Return to homepage</a>
+        </p>
+        <p>
+            <a href="{% url 'view_calendar' new_reservation.reservation_item_type.value new_reservation.reservation_item.id %}"><span class="glyphicon glyphicon-calendar" style="color:#22b14c"></span> View the {{ new_reservation.reservation_item }} calendar</a>
+        </p>
+    </div>
+{% endblock %}
```

## NEMO/templates/mobile/view_calendar.html

```diff
@@ -1,39 +1,45 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}{{ item }} calendar{% endblock %}
 {% block content %}
-	<div class="row" style="font-size:1.7em; margin-bottom:20px">
-		<div class="col-xs-2"><a href="{% url 'view_calendar' item_type item.id %}{{ previous_day|date:"Y-m-d" }}/"><span class="glyphicon glyphicon-chevron-left"></span></a></div>
-		<div class="col-xs-8" style="text-align:center">
-			{{ item }}<br>
-			{{ current_day|date:"l" }}<br>
-			{{ current_day|date:"F jS" }}
-		</div>
-		<div class="col-xs-2"><a href="{% url 'view_calendar' item_type item.id %}{{ next_day|date:"Y-m-d" }}/"><span class="glyphicon glyphicon-chevron-right"></span></a></div>
-	</div>
-	{% for event in events %}
-		{% if event|class_name == "Reservation" %}
-			{% include 'mobile/individual_reservation.html' with reservation=event %}
-		{% elif event|class_name == "ScheduledOutage" %}
-			{% include 'mobile/individual_outage.html' with outage=event %}
-		{% elif event|class_name == "TrainingEvent" %}
-			{% include 'mobile/individual_training_event.html' with training=event %}
-		{% endif %}
-	{% empty %}
-		<div style="text-align:center">There are no reservations</div>
-	{% endfor %}
-	<a href="{% url 'new_reservation' item_type item.id current_day_string %}">
-		<svg height="50" width="50" style="position:fixed; right:15px; bottom:15px">
-			<circle cx="25" cy="25" r="25" fill="green"></circle>
-			<rect x="24" y="15" width="3" height="20" fill="white"></rect>
-			<rect x="15" y="24" width="21" height="3" fill="white"></rect>
-		</svg>
-	</a>
-{#	<a href="{% url 'create_training_event_calendar' %}?item_type={{ item_type }}&item_id={{ item.id }}">#}
-{#		<svg height="50" width="50" style="position:fixed; right:15px; bottom:15px">#}
-{#			<circle cx="25" cy="25" r="25" fill="#BF00FFFF"></circle>#}
-{#			<rect x="24" y="15" width="3" height="20" fill="white"></rect>#}
-{#			<rect x="15" y="24" width="21" height="3" fill="white"></rect>#}
-{#		</svg>#}
-{#	</a>#}
-{% endblock %}
+    <div class="row" style="font-size:1.7em; margin-bottom:20px">
+        <div class="col-xs-2">
+            <a href="{% url 'view_calendar' item_type item.id %}{{ previous_day|date:"Y-m-d" }}/"><span class="glyphicon glyphicon-chevron-left"></span></a>
+        </div>
+        <div class="col-xs-8" style="text-align:center">
+            {{ item }}
+            <br>
+            {{ current_day|date:"l" }}
+            <br>
+            {{ current_day|date:"F jS" }}
+        </div>
+        <div class="col-xs-2">
+            <a href="{% url 'view_calendar' item_type item.id %}{{ next_day|date:"Y-m-d" }}/"><span class="glyphicon glyphicon-chevron-right"></span></a>
+        </div>
+    </div>
+    {% for event in events %}
+        {% if event|class_name == "Reservation" %}
+            {% include 'mobile/individual_reservation.html' with reservation=event %}
+        {% elif event|class_name == "ScheduledOutage" %}
+            {% include 'mobile/individual_outage.html' with outage=event %}
+        {% elif event|class_name == "TrainingEvent" %}
+            {% include 'mobile/individual_training_event.html' with training=event %}
+        {% endif %}
+    {% empty %}
+        <div style="text-align:center">There are no reservations</div>
+    {% endfor %}
+    <a href="{% url 'new_reservation' item_type item.id current_day_string %}">
+        <svg height="50" width="50" style="position:fixed; right:15px; bottom:15px">
+            <circle cx="25" cy="25" r="25" fill="green"></circle>
+            <rect x="24" y="15" width="3" height="20" fill="white"></rect>
+            <rect x="15" y="24" width="21" height="3" fill="white"></rect>
+        </svg>
+    </a>
+    {#	<a href="{% url 'create_training_event_calendar' %}?item_type={{ item_type }}&item_id={{ item.id }}">#}
+    {#		<svg height="50" width="50" style="position:fixed; right:15px; bottom:15px">#}
+    {#			<circle cx="25" cy="25" r="25" fill="#BF00FFFF"></circle>#}
+    {#			<rect x="24" y="15" width="3" height="20" fill="white"></rect>#}
+    {#			<rect x="15" y="24" width="21" height="3" fill="white"></rect>#}
+    {#		</svg>#}
+    {#	</a>#}
+{% endblock %}
```

## NEMO/templates/news/archived_news.html

```diff
@@ -1,27 +1,35 @@
 {% extends 'base.html' %}
 {% block title %}Archived news{% endblock %}
 {% block content %}
-	<h1>Archived news</h1>
-	{% if news %}<p>Stories are ordered by original publishing date.</p>{% endif %}
-	<p>You can also <a href="{% url 'view_recent_news' %}">view recent news</a>.</p>
-	{% if previous_page_number or next_page_number %}
-		<nav>
-			<ul class="pager">
-				{% if previous_page_number %}<li class="previous"><a href="{% url 'view_archived_news' previous_page_number %}" style="margin-right:7px">« Newer</a></li>{% endif %}
-				{% if next_page_number %}<li class="previous"><a href="{% url 'view_archived_news' next_page_number %}">Older »</a></li>{% endif %}
-			</ul>
-		</nav>
-	{% endif %}
-	<div class="row">
-		{% for story in news %}
-			<div class="col-sm-12">
-				<h3>{{ story.title }}</h3>
-				<p>{{ story.all_content|safe|linebreaksbr }}</p>
-			</div>
-		{% empty %}
-			<div class="col-sm-12">
-				There's no archived news!
-			</div>
-		{% endfor %}
-	</div>
-{% endblock %}
+    <h1>Archived news</h1>
+    {% if news %}<p>Stories are ordered by original publishing date.</p>{% endif %}
+    <p>
+        You can also <a href="{% url 'view_recent_news' %}">view recent news</a>.
+    </p>
+    {% if previous_page_number or next_page_number %}
+        <nav>
+            <ul class="pager">
+                {% if previous_page_number %}
+                    <li class="previous">
+                        <a href="{% url 'view_archived_news' previous_page_number %}" style="margin-right:7px">« Newer</a>
+                    </li>
+                {% endif %}
+                {% if next_page_number %}
+                    <li class="previous">
+                        <a href="{% url 'view_archived_news' next_page_number %}">Older »</a>
+                    </li>
+                {% endif %}
+            </ul>
+        </nav>
+    {% endif %}
+    <div class="row">
+        {% for story in news %}
+            <div class="col-sm-12">
+                <h3>{{ story.title }}</h3>
+                <p>{{ story.all_content|safe|linebreaksbr }}</p>
+            </div>
+        {% empty %}
+            <div class="col-sm-12">There's no archived news!</div>
+        {% endfor %}
+    </div>
+{% endblock %}
```

## NEMO/templates/news/new_news_form.html

```diff
@@ -1,25 +1,35 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Publish new news{% endblock %}
 {% block content %}
-	<h1>Publish new news</h1>
-	<form method="post" action="{% url 'publish_new_news' %}">
-		{% csrf_token %}
-		<div class="form-group">
-			<input name="title" type="text" class="form-control" aria-label="News story title" autocomplete="off" required placeholder="Provide a news story title">
-		</div>
-		<div class="form-group">
-			<textarea name="content" class="form-control" rows="6" aria-label="News story content" required placeholder="What's happening?"></textarea>
-		</div>
+    <h1>Publish new news</h1>
+    <form method="post" action="{% url 'publish_new_news' %}">
+        {% csrf_token %}
+        <div class="form-group">
+            <input name="title"
+                   type="text"
+                   class="form-control"
+                   aria-label="News story title"
+                   autocomplete="off"
+                   required
+                   placeholder="Provide a news story title">
+        </div>
+        <div class="form-group">
+            <textarea name="content"
+                      class="form-control"
+                      rows="6"
+                      aria-label="News story content"
+                      required
+                      placeholder="What's happening?"></textarea>
+        </div>
         <div class="form-group">
             <div class="checkbox">
                 <label for="pinned">
-                    <input id="pinned" name="pinned" type="checkbox"> Keep this news story at the top of the news feed
+                    <input id="pinned" name="pinned" type="checkbox">
+                    Keep this news story at the top of the news feed
                 </label>
             </div>
         </div>
-		<div class="form-group text-right">
-            {% button type="save" name="publish" value="Publish" %}
-		</div>
-	</form>
-{% endblock %}
+        <div class="form-group text-right">{% button type="save" name="publish" value="Publish" %}</div>
+    </form>
+{% endblock %}
```

## NEMO/templates/news/news_update_form.html

```diff
@@ -1,30 +1,33 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Update a news story{% endblock %}
 {% block content %}
-	<h1>Update a news story</h1>
-	<h2>{{ story.title }}</h2>
-	<form action="{% url 'archive_story' story.id %}" method="post">
-		{% csrf_token %}
-		<div class="form-group">
+    <h1>Update a news story</h1>
+    <h2>{{ story.title }}</h2>
+    <form action="{% url 'archive_story' story.id %}" method="post">
+        {% csrf_token %}
+        <div class="form-group">
             {% button type="delete" submit=True value="Archive this news story" icon="glyphicon-folder-close" %}
-		</div>
-	</form>
-	<p>{{ story.all_content|safe|linebreaksbr }}</p>
-	<form method="post" action="{% url 'publish_news_update' story.id %}">
-		{% csrf_token %}
-		<div class="form-group">
-			<textarea name="update" class="form-control" rows="6" aria-label="Story update" placeholder="Provide an update"></textarea>
-		</div>
+        </div>
+    </form>
+    <p>{{ story.all_content|safe|linebreaksbr }}</p>
+    <form method="post" action="{% url 'publish_news_update' story.id %}">
+        {% csrf_token %}
+        <div class="form-group">
+            <textarea name="update"
+                      class="form-control"
+                      rows="6"
+                      aria-label="Story update"
+                      placeholder="Provide an update"></textarea>
+        </div>
         <div class="form-group">
             <div class="checkbox">
                 <label for="pinned">
-                    <input id="pinned" name="pinned" type="checkbox" {% if story.pinned %}checked{% endif %}> Keep this news story at the top of the news feed
+                    <input id="pinned" name="pinned" type="checkbox" {% if story.pinned %}checked{% endif %}>
+                    Keep this news story at the top of the news feed
                 </label>
             </div>
         </div>
-		<div class="form-group text-right">
-            {% button type="save" name="publish" value="Publish" %}
-		</div>
-	</form>
-{% endblock %}
+        <div class="form-group text-right">{% button type="save" name="publish" value="Publish" %}</div>
+    </form>
+{% endblock %}
```

## NEMO/templates/news/recent_news.html

```diff
@@ -1,57 +1,61 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}News{% endblock %}
 {% block content %}
-	<h1>
-		Recent news
+    <h1>
+        Recent news
         {% if user.is_any_part_of_staff %}
-		    {% if device == 'desktop' %}
+            {% if device == 'desktop' %}
                 {% button type="add" url="new_news_form" value="Publish new news" style="float: right" %}
-            {% elif device == 'mobile' %}<p>{% button type="add" url="new_news_form" value="Publish new news" %}</p>
-		    {% endif %}
+            {% elif device == 'mobile' %}
+                <p>{% button type="add" url="new_news_form" value="Publish new news" %}</p>
+            {% endif %}
         {% endif %}
-	</h1>
-	{% if news %}
-		{% if user.is_any_part_of_staff %}
-			<p>Click a news story title to publish an update or archive it.</p>
-		{% endif %}
-		<p>Stories that were updated recently appear first.</p>
-	{% endif %}
-	<p>You can also <a href="{% url 'view_archived_news' %}">view archived news</a>.</p>
-	<div class="row">
-		{% for story in news %}
-			<div class="col-sm-12">
-				<h3 style="line-height:1.4">
-					{% if story.id in notifications %}<span class="label label-success">New update</span>{% endif %}
-					{% if user.is_any_part_of_staff %}<a href="{% url 'news_update_form' story.id %}">{% endif %}
-					{{ story.title }}
-					{% if user.is_any_part_of_staff %}</a>{% endif %}
-				</h3>
-				{% if story.update_count > 2 %}
-					<div id="abridged_story_{{ story.id }}">
-						<p>{{ story.original_content|safe|linebreaksbr }}</p>
-						<p>... <a href="javascript:expand_story({{ story.id }})">show full story</a> ...</p>
-						<p>{{ story.last_update_content|safe|linebreaksbr }}</p>
-					</div>
-					<div id="full_story_{{ story.id }}" style="display:none">
-						<p>{{ story.all_content|safe|linebreaksbr }}</p>
-					</div>
-				{% else %}
-					<p>{{ story.all_content|safe|linebreaksbr }}</p>
-				{% endif %}
-			</div>
-		{% empty %}
-			<div class="col-sm-12">
-				There's no news!
-			</div>
-		{% endfor %}
-	</div>
-	<script>
+    </h1>
+    {% if news %}
+        {% if user.is_any_part_of_staff %}<p>Click a news story title to publish an update or archive it.</p>{% endif %}
+        <p>Stories that were updated recently appear first.</p>
+    {% endif %}
+    <p>
+        You can also <a href="{% url 'view_archived_news' %}">view archived news</a>.
+    </p>
+    <div class="row">
+        {% for story in news %}
+            <div class="col-sm-12">
+                <h3 style="line-height:1.4">
+                    {% if story.id in notifications %}<span class="label label-success">New update</span>{% endif %}
+                    {% if user.is_any_part_of_staff %}
+                        <a href="{% url 'news_update_form' story.id %}">
+                        {% endif %}
+                        {{ story.title }}
+                        {% if user.is_any_part_of_staff %}</a>{% endif %}
+                </h3>
+                {% if story.update_count > 2 %}
+                    <div id="abridged_story_{{ story.id }}">
+                        <p>{{ story.original_content|safe|linebreaksbr }}</p>
+                        <p>
+                            ... <a href="javascript:expand_story({{ story.id }})">show full story</a> ...
+                        </p>
+                        <p>{{ story.last_update_content|safe|linebreaksbr }}</p>
+                    </div>
+                    <div id="full_story_{{ story.id }}" style="display:none">
+                        <p>{{ story.all_content|safe|linebreaksbr }}</p>
+                    </div>
+                {% else %}
+                    <p>{{ story.all_content|safe|linebreaksbr }}</p>
+                {% endif %}
+            </div>
+        {% empty %}
+            <div class="col-sm-12">There's no news!</div>
+        {% endfor %}
+    </div>
+    <script>
 		function expand_story(story_id)
 		{
 			let fade_in = function() { $('#full_story_' + story_id).fadeIn() };
 			$('#abridged_story_' + story_id).fadeOut(undefined, "swing", fade_in);
 			return false;
 		}
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -8,15 +8,15 @@
 Click a news story title to publish an update or archive it.
 {% endif %}
 Stories that were updated recently appear first.
 {% endif %}
 You can also _v_i_e_w_ _a_r_c_h_i_v_e_d_ _n_e_w_s.
 {% for story in news %}
 ******** {{%% iiff ssttoorryy..iidd iinn nnoottiiffiiccaattiioonnss %%}}NNeeww uuppddaattee{{%% eennddiiff %%}} {{%% iiff
-uusseerr..iiss__aannyy__ppaarrtt__ooff__ssttaaffff %%}}_{{_%%_ _ee_nn_dd_ii_ff_ _%%_}}_ _{{_{{_ _ss_tt_oo_rr_yy_.._tt_ii_tt_ll_ee_ _}}_}}_ _{{_%%_ _ii_ff
+uusseerr..iiss__aannyy__ppaarrtt__ooff__ssttaaffff %%}} _{{_%%_ _ee_nn_dd_ii_ff_ _%%_}}_ _{{_{{_ _ss_tt_oo_rr_yy_.._tt_ii_tt_ll_ee_ _}}_}}_ _{{_%%_ _ii_ff
 _uu_ss_ee_rr_.._ii_ss____aa_nn_yy____pp_aa_rr_tt____oo_ff____ss_tt_aa_ff_ff_ _%%_}}{{%% eennddiiff %%}} ********
 {% if story.update_count > 2 %}
 {{ story.original_content|safe|linebreaksbr }}
 ... _s_h_o_w_ _f_u_l_l_ _s_t_o_r_y ...
 {{ story.last_update_content|safe|linebreaksbr }}
 {{ story.all_content|safe|linebreaksbr }}
 {% else %}
```

## NEMO/templates/occupancy/occupancy.html

```diff
@@ -1,11 +1,13 @@
 {% if occupants|length > 0 %}
-	<p>
-		Staff members are highlighted in <span class="bg-success">&nbsp;green&nbsp;</span><br>
-		Service personnel are highlighted in <span class="bg-warning">&nbsp;orange&nbsp;</span><br>
+    <p>
+        Staff members are highlighted in <span class="bg-success">&nbsp;green&nbsp;</span>
+        <br>
+        Service personnel are highlighted in <span class="bg-warning">&nbsp;orange&nbsp;</span>
+        <br>
         {% if reservations_can_expire %}
-        Users with expired reservations are highlighted in <span class="bg-danger">&nbsp;red&nbsp;</span>
+            Users with expired reservations are highlighted in <span class="bg-danger">&nbsp;red&nbsp;</span>
         {% endif %}
         Users logged in outside of their allowed schedule are highlighted in <span class="bg-danger">&nbsp;red&nbsp;</span>
-	</p>
-	{% include 'occupancy/occupancy_content.html' with area=area occupants=occupants %}
-{% endif %}
+    </p>
+    {% include 'occupancy/occupancy_content.html' with area=area occupants=occupants %}
+{% endif %}
```

## NEMO/templates/occupancy/occupancy_content.html

```diff
@@ -1,35 +1,44 @@
 {% load custom_tags_and_filters %}
 {# Panel is used to make table borders rounded. #}
 <div class="panel panel-default" {% if transparent_bg %}style="background:transparent"{% endif %}>
-	<table class="table table-bordered table-condensed" {% if transparent_bg %}style="background:transparent"{% endif %}>
-		<thead>
-			<tr>
-				<th colspan="4" style="font-size:large;">
-					<span class="primary-highlight">{{ area.name }}</span>
-					<span class="pull-right" style="font-size: medium">
-						{% include 'occupancy/occupancy_count.html' with area=area %}
-					</span>
-				</th>
-			</tr>
-			<tr>
-				<th {% if center_th %}style="text-align:center;"{% endif %}>User</th>
-				<th {% if center_th %}style="text-align:center;"{% endif %}>Since</th>
-				{% if "dashboard"|customization:"dashboard_hide_project" != "enabled" %}<th {% if center_th %}style="text-align:center;"{% endif %}>Working on project...</th>{% endif %}
-			</tr>
-		</thead>
-		<tbody>
-		{% for o in occupants %}
-			<tr {% if o.customer.is_any_part_of_staff %}class="success" {% elif o.customer.is_service_personnel %}class="warning" {% elif o.customer.is_logged_in_area_without_reservation or o.customer.is_logged_in_area_outside_authorized_schedule %}class="danger" {% endif %}>
-				<td style="white-space: nowrap;width:20%">
-					{% if show_force_logout and user.is_staff or show_force_logout and user.is_user_office %}
-						<span class="glyphicon glyphicon-remove-circle grey pointer" onclick="force_user_out_of_the_area('{% url 'force_area_logout' o.customer_id %}')" title="Force {{ o.customer }} to log out of the {{ o.area }}"></span>
-					{% endif %}
-					<span>{{ o.customer.first_name }} {{ o.customer.last_name }}</span>
-				</td>
-				<td style="white-space: nowrap;width:25%">{{ o.start|date:"MONTH_DAY_FORMAT" }} @  {{ o.start|time }}</td>
-				{% if "dashboard"|customization:"dashboard_hide_project" != "enabled" %}<td><div style="width: 0; min-width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">{{ o.project }}</div></td>{% endif %}
-			</tr>
-		{% endfor %}
-		</tbody>
-	</table>
-</div>
+    <table class="table table-bordered table-condensed"
+           {% if transparent_bg %}style="background:transparent"{% endif %}>
+        <thead>
+            <tr>
+                <th colspan="4" style="font-size:large;">
+                    <span class="primary-highlight">{{ area.name }}</span>
+                    <span class="pull-right" style="font-size: medium">{% include 'occupancy/occupancy_count.html' with area=area %}</span>
+                </th>
+            </tr>
+            <tr>
+                <th {% if center_th %}style="text-align:center;"{% endif %}>User</th>
+                <th {% if center_th %}style="text-align:center;"{% endif %}>Since</th>
+                {% if "dashboard"|customization:"dashboard_hide_project" != "enabled" %}
+                    <th {% if center_th %}style="text-align:center;"{% endif %}>Working on project...</th>
+                {% endif %}
+            </tr>
+        </thead>
+        <tbody>
+            {% for o in occupants %}
+                <tr {% if o.customer.is_any_part_of_staff %}class="success" {% elif o.customer.is_service_personnel %}class="warning" {% elif o.customer.is_logged_in_area_without_reservation or o.customer.is_logged_in_area_outside_authorized_schedule %}class="danger" {% endif %}>
+                    <td style="white-space: nowrap;width:20%">
+                        {% if show_force_logout and user.is_staff or show_force_logout and user.is_user_office %}
+                            <span class="glyphicon glyphicon-remove-circle grey pointer"
+                                  onclick="force_user_out_of_the_area('{% url 'force_area_logout' o.customer_id %}')"
+                                  title="Force {{ o.customer }} to log out of the {{ o.area }}"></span>
+                        {% endif %}
+                        <span>{{ o.customer.first_name }} {{ o.customer.last_name }}</span>
+                    </td>
+                    <td style="white-space: nowrap;width:25%">{{ o.start|date:"MONTH_DAY_FORMAT" }} @  {{ o.start|time }}</td>
+                    {% if "dashboard"|customization:"dashboard_hide_project" != "enabled" %}
+                        <td>
+                            <div style="width: 0; min-width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
+                                {{ o.project }}
+                            </div>
+                        </td>
+                    {% endif %}
+                </tr>
+            {% endfor %}
+        </tbody>
+    </table>
+</div>
```

## NEMO/templates/occupancy/occupancy_count.html

```diff
@@ -1,14 +1,26 @@
-{% if area.maximum_capacity != 0 and area.occupancy_count >= area.danger_capacity %}<span class="danger-highlight"><span class="glyphicon glyphicon-alert" style="margin-right: 10px"></span>
-{% elif area.maximum_capacity != 0 and area.occupancy_count >= area.warning_capacity %}<span class="warning-highlight"><span class="glyphicon glyphicon-alert" style="margin-right: 10px"></span>
-{% else %}<span>{% endif %}
-	{{ area.occupancy_count }}
-</span>{% if area.maximum_capacity != 0 %} / {{ area.maximum_capacity }}{% endif %}{% if area.occupancy_count != 1 or area.maximum_capacity != 0 %} people{% else %} person{% endif %}
+{% if area.maximum_capacity != 0 and area.occupancy_count >= area.danger_capacity %}
+    <span class="danger-highlight"><span class="glyphicon glyphicon-alert" style="margin-right: 10px"></span>
+{% elif area.maximum_capacity != 0 and area.occupancy_count >= area.warning_capacity %}
+    <span class="warning-highlight"><span class="glyphicon glyphicon-alert" style="margin-right: 10px"></span>
+{% else %}
+    <span>
+    {% endif %}
+    {{ area.occupancy_count }}
+</span>
+{% if area.maximum_capacity != 0 %}/ {{ area.maximum_capacity }}{% endif %}
+{% if area.occupancy_count != 1 or area.maximum_capacity != 0 %}
+    people
+{% else %}
+    person
+{% endif %}
 {% if area.occupancy != area.occupancy_count %}
-	{% if not area.count_staff_in_occupancy and area.count_service_personnel_in_occupancy %}
-		(+ {{ area.occupancy_staff }} staff)
-	{% elif not area.count_service_personnel_in_occupancy and area.count_staff_in_occupancy %}
-		(+ {{ area.occupancy_service_personnel }} service personnel)
-	{% else %}
-		(+ {{ area.occupancy_staff }} staff {% if area.occupancy_service_personnel > 0 %}and {{ area.occupancy_service_personnel }} service personnel{% endif %})
-	{% endif %}
-{% endif %}
+    {% if not area.count_staff_in_occupancy and area.count_service_personnel_in_occupancy %}
+        (+ {{ area.occupancy_staff }} staff)
+    {% elif not area.count_service_personnel_in_occupancy and area.count_staff_in_occupancy %}
+        (+ {{ area.occupancy_service_personnel }} service personnel)
+    {% else %}
+        (+ {{ area.occupancy_staff }} staff
+        {% if area.occupancy_service_personnel > 0 %}and {{ area.occupancy_service_personnel }} service personnel{% endif %}
+        )
+    {% endif %}
+{% endif %}
```

## NEMO/templates/pagination/pagination_base.html

```diff
@@ -1,27 +1,21 @@
 {% extends 'base.html' %}
 {% load static %}
 {% block content %}
-	{% block before_pagination %}{% endblock %}
-	{% if page %}
-		{% with paginator=page.paginator %}
+    {% block before_pagination %}{% endblock %}
+    {% if page %}
+        {% with paginator=page.paginator %}
             {% block pagination_header %}
-                <div class="pagination pull-right">
-                    {% include "pagination/pagination_selector.html" %}
-                </div>
+                <div class="pagination pull-right">{% include "pagination/pagination_selector.html" %}</div>
             {% endblock %}
-
             <div class="table-responsive" style="width: 100%">
-			    {% block pagination_content %}{% endblock %}
+                {% block pagination_content %}{% endblock %}
             </div>
-
-			{% block pagination_footer %}
-                <div class="pagination pull-right">
-                    {% include "pagination/pagination_pages.html" %}
-                </div>
+            {% block pagination_footer %}
+                <div class="pagination pull-right">{% include "pagination/pagination_pages.html" %}</div>
             {% endblock %}
-		{% endwith %}
-	{% else %}
-		{% block table_empty_content %}{% endblock %}
-	{% endif %}
-	{% block after_pagination %}{% endblock %}
-{% endblock %}
+        {% endwith %}
+    {% else %}
+        {% block table_empty_content %}{% endblock %}
+    {% endif %}
+    {% block after_pagination %}{% endblock %}
+{% endblock %}
```

## NEMO/templates/pagination/pagination_column.html

```diff
@@ -1,8 +1,10 @@
 {% load custom_tags_and_filters %}
 <span class="pagination-column">
-{% with order_list=order_by|concat:',-'|concat:order_by %} {# order_list = "name,-name #}
-	{% with order=page.paginator.order_by|cut:order_by|yesno:order_list %} {# order = -name if order_by is name and vice versa #}
-		<a href="?{{ extra_params }}&o={{ order }}&p={{ page.paginator.page_number }}&pp={{ page.paginator.per_page }}">{{ name }}<span class="{% if not page.paginator.order_by or order_by not in page.paginator.order_by or order_by|length|add:1 < page.paginator.order_by|length %}invisible{% endif %} glyphicon glyphicon-triangle-{% if order == order_by %}bottom{% else %}top{% endif %}"></span></a>
-	{% endwith %}
-{% endwith %}
-</span>
+    {% with order_list=order_by|concat:',-'|concat:order_by %}
+        {# order_list = "name,-name #}
+        {% with order=page.paginator.order_by|cut:order_by|yesno:order_list %}
+            {# order = -name if order_by is name and vice versa #}
+            <a href="?{{ extra_params }}&o={{ order }}&p={{ page.paginator.page_number }}&pp={{ page.paginator.per_page }}">{{ name }}<span class="{% if not page.paginator.order_by or order_by not in page.paginator.order_by or order_by|length|add:1 < page.paginator.order_by|length %}invisible{% endif %} glyphicon glyphicon-triangle-{% if order == order_by %}bottom{% else %}top{% endif %}"></span></a>
+        {% endwith %}
+    {% endwith %}
+</span>
```

## NEMO/templates/pagination/pagination_pages.html

```diff
@@ -1,15 +1,11 @@
 <span class="step-links">
     {% if page.has_previous %}
         <a href="?o={{ paginator.order_by }}&p=1&pp={{ paginator.per_page }}">&laquo; first</a>
         <a href="?o={{ paginator.order_by }}&p={{ page.previous_page_number }}&pp={{ paginator.per_page }}">previous</a>
     {% endif %}
-
-    <span class="current">
-        Page {{ page.number }} of {{ paginator.num_pages }}
-    </span>
-
+    <span class="current">Page {{ page.number }} of {{ paginator.num_pages }}</span>
     {% if page.has_next %}
         <a href="?o={{ paginator.order_by }}&p={{ page.next_page_number }}&pp={{ paginator.per_page }}">next</a>
         <a href="?o={{ paginator.order_by }}&p={{ paginator.num_pages }}&pp={{ paginator.per_page }}">last &raquo;</a>
     {% endif %}
-</span>
+</span>
```

## NEMO/templates/pagination/pagination_selector.html

```diff
@@ -1,8 +1,9 @@
-<select id="results_per_page" onchange="window.location = '?o={{ paginator.order_by }}&p={{ page.number }}&pp='+this.value">
+<select id="results_per_page"
+        onchange="window.location = '?o={{ paginator.order_by }}&p={{ page.number }}&pp='+this.value">
     <option value="5" {% if paginator.per_page == 5 %}selected{% endif %}>5</option>
     <option value="25" {% if paginator.per_page == 25 %}selected{% endif %}>25</option>
     <option value="50" {% if paginator.per_page == 50 %}selected{% endif %}>50</option>
     <option value="100" {% if paginator.per_page == 100 %}selected{% endif %}>100</option>
     <option value="0" {% if paginator.per_page == paginator.count %}selected{% endif %}>All</option>
 </select>
-<label for="results_per_page">results per page</label>
+<label for="results_per_page">results per page</label>
```

## NEMO/templates/remote_work/remote_work.html

```diff
@@ -1,201 +1,245 @@
 {% extends 'remote_work/remote_work_base.html' %}
 {% load static %}
 {% load custom_tags_and_filters %}
 {% block title %}Previous work{% endblock %}
 {% block remote_work_title %}Previous work{% endblock %}
 {% block remote_work_tab_class %}active{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block tab_content %}
-	<p>This page displays remote work done by {{ facility_name }} staff on behalf of users. You can filter by which staff member performed the work, and
-	when, by using the dropdown boxes below.</p>
-
+    <p>
+        This page displays remote work done by {{ facility_name }} staff on behalf of users. You can filter by which staff member performed the work, and
+        when, by using the dropdown boxes below.
+    </p>
     {% if remote_work_validation %}
-        <p>Each charge can be validated, which means that you have confirmed that the charge is legitimate and correct, and no adjustment needs to
-        be made to it. Press the green 'Validate' button on an individual row to validate a charge. Charges that have already been validated are
-        highlighted in <span class="success-highlight">green</span>.</p>
-
-        <p>Do not validate a charge if part or all of it is incorrect. Instead, visit the user office so an adjustment can be entered
-        into the billing system. Furthermore, please visit the user office if there is a charge that you forgot to enter.</p>
+        <p>
+            Each charge can be validated, which means that you have confirmed that the charge is legitimate and correct, and no adjustment needs to
+            be made to it. Press the green 'Validate' button on an individual row to validate a charge. Charges that have already been validated are
+            highlighted in <span class="success-highlight">green</span>.
+        </p>
+        <p>
+            Do not validate a charge if part or all of it is incorrect. Instead, visit the user office so an adjustment can be entered
+            into the billing system. Furthermore, please visit the user office if there is a charge that you forgot to enter.
+        </p>
     {% endif %}
-
-	<form id="remote_work_form" class="form-horizontal" role="form" style="margin-top: 20px">
-		<input type="hidden" name="csv" id="hidden_data_csv"/>
-		<div class="form-group">
-			<label class="control-label col-md-2" for="operator">View charges for</label>
-			<div class="col-md-4">
-				<select id="operator" name="operator" class="form-control">
-					<option {% if selected_staff == "all staff" %}selected{% endif %}>all staff</option>
-					{% for s in staff_list %}
-						<option value="{{ s.id }}" {% if s.id == selected_staff %}selected{% endif %}>{{ s }}</option>
-					{% endfor %}
-				</select>
-			</div>
-			<div class="control-label col-md-2">
-				<label class="text-center" style="width: 100%" for="project">and for</label>
-			</div>
-			<div class="col-md-4">
-				<select id="project" name="project" class="form-control">
-					<option {% if selected_project == "all projects" %}selected{% endif %}>all projects</option>
-					{% for p in project_list %}
-						<option value="{{ p.id }}" {% if p.id == selected_project %}selected{% endif %}>{{ p }}</option>
-					{% endfor %}
-				</select>
-			</div>
-		</div>
-		<div class="form-group">
-			<label for="month_list" class="control-label col-md-2">during</label>
-			<div class="col-md-3">
-				<select id="month_list" class="form-control" style="margin-right: 5px;" onchange="set_dates_from_month(this.value)">
-					<option selected></option>
-					{% for month in month_list %}
-						<option>{{ month|date:"F, Y" }}</option>
-					{% endfor %}
-				</select>
-			</div>
-			<div class="control-label col-md-2" style="padding-left: 0;padding-right: 0">
-				<label for="start_date" class="text-center" style="width: 100%">or between</label>
-			</div>
-			<div class="col-md-2">
-				<input type="text" id="start_date" name="start" class="form-control text-center" placeholder="Choose a date" value="{{ start_date.date|input_date_format }}">
-			</div>
-			<div class="control-label col-md-1">
-				<label for="end_date" class="text-center" style="width: 100%">and</label>
-			</div>
-			<div class="col-md-2">
-				<input type="text" id="end_date" name="end" class="form-control text-center" placeholder="Choose a date" value="{{ end_date.date|input_date_format }}">
-			</div>
-		</div>
-		<div class="form-group" style="margin-top: 25px">
-			<div class="col-md-offset-2 col-md-5 col-xs-6">
+    <form id="remote_work_form" class="form-horizontal" role="form" style="margin-top: 20px">
+        <input type="hidden" name="csv" id="hidden_data_csv" />
+        <div class="form-group">
+            <label class="control-label col-md-2" for="operator">View charges for</label>
+            <div class="col-md-4">
+                <select id="operator" name="operator" class="form-control">
+                    <option {% if selected_staff == "all staff" %}selected{% endif %}>all staff</option>
+                    {% for s in staff_list %}
+                        <option value="{{ s.id }}" {% if s.id == selected_staff %}selected{% endif %}>{{ s }}</option>
+                    {% endfor %}
+                </select>
+            </div>
+            <div class="control-label col-md-2">
+                <label class="text-center" style="width: 100%" for="project">and for</label>
+            </div>
+            <div class="col-md-4">
+                <select id="project" name="project" class="form-control">
+                    <option {% if selected_project == "all projects" %}selected{% endif %}>all projects</option>
+                    {% for p in project_list %}
+                        <option value="{{ p.id }}" {% if p.id == selected_project %}selected{% endif %}>{{ p }}</option>
+                    {% endfor %}
+                </select>
+            </div>
+        </div>
+        <div class="form-group">
+            <label for="month_list" class="control-label col-md-2">during</label>
+            <div class="col-md-3">
+                <select id="month_list"
+                        class="form-control"
+                        style="margin-right: 5px"
+                        onchange="set_dates_from_month(this.value)">
+                    <option selected></option>
+                    {% for month in month_list %}<option>{{ month|date:"F, Y" }}</option>{% endfor %}
+                </select>
+            </div>
+            <div class="control-label col-md-2" style="padding-left: 0;padding-right: 0">
+                <label for="start_date" class="text-center" style="width: 100%">or between</label>
+            </div>
+            <div class="col-md-2">
+                <input type="text"
+                       id="start_date"
+                       name="start"
+                       class="form-control text-center"
+                       placeholder="Choose a date"
+                       value="{{ start_date.date|input_date_format }}">
+            </div>
+            <div class="control-label col-md-1">
+                <label for="end_date" class="text-center" style="width: 100%">and</label>
+            </div>
+            <div class="col-md-2">
+                <input type="text"
+                       id="end_date"
+                       name="end"
+                       class="form-control text-center"
+                       placeholder="Choose a date"
+                       value="{{ end_date.date|input_date_format }}">
+            </div>
+        </div>
+        <div class="form-group" style="margin-top: 25px">
+            <div class="col-md-offset-2 col-md-5 col-xs-6">
                 {% button type="save" submit=False value="Update" icon="glyphicon-refresh" onclick="$('#hidden_data_csv').val('');$('#remote_work_form').submit();" %}
             </div>
-			<div class="col-md-5 col-xs-6 text-right">
+            <div class="col-md-5 col-xs-6 text-right">
                 {% button type="export" submit=False value="Export" onclick="$('#hidden_data_csv').val('true');$('#remote_work_form').submit();" %}
-			</div>
-		</div>
-	</form>
-
-	<h3>Staff charges</h3>
-	<table class="table">
-		<thead>
-		<tr>
-			<th>ID</th>
-			<th>Staff member</th>
-			<th>Customer</th>
-			<th>Project</th>
-			<th>Start</th>
-			<th>End</th>
-			{% if remote_work_validation %}<th>Validate</th>{% endif %}
-		</tr>
-		</thead>
-		<tbody>
-		{% for c in staff_charges %}
-			<tr class="staff_charge_row_{{ c.id }} {% if remote_work_validation and  c.validated %}success-highlight{% endif %}">
-				{% admin_edit_url c request.build_absolute_uri as edit_url %}
-                {% if edit_url %}
-                    <td><a href="{{ edit_url }}">{{ c.id }}</a></td>
-                {% else %}
-                    <td>{{ c.id }}</td>
+            </div>
+        </div>
+    </form>
+    <h3>Staff charges</h3>
+    <table class="table">
+        <thead>
+            <tr>
+                <th>ID</th>
+                <th>Staff member</th>
+                <th>Customer</th>
+                <th>Project</th>
+                <th>Start</th>
+                <th>End</th>
+                {% if remote_work_validation %}<th>Validate</th>{% endif %}
+            </tr>
+        </thead>
+        <tbody>
+            {% for c in staff_charges %}
+                <tr class="staff_charge_row_{{ c.id }} {% if remote_work_validation and  c.validated %}success-highlight{% endif %}">
+                    {% admin_edit_url c request.build_absolute_uri as edit_url %}
+                    {% if edit_url %}
+                        <td>
+                            <a href="{{ edit_url }}">{{ c.id }}</a>
+                        </td>
+                    {% else %}
+                        <td>{{ c.id }}</td>
+                    {% endif %}
+                    <td>{{ c.staff_member }}</td>
+                    <td>{{ c.customer }}</td>
+                    <td>{{ c.project }}</td>
+                    <td>{{ c.start }}</td>
+                    <td>{{ c.end|default_if_none:'' }}</td>
+                    {% if remote_work_validation %}
+                        <td {% if c.note and c.areaaccessrecord_set.exists %}rowspan="3" {% elif c.note or c.areaaccessrecord_set.exists %}rowspan="2"{% endif %}
+                            style="vertical-align: middle">
+                            {% url 'validate_staff_charge' c.id as validate_staff_charge_url %}
+                            {% if c.end and not c.validated %}
+                                {% button type="save" submit=False onclick="validate_charge('"|concat:validate_staff_charge_url|concat:"', this, '.staff_charge_row_"|concat:c.id|concat:"')" icon="glyphicon-ok-circle" value="Validate" %}
+                            {% endif %}
+                        </td>
+                    {% endif %}
+                </tr>
+                {% if c.note %}
+                    <tr class="staff_charge_row_{{ c.id }} {% if remote_work_validation and c.validated %}success-highlight{% endif %}">
+                        <td style="border: none; padding-top: 0"></td>
+                        <td colspan="5" style="border:none; padding-top: 0">
+                            Charge note: {{ c.note|linebreaksbr }}
+                            <br>
+                        </td>
+                    </tr>
                 {% endif %}
-				<td>{{ c.staff_member }}</td>
-				<td>{{ c.customer }}</td>
-				<td>{{ c.project }}</td>
-				<td>{{ c.start }}</td>
-				<td>{{ c.end|default_if_none:'' }}</td>
-				{% if remote_work_validation %}
-                    <td {% if c.note and c.areaaccessrecord_set.exists %}rowspan="3" {% elif c.note or c.areaaccessrecord_set.exists %}rowspan="2"{% endif %} style="vertical-align: middle">
-                        {% url 'validate_staff_charge' c.id as validate_staff_charge_url %}
-                        {% if c.end and not c.validated %}
-                            {% button type="save" submit=False onclick="validate_charge('"|concat:validate_staff_charge_url|concat:"', this, '.staff_charge_row_"|concat:c.id|concat:"')" icon="glyphicon-ok-circle" value="Validate" %}
+                {% for area_access_record in c.areaaccessrecord_set.all %}
+                    <tr class="staff_charge_row_{{ c.id }} {% if remote_work_validation and c.validated %}success-highlight{% endif %}"
+                        style="font-size: smaller">
+                        {% admin_edit_url area_access_record request.build_absolute_uri as edit_url %}
+                        {% if edit_url %}
+                            <td>
+                                <a href="{{ edit_url }}">{{ area_access_record.id }}</a>
+                            </td>
+                        {% else %}
+                            <td>{{ area_access_record.id }}</td>
+                        {% endif %}
+                        <td colspan="3" style="border-top-style: dotted">{{ area_access_record.area.name }} access</td>
+                        <td style="border-top-style: dotted">{{ area_access_record.start }}</td>
+                        <td style="border-top-style: dotted">{{ area_access_record.end|default_if_none:'' }}</td>
+                    </tr>
+                {% endfor %}
+            {% empty %}
+                <tr>
+                    <td colspan="7">
+                        {% if start_date or end_date %}
+                            No staff charges exist
+                            {% if start_date and end_date %}
+                                between {{ start_date }} and {{ end_date }}
+                            {% elif start_date %}
+                                after {{ start_date }}
+                            {% else %}
+                                before {{ end_date }}
+                            {% endif %}
+                            .
                         {% endif %}
                     </td>
-                {% endif %}
-			</tr>
-            {% if c.note %}
-                <tr class="staff_charge_row_{{ c.id }} {% if remote_work_validation and c.validated %}success-highlight{% endif %}">
-                    <td style="border: none; padding-top: 0"></td>
-                    <td colspan="5" style="border:none; padding-top: 0">Charge note: {{ c.note|linebreaksbr }}<br></td>
                 </tr>
-            {% endif %}
-			{% for area_access_record in c.areaaccessrecord_set.all %}
-				<tr class="staff_charge_row_{{ c.id }} {% if remote_work_validation and c.validated %}success-highlight{% endif %}" style="font-size: smaller">
-					{% admin_edit_url area_access_record request.build_absolute_uri as edit_url %}
+            {% endfor %}
+        </tbody>
+    </table>
+    <br>
+    <h3>Tool usage</h3>
+    <table class="table">
+        <thead>
+            <tr>
+                <th>ID</th>
+                <th>Operator</th>
+                <th>User</th>
+                <th>Project</th>
+                <th>Start</th>
+                <th>End</th>
+                <th>Tool</th>
+                {% if remote_work_validation %}<th>Validate</th>{% endif %}
+            </tr>
+        </thead>
+        <tbody>
+            {% for u in usage %}
+                <tr {% if remote_work_validation and u.validated %}class="success-highlight"{% endif %}
+                    id="usage_event_row_{{ forloop.counter }}">
+                    {% admin_edit_url u request.build_absolute_uri as edit_url %}
                     {% if edit_url %}
-                        <td><a href="{{ edit_url }}">{{ area_access_record.id }}</a></td>
+                        <td>
+                            <a href="{{ edit_url }}">{{ u.id }}</a>
+                        </td>
                     {% else %}
-                        <td>{{ area_access_record.id }}</td>
+                        <td>{{ u.id }}</td>
                     {% endif %}
-					<td colspan="3" style="border-top-style: dotted">{{ area_access_record.area.name }} access</td>
-					<td style="border-top-style: dotted">{{ area_access_record.start }}</td>
-					<td style="border-top-style: dotted">{{ area_access_record.end|default_if_none:'' }}</td>
-				</tr>
-			{%  endfor %}
-        {% empty %}
-            <tr><td colspan="7">
-                {% if start_date or end_date %}
-                    No staff charges exist {% if start_date and end_date %}between {{ start_date }} and {{ end_date }}{% elif start_date %}after {{ start_date }}{% else %}before {{ end_date }}{% endif %}.
-                {% endif %}
-            </td></tr>
-		{% endfor %}
-		</tbody>
-	</table>
-	<br>
-	<h3>Tool usage</h3>
-	<table class="table">
-		<thead>
-		<tr>
-			<th>ID</th>
-			<th>Operator</th>
-			<th>User</th>
-			<th>Project</th>
-			<th>Start</th>
-			<th>End</th>
-			<th>Tool</th>
-			{% if remote_work_validation %}<th>Validate</th>{% endif %}
-		</tr>
-		</thead>
-		<tbody>
-		{% for u in usage %}
-			<tr {% if remote_work_validation and u.validated %}class="success-highlight"{% endif %} id="usage_event_row_{{ forloop.counter }}">
-				{% admin_edit_url u request.build_absolute_uri as edit_url %}
-                {% if edit_url %}
-                    <td><a href="{{ edit_url }}">{{ u.id }}</a></td>
-                {% else %}
-                    <td>{{ u.id }}</td>
-                {% endif %}
-				<td>{{ u.operator }}</td>
-				<td>{{ u.user }}</td>
-				<td>{{ u.project }}</td>
-				<td>{{ u.start }}</td>
-				<td>{{ u.end|default_if_none:'' }}</td>
-				<td>{{ u.tool }}</td>
-				{% if remote_work_validation %}
-                    <td>
-                        {% url 'validate_usage_event' u.id as validate_usage_url %}
-                        {% if u.end and not u.validated %}
-                            {% button type="save" submit=False onclick="validate_charge('"|concat:validate_usage_url|concat:"', this, '#usage_event_row_"|concat:forloop.counter|concat:"')" icon="glyphicon-ok-circle" value="Validate" %}
+                    <td>{{ u.operator }}</td>
+                    <td>{{ u.user }}</td>
+                    <td>{{ u.project }}</td>
+                    <td>{{ u.start }}</td>
+                    <td>{{ u.end|default_if_none:'' }}</td>
+                    <td>{{ u.tool }}</td>
+                    {% if remote_work_validation %}
+                        <td>
+                            {% url 'validate_usage_event' u.id as validate_usage_url %}
+                            {% if u.end and not u.validated %}
+                                {% button type="save" submit=False onclick="validate_charge('"|concat:validate_usage_url|concat:"', this, '#usage_event_row_"|concat:forloop.counter|concat:"')" icon="glyphicon-ok-circle" value="Validate" %}
+                            {% endif %}
+                        </td>
+                    {% endif %}
+                </tr>
+            {% empty %}
+                <tr>
+                    <td colspan="8">
+                        {% if start_date or end_date %}
+                            No tool usage exist
+                            {% if start_date and end_date %}
+                                between {{ start_date }} and {{ end_date }}
+                            {% elif start_date %}
+                                after {{ start_date }}
+                            {% else %}
+                                before {{ end_date }}
+                            {% endif %}
+                            .
                         {% endif %}
                     </td>
-                {% endif %}
-			</tr>
-        {% empty %}
-            <tr><td colspan="8">
-                {% if start_date or end_date %}
-                    No tool usage exist {% if start_date and end_date %}between {{ start_date }} and {{ end_date }}{% elif start_date %}after {{ start_date }}{% else %}before {{ end_date }}{% endif %}.
-                {% endif %}
-            </td></tr>
-		{% endfor %}
-		</tbody>
-	</table>
-
-	<script>
+                </tr>
+            {% endfor %}
+        </tbody>
+    </table>
+    <script>
         const js_date_format = "{{ date_input_js_format }}";
 
 		function validate_charge(url, button, row)
 		{
 			$(button).hide();
 			$(row).addClass('success-highlight');
 			let failure_dialog = ajax_failure_callback("Unable to validate charge");
@@ -228,10 +272,10 @@
 					let month = start.format("MMMM, YYYY");
 					$('#month_list').val(month)
 				}
 			}
 		}
 
         window.addEventListener("load", set_dropdown_selected)
-	</script>
-
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,13 +1,13 @@
 {% extends 'remote_work/remote_work_base.html' %} {% load static %} {% load
 custom_tags_and_filters %} {% block title %}Previous work{% endblock %} {%
 block remote_work_title %}Previous work{% endblock %} {% block
 remote_work_tab_class %}active{% endblock %} {% block extrahead %}
 }">
-}"/> {% endblock %} {% block tab_content %}
+}" /> {% endblock %} {% block tab_content %}
 This page displays remote work done by {{ facility_name }} staff on behalf of
 users. You can filter by which staff member performed the work, and when, by
 using the dropdown boxes below.
 {% if remote_work_validation %}
 Each charge can be validated, which means that you have confirmed that the
 charge is legitimate and correct, and no adjustment needs to be made to it.
 Press the green 'Validate' button on an individual row to validate a charge.
@@ -46,17 +46,17 @@
                                             c.staff_member c.customer c.project
                                             }}             }}         }}
                       Charge note: {{ c.note|linebreaksbr }}
 _{                     {                                                         {                        {
 _{                     {                     {{ area_access_record.area.name }}  {                        {
 _a_r_e_a___a_c_c_e_s_s___r_e_c_o_r_d_._i_d area_access_record.id access                              area_access_record.start area_access_record.end|default_if_none:
 _}_}                    }}                                                        }}                       '' }}
-{% if start_date or end_date %} No staff charges exist {% if start_date and end_date %}between {{ start_date }} and {{ end_date }}{% elif
-start_date %}after {{ start_date }}{% else %}before {{ end_date }}{% endif %}. {% endif %}
+{% if start_date or end_date %} No staff charges exist {% if start_date and end_date %} between {{ start_date }} and {{ end_date }} {% elif
+start_date %} after {{ start_date }} {% else %} before {{ end_date }} {% endif %} . {% endif %}
 
 ******** TTooooll uussaaggee ********
 IIDD OOppeerraattoorr UUsseerr PPrroojjeecctt SSttaarrtt EEnndd TTooooll VVaalliiddaattee
 {% if start_date or end_date %} No tool usage exist {% if start_date and
-end_date %}between {{ start_date }} and {{ end_date }}{% elif start_date
-%}after {{ start_date }}{% else %}before {{ end_date }}{% endif %}. {%
-endif %}
+end_date %} between {{ start_date }} and {{ end_date }} {% elif
+start_date %} after {{ start_date }} {% else %} before {{ end_date }} {%
+endif %} . {% endif %}
 {% endblock %}
```

## NEMO/templates/remote_work/remote_work_base.html

```diff
@@ -6,18 +6,18 @@
             <li class="{% block staff_charges_tab_class %}{% endblock %}">
                 <a href="#remote_work_tab" onclick="location.href = '{% url "staff_charges" %}'">Staff charges</a>
             </li>
             <li class="{% block remote_work_tab_class %}{% endblock %}">
                 <a href="#remote_work_tab" onclick="location.href = '{% url "remote_work" %}'">Previous work</a>
             </li>
         </ul>
-        <h1 class="pull-left" style="margin-top: 0;margin-right: 20px">{% block remote_work_title %}Staff charges{% endblock %}</h1>
+        <h1 class="pull-left" style="margin-top: 0;margin-right: 20px">
+            {% block remote_work_title %}Staff charges{% endblock %}
+        </h1>
     </div>
     <div class="tab-content">
         <div class="tab-pane active" id="remote_work_tab">
-             {% block tab_content %}{% endblock %}
+            {% block tab_content %}{% endblock %}
         </div>
     </div>
-    <script>
-        $("#tabs").find("a").click(switch_tab);
-    </script>
-{% endblock %}
+    <script>$("#tabs").find("a").click(switch_tab);</script>
+{% endblock %}
```

## NEMO/templates/requests/user_requests.html

```diff
@@ -1,84 +1,98 @@
 {% extends 'base.html' %}
 {% block title %}{{ requests_page_title }}{% endblock %}
 {% block extrahead %}
-	{# For training requests #}
-	{% load static %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    {# For training requests #}
+    {% load static %}
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
     <div class="clearfix" style="margin-top: 0;">
-        <ul class="nav nav-pills nav-pills-spacer" id="tabs" style="display: inline-block;float: right; margin-bottom: 15px">
+        <ul class="nav nav-pills nav-pills-spacer"
+            id="tabs"
+            style="display: inline-block;
+                   float: right;
+                   margin-bottom: 15px">
             {% if access_user_request_allowed_exist and facility_managers_exist %}
                 <li class="{% if tab == 'access' %}active{% endif %}">
                     <a href="#access-requests" onclick="location.href = '{% url "user_requests" "access" %}'">{{ access_requests_title }}
                         {% if temporary_access_notification_count %}
                             <span class="badge badge-tab-top">{{ temporary_access_notification_count }}</span>
                         {% endif %}
                     </a>
                 </li>
             {% endif %}
             {% if buddy_system_areas_exist %}
                 <li class="{% if tab == 'buddy' %}active{% endif %}">
                     <a href="#buddy-requests" onclick="location.href = '{% url "user_requests" "buddy" %}'">{{ buddy_requests_title }}
-                        {% if buddy_notification_count %}
-                            <span class="badge badge-tab-top">{{ buddy_notification_count }}</span>
-                        {% endif %}
+                        {% if buddy_notification_count %}<span class="badge badge-tab-top">{{ buddy_notification_count }}</span>{% endif %}
                     </a>
                 </li>
             {% endif %}
             {% if adjustment_request_allowed and facility_managers_exist %}
                 <li class="{% if tab == 'adjustment' %}active{% endif %}">
                     <a href="#adjustment-requests" onclick="location.href = '{% url "user_requests" "adjustment" %}'">{{ adjustment_requests_title }}
                         {% if adjustment_notification_count %}
                             <span class="badge badge-tab-top">{{ adjustment_notification_count }}</span>
                         {% endif %}
                     </a>
                 </li>
             {% endif %}
-			{% if training_show_in_user_requests %}
+            {% if training_show_in_user_requests %}
                 <li class="{% if tab == 'training' %}active{% endif %}">
                     <a href="#training-requests" onclick="location.href = '{% url "user_requests" "training" %}'">Training
                         {% if training_request_notification_count %}
                             <span class="badge badge-tab-top">{{ training_request_notification_count }}</span>
                         {% endif %}
                     </a>
                 </li>
             {% endif %}
         </ul>
-        <h1 class="pull-left" style="margin-top: 0;margin-right: 20px">{% if tab == 'access' %}{{ access_requests_title }}{% elif tab == 'buddy' %}{{ buddy_requests_title }}{% elif tab == 'adjustment' %}{{ adjustment_requests_title }}{% elif tab == 'training' %}Training requests{% else %}Requests{% endif %}</h1>
+        <h1 class="pull-left" style="margin-top: 0;margin-right: 20px">
+            {% if tab == 'access' %}
+                {{ access_requests_title }}
+            {% elif tab == 'buddy' %}
+                {{ buddy_requests_title }}
+            {% elif tab == 'adjustment' %}
+                {{ adjustment_requests_title }}
+            {% elif tab == 'training' %}
+                Training requests
+            {% else %}
+                Requests
+            {% endif %}
+        </h1>
     </div>
     <div class="tab-content">
         {% if access_user_request_allowed_exist and facility_managers_exist %}
             <div class="tab-pane{% if tab == 'access' %} active{% endif %}" id="access-requests">
                 {# This will be loaded asynchronously #}
             </div>
         {% endif %}
         {% if buddy_system_areas_exist %}
-	        <div class="tab-pane{% if tab == 'buddy' %} active{% endif %}" id="buddy-requests">
+            <div class="tab-pane{% if tab == 'buddy' %} active{% endif %}" id="buddy-requests">
                 {# This will be loaded asynchronously #}
             </div>
         {% endif %}
         {% if adjustment_request_allowed and facility_managers_exist %}
             <div class="tab-pane{% if tab == 'adjustment' %} active{% endif %}" id="adjustment-requests">
                 {# This will be loaded asynchronously #}
             </div>
         {% endif %}
-		{% if training_show_in_user_requests %}
+        {% if training_show_in_user_requests %}
             <div class="tab-pane{% if tab == 'training' %} active{% endif %}" id="training-requests">
                 {# This will be loaded asynchronously #}
             </div>
         {% endif %}
     </div>
-	{# For training tab	#}
-	{% include 'snippets/confirm_action_modal.html' %}
+    {# For training tab	#}
+    {% include 'snippets/confirm_action_modal.html' %}
     <script>
         $("#tabs").find("a").click(switch_tab);
-        
+
         let general_failure_callback = ajax_failure_callback("There was an error processing your request")
 
         function load_buddy_board()
         {
             let failure_dialog = ajax_complete_callback("Unable to load buddy requests", "There was a problem looking up buddy requests.");
             $("#buddy-requests").load("{% url 'buddy_requests' %}", undefined, failure_dialog);
         }
@@ -98,8 +112,8 @@
             $("#training-requests").load("{% url 'schedule_training_events_ajax' %}?{{ request.META.QUERY_STRING|safe }}", undefined, failure_dialog);
         }
         {% if tab == 'buddy' %}load_buddy_board();{% endif %}
         {% if tab == 'access' %}load_access_requests();{% endif %}
         {% if tab == 'adjustment' %}load_adjustment_requests();{% endif %}
         {% if tab == 'training' %}load_training_requests();{% endif %}
     </script>
-{% endblock %}
+{% endblock %}
```

### html2text {}

```diff
@@ -1,30 +1,30 @@
 {% extends 'base.html' %} {% block title %}{{ requests_page_title }}{% endblock
 %} {% block extrahead %} {# For training requests #} {% load static %}
 }">
-}"/> {% endblock %} {% block content %}
+}" /> {% endblock %} {% block content %}
     * {% if access_user_request_allowed_exist and facility_managers_exist %}
     * access" %}'">{{ access_requests_title }} {% if
       temporary_access_notification_count %} {
       { temporary_access_notification_count }} {% endif %}
 {% endif %} {% if buddy_system_areas_exist %}
-buddy" %}'">{{ buddy_requests_title }} {% if buddy_notification_count %} {
-{ buddy_notification_count }} {% endif %}
+buddy" %}'">{{ buddy_requests_title }} {% if buddy_notification_count %}{
+{ buddy_notification_count }}{% endif %}
 {% endif %} {% if adjustment_request_allowed and facility_managers_exist %}
 adjustment" %}'">{{ adjustment_requests_title }} {% if
 adjustment_notification_count %} {{ adjustment_notification_count }} {% endif
 %}
 {% endif %} {% if training_show_in_user_requests %}
 training" %}'">Training {% if training_request_notification_count %} {
 { training_request_notification_count }} {% endif %}
 {% endif %}
-************ {{%% iiff ttaabb ==== ''aacccceessss'' %%}}{{{{ aacccceessss__rreeqquueessttss__ttiittllee }}}}{{%% eelliiff ttaabb ====
-''bbuuddddyy'' %%}}{{{{ bbuuddddyy__rreeqquueessttss__ttiittllee }}}}{{%% eelliiff ttaabb ==== ''aaddjjuussttmmeenntt'' %%}}{{
-{{ aaddjjuussttmmeenntt__rreeqquueessttss__ttiittllee }}}}{{%% eelliiff ttaabb ==== ''ttrraaiinniinngg'' %%}}TTrraaiinniinngg rreeqquueessttss{{%%
-eellssee %%}}RReeqquueessttss{{%% eennddiiff %%}} ************
+************ {{%% iiff ttaabb ==== ''aacccceessss'' %%}} {{{{ aacccceessss__rreeqquueessttss__ttiittllee }}}} {{%% eelliiff ttaabb ====
+''bbuuddddyy'' %%}} {{{{ bbuuddddyy__rreeqquueessttss__ttiittllee }}}} {{%% eelliiff ttaabb ==== ''aaddjjuussttmmeenntt'' %%}} {{
+{{ aaddjjuussttmmeenntt__rreeqquueessttss__ttiittllee }}}} {{%% eelliiff ttaabb ==== ''ttrraaiinniinngg'' %%}} TTrraaiinniinngg rreeqquueessttss
+{{%% eellssee %%}} RReeqquueessttss {{%% eennddiiff %%}} ************
 {% if access_user_request_allowed_exist and facility_managers_exist %}
 {# This will be loaded asynchronously #}
 {% endif %} {% if buddy_system_areas_exist %}
 {# This will be loaded asynchronously #}
 {% endif %} {% if adjustment_request_allowed and facility_managers_exist %}
 {# This will be loaded asynchronously #}
 {% endif %} {% if training_show_in_user_requests %}
```

## NEMO/templates/requests/access_requests/access_request.html

```diff
@@ -1,112 +1,160 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% load static %}
-{% block title %}{% if form.instance.id %}Modify access request{% else %}New access request{% endif %}{% endblock %}
+{% block title %}
+    {% if form.instance.id %}
+        Modify access request
+    {% else %}
+        New access request
+    {% endif %}
+{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
-    <h1 class="form-group">{% if form.instance.id %}Modify access request{% else %}New access request{% endif %}</h1>
-	<form class="well" action="{% if form.instance.id %}{% url 'edit_access_request' form.instance.id %}{% else %}{% url 'create_access_request' %}{% endif %}" method="post">
-		{% csrf_token %}
-		{% if form.non_field_errors %}
-			<div class="alert alert-danger">
-				{{ form.non_field_errors }}
-			</div>
-		{% endif %}
-		<div class="form-group">
-			<div class="row">
-				<div class="col-md-3 col-sm-6">
-					<label for="start_time">Start</label>
-					<input type="text" class="form-control text-center" name="start_time" id="start_time" value="{{ form.start_time.value|input_date_format }}" required>
-                </div>
-				<div class="col-md-3 col-sm-6">
-					<label for="end_time">End</label>
-					<input type="text" class="form-control text-center" name="end_time" id="end_time" value="{{ form.end_time.value|input_date_format }}" required>
-				</div>
-			</div>
+    <h1 class="form-group">
+        {% if form.instance.id %}
+            Modify access request
+        {% else %}
+            New access request
+        {% endif %}
+    </h1>
+    <form class="well"
+          action="{% if form.instance.id %}{% url 'edit_access_request' form.instance.id %}{% else %}{% url 'create_access_request' %}{% endif %}"
+          method="post">
+        {% csrf_token %}
+        {% if form.non_field_errors %}<div class="alert alert-danger">{{ form.non_field_errors }}</div>{% endif %}
+        <div class="form-group">
+            <div class="row">
+                <div class="col-md-3 col-sm-6">
+                    <label for="start_time">Start</label>
+                    <input type="text"
+                           class="form-control text-center"
+                           name="start_time"
+                           id="start_time"
+                           value="{{ form.start_time.value|input_date_format }}"
+                           required>
+                </div>
+                <div class="col-md-3 col-sm-6">
+                    <label for="end_time">End</label>
+                    <input type="text"
+                           class="form-control text-center"
+                           name="end_time"
+                           id="end_time"
+                           value="{{ form.end_time.value|input_date_format }}"
+                           required>
+                </div>
+            </div>
             {% if form.start_time.errors or form.end_time.errors %}
                 <div class="row">
-                    <div class="col-md-3 col-sm-6">{% if form.start_time.errors %}<span style="color:red">{{ form.start_time.errors|striptags }}</span>{% endif %}</div>
-                    <div class="col-md-3 col-sm-6">{% if form.end_time.errors %}<span style="color:red">{{ form.end_time.errors|striptags }}</span>{% endif %}</div>
+                    <div class="col-md-3 col-sm-6">
+                        {% if form.start_time.errors %}<span style="color:red">{{ form.start_time.errors|striptags }}</span>{% endif %}
+                    </div>
+                    <div class="col-md-3 col-sm-6">
+                        {% if form.end_time.errors %}<span style="color:red">{{ form.end_time.errors|striptags }}</span>{% endif %}
+                    </div>
                 </div>
             {% endif %}
-		</div>
-		<div class="form-group">
+        </div>
+        <div class="form-group">
             <div class="row">
                 <div class="col-sm-6">
-                    <label for="physical_access_level" class="control-label">Area Access</label>{% if form.physical_access_level.errors %} - <span style="color:red">{{ form.physical_access_level.errors|striptags }}</span>{% endif %}
-                    <select class="form-control" id="physical_access_level" name="physical_access_level" required>
-                    {% if physical_access_levels|length_is:1 %}
-                        <option value="{{ physical_access_levels.0.id }}" selected>{{ physical_access_levels.0.display_value_for_select }}</option>
-                    {% else %}
-                        {% for physical_access_level in physical_access_levels %}
-                            <option value="{{ physical_access_level.id }}" {% if form.physical_access_level.value|to_int == physical_access_level.id %}selected{% endif %}>{{ physical_access_level.display_value_for_select }}</option>
-                        {% endfor %}
+                    <label for="physical_access_level" class="control-label">Area Access</label>
+                    {% if form.physical_access_level.errors %}
+                        - <span style="color:red">{{ form.physical_access_level.errors|striptags }}</span>
                     {% endif %}
+                    <select class="form-control" id="physical_access_level" name="physical_access_level" required>
+                        {% if physical_access_levels|length_is:1 %}
+                            <option value="{{ physical_access_levels.0.id }}" selected>
+                                {{ physical_access_levels.0.display_value_for_select }}
+                            </option>
+                        {% else %}
+                            {% for physical_access_level in physical_access_levels %}
+                                <option value="{{ physical_access_level.id }}"
+                                        {% if form.physical_access_level.value|to_int == physical_access_level.id %}selected{% endif %}>
+                                    {{ physical_access_level.display_value_for_select }}
+                                </option>
+                            {% endfor %}
+                        {% endif %}
                     </select>
                 </div>
                 {% if form.instance.id and user in form.instance.reviewers %}
                     <div class="col-sm-6">
                         <label for="creator_readonly" class="control-label">Creator</label>
-                        <input id="creator_readonly" class="form-control" style="min-width: 250px;" disabled value="{{ form.instance.creator }}">
+                        <input id="creator_readonly"
+                               class="form-control"
+                               style="min-width: 250px"
+                               disabled
+                               value="{{ form.instance.creator }}">
                     </div>
                 {% endif %}
             </div>
-		</div>
-		<div class="form-group">
+        </div>
+        <div class="form-group">
             <div class="row">
                 <div class="col-sm-6">
                     <label for="search_other_users" class="control-label">Buddies</label>
-                    <input id="search_other_users" type="text" class="form-control" placeholder="Search for other users to add as your buddies" style="min-width: 250px;">
+                    <input id="search_other_users"
+                           type="text"
+                           class="form-control"
+                           placeholder="Search for other users to add as your buddies"
+                           style="min-width: 250px">
                 </div>
                 <div class="col-sm-6" id="other_users_label" style="display: none">
                     <div style="margin-bottom: 5px;">Selected buddies</div>
                     <ul id="other_users" class="form-control form-control-static" style="height: 100%">
                     </ul>
                 </div>
             </div>
             {% if form.other_users.errors %}
                 <div class="row">
-                    <div class="col-sm-6"><span style="color:red">{{ form.other_users.errors|striptags }}</span></div>
+                    <div class="col-sm-6">
+                        <span style="color:red">{{ form.other_users.errors|striptags }}</span>
+                    </div>
                 </div>
             {% endif %}
-		</div>
-		<div class="form-group">
-			<label for="description" class="control-label">Description</label>{% if form.description.errors %} - <span style="color:red">{{ form.description.errors|striptags }}</span>{% endif %}
-			<textarea class="form-control" rows="3" name="description" id="description" maxlength="{{ form.fields.description.max_length }}" placeholder="Provide additional details if needed">{{ form.description.value|default_if_none:"" }}</textarea>
-		</div>
-		<div class="text-right">
+        </div>
+        <div class="form-group">
+            <label for="description" class="control-label">Description</label>
+            {% if form.description.errors %}- <span style="color:red">{{ form.description.errors|striptags }}</span>{% endif %}
+            <textarea class="form-control"
+                      rows="3"
+                      name="description"
+                      id="description"
+                      maxlength="{{ form.fields.description.max_length }}"
+                      placeholder="Provide additional details if needed">{{ form.description.value|default_if_none:"" }}</textarea>
+        </div>
+        <div class="text-right">
             {% if form.instance.get_status_display == "Pending" %}
                 {% if form.instance.id and user in form.instance.reviewers %}
                     {% button type="save" submit=False name="approve_request" title="Approve request" icon="glyphicon-ok-circle" value="Approve" onclick="if (confirm('Are you sure you want to approve this request?')) {submit_and_disable(this)}" %}
                     {% button type="delete" submit=False name="deny_request" title="Deny request" icon="glyphicon-ban-circle" value="Deny" onclick="if (confirm('Are you sure you want to deny this request?')) {submit_and_disable(this)}" %}
                 {% else %}
                     {% button type="save" value=form.instance.id|yesno:"Save changes,Create access request" %}
                 {% endif %}
             {% endif %}
-		</div>
-	</form>
-	<script>
+        </div>
+    </form>
+    <script>
         let timepicker_properties =
 		{
 			format: '{{ datetime_input_js_format }}',
             showClose: true,
             useCurrent: false
 		};
 
         function add_other_user(jquery_event, search_selection, dataset_name)
 		{
 		    $('#other_users_label').show();
 			$(this).typeahead('val', '').focus();
 			if (!$("input[name='other_users'][value='"+search_selection.id+"']").length)
             {
-                $('#other_users').append('<li style="list-style: none"><input type="hidden" name="other_users" value="' + search_selection.id + '"/>' + search_selection.name + ' <a class="grey hover-black" href="javascript:void" onclick="remove_other_user(this)"><span class="glyphicon glyphicon-remove-circle"></span></a></li>');
+                $('#other_users').append('<li style="list-style: none"><input type="hidden" name="other_users" value="' + search_selection.id + '" />' + search_selection.name + ' <a class="grey hover-black" href="javascript:void" onclick="remove_other_user(this)"><span class="glyphicon glyphicon-remove-circle"></span></a></li>');
             }
 		}
 		function remove_other_user(other_user_anchor)
 		{
 		    $(other_user_anchor).parent().remove();
 		    if (!$("input[name='other_users']").length)
             {
@@ -127,9 +175,10 @@
                 {% for other_user in form.instance.other_users.all %}
                     add_other_user(false, {'id': '{{ other_user.id }}', 'name': '{{ other_user.get_name }}' });
                 {% endfor %}
             {% endif %}
             set_start_end_datetime_pickers($('#start_time'), $('#end_time'), timepicker_properties);
 		}
 		window.addEventListener('load', on_load, true);
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,39 +1,39 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% load static %}
-{% block title %}{% if form.instance.id %}Modify access request{% else %}New
-access request{% endif %}{% endblock %} {% block extrahead %}
+{% block title %} {% if form.instance.id %} Modify access request {% else %}
+New access request {% endif %} {% endblock %} {% block extrahead %}
 }">
-}"/> {% endblock %} {% block content %}
-************ {{%% iiff ffoorrmm..iinnssttaannccee..iidd %%}}MMooddiiffyy aacccceessss rreeqquueesstt{{%% eellssee %%}}NNeeww aacccceessss
-rreeqquueesstt{{%% eennddiiff %%}} ************
+}" /> {% endblock %} {% block content %}
+************ {{%% iiff ffoorrmm..iinnssttaannccee..iidd %%}} MMooddiiffyy aacccceessss rreeqquueesstt {{%% eellssee %%}} NNeeww aacccceessss
+rreeqquueesstt {{%% eennddiiff %%}} ************
 {% csrf_token %} {% if form.non_field_errors %}
 {{ form.non_field_errors }}
 {% endif %}
 Start[{{ form.start_time.value|input_date_format }}]
 End[{{ form.end_time.value|input_date_format }}]
 {% if form.start_time.errors or form.end_time.errors %}
 {% if form.start_time.errors %}{{ form.start_time.errors|striptags }}{% endif
 %}
 {% if form.end_time.errors %}{{ form.end_time.errors|striptags }}{% endif %}
 {% endif %}
 {% if physical_access_levels|length_is:1 %}
 {{ physical_access_levels.0.display_value_for_select }}
 {% else %} {% for physical_access_level in physical_access_levels %}
 % if form.physical_access_level.value|to_int == physical_access_level.id
-%}selected{% endif %}>{{ physical_access_level.display_value_for_select }}
+%}selected{% endif %}> {{ physical_access_level.display_value_for_select }}
 {% endfor %} {% endif %}
 {% if form.instance.id and user in form.instance.reviewers %}
 Creator[                    ]
 {% endif %}
 Buddies[                    ]
 Selected buddies
 {% if form.other_users.errors %}
 {{ form.other_users.errors|striptags }}
 {% endif %}
-Description{% if form.description.errors %} - {
+Description {% if form.description.errors %}- {
 { form.description.errors|striptags }}{% endif %}
 {{ form.description.value|default_if_none:"" }}
 {% if form.instance.get_status_display == "Pending" %} {% if form.instance.id
 and user in form.instance.reviewers %} {% button type="save" submit=False
 name="approve_request" title="Approve request" icon="glyphicon-ok-circle"
 value="Approve" onclick="if (confirm('Are you sure you want to approve this
 request?')) {submit_and_disable(this)}" %} {% button type="delete" submit=False
```

## NEMO/templates/requests/access_requests/access_requests.html

```diff
@@ -4,52 +4,74 @@
         {% if access_requests_description %}
             <div class="well" style="display: table; margin-right: 15px">
                 <span class="requests-description-info glyphicon glyphicon-info-sign primary-highlight"></span>
                 <div class="requests-description">{{ access_requests_description|safe|linebreaksbr }}</div>
             </div>
         {% endif %}
     </div>
-    <div class="text-right" style="display: table-cell; vertical-align: top">{% button type="add" url="create_access_request" value="New request" %}</div>
+    <div class="text-right" style="display: table-cell; vertical-align: top">
+        {% button type="add" url="create_access_request" value="New request" %}
+    </div>
 </div>
 {% if pending_access_requests or approved_access_requests or denied_access_requests or expired_access_requests %}
     {% if user.is_superuser or user.is_facility_manager or user.is_user_office %}
         <div class="text-right" style="margin-bottom: -20px">
             {% button type="export" value="Export" url="export_access_requests" target="_blank" %}
         </div>
     {% endif %}
     <div>
         {% if pending_access_requests %}
-            <h3><a onclick="toggle_details(this)" data-toggle="collapse" data-target="#pending_access_requests" class="pointer">
-                <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Pending ({{ pending_access_requests|length }})
-            </a></h3>
+            <h3>
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#pending_access_requests"
+                   class="pointer">
+                    <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Pending ({{ pending_access_requests|length }})
+                </a>
+            </h3>
             <div id="pending_access_requests" class="collapse in">
                 {% include 'requests/access_requests/access_requests_table.html' with request_status='pending' access_request_list=pending_access_requests %}
             </div>
         {% endif %}
         {% if approved_access_requests %}
-            <h3><a onclick="toggle_details(this)" data-toggle="collapse" data-target="#approved_access_requests" class="pointer">
-                <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Approved
-            </a></h3>
+            <h3>
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#approved_access_requests"
+                   class="pointer">
+                    <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Approved
+                </a>
+            </h3>
             <div id="approved_access_requests" class="collapse in">
                 {% include 'requests/access_requests/access_requests_table.html' with request_status='approved' access_request_list=approved_access_requests %}
             </div>
         {% endif %}
         {% if denied_access_requests %}
-            <h3><a onclick="toggle_details(this)" data-toggle="collapse" data-target="#denied_access_requests" class="pointer">
-                <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Denied
-            </a></h3>
+            <h3>
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#denied_access_requests"
+                   class="pointer">
+                    <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Denied
+                </a>
+            </h3>
             <div id="denied_access_requests" class="collapse in">
                 {% include 'requests/access_requests/access_requests_table.html' with request_status='denied' access_request_list=denied_access_requests %}
             </div>
         {% endif %}
         {% if expired_access_requests %}
-            <h3><a onclick="toggle_details(this)" data-toggle="collapse" data-target="#expired_access_requests" class="pointer">
-                <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Expired
-            </a></h3>
+            <h3>
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#expired_access_requests"
+                   class="pointer">
+                    <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Expired
+                </a>
+            </h3>
             <div id="expired_access_requests" class="collapse in">
                 {% include 'requests/access_requests/access_requests_table.html' with request_status='expired' access_request_list=expired_access_requests %}
             </div>
         {% endif %}
     </div>
 {% else %}
     <div class="italic" style="margin-top: 20px">You do not have any current active access requests</div>
-{% endif %}
+{% endif %}
```

## NEMO/templates/requests/access_requests/access_requests_table.html

```diff
@@ -17,40 +17,53 @@
                 {% endif %}
             </th>
         </tr>
     </thead>
     <tbody>
         {% for a_request in access_request_list %}
             <tr>
-                <td style="vertical-align: middle">{% if a_request.id in access_request_notifications %}<span class="label label-success">New</span> {% endif %}{{ a_request.creation_time|date:'SHORT_DATETIME_FORMAT' }}</td>
-                <td class="text-center" style="vertical-align: middle">{{ a_request.physical_access_level.display_value_for_select }}</td>
+                <td style="vertical-align: middle">
+                    {% if a_request.id in access_request_notifications %}<span class="label label-success">New</span>{% endif %}
+                    {{ a_request.creation_time|date:'SHORT_DATETIME_FORMAT' }}
+                </td>
+                <td class="text-center" style="vertical-align: middle">
+                    {{ a_request.physical_access_level.display_value_for_select }}
+                </td>
                 <td class="text-center" style="vertical-align: middle">{{ a_request.start_time|date:'SHORT_DATETIME_FORMAT' }}</td>
                 <td class="text-center" style="vertical-align: middle">{{ a_request.end_time|date:'SHORT_DATETIME_FORMAT' }}</td>
                 <td style="vertical-align: middle">
                     <ul style="padding-inline-start: 25px; margin-bottom: 0">
-                        <li><b>{{ a_request.creator }}</b></li>
-                        {% for other_user in a_request.other_users.all %}
-                            <li>{{ other_user }}</li>
-                        {% endfor %}
+                        <li>
+                            <b>{{ a_request.creator }}</b>
+                        </li>
+                        {% for other_user in a_request.other_users.all %}<li>{{ other_user }}</li>{% endfor %}
                     </ul>
                 </td>
                 <td class="text-center text-nowrap" style="vertical-align: middle">
                     {% if request_status == 'pending' and user in a_request.reviewers %}
-                        <a class="btn btn-sm btn-default" title="Approve/Deny" href="{% url 'edit_access_request' a_request.id %}"><i class="glyphicon glyphicon-ok-circle success-highlight"></i>&nbsp;&nbsp;<i class="glyphicon glyphicon-ban-circle danger-highlight"></i> Review</a>
+                        <a class="btn btn-sm btn-default"
+                           title="Approve/Deny"
+                           href="{% url 'edit_access_request' a_request.id %}"><i class="glyphicon glyphicon-ok-circle success-highlight"></i>&nbsp;&nbsp;<i class="glyphicon glyphicon-ban-circle danger-highlight"></i> Review</a>
                     {% elif request_status == 'pending' and a_request.creator == user %}
                         {% url 'edit_access_request' a_request.id as edit_request_url %}
                         {% url 'delete_access_request' a_request.id as delete_request_url %}
                         {% button type="edit" size="small" value="Edit" title="Edit request" url=edit_request_url %}
                         {% button type="delete" size="small" value="Delete" title="Delete request" url=delete_request_url onclick="return confirm('Are you sure you want to delete this request?');" %}
                     {% elif request_status == 'approved' or request_status == 'denied' %}
                         {{ a_request.reviewer.get_name }}
                     {% endif %}
                 </td>
             </tr>
             <tr>
                 {% if a_request.description %}
-                    <td colspan="6" style="border: none">{% if a_request.description %}<u>Description:</u><br>{{ a_request.description|linebreaksbr }}{% endif %}</td>
+                    <td colspan="6" style="border: none">
+                        {% if a_request.description %}
+                            <u>Description:</u>
+                            <br>
+                            {{ a_request.description|linebreaksbr }}
+                        {% endif %}
+                    </td>
                 {% endif %}
             </tr>
         {% endfor %}
     </tbody>
-</table>
+</table>
```

### html2text {}

```diff
@@ -18,15 +18,15 @@
                                                                                                                                                                            'edit_access_request'
                                                                                                                                                                            a_request.id as
                                                                                                                                                                            edit_request_url %} {% url
                                                                                                                                                                            'delete_access_request'
                                                                                                                                                                            a_request.id as
 {% if a_request.id in                                                                                             {                            * {{{{ aa__rreeqquueesstt..ccrreeaattoorr }}}}   delete_request_url %} {%
 access_request_notifications  {                                                        {                          {                            * {% for other_user in      button type="edit"
-%}New {% endif %}{            {                                                        {                          a_request.end_time|date:       a_request.other_users.all size="small" value="Edit"
+%}New{% endif %} {            {                                                        {                          a_request.end_time|date:       a_request.other_users.all size="small" value="Edit"
 {                             a_request.physical_access_level.display_value_for_select a_request.start_time|date: 'SHORT_DATETIME_FORMAT'        %}                        title="Edit request"
 a_request.creation_time|date: }}                                                       'SHORT_DATETIME_FORMAT' }} }}                           * {{ other_user }}          url=edit_request_url %} {%
 'SHORT_DATETIME_FORMAT' }}                                                                                                                     * {% endfor %}              button type="delete"
                                                                                                                                                                            size="small" value="Delete"
                                                                                                                                                                            title="Delete request"
                                                                                                                                                                            url=delete_request_url
                                                                                                                                                                            onclick="return confirm
@@ -35,9 +35,9 @@
                                                                                                                                                                            {% elif request_status ==
                                                                                                                                                                            'approved' or
                                                                                                                                                                            request_status == 'denied'
                                                                                                                                                                            %} {
                                                                                                                                                                            {
                                                                                                                                                                            a_request.reviewer.get_name
                                                                                                                                                                            }} {% endif %}
-{% if a_request.description %}_D_e_s_c_r_i_p_t_i_o_n_:
-{{ a_request.description|linebreaksbr }}{% endif %}
+{% if a_request.description %} _D_e_s_c_r_i_p_t_i_o_n_:
+{{ a_request.description|linebreaksbr }} {% endif %}
```

## NEMO/templates/requests/adjustment_requests/adjustment_request.html

```diff
@@ -1,127 +1,179 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% load static %}
 {% load tz %}
-{% block title %}{% if form.instance.id %}Modify adjustment request{% else %}New adjustment request{% endif %}{% endblock %}
+{% block title %}
+    {% if form.instance.id %}
+        Modify adjustment request
+    {% else %}
+        New adjustment request
+    {% endif %}
+{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
     {% with instance_id=form.instance.id %}
-        <h1 class="form-group">{% if instance_id %}Modify adjustment request{% else %}New adjustment request{% endif %}</h1>
-        <form class="well" action="{% if instance_id %}{% url 'edit_adjustment_request' instance_id %}{% else %}{% url 'create_adjustment_request' %}{% endif %}" method="post">
-            {% csrf_token %}
-            {% if form.non_field_errors %}
-                <div class="alert alert-danger">
-                    {{ form.non_field_errors }}
-                </div>
+        <h1 class="form-group">
+            {% if instance_id %}
+                Modify adjustment request
+            {% else %}
+                New adjustment request
             {% endif %}
+        </h1>
+        <form class="well"
+              action="{% if instance_id %}{% url 'edit_adjustment_request' instance_id %}{% else %}{% url 'create_adjustment_request' %}{% endif %}"
+              method="post">
+            {% csrf_token %}
+            {% if form.non_field_errors %}<div class="alert alert-danger">{{ form.non_field_errors }}</div>{% endif %}
             {% if instance_id and user in form.instance.reviewers %}
                 <div class="form-group">
                     <div class="row">
                         <div class="col-sm-6">
                             <label for="creator_readonly" class="control-label">Creator</label>
-                            <input id="creator_readonly" class="form-control" style="min-width: 250px;" disabled value="{{ form.instance.creator }}">
+                            <input id="creator_readonly"
+                                   class="form-control"
+                                   style="min-width: 250px"
+                                   disabled
+                                   value="{{ form.instance.creator }}">
                         </div>
                     </div>
                 </div>
             {% endif %}
             <div class="form-group">
                 <div class="row">
                     <div class="col-sm-12">
                         <input type="hidden" name="item_type" value="{{ form.item_type.value|default_if_none:"" }}">
                         <input type="hidden" name="item_id" value="{{ form.item_id.value|default_if_none:"" }}">
                         <label for="billable_item" class="control-label">Charge</label>
                         <select class="form-control" id="billable_item" name="item">
-                            <option url="{% if instance_id %}{% url 'edit_adjustment_request' instance_id %}{% else %}{% url 'create_adjustment_request' %}{% endif %}" selected value="">General adjustment request</option>
+                            <option url="{% if instance_id %}{% url 'edit_adjustment_request' instance_id %}{% else %}{% url 'create_adjustment_request' %}{% endif %}"
+                                    selected
+                                    value="">General adjustment request</option>
                             {% if form.instance.item %}
-                                <option url="{% if instance_id %}{% url 'edit_adjustment_request' instance_id form.item_type.value form.item_id.value %}{% else %}{% url 'create_adjustment_request' form.item_type.value form.item_id.value %}{% endif %}" value="{{ form.item_type.value }}|{{ form.item_id.value }}" selected>{{ form.instance.item|billable_display:user }}</option>
+                                <option url="{% if instance_id %}{% url 'edit_adjustment_request' instance_id form.item_type.value form.item_id.value %}{% else %}{% url 'create_adjustment_request' form.item_type.value form.item_id.value %}{% endif %}"
+                                        value="{{ form.item_type.value }}|{{ form.item_id.value }}"
+                                        selected>{{ form.instance.item|billable_display:user }}</option>
                             {% endif %}
                             {% for charge in eligible_items %}
                                 {% with charge_type=charge|content_type %}
-                                    <option url="{% if instance_id %}{% url 'edit_adjustment_request' instance_id charge_type.id charge.id %}{% else %}{% url 'create_adjustment_request' charge_type.id charge.id %}{% endif %}" value="{{ charge_type.id }}|{{ charge.id }}" {% if form.item_type.value == charge_type and form.item_id.value|to_int == charge.id %}selected{% endif %}>{{ charge|billable_display:user }}</option>
+                                    <option url="{% if instance_id %}{% url 'edit_adjustment_request' instance_id charge_type.id charge.id %}{% else %}{% url 'create_adjustment_request' charge_type.id charge.id %}{% endif %}"
+                                            value="{{ charge_type.id }}|{{ charge.id }}"
+                                            {% if form.item_type.value == charge_type and form.item_id.value|to_int == charge.id %}selected{% endif %}>
+                                        {{ charge|billable_display:user }}
+                                    </option>
                                 {% endwith %}
                             {% endfor %}
                         </select>
                     </div>
                     <div class="col-sm-12 help-block">
                         Only the {{ "requests"|customization:"adjustment_requests_charges_display_number" }} most recent charges are displayed. To find earlier charges, go to your <a href="{% url 'usage' %}">Usage</a> page and create an adjustment request from there.
                     </div>
                 </div>
             </div>
             {% if change_times_allowed and form.item_id.value and form.item_type.value %}
                 <div class="form-group">
                     <div class="row">
                         <div class="col-md-3 col-sm-6">
                             <label for="new_start">New start</label>
-                            <input type="text" class="form-control text-center" name="new_start" id="new_start" value="{{ form.new_start.value|input_date_format }}">
+                            <input type="text"
+                                   class="form-control text-center"
+                                   name="new_start"
+                                   id="new_start"
+                                   value="{{ form.new_start.value|input_date_format }}">
                         </div>
                         <div class="col-md-3 col-sm-6">
                             <label for="new_end">New end</label>
-                            <input type="text" class="form-control text-center" name="new_end" id="new_end" value="{{ form.new_end.value|input_date_format }}">
+                            <input type="text"
+                                   class="form-control text-center"
+                                   name="new_end"
+                                   id="new_end"
+                                   value="{{ form.new_end.value|input_date_format }}">
                         </div>
                     </div>
                     {% if form.new_start.errors or form.new_end.errors %}
                         <div class="row">
-                            <div class="col-md-3 col-sm-6">{% if form.new_start.errors %}<span style="color:red">{{ form.new_start.errors|striptags }}</span>{% endif %}</div>
-                            <div class="col-md-3 col-sm-6">{% if form.new_end.errors %}<span style="color:red">{{ form.new_end.errors|striptags }}</span>{% endif %}</div>
+                            <div class="col-md-3 col-sm-6">
+                                {% if form.new_start.errors %}<span style="color:red">{{ form.new_start.errors|striptags }}</span>{% endif %}
+                            </div>
+                            <div class="col-md-3 col-sm-6">
+                                {% if form.new_end.errors %}<span style="color:red">{{ form.new_end.errors|striptags }}</span>{% endif %}
+                            </div>
                         </div>
                     {% endif %}
                 </div>
             {% endif %}
             <div class="form-group">
-                <label for="description" class="control-label">Description</label>{% if form.description.errors %} - <span style="color:red">{{ form.description.errors|striptags }}</span>{% endif %}
-                <textarea class="form-control" rows="3" name="description" id="description" placeholder="Explain the reason for this request" required>{{ form.description.value|default_if_none:"" }}</textarea>
+                <label for="description" class="control-label">Description</label>
+                {% if form.description.errors %}- <span style="color:red">{{ form.description.errors|striptags }}</span>{% endif %}
+                <textarea class="form-control"
+                          rows="3"
+                          name="description"
+                          id="description"
+                          placeholder="Explain the reason for this request"
+                          required>{{ form.description.value|default_if_none:"" }}</textarea>
             </div>
             {% if form.instance.get_status_display == "Pending" and instance_id and user in form.instance.reviewers %}
                 <div class="form-group">
-                    <label for="manager_note" class="control-label">Feedback/Instructions</label>{% if form.description.errors %} - <span style="color:red">{{ form.manager_note.errors|striptags }}</span>{% endif %}
-                    <textarea class="form-control" rows="3" name="manager_note" id="manager_note" placeholder="Feedback to send to the user if the request is denied or instructions to the user office if it's approved">{{ form.manager_note.value|default_if_none:"" }}</textarea>
+                    <label for="manager_note" class="control-label">Feedback/Instructions</label>
+                    {% if form.description.errors %}- <span style="color:red">{{ form.manager_note.errors|striptags }}</span>{% endif %}
+                    <textarea class="form-control"
+                              rows="3"
+                              name="manager_note"
+                              id="manager_note"
+                              placeholder="Feedback to send to the user if the request is denied or instructions to the user office if it's approved">{{ form.manager_note.value|default_if_none:"" }}</textarea>
                 </div>
             {% endif %}
             <div class="text-right">
                 {% if form.instance.get_status_display == "Pending" %}
                     {% if instance_id and user in form.instance.reviewers %}
-                        {% button type="save" submit=False name="approve_request" title="Approve request" icon="glyphicon-ok-circle" value="Approve" onclick="confirm_review_dialog(this);" %}
+                        {% if form.instance.editable_charge and "requests"|customization:"adjustment_requests_apply_button" == "enabled" %}
+                            {% button type="save" submit=False name="approve_apply_request" title="Approve and adjust the original charge" icon="glyphicon-ok-circle" value="Approve and adjust" onclick="confirm_review_dialog(this, 'approve and adjust the actual charge of');" %}
+                            {% button type="save" submit=False name="approve_request" title="Approve without adjusting" icon="glyphicon-ok-circle" value="Approve only" onclick="confirm_review_dialog(this);" %}
+                        {% else %}
+                            {% button type="save" submit=False name="approve_request" title="Approve request" icon="glyphicon-ok-circle" value="Approve" onclick="confirm_review_dialog(this);" %}
+                        {% endif %}
                         {% button type="delete" submit=False name="deny_request" title="Deny request" icon="glyphicon-ban-circle" value="Deny" onclick="confirm_review_dialog(this);" %}
                     {% endif %}
                     {% if not instance_id or form.instance.creator == user %}
                         {% button type="save" value=instance_id|yesno:"Save changes,Create adjustment request" %}
                     {% endif %}
                 {% endif %}
             </div>
         </form>
     {% endwith %}
-	<script>
+    <script>
         let timepicker_properties =
 		{
 			format: '{{ datetime_input_js_format }}',
             showClose: true,
             useCurrent: false
 		};
         $("#new_end").datetimepicker(timepicker_properties);
         $("#new_start").datetimepicker(timepicker_properties);
         $('#billable_item').on('change', function() {
             window.location.href = this.options[this.selectedIndex].getAttribute("url");
         });
-        function confirm_review_dialog(review_button)
+        function confirm_review_dialog(review_button, decision_text)
         {
             let decision = review_button.innerText.trim().toLowerCase();
-            let dialog_text = "Are you sure you want to "+decision+" this request?";
+            decision_text = decision_text || decision 
+            let dialog_text = "Are you sure you want to "+decision_text+" this request?";
             let note = $("#manager_note").val();
             if (note && decision === "approve")
             {
                 dialog_text += "\n\nThe following instructions will be sent to the *User Office*:\n\n" + note;
             }
             else if (note && decision === "deny")
             {
                 dialog_text += "\n\nThe following feedback will be sent to *{{ form.instance.creator.get_name }}*:\n\n" + note;
             }
             if (confirm(dialog_text))
             {
                 submit_and_disable(review_button)
             }
         }
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,53 +1,62 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% load static %}
-{% load tz %} {% block title %}{% if form.instance.id %}Modify adjustment
-request{% else %}New adjustment request{% endif %}{% endblock %} {% block
+{% load tz %} {% block title %} {% if form.instance.id %} Modify adjustment
+request {% else %} New adjustment request {% endif %} {% endblock %} {% block
 extrahead %}
 }">
-}"/> {% endblock %} {% block content %} {% with instance_id=form.instance.id %}
-************ {{%% iiff iinnssttaannccee__iidd %%}}MMooddiiffyy aaddjjuussttmmeenntt rreeqquueesstt{{%% eellssee %%}}NNeeww aaddjjuussttmmeenntt
-rreeqquueesstt{{%% eennddiiff %%}} ************
+}" /> {% endblock %} {% block content %} {% with instance_id=form.instance.id
+%}
+************ {{%% iiff iinnssttaannccee__iidd %%}} MMooddiiffyy aaddjjuussttmmeenntt rreeqquueesstt {{%% eellssee %%}} NNeeww aaddjjuussttmmeenntt
+rreeqquueesstt {{%% eennddiiff %%}} ************
 {% csrf_token %} {% if form.non_field_errors %}
 {{ form.non_field_errors }}
 {% endif %} {% if instance_id and user in form.instance.reviewers %}
 Creator[                    ]
 {% endif %}
 }}">
 {% if form.instance.item %}
 {{ form.instance.item|billable_display:user }}
 {% endif %} {% for charge in eligible_items %} {% with
 charge_type=charge|content_type %}
 % if form.item_type.value == charge_type and form.item_id.value|to_int ==
-charge.id %}selected{% endif %}>{{ charge|billable_display:user }}
+charge.id %}selected{% endif %}> {{ charge|billable_display:user }}
 {% endwith %} {% endfor %}
 Only the {{ "requests"|customization:
 "adjustment_requests_charges_display_number" }} most recent charges are
 displayed. To find earlier charges, go to your _U_s_a_g_e page and create an
 adjustment request from there.
 {% if change_times_allowed and form.item_id.value and form.item_type.value %}
 New start[{{ form.new_start.value|input_date_format }}]
 New end[{{ form.new_end.value|input_date_format }}]
 {% if form.new_start.errors or form.new_end.errors %}
 {% if form.new_start.errors %}{{ form.new_start.errors|striptags }}{% endif %}
 {% if form.new_end.errors %}{{ form.new_end.errors|striptags }}{% endif %}
 {% endif %}
 {% endif %}
-Description{% if form.description.errors %} - {
+Description {% if form.description.errors %}- {
 { form.description.errors|striptags }}{% endif %}
 {{ form.description.value|default_if_none:"" }}
 {% if form.instance.get_status_display == "Pending" and instance_id and user in
 form.instance.reviewers %}
-Feedback/Instructions{% if form.description.errors %} - {
+Feedback/Instructions {% if form.description.errors %}- {
 { form.manager_note.errors|striptags }}{% endif %}
 {{ form.manager_note.value|default_if_none:"" }}
 {% endif %}
 {% if form.instance.get_status_display == "Pending" %} {% if instance_id and
-user in form.instance.reviewers %} {% button type="save" submit=False
-name="approve_request" title="Approve request" icon="glyphicon-ok-circle"
-value="Approve" onclick="confirm_review_dialog(this);" %} {% button
-type="delete" submit=False name="deny_request" title="Deny request"
-icon="glyphicon-ban-circle" value="Deny" onclick="confirm_review_dialog(this);"
-%} {% endif %} {% if not instance_id or form.instance.creator == user %} {%
-button type="save" value=instance_id|yesno:"Save changes,Create adjustment
-request" %} {% endif %} {% endif %}
+user in form.instance.reviewers %} {% if form.instance.editable_charge and
+"requests"|customization:"adjustment_requests_apply_button" == "enabled" %} {%
+button type="save" submit=False name="approve_apply_request" title="Approve and
+adjust the original charge" icon="glyphicon-ok-circle" value="Approve and
+adjust" onclick="confirm_review_dialog(this, 'approve and adjust the actual
+charge of');" %} {% button type="save" submit=False name="approve_request"
+title="Approve without adjusting" icon="glyphicon-ok-circle" value="Approve
+only" onclick="confirm_review_dialog(this);" %} {% else %} {% button
+type="save" submit=False name="approve_request" title="Approve request"
+icon="glyphicon-ok-circle" value="Approve" onclick="confirm_review_dialog
+(this);" %} {% endif %} {% button type="delete" submit=False
+name="deny_request" title="Deny request" icon="glyphicon-ban-circle"
+value="Deny" onclick="confirm_review_dialog(this);" %} {% endif %} {% if not
+instance_id or form.instance.creator == user %} {% button type="save"
+value=instance_id|yesno:"Save changes,Create adjustment request" %} {% endif %}
+{% endif %}
 {% endwith %}
 {% endblock %}
```

## NEMO/templates/requests/adjustment_requests/adjustment_requests.html

```diff
@@ -4,43 +4,60 @@
         {% if adjustment_requests_description %}
             <div class="well" style="display: table; margin-right: 15px">
                 <span class="requests-description-info glyphicon glyphicon-info-sign primary-highlight"></span>
                 <div class="requests-description">{{ adjustment_requests_description|safe|linebreaksbr }}</div>
             </div>
         {% endif %}
     </div>
-    <div class="text-right" style="display: table-cell; vertical-align: top">{% button type="add" url="create_adjustment_request" value="New request" %}</div>
+    <div class="text-right" style="display: table-cell; vertical-align: top">
+        {% button type="add" url="create_adjustment_request" value="New request" %}
+    </div>
 </div>
 {% if pending_adjustment_requests or approved_adjustment_requests or denied_adjustment_requests %}
     {% if user.is_superuser or user.is_facility_manager or user.is_user_office or user.is_accounting_officer %}
         <div class="text-right" style="margin-bottom: -20px">
             {% button type="export" value="Export" url="export_adjustment_requests" target="_blank" %}
         </div>
     {% endif %}
     <div>
         {% if pending_adjustment_requests %}
-            <h3><a onclick="toggle_details(this)" data-toggle="collapse" data-target="#pending_adjustment_requests" class="pointer">
-                <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Pending ({{ pending_adjustment_requests|length }})
-            </a></h3>
+            <h3>
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#pending_adjustment_requests"
+                   class="pointer">
+                    <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Pending ({{ pending_adjustment_requests|length }})
+                </a>
+            </h3>
             <div id="pending_adjustment_requests" class="collapse in">
                 {% include 'requests/adjustment_requests/adjustment_requests_table.html' with request_status='pending' adjustment_request_list=pending_adjustment_requests %}
             </div>
         {% endif %}
         {% if approved_adjustment_requests %}
-            <h3><a onclick="toggle_details(this)" data-toggle="collapse" data-target="#approved_adjustment_requests" class="pointer">
-                <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Approved
-            </a></h3>
+            <h3>
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#approved_adjustment_requests"
+                   class="pointer">
+                    <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Approved
+                </a>
+            </h3>
             <div id="approved_adjustment_requests" class="collapse in">
                 {% include 'requests/adjustment_requests/adjustment_requests_table.html' with request_status='approved' adjustment_request_list=approved_adjustment_requests %}
             </div>
         {% endif %}
         {% if denied_adjustment_requests %}
-            <h3><a onclick="toggle_details(this)" data-toggle="collapse" data-target="#denied_adjustment_requests" class="pointer">
-                <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Denied
-            </a></h3>
+            <h3>
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#denied_adjustment_requests"
+                   class="pointer">
+                    <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Denied
+                </a>
+            </h3>
             <div id="denied_adjustment_requests" class="collapse in">
                 {% include 'requests/adjustment_requests/adjustment_requests_table.html' with request_status='denied' adjustment_request_list=denied_adjustment_requests %}
             </div>
         {% endif %}
     </div>
 {% else %}
     <div class="italic" style="margin-top: 20px">You do not have any current active adjustment requests</div>
@@ -56,16 +73,32 @@
         else
         {
             form_element.parents('div').fadeIn('50');
             form_element.children('textarea').focus();
             $(button_element).html('<i class="glyphicon glyphicon-send"></i> Send');
         }
     }
+
+    function mark_adjustment_as_applied(adjustment_id)
+    {
+        let apply_url = "{% url "mark_adjustment_as_applied" 99999 %}".replace("99999", adjustment_id);
+        ajax_get(apply_url, undefined, function () {$("#apply_"+adjustment_id+", #applied_"+adjustment_id+", #edit_"+adjustment_id).remove()}, ajax_failure_callback("Request update failed", "There was a problem marking this adjustment as applied."));
+    }
+
+    function apply_adjustment(adjustment_id)
+    {
+        if (confirm("Are you sure you want to adjust this charge? This cannot be undone"))
+        {
+            let apply_url = "{% url "apply_adjustment" 99999 %}".replace("99999", adjustment_id);
+            ajax_get(apply_url, undefined, load_adjustment_requests, ajax_failure_callback("Request update failed", "There was a problem applying this adjustment."));
+        }
+    }
+
     $(function ()
     {
         {# Scroll to msg id if available #}
         let msg_id = window.location.hash.substring(1);
         if (msg_id) document.getElementById(msg_id).scrollIntoView();
 
         $('[data-toggle="tooltip"]').tooltip();
     })
-</script>
+</script>
```

## NEMO/templates/requests/adjustment_requests/adjustment_requests_table.html

```diff
@@ -1,15 +1,13 @@
 {% load custom_tags_and_filters %}
 <table class="table table-condensed table-double-stripped thead-light" style="border: 1px solid #ddd">
     <thead>
         <tr>
             <th>Created</th>
-            {% if user_is_reviewer or user.is_any_part_of_staff %}
-                <th>User</th>
-            {% endif %}
+            {% if user_is_reviewer or user.is_any_part_of_staff %}<th>User</th>{% endif %}
             <th class="text-center">Charge</th>
             <th class="text-center text-nowrap">New start</th>
             <th class="text-center text-nowrap">New end</th>
             <th class="text-center">Difference</th>
             <th class="text-right text-nowrap">
                 {% if request_status == 'pending' and user_is_reviewer %}
                     Action
@@ -20,72 +18,91 @@
                 {% endif %}
             </th>
         </tr>
     </thead>
     <tbody>
         {% for a_request in adjustment_request_list %}
             <tr>
-                <td style="vertical-align: middle">{% if a_request.id in request_notifications %}<span class="label label-success">New</span> {% endif %}{{ a_request.creation_time|date:'SHORT_DATETIME_FORMAT' }}</td>
-                {% if user_is_reviewer or user.is_any_part_of_staff %}
-                    <td style="vertical-align: middle">{{ a_request.creator.get_name }}</td>
-                {% endif %}
-                <td class="text-center" style="vertical-align: middle">{{ a_request.item.get_display }}</td>
-                <td class="text-center" style="vertical-align: middle">{{ a_request.get_new_start|date:'SHORT_DATETIME_FORMAT' }}</td>
-                <td class="text-center" style="vertical-align: middle">{{ a_request.get_new_end|date:'SHORT_DATETIME_FORMAT' }}</td>
-                <td class="text-center" style="vertical-align: middle">{{ a_request.get_time_difference|default_if_none:"" }}</td>
-                <td class="text-right text-nowrap" style="vertical-align: middle">
+                <td>
+                    {% if a_request.id in request_notifications %}<span class="label label-success">New</span>{% endif %}
+                    {{ a_request.creation_time|date:'SHORT_DATETIME_FORMAT' }}
+                </td>
+                {% if user_is_reviewer or user.is_any_part_of_staff %}<td>{{ a_request.creator.get_name }}</td>{% endif %}
+                <td class="text-center">{{ a_request.item.get_display }}</td>
+                <td class="text-center">{{ a_request.get_new_start|date:'SHORT_DATETIME_FORMAT' }}</td>
+                <td class="text-center">{{ a_request.get_new_end|date:'SHORT_DATETIME_FORMAT' }}</td>
+                <td class="text-center">{{ a_request.get_time_difference|default_if_none:"" }}</td>
+                <td class="text-right text-nowrap" rowspan="2">
                     {% if request_status == 'approved' or request_status == 'denied' %}
                         {{ a_request.reviewer.get_name }}
-                        {% if request_status == 'approved' and a_request.editable_charge and "requests"|customization:"adjustment_requests_edit_charge_button" == "enabled" %}
-                            {% url "user_requests" "adjustment" as redirect_adjustment_url %}
-                            {% admin_edit_url a_request.item redirect_adjustment_url as edit_url %}
-                            {% if edit_url %}
-                                <br>{% button type="edit" size="small" value="Edit charge" url=edit_url %}
+                        {% if not a_request.applied and request_status == 'approved' and a_request.editable_charge %}
+                            {% if "requests"|customization:"adjustment_requests_edit_charge_button" == "enabled" %}
+                                {% url "user_requests" "adjustment" as redirect_adjustment_url %}
+                                {% admin_edit_url a_request.item redirect_adjustment_url as edit_url %}
+                                {% if edit_url %}
+                                    <br>
+                                    {% button id="edit_"|concat:a_request.id type="edit" size="small" value="Edit charge" url=edit_url style="margin-bottom: 5px" %}
+                                {% endif %}
+                            {% endif %}
+                            {% if user.is_user_office or user in a_request.reviewers %}
+                                {% if user in a_request.reviewers and "requests"|customization:"adjustment_requests_apply_button" == "enabled" %}
+                                    <br>
+                                    {% button id="apply_"|concat:a_request.id icon="glyphicon-edit" type="save" size="small" value="Adjust charge" onclick="apply_adjustment("|concat:a_request.id|concat:")" style="margin-bottom: 5px" %}
+                                {% endif %}
+                                <br>
+                                {% button id="applied_"|concat:a_request.id icon="glyphicon-check" type="save" size="small" value="Mark as applied" onclick="mark_adjustment_as_applied("|concat:a_request.id|concat:")" style="margin-bottom: 5px" %}
                             {% endif %}
                         {% endif %}
                     {% else %}
                         {% if request_status == 'pending' and user in a_request.reviewers %}
-                            <a class="btn btn-sm btn-default" title="Approve/Deny" href="{% url 'edit_adjustment_request' a_request.id %}"><i class="glyphicon glyphicon-ok-circle success-highlight"></i>&nbsp;&nbsp;<i class="glyphicon glyphicon-ban-circle danger-highlight"></i> Review</a>
+                            <a class="btn btn-sm btn-default"
+                               title="Approve/Deny"
+                               href="{% url 'edit_adjustment_request' a_request.id %}"><i class="glyphicon glyphicon-ok-circle success-highlight"></i>&nbsp;&nbsp;<i class="glyphicon glyphicon-ban-circle danger-highlight"></i> Review</a>
                         {% endif %}
                         {% if request_status == 'pending' and a_request.creator == user %}
                             {% url 'edit_adjustment_request' a_request.id as edit_request_url %}
                             {% url 'delete_adjustment_request' a_request.id as delete_request_url %}
                             {% button type="edit" size="small" value="Edit" title="Edit request" url=edit_request_url %}
                             {% button type="delete" size="small" value="Delete" title="Delete request" url=delete_request_url onclick="return confirm('Are you sure you want to delete this request?');" %}
                         {% endif %}
                     {% endif %}
                 </td>
             </tr>
             <tr>
-                <td colspan="{% if user_is_reviewer or user.is_any_part_of_staff %}3{% else %}2{% endif %}" style="border: none">
+                <td colspan="{% if user_is_reviewer or user.is_any_part_of_staff %}3{% else %}2{% endif %}"
+                    style="border: none">
                     <div style="color: rgb(128,128,128)">
                         {% if a_request.description %}
                             <div>
                                 <div class="adjustment-request-message">
                                     {{ a_request.description|linebreaksbr }}
                                     <div class="request-item-message-user">{{ a_request.creator.get_name }}, {{ a_request.creation_time }}</div>
                                 </div>
                             </div>
                         {% endif %}
                         {% if a_request.replies %}
                             {% for message in a_request.replies %}
                                 <div>
                                     <div class="adjustment-request-message">
-                                        {% if message.id in reply_notifications %}<span class="label label-success request-item-message-new-reply">New reply</span>{% endif %}
+                                        {% if message.id in reply_notifications %}
+                                            <span class="label label-success request-item-message-new-reply">New reply</span>
+                                        {% endif %}
                                         {{ message.content|linebreaksbr }}
                                         <div class="request-item-message-user">{{ message.author.get_name }}, {{ message.creation_date }}</div>
                                     </div>
                                 </div>
                             {% endfor %}
                         {% endif %}
                         {% if a_request.get_status_display == "Pending" %}
                             {% if user == a_request.creator or user in a_request.reviewers %}
                                 <div>
                                     <div class="adjustment-request-reply-textarea" style="display: none;">
-                                        <form id="adjustment_request_reply_{{ a_request.id }}" action="{% url 'adjustment_request_reply' a_request.id %}" method="post">
+                                        <form id="adjustment_request_reply_{{ a_request.id }}"
+                                              action="{% url 'adjustment_request_reply' a_request.id %}"
+                                              method="post">
                                             {% csrf_token %}
                                             <textarea required name="reply_content" aria-label="Reply content" style="width: 100%"></textarea>
                                         </form>
                                     </div>
                                     <div class="text-right" style="clear: both;">
                                         <span data-toggle="tooltip" title="{{ a_request.user_reply_error|default_if_none:'' }}">
                                             {% if a_request.user_reply_error %}
@@ -100,8 +117,8 @@
                         {% endif %}
                     </div>
                 </td>
                 <td colspan="4" style="border: none"></td>
             </tr>
         {% endfor %}
     </tbody>
-</table>
+</table>
```

### html2text {}

```diff
@@ -1,71 +1,64 @@
 {% load custom_tags_and_filters %}
                                                                                                                                                                                                    {{%% iiff rreeqquueesstt__ssttaattuuss ==== ''ppeennddiinngg'' aanndd
                                                                                                                                                                                                    uusseerr__iiss__rreevviieewweerr %%}} AAccttiioonn {{%% eelliiff
 CCrreeaatteedd                             UUsseerr                       CChhaarrggee                     NNeeww ssttaarrtt                     NNeeww eenndd                     DDiiffffeerreennccee                                     rreeqquueesstt__ssttaattuuss ==== ''aapppprroovveedd'' %%}} AApppprroovveedd
                                                                                                                                                                                                    bbyy {{%% eelliiff rreeqquueesstt__ssttaattuuss ==== ''ddeenniieedd'' %%}}
                                                                                                                                                                                                    DDeenniieedd bbyy {{%% eennddiiff %%}}
-                                                                                                                                                                                                   {% if request_status == 'approved' or
-                                                                                                                                                                                                   request_status == 'denied' %} {
+{% if a_request.id in               {                          {                          {                             {                           {
+request_notifications %}New{% endif {                          {                          {                             {                           {
+%} {{ a_request.creation_time|date: a_request.creator.get_name a_request.item.get_display a_request.get_new_start|date: a_request.get_new_end|date: a_request.get_time_difference|default_if_none: {% if request_status == 'approved' or
+'SHORT_DATETIME_FORMAT' }}          }}                         }}                         'SHORT_DATETIME_FORMAT' }}    'SHORT_DATETIME_FORMAT' }}  "" }}                                          request_status == 'denied' %} {
                                                                                                                                                                                                    { a_request.reviewer.get_name }} {% if
-                                                                                                                                                                                                   request_status == 'approved' and
-                                                                                                                                                                                                   a_request.editable_charge and
+                                                                                                                                                                                                   not a_request.applied and request_status
+                                                                                                                                                                                                   == 'approved' and
+                                                                                                                                                                                                   a_request.editable_charge %} {% if
                                                                                                                                                                                                    "requests"|customization:
                                                                                                                                                                                                    "adjustment_requests_edit_charge_button"
                                                                                                                                                                                                    == "enabled" %} {% url "user_requests"
                                                                                                                                                                                                    "adjustment" as redirect_adjustment_url
                                                                                                                                                                                                    %} {% admin_edit_url a_request.item
                                                                                                                                                                                                    redirect_adjustment_url as edit_url %}
                                                                                                                                                                                                    {% if edit_url %}
-                                                                                                                                                                                                   {% button type="edit" size="small"
-                                                                                                                                                                                                   value="Edit charge" url=edit_url %} {%
-{% if a_request.id in               {                          {                          {                             {                           {                                              endif %} {% endif %} {% else %} {% if
-request_notifications %}New {%      {                          {                          {                             {                           {                                              request_status == 'pending' and user in
-endif %}{                           a_request.creator.get_name a_request.item.get_display a_request.get_new_start|date: a_request.get_new_end|date: a_request.get_time_difference|default_if_none: a_request.reviewers %}
-{ a_request.creation_time|date:     }}                         }}                         'SHORT_DATETIME_FORMAT' }}    'SHORT_DATETIME_FORMAT' }}  "" }}                                          _ _ _ _R_e_v_i_e_w
-'SHORT_DATETIME_FORMAT' }}                                                                                                                                                                          {% endif %} {% if request_status ==
-                                                                                                                                                                                                   'pending' and a_request.creator == user
-                                                                                                                                                                                                   %} {% url 'edit_adjustment_request'
-                                                                                                                                                                                                   a_request.id as edit_request_url %} {%
-                                                                                                                                                                                                   url 'delete_adjustment_request'
+                                                                                                                                                                                                   {% button id="edit_"|concat:a_request.id
+{% if a_request.description %}                                                                                                                                                                     type="edit" size="small" value="Edit
+{                                                                                                                                                                                                  charge" url=edit_url style="margin-
+{                                                                                                                                                                                                  bottom: 5px" %} {% endif %} {% endif %}
+a_request.description|linebreaksbr                                                                                                                                                                 {% if user.is_user_office or user in
+}}                                                                                                                                                                                                 a_request.reviewers %} {% if user in
+{{ a_request.creator.get_name }}, {                                                                                                                                                                a_request.reviewers and
+{ a_request.creation_time }}                                                                                                                                                                       "requests"|customization:
+{% endif %} {% if a_request.replies                                                                                                                                                                "adjustment_requests_apply_button" ==
+%} {% for message in                                                                                                                                                                               "enabled" %}
+a_request.replies %}                                                                                                                                                                               {% button id="apply_"|concat:
+{% if message.id in                                                                                                                                                                                a_request.id icon="glyphicon-edit"
+reply_notifications %} New reply {%                                                                                                                                                                type="save" size="small" value="Adjust
+endif %} {                                                                                                                                                                                         charge" onclick="apply_adjustment
+{ message.content|linebreaksbr }}                                                                                                                                                                  ("|concat:a_request.id|concat:")"
+{{ message.author.get_name }}, {                                                                                                                                                                   style="margin-bottom: 5px" %} {% endif
+{ message.creation_date }}                                                                                                                                                                         %}
+{% endfor %} {% endif %} {% if                                                                                                                                                                     {% button id="applied_"|concat:
+a_request.get_status_display ==                                                                                                                                                                    a_request.id icon="glyphicon-check"
+"Pending" %} {% if user ==                                                                                                                                                                         type="save" size="small" value="Mark as
+a_request.creator or user in                                                                                                                                                                       applied"
+a_request.reviewers %}                                                                                                                                                                             onclick="mark_adjustment_as_applied
+{% if a_request.user_reply_error %}                                                                                                                                                                ("|concat:a_request.id|concat:")"
+{% button type="add" size="xsmall"                                                                                                                                                                 style="margin-bottom: 5px" %} {% endif
+icon="glyphicon-send" value="Reply"                                                                                                                                                                %} {% endif %} {% else %} {% if
+disabled="disabled" %} {% else %}                                                                                                                                                                  request_status == 'pending' and user in
+{% button type="add" size="xsmall"                                                                                                                                                                 a_request.reviewers %}
+icon="glyphicon-send" value="Reply"                                                                                                                                                                _ _ _ _R_e_v_i_e_w
+onclick="show_or_send_reply(this,                                                                                                                                                                   {% endif %} {% if request_status ==
+'adjustment_request_reply_"|concat:                                                                                                                                                                'pending' and a_request.creator == user
+a_request.id|concat:"')" %} {%                                                                                                                                                                     %} {% url 'edit_adjustment_request'
+endif %}                                                                                                                                                                                           a_request.id as edit_request_url %} {%
+{% endif %} {% endif %}                                                                                                                                                                            url 'delete_adjustment_request'
                                                                                                                                                                                                    a_request.id as delete_request_url %} {%
                                                                                                                                                                                                    button type="edit" size="small"
                                                                                                                                                                                                    value="Edit" title="Edit request"
                                                                                                                                                                                                    url=edit_request_url %} {% button
                                                                                                                                                                                                    type="delete" size="small"
                                                                                                                                                                                                    value="Delete" title="Delete request"
                                                                                                                                                                                                    url=delete_request_url onclick="return
                                                                                                                                                                                                    confirm('Are you sure you want to delete
                                                                                                                                                                                                    this request?');" %} {% endif %} {%
                                                                                                                                                                                                    endif %}
-{% if a_request.description %}
-{
-{
-a_request.description|linebreaksbr
-}}
-{{ a_request.creator.get_name }}, {
-{ a_request.creation_time }}
-{% endif %} {% if a_request.replies
-%} {% for message in
-a_request.replies %}
-{% if message.id in
-reply_notifications %}New reply{%
-endif %} {
-{ message.content|linebreaksbr }}
-{{ message.author.get_name }}, {
-{ message.creation_date }}
-{% endfor %} {% endif %} {% if
-a_request.get_status_display ==
-"Pending" %} {% if user ==
-a_request.creator or user in
-a_request.reviewers %}
-{% if a_request.user_reply_error %}
-{% button type="add" size="xsmall"
-icon="glyphicon-send" value="Reply"
-disabled="disabled" %} {% else %}
-{% button type="add" size="xsmall"
-icon="glyphicon-send" value="Reply"
-onclick="show_or_send_reply(this,
-'adjustment_request_reply_"|concat:
-a_request.id|concat:"')" %} {%
-endif %}
-{% endif %} {% endif %}
```

## NEMO/templates/requests/buddy_requests/buddy_request.html

```diff
@@ -1,50 +1,82 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% load static %}
-{% block title %}{% if form.instance.id %}Modify buddy request{% else %}New buddy request{% endif %}{% endblock %}
+{% block title %}
+    {% if form.instance.id %}
+        Modify buddy request
+    {% else %}
+        New buddy request
+    {% endif %}
+{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
-    <h1 class="form-group">{% if form.instance.id %}Modify buddy request{% else %}New buddy request{% endif %}</h1>
-	<form class="well" action="{% if form.instance.id %}{% url 'edit_buddy_request' form.instance.id %}{% else %}{% url 'create_buddy_request' %}{% endif %}" method="post">
-		{% if form.non_field_errors %}
-			<div class="alert alert-danger">
-				{{ form.non_field_errors }}
-			</div>
-		{% endif %}
-		{% csrf_token %}
-		<div class="form-group">
-			<div class="row">
-				<div class="col-sm-2">
-					<label for="start">Start date</label>{% if form.start.errors %} - <span style="color:red">{{ form.start.errors|striptags }}</span>{% endif %}
-					<input type="text" class="form-control text-center" name="start" id="start" value="{{ form.start.value|input_date_format }}" required>
-				</div>
-				<div class="col-sm-2">
-					<label for="end">End date</label>{% if form.end.errors %} - <span style="color:red">{{ form.end.errors|striptags }}</span>{% endif %}
-					<input type="text" class="form-control text-center" name="end" id="end" value="{{ form.end.value|input_date_format }}" required>
-				</div>
-			</div>
-		</div>
-		<div class="form-group">
-			<label for="area_search">Area</label>{% if form.area.errors %} - <span style="color:red">{{ form.area.errors|striptags }}</span>{% endif %}
-			<input type="text" id="area_search" name="area" class="form-control">
-			<input type="button" id="selected_area" class="btn btn-default" onclick="clear_area_selection()" style="display:none">
-		</div>
-		<div class="form-group">
-			<label for="description">Description</label>{% if form.description.errors %} - <span style="color:red">{{ form.description.errors|striptags }}</span>{% endif %}
-			<textarea class="form-control" rows="3" name="description" id="description" maxlength="{{ form.fields.description.max_length }}" placeholder="Describe your request" required>{{ form.description.value|default_if_none:"" }}</textarea>
-		</div>
-		<div class="text-right">
-            {% button type="save" value=form.instance.id|yesno:"Save changes,Create buddy request" %}
-		</div>
-	</form>
-	<script>
+    <h1 class="form-group">
+        {% if form.instance.id %}
+            Modify buddy request
+        {% else %}
+            New buddy request
+        {% endif %}
+    </h1>
+    <form class="well"
+          action="{% if form.instance.id %}{% url 'edit_buddy_request' form.instance.id %}{% else %}{% url 'create_buddy_request' %}{% endif %}"
+          method="post">
+        {% if form.non_field_errors %}<div class="alert alert-danger">{{ form.non_field_errors }}</div>{% endif %}
+        {% csrf_token %}
+        <div class="form-group">
+            <div class="row">
+                <div class="col-sm-2">
+                    <label for="start">Start date</label>
+                    {% if form.start.errors %}- <span style="color:red">{{ form.start.errors|striptags }}</span>{% endif %}
+                    <input type="text"
+                           class="form-control text-center"
+                           name="start"
+                           id="start"
+                           value="{{ form.start.value|input_date_format }}"
+                           required>
+                </div>
+                <div class="col-sm-2">
+                    <label for="end">End date</label>
+                    {% if form.end.errors %}- <span style="color:red">{{ form.end.errors|striptags }}</span>{% endif %}
+                    <input type="text"
+                           class="form-control text-center"
+                           name="end"
+                           id="end"
+                           value="{{ form.end.value|input_date_format }}"
+                           required>
+                </div>
+            </div>
+        </div>
+        <div class="form-group">
+            <label for="area_search">Area</label>
+            {% if form.area.errors %}- <span style="color:red">{{ form.area.errors|striptags }}</span>{% endif %}
+            <input type="text" id="area_search" name="area" class="form-control">
+            <input type="button"
+                   id="selected_area"
+                   class="btn btn-default"
+                   onclick="clear_area_selection()"
+                   style="display:none">
+        </div>
+        <div class="form-group">
+            <label for="description">Description</label>
+            {% if form.description.errors %}- <span style="color:red">{{ form.description.errors|striptags }}</span>{% endif %}
+            <textarea class="form-control"
+                      rows="3"
+                      name="description"
+                      id="description"
+                      maxlength="{{ form.fields.description.max_length }}"
+                      placeholder="Describe your request"
+                      required>{{ form.description.value|default_if_none:"" }}</textarea>
+        </div>
+        <div class="text-right">{% button type="save" value=form.instance.id|yesno:"Save changes,Create buddy request" %}</div>
+    </form>
+    <script>
 		let timepicker_properties =
 		{
 			format: '{{ date_input_js_format }}',
             useCurrent: false
 		};
 
 		function select_area(jquery_event, search_selection, dataset_name)
@@ -72,9 +104,10 @@
 				let auto_select_area = {'id': '{{ areas.0.id }}', 'name': '{{ areas.0.name }}'};
 				select_area(false, auto_select_area);
 			{% endif %}
             set_start_end_datetime_pickers($('#start'), $('#end'), timepicker_properties);
 		}
 
 		$(on_load);
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,22 +1,22 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% load static %}
-{% block title %}{% if form.instance.id %}Modify buddy request{% else %}New
-buddy request{% endif %}{% endblock %} {% block extrahead %}
+{% block title %} {% if form.instance.id %} Modify buddy request {% else %} New
+buddy request {% endif %} {% endblock %} {% block extrahead %}
 }">
-}"/> {% endblock %} {% block content %}
-************ {{%% iiff ffoorrmm..iinnssttaannccee..iidd %%}}MMooddiiffyy bbuuddddyy rreeqquueesstt{{%% eellssee %%}}NNeeww bbuuddddyy rreeqquueesstt
-{{%% eennddiiff %%}} ************
+}" /> {% endblock %} {% block content %}
+************ {{%% iiff ffoorrmm..iinnssttaannccee..iidd %%}} MMooddiiffyy bbuuddddyy rreeqquueesstt {{%% eellssee %%}} NNeeww bbuuddddyy
+rreeqquueesstt {{%% eennddiiff %%}} ************
 {% if form.non_field_errors %}
 {{ form.non_field_errors }}
 {% endif %} {% csrf_token %}
-Start date{% if form.start.errors %} - {{ form.start.errors|striptags }}{%
+Start date {% if form.start.errors %}- {{ form.start.errors|striptags }}{%
 endif %}[{{ form.start.value|input_date_format }}]
-End date{% if form.end.errors %} - {{ form.end.errors|striptags }}{% endif %}[{
+End date {% if form.end.errors %}- {{ form.end.errors|striptags }}{% endif %}[{
 { form.end.value|input_date_format }}]
-Area{% if form.area.errors %} - {{ form.area.errors|striptags }}{% endif %}
+Area {% if form.area.errors %}- {{ form.area.errors|striptags }}{% endif %}
 [area                ][Unknown INPUT type]
-Description{% if form.description.errors %} - {
+Description {% if form.description.errors %}- {
 { form.description.errors|striptags }}{% endif %}
 {{ form.description.value|default_if_none:"" }}
 {% button type="save" value=form.instance.id|yesno:"Save changes,Create buddy
 request" %}
 {% endblock %}
```

## NEMO/templates/requests/buddy_requests/buddy_requests.html

```diff
@@ -4,32 +4,34 @@
         {% if buddy_board_description %}
             <div class="well" style="display: table; margin-right: 15px">
                 <span class="requests-description-info glyphicon glyphicon-info-sign primary-highlight"></span>
                 <div class="requests-description">{{ buddy_board_description|safe|linebreaksbr }}</div>
             </div>
         {% endif %}
     </div>
-    <div class="text-right" style="display: table-cell; vertical-align: top">{% button type="add" value="New request" url="create_buddy_request" %}</div>
+    <div class="text-right" style="display: table-cell; vertical-align: top">
+        {% button type="add" value="New request" url="create_buddy_request" %}
+    </div>
 </div>
 {% if buddy_requests %}
     <div class="table-responsive buddy-system-requests">
         {% regroup buddy_requests by start as requests_by_date %}
         {% for date in requests_by_date %}
             <h3>{{ date.grouper|date }}</h3>
             <ul class="buddy-list-day">
                 {% for br in date.list %}
                     <li>
                         <ul class="buddy-list list-unstyled">
                             {% if br.id in request_notifications %}<span class="label label-success">New</span>{% endif %}
-                            {{ br.user.get_name }} needs a buddy {% if not br.start|date == br.end|date %}between {{ br.start|date }} and {{ br.end|date }}{% endif %} in the {{ br.area.name }}
+                            {{ br.user.get_name }} needs a buddy
+                            {% if not br.start|date == br.end|date %}between {{ br.start|date }} and {{ br.end|date }}{% endif %}
+                            in the {{ br.area.name }}
                             <li class="buddy-list-item">
                                 <div class="buddy-list-item list-group-item-info">
-                                    <div class="buddy-list-item-description">
-                                        {{ br.description|linebreaksbr }}
-                                    </div>
+                                    <div class="buddy-list-item-description">{{ br.description|linebreaksbr }}</div>
                                     {% if br.user == request.user and br.replies.count == 0 %}
                                         <div class="buddy-list-item-buttons">
                                             {% url 'edit_buddy_request' br.id as edit_buddy_request_url %}
                                             {% button type="edit" size="small" url=edit_buddy_request_url value="Edit" %}
                                             <form style="display: inline-block" action="{% url 'delete_buddy_request' br.id %}" method="post">
                                                 {% csrf_token %}
                                                 {% button type="delete" size="small" submit=True value="Delete" %}
@@ -92,8 +94,8 @@
     {
         {# Scroll to msg id if available #}
         let msg_id = window.location.hash.substring(1);
         if (msg_id) document.getElementById(msg_id).scrollIntoView();
 
         $('[data-toggle="tooltip"]').tooltip();
     })
-</script>
+</script>
```

## NEMO/templates/resources/modify_resource.html

```diff
@@ -1,65 +1,81 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Modify resource{% endblock %}
 {% block content %}
-	{% if error %}
-		<div class="alert alert-danger">
-			{{ error }}
-		</div>
-	{% endif %}
-	<h1>Modify {{ resource }} resource</h1>
-	<form method="post" action="{% url 'modify_resource' resource.id %}" style="margin-bottom:50px">
-		{% csrf_token %}
-		{% if resource.available %}
-			<input type="hidden" name="status" value="unavailable">
-			<p>
-				<strong>{{ resource.name }}</strong> is currently <strong>available</strong>. Enter a status message to mark the resource as unavailable.
-			</p>
-			When a resource is unavailable:
-			<ul>
-				<li>The status message will be displayed on the landing page and tool control page of each affected tool</li>
-				<li>Tools that fully depend on this resource will be <strong>unavailable to users</strong></li>
-				<li>Areas that depend on this resource will be <strong>unavailable to users</strong></li>
-				<li>Tools that partially depend on this resource will be available to users, however it is the user's responsibility to determine if their fabrication process will succeed without the resource available</li>
-			</ul>
-			<div class="form-group">
-				<textarea name="reason" aria-label="Reason for resource being unavailable" class="form-control" rows="3" placeholder="Why is the resource unavailable?" required></textarea>
-			</div>
-			{% if fully_dependent_tools_in_use %}
-				<div class="alert alert-danger">
-					<p>
-						<strong>Warning:</strong> the following tools fully depend on this resource and are in use.
-						You must disable the tools individually to block <strong>current</strong> use. It is recommended
-						that you disable these tools before making the resource unavailable.
-					</p>
-					<ul>
-						{% for t in fully_dependent_tools_in_use %}
-							<li>{{ t.name }}</li>
-						{% endfor %}
-					</ul>
-				</div>
-			{% endif %}
-		{% else %}
-			<p>{{ resource.name }} is currently <strong>unavailable</strong>. What would you like to do?</p>
-			<div class="form-group">
-				<div class="radio">
-					<label>
-						<input type="radio" name="status" id="available" value="available" checked onclick="$('#modify_status_message').hide()">
-						Make the resource available
-					</label>
-				</div>
-				<div class="radio">
-					<label>
-						<input type="radio" name="status" id="unavailable" value="unavailable" onclick="$('#modify_status_message').show(); $('#reason').focus().select()">
-						Change the status message for the resource outage
-					</label>
-				</div>
-			</div>
-			<div id="modify_status_message" class="form-group" style="display:none">
-				<label for="reason">What would you like the new status message to say?</label>
-				<textarea id="reason" name="reason" rows="3" class="form-control">{{ resource.restriction_message }}</textarea>
-			</div>
-		{% endif %}
+    {% if error %}<div class="alert alert-danger">{{ error }}</div>{% endif %}
+    <h1>Modify {{ resource }} resource</h1>
+    <form method="post" action="{% url 'modify_resource' resource.id %}" style="margin-bottom:50px">
+        {% csrf_token %}
+        {% if resource.available %}
+            <input type="hidden" name="status" value="unavailable">
+            <p>
+                <strong>{{ resource.name }}</strong> is currently <strong>available</strong>. Enter a status message to mark the resource as unavailable.
+            </p>
+            When a resource is unavailable:
+            <ul>
+                <li>The status message will be displayed on the landing page and tool control page of each affected tool</li>
+                <li>
+                    Tools that fully depend on this resource will be <strong>unavailable to users</strong>
+                </li>
+                <li>
+                    Areas that depend on this resource will be <strong>unavailable to users</strong>
+                </li>
+                <li>
+                    Tools that partially depend on this resource will be available to users, however it is the user's responsibility to determine if their fabrication process will succeed without the resource available
+                </li>
+            </ul>
+            <div class="form-group">
+                <textarea name="reason"
+                          aria-label="Reason for resource being unavailable"
+                          class="form-control"
+                          rows="3"
+                          placeholder="Why is the resource unavailable?"
+                          required></textarea>
+            </div>
+            {% if fully_dependent_tools_in_use %}
+                <div class="alert alert-danger">
+                    <p>
+                        <strong>Warning:</strong> the following tools fully depend on this resource and are in use.
+                        You must disable the tools individually to block <strong>current</strong> use. It is recommended
+                        that you disable these tools before making the resource unavailable.
+                    </p>
+                    <ul>
+                        {% for t in fully_dependent_tools_in_use %}<li>{{ t.name }}</li>{% endfor %}
+                    </ul>
+                </div>
+            {% endif %}
+        {% else %}
+            <p>
+                {{ resource.name }} is currently <strong>unavailable</strong>. What would you like to do?
+            </p>
+            <div class="form-group">
+                <div class="radio">
+                    <label>
+                        <input type="radio"
+                               name="status"
+                               id="available"
+                               value="available"
+                               checked
+                               onclick="$('#modify_status_message').hide()">
+                        Make the resource available
+                    </label>
+                </div>
+                <div class="radio">
+                    <label>
+                        <input type="radio"
+                               name="status"
+                               id="unavailable"
+                               value="unavailable"
+                               onclick="$('#modify_status_message').show(); $('#reason').focus().select()">
+                        Change the status message for the resource outage
+                    </label>
+                </div>
+            </div>
+            <div id="modify_status_message" class="form-group" style="display:none">
+                <label for="reason">What would you like the new status message to say?</label>
+                <textarea id="reason" name="reason" rows="3" class="form-control">{{ resource.restriction_message }}</textarea>
+            </div>
+        {% endif %}
         {% button type="save" value="Modify resource" %}
-	</form>
-{% endblock %}
+    </form>
+{% endblock %}
```

## NEMO/templates/resources/resource_details.html

```diff
@@ -1,89 +1,117 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}{{ resource }}{% endblock %}
 {% block content %}
-	<div class="row pull-right h1">
-		<div class="col-md-4">
+    <div class="row pull-right h1">
+        <div class="col-md-4">
             {% url 'modify_resource' resource.id as modify_resource_url %}
             {% button type="edit" value="Modify availability" url=modify_resource_url %}
-		</div>
-		<div class="col-md-4 col-md-offset-2">
+        </div>
+        <div class="col-md-4 col-md-offset-2">
             {% url 'schedule_resource_outage' resource.id as resource_outage_url %}
             {% button type="delete" value="Schedule outage" icon="glyphicon-time" url=resource_outage_url %}
-		</div>
-	</div>
-	<h1>{{ resource }} {% if resource.category %}({{ resource.category }}{% endif %})</h1>
-	This resource is {% if resource.available %}<span class="success-highlight">available</span>.{% endif %}
-	{% if not resource.available %}<span class="danger-highlight">unavailable</span> for the following reason:
-		<ul><li style="list-style: none"><div class="warning-highlight" style="margin-top: 10px">{{ resource.restriction_message|linebreaks }}</div></li></ul>
-	{% endif %}
-	{% if outages %}
-		<h3>
-			Scheduled outages:
-		</h3>
-		<div class="row" style="margin-top: 20px">
-			{% for o in outages %}
-				<div class="col-sm-4">
-					<div class="alert alert-danger">
-						<form id="delete_resource_outage_{{ o.id }}" method="post" action="{% url 'delete_scheduled_resource_outage' resource.id o.id %}">
-							{% csrf_token %}
-							<span class="glyphicon glyphicon-remove pull-right" style="cursor:pointer" onclick="$('#delete_resource_outage_{{ o.id }}').submit()" data-toggle="tooltip" data-placement="top" title="Delete this outage"></span>
-						</form>
-						<form id="edit_resource_outage_{{ o.id }}" method="get" action="{% url 'schedule_resource_outage' resource.id %}">
-							<span class="glyphicon glyphicon-pencil pull-right" style="margin-right:10px; cursor:pointer" onclick="$('#edit_resource_outage_{{ o.id }}').submit()" data-toggle="tooltip" data-placement="top" title="Edit this outage"></span>
-							<input type="hidden" name="outage_id" value="{{ o.id }}">
-						</form>
-						<span style="font-weight:bold">{{ o.title }}</span><br>
-						{% if o.category %}Outage category: {{ o.category }}<br>{% endif %}
-						Starts on {{ o.start }}<br>
-						Ends on {{ o.end }}<br>
-						{{ o.details }}<br>
-					</div>
-				</div>
-			{% endfor %}
-		</div>
-	{% endif %}
-	{% if resource.visible_fully_dependent_tools %}
-		<h3>Tools that fully depend on {{ resource }}</h3>
-		<ul>
-			{% for t in resource.visible_fully_dependent_tools %}
-				<li>
-					{% if t.in_use %}
-						{{ t }} - in use by <a href="{% url 'get_email_form_for_user' t.get_current_usage_event.operator.id %}"><span class="glyphicon glyphicon-send"></span> {{ t.get_current_usage_event.operator }}</a>
-					{% else %}
-						{{ t }}
-					{% endif %}
-				</li>
-			{% endfor %}
-		</ul>
-	{% else %}
-		<h3>No tools fully depend on {{ resource }}</h3>
-	{% endif %}
-	{% if resource.visible_partially_dependent_tools %}
-		<h3>Tools that partially depend on {{ resource }}</h3>
-		<ul>
-			{% for t in resource.visible_partially_dependent_tools %}
-				<li>
-					{% if t.in_use %}
-						{{ t }} - in use by <a href="{% url 'get_email_form_for_user' t.get_current_usage_event.operator.id %}"><span class="glyphicon glyphicon-send"></span> {{ t.get_current_usage_event.operator }}</a>
-					{% else %}
-						{{ t }}
-					{% endif %}
-				</li>
-			{% endfor %}
-		</ul>
-	{% else %}
-		<h3>No tools partially depend on {{ resource }}</h3>
-	{% endif %}
-	{% if resource.dependent_areas.all %}
-		<h3>Areas that depend on {{ resource }}</h3>
-		<ul>
-			{% for a in resource.dependent_areas.all %}
-				<li>{{ a }}</li>
-			{% endfor %}
-		</ul>
-	{% else %}
-		<h3>No areas depend on {{ resource }}</h3>
-	{% endif %}
-	<script>$('.glyphicon').tooltip({container: 'body'});</script>
-{% endblock %}
+        </div>
+    </div>
+    <h1>
+        {{ resource }}
+        {% if resource.category %}({{ resource.category }}{% endif %}
+        )
+    </h1>
+    This resource is
+    {% if resource.available %}<span class="success-highlight">available</span>.{% endif %}
+    {% if not resource.available %}
+        <span class="danger-highlight">unavailable</span> for the following reason:
+        <ul>
+            <li style="list-style: none">
+                <div class="warning-highlight" style="margin-top: 10px">{{ resource.restriction_message|linebreaks }}</div>
+            </li>
+        </ul>
+    {% endif %}
+    {% if outages %}
+        <h3>Scheduled outages:</h3>
+        <div class="row" style="margin-top: 20px">
+            {% for o in outages %}
+                <div class="col-sm-4">
+                    <div class="alert alert-danger">
+                        <form id="delete_resource_outage_{{ o.id }}"
+                              method="post"
+                              action="{% url 'delete_scheduled_resource_outage' resource.id o.id %}">
+                            {% csrf_token %}
+                            <span class="glyphicon glyphicon-remove pull-right"
+                                  style="cursor:pointer"
+                                  onclick="$('#delete_resource_outage_{{ o.id }}').submit()"
+                                  data-toggle="tooltip"
+                                  data-placement="top"
+                                  title="Delete this outage"></span>
+                        </form>
+                        <form id="edit_resource_outage_{{ o.id }}"
+                              method="get"
+                              action="{% url 'schedule_resource_outage' resource.id %}">
+                            <span class="glyphicon glyphicon-pencil pull-right"
+                                  style="margin-right:10px;
+                                         cursor:pointer"
+                                  onclick="$('#edit_resource_outage_{{ o.id }}').submit()"
+                                  data-toggle="tooltip"
+                                  data-placement="top"
+                                  title="Edit this outage"></span>
+                            <input type="hidden" name="outage_id" value="{{ o.id }}">
+                        </form>
+                        <span style="font-weight:bold">{{ o.title }}</span>
+                        <br>
+                        {% if o.category %}
+                            Outage category: {{ o.category }}
+                            <br>
+                        {% endif %}
+                        Starts on {{ o.start }}
+                        <br>
+                        Ends on {{ o.end }}
+                        <br>
+                        {{ o.details }}
+                        <br>
+                    </div>
+                </div>
+            {% endfor %}
+        </div>
+    {% endif %}
+    {% if resource.visible_fully_dependent_tools %}
+        <h3>Tools that fully depend on {{ resource }}</h3>
+        <ul>
+            {% for t in resource.visible_fully_dependent_tools %}
+                <li>
+                    {% if t.in_use %}
+                        {{ t }} - in use by <a href="{% url 'get_email_form_for_user' t.get_current_usage_event.operator.id %}"><span class="glyphicon glyphicon-send"></span> {{ t.get_current_usage_event.operator }}</a>
+                    {% else %}
+                        {{ t }}
+                    {% endif %}
+                </li>
+            {% endfor %}
+        </ul>
+    {% else %}
+        <h3>No tools fully depend on {{ resource }}</h3>
+    {% endif %}
+    {% if resource.visible_partially_dependent_tools %}
+        <h3>Tools that partially depend on {{ resource }}</h3>
+        <ul>
+            {% for t in resource.visible_partially_dependent_tools %}
+                <li>
+                    {% if t.in_use %}
+                        {{ t }} - in use by <a href="{% url 'get_email_form_for_user' t.get_current_usage_event.operator.id %}"><span class="glyphicon glyphicon-send"></span> {{ t.get_current_usage_event.operator }}</a>
+                    {% else %}
+                        {{ t }}
+                    {% endif %}
+                </li>
+            {% endfor %}
+        </ul>
+    {% else %}
+        <h3>No tools partially depend on {{ resource }}</h3>
+    {% endif %}
+    {% if resource.dependent_areas.all %}
+        <h3>Areas that depend on {{ resource }}</h3>
+        <ul>
+            {% for a in resource.dependent_areas.all %}<li>{{ a }}</li>{% endfor %}
+        </ul>
+    {% else %}
+        <h3>No areas depend on {{ resource }}</h3>
+    {% endif %}
+    <script>$('.glyphicon').tooltip({container: 'body'});</script>
+{% endblock %}
```

### html2text {}

```diff
@@ -2,24 +2,24 @@
 { resource }}{% endblock %} {% block content %}
 {% url 'modify_resource' resource.id as modify_resource_url %} {% button
 type="edit" value="Modify availability" url=modify_resource_url %}
 {% url 'schedule_resource_outage' resource.id as resource_outage_url %} {%
 button type="delete" value="Schedule outage" icon="glyphicon-time"
 url=resource_outage_url %}
 ************ {{{{ rreessoouurrccee }}}} {{%% iiff rreessoouurrccee..ccaatteeggoorryy %%}}(({{{{ rreessoouurrccee..ccaatteeggoorryy }}}}{{%%
-eennddiiff %%}})) ************
+eennddiiff %%}} )) ************
 This resource is {% if resource.available %}available.{% endif %} {% if not
-resource.available %}unavailable for the following reason:
+resource.available %} unavailable for the following reason:
     * {{ resource.restriction_message|linebreaks }}
 {% endif %} {% if outages %}
 ******** SScchheedduulleedd oouuttaaggeess:: ********
 {% for o in outages %}
 {% csrf_token %}
 {{ o.title }}
-{% if o.category %}Outage category: {{ o.category }}
+{% if o.category %} Outage category: {{ o.category }}
 {% endif %} Starts on {{ o.start }}
 Ends on {{ o.end }}
 {{ o.details }}
 {% endfor %}
 {% endif %} {% if resource.visible_fully_dependent_tools %}
 ******** TToooollss tthhaatt ffuullllyy ddeeppeenndd oonn {{{{ rreessoouurrccee }}}} ********
     * {% for t in resource.visible_fully_dependent_tools %}
```

## NEMO/templates/resources/resources.html

```diff
@@ -1,30 +1,33 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Resources{% endblock %}
 {% block content %}
-	<h1>Resources</h1>
-	<p>
-		Below is a list of resources, grouped by category.
-		<br>Resources in <span class="success-highlight">green</span> are currently
-		available while resources in <span class="danger-highlight">red</span> are unavailable. Click on a resource to modify its
-		availability, status message or to schedule an outage.
-		<br>When a resource is unavailable, users are blocked from using tools or login to areas that fully depend on that resource.
-	</p>
-	{% if resources %}
-		{% regroup resources by category as category_list %}
-		{% for category in category_list %}
-			{% if category.grouper %}<h3>{{ category.grouper }}</h3>{% endif %}
-			<div id="resource_list">
-				{% for resource in category.list %}
-					<a href="{% url 'resource_details' resource.id %}" class="{% if resource.available %}success-highlight{% else %}danger-highlight{% endif %}">{{ resource }}</a>
-					{% if not resource.available %}
-						- {{ resource.restriction_message }}
-					{% endif %}
-					<br>
-				{% endfor %}
-			</div>
-		{% endfor %}
-	{% elif user.is_superuser and "django.contrib.admin"|app_installed %}
-		<h3>No resources exist yet. You can <a href="{% url 'admin:NEMO_resource_changelist' %}">create some in the Resources section of 'Detailed Administration'</a>.</h3>
-	{% endif %}
-{% endblock %}
+    <h1>Resources</h1>
+    <p>
+        Below is a list of resources, grouped by category.
+        <br>
+        Resources in <span class="success-highlight">green</span> are currently
+        available while resources in <span class="danger-highlight">red</span> are unavailable. Click on a resource to modify its
+        availability, status message or to schedule an outage.
+        <br>
+        When a resource is unavailable, users are blocked from using tools or login to areas that fully depend on that resource.
+    </p>
+    {% if resources %}
+        {% regroup resources by category as category_list %}
+        {% for category in category_list %}
+            {% if category.grouper %}<h3>{{ category.grouper }}</h3>{% endif %}
+            <div id="resource_list">
+                {% for resource in category.list %}
+                    <a href="{% url 'resource_details' resource.id %}"
+                       class="{% if resource.available %}success-highlight{% else %}danger-highlight{% endif %}">{{ resource }}</a>
+                    {% if not resource.available %}- {{ resource.restriction_message }}{% endif %}
+                    <br>
+                {% endfor %}
+            </div>
+        {% endfor %}
+    {% elif user.is_superuser and "django.contrib.admin"|app_installed %}
+        <h3>
+            No resources exist yet. You can <a href="{% url 'admin:NEMO_resource_changelist' %}">create some in the Resources section of 'Detailed Administration'</a>.
+        </h3>
+    {% endif %}
+{% endblock %}
```

### html2text {}

```diff
@@ -8,14 +8,14 @@
 When a resource is unavailable, users are blocked from using tools or login to
 areas that fully depend on that resource.
 {% if resources %} {% regroup resources by category as category_list %} {% for
 category in category_list %} {% if category.grouper %}
 ******** {{{{ ccaatteeggoorryy..ggrroouuppeerr }}}} ********
 {% endif %}
 {% for resource in category.list %} _{_{_ _r_e_s_o_u_r_c_e_ _}_} {% if not resource.available
-%} - {{ resource.restriction_message }} {% endif %}
+%}- {{ resource.restriction_message }}{% endif %}
 {% endfor %}
 {% endfor %} {% elif user.is_superuser and "django.contrib.admin"|app_installed
 %}
 ******** NNoo rreessoouurrcceess eexxiisstt yyeett.. YYoouu ccaann _cc_rr_ee_aa_tt_ee_ _ss_oo_mm_ee_ _ii_nn_ _tt_hh_ee_ _RR_ee_ss_oo_uu_rr_cc_ee_ss_ _ss_ee_cc_tt_ii_oo_nn_ _oo_ff
 _''_DD_ee_tt_aa_ii_ll_ee_dd_ _AA_dd_mm_ii_nn_ii_ss_tt_rr_aa_tt_ii_oo_nn_''.. ********
 {% endif %} {% endblock %}
```

## NEMO/templates/resources/scheduled_outage.html

```diff
@@ -1,73 +1,213 @@
 {% extends 'base.html' %}
 {% block extrahead %}
-	{% load static %}
-	{% load custom_tags_and_filters %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    {% load static %}
+    {% load custom_tags_and_filters %}
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block title %}Resource outages{% endblock %}
 {% block content %}
-	<h1>Schedule {{ resource }} outage</h1>
-	<p>
-		You can schedule a resource outage to occur for a specific time window. This prevents users from using
-		affected tools and areas, <strong>but will not kick users off if they're already logged in to an area or using a tool</strong>.
-		It is the staff's responsibility to ensure that all tools and areas that use the resource are properly shutdown.
-	</p>
-	<p>
-		When a resource is unavailable:
-		<ul>
-			<li>The status message will be displayed on the landing page and tool control page of each affected tool</li>
-			<li>Tools that fully depend on the resource will be <strong>unavailable to users</strong></li>
-			<li>Areas that depend on the resource will be <strong>unavailable to users</strong></li>
-			<li>Tools that partially depend on the resource will be available to users, however it is the user's responsibility to determine if their fabrication process will succeed without the resource available</li>
-		</ul>
-	</p>
-	{% if form.non_field_errors %}
-		<div class="alert alert-danger">
-			{{ form.non_field_errors }}
-		</div>
-	{% endif %}
-	<form action="{% url 'schedule_resource_outage' resource.id %}" method="post" class="well">
-		<h4>{% if editing %}Edit this outage{% else %}Create a new {{ resource }} outage{% endif %}</h4>
-		{% csrf_token %}
-		{% if form.instance.id %}<input type="hidden" name="outage_id" value="{{ form.instance.id }}">{% endif %}
-		{% if outage_categories %}
-			<div class="form-group">
-				<label for="category">Outage category</label><span class="grey"> - is there a category for this outage? This is useful for data and trend analysis</span>
-				<select class="form-control" name="category" id="category">
-					<option></option>
-					{% for oc in outage_categories %}
-						<option {% if oc.name == form.category.value %}selected{% endif %}>{{ oc }}</option>
-					{% endfor %}
-				</select>
-			</div>
-		{% endif %}
-		<div class="form-group">
-			<label for="details">Details</label>{% if form.details.errors %} - <span style="color:red">{{ form.details.errors|striptags }}</span>{% endif %}
-			<textarea aria-labelledby="outage_details_help" class="form-control" rows="3" name="details" id="details" maxlength="{{ form.fields.details.max_length }}">{{ form.details.value|default_if_none:"" }}</textarea>
-            <div class="light-grey" id="outage_details_help">What is the reason for the outage? What other details will be relevant for users to know?</div>
-		</div>
-		<div class="form-group">
-			<div class="row">
-				<div class="col-sm-6">
-					<label for="start">Start time</label>{% if form.start.errors %} - <span style="color:red">{{ form.start.errors|striptags }}</span>{% endif %}
-					<input type="text" class="form-control" name="start" id="start" value="{{ form.start.value|input_date_format }}">
-				</div>
-				<div class="col-sm-6">
-					<label for="end">End time</label>{% if form.end.errors %} - <span style="color:red">{{ form.end.errors|striptags }}</span>{% endif %}
-					<input type="text" class="form-control" name="end" id="end" value="{{ form.end.value|input_date_format }}">
-				</div>
-			</div>
-		</div>
-		<div class="form-group">
-            {% button type="save" value=editing|yesno:"Save changes,Create outage" %}
-		</div>
-	</form>
-	<script>
+    <h1>Schedule {{ resource }} outage</h1>
+    <p>
+        You can schedule a resource outage to occur for a specific time window. This prevents users from using
+        affected tools and areas, <strong>but will not kick users off if they're already logged in to an area or using a tool</strong>.
+        It is the staff's responsibility to ensure that all tools and areas that use the resource are properly shutdown.
+    </p>
+    <p>When a resource is unavailable:</p>
+    <ul>
+        <li>The status message will be displayed on the landing page and tool control page of each affected tool</li>
+        <li>
+            Tools that fully depend on the resource will be <strong>unavailable to users</strong>
+        </li>
+        <li>
+            Areas that depend on the resource will be <strong>unavailable to users</strong>
+        </li>
+        <li>
+            Tools that partially depend on the resource will be available to users, however it is the user's responsibility to determine if their fabrication process will succeed without the resource available
+        </li>
+    </ul>
+    {% if form.non_field_errors %}<div class="alert alert-danger">{{ form.non_field_errors }}</div>{% endif %}
+    <form action="{% url 'schedule_resource_outage' resource.id %}" method="post" class="well">
+        <h4>
+            {% if editing %}
+                Edit this outage
+            {% else %}
+                Create a new {{ resource }} outage
+            {% endif %}
+        </h4>
+        {% csrf_token %}
+        {% if form.instance.id %}<input type="hidden" name="outage_id" value="{{ form.instance.id }}">{% endif %}
+        {% if outage_categories %}
+            <div class="form-group">
+                <label for="category">Outage category</label>
+                <span class="grey">- is there a category for this outage? This is useful for data and trend analysis</span>
+                <select class="form-control" name="category" id="category">
+                    <option></option>
+                    {% for oc in outage_categories %}
+                        <option {% if oc.name == form.category.value %}selected{% endif %}>{{ oc }}</option>
+                    {% endfor %}
+                </select>
+            </div>
+        {% endif %}
+        <div class="form-group">
+            <label for="details">Details</label>
+            {% if form.details.errors %}- <span class="danger-highlight">{{ form.details.errors|striptags }}</span>{% endif %}
+            <textarea aria-labelledby="outage_details_help"
+                      class="form-control"
+                      rows="3"
+                      name="details"
+                      id="details"
+                      maxlength="{{ form.fields.details.max_length }}">{{ form.details.value|default_if_none:"" }}</textarea>
+            <div class="light-grey" id="outage_details_help">
+                What is the reason for the outage? What other details will be relevant for users to know?
+            </div>
+        </div>
+        <div class="form-group">
+            <div class="row">
+                <div class="col-sm-6">
+                    <label for="start">Start time</label>
+                    {% if form.start.errors %}- <span class="danger-highlight">{{ form.start.errors|striptags }}</span>{% endif %}
+                    <input type="text"
+                           class="form-control"
+                           name="start"
+                           id="start"
+                           value="{{ form.start.value|input_date_format }}">
+                </div>
+                <div class="col-sm-6">
+                    <label for="end">End time</label>
+                    {% if form.end.errors %}- <span class="danger-highlight">{{ form.end.errors|striptags }}</span>{% endif %}
+                    <input type="text" class="form-control" name="end" id="end" value="{{ form.end.value|input_date_format }}">
+                </div>
+            </div>
+        </div>
+        <div class="form-group">
+            <a id="reminder_outage_link"
+               onclick="toggle_details(this)"
+               data-toggle="collapse"
+               data-target="#reminder_section"
+               class="pointer"
+               style="text-decoration: none">
+                <input type="hidden" name="send_reminders" value="" />
+                <input type="checkbox"
+                       id="send_reminders"
+                       name="send_reminders"
+                       {% if form.send_reminders.value or editing and form.reminder_emails.value and form.reminder_days.value %}checked{% endif %} />
+            </a>
+            <label for="send_reminders" style="padding-left: 5px">Send reminder(s) for this outage</label>
+        </div>
+        <div id="reminder_section"
+             class="collapse {{ form.send_reminders.value|yesno:"in," }} {% if editing %}{{ form.reminder_emails.value|yesno:"in," }} {{ form.reminder_days.value|yesno:"in," }}{% endif %}"
+             style="margin: 0 auto">
+            <div class="form-group">
+                <label for="reminder_days">Reminder day(s)</label>
+                {% if form.reminder_days.errors %}
+                    - <span class="danger-highlight">{{ form.reminder_days.errors|striptags }}</span>
+                {% endif %}
+                <input aria-labelledby="outage_reminder_days_help"
+                       id="reminder_days"
+                       name="reminder_days"
+                       type="text"
+                       maxlength="2000"
+                       class="form-control"
+                       value="{{ form.reminder_days.value|default_if_none:'' }}"
+                       autocomplete="off">
+                <div id="outage_reminder_days_help" class="light-grey">
+                    The number of day(s) prior to the start of the outage to send the reminder on
+                </div>
+            </div>
+            <div class="form-group">
+                <label for="reminder_emails">Reminder email(s)</label>
+                {% if form.reminder_emails.errors %}
+                    - <span class="danger-highlight">{{ form.reminder_emails.errors|striptags }}</span>
+                {% endif %}
+                <input aria-labelledby="outage_reminder_emails_help"
+                       id="reminder_emails"
+                       name="reminder_emails"
+                       type="text"
+                       maxlength="2000"
+                       class="form-control"
+                       value="{{ form.reminder_emails.value|default_if_none:'' }}"
+                       autocomplete="off">
+                <div id="outage_reminder_emails_help" class="light-grey">The email(s) to send the reminder to</div>
+            </div>
+        </div>
+        {% if not editing %}
+            <div class="form-group">
+                <a id="recurring_outage_link"
+                   onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#recurrence"
+                   class="pointer"
+                   style="text-decoration: none">
+                    <input type="hidden" name="recurring_outage" value="" />
+                    <input type="checkbox"
+                           id="recurring_outage"
+                           name="recurring_outage"
+                           {% if form.recurring_outage.value %}checked{% endif %} />
+                </a>
+                <label for="recurring_outage" style="padding-left: 5px">Create more than one occurrence of this outage</label>
+            </div>
+            <div id="recurrence"
+                 class="collapse {{ form.recurring_outage.value|yesno:"in," }}"
+                 style="margin: 0 auto">
+                <div class="row">
+                    <div class="form-group col-sm-2">
+                        <label for="recurrence_interval">Every</label>
+                        {% if form.recurrence_interval.errors %}
+                            - <span class="danger-highlight">{{ form.recurrence_interval.errors|striptags }}</span>
+                        {% endif %}
+                        <input id="recurrence_interval"
+                               name="recurrence_interval"
+                               type="number"
+                               class="form-control"
+                               value="{{ form.recurrence_interval.value|default_if_none:'1' }}" />
+                    </div>
+                    <div class="form-group col-sm-6">
+                        <label for="recurrence_frequency">Frequency</label>
+                        {% if form.recurrence_frequency.errors %}
+                            - <span class="danger-highlight">{{ form.recurrence_frequency.errors|striptags }}</span>
+                        {% endif %}
+                        <select class="form-control" name="recurrence_frequency" id="recurrence_frequency">
+                            {% for choice in recurrence_intervals %}
+                                <option value="{{ choice.0 }}"
+                                        {% if form.recurrence_frequency.value == choice.0|stringformat:'i' %}selected{% endif %}>
+                                    {{ choice.1 }}
+                                </option>
+                            {% endfor %}
+                        </select>
+                    </div>
+                    <div class="form-group col-sm-4">
+                        <label for="recurrence_until">Until</label>
+                        {% if form.recurrence_until.errors %}
+                            - <span class="danger-highlight">{{ form.recurrence_until.errors|striptags }}</span>
+                        {% endif %}
+                        <input type="text"
+                               id="recurrence_until"
+                               name="recurrence_until"
+                               class="form-control select-date"
+                               value="{{ form.recurrence_until.value|input_date_format }}"
+                               placeholder="Choose a date">
+                    </div>
+                </div>
+            </div>
+        {% endif %}
+        <div class="form-group">{% button type="save" value=editing|yesno:"Save changes,Create outage" %}</div>
+    </form>
+    <script>
+    	let start_jq = $('#start');
+	    let end_jq = $('#end');
+        let recurrence_until_jq = $('#recurrence_until');
 		let timepicker_properties = {
             format: "{{ datetime_input_js_format }}",
 			sideBySide: true
 		};
-        set_start_end_datetime_pickers($('#start'), $('#end'), timepicker_properties);
-	</script>
-{% endblock %}
+        set_start_end_datetime_pickers(start_jq, end_jq, timepicker_properties);
+	    recurrence_until_jq.datetimepicker({format: '{{ date_input_js_format }}', useCurrent: false});
+        let recurrence_until_picker = recurrence_until_jq.data("DateTimePicker");
+	    start_jq.on("dp.change", function (e)
+		{
+            recurrence_until_picker.minDate(e.date);
+            recurrence_until_picker.maxDate(moment(e.date).add({{ calendar_outage_recurrence_limit }}, 'days').toDate());
+		});
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
 {% extends 'base.html' %} {% block extrahead %} {% load static %} {% load
 custom_tags_and_filters %}
 }">
-}"/> {% endblock %} {% block title %}Resource outages{% endblock %} {% block
+}" /> {% endblock %} {% block title %}Resource outages{% endblock %} {% block
 content %}
 ************ SScchheedduullee {{{{ rreessoouurrccee }}}} oouuttaaggee ************
 You can schedule a resource outage to occur for a specific time window. This
 prevents users from using affected tools and areas, bbuutt wwiillll nnoott kkiicckk uusseerrss ooffff
 iiff tthheeyy''rree aallrreeaaddyy llooggggeedd iinn ttoo aann aarreeaa oorr uussiinngg aa ttooooll. It is the staff's
 responsibility to ensure that all tools and areas that use the resource are
 properly shutdown.
@@ -16,26 +16,53 @@
     * Areas that depend on the resource will be uunnaavvaaiillaabbllee ttoo uusseerrss
     * Tools that partially depend on the resource will be available to users,
       however it is the user's responsibility to determine if their fabrication
       process will succeed without the resource available
 {% if form.non_field_errors %}
 {{ form.non_field_errors }}
 {% endif %}
-****** {{%% iiff eeddiittiinngg %%}}EEddiitt tthhiiss oouuttaaggee{{%% eellssee %%}}CCrreeaattee aa nneeww {{{{ rreessoouurrccee }}}}
-oouuttaaggee{{%% eennddiiff %%}} ******
+****** {{%% iiff eeddiittiinngg %%}} EEddiitt tthhiiss oouuttaaggee {{%% eellssee %%}} CCrreeaattee aa nneeww {{{{ rreessoouurrccee }}}}
+oouuttaaggee {{%% eennddiiff %%}} ******
 {% csrf_token %} {% if form.instance.id %}{% endif %} {% if outage_categories
 %}
 {% for oc in outage_categories %}
 % if oc.name == form.category.value %}selected{% endif %}>{{ oc }}
 {% endfor %}
 {% endif %}
-Details{% if form.details.errors %} - {{ form.details.errors|striptags }}{%
+Details {% if form.details.errors %}- {{ form.details.errors|striptags }}{%
 endif %}
 {{ form.details.value|default_if_none:"" }}
 What is the reason for the outage? What other details will be relevant for
 users to know?
-Start time{% if form.start.errors %} - {{ form.start.errors|striptags }}{%
+Start time {% if form.start.errors %}- {{ form.start.errors|striptags }}{%
 endif %}[{{ form.start.value|input_date_format }}]
-End time{% if form.end.errors %} - {{ form.end.errors|striptags }}{% endif %}[{
+End time {% if form.end.errors %}- {{ form.end.errors|striptags }}{% endif %}[{
 { form.end.value|input_date_format }}]
+% if form.send_reminders.value or editing and form.reminder_emails.value and
+form.reminder_days.value %}checked{% endif %} />
+Send reminder(s) for this outage
+} {% if editing %}{{ form.reminder_emails.value|yesno:"in," }} {
+{ form.reminder_days.value|yesno:"in," }}{% endif %}" style="margin: 0 auto">
+Reminder day(s) {% if form.reminder_days.errors %} - {
+{ form.reminder_days.errors|striptags }} {% endif %}[{
+{ form.reminder_days.value|default_if_none:'' }}]
+The number of day(s) prior to the start of the outage to send the reminder on
+Reminder email(s) {% if form.reminder_emails.errors %} - {
+{ form.reminder_emails.errors|striptags }} {% endif %}[{
+{ form.reminder_emails.value|default_if_none:'' }}]
+The email(s) to send the reminder to
+{% if not editing %}
+% if form.recurring_outage.value %}checked{% endif %} />
+Create more than one occurrence of this outage
+}" style="margin: 0 auto">
+Every {% if form.recurrence_interval.errors %} - {
+{ form.recurrence_interval.errors|striptags }} {% endif %}[Unknown INPUT type]
+{% for choice in recurrence_intervals %}
+% if form.recurrence_frequency.value == choice.0|stringformat:'i' %}selected{%
+endif %}> {{ choice.1 }}
+{% endfor %}
+Until {% if form.recurrence_until.errors %} - {
+{ form.recurrence_until.errors|striptags }} {% endif %}[{
+{ form.recurrence_until.value|input_date_format }}]
+{% endif %}
 {% button type="save" value=editing|yesno:"Save changes,Create outage" %}
 {% endblock %}
```

## NEMO/templates/rest_framework/api.html

```diff
@@ -1,48 +1,58 @@
 {% extends "rest_framework/base.html" %}
-    {% block content %}
-        {{ block.super }}
-        {% if "POST" in allowed_methods and raw_data_post_form %}
-            <div style="display:none">
-                <li id="file-import-nav-tab">
-                    <a id='file-import-tab' href="#file-import-form" data-toggle="tab">File import</a>
-                </li>
-
-                <div class="tab-pane" id="file-import-form">
-                    <form action="{% url 'api_file_import' %}" enctype="multipart/form-data" class="form-horizontal" method="POST" novalidate>
-                        <fieldset>
-                            {% csrf_token %}
-                            <input type="hidden" name="request_url" value="{{ request.get_full_path }}"/>
-                            <div class="form-group">
-                                <label for="file_formats" class="col-lg-2 col-sm-3 control-label">Accepted file formats</label>
-                                <div class="col-lg-10 col-sm-9">
-                                    <div class="form-control-static">
-                                        {% for parser in api_settings.DEFAULT_PARSER_CLASSES %}
-                                            {% if parser.media_type != "multipart/form-data" %}
-                                                {{ parser.media_type }}{% if not forloop.last %}, {% endif %}
-                                            {% endif %}
-                                        {% endfor %}
-                                    </div>
+{% block content %}
+    {{ block.super }}
+    {% if "POST" in allowed_methods and raw_data_post_form %}
+        <div style="display:none">
+            <li id="file-import-nav-tab">
+                <a id='file-import-tab' href="#file-import-form" data-toggle="tab">File import</a>
+            </li>
+            <div class="tab-pane" id="file-import-form">
+                <form action="{% url 'api_file_import' %}"
+                      enctype="multipart/form-data"
+                      class="form-horizontal"
+                      method="POST"
+                      novalidate>
+                    <fieldset>
+                        {% csrf_token %}
+                        <input type="hidden" name="request_url" value="{{ request.get_full_path }}" />
+                        <div class="form-group">
+                            <label for="file_formats" class="col-lg-2 col-sm-3 control-label">Accepted file formats</label>
+                            <div class="col-lg-10 col-sm-9">
+                                <div class="form-control-static">
+                                    {% for parser in api_settings.DEFAULT_PARSER_CLASSES %}
+                                        {% if parser.media_type != "multipart/form-data" %}
+                                            {{ parser.media_type }}
+                                            {% if not forloop.last %},{% endif %}
+                                        {% endif %}
+                                    {% endfor %}
                                 </div>
                             </div>
-                            <div class="form-group">
-                                <label for="import_file" class="col-lg-2 col-sm-3 control-label">File to import</label>
-                                <div class="col-lg-10 col-sm-9">
-                                    <input type="file" id="import_file" name="import_file" class="form-control-static" style="border: none; box-shadow: none; background-color: transparent">
-                                </div>
-                            </div>
-                            <div class="form-actions">
-                                <button class="btn btn-primary js-tooltip" title="Make a POST request on the {{ name }} resource">POST</button>
+                        </div>
+                        <div class="form-group">
+                            <label for="import_file" class="col-lg-2 col-sm-3 control-label">File to import</label>
+                            <div class="col-lg-10 col-sm-9">
+                                <input type="file"
+                                       id="import_file"
+                                       name="import_file"
+                                       class="form-control-static"
+                                       style="border: none;
+                                              box-shadow: none;
+                                              background-color: transparent">
                             </div>
-                        </fieldset>
-                    </form>
-                </div>
+                        </div>
+                        <div class="form-actions">
+                            <button class="btn btn-primary js-tooltip" title="Make a POST request on the {{ name }} resource">POST</button>
+                        </div>
+                    </fieldset>
+                </form>
             </div>
-        {% endif %}
-    {% endblock %}
-    {% block script %}
-        {{ block.super }}
-        <script>
+        </div>
+    {% endif %}
+{% endblock %}
+{% block script %}
+    {{ block.super }}
+    <script>
             $("ul.nav.nav-tabs.form-switcher").prepend($("#file-import-nav-tab"))
             $("div.well.tab-content").append($("#file-import-form"))
-        </script>
-    {% endblock %}
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,13 +1,13 @@
 {% extends "rest_framework/base.html" %} {% block content %} {{ block.super }}
 {% if "POST" in allowed_methods and raw_data_post_form %}
 _F_i_l_e_ _i_m_p_o_r_t
 {% csrf_token %}
 Accepted file formats
 {% for parser in api_settings.DEFAULT_PARSER_CLASSES %} {% if parser.media_type
-!= "multipart/form-data" %} {{ parser.media_type }}{% if not forloop.last %},
+!= "multipart/form-data" %} {{ parser.media_type }} {% if not forloop.last %},
 {% endif %} {% endif %} {% endfor %}
 File to import
 [File]
 POST
 {% endif %} {% endblock %} {% block script %} {{ block.super }}
 {% endblock %}
```

## NEMO/templates/rest_framework/custom_error.html

```diff
@@ -1,14 +1,12 @@
 <div style="display: none">
-    <span id="error_message" class="str">
-        {{ error }}
-    </span>
+    <span id="error_message" class="str">{{ error }}</span>
 </div>
 <script>
     {# Remove all option code #}
     $(function (){
         let span_no_code = $("span.meta.nocode");
         span_no_code.html(span_no_code.html().replace("HTTP 200 OK","HTTP {{ status_code }} {{ status_text }}"));
         span_no_code.nextAll().remove();
         $('#error_message').insertAfter(span_no_code);
     })
-</script>
+</script>
```

## NEMO/templates/safety/safety.html

```diff
@@ -23,32 +23,31 @@
                                 <li class="{% if category_id and safety_category.id == category_id %}active{% endif %}">
                                     <a href="{% url 'safety_categories' safety_category.id %}">{{ safety_category.name }}</a>
                                 </li>
                             {% endfor %}
                         </ul>
                     </div>
                 {% endif %}
-                <div class="col-sm-{% if safety_categories %}9{% else %}12{% endif %}">
-                    {% include 'safety/safety_items.html' %}
-                </div>
+                <div class="col-sm-{% if safety_categories %}9{% else %}12{% endif %}">{% include 'safety/safety_items.html' %}</div>
             {% else %}
                 <div class="col-sm-12">
                     {% if safety_general %}
                         {% include 'safety/safety_items.html' with safety_items=safety_general safety_category="General" %}
                     {% endif %}
                     {% for safety_category in safety_categories %}
                         {% include 'safety/safety_items.html' with safety_items=safety_category.safetyitem_set.all %}
                     {% endfor %}
                 </div>
             {% endif %}
         </div>
     {% else %}
         <p>There are currently no safety items.</p>
         {% if user.is_superuser and "django.contrib.admin"|app_installed %}
-            <p>Please go to <a href="{% url 'admin:NEMO_safetyitem_changelist' %}">Administration -> Detailed Administration -> SafetyItems</a>
+            <p>
+                Please go to <a href="{% url 'admin:NEMO_safetyitem_changelist' %}">Administration -> Detailed Administration -> SafetyItems</a>
             </p>
         {% endif %}
     {% endif %}
     <script>
         function get_safety_item(jquery_event, search_selection, dataset_name)
 		{
 			window.location.href = "{% url 'safety_item' 999 %}".replace('999', search_selection.id);
@@ -59,8 +58,8 @@
 		}
         function open_doc(url)
         {
             ajax_get(url, undefined, ajax_success_callback, ajax_failure_callback("Unable to display document"));
         }
 		window.addEventListener('load', on_load, true);
     </script>
-{% endblock %}
+{% endblock %}
```

## NEMO/templates/safety/safety_base.html

```diff
@@ -1,38 +1,36 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block content %}
     <div id="safety-tabs" class="clearfix">
-        <h1 class="safety-title pull-left">{% block safety_title %}Safety{% endblock %}</h1>
+        <h1 class="safety-title pull-left">
+            {% block safety_title %}Safety{% endblock %}
+        </h1>
         {% if show_tabs > 1 %}
             <ul class="nav nav-pills nav-pills-spacer safety-tabs-nav" id="tabs">
                 {% if show_safety %}
                     <li class="{% if tab == 'safety' %}active{% endif %}">
                         <a href="#safety" onclick="location.href = '{% url "safety" %}'">Safety</a>
                     </li>
                 {% endif %}
                 {% if show_safety_issues %}
                     <li class="{% if tab == 'safety_issues' %}active{% endif %}">
                         <a href="#safety" onclick="location.href = '{% url "safety_issues" %}'">Safety issues
-                            {% if safety_notification_count %}
-                                <span class="badge badge-tab-top">{{ safety_notification_count }}</span>
-                            {% endif %}
+                            {% if safety_notification_count %}<span class="badge badge-tab-top">{{ safety_notification_count }}</span>{% endif %}
                         </a>
                     </li>
                 {% endif %}
                 {% if show_safety_data_sheets %}
                     <li class="{% if tab == 'safety_data_sheets' %}active{% endif %}">
                         <a href="#safety" onclick="location.href = '{% url "safety_data_sheets" %}'">Safety data sheets</a>
                     </li>
                 {% endif %}
             </ul>
         {% endif %}
     </div>
     <div class="tab-content">
         <div class="tab-pane active" id="safety">
-             {% block tab_content %}{% endblock %}
+            {% block tab_content %}{% endblock %}
         </div>
     </div>
-    <script>
-        $("#tabs").find("a").click(switch_tab);
-    </script>
-{% endblock %}
+    <script>$("#tabs").find("a").click(switch_tab);</script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,15 +1,15 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% block content
 %}
 ************ {{%% bblloocckk ssaaffeettyy__ttiittllee %%}}SSaaffeettyy{{%% eennddbblloocckk %%}} ************
 {% if show_tabs > 1 %}
     * {% if show_safety %}
     * }'">Safety
 {% endif %} {% if show_safety_issues %}
-}'">Safety issues {% if safety_notification_count %} {
-{ safety_notification_count }} {% endif %}
+}'">Safety issues {% if safety_notification_count %}{
+{ safety_notification_count }}{% endif %}
 {% endif %} {% if show_safety_data_sheets %}
 }'">Safety data sheets
 {% endif %}
 {% endif %}
 {% block tab_content %}{% endblock %}
 {% endblock %}
```

## NEMO/templates/safety/safety_data_sheets.html

```diff
@@ -9,39 +9,75 @@
     {
       background-color: #f5f5f5 !important;
     }
     </style>
     <div id="data_sheets_header">
         <div class="row" style="margin: 25px 0 20px -15px;">
             <div class="col-sm-5">
-                <input id="search" type="text" aria-label="Chemical search" placeholder="Search for a chemical name or keyword" class="form-control" autofocus>
+                <input id="search"
+                       type="text"
+                       aria-label="Chemical search"
+                       placeholder="Search for a chemical name or keyword"
+                       class="form-control"
+                       autofocus>
             </div>
             <div class="col-sm-5 checkbox">
-                <label><input type="checkbox" id="search_keywords" onchange="$('td:nth-child({{ hazards|length|add:2 }}),th:nth-child({{ hazards|length|add:2 }})').toggle();$('#search').trigger('keyup');"/>check this box to show and search through keywords</label>
+                <label>
+                    <input type="checkbox"
+                           id="search_keywords"
+                           onchange="$('td:nth-child({{ hazards|length|add:2 }}),th:nth-child({{ hazards|length|add:2 }})').toggle();$('#search').trigger('keyup');" />
+                    check this box to show and search through keywords
+                </label>
             </div>
             {% if chemicals and user.is_staff %}
                 <div class="col-sm-2 text-right hidden-xs" style="padding: 0">
                     {% button type="export" value="Export" url="export_safety_data_sheets" target="_blank" %}
                 </div>
                 <div class="col-sm-2 text-left visble-xs hidden-lg hidden-md hidden-sm" style="z-index: 999">
                     {% button type="export" value="Export" url="export_safety_data_sheets" target="_blank" %}
                 </div>
             {% endif %}
         </div>
     </div>
     {% if chemicals %}
-        <div id="safety_data_sheets_container" class="container" style="bottom: 45px;top: 175px;position: absolute; max-height: 100%; overflow-y: auto;overflow-x: hidden; margin-top: 25px; padding: 0 30px 0 0;">
-            <table class="table table-align-middle table-responsive table-bordered table-condensed table-hover thead-light" style="overflow: auto; height: 1px;table-layout: fixed;">
+        <div id="safety_data_sheets_container"
+             class="container"
+             style="bottom: 45px;
+                    top: 175px;
+                    position: absolute;
+                    max-height: 100%;
+                    overflow-y: auto;
+                    overflow-x: hidden;
+                    margin-top: 25px;
+                    padding: 0 30px 0 0">
+            <table class="table table-align-middle table-responsive table-bordered table-condensed table-hover thead-light"
+                   style="overflow: auto;
+                          height: 1px;
+                          table-layout: fixed">
                 <thead class="sticky">
                     <tr>
-                        <th class="sds-box-shadow-bottom" style="border-left-style: hidden !important; border-top-style: hidden!important;background-color: white" aria-label="Empty cell"></th>
+                        <th class="sds-box-shadow-bottom"
+                            style="border-left-style: hidden !important;
+                                   border-top-style: hidden!important;
+                                   background-color: white"
+                            aria-label="Empty cell"></th>
                         {% for hazard in hazards %}
-                            <th class="text-center sds-box-shadow-bottom" style="width: calc(75%/{{ hazards|length }})"><img style="display:block; width: 100%;" alt="{{ hazard.name }} logo" src="{% get_media_prefix %}{{ hazard.logo }}"/></th>
+                            <th class="text-center sds-box-shadow-bottom" style="width: calc(75%/{{ hazards|length }})">
+                                <img style="display:block;
+                                            width: 100%"
+                                     alt="{{ hazard.name }} logo"
+                                     src="{% get_media_prefix %}{{ hazard.logo }}" />
+                            </th>
                         {% endfor %}
-                        <th class="sds-box-shadow-bottom" style="display: none;border-right-style: hidden!important; border-top-style: hidden!important;background-color: white" aria-label="Empty cell"></th>
+                        <th class="sds-box-shadow-bottom"
+                            style="display: none;
+                                   border-right-style: hidden!important;
+                                   border-top-style: hidden!important;
+                                   background-color: white"
+                            aria-label="Empty cell"></th>
                     </tr>
                     <tr>
                         <th class="text-center sds-box-shadow-top" style="overflow: hidden;vertical-align: middle">
                             <span class="pagination-column" style="white-space: inherit;display: inline">
                                 <a href="?o={% if order_by == "name" %}-{% endif %}name">Name<span class="{% if order_by != "name" and order_by != "-name" %}hidden{% endif %} glyphicon glyphicon-triangle-{% if hazard_order == "name" %}bottom{% else %}top{% endif %}"></span></a>
                             </span>
                         </th>
@@ -56,38 +92,54 @@
                         {% endfor %}
                         <th class="text-center sds-box-shadow-top" style="display: none;overflow: hidden">Keywords</th>
                     </tr>
                 </thead>
                 <tbody id="table-to-filter">
                     {% for chemical in chemicals %}
                         <tr style="height: 100%">
-                            <td style="overflow: hidden;background-color: white;">{% if chemical.link %}<a target="_blank" href="{{ chemical.link }}">{{ chemical.name }}</a>{% else %}{{ chemical.name }}{% endif %}</td>
+                            <td style="overflow: hidden;background-color: white;">
+                                {% if chemical.link %}
+                                    <a target="_blank" href="{{ chemical.link }}">{{ chemical.name }}</a>
+                                {% else %}
+                                    {{ chemical.name }}
+                                {% endif %}
+                            </td>
                             {% for hazard in hazards %}
                                 <td class="text-center" style="height: 100%; padding: 0; position: relative">
-                                {% for chem_hazard in chemical.hazards.all %}
-                                    {% if chem_hazard == hazard %}
-                                        <div style="height: 100%;width: 100%" class="alert-success"><span class="glyphicon glyphicon-ok success-highlight" style="font-size: 1.5em;position: absolute; left: 50%; top: 50%; -ms-transform: translate(-50%, -50%); -webkit-transform: translate(-50%, -50%); transform: translate(-50%, -50%);"></span></div>
-                                    {% endif %}
-                                {% endfor %}
+                                    {% for chem_hazard in chemical.hazards.all %}
+                                        {% if chem_hazard == hazard %}
+                                            <div style="height: 100%;width: 100%" class="alert-success">
+                                                <span class="glyphicon glyphicon-ok success-highlight"
+                                                      style="font-size: 1.5em;
+                                                             position: absolute;
+                                                             left: 50%;
+                                                             top: 50%;
+                                                             -ms-transform: translate(-50%, -50%);
+                                                             -webkit-transform: translate(-50%, -50%);
+                                                             transform: translate(-50%, -50%)"></span>
+                                            </div>
+                                        {% endif %}
+                                    {% endfor %}
                                 </td>
                             {% endfor %}
                             <td style="display: none;overflow: hidden;">{{ chemical.keywords }}</td>
                         </tr>
                     {% endfor %}
                 </tbody>
             </table>
         </div>
     {% else %}
         <div>
             There are no chemicals to display.
             {% if user.is_superuser and "django.contrib.admin"|app_installed %}
-                <br/><br/>You can add some by navigating to<br>
-                <a href="{% url 'admin:NEMO_chemical_changelist' %}">
-                    Administration -> Detailed Administration -> Chemicals
-                </a>
+                <br />
+                <br />
+                You can add some by navigating to
+                <br>
+                <a href="{% url 'admin:NEMO_chemical_changelist' %}">Administration -> Detailed Administration -> Chemicals</a>
             {% endif %}
         </div>
     {% endif %}
     <script>
         $("html").css("overflow", "hidden");
         $("#search").keyup(function ()
         {
```

## NEMO/templates/safety/safety_issues.html

```diff
@@ -1,52 +1,59 @@
 {% extends 'safety/safety_base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Safety issues{% endblock %}
 {% block safety_title %}Existing safety issues{% endblock %}
 {% block tab_content %}
     <p>This page lists ongoing safety issues.</p>
     <p>Use the buttons on the right side to report a safety concern or view past safety issues.</p>
-
     <div class="text-right" style="margin-bottom: 15px">
         {% button type="delete" url="create_safety_issue" value="Report safety concern" icon="glyphicon-plus-sign" %}
         {% button type="info" url="resolved_safety_issues" value="Past safety issues" icon="glyphicon-list" %}
     </div>
-
-	{% if tickets %}
-		{% for ticket in tickets %}
-			{% if user.is_staff %}
-				<a href="{% url 'update_safety_issue' ticket.id %}" style="text-decoration: none">
-			{% endif %}
-			<div class="panel panel-default">
-				<div class="panel-body">
-					<div class="form-group">
-						<h4>
-							{% if ticket.id in notifications %}
-								<span class="badge active" style="vertical-align:middle;">New</span>
-							{% endif %}
-							Concern
-						</h4>
-						{{ ticket.concern|linebreaksbr }}
-					</div>
-					<div class="form-group">
-						{% if not ticket.visible %}<span class="glyphicon glyphicon-eye-close"></span> This issue is hidden from users<br>{% endif %}
-						{% if ticket.location %}Location: {{ ticket.location }}<br>{% endif %}
-						{% if ticket.reporter %}
-							Reported on {{ ticket.creation_time }}{% if user.is_staff %} by {{ ticket.reporter }}{% endif %}<br>
-						{% else %}
-							Reported anonymously on {{ ticket.creation_time }}<br>
-						{% endif %}
-					</div>
-					{% if ticket.progress %}
-						<div class="form-group">
-							<h4>Progress</h4>
-							{{ ticket.progress|linebreaksbr }}
-						</div>
-					{% endif %}
-				</div>
-			</div>
-		{% if user.is_staff %}</a>{% endif %}
-		{% endfor %}
+    {% if tickets %}
+        {% for ticket in tickets %}
+            {% if user.is_staff %}
+                <a href="{% url 'update_safety_issue' ticket.id %}" style="text-decoration: none">
+                {% endif %}
+                <div class="panel panel-default">
+                    <div class="panel-body">
+                        <div class="form-group">
+                            <h4>
+                                {% if ticket.id in notifications %}<span class="badge active" style="vertical-align:middle;">New</span>{% endif %}
+                                Concern
+                            </h4>
+                            {{ ticket.concern|linebreaksbr }}
+                        </div>
+                        <div class="form-group">
+                            {% if not ticket.visible %}
+                                <span class="glyphicon glyphicon-eye-close"></span> This issue is hidden from users
+                                <br>
+                            {% endif %}
+                            {% if ticket.location %}
+                                Location: {{ ticket.location }}
+                                <br>
+                            {% endif %}
+                            {% if ticket.reporter %}
+                                Reported on {{ ticket.creation_time }}
+                                {% if user.is_staff %}by {{ ticket.reporter }}{% endif %}
+                                <br>
+                            {% else %}
+                                Reported anonymously on {{ ticket.creation_time }}
+                                <br>
+                            {% endif %}
+                        </div>
+                        {% if ticket.progress %}
+                            <div class="form-group">
+                                <h4>Progress</h4>
+                                {{ ticket.progress|linebreaksbr }}
+                            </div>
+                        {% endif %}
+                    </div>
+                </div>
+                {% if user.is_staff %}</a>{% endif %}
+        {% endfor %}
     {% else %}
-        <p><i>There are no ongoing safety issues.</i></p>
-	{% endif %}
-{% endblock %}
+        <p>
+            <i>There are no ongoing safety issues.</i>
+        </p>
+    {% endif %}
+{% endblock %}
```

### html2text {}

```diff
@@ -6,20 +6,20 @@
 safety issues.
 {% button type="delete" url="create_safety_issue" value="Report safety concern"
 icon="glyphicon-plus-sign" %} {% button type="info"
 url="resolved_safety_issues" value="Past safety issues" icon="glyphicon-list"
 %}
 {% if tickets %} {% for ticket in tickets %} {% if user.is_staff %}
 _{_%_ _e_n_d_i_f_ _%_}
-_**_**_**_ _{{_%%_ _ii_ff_ _tt_ii_cc_kk_ee_tt_.._ii_dd_ _ii_nn_ _nn_oo_tt_ii_ff_ii_cc_aa_tt_ii_oo_nn_ss_ _%%_}}_ _NN_ee_ww_ _{{_%%_ _ee_nn_dd_ii_ff_ _%%_}}_ _CC_oo_nn_cc_ee_rr_nn_ _**_**_**
+_**_**_**_ _{{_%%_ _ii_ff_ _tt_ii_cc_kk_ee_tt_.._ii_dd_ _ii_nn_ _nn_oo_tt_ii_ff_ii_cc_aa_tt_ii_oo_nn_ss_ _%%_}}_NN_ee_ww_{{_%%_ _ee_nn_dd_ii_ff_ _%%_}}_ _CC_oo_nn_cc_ee_rr_nn_ _**_**_**
 _{_{_ _t_i_c_k_e_t_._c_o_n_c_e_r_n_|_l_i_n_e_b_r_e_a_k_s_b_r_ _}_}
 _{_%_ _i_f_ _n_o_t_ _t_i_c_k_e_t_._v_i_s_i_b_l_e_ _%_}_ _T_h_i_s_ _i_s_s_u_e_ _i_s_ _h_i_d_d_e_n_ _f_r_o_m_ _u_s_e_r_s
-_{_%_ _e_n_d_i_f_ _%_}_ _{_%_ _i_f_ _t_i_c_k_e_t_._l_o_c_a_t_i_o_n_ _%_}_L_o_c_a_t_i_o_n_:_ _{_{_ _t_i_c_k_e_t_._l_o_c_a_t_i_o_n_ _}_}
-_{_%_ _e_n_d_i_f_ _%_}_ _{_%_ _i_f_ _t_i_c_k_e_t_._r_e_p_o_r_t_e_r_ _%_}_ _R_e_p_o_r_t_e_d_ _o_n_ _{_{_ _t_i_c_k_e_t_._c_r_e_a_t_i_o_n___t_i_m_e_ _}_}_{_%
-_i_f_ _u_s_e_r_._i_s___s_t_a_f_f_ _%_}_ _b_y_ _{_{_ _t_i_c_k_e_t_._r_e_p_o_r_t_e_r_ _}_}_{_%_ _e_n_d_i_f_ _%_}
+_{_%_ _e_n_d_i_f_ _%_}_ _{_%_ _i_f_ _t_i_c_k_e_t_._l_o_c_a_t_i_o_n_ _%_}_ _L_o_c_a_t_i_o_n_:_ _{_{_ _t_i_c_k_e_t_._l_o_c_a_t_i_o_n_ _}_}
+_{_%_ _e_n_d_i_f_ _%_}_ _{_%_ _i_f_ _t_i_c_k_e_t_._r_e_p_o_r_t_e_r_ _%_}_ _R_e_p_o_r_t_e_d_ _o_n_ _{_{_ _t_i_c_k_e_t_._c_r_e_a_t_i_o_n___t_i_m_e_ _}_}_ _{_%
+_i_f_ _u_s_e_r_._i_s___s_t_a_f_f_ _%_}_b_y_ _{_{_ _t_i_c_k_e_t_._r_e_p_o_r_t_e_r_ _}_}_{_%_ _e_n_d_i_f_ _%_}
 _{_%_ _e_l_s_e_ _%_}_ _R_e_p_o_r_t_e_d_ _a_n_o_n_y_m_o_u_s_l_y_ _o_n_ _{_{_ _t_i_c_k_e_t_._c_r_e_a_t_i_o_n___t_i_m_e_ _}_}
 _{_%_ _e_n_d_i_f_ _%_}
 _{_%_ _i_f_ _t_i_c_k_e_t_._p_r_o_g_r_e_s_s_ _%_}
 _**_**_**_ _PP_rr_oo_gg_rr_ee_ss_ss_ _**_**_**
 _{_{_ _t_i_c_k_e_t_._p_r_o_g_r_e_s_s_|_l_i_n_e_b_r_e_a_k_s_b_r_ _}_}
 _{_%_ _e_n_d_i_f_ _%_}
 _{_%_ _i_f_ _u_s_e_r_._i_s___s_t_a_f_f_ _%_}
```

## NEMO/templates/safety/safety_issues_create.html

```diff
@@ -9,19 +9,35 @@
         <p style="font-weight:bold; color:red">Call 911 if there is an immediate emergency.</p>
         <p>
             We invite your suggestions and observations in order to provide a safer and more effective environment for all users and staff.
             Use the safety issues form to report non-emergency related safety issues, unsafe working conditions, housekeeping suggestions, or observations.
             You can send your comments or concerns completely anonymously or provide your name so that we can follow up with you.
         </p>
     {% endif %}
-
-	<form action="{% url 'create_safety_issue' %}" method="post">
-		{% csrf_token %}
-		<input type="text" name="location" class="form-control" style="max-width: 250px" aria-label="Problem location" placeholder="Where is the problem?" required autofocus><br>
-		<textarea name="concern" class="form-control" rows="6" aria-label="Concern" placeholder="Why are you concerned?" required></textarea>
-		<input type="hidden" name="resolved" value="false">
-		<div class="checkbox">
-			<label><input type="checkbox" name="report_anonymously">Report this issue anonymously.</label> <span class="light-grey">Your name will not be visible to staff. There will be no way for us to follow up with you about how the safety issue was resolved.</span>
-		</div>
+    <form action="{% url 'create_safety_issue' %}" method="post">
+        {% csrf_token %}
+        <input type="text"
+               name="location"
+               class="form-control"
+               style="max-width: 250px"
+               aria-label="Problem location"
+               placeholder="Where is the problem?"
+               required
+               autofocus>
+        <br>
+        <textarea name="concern"
+                  class="form-control"
+                  rows="6"
+                  aria-label="Concern"
+                  placeholder="Why are you concerned?"
+                  required></textarea>
+        <input type="hidden" name="resolved" value="false">
+        <div class="checkbox">
+            <label>
+                <input type="checkbox" name="report_anonymously">
+                Report this issue anonymously.
+            </label>
+            <span class="light-grey">Your name will not be visible to staff. There will be no way for us to follow up with you about how the safety issue was resolved.</span>
+        </div>
         {% button type="delete" submit=True value="Report a new safety concern" icon="glyphicon-send" %}
-	</form>
-{% endblock %}
+    </form>
+{% endblock %}
```

## NEMO/templates/safety/safety_issues_resolved.html

```diff
@@ -3,45 +3,53 @@
 {% block title %}Safety issues{% endblock %}
 {% block safety_title %}Resolved safety issues{% endblock %}
 {% block tab_content %}
     <p>This page lists previously reported and resolved safety issues.</p>
     <div class="text-right" style="margin-bottom: 15px">
         {% button type="info" url="safety_issues" value="Current safety issues"  icon="glyphicon-list" %}
     </div>
-
-	{% for ticket in tickets %}
-		<div class="panel panel-default">
-			<div class="panel-body">
-				<div class="form-group">
-					<h4>Concern</h4>
-					{{ ticket.concern|linebreaksbr }}
-				</div>
-				<div class="form-group">
-					{% if not ticket.visible %}<span class="glyphicon glyphicon-eye-close"></span> This issue is hidden from users<br>{% endif %}
-					{% if ticket.location %}Location: {{ ticket.location }}<br>{% endif %}
-					{% if ticket.reporter %}
-						Reported on {{ ticket.creation_time }}{% if user.is_staff %} by {{ ticket.reporter }}{% endif %}<br>
-					{% else %}
-						Reported anonymously on {{ ticket.creation_time }}<br>
-					{% endif %}
-					Resolved on {{ ticket.resolution_time }} by {{ ticket.resolver }}
-				</div>
-				{% if ticket.progress %}
-					<div class="form-group">
-						<h4>Progress</h4>
-						{{ ticket.progress|linebreaksbr }}
-					</div>
-				{% endif %}
-				<div class="form-group">
-					{% if ticket.resolution %}
-						<h4>Resolution</h4>
-						<p>{{ ticket.resolution|linebreaksbr }}</p>
-					{% else %}
-						<h4>This problem was resolved, but no resolution information was provided.</h4>
-					{% endif %}
-				</div>
-			</div>
-		</div>
-	{% empty %}
-		<strong>There are no past issues.</strong>
-	{% endfor %}
-{% endblock %}
+    {% for ticket in tickets %}
+        <div class="panel panel-default">
+            <div class="panel-body">
+                <div class="form-group">
+                    <h4>Concern</h4>
+                    {{ ticket.concern|linebreaksbr }}
+                </div>
+                <div class="form-group">
+                    {% if not ticket.visible %}
+                        <span class="glyphicon glyphicon-eye-close"></span> This issue is hidden from users
+                        <br>
+                    {% endif %}
+                    {% if ticket.location %}
+                        Location: {{ ticket.location }}
+                        <br>
+                    {% endif %}
+                    {% if ticket.reporter %}
+                        Reported on {{ ticket.creation_time }}
+                        {% if user.is_staff %}by {{ ticket.reporter }}{% endif %}
+                        <br>
+                    {% else %}
+                        Reported anonymously on {{ ticket.creation_time }}
+                        <br>
+                    {% endif %}
+                    Resolved on {{ ticket.resolution_time }} by {{ ticket.resolver }}
+                </div>
+                {% if ticket.progress %}
+                    <div class="form-group">
+                        <h4>Progress</h4>
+                        {{ ticket.progress|linebreaksbr }}
+                    </div>
+                {% endif %}
+                <div class="form-group">
+                    {% if ticket.resolution %}
+                        <h4>Resolution</h4>
+                        <p>{{ ticket.resolution|linebreaksbr }}</p>
+                    {% else %}
+                        <h4>This problem was resolved, but no resolution information was provided.</h4>
+                    {% endif %}
+                </div>
+            </div>
+        </div>
+    {% empty %}
+        <strong>There are no past issues.</strong>
+    {% endfor %}
+{% endblock %}
```

## NEMO/templates/safety/safety_issues_update.html

```diff
@@ -1,48 +1,61 @@
 {% extends 'safety/safety_base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Safety issues{% endblock %}
 {% block safety_title %}Update a safety issue{% endblock %}
 {% block tab_content %}
-	{% if errors %}
-		{{ form.errors }}
-	{% endif %}
-
-	<form action="{% url 'update_safety_issue' ticket.id %}" method="POST">
-		{% csrf_token %}
-		<input type="hidden" name="id" value="{{ ticket.id }}">
-		<div class="form-group">
-			<div class="checkbox">
-				<label><input name="resolved" type="checkbox">This issue has been resolved</label>
-			</div>
-			<div class="checkbox">
-				<label><input name="visible" type="checkbox" {% if ticket.visible %}checked{% endif %}>This issue is visible to users</label>
-			</div>
-		</div>
-		<div class="form-group">
-			<textarea name="update" class="form-control" rows="4" aria-label="Update text" placeholder="Provide an update on how this safety issue is being handled or resolved."></textarea>
-		</div>
-		<div class="form-group">
-            {% button type="save" value="Save update" %}
-		</div>
-	</form>
-
-	<div class="form-group" style="margin-top:50px">
-		<h4>Concern</h4>
-		{{ ticket.concern|linebreaksbr }}
-	</div>
-	<div class="form-group">
-		{% if not ticket.visible %}<span class="glyphicon glyphicon-eye-close"></span> This issue is hidden from users<br>{% endif %}
-		{% if ticket.location %}Location: {{ ticket.location }}<br>{% endif %}
-		{% if ticket.reporter %}
-			Reported on {{ ticket.creation_time }}{% if user.is_staff %} by {{ ticket.reporter }}{% endif %}<br>
-		{% else %}
-			Reported anonymously on {{ ticket.creation_time }}<br>
-		{% endif %}
-	</div>
-	{% if ticket.progress %}
-		<div class="form-group">
-			<h4>Progress</h4>
-			{{ ticket.progress|linebreaksbr }}
-		</div>
-	{% endif %}
-{% endblock %}
+    {% if errors %}{{ form.errors }}{% endif %}
+    <form action="{% url 'update_safety_issue' ticket.id %}" method="POST">
+        {% csrf_token %}
+        <input type="hidden" name="id" value="{{ ticket.id }}">
+        <div class="form-group">
+            <div class="checkbox">
+                <label>
+                    <input name="resolved" type="checkbox">
+                    This issue has been resolved
+                </label>
+            </div>
+            <div class="checkbox">
+                <label>
+                    <input name="visible" type="checkbox" {% if ticket.visible %}checked{% endif %}>
+                    This issue is visible to users
+                </label>
+            </div>
+        </div>
+        <div class="form-group">
+            <textarea name="update"
+                      class="form-control"
+                      rows="4"
+                      aria-label="Update text"
+                      placeholder="Provide an update on how this safety issue is being handled or resolved."></textarea>
+        </div>
+        <div class="form-group">{% button type="save" value="Save update" %}</div>
+    </form>
+    <div class="form-group" style="margin-top:50px">
+        <h4>Concern</h4>
+        {{ ticket.concern|linebreaksbr }}
+    </div>
+    <div class="form-group">
+        {% if not ticket.visible %}
+            <span class="glyphicon glyphicon-eye-close"></span> This issue is hidden from users
+            <br>
+        {% endif %}
+        {% if ticket.location %}
+            Location: {{ ticket.location }}
+            <br>
+        {% endif %}
+        {% if ticket.reporter %}
+            Reported on {{ ticket.creation_time }}
+            {% if user.is_staff %}by {{ ticket.reporter }}{% endif %}
+            <br>
+        {% else %}
+            Reported anonymously on {{ ticket.creation_time }}
+            <br>
+        {% endif %}
+    </div>
+    {% if ticket.progress %}
+        <div class="form-group">
+            <h4>Progress</h4>
+            {{ ticket.progress|linebreaksbr }}
+        </div>
+    {% endif %}
+{% endblock %}
```

## NEMO/templates/safety/safety_items.html

```diff
@@ -1,33 +1,46 @@
 {% load custom_tags_and_filters %}
 <div class="tab-content panel panel-default">
     {% if safety_category %}
-    <div class="panel-heading pointer" data-toggle="collapse" data-target="#items-{{ safety_category.id }}" onclick="toggle_details($(this).children(':first'))">
-        <h3 class="panel-title pointer"><i class="glyphicon glyphicon-chevron-down chevron"></i> {{ safety_category }}</h3>
-    </div>
-    <div class="collapse in" id="items-{{ safety_category.id }}">
-        <div class="panel-body">
-    {% endif %}
-        <div class="tab-pane active" style="padding: 15px">
-            <ul style="padding-left: 15px">
-                {% for safety_item in safety_items %}
-                    <li id="safety_item_{{ safety_item.id }}" style="margin-bottom: 15px"><u>{{ safety_item.name }}:</u>
-                        {% if safety_item.description %}
-                            <div style="margin: 5px 0">{{ safety_item.description|safe|linebreaksbr }}</div>
-                        {% endif %}
-                        <ul>
-                            {% for doc in safety_item.safetyitemdocuments_set.all %}
-                                {% if doc.can_be_embedded %}
-                                    {% with content_type=doc|content_type %}
-                                        <li><a href="#" onclick="open_doc('{% url 'media_view' 'true' content_type.id doc.id %}')">{{ doc.filename }}</a></li>
-                                    {% endwith %}
-                                {% else %}
-                                    <li><a href="{{ doc.link }}" target="_blank">{{ doc.filename }}</a></li>
-                                {% endif %}
-                            {% endfor %}
-                        </ul>
-                    </li>
-                {% endfor %}
-            </ul>
+        <div class="panel-heading pointer"
+             data-toggle="collapse"
+             data-target="#items-{{ safety_category.id }}"
+             onclick="toggle_details($(this).children(':first'))">
+            <h3 class="panel-title pointer">
+                <i class="glyphicon glyphicon-chevron-down chevron"></i> {{ safety_category }}
+            </h3>
+        </div>
+        <div class="collapse in" id="items-{{ safety_category.id }}">
+            <div class="panel-body">
+            {% endif %}
+            <div class="tab-pane active" style="padding: 15px">
+                <ul style="padding-left: 15px">
+                    {% for safety_item in safety_items %}
+                        <li id="safety_item_{{ safety_item.id }}" style="margin-bottom: 15px">
+                            <u>{{ safety_item.name }}:</u>
+                            {% if safety_item.description %}
+                                <div style="margin: 5px 0">{{ safety_item.description|safe|linebreaksbr }}</div>
+                            {% endif %}
+                            <ul>
+                                {% for doc in safety_item.safetyitemdocuments_set.all %}
+                                    {% if doc.can_be_embedded %}
+                                        {% with content_type=doc|content_type %}
+                                            <li>
+                                                <a href="#" onclick="open_doc('{% url 'media_view' 'true' content_type.id doc.id %}')">{{ doc.filename }}</a>
+                                            </li>
+                                        {% endwith %}
+                                    {% else %}
+                                        <li>
+                                            <a href="{{ doc.link }}" target="_blank">{{ doc.filename }}</a>
+                                        </li>
+                                    {% endif %}
+                                {% endfor %}
+                            </ul>
+                        </li>
+                    {% endfor %}
+                </ul>
+            </div>
+            {% if safety_category %}
+            </div>
         </div>
-    {% if safety_category %}</div></div>{% endif %}
-</div>
+    {% endif %}
+</div>
```

## NEMO/templates/shadowing_verification/shadowing_verification_request.html

```diff
@@ -1,72 +1,113 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% load static %}
 {% load tz %}
-{% block title %}{% if form.instance.id %}Modify shadowing verification{% else %}New shadowing verification{% endif %}{% endblock %}
+{% block title %}
+    {% if form.instance.id %}
+        Modify shadowing verification
+    {% else %}
+        New shadowing verification
+    {% endif %}
+{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
     {% with instance_id=form.instance.id %}
-        <h1 class="form-group">{% if instance_id %}Modify shadowing verification{% else %}New shadowing verification{% endif %}</h1>
-        <form class="well" action="{% if instance_id %}{% url 'edit_shadowing_verification' instance_id %}{% else %}{% url 'create_shadowing_verification' %}{% endif %}" method="post">
-            {% csrf_token %}
-            {% if form.non_field_errors %}
-                <div class="alert alert-danger">
-                    {{ form.non_field_errors }}
-                </div>
+        <h1 class="form-group">
+            {% if instance_id %}
+                Modify shadowing verification
+            {% else %}
+                New shadowing verification
             {% endif %}
+        </h1>
+        <form class="well"
+              action="{% if instance_id %}{% url 'edit_shadowing_verification' instance_id %}{% else %}{% url 'create_shadowing_verification' %}{% endif %}"
+              method="post">
+            {% csrf_token %}
+            {% if form.non_field_errors %}<div class="alert alert-danger">{{ form.non_field_errors }}</div>{% endif %}
             {% if instance_id and user in form.instance.reviewers %}
                 <div class="form-group">
                     <div class="row">
                         <div class="col-sm-6">
                             <label for="creator_readonly" class="control-label">Creator</label>
-                            <input id="creator_readonly" class="form-control" style="min-width: 250px;" disabled value="{{ form.instance.creator }}">
+                            <input id="creator_readonly"
+                                   class="form-control"
+                                   style="min-width: 250px"
+                                   disabled
+                                   value="{{ form.instance.creator }}">
                         </div>
                     </div>
                 </div>
             {% endif %}
             <div class="form-group">
-			    <label for="tool_search">Tool</label>{% if form.tool.errors %} - <span style="color:red">{{ form.tool.errors|striptags }}</span>{% endif %}
-			    <input type="text" id="tool_search" name="tool" class="form-control" required>
-			    <input type="button" id="selected_tool" class="btn btn-default" onclick="clear_tool_selection()" style="display:none">
+                <label for="tool_search">Tool</label>
+                {% if form.tool.errors %}- <span style="color:red">{{ form.tool.errors|striptags }}</span>{% endif %}
+                <input type="text" id="tool_search" name="tool" class="form-control" required>
+                <input type="button"
+                       id="selected_tool"
+                       class="btn btn-default"
+                       onclick="clear_tool_selection()"
+                       style="display:none">
             </div>
             <div class="form-group" id="level_field" style="display: none;">
-			    <label for="qualification_level">Qualification Level</label>{% if form.qualification_level.errors %} - <span style="color:red">{{ form.qualification_level.errors|striptags }}</span>{% endif %}
+                <label for="qualification_level">Qualification Level</label>
+                {% if form.qualification_level.errors %}
+                    - <span style="color:red">{{ form.qualification_level.errors|striptags }}</span>
+                {% endif %}
                 <select class="form-control" id="qualification_level" name="qualification_level"></select>
             </div>
             <div class="form-group">
-                <label for="user_search">Shadowed User</label>{% if form.shadowed_qualified_user.errors %} - <span style="color:red">{{ form.shadowed_qualified_user.errors|striptags }}</span>{% endif %}
+                <label for="user_search">Shadowed User</label>
+                {% if form.shadowed_qualified_user.errors %}
+                    - <span style="color:red">{{ form.shadowed_qualified_user.errors|striptags }}</span>
+                {% endif %}
                 <input type="text" id="user_search" name="shadowed_qualified_user" class="form-control" required>
-                <input type="button" id="selected_user" class="btn btn-default" onclick="clear_selection('#user_search', '#selected_user')" style="display:none">
+                <input type="button"
+                       id="selected_user"
+                       class="btn btn-default"
+                       onclick="clear_selection('#user_search', '#selected_user')"
+                       style="display:none">
             </div>
             <div class="form-group"  style="position: relative;">
-                <label for="event_date">Shadowed On</label>{% if form.event_date.errors %} - <span style="color:red">{{ form.event_date.errors|striptags }}</span>{% endif %}
-                <input type="text" class="form-control text-center" name="event_date" id="event_date"  value="{{ form.event_date.value|input_date_format }}" required>
+                <label for="event_date">Shadowed On</label>
+                {% if form.event_date.errors %}- <span style="color:red">{{ form.event_date.errors|striptags }}</span>{% endif %}
+                <input type="text"
+                       class="form-control text-center"
+                       name="event_date"
+                       id="event_date"
+                       value="{{ form.event_date.value|input_date_format }}"
+                       required>
             </div>
             <div class="form-group">
-                <label for="description" class="control-label">Description</label>{% if form.description.errors %} - <span style="color:red">{{ form.description.errors|striptags }}</span>{% endif %}
-                <textarea class="form-control" rows="3" name="description" id="description" placeholder="{{shadowing_verification_request_description_placeholder}}" required>{{ form.description.value|default_if_none:"" }}</textarea>
+                <label for="description" class="control-label">Description</label>
+                {% if form.description.errors %}- <span style="color:red">{{ form.description.errors|striptags }}</span>{% endif %}
+                <textarea class="form-control"
+                          rows="3"
+                          name="description"
+                          id="description"
+                          placeholder="{{shadowing_verification_request_description_placeholder}}"
+                          required>{{ form.description.value|default_if_none:"" }}</textarea>
             </div>
             <div class="text-right">
                 {% if form.instance.get_status_display == "Pending" %}
                     {% if instance_id and user in form.instance.reviewers %}
                         {% button type="save" submit=False name="approve_request" title="Approve request" icon="glyphicon-ok-circle" value="Approve" onclick="confirm_review_dialog(this);" %}
                         {% button type="delete" submit=False name="deny_request" title="Deny request" icon="glyphicon-ban-circle" value="Deny" onclick="confirm_review_dialog(this);" %}
                     {% endif %}
                     {% if not instance_id or form.instance.creator == user %}
                         {% button type="save" value=instance_id|yesno:"Save changes,Create" %}
                     {% endif %}
                 {% endif %}
             </div>
         </form>
     {% endwith %}
-	<script>
+    <script>
         let timepicker_properties =
 		{
 			format: '{{ date_input_js_format }}',
             useCurrent: false,
             maxDate: moment().endOf('day'),
 		};
         function select(jquery_event, search_selection, dataset_name)
@@ -185,9 +226,10 @@
                 select(false, {'id': '{{ form.cleaned_data.shadowed_qualified_user.id }}', 'name': '{{ form.cleaned_data.shadowed_qualified_user }}'}, 'users');
             {% elif form.instance.shadowed_qualified_user %}
                 select(false, {'id': '{{ form.instance.shadowed_qualified_user.id }}', 'name': '{{ form.instance.shadowed_qualified_user }}'}, 'users');
             {% endif %}
 		}
 
 		$(on_load);
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

## NEMO/templates/shadowing_verification/shadowing_verification_requests.html

```diff
@@ -2,56 +2,79 @@
 {% block title %}{{ shadowing_verification_request_title }}{% endblock %}
 {% load custom_tags_and_filters %}
 {% block content %}
     <div class="clearfix" style="margin-top: 0;">
         <h1 class="pull-left" style="margin-top: 0;margin-right: 20px">{{ shadowing_verification_request_title }}</h1>
     </div>
     {% if not feature_enabled %}
-        <p style="margin: 15px 0">{% if user.is_superuser %}This feature is not enabled. You can enable this feature by allowing shadowing verification on select tools.{% else %}This feature is not enabled.{% endif %}</p>
+        <p style="margin: 15px 0">
+            {% if user.is_superuser %}
+                This feature is not enabled. You can enable this feature by allowing shadowing verification on select tools.
+            {% else %}
+                This feature is not enabled.
+            {% endif %}
+        </p>
     {% else %}
         <div style="margin: 15px 0">
             <div style="display: table-cell; width: 100%">
                 {% if feature_description %}
                     <div class="well" style="display: table; margin-right: 15px">
                         <span class="requests-description-info glyphicon glyphicon-info-sign primary-highlight"></span>
                         <div class="requests-description">{{ feature_description|safe|linebreaksbr }}</div>
                     </div>
                 {% endif %}
             </div>
             {% if allowed_tools_exist %}
-                <div class="text-right" style="display: table-cell; vertical-align: top">{% button type="add" url="create_shadowing_verification" value="New" %}</div>
+                <div class="text-right" style="display: table-cell; vertical-align: top">
+                    {% button type="add" url="create_shadowing_verification" value="New" %}
+                </div>
             {% endif %}
         </div>
         {% if pending_requests or approved_requests or denied_requests %}
             {% if user.is_staff or user.is_superuser or user.is_facility_manager %}
                 <div class="text-right" style="margin-bottom: -20px">
                     {% button type="export" value="Export" url="export_shadowing_verification" target="_blank" %}
                 </div>
             {% endif %}
             <div>
                 {% if pending_requests %}
-                    <h3><a onclick="toggle_details(this)" data-toggle="collapse" data-target="#pending_requests" class="pointer">
-                        <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Pending ({{ pending_requests|length }})
-                    </a></h3>
+                    <h3>
+                        <a onclick="toggle_details(this)"
+                           data-toggle="collapse"
+                           data-target="#pending_requests"
+                           class="pointer">
+                            <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Pending ({{ pending_requests|length }})
+                        </a>
+                    </h3>
                     <div id="pending_requests" class="collapse in">
                         {% include 'shadowing_verification/shadowing_verification_requests_table.html' with request_status='pending' request_list=pending_requests %}
                     </div>
                 {% endif %}
                 {% if approved_requests %}
-                    <h3><a onclick="toggle_details(this)" data-toggle="collapse" data-target="#approved_requests" class="pointer">
-                        <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Approved
-                    </a></h3>
+                    <h3>
+                        <a onclick="toggle_details(this)"
+                           data-toggle="collapse"
+                           data-target="#approved_requests"
+                           class="pointer">
+                            <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Approved
+                        </a>
+                    </h3>
                     <div id="approved_requests" class="collapse in">
                         {% include 'shadowing_verification/shadowing_verification_requests_table.html' with request_status='approved' request_list=approved_requests %}
                     </div>
                 {% endif %}
                 {% if denied_requests %}
-                    <h3><a onclick="toggle_details(this)" data-toggle="collapse" data-target="#denied_requests" class="pointer">
-                        <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Denied
-                    </a></h3>
+                    <h3>
+                        <a onclick="toggle_details(this)"
+                           data-toggle="collapse"
+                           data-target="#denied_requests"
+                           class="pointer">
+                            <span class="glyphicon glyphicon-chevron-down pull-left chevron"></span>Denied
+                        </a>
+                    </h3>
                     <div id="denied_requests" class="collapse in">
                         {% include 'shadowing_verification/shadowing_verification_requests_table.html' with request_status='denied' request_list=denied_requests %}
                     </div>
                 {% endif %}
             </div>
         {% else %}
             <div class="italic" style="margin-top: 20px">You do not have any current active shadowing verifications</div>
@@ -63,8 +86,8 @@
                 let msg_id = window.location.hash.substring(1);
                 if (msg_id) document.getElementById(msg_id).scrollIntoView();
 
                 $('[data-toggle="tooltip"]').tooltip();
             })
         </script>
     {% endif %}
-{% endblock %}
+{% endblock %}
```

## NEMO/templates/shadowing_verification/shadowing_verification_requests_table.html

```diff
@@ -1,19 +1,15 @@
 {% load custom_tags_and_filters %}
 <table class="table table-condensed table-double-stripped thead-light" style="border: 1px solid #ddd">
     <thead>
         <tr>
             <th>Created</th>
-            {% if user_is_reviewer or user.is_any_part_of_staff %}
-                <th>User</th>
-            {% endif %}
+            {% if user_is_reviewer or user.is_any_part_of_staff %}<th>User</th>{% endif %}
             <th class="text-center">Tool</th>
-            {% if qualification_levels_exist %}
-                <th class="text-center">Qualification Level</th>
-            {% endif %}
+            {% if qualification_levels_exist %}<th class="text-center">Qualification Level</th>{% endif %}
             <th class="text-center">Shadowed User</th>
             <th class="text-center">Shadowed On</th>
             <th class="text-right text-nowrap">
                 {% if request_status == 'pending' and user_is_reviewer %}
                     Action
                 {% elif request_status == 'approved' %}
                     Approved by
@@ -22,43 +18,49 @@
                 {% endif %}
             </th>
         </tr>
     </thead>
     <tbody>
         {% for s_request in request_list %}
             <tr>
-                <td style="vertical-align: middle">{% if s_request.id in request_notifications %}<span class="label label-success">New</span> {% endif %}{{ s_request.creation_time|date:'SHORT_DATETIME_FORMAT' }}</td>
+                <td style="vertical-align: middle">
+                    {% if s_request.id in request_notifications %}<span class="label label-success">New</span>{% endif %}
+                    {{ s_request.creation_time|date:'SHORT_DATETIME_FORMAT' }}
+                </td>
                 {% if user_is_reviewer or user.is_any_part_of_staff %}
                     <td style="vertical-align: middle">{{ s_request.creator.get_name }}</td>
                 {% endif %}
                 <td class="text-center" style="vertical-align: middle">{{ s_request.tool.name }}</td>
                 {% if qualification_levels_exist %}
                     <td class="text-center" style="vertical-align: middle">{{ s_request.qualification_level.name|default:"N/A" }}</td>
                 {% endif %}
                 <td class="text-center" style="vertical-align: middle">{{ s_request.shadowed_qualified_user.get_name }}</td>
                 <td class="text-center" style="vertical-align: middle">{{ s_request.event_date|date }}</td>
                 <td class="text-right text-nowrap" style="vertical-align: middle">
                     {% if request_status == 'approved' or request_status == 'denied' %}
                         {{ s_request.reviewer.get_name }}
                     {% elif allowed_tools_exist %}
                         {% if request_status == 'pending' and user in s_request.reviewers %}
-                            <a class="btn btn-sm btn-default" title="Approve/Deny" href="{% url 'edit_shadowing_verification' s_request.id %}"><i class="glyphicon glyphicon-ok-circle success-highlight"></i>&nbsp;&nbsp;<i class="glyphicon glyphicon-ban-circle danger-highlight"></i> Review</a>
+                            <a class="btn btn-sm btn-default"
+                               title="Approve/Deny"
+                               href="{% url 'edit_shadowing_verification' s_request.id %}"><i class="glyphicon glyphicon-ok-circle success-highlight"></i>&nbsp;&nbsp;<i class="glyphicon glyphicon-ban-circle danger-highlight"></i> Review</a>
                         {% endif %}
                         {% if request_status == 'pending' and s_request.creator == user %}
                             {% url 'edit_shadowing_verification' s_request.id as edit_request_url %}
                             {% url 'delete_shadowing_verification' s_request.id as delete_request_url %}
                             {% button type="edit" size="small" value="Edit" title="Edit" url=edit_request_url %}
                             {% button type="delete" size="small" value="Delete" title="Delete" url=delete_request_url onclick="return confirm('Are you sure you want to delete this shadowing verification?');" %}
                         {% endif %}
                     {% endif %}
                 </td>
             </tr>
-        <tr>
-            <td colspan="{{ table_col_number }}" >
-                <strong>Details</strong><br>
-                {{ s_request.description }}
-            </td>
-            <td style="border-top: none"></td>
-        </tr>
+            <tr>
+                <td colspan="{{ table_col_number }}">
+                    <strong>Details</strong>
+                    <br>
+                    {{ s_request.description }}
+                </td>
+                <td style="border-top: none"></td>
+            </tr>
         {% endfor %}
     </tbody>
-</table>
+</table>
```

### html2text {}

```diff
@@ -15,16 +15,16 @@
                                                                                                                                                                                               'pending' and user in
                                                                                                                                                                                               s_request.reviewers %}
                                                                                                                                                                                               _ _ _ _R_e_v_i_e_w
                                                                                                                                                                                                {% endif %} {% if
                                                                                                                                                                                               request_status == 'pending' and
                                                                                                                                                                                               s_request.creator == user %} {%
 {% if s_request.id in                                                                                                                                                                         url
-request_notifications %}New   {                          {                   {                                           {                                          {                         'edit_shadowing_verification'
-{% endif %}{                  {                          {                   {                                           {                                          {                         s_request.id as
+request_notifications %}New{% {                          {                   {                                           {                                          {                         'edit_shadowing_verification'
+endif %} {                    {                          {                   {                                           {                                          {                         s_request.id as
 {                             s_request.creator.get_name s_request.tool.name s_request.qualification_level.name|default: s_request.shadowed_qualified_user.get_name s_request.event_date|date edit_request_url %} {% url
 s_request.creation_time|date: }}                         }}                  "N/A" }}                                    }}                                         }}                        'delete_shadowing_verification'
 'SHORT_DATETIME_FORMAT' }}                                                                                                                                                                    s_request.id as
                                                                                                                                                                                               delete_request_url %} {% button
                                                                                                                                                                                               type="edit" size="small"
                                                                                                                                                                                               value="Edit" title="Edit"
                                                                                                                                                                                               url=edit_request_url %} {%
```

## NEMO/templates/snippets/button.html

```diff
@@ -1,3 +1,12 @@
-<{{ btn_element }} class="{{ btn_class }}" {% if btn_url %}href="{{ btn_url }}"{% endif %} {% if btn_type %}type="{{ btn_type }}"{% endif %} {% if btn_onclick %}onclick="{{ btn_onclick }}"{% endif %} {% if btn_dismiss %}data-dismiss="{{ btn_dismiss }}"{% endif %} {% if btn_title %}title="{{ btn_title }}" aria-label="{{ btn_title }}"{% endif %} {% for key, value in kwargs.items %}{% if value %}{{ key }}="{{ value }}" {% endif %}{% endfor %}>
-    <i class="{{ btn_icon }}"></i> {{ btn_value }}
-</{{ btn_element }}>
+<{{ btn_element }} class="{{ btn_class }}"
+{% if btn_url %}href="{{ btn_url }}"{% endif %}
+{% if btn_type %}type="{{ btn_type }}"{% endif %}
+{% if btn_onclick %}onclick="{{ btn_onclick }}"{% endif %}
+{% if btn_dismiss %}data-dismiss="{{ btn_dismiss }}"{% endif %}
+{% if btn_title %}title="{{ btn_title }}" aria-label="{{ btn_title }}"{% endif %}
+{% for key, value in kwargs.items %}
+    {% if value %}{{ key }}="{{ value }}"{% endif %}
+{% endfor %}
+>
+<i class="{{ btn_icon }}"></i> {{ btn_value }}
+</{{ btn_element }}>
```

## NEMO/templates/snippets/confirm_action_modal.html

```diff
@@ -1,27 +1,35 @@
-<div class="modal fade" id="confirm-actions" tabindex="-1" role="dialog" aria-hidden="true" style="z-index: 9999">
-	<div class="modal-dialog">
-		<div class="modal-content">
-			<div class="modal-header">
-				<button type="button" class="close" data-dismiss="modal">×</button>
-        		<h4 class="modal-title">Confirm <span class="confirm-action-name">action</span></h4>
-			</div>
-			<form id="confirm-form-action" action="" class="form-horizontal">
-				<div class="modal-body">
-					<label for="confirm-action-reason">Please enter a reason for <span class="confirm-action-name"></span> this <span id="confirm-action-object"></span><span id="confirm-action-reason-required" style="display:none;color:red"> *</span></label>
-					<input id="confirm-action-reason" name="reason" class="form-control" type="text" maxlength="200"/>
-				</div>
-
-				<div class="modal-footer" style="border: none">
-					<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
-					<button type="button" class="btn btn-danger" id="confirm-action-button">Confirm</button>
-				</div>
-			</form>
-		</div>
-	</div>
+<div class="modal fade"
+     id="confirm-actions"
+     tabindex="-1"
+     role="dialog"
+     aria-hidden="true"
+     style="z-index: 9999">
+    <div class="modal-dialog">
+        <div class="modal-content">
+            <div class="modal-header">
+                <button type="button" class="close" data-dismiss="modal">×</button>
+                <h4 class="modal-title">
+                    Confirm <span class="confirm-action-name">action</span>
+                </h4>
+            </div>
+            <form id="confirm-form-action" action="" class="form-horizontal">
+                <div class="modal-body">
+                    <label for="confirm-action-reason">
+                        Please enter a reason for <span class="confirm-action-name"></span> this <span id="confirm-action-object"></span><span id="confirm-action-reason-required" style="display:none;color:red">*</span>
+                    </label>
+                    <input id="confirm-action-reason" name="reason" class="form-control" type="text" maxlength="200" />
+                </div>
+                <div class="modal-footer" style="border: none">
+                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
+                    <button type="button" class="btn btn-danger" id="confirm-action-button">Confirm</button>
+                </div>
+            </form>
+        </div>
+    </div>
 </div>
 <script>
 	function confirm_action(url, reason_required, callback, action, object, confirm)
 	{
 		let form_action = $("#confirm-form-action");
 		let confirm_button = $("#confirm-action-button");
 		$("#confirm-action-reason").prop("required", reason_required);
@@ -44,8 +52,8 @@
 	$('#confirm-actions').keypress(function(e)
 	{
 		if (e.which === 13)
 		{
 			$("#confirm-action-button").trigger("click");
 		}
 	});
-</script>
+</script>
```

## NEMO/templates/snippets/contact_person.html

```diff
@@ -1,15 +1,30 @@
 <h4 style="margin-top:0; text-align: center">{{ person.name }}</h4>
-{% if person.email %}Email: <a target="_blank" href="{% if email_form %}{% url 'get_email_form' %}?recipient={{ person.email }}{% else %}mailto:{{ person.email }}{% endif %}">{{ person.email }}</a><br>{% endif %}
-{% if person.office_phone %}Office phone: <a href="tel:{{ person.office_phone }}">{{ person.office_phone }}</a><br>{% endif %}
+{% if person.email %}
+    Email: <a target="_blank"
+    href="{% if email_form %}{% url 'get_email_form' %}?recipient={{ person.email }}{% else %}mailto:{{ person.email }}{% endif %}">{{ person.email }}</a>
+    <br>
+{% endif %}
+{% if person.office_phone %}
+    Office phone: <a href="tel:{{ person.office_phone }}">{{ person.office_phone }}</a>
+    <br>
+{% endif %}
 {% if person.mobile_phone %}
-	Mobile phone:
-	{% if person.mobile_phone_is_sms_capable %}
-		<ul style="margin-bottom: 0">
-			<li><a href="tel:{{ person.mobile_phone }}">Call {{ person.mobile_phone }}</a></li>
-			<li><a href="sms:{{ person.mobile_phone }}">Send a text message</a></li>
-		</ul>
-	{% else %}
-		<a href="tel:{{ person.mobile_phone }}">{{ person.mobile_phone }}</a><br>
-	{% endif %}
+    Mobile phone:
+    {% if person.mobile_phone_is_sms_capable %}
+        <ul style="margin-bottom: 0">
+            <li>
+                <a href="tel:{{ person.mobile_phone }}">Call {{ person.mobile_phone }}</a>
+            </li>
+            <li>
+                <a href="sms:{{ person.mobile_phone }}">Send a text message</a>
+            </li>
+        </ul>
+    {% else %}
+        <a href="tel:{{ person.mobile_phone }}">{{ person.mobile_phone }}</a>
+        <br>
+    {% endif %}
+{% endif %}
+{% if person.office_location %}
+    Office location: {{ person.office_location }}
+    <br>
 {% endif %}
-{% if person.office_location %}Office location: {{ person.office_location }}<br>{% endif %}
```

### html2text {}

```diff
@@ -1,11 +1,12 @@
 ****** {{{{ ppeerrssoonn..nnaammee }}}} ******
-{% if person.email %}Email: _{_{_ _p_e_r_s_o_n_._e_m_a_i_l_ _}_}
-{% endif %} {% if person.office_phone %}Office phone: _{_{_ _p_e_r_s_o_n_._o_f_f_i_c_e___p_h_o_n_e_ _}_}
+{% if person.email %} Email: _{_{_ _p_e_r_s_o_n_._e_m_a_i_l_ _}_}
+{% endif %} {% if person.office_phone %} Office phone: _{_{_ _p_e_r_s_o_n_._o_f_f_i_c_e___p_h_o_n_e
+_}_}
 {% endif %} {% if person.mobile_phone %} Mobile phone: {% if
 person.mobile_phone_is_sms_capable %}
     * _C_a_l_l_ _{_{_ _p_e_r_s_o_n_._m_o_b_i_l_e___p_h_o_n_e_ _}_}
     * _S_e_n_d_ _a_ _t_e_x_t_ _m_e_s_s_a_g_e
 {% else %} _{_{_ _p_e_r_s_o_n_._m_o_b_i_l_e___p_h_o_n_e_ _}_}
-{% endif %} {% endif %} {% if person.office_location %}Office location: {
+{% endif %} {% endif %} {% if person.office_location %} Office location: {
 { person.office_location }}
 {% endif %}
```

## NEMO/templates/snippets/document_list.html

```diff
@@ -1,23 +1,23 @@
 {% extends popup_view|yesno:"base/popup.html,base.html" %}
 {% load custom_tags_and_filters %}
 {% block title %}{{ title|default_if_none:"Document list" }}{% endblock %}
 {% block content %}
     <ul>
         {% for document in document_list %}
-            <li><a href="{{ document.link }}" target="_blank">{{ document.filename }}</a></li>
+            <li>
+                <a href="{{ document.link }}" target="_blank">{{ document.filename }}</a>
+            </li>
         {% endfor %}
     </ul>
     {% if allow_zip %}
         <form action="{% url 'media_zip' %}" method="post">
             {% csrf_token %}
             {% for document in document_list %}
                 {% with content_type=document|content_type %}
                     <input type="hidden" name="document_info" value="{{ content_type.id }}__{{ document.id }}">
                 {% endwith %}
             {% endfor %}
-            <div class="text-center" style="margin-top: 25px">
-                {% button type="save" value="Download as zip" onclick="" %}
-            </div>
+            <div class="text-center" style="margin-top: 25px">{% button type="save" value="Download as zip" onclick="" %}</div>
         </form>
     {% endif %}
 {% endblock %}
```

## NEMO/templates/snippets/embedded_document.html

```diff
@@ -1,24 +1,32 @@
 {% extends popup_view|yesno:"base/popup.html,base.html" %}
 {% block title %}{{ document.filename }}{% endblock %}
 {% block content %}
     {% if video %}
         <div class="embed-responsive-item text-center">
-            <video id="media-video" {% if controls %}controls{% endif %} {% if autoplay %}autoplay{% endif %} class="media-popup media-video">
-                <source src="{{ document.link }}"/>
+            <video id="media-video"
+                   {% if controls %}controls{% endif %}
+                   {% if autoplay %}autoplay{% endif %}
+                   class="media-popup media-video">
+                <source src="{{ document.link }}" />
             </video>
         </div>
     {% elif pdf %}
         <div class="embed-responsive-item text-center">
-            <object id="media-pdf" data="{{ document.link }}#scrollbar=0&toolbar={% if controls %}1{% else %}0{% endif %}&navpanes=0" type="application/pdf" class="media-popup media-pdf">
-                <p>It appears you don't have a PDF plugin for this browser. You can <a href="{{ document.link }}">click here to download the PDF file.</a></p>
+            <object id="media-pdf"
+                    data="{{ document.link }}#scrollbar=0&toolbar={% if controls %}1{% else %}0{% endif %}&navpanes=0"
+                    type="application/pdf"
+                    class="media-popup media-pdf">
+                <p>
+                    It appears you don't have a PDF plugin for this browser. You can <a href="{{ document.link }}">click here to download the PDF file.</a>
+                </p>
             </object>
         </div>
     {% endif %}
     <script>
         $('#dialog .modal-dialog').addClass('modal-lg');
         $(".modal").one("hidden.bs.modal", function()
         {
             $(".modal-body").html("");
         });
     </script>
-{% endblock %}
+{% endblock %}
```

## NEMO/templates/snippets/tool_info.html

```diff
@@ -1,31 +1,45 @@
-<h4 style="margin-top:0; text-align: center"><a href="{% url 'tool_control' tool_id=tool.id %}">{{ tool.name }}</a></h4>
-Tool owner: <a href="{% url 'get_email_form_for_user' tool.primary_owner.id %}">{{ tool.primary_owner.get_name }}</a><br/>
+<h4 style="margin-top:0; text-align: center">
+    <a href="{% url 'tool_control' tool_id=tool.id %}">{{ tool.name }}</a>
+</h4>
+Tool owner: <a href="{% url 'get_email_form_for_user' tool.primary_owner.id %}">{{ tool.primary_owner.get_name }}</a>
+<br />
 {% if tool.backup_owners.all.count == 1 %}
     {% with tool.backup_owners.all|first as backup %}
-        Backup owner: <a href="{% url 'get_email_form_for_user' backup.id %}">{{ backup.get_name }}</a><br/>
+        Backup owner: <a href="{% url 'get_email_form_for_user' backup.id %}">{{ backup.get_name }}</a>
+        <br />
     {% endwith %}
 {% elif tool.backup_owners.all.count > 1 %}
     Backup owners:
     <ul style="padding-left: 25px; margin-bottom: 0">
-    {% for backup in tool.backup_owners.all %}
-        <li><a href="{% url 'get_email_form_for_user' backup.id %}">{{ backup.get_name }}</a></li>
-    {% endfor %}
+        {% for backup in tool.backup_owners.all %}
+            <li>
+                <a href="{% url 'get_email_form_for_user' backup.id %}">{{ backup.get_name }}</a>
+            </li>
+        {% endfor %}
     </ul>
 {% endif %}
 {% if tool.superusers.all.count == 1 %}
     {% with tool.superusers.all|first as superuser %}
-        Superuser: <a href="{% url 'get_email_form_for_user' superuser.id %}">{{ superuser.get_name }}</a><br/>
+        Superuser: <a href="{% url 'get_email_form_for_user' superuser.id %}">{{ superuser.get_name }}</a>
+        <br />
     {% endwith %}
 {% elif tool.superusers.all.count > 1 %}
     Superusers:
     <ul style="padding-left: 25px; margin-bottom: 0">
-    {% for superuser in tool.superusers.all %}
-        <li><a href="{% url 'get_email_form_for_user' superuser.id %}">{{ superuser.get_name }}</a></li>
-    {% endfor %}
+        {% for superuser in tool.superusers.all %}
+            <li>
+                <a href="{% url 'get_email_form_for_user' superuser.id %}">{{ superuser.get_name }}</a>
+            </li>
+        {% endfor %}
     </ul>
 {% endif %}
 {% if tool.notification_email_address %}
-    Email: <a href="{% url 'get_email_form' %}?recipient={{ tool.notification_email_address }}" title="Email {{ tool.notification_email_address }}">{{ tool.notification_email_address }}</a><br/>
+    Email: <a href="{% url 'get_email_form' %}?recipient={{ tool.notification_email_address }}"
+    title="Email {{ tool.notification_email_address }}">{{ tool.notification_email_address }}</a>
+    <br />
 {% endif %}
-{% if tool.location %}Location: {{ tool.location }}<br/>{% endif %}
-{% if tool.phone_number %}Phone number: <a href="tel:{{ tool.phone_number }}">{{ tool.phone_number }}</a>{% endif %}
+{% if tool.location %}
+    Location: {{ tool.location }}
+    <br />
+{% endif %}
+{% if tool.phone_number %}Phone number: <a href="tel:{{ tool.phone_number }}">{{ tool.phone_number }}</a>{% endif %}
```

### html2text {}

```diff
@@ -10,10 +10,10 @@
 tool.superusers.all|first as superuser %} Superuser: _{_{_ _s_u_p_e_r_u_s_e_r_._g_e_t___n_a_m_e_ _}_}
 {% endwith %} {% elif tool.superusers.all.count > 1 %} Superusers:
     * {% for superuser in tool.superusers.all %}
     * _{_{_ _s_u_p_e_r_u_s_e_r_._g_e_t___n_a_m_e_ _}_}
     * {% endfor %}
 {% endif %} {% if tool.notification_email_address %} Email: _{
 _{_ _t_o_o_l_._n_o_t_i_f_i_c_a_t_i_o_n___e_m_a_i_l___a_d_d_r_e_s_s_ _}_}
-{% endif %} {% if tool.location %}Location: {{ tool.location }}
+{% endif %} {% if tool.location %} Location: {{ tool.location }}
 {% endif %} {% if tool.phone_number %}Phone number: _{_{_ _t_o_o_l_._p_h_o_n_e___n_u_m_b_e_r_ _}_}{%
 endif %}
```

## NEMO/templates/staff_charges/change_status.html

```diff
@@ -1,20 +1,20 @@
 {% extends 'staff_charges/staff_charges_base.html' %}
 {% load custom_tags_and_filters %}
 {% load mptt_tags %}
 {% block remote_work_title %}Current staff charge{% endblock %}
 {% block staff_charges_content %}
-	<form action="{% url 'end_staff_charge' %}" class="form-horizontal" method="post">
-		{% csrf_token %}
-		<input type="submit" class="btn btn-primary" value="I have finished working on this project">
-	</form>
-	{% if areas %}
-		<div style="height:30px"></div>
-		<form action="{% url 'begin_staff_area_charge' %}" method="post">
-			{% csrf_token %}
-			<p>I have entered a billable area on behalf of this user:</p>
-			{% include 'area_access/login_areas.html' with areas=areas user_accessible_areas=user_accessible_areas %}
-			<br>
-			<input type="submit" class="btn btn-primary" value="Begin billing for area access">
-		</form>
-	{% endif %}
-{% endblock %}
+    <form action="{% url 'end_staff_charge' %}" class="form-horizontal" method="post">
+        {% csrf_token %}
+        <input type="submit" class="btn btn-primary" value="I have finished working on this project">
+    </form>
+    {% if areas %}
+        <div style="height:30px"></div>
+        <form action="{% url 'begin_staff_area_charge' %}" method="post">
+            {% csrf_token %}
+            <p>I have entered a billable area on behalf of this user:</p>
+            {% include 'area_access/login_areas.html' with areas=areas user_accessible_areas=user_accessible_areas %}
+            <br>
+            <input type="submit" class="btn btn-primary" value="Begin billing for area access">
+        </form>
+    {% endif %}
+{% endblock %}
```

## NEMO/templates/staff_charges/choose_project.html

```diff
@@ -1,32 +1,35 @@
 {% extends 'staff_charges/staff_charges_base.html' %}
 {% load custom_tags_and_filters %}
 {% block remote_work_title %}Project selection{% endblock %}
 {% block staff_charges_content %}
-	<div class="col-sm-12">
-		<form action="{% url 'begin_staff_charge' %}" class="form-horizontal" method="post">
-			{% csrf_token %}
-			<div class="form-group">
-				Customer: {{ customer }}<br>
-				<input type="hidden" name="customer" value="{{ customer.id }}">
-			</div>
-			<div class="form-group">
-				{% if customer.active_project_count == 1 and customer.active_projects.0.allow_staff_charges %}
-					Staff time will be billed to the customer's only project, &quot;{{ customer.active_projects.0 }}&quot;
-					<input type="hidden" name="project" value="{{ customer.active_projects.0.id }}">
-				{% else %}
-					Which of the customer's projects would you like to bill?
-					<div class="radio">
-						{% for p in customer.active_projects %}
+    <div class="col-sm-12">
+        <form action="{% url 'begin_staff_charge' %}" class="form-horizontal" method="post">
+            {% csrf_token %}
+            <div class="form-group">
+                Customer: {{ customer }}
+                <br>
+                <input type="hidden" name="customer" value="{{ customer.id }}">
+            </div>
+            <div class="form-group">
+                {% if customer.active_project_count == 1 and customer.active_projects.0.allow_staff_charges %}
+                    Staff time will be billed to the customer's only project, &quot;{{ customer.active_projects.0 }}&quot;
+                    <input type="hidden" name="project" value="{{ customer.active_projects.0.id }}">
+                {% else %}
+                    Which of the customer's projects would you like to bill?
+                    <div class="radio">
+                        {% for p in customer.active_projects %}
                             {% if p.allow_staff_charges %}
-							    <label class="control-label"><input type="radio" name="project" value="{{ p.id }}" required> {% project_selection_display p %}</label><br>
+                                <label class="control-label">
+                                    <input type="radio" name="project" value="{{ p.id }}" required>
+                                    {% project_selection_display p %}
+                                </label>
+                                <br>
                             {% endif %}
-						{% endfor %}
-					</div>
-				{% endif %}
-			</div>
-			<div class="form-group">
-                {% button type="save" value="Begin billing staff time" icon="glyphicon-time" %}
-			</div>
-		</form>
-	</div>
-{% endblock %}
+                        {% endfor %}
+                    </div>
+                {% endif %}
+            </div>
+            <div class="form-group">{% button type="save" value="Begin billing staff time" icon="glyphicon-time" %}</div>
+        </form>
+    </div>
+{% endblock %}
```

## NEMO/templates/staff_charges/end_area_charge.html

```diff
@@ -1,12 +1,15 @@
 {% extends 'staff_charges/staff_charges_base.html' %}
 {% block remote_work_title %}Current staff charge{% endblock %}
 {% block staff_charges_content %}
-	<div class="col-sm-12">
-		<form action="{% url 'end_staff_area_charge' %}" class="form-horizontal" method="post">
-			{% csrf_token %}
-			<div class="form-group">
-				<input type="submit" class="btn btn-primary" style="white-space:normal" value="I am no longer in the {{ area }} on behalf of this user">
-			</div>
-		</form>
-	</div>
-{% endblock %}
+    <div class="col-sm-12">
+        <form action="{% url 'end_staff_area_charge' %}" class="form-horizontal" method="post">
+            {% csrf_token %}
+            <div class="form-group">
+                <input type="submit"
+                       class="btn btn-primary"
+                       style="white-space:normal"
+                       value="I am no longer in the {{ area }} on behalf of this user">
+            </div>
+        </form>
+    </div>
+{% endblock %}
```

## NEMO/templates/staff_charges/new_staff_charge.html

```diff
@@ -1,28 +1,27 @@
 {% extends 'staff_charges/staff_charges_base.html' %}
 {% load custom_tags_and_filters %}
 {% block remote_work_title %}New staff charge{% endblock %}
 {% block staff_charges_content %}
-	<p>Use this form to charge a user for staff time and area access time when you are working on a project on their behalf. You may only work on one user project at a time for a customer.</p>
-	{% if error %}
-		<div class="alert alert-danger">
-			{{ error }}
-		</div>
-	{% endif %}
-	<form id="new_staff_charge" action="{% url 'staff_charges' %}" class="form-horizontal" method="get">
-		<div class="form-group">
-			<label for="customer_search" class="control-label col-sm-1" style="margin-right: 5px">Customer</label>
-			<div class="col-sm-4">
-				<input id="customer_search" type="text" class="form-control" placeholder="Search for a customer">
-				<input id="customer" name="customer" type="hidden">
-			</div>
-		</div>
-	</form>
-	<script>
+    <p>
+        Use this form to charge a user for staff time and area access time when you are working on a project on their behalf. You may only work on one user project at a time for a customer.
+    </p>
+    {% if error %}<div class="alert alert-danger">{{ error }}</div>{% endif %}
+    <form id="new_staff_charge" action="{% url 'staff_charges' %}" class="form-horizontal" method="get">
+        <div class="form-group">
+            <label for="customer_search" class="control-label col-sm-1" style="margin-right: 5px">Customer</label>
+            <div class="col-sm-4">
+                <input id="customer_search" type="text" class="form-control" placeholder="Search for a customer">
+                <input id="customer" name="customer" type="hidden">
+            </div>
+        </div>
+    </form>
+    <script>
 		function select_user(jquery_event, search_selection, dataset_name)
 		{
 			$("#customer").val(search_selection.id);
 			$("#new_staff_charge").submit();
 		}
 		$('#customer_search').autocomplete('users', select_user, {{ users|json_search_base }}).focus();
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

## NEMO/templates/staff_charges/reminder.html

```diff
@@ -1,19 +1,17 @@
 {% load custom_tags_and_filters %}
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
-	<h4 id="modal-description-label" class="modal-title">Would you like to end your staff charge?</h4>
+    <button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
+    <h4 id="modal-description-label" class="modal-title">Would you like to end your staff charge?</h4>
 </div>
-
 <div class="modal-body">
-	{% with user.get_staff_charge as staff_charge %}
-		You are charging staff time to {{ staff_charge.customer }} for the project named
-		{{ staff_charge.project }} since {{ staff_charge.start }}.
-		Now that you have finished using the {{ tool.name_or_child_in_use_name }} on this person's behalf, would you
-		also like to stop charging staff time to this user?
-	{% endwith %}
+    {% with user.get_staff_charge as staff_charge %}
+        You are charging staff time to {{ staff_charge.customer }} for the project named
+        {{ staff_charge.project }} since {{ staff_charge.start }}.
+        Now that you have finished using the {{ tool.name_or_child_in_use_name }} on this person's behalf, would you
+        also like to stop charging staff time to this user?
+    {% endwith %}
 </div>
-
 <div class="modal-footer">
     {% button type="save" submit=False dismiss="modal" value="Continue charging staff time" icon="glyphicon-time" %}
     {% button type="delete" submit=False dismiss="modal" value="Stop charging staff time" icon="glyphicon-stop" onclick="$('#dialog').one('hidden.bs.modal', end_staff_charge);" %}
-</div>
+</div>
```

## NEMO/templates/staff_charges/staff_charges_base.html

```diff
@@ -1,46 +1,45 @@
 {% extends 'remote_work/remote_work_base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Staff charge{% endblock %}
 {% block staff_charges_tab_class %}active{% endblock %}
 {% block tab_content %}
-	{% if staff_charge %}
-		<p>You are charging staff time to {{ staff_charge.customer }} for the project named {{ staff_charge.project }} since {{ staff_charge.start }}.</p>
+    {% if staff_charge %}
+        <p>
+            You are charging staff time to {{ staff_charge.customer }} for the project named {{ staff_charge.project }} since {{ staff_charge.start }}.
+        </p>
         <div style="display: table-row">
-            <label for="staff_charge_note" style="vertical-align: top;display: table-cell">Charge note: </label>
+            <label for="staff_charge_note" style="vertical-align: top;display: table-cell">Charge note:</label>
             <div style="display: table-cell; padding: 0 10px; width: 75%">
                 <textarea oninput="auto_size_textarea(this)" class="form-control" id="staff_charge_note">{{ staff_charge.note|default_if_none:"" }}</textarea>
             </div>
             <div style="display: table-cell; vertical-align: bottom;">
                 {% url "edit_staff_charge_note" as edit_staff_charge_note_url %}
                 {% button type="save" size="small" submit=False value=staff_charge.note|yesno:"Update,Save" onclick="ajax_post('"|concat:edit_staff_charge_note_url|concat:"', {'staff_charge_note': $('#staff_charge_note').val()}, undefined, undefined, function(){location.reload()})" %}
             </div>
         </div>
-		<p><br>Here is a summary of the current charges:</p>
-
-		<table class="table">
-			<thead>
-			<tr>
-				<th>Type</th>
-				<th>Start</th>
-				<th>End</th>
-			</tr>
-			</thead>
-			<tbody>
-			{% for charge in charges %}
-					<tr class="{{ charge.class }}">
-						<td>{{ charge.type }}</td>
-						<td>{{ charge.start }}</td>
-						<td>{{ charge.end|default:'' }}</td>
-					</tr>
-			{% endfor %}
-			</tbody>
-		</table>
-	{% endif %}
-
-	{% block staff_charges_content %}
-	{% endblock %}
-
-    <script>
-        auto_size_textarea(document.getElementById('staff_charge_note'));
-    </script>
-{% endblock %}
+        <p>
+            <br>
+            Here is a summary of the current charges:
+        </p>
+        <table class="table">
+            <thead>
+                <tr>
+                    <th>Type</th>
+                    <th>Start</th>
+                    <th>End</th>
+                </tr>
+            </thead>
+            <tbody>
+                {% for charge in charges %}
+                    <tr class="{{ charge.class }}">
+                        <td>{{ charge.type }}</td>
+                        <td>{{ charge.start }}</td>
+                        <td>{{ charge.end|default:'' }}</td>
+                    </tr>
+                {% endfor %}
+            </tbody>
+        </table>
+    {% endif %}
+    {% block staff_charges_content %}{% endblock %}
+    <script>auto_size_textarea(document.getElementById('staff_charge_note'));</script>
+{% endblock %}
```

### html2text {}

```diff
@@ -11,9 +11,9 @@
 "Update,Save" onclick="ajax_post('"|concat:edit_staff_charge_note_url|concat:
 "', {'staff_charge_note': $('#staff_charge_note').val()}, undefined, undefined,
 function(){location.reload()})" %}
 
 Here is a summary of the current charges:
 TTyyppee              SSttaarrtt              EEnndd
 {{ charge.type }} {{ charge.start }} {{ charge.end|default:'' }}
-{% endif %} {% block staff_charges_content %} {% endblock %}
+{% endif %} {% block staff_charges_content %}{% endblock %}
 {% endblock %}
```

## NEMO/templates/status_dashboard/occupancy.html

```diff
@@ -1,39 +1,47 @@
 {% if no_occupants %}
-	Nobody is in an access controlled {{ facility_name }} area.
+    Nobody is in an access controlled {{ facility_name }} area.
 {% else %}
-	<p>
-		Staff members are highlighted in <span class="bg-success">&nbsp;green&nbsp;</span><br>
-		Service personnel are highlighted in <span class="bg-warning">&nbsp;orange&nbsp;</span><br>
+    <p>
+        Staff members are highlighted in <span class="bg-success">&nbsp;green&nbsp;</span>
+        <br>
+        Service personnel are highlighted in <span class="bg-warning">&nbsp;orange&nbsp;</span>
+        <br>
         {% if reservations_can_expire %}
-        Users with expired reservations are highlighted in <span class="bg-danger">&nbsp;red&nbsp;</span>
+            Users with expired reservations are highlighted in <span class="bg-danger">&nbsp;red&nbsp;</span>
         {% endif %}
         Users logged in outside of their allowed schedule are highlighted in <span class="bg-danger">&nbsp;red&nbsp;</span>
-	</p>
-	<ul class="area-tree-list area-tree-root" style="margin-top: 25px;padding-left: 0">
-		{% for area_item in area_items %}
-			{% if area_item == "in" %}
-				<ul class="area-tree-list collapse in" aria-expanded="true" id="area-{{ forloop.counter }}">
-			{% else %}
-				{% if area_item == "out" %}
-						</ul>
-					</li>
-				{% else %}
-					{% if area_item.leaf %}
-						<li class="area-tree-leaf">
-							{% include 'occupancy/occupancy_content.html' with area=area_item.item occupants=area_item.occupants show_force_logout=True %}
-						</li>
-					{% else %}
-						<li class="area-tree-node">
-							<a class="h3" onclick="toggle_details(this)" data-toggle="collapse" aria-expanded="true" data-target="#area-{{ forloop.counter|add:1 }}">
-								<span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-								<span class="media-heading">{{ area_item.name }}</span>
-								{% if area_item.maximum_capacity %}
-									 <span style="font-size: large;padding-left: 40px">{% include 'occupancy/occupancy_count.html' with area=area_item.item %}</span>
-								{% endif %}
-							</a>
-					{% endif %}
-				{% endif %}
-			{% endif %}
-		{% endfor %}
-	</ul>
-{% endif %}
+    </p>
+    <ul class="area-tree-list area-tree-root" style="margin-top: 25px;padding-left: 0">
+        {% for area_item in area_items %}
+            {% if area_item == "in" %}
+                <ul class="area-tree-list collapse in" aria-expanded="true" id="area-{{ forloop.counter }}">
+                {% else %}
+                    {% if area_item == "out" %}
+                    </ul>
+                </li>
+            {% else %}
+                {% if area_item.leaf %}
+                    <li class="area-tree-leaf">
+                        {% include 'occupancy/occupancy_content.html' with area=area_item.item occupants=area_item.occupants show_force_logout=True %}
+                    </li>
+                {% else %}
+                    <li class="area-tree-node">
+                        <a class="h3"
+                           onclick="toggle_details(this)"
+                           data-toggle="collapse"
+                           aria-expanded="true"
+                           data-target="#area-{{ forloop.counter|add:1 }}">
+                            <span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+                            <span class="media-heading">{{ area_item.name }}</span>
+                            {% if area_item.maximum_capacity %}
+                                <span style="font-size: large;padding-left: 40px">
+                                    {% include 'occupancy/occupancy_count.html' with area=area_item.item %}
+                                </span>
+                            {% endif %}
+                        </a>
+                    {% endif %}
+                {% endif %}
+            {% endif %}
+        {% endfor %}
+    </ul>
+{% endif %}
```

## NEMO/templates/status_dashboard/staff.html

```diff
@@ -3,103 +3,150 @@
 <style>
 .table-hover-first tr:hover td:is(:first-child)
 {
   background: #ddd !important;
 }
 </style>
 {% if staffs %}
-<div class="row" style="display: table-row;">
-    <div style="display: table-cell;width: 100%">
-        Staff availability is highlighted in <span style="display: inline-block; padding: 3px" class="alert-success">green</span><br>
-        Staff partial availability is highlighted in <span style="display: inline-block; padding: 3px" class="alert-warning">orange</span><br>
-        Staff absence is highlighted in <span style="display: inline-block; padding: 3px" class="alert-danger">red</span><br><br>
-
-        Extra information (if available) can be found by hovering over a time block<br>
-        Clicking on a staff member will display their contact information
-    </div>
-    {% if user_view != 'day' %}
-        <div style="display: table-cell; vertical-align: bottom; width: 100%">
-            <div style="display: inline-flex">
-                <div class="btn-group" role="group" style="display: inline-flex">
-                    <button type="button" class="btn btn-default {% if page_view == 'day' %}active{% endif %}" onclick="refresh_staff_status_dashboard('timestamp={{ page_timestamp }}&view=day');" {% if page_view == 'day' %}aria-pressed="true"{% endif %}>Day</button>
-                    <button type="button" class="btn btn-default {% if not page_view or page_view == 'week' %}active{% endif %}" onclick="refresh_staff_status_dashboard('timestamp={{ page_timestamp }}&view=week');" {% if not page_view or page_view == 'week' %}aria-pressed="true"{% endif %}>Week</button>
-                    {% if not user_view %}
-                        <button type="button" class="btn btn-default {% if page_view == 'month' %}active{% endif %}" onclick="refresh_staff_status_dashboard('timestamp={{ page_timestamp }}&view=month');" {% if page_view == 'month' %}aria-pressed="true"{% endif %}>Month</button>
+    <div class="row" style="display: table-row;">
+        <div style="display: table-cell;width: 100%">
+            Staff availability is highlighted in <span style="display: inline-block; padding: 3px" class="alert-success">green</span>
+            <br>
+            Staff partial availability is highlighted in <span style="display: inline-block; padding: 3px" class="alert-warning">orange</span>
+            <br>
+            Staff absence is highlighted in <span style="display: inline-block; padding: 3px" class="alert-danger">red</span>
+            <br>
+            <br>
+            Extra information (if available) can be found by hovering over a time block
+            <br>
+            Clicking on a staff member will display their contact information
+        </div>
+        {% if user_view != 'day' %}
+            <div style="display: table-cell; vertical-align: bottom; width: 100%">
+                <div style="display: inline-flex">
+                    <div class="btn-group" role="group" style="display: inline-flex">
+                        <button type="button"
+                                class="btn btn-default {% if page_view == 'day' %}active{% endif %}"
+                                onclick="refresh_staff_status_dashboard('timestamp={{ page_timestamp }}&view=day');"
+                                {% if page_view == 'day' %}aria-pressed="true"{% endif %}>Day</button>
+                        <button type="button"
+                                class="btn btn-default {% if not page_view or page_view == 'week' %}active{% endif %}"
+                                onclick="refresh_staff_status_dashboard('timestamp={{ page_timestamp }}&view=week');"
+                                {% if not page_view or page_view == 'week' %}aria-pressed="true"{% endif %}>
+                            Week
+                        </button>
+                        {% if not user_view %}
+                            <button type="button"
+                                    class="btn btn-default {% if page_view == 'month' %}active{% endif %}"
+                                    onclick="refresh_staff_status_dashboard('timestamp={{ page_timestamp }}&view=month');"
+                                    {% if page_view == 'month' %}aria-pressed="true"{% endif %}>Month</button>
+                        {% endif %}
+                    </div>
+                    {% if user.is_facility_manager %}
+                        {% url 'status_dashboard_tab' 'staff' as staff_status_url %}
+                        {% button style="margin-left: 10px" value="Export" type="export" url=staff_status_url|concat:"?timestamp="|concat:page_timestamp|concat:"&view="|concat:page_view|concat:"&csv=true" role="button" target="_blank" %}
                     {% endif %}
                 </div>
-                {% if user.is_facility_manager %}
-                    {% url 'status_dashboard_tab' 'staff' as staff_status_url %}
-                    {% button style="margin-left: 10px" value="Export" type="export" url=staff_status_url|concat:"?timestamp="|concat:page_timestamp|concat:"&view="|concat:page_view|concat:"&csv=true" role="button" target="_blank" %}
-                {% endif %}
             </div>
-        </div>
-    {% endif %}
-</div>
-<div id="contact-info-tooltip-container" class="info-tooltip-container" style="overflow-x: auto; margin-top: 25px; margin-bottom: 20px; border: 1px solid #ddd;">
-    <table class="table table-responsive table-hover-first" style="margin: 0;border-collapse: collapse">
-        <thead>
-            <tr class="no-border">
-                <th class="sticky" style="background-color: white; {% if days_length == 1 %}width:33%{% endif %}" aria-label="Blank corner cell"></th>
-                {% if prev %}
-                    <th class="button-column-minimum" style="vertical-align: middle;" aria-label="Previous page cell">
-                        <a style="cursor: pointer" onclick="refresh_staff_status_dashboard('timestamp={{ prev }}&view={{ page_view }}');" aria-label="Previous page button">
-                            <i class="glyphicon glyphicon-chevron-left chevron" style="padding: 0"></i>
-                        </a>
-                    </th>
-                {% endif %}
-                {% for day in days %}
-                    {% now 'Y-m-d' as today %}
-                    <th class="text-center {% if day|date:'Y-m-d' == today %}alert-info{% endif %}">
-                        <span {% if day|date:'Y-m-d' == today %}data-toggle='tooltip' data-title="Today's date"{% endif %}>{{ day|date:staff_date_format }}</span>
-                    </th>
-                {% endfor %}
-                {% if next %}
-                    <th class="button-column-minimum" style="vertical-align: middle;" aria-label="Next page cell">
-                        <a style="cursor: pointer" onclick="refresh_staff_status_dashboard('timestamp={{ next }}&view={{ page_view }}')" aria-label="Next page button">
-                            <i class="glyphicon glyphicon-chevron-right chevron" style="padding: 0"></i>
-                        </a>
-                    </th>
-                {% endif %}
-            </tr>
-        </thead>
-        <tbody>
-        {% regroup staffs by category as category_staff %}
-            {% for category in category_staff %}
-                <tr>
-                    <th colspan="{% if prev %}3{% else %}2{% endif %}" class="sticky">{{ category.grouper|default_if_none:'Other' }}</th>
-                    {% if next or days_length != 1 %}<th aria-label="Staff category empty cells" colspan="{% if next %}{{ days_length|add:'1' }}{% else %}{{ days_length }}{% endif %}"></th>{% endif %}
+        {% endif %}
+    </div>
+    <div id="contact-info-tooltip-container"
+         class="info-tooltip-container"
+         style="overflow-x: auto;
+                margin-top: 25px;
+                margin-bottom: 20px;
+                border: 1px solid #ddd">
+        <table class="table table-responsive table-hover-first" style="margin: 0;border-collapse: collapse">
+            <thead>
+                <tr class="no-border">
+                    <th class="sticky"
+                        style="background-color: white;
+                               {% if days_length == 1 %}width:33%{% endif %}"
+                        aria-label="Blank corner cell"></th>
+                    {% if prev %}
+                        <th class="button-column-minimum" style="vertical-align: middle;" aria-label="Previous page cell">
+                            <a style="cursor: pointer"
+                               onclick="refresh_staff_status_dashboard('timestamp={{ prev }}&view={{ page_view }}');"
+                               aria-label="Previous page button">
+                                <i class="glyphicon glyphicon-chevron-left chevron" style="padding: 0"></i>
+                            </a>
+                        </th>
+                    {% endif %}
+                    {% for day in days %}
+                        {% now 'Y-m-d' as today %}
+                        <th class="text-center {% if day|date:'Y-m-d' == today %}alert-info{% endif %}">
+                            <span {% if day|date:'Y-m-d' == today %}data-toggle='tooltip' data-title="Today's date"{% endif %}>{{ day|date:staff_date_format }}</span>
+                        </th>
+                    {% endfor %}
+                    {% if next %}
+                        <th class="button-column-minimum" style="vertical-align: middle;" aria-label="Next page cell">
+                            <a style="cursor: pointer"
+                               onclick="refresh_staff_status_dashboard('timestamp={{ next }}&view={{ page_view }}')"
+                               aria-label="Next page button">
+                                <i class="glyphicon glyphicon-chevron-right chevron" style="padding: 0"></i>
+                            </a>
+                        </th>
+                    {% endif %}
                 </tr>
-                {% for staff in category.list %}
-                    <tr class="default">
-                        <td style="vertical-align: middle;" class="sticky">
-                            <div class="text-nowrap staff-status-contact">{{ staff.staff_member.get_contact_info_html|safe }}</div>
-                            <div class="staff-status-add">{% if user.is_facility_manager %}<span class="glyphicon glyphicon-plus-sign success-highlight" onclick="ajax_get('{% url "create_staff_absence" %}?staff_id={{ staff.id }}&timestamp={{ page_timestamp }}&view={{ page_view }}', undefined, ajax_success_callback)" title="Add staff absence"></span>{% endif %}</div>
-                        </td>
-                        {% for day in days %}
-                            {% with staff_available=staff.weekly_availability|get_item:day.weekday staff_absent=staff_absences|get_item:staff.id|get_item:day.day closure_time=closure_times|get_item:day.day %}
-                                {% with start_closure_time=closure_time.start_time|localtime end_closure_time=closure_time.end_time|localtime %}
-                                <td {% if prev and next and days_length == 1 %}colspan="3" {% elif forloop.first and prev or forloop.last and next %}colspan="2"{% endif %} class="staff-status-availability text-center {% if staff_absent or closure_time %}{% if staff_absent and not staff_absent.full_day %}alert-warning{% elif closure_time %}{% if start_closure_time.date == day.date and start_closure_time.hour > 0 or start_closure_time.date == day.date and start_closure_time.minute > 0 %}alert-warning{% elif end_closure_time.date == day.date and end_closure_time.hour < 23 or end_closure_time.date == day.date and end_closure_time.minute < 59 %}alert-warning{% else %}alert-danger{% endif %}{% else %}alert-danger{% endif %}{% elif staff_available %}alert-success{% elif not user.is_facility_manager %}alert-danger{% endif %}">
-                                    {% if closure_time %}
-                                        {% with custom_data_template="<div class='tooltip' role='tooltip'><div class='arrow'></div><div class='tooltip-inner' style='text-align:left; max-width: 300px'></div></div>" %}
-                                            <div data-toggle="tooltip" data-template="{{ custom_data_template }}" title="{% if closure_time.closure.alert_template %}{{ closure_time.alert_contents|linebreaksbr }}{% else %}{{ closure_time.closure.name }} {{ closure_time }}{% endif %}"><div>Closed</div></div>
-                                        {% endwith %}
-                                    {% elif staff_absent %}
-                                        {% if not user.is_facility_manager %}
-                                            {% if "dashboard"|customization:"dashboard_staff_status_absence_view_staff" and user.is_staff or "dashboard"|customization:"dashboard_staff_status_absence_view_user_office" and user.is_user_office or "dashboard"|customization:"dashboard_staff_status_absence_view_accounting_officer" and user.is_accounting_officer %}
-                                                <div data-toggle="tooltip" title="{{ staff_absent.details_for_manager }}"><span>{{ staff_absent.absence_type.name }}</span></div>
+            </thead>
+            <tbody>
+                {% regroup staffs by category as category_staff %}
+                {% for category in category_staff %}
+                    <tr>
+                        <th colspan="{% if prev %}3{% else %}2{% endif %}" class="sticky">{{ category.grouper|default_if_none:'Other' }}</th>
+                        {% if next or days_length != 1 %}
+                            <th aria-label="Staff category empty cells"
+                                colspan="{% if next %}{{ days_length|add:'1' }}{% else %}{{ days_length }}{% endif %}">
+                            </th>
+                        {% endif %}
+                    </tr>
+                    {% for staff in category.list %}
+                        <tr class="default">
+                            <td style="vertical-align: middle;" class="sticky">
+                                <div class="text-nowrap staff-status-contact">{{ staff.staff_member.get_contact_info_html|safe }}</div>
+                                <div class="staff-status-add">
+                                    {% if user.is_facility_manager %}
+                                        <span class="glyphicon glyphicon-plus-sign success-highlight"
+                                              onclick="ajax_get('{% url "create_staff_absence" %}?staff_id={{ staff.id }}&timestamp={{ page_timestamp }}&view={{ page_view }}', undefined, ajax_success_callback)"
+                                              title="Add staff absence"></span>
+                                    {% endif %}
+                                </div>
+                            </td>
+                            {% for day in days %}
+                                {% with staff_available=staff.weekly_availability|get_item:day.weekday staff_absent=staff_absences|get_item:staff.id|get_item:day.day closure_time=closure_times|get_item:day.day %}
+                                    {% with start_closure_time=closure_time.start_time|localtime end_closure_time=closure_time.end_time|localtime %}
+                                        <td {% if prev and next and days_length == 1 %}colspan="3" {% elif forloop.first and prev or forloop.last and next %}colspan="2"{% endif %}
+                                            class="staff-status-availability text-center {% if staff_absent or closure_time %}{% if staff_absent and not staff_absent.full_day %}alert-warning{% elif closure_time %}{% if start_closure_time.date == day.date and start_closure_time.hour > 0 or start_closure_time.date == day.date and start_closure_time.minute > 0 %}alert-warning{% elif end_closure_time.date == day.date and end_closure_time.hour < 23 or end_closure_time.date == day.date and end_closure_time.minute < 59 %}alert-warning{% else %}alert-danger{% endif %}{% else %}alert-danger{% endif %}{% elif staff_available %}alert-success{% elif not user.is_facility_manager %}alert-danger{% endif %}">
+                                            {% if closure_time %}
+                                                {% with custom_data_template="<div class='tooltip' role='tooltip'><div class='arrow'></div><div class='tooltip-inner' style='text-align:left; max-width: 300px'></div></div>" %}
+                                                <div data-toggle="tooltip"
+                                                     data-template="{{ custom_data_template }}"
+                                                     title="{% if closure_time.closure.alert_template %}{{ closure_time.alert_contents|linebreaksbr }}{% else %}{{ closure_time.closure.name }} {{ closure_time }}{% endif %}">
+                                                    <div>Closed</div>
+                                                </div>
+                                            {% endwith %}
+                                        {% elif staff_absent %}
+                                            {% if not user.is_facility_manager %}
+                                                {% if "dashboard"|customization:"dashboard_staff_status_absence_view_staff" and user.is_staff or "dashboard"|customization:"dashboard_staff_status_absence_view_user_office" and user.is_user_office or "dashboard"|customization:"dashboard_staff_status_absence_view_accounting_officer" and user.is_accounting_officer %}
+                                                    <div data-toggle="tooltip" title="{{ staff_absent.details_for_manager }}">
+                                                        <span>{{ staff_absent.absence_type.name }}</span>
+                                                    </div>
+                                                {% else %}
+                                                    <div data-toggle="tooltip" title="{{ staff_absent.description|linebreaksbr }}">&nbsp;</div>
+                                                {% endif %}
                                             {% else %}
-                                                <div data-toggle="tooltip" title="{{ staff_absent.description|linebreaksbr }}">&nbsp;</div>
+                                                <div data-toggle="tooltip" title="{{ staff_absent.details_for_manager }}">
+                                                    <span style="cursor: pointer"
+                                                          onclick="ajax_get('{% url "edit_staff_absence" staff_absent.id %}?timestamp={{ page_timestamp }}&view={{ page_view }}', undefined, ajax_success_callback)">{{ staff_absent.absence_type.name }}</span>
+                                                </div>
                                             {% endif %}
-                                        {% else %}
-                                            <div data-toggle="tooltip" title="{{ staff_absent.details_for_manager }}"><span style="cursor: pointer" onclick="ajax_get('{% url "edit_staff_absence" staff_absent.id %}?timestamp={{ page_timestamp }}&view={{ page_view }}', undefined, ajax_success_callback)">{{ staff_absent.absence_type.name }}</span></div>
+                                        {% elif staff_available %}
+                                            <div data-toggle="tooltip" title="{{ staff.daily_hours }}">&nbsp;</div>
                                         {% endif %}
-                                    {% elif staff_available %}
-                                        <div data-toggle="tooltip" title="{{ staff.daily_hours }}">&nbsp;</div>
-                                    {% endif %}
-                                </td>
+                                    </td>
                                 {% endwith %}
                             {% endwith %}
                         {% endfor %}
                     </tr>
                 {% endfor %}
             {% endfor %}
         </tbody>
```

### html2text {}

```diff
@@ -4,16 +4,16 @@
 Staff partial availability is highlighted in orange
 Staff absence is highlighted in red
 
 Extra information (if available) can be found by hovering over a time block
 Clicking on a staff member will display their contact information
 {% if user_view != 'day' %}
 % if page_view == 'day' %}aria-pressed="true"{% endif %}>Day
-% if not page_view or page_view == 'week' %}aria-pressed="true"{% endif %}>Week
-{% if not user_view %}
+% if not page_view or page_view == 'week' %}aria-pressed="true"{% endif %}>
+Week {% if not user_view %}
 % if page_view == 'month' %}aria-pressed="true"{% endif %}>Month {% endif %}
 {% if user.is_facility_manager %} {% url 'status_dashboard_tab' 'staff' as
 staff_status_url %} {% button style="margin-left: 10px" value="Export"
 type="export" url=staff_status_url|concat:"?timestamp="|concat:
 page_timestamp|concat:"&view="|concat:page_view|concat:"&csv=true"
 role="button" target="_blank" %} {% endif %}
 {% endif %}
@@ -28,9 +28,9 @@
 {
 staff.staff_member.get_contact_info_html|safe
 }}
 {% if user.is_facility_manager %}
 }?staff_id={{ staff.id }}&timestamp={
 { page_timestamp }}&view={{ page_view }}',
 undefined, ajax_success_callback)" title="Add
-staff absence">{% endif %}
+staff absence"> {% endif %}
 {% endif %}
```

## NEMO/templates/status_dashboard/staff_absence.html

```diff
@@ -1,102 +1,128 @@
 {% extends 'base/popup.html' %}
 {% load custom_tags_and_filters %}
-{% block title %}{% if form.instance.pk %}Modify staff absence{% else %}New staff absence{% endif %}{% endblock %}
-{% block content %}
-<form id="absence_form" class="form-horizontal" action="{% if form.instance.pk %}{% url 'edit_staff_absence' form.instance.pk %}{% else %}{% url 'create_staff_absence' %}{% endif %}?timestamp={{ page_timestamp }}" method="post">
-    {% csrf_token %}
-    {% if form.non_field_errors %}
-        <div class="alert alert-danger">
-            {{ form.non_field_errors }}
-        </div>
+{% block title %}
+    {% if form.instance.pk %}
+        Modify staff absence
+    {% else %}
+        New staff absence
     {% endif %}
-    <div class="form-group">
-        <label class="col-sm-3 control-label" for="staff_member_search">Staff</label>
-        <div class="col-sm-9">
-            <input type="text" id="staff_member_search" name="staff_member" class="form-control">
-            <input type="button" id="selected_staff_member" class="btn btn-default" onclick="clear_staff_member_selection()" style="display:none">
-        </div>
-        {% if form.staff_member.errors %}
-            <div class="col-sm-9 col-sm-offset-3" style="color:red">{{ form.staff_member.errors|striptags }}</div>
-        {% endif %}
-    </div>
-    <div class="form-group">
-        <label class="col-sm-3 control-label" for="absence_type">Absence type</label>
-        <div class="col-sm-9">
-            <select class="form-control" name="absence_type" id="absence_type">
-                <option value="" disabled selected></option>
-                {% for x, y in form.fields.absence_type.choices %}
-                    {% if x %}
-                        <option value="{{ x }}"{% if form.absence_type.value|to_int == x %} selected{% endif %}>{{ y }}</option>
-                    {% endif %}
-                {% endfor %}
-            </select>
-        </div>
-        {% if form.absence_type.errors %}
-            <div class="col-sm-9 col-sm-offset-3" style="color:red">{{ form.absence_type.errors|striptags }}</div>
-        {% endif %}
-    </div>
-    <div class="form-group">
-        <label class="col-sm-3 control-label" for="start_date">Start</label>
-        <div class="col-sm-4">
-            <input type="text" class="form-control text-center" name="start_date" id="start_date" value="{{ form.start_date.value|input_date_format }}" required>
-        </div>
-        <label class="col-sm-1 control-label" for="end_date">End</label>
-        <div class="col-sm-4">
-            <input type="text" class="form-control text-center" name="end_date" id="end_date" value="{{ form.end_date.value|input_date_format }}" required>
-        </div>
-        {% if form.start_date.errors or form.end_date.errors %}
-            <div class="col-sm-4 col-sm-offset-3">{% if form.start_date.errors %}<span style="color:red">{{ form.start_date.errors|striptags }}</span>{% endif %}</div>
-            <div class="col-sm-4 col-sm-offset-1">{% if form.end_date.errors %}<span style="color:red">{{ form.end_date.errors|striptags }}</span>{% endif %}</div>
-        {% endif %}
-    </div>
-    <div class="form-group">
-        <label class="col-sm-3 control-label">All day</label>
-        <div class="col-sm-9">
-            <div class="checkbox">
-                <label><input id="full_day" name="full_day" type="checkbox" {% if form.full_day.value %}checked{% endif %}> {{ form.full_day.help_text }}</label>
+{% endblock %}
+{% block content %}
+    <form id="absence_form"
+          class="form-horizontal"
+          action="{% if form.instance.pk %}{% url 'edit_staff_absence' form.instance.pk %}{% else %}{% url 'create_staff_absence' %}{% endif %}?timestamp={{ page_timestamp }}"
+          method="post">
+        {% csrf_token %}
+        {% if form.non_field_errors %}<div class="alert alert-danger">{{ form.non_field_errors }}</div>{% endif %}
+        <div class="form-group">
+            <label class="col-sm-3 control-label" for="staff_member_search">Staff</label>
+            <div class="col-sm-9">
+                <input type="text" id="staff_member_search" name="staff_member" class="form-control">
+                <input type="button"
+                       id="selected_staff_member"
+                       class="btn btn-default"
+                       onclick="clear_staff_member_selection()"
+                       style="display:none">
             </div>
-        </div>
-        {% if form.full_day.errors %}
-            <div class="col-sm-9 col-sm-offset-3" style="color:red">{{ form.full_day.errors|striptags }}</div>
-        {% endif %}
-    </div>
-    <div class="form-group">
-        <label class="col-sm-3 control-label" for="absence_description">Description</label>
-        <div class="col-sm-9">
-            <textarea class="form-control" oninput="auto_size_textarea(this)" id="absence_description" name="description">{{ form.description.value|default_if_none:'' }}</textarea>
-        </div>
-        <div class="col-sm-9 col-sm-offset-3 italic" style="font-size: x-small">{{ form.description.help_text }}</div>
-        {% if form.description.errors %}
-            <div class="col-sm-9 col-sm-offset-3" style="color:red">{{ form.description.errors|striptags }}</div>
-        {% endif %}
-    </div>
-    <div class="form-group">
-        <label class="col-sm-3 control-label" for="manager_note">Manager note</label>
-        <div class="col-sm-9">
-            <textarea class="form-control" oninput="auto_size_textarea(this)" id="manager_note" name="manager_note">{{ form.manager_note.value|default_if_none:'' }}</textarea>
-        </div>
-        <div class="col-sm-9 col-sm-offset-3 italic" style="font-size: x-small">{{ form.manager_note.help_text }}</div>
-        {% if form.manager_note.errors %}
-            <div class="col-sm-9 col-sm-offset-3" style="color:red">{{ form.manager_note.errors|striptags }}</div>
-        {% endif %}
-    </div>
-    <div class="form-group">
-        {% if form.instance.pk %}
-            <div class="col-sm-5 col-sm-offset-3 text-left">
-                {% url 'delete_staff_absence' form.instance.pk as delete_staff_absence_url %}
-                {% button type="delete" value="Delete" url=delete_staff_absence_url|concat:"?timestamp="|concat:page_timestamp %}
+            {% if form.staff_member.errors %}
+                <div class="col-sm-9 col-sm-offset-3" style="color:red">{{ form.staff_member.errors|striptags }}</div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="col-sm-3 control-label" for="absence_type">Absence type</label>
+            <div class="col-sm-9">
+                <select class="form-control" name="absence_type" id="absence_type">
+                    <option value="" disabled selected></option>
+                    {% for x, y in form.fields.absence_type.choices %}
+                        {% if x %}
+                            <option value="{{ x }}"{% if form.absence_type.value|to_int == x %} selected{% endif %}>{{ y }}</option>
+                        {% endif %}
+                    {% endfor %}
+                </select>
+            </div>
+            {% if form.absence_type.errors %}
+                <div class="col-sm-9 col-sm-offset-3" style="color:red">{{ form.absence_type.errors|striptags }}</div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="col-sm-3 control-label" for="start_date">Start</label>
+            <div class="col-sm-4">
+                <input type="text"
+                       class="form-control text-center"
+                       name="start_date"
+                       id="start_date"
+                       value="{{ form.start_date.value|input_date_format }}"
+                       required>
+            </div>
+            <label class="col-sm-1 control-label" for="end_date">End</label>
+            <div class="col-sm-4">
+                <input type="text"
+                       class="form-control text-center"
+                       name="end_date"
+                       id="end_date"
+                       value="{{ form.end_date.value|input_date_format }}"
+                       required>
+            </div>
+            {% if form.start_date.errors or form.end_date.errors %}
+                <div class="col-sm-4 col-sm-offset-3">
+                    {% if form.start_date.errors %}<span style="color:red">{{ form.start_date.errors|striptags }}</span>{% endif %}
+                </div>
+                <div class="col-sm-4 col-sm-offset-1">
+                    {% if form.end_date.errors %}<span style="color:red">{{ form.end_date.errors|striptags }}</span>{% endif %}
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="col-sm-3 control-label">All day</label>
+            <div class="col-sm-9">
+                <div class="checkbox">
+                    <label>
+                        <input id="full_day" name="full_day" type="checkbox" {% if form.full_day.value %}checked{% endif %}>
+                        {{ form.full_day.help_text }}
+                    </label>
+                </div>
+            </div>
+            {% if form.full_day.errors %}
+                <div class="col-sm-9 col-sm-offset-3" style="color:red">{{ form.full_day.errors|striptags }}</div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="col-sm-3 control-label" for="absence_description">Description</label>
+            <div class="col-sm-9">
+                <textarea class="form-control" oninput="auto_size_textarea(this)" id="absence_description" name="description">{{ form.description.value|default_if_none:'' }}</textarea>
+            </div>
+            <div class="col-sm-9 col-sm-offset-3 italic" style="font-size: x-small">{{ form.description.help_text }}</div>
+            {% if form.description.errors %}
+                <div class="col-sm-9 col-sm-offset-3" style="color:red">{{ form.description.errors|striptags }}</div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="col-sm-3 control-label" for="manager_note">Manager note</label>
+            <div class="col-sm-9">
+                <textarea class="form-control" oninput="auto_size_textarea(this)" id="manager_note" name="manager_note">{{ form.manager_note.value|default_if_none:'' }}</textarea>
+            </div>
+            <div class="col-sm-9 col-sm-offset-3 italic" style="font-size: x-small">{{ form.manager_note.help_text }}</div>
+            {% if form.manager_note.errors %}
+                <div class="col-sm-9 col-sm-offset-3" style="color:red">{{ form.manager_note.errors|striptags }}</div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            {% if form.instance.pk %}
+                <div class="col-sm-5 col-sm-offset-3 text-left">
+                    {% url 'delete_staff_absence' form.instance.pk as delete_staff_absence_url %}
+                    {% button type="delete" value="Delete" url=delete_staff_absence_url|concat:"?timestamp="|concat:page_timestamp %}
+                </div>
+            {% endif %}
+            <div class="text-right {% if form.instance.pk %}col-sm-4{% else %}col-sm-12{% endif %}">
+                {% button type="save" submit=False onclick="submit_form(this.form)" value=form.instance.pk|yesno:"Save changes,Create staff absence" %}
             </div>
-        {% endif %}
-        <div class="text-right {% if form.instance.pk %}col-sm-4{% else %}col-sm-12{% endif %}">
-            {% button type="save" submit=False onclick="submit_form(this.form)" value=form.instance.pk|yesno:"Save changes,Create staff absence"%}
         </div>
-    </div>
-</form>
-<script>
+    </form>
+    <script>
     function absence_callback(response, status, xml_http_request)
     {
         if(response)
         {
             $("#dialog .modal-content").html(response);
             $("#dialog").modal('show');
         }
@@ -144,9 +170,9 @@
     };
     set_start_end_datetime_pickers($('#start_date'), $('#end_date'), timepicker_properties);
     $("#dialog").one('shown.bs.modal', function()
     {
         auto_size_textarea(document.getElementById('absence_description'));
         auto_size_textarea(document.getElementById('manager_note'));
     });
-</script>
-{% endblock %}
+    </script>
+{% endblock %}
```

## NEMO/templates/status_dashboard/status_dashboard.html

```diff
@@ -1,56 +1,75 @@
 {% extends 'base.html' %}
 {% block title %}{{ status_dashboard_page_title }}{% endblock %}
 {% load static %}
 {% block extrahead %}
     {# We need this for staff absence form popup #}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
-
-	<h1 class="pull-left"
-		style="margin-right:20px; margin-top:0; margin-bottom:0">{{ status_dashboard_page_title }}</h1>
-<ul class="nav nav-pills" id="tabs" {% if no_header %}style="display:none"{% endif %}>
-    {% if areas_exist %}<li {% if tab == 'occupancy' %}class="active"{% endif %}><a href="#occupancy">Area occupancy</a></li>{% endif %}
-    {% if tools_exist %}<li {% if tab == 'tools' %}class="active"{% endif %}><a href="#tools">Tool status & usage</a></li>{% endif %}
-    {% if show_staff_status %}<li {% if tab == 'staff' %}class="active"{% endif %}><a id="staff_link" href="#staff">Staff status</a></li>{% endif %}
-</ul>
-
-<div id="content" class="tab-content" style="padding-top:10px">
-	<div class="tab-pane{% if areas_exist and tab == 'occupancy' %} active{% endif %}" id="occupancy">
-		{% include 'status_dashboard/occupancy.html' %}
-	</div>
-	<div class="tab-pane{% if tools_exist and tab == 'tools' %} active{% endif %} info-tooltip-container" id="tools">
-		<div class="btn-group sidebar-item">
-			<button id="filter" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" {% if no_header %}style="display:none;"{% endif %}>
-				Showing tools in use
-				<span class="caret"></span>
-			</button>
-			<ul class="dropdown-menu">
-				<li class="dropdown-header">Filter by...</li>
-				<li><a href="javascript:void(0)" onclick="filter('all tools')">All tools</a></li>
-				<li><a href="javascript:void(0)" onclick="filter('tools in use')">Tools in use</a></li>
-				<li><a href="javascript:void(0)" onclick="filter('problematic tools')">Problematic tools</a></li>
-				<li><a href="javascript:void(0)" onclick="filter('idle tools')">Idle tools</a></li>
-			</ul>
-		</div>
-		<p>
-		<div id="tool_status_table">
-			{% include 'status_dashboard/tools.html' %}
-		</div>
-	</div>
-    {% if show_staff_status %}
-        <div class="tab-pane{% if tab == 'staff' %} active{% endif %}" id="staff">
-            {% include 'status_dashboard/staff.html' %}
+    <h1 class="pull-left" style="margin-right:20px; margin-top:0; margin-bottom:0">{{ status_dashboard_page_title }}</h1>
+    <ul class="nav nav-pills" id="tabs" {% if no_header %}style="display:none"{% endif %}>
+        {% if areas_exist %}
+            <li {% if tab == 'occupancy' %}class="active"{% endif %}>
+                <a href="#occupancy">Area occupancy</a>
+            </li>
+        {% endif %}
+        {% if tools_exist %}
+            <li {% if tab == 'tools' %}class="active"{% endif %}>
+                <a href="#tools">Tool status & usage</a>
+            </li>
+        {% endif %}
+        {% if show_staff_status %}
+            <li {% if tab == 'staff' %}class="active"{% endif %}>
+                <a id="staff_link" href="#staff">Staff status</a>
+            </li>
+        {% endif %}
+    </ul>
+    <div id="content" class="tab-content" style="padding-top:10px">
+        <div class="tab-pane{% if areas_exist and tab == 'occupancy' %} active{% endif %}" id="occupancy">
+            {% include 'status_dashboard/occupancy.html' %}
         </div>
-    {% endif %}
-</div>
-
-<script>
+        <div class="tab-pane{% if tools_exist and tab == 'tools' %} active{% endif %} info-tooltip-container"
+             id="tools">
+            <div class="btn-group sidebar-item">
+                <button id="filter"
+                        type="button"
+                        class="btn btn-default dropdown-toggle"
+                        data-toggle="dropdown"
+                        {% if no_header %}style="display:none;"{% endif %}>
+                    Showing tools in use
+                    <span class="caret"></span>
+                </button>
+                <ul class="dropdown-menu">
+                    <li class="dropdown-header">Filter by...</li>
+                    <li>
+                        <a href="javascript:void(0)" onclick="filter('all tools')">All tools</a>
+                    </li>
+                    <li>
+                        <a href="javascript:void(0)" onclick="filter('tools in use')">Tools in use</a>
+                    </li>
+                    <li>
+                        <a href="javascript:void(0)" onclick="filter('problematic tools')">Problematic tools</a>
+                    </li>
+                    <li>
+                        <a href="javascript:void(0)" onclick="filter('idle tools')">Idle tools</a>
+                    </li>
+                </ul>
+            </div>
+            <p>
+                <div id="tool_status_table">{% include 'status_dashboard/tools.html' %}</div>
+            </div>
+            {% if show_staff_status %}
+                <div class="tab-pane{% if tab == 'staff' %} active{% endif %}" id="staff">
+                    {% include 'status_dashboard/staff.html' %}
+                </div>
+            {% endif %}
+        </div>
+        <script>
     let staff_status_parameters = "timestamp={{ page_timestamp }}&view={{ page_view }}";
 	function on_load()
 	{
         {# load everything asynchronously. especially tools tab since it takes a bit longer to load #}
         $("#tool_status_table").load("{% url 'status_dashboard' %}?interest=tools", hide_spinner);
         refresh_staff_status_dashboard();
         refresh_status_dashboard();
@@ -149,10 +168,9 @@
 		else if(show === "tools in use")
 			set_style('.in_use { display: table-row; } .idle { display: none; }');
 		else if(show === "problematic tools")
 			set_style('.problematic { display: table-row } .healthy { display: none; }');
 		else if(show === "idle tools")
 			set_style('.idle { display: table-row; } .in_use { display: none; }');
 	}
-</script>
-
-{% endblock %}
+        </script>
+    {% endblock %}
```

## NEMO/templates/status_dashboard/tools.html

```diff
@@ -1,66 +1,75 @@
 <p>
-	Staff members are highlighted in <span class="bg-success">&nbsp;green&nbsp;</span><br>
-	Service personnel are highlighted in <span class="bg-warning">&nbsp;orange&nbsp;</span><br>
+    Staff members are highlighted in <span class="bg-success">&nbsp;green&nbsp;</span>
+    <br>
+    Service personnel are highlighted in <span class="bg-warning">&nbsp;orange&nbsp;</span>
+    <br>
 </p>
 <table class="table table-bordered table-condensed">
-	<thead>
-	<tr>
-		<th>Tool</th>
-		<th>User</th>
-		<th>In use since...</th>
-	</tr>
-	</thead>
-	<tbody>
-	{% for tool in tool_summary %}
-		<tr class="{% if tool.operator_is_any_part_of_staff %}success {% elif tool.operator_is_service_personnel %}warning {% endif %}{% if tool.problematic or not tool.operational or tool.required_resource_is_unavailable or tool.nonrequired_resource_is_unavailable %}problematic{% else %}healthy{% endif %} {% if tool.in_use %}in_use{% else %}idle{% endif %}">
-			<td>
-				{{ tool.get_tool_info_html|safe }}
-				{# Output the state of the tool, summarizing any associated problems. #}
-				{% if tool.in_use %}
-					<span class="glyphicon glyphicon-user primary-highlight" title="{{ tool.user }} is using this tool"></span>
-				{% endif %}
-				{% if tool.delayed_logoff_in_progress %}
-					<span class="glyphicon glyphicon-time primary-highlight" title="Delayed logoff is in effect for this tool"></span>
-				{% endif %}
-				{% if tool.scheduled_outage %}
-					<span class="glyphicon glyphicon-time danger-highlight" title="A scheduled outage is in effect for this tool"></span>
-				{% endif %}
-				{% if tool.scheduled_partial_outage %}
-					<span class="glyphicon glyphicon-time warning-highlight" title="An optional resource for this tool has an outage in effect"></span>
-				{% endif %}
-				{% if tool.problematic %}
-					<span class="glyphicon glyphicon-wrench warning-highlight" title="This tool requires maintenance"></span>
-				{% endif %}
-				{% if tool.operational == False %}
-					<span class="glyphicon glyphicon-fire danger-highlight" title="This tool is shut down"></span>
-				{% endif %}
-				{% if tool.required_resource_is_unavailable %}
-					<span class="glyphicon glyphicon-leaf danger-highlight" title="This tool is unavailable because a required resource is unavailable"></span>
-				{% endif %}
-				{% if tool.nonrequired_resource_is_unavailable %}
-					<span class="glyphicon glyphicon-leaf warning-highlight" title="This tool is operating in a diminished capacity because an optional resource is unavailable"></span>
-				{% endif %}
-			</td>
-			{% if tool.in_use %}
-				{# Output the operator & user of the tool. If the person viewing this page is a staff member, then also allow them to force the operator off the tool. #}
-				<td>
-					{% if user.is_staff or user.is_user_office %}
-						<span class="glyphicon glyphicon-remove-circle grey pointer" onclick="force_user_off_of_tool('{% url 'disable_tool' tool.id %}')" title="Force {{ tool.operator }} to stop using the {{ tool.name }}"></span>
-					{% endif %}
-					{{ tool.user }}
-				</td>
-				<td>{{ tool.in_use_since|date:"MONTH_DAY_FORMAT" }} @ {{ tool.in_use_since|time }}</td>
-			{% else %}
-				<td aria-label="No user"></td>
-				<td aria-label="Not in use"></td>
-			{% endif %}
-		</tr>
-	{% endfor %}
-	</tbody>
+    <thead>
+        <tr>
+            <th>Tool</th>
+            <th>User</th>
+            <th>In use since...</th>
+        </tr>
+    </thead>
+    <tbody>
+        {% for tool in tool_summary %}
+            <tr class="{% if tool.operator_is_any_part_of_staff %}success {% elif tool.operator_is_service_personnel %}warning {% endif %}{% if tool.problematic or not tool.operational or tool.required_resource_is_unavailable or tool.nonrequired_resource_is_unavailable %}problematic{% else %}healthy{% endif %} {% if tool.in_use %}in_use{% else %}idle{% endif %}">
+                <td>
+                    {{ tool.get_tool_info_html|safe }}
+                    {# Output the state of the tool, summarizing any associated problems. #}
+                    {% if tool.in_use %}
+                        <span class="glyphicon glyphicon-user primary-highlight" title="{{ tool.user }} is using this tool"></span>
+                    {% endif %}
+                    {% if tool.delayed_logoff_in_progress %}
+                        <span class="glyphicon glyphicon-time primary-highlight"
+                              title="Delayed logoff is in effect for this tool"></span>
+                    {% endif %}
+                    {% if tool.scheduled_outage %}
+                        <span class="glyphicon glyphicon-time danger-highlight"
+                              title="A scheduled outage is in effect for this tool"></span>
+                    {% endif %}
+                    {% if tool.scheduled_partial_outage %}
+                        <span class="glyphicon glyphicon-time warning-highlight"
+                              title="An optional resource for this tool has an outage in effect"></span>
+                    {% endif %}
+                    {% if tool.problematic %}
+                        <span class="glyphicon glyphicon-wrench warning-highlight" title="This tool requires maintenance"></span>
+                    {% endif %}
+                    {% if tool.operational == False %}
+                        <span class="glyphicon glyphicon-fire danger-highlight" title="This tool is shut down"></span>
+                    {% endif %}
+                    {% if tool.required_resource_is_unavailable %}
+                        <span class="glyphicon glyphicon-leaf danger-highlight"
+                              title="This tool is unavailable because a required resource is unavailable"></span>
+                    {% endif %}
+                    {% if tool.nonrequired_resource_is_unavailable %}
+                        <span class="glyphicon glyphicon-leaf warning-highlight"
+                              title="This tool is operating in a diminished capacity because an optional resource is unavailable"></span>
+                    {% endif %}
+                </td>
+                {% if tool.in_use %}
+                    {# Output the operator & user of the tool. If the person viewing this page is a staff member, then also allow them to force the operator off the tool. #}
+                    <td>
+                        {% if user.is_staff or user.is_user_office %}
+                            <span class="glyphicon glyphicon-remove-circle grey pointer"
+                                  onclick="force_user_off_of_tool('{% url 'disable_tool' tool.id %}')"
+                                  title="Force {{ tool.operator }} to stop using the {{ tool.name }}"></span>
+                        {% endif %}
+                        {{ tool.user }}
+                    </td>
+                    <td>{{ tool.in_use_since|date:"MONTH_DAY_FORMAT" }} @ {{ tool.in_use_since|time }}</td>
+                {% else %}
+                    <td aria-label="No user"></td>
+                    <td aria-label="Not in use"></td>
+                {% endif %}
+            </tr>
+        {% endfor %}
+    </tbody>
 </table>
 <script>
     $(".tool-info-tooltip").on('click', function () {
         let tooltip_class = $(this).data("tooltip-id");
         {# Remove other tool tooltips except for the tool we clicked on #}
         $("#tools .tooltip").not('.'+tooltip_class).remove();
         {# Check if current tool tooltip is open #}
@@ -72,8 +81,8 @@
         else
         {
             {# Set up new tooltip #}
             $(this).tooltip({template: '<div class="tooltip '+tooltip_class+'" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>', trigger: 'manual', html: 'true', container: '#tools'}).tooltip("show");
         }
     });
     $("[data-toggle='tooltip']").tooltip({html: 'true'});
-</script>
+</script>
```

## NEMO/templates/tasks/resolve.html

```diff
@@ -1,56 +1,57 @@
 {% extends 'base.html' %}
 {% load humanize %}
 {% load static %}
 {% load custom_tags_and_filters %}
 {% block title %}Resolve task{% endblock %}
 {% block content %}
-	<h1>{{ task.tool.name }} task</h1>
-	<span style="color:grey">Created by {{ task.creator }} on {{ task.creation_time }} ({{ task.creation_time|naturaltime }}).</span>
-	<p>
-		{% if task.last_updated and task.last_updated_by %}
-			<span style="color:grey">Last updated by {{ task.last_updated_by }} on {{ task.last_updated }} ({{ task.last_updated|naturaltime }}).</span>
-		{% endif %}
-	</p>
-
-	<div class="row">
-		<div class="col-md-5">
-			<h4>Resolve the task</h4>
-			<form action="{% url 'update_task' task.id %}" method="post">
-				{% csrf_token %}
-				<input type="hidden" name="tool" value="{{ task.tool_id }}">
-				<input type="hidden" name="action" value="resolve">
-				<input type="hidden" name="urgency" value="{{ task.urgency }}">
-				<input type="hidden" name="problem_category" value="{{ task.problem_category_id|default_if_none:'' }}">
-				<input type="hidden" name="estimated_resolution_time" value="{{ estimated_resolution_time|input_date_format }}">
-				<input type="hidden" name="force_shutdown" value="{{ task.force_shutdown }}">
-				<input type="hidden" name="safety_hazard" value="{{ task.safety_hazard }}">
-				<div class="form-group">
-					<label for="description">Please describe any actions taken to resolve this task. This information will be kept in order to analyze long-term trends in {{ facility_name }} maintenance.</label>
-					<textarea id="description" name="description" class="form-control" rows="3"></textarea>
-				</div>
-				{% if categories %}
-					<div class="form-group">
-						<label for="resolution_category">Please select a classification that best describes how this problem was fixed. If no classification is appropriate then leave this field blank.</label>
-						<select id="resolution_category" name="resolution_category" class="form-control">
-							<option value="">&nbsp;</option>
-							{% for c in categories %}
-								<option value="{{ c.id }}">{{ c.name }}</option>
-							{% endfor %}
-						</select>
-					</div>
-				{% endif %}
-				<div class="form-group">
-                    {% button type="save" value="Resolve" %}
-				</div>
-			</form>
-		</div>
-		<div class="col-md-6 col-md-offset-1">
-			<h4>Problem description</h4>
-			{{ task.problem_description|linebreaksbr }}
-			{% if task.progress_description %}
-				<h4>Progress</h4>
-				{{ task.progress_description|linebreaksbr }}
-			{% endif %}
-		</div>
-	</div>
-{% endblock %}
+    <h1>{{ task.tool.name }} task</h1>
+    <span style="color:grey">Created by {{ task.creator }} on {{ task.creation_time }} ({{ task.creation_time|naturaltime }}).</span>
+    <p>
+        {% if task.last_updated and task.last_updated_by %}
+            <span style="color:grey">Last updated by {{ task.last_updated_by }} on {{ task.last_updated }} ({{ task.last_updated|naturaltime }}).</span>
+        {% endif %}
+    </p>
+    <div class="row">
+        <div class="col-md-5">
+            <h4>Resolve the task</h4>
+            <form action="{% url 'update_task' task.id %}" method="post">
+                {% csrf_token %}
+                <input type="hidden" name="tool" value="{{ task.tool_id }}">
+                <input type="hidden" name="action" value="resolve">
+                <input type="hidden" name="urgency" value="{{ task.urgency }}">
+                <input type="hidden" name="problem_category" value="{{ task.problem_category_id|default_if_none:'' }}">
+                <input type="hidden"
+                       name="estimated_resolution_time"
+                       value="{{ estimated_resolution_time|input_date_format }}">
+                <input type="hidden" name="force_shutdown" value="{{ task.force_shutdown }}">
+                <input type="hidden" name="safety_hazard" value="{{ task.safety_hazard }}">
+                <div class="form-group">
+                    <label for="description">
+                        Please describe any actions taken to resolve this task. This information will be kept in order to analyze long-term trends in {{ facility_name }} maintenance.
+                    </label>
+                    <textarea id="description" name="description" class="form-control" rows="3"></textarea>
+                </div>
+                {% if categories %}
+                    <div class="form-group">
+                        <label for="resolution_category">
+                            Please select a classification that best describes how this problem was fixed. If no classification is appropriate then leave this field blank.
+                        </label>
+                        <select id="resolution_category" name="resolution_category" class="form-control">
+                            <option value="">&nbsp;</option>
+                            {% for c in categories %}<option value="{{ c.id }}">{{ c.name }}</option>{% endfor %}
+                        </select>
+                    </div>
+                {% endif %}
+                <div class="form-group">{% button type="save" value="Resolve" %}</div>
+            </form>
+        </div>
+        <div class="col-md-6 col-md-offset-1">
+            <h4>Problem description</h4>
+            {{ task.problem_description|linebreaksbr }}
+            {% if task.progress_description %}
+                <h4>Progress</h4>
+                {{ task.progress_description|linebreaksbr }}
+            {% endif %}
+        </div>
+    </div>
+{% endblock %}
```

## NEMO/templates/tasks/update.html

```diff
@@ -1,115 +1,131 @@
 {% extends 'base.html' %}
 {% load humanize %}
 {% load static %}
 {% load custom_tags_and_filters %}
 {% block title %}Update task{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
-	<h1>{{ task.tool.name }} task</h1>
-	<span style="color:grey">Created by {{ task.creator }} on {{ task.creation_time }} ({{ task.creation_time|naturaltime }}).</span>
-	<p>
-		{% if task.last_updated and task.last_updated_by %}
-			<span style="color:grey">Last updated by {{ task.last_updated_by }} on {{ task.last_updated }} ({{ task.last_updated|naturaltime }}).</span>
-		{% endif %}
-	</p>
-
-	<div class="row">
-		<div class="col-md-5">
-			<h4>Update the task</h4>
-			<form action="{% url 'update_task' task.id %}" method="post" enctype="multipart/form-data">
-				{% csrf_token %}
-				<input type="hidden" name="tool" value="{{ task.tool.id }}">
-				<input type="hidden" name="action" value="update">
-				<div class="form-group">
-					<label class="control-label" for="urgency">
-						Would you like to change the urgency of this task? This will help staff prioritize tasks in the {{ facility_name }}.
-					</label>
-					<select name="urgency" id="urgency" class="form-control">
-						{% for level in urgency %}
-							<option value="{{ level.0 }}" {% if task.urgency == level.0 %}selected{% endif %}>{{ level.1 }}</option>
-						{% endfor %}
-					</select>
-				</div>
-				{% if categories %}
-					<div class="form-group">
-						<label class="control-label" for="problem_category">
-							Would you like to change this task's initial classification to more accurately reflect the nature of the problem? Proper classification helps the staff analyze long-term maintenance trends.
-						</label>
-						<select name="problem_category" id="problem_category" class="form-control">
-							<option value="">&nbsp;</option>
-							{% for c in categories %}
-								<option value="{{ c.id }}" {% if task.problem_category_id == c.id %}selected{% endif %}>{{ c.name }}</option>
-							{% endfor %}
-						</select>
-					</div>
-				{% endif %}
-				{% if task_statuses %}
-					<div class="form-group">
-						<label class="control-label" for="status">
-							What is the status of the task?
-						</label>
-						<select name="status" id="status" class="form-control">
-							<option value="">&nbsp;</option>
-							{% for s in task_statuses %}
-								<option {% if task.current_status == s.name %}selected{% endif %}>{{ s.name }}</option>
-							{% endfor %}
-						</select>
-					</div>
-				{% endif %}
-				<div class="form-group">
-					<label for="resolution_time" class="control-label">When do you think the problem will be resolved? Leave this field blank if it's difficult to predict.</label>
-					<input id="resolution_time" name="estimated_resolution_time" type="text" class="form-control" autocomplete="off" value="{{ estimated_resolution_time|input_date_format }}">
-					<script>
+    <h1>{{ task.tool.name }} task</h1>
+    <span style="color:grey">Created by {{ task.creator }} on {{ task.creation_time }} ({{ task.creation_time|naturaltime }}).</span>
+    <p>
+        {% if task.last_updated and task.last_updated_by %}
+            <span style="color:grey">Last updated by {{ task.last_updated_by }} on {{ task.last_updated }} ({{ task.last_updated|naturaltime }}).</span>
+        {% endif %}
+    </p>
+    <div class="row">
+        <div class="col-md-5">
+            <h4>Update the task</h4>
+            <form action="{% url 'update_task' task.id %}" method="post" enctype="multipart/form-data">
+                {% csrf_token %}
+                <input type="hidden" name="tool" value="{{ task.tool.id }}">
+                <input type="hidden" name="action" value="update">
+                <div class="form-group">
+                    <label class="control-label" for="urgency">
+                        Would you like to change the urgency of this task? This will help staff prioritize tasks in the {{ facility_name }}.
+                    </label>
+                    <select name="urgency" id="urgency" class="form-control">
+                        {% for level in urgency %}
+                            <option value="{{ level.0 }}" {% if task.urgency == level.0 %}selected{% endif %}>{{ level.1 }}</option>
+                        {% endfor %}
+                    </select>
+                </div>
+                {% if categories %}
+                    <div class="form-group">
+                        <label class="control-label" for="problem_category">
+                            Would you like to change this task's initial classification to more accurately reflect the nature of the problem? Proper classification helps the staff analyze long-term maintenance trends.
+                        </label>
+                        <select name="problem_category" id="problem_category" class="form-control">
+                            <option value="">&nbsp;</option>
+                            {% for c in categories %}
+                                <option value="{{ c.id }}" {% if task.problem_category_id == c.id %}selected{% endif %}>{{ c.name }}</option>
+                            {% endfor %}
+                        </select>
+                    </div>
+                {% endif %}
+                {% if task_statuses %}
+                    <div class="form-group">
+                        <label class="control-label" for="status">What is the status of the task?</label>
+                        <select name="status" id="status" class="form-control">
+                            <option value="">&nbsp;</option>
+                            {% for s in task_statuses %}
+                                <option {% if task.current_status == s.name %}selected{% endif %}>{{ s.name }}</option>
+                            {% endfor %}
+                        </select>
+                    </div>
+                {% endif %}
+                <div class="form-group">
+                    <label for="resolution_time" class="control-label">
+                        When do you think the problem will be resolved? Leave this field blank if it's difficult to predict.
+                    </label>
+                    <input id="resolution_time"
+                           name="estimated_resolution_time"
+                           type="text"
+                           class="form-control"
+                           autocomplete="off"
+                           value="{{ estimated_resolution_time|input_date_format }}">
+                    <script>
 						let timepicker_properties =
 						{
                             format: "{{ datetime_input_js_format }}",
 							sideBySide: true,
 							showClose: true
 						};
 						$('#resolution_time').datetimepicker(timepicker_properties);
-					</script>
-				</div>
-				<div class="form-group">
-					<div class="checkbox"><label><input type="checkbox" name="force_shutdown" {% if task.force_shutdown %}checked{% endif %}> This task requires the {{ task.tool.name }} to be shutdown</label></div>
-					<div class="checkbox"><label><input type="checkbox" name="safety_hazard" {% if task.safety_hazard %}checked{% endif %}> This task is considered a potential safety hazard to the {{ facility_name }}</label></div>
-				</div>
-				<div class="form-group">
-					<label for="description">Please describe any actions being taken to resolve this task. This information will be visible to all users in order to keep everyone apprised of the tool's status.</label>
-					<textarea name="description" id="description" class="form-control" rows="3"></textarea>
-				</div>
-				{% if task.task_images %}
-					<div>images:
-						<ul>
-							{% for image in task.task_images %}
-								<li><a href="{{ image.image.url }}" target="_blank" style="margin-right: 5px">{{ image.filename }}</a></li>
-							{% endfor %}
-						</ul>
-					</div>
-				{% endif %}
-				<div class="form-group">
-					<input id="fileupload" type="file" name="image" multiple>
-				</div>
-				<div class="form-group">
-                    {% button type="save" value="Update" %}
-				</div>
-			</form>
-		</div>
-		<div class="col-md-6 col-md-offset-1">
-			<h4>Problem description</h4>
-			{{ task.problem_description|linebreaksbr }}
-
-			{% if task.progress_description %}
-				<h4>Progress</h4>
-				{{ task.progress_description|linebreaksbr }}
-			{% endif %}
-
-			{% if rendered_configuration_html %}
-				<h4>Configuration</h4>
-				{{ rendered_configuration_html }}
-			{% endif %}
-		</div>
-	</div>
-{% endblock %}
+					
+                    </script>
+                </div>
+                <div class="form-group">
+                    <div class="checkbox">
+                        <label>
+                            <input type="checkbox" name="force_shutdown" {% if task.force_shutdown %}checked{% endif %}>
+                            This task requires the {{ task.tool.name }} to be shutdown
+                        </label>
+                    </div>
+                    <div class="checkbox">
+                        <label>
+                            <input type="checkbox" name="safety_hazard" {% if task.safety_hazard %}checked{% endif %}>
+                            This task is considered a potential safety hazard to the {{ facility_name }}
+                        </label>
+                    </div>
+                </div>
+                <div class="form-group">
+                    <label for="description">
+                        Please describe any actions being taken to resolve this task. This information will be visible to all users in order to keep everyone apprised of the tool's status.
+                    </label>
+                    <textarea name="description" id="description" class="form-control" rows="3"></textarea>
+                </div>
+                {% if task.task_images %}
+                    <div>
+                        images:
+                        <ul>
+                            {% for image in task.task_images %}
+                                <li>
+                                    <a href="{{ image.image.url }}" target="_blank" style="margin-right: 5px">{{ image.filename }}</a>
+                                </li>
+                            {% endfor %}
+                        </ul>
+                    </div>
+                {% endif %}
+                <div class="form-group">
+                    <input id="fileupload" type="file" name="image" multiple>
+                </div>
+                <div class="form-group">{% button type="save" value="Update" %}</div>
+            </form>
+        </div>
+        <div class="col-md-6 col-md-offset-1">
+            <h4>Problem description</h4>
+            {{ task.problem_description|linebreaksbr }}
+            {% if task.progress_description %}
+                <h4>Progress</h4>
+                {{ task.progress_description|linebreaksbr }}
+            {% endif %}
+            {% if rendered_configuration_html %}
+                <h4>Configuration</h4>
+                {{ rendered_configuration_html }}
+            {% endif %}
+        </div>
+    </div>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,12 +1,12 @@
 {% extends 'base.html' %} {% load humanize %} {% load static %} {% load
 custom_tags_and_filters %} {% block title %}Update task{% endblock %} {% block
 extrahead %}
 }">
-}"/> {% endblock %} {% block content %}
+}" /> {% endblock %} {% block content %}
 ************ {{{{ ttaasskk..ttooooll..nnaammee }}}} ttaasskk ************
 Created by {{ task.creator }} on {{ task.creation_time }} ({
 { task.creation_time|naturaltime }}).
 {% if task.last_updated and task.last_updated_by %} Last updated by {
 { task.last_updated_by }} on {{ task.last_updated }} ({
 { task.last_updated|naturaltime }}). {% endif %}
 ****** UUppddaattee tthhee ttaasskk ******
```

## NEMO/templates/tool_control/get_projects.html

```diff
@@ -1,22 +1,25 @@
 {% load custom_tags_and_filters %}
 {% if active_projects|length == 0 %}
-	This user is not assigned to any active projects.<br>
-	A user must be a member of at least one active project to operate a tool.
+    This user is not assigned to any active projects.
+    <br>
+    A user must be a member of at least one active project to operate a tool.
 {% elif active_projects|length == 1 %}
-	<h4>Tool usage will be billed to the project named &quot;{{ active_projects.0 }}&quot;.</h4>
-	<input type="hidden" id="project_id" value="{{ active_projects.0.id }}">
-	<script>
+    <h4>Tool usage will be billed to the project named &quot;{{ active_projects.0 }}&quot;.</h4>
+    <input type="hidden" id="project_id" value="{{ active_projects.0.id }}">
+    <script>
         $("#pre_usage_questions").show();
         $("#start").show();
-	</script>
+	
+    </script>
 {% else %}
-	<h4>Charge tool usage to which project?</h4>
-	<div class="list-group" style="display:table">
-		{% for p in active_projects %}
-			<a href="javascript:void(0)" class="list-group-item project-choice" onclick="select_project(this, {{ p.id }})">{% project_selection_display p %}</a>
-		{% endfor %}
-	</div>
-	<input type="hidden" id="project_id">
+    <h4>Charge tool usage to which project?</h4>
+    <div class="list-group" style="display:table">
+        {% for p in active_projects %}
+            <a href="javascript:void(0)"
+               class="list-group-item project-choice"
+               onclick="select_project(this, {{ p.id }})">{% project_selection_display p %}</a>
+        {% endfor %}
+    </div>
+    <input type="hidden" id="project_id">
 {% endif %}
-
-<input type="hidden" id="user_id" value="{{ user_id }}">
+<input type="hidden" id="user_id" value="{{ user_id }}">
```

## NEMO/templates/tool_control/interlock_error.html

```diff
@@ -1,15 +1,16 @@
 <div>
     <h1 class="text-center">
-        <span style="font-size: xx-large;margin-right:10px;" class="glyphicon glyphicon-exclamation-sign danger-highlight"></span>
+        <span style="font-size: xx-large;
+                     margin-right:10px"
+              class="glyphicon glyphicon-exclamation-sign danger-highlight"></span>
         Interlock error
     </h1>
     <h3 class="interlock_message text-center" aria-label="Interlock message"></h3>
-
     <div class="modal-footer" style="text-align: center">
-        <button type="button" class="inter_bypass btn btn-success" style="display: none;" aria-label="Bypass button">
+        <button type="button" class="inter_bypass btn btn-success" style="display: none" aria-label="Bypass button">
             <span class="bypass_text"></span>
         </button>
         <button type="button" class="inter_try_again btn btn-primary">Try again</button>
         <button type="button" class="btn btn-warning" onclick="$('#dialog').modal('hide')">Cancel</button>
     </div>
-</div>
+</div>
```

## NEMO/templates/tool_control/logout_user.html

```diff
@@ -1,19 +1,18 @@
 {% load custom_tags_and_filters %}
 <div class="modal-header">
-	<button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
-	<h4 id="modal-description-label" class="modal-title">Would you like to log out of the {{ area.name }}?</h4>
+    <button type="button" class="close" data-dismiss="modal" aria-label="Modal close button">&times;</button>
+    <h4 id="modal-description-label" class="modal-title">Would you like to log out of the {{ area.name }}?</h4>
 </div>
-
 <div class="modal-body">
-    You are currently logged in the {{ area.name }}.<br>
+    You are currently logged in the {{ area.name }}.
+    <br>
     Now that you have finished using the {{ tool.name_or_child_in_use_name }}, would you
     like to also log out of the {{ area.name }}?
 </div>
-
 <div class="modal-footer">
     {% url 'self_log_out' user.id as area_logout_url %}
     {% with button_name="Log out of the "|concat:area.name onclick_js="$('#dialog').one('hidden.bs.modal', ajax_get('"|concat:area_logout_url|concat:"'));" %}
         {% button type="save" submit=False dismiss="modal" value="Continue without logging out" icon="glyphicon-time" %}
         {% button type="delete" submit=False dismiss="modal" value=button_name icon="glyphicon-stop" onclick=onclick_js %}
     {% endwith %}
-</div>
+</div>
```

## NEMO/templates/tool_control/past_tasks_and_comments.html

```diff
@@ -1,84 +1,101 @@
 {% load custom_tags_and_filters %}
-
 {% for i in past %}
-	{% if i|class_name == "Task" %}
-		<div class="media">
-			<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#past_task_{{ i.id }}_details" class="pointer">
-				{% if i.force_shutdown %}
-					<span class="glyphicon glyphicon-fire pull-left notification-icon danger-highlight" title="Click to toggle details about this task"></span>
-				{% else %}
-					<span class="glyphicon glyphicon-wrench pull-left notification-icon warning-highlight" title="Click to toggle details about this task"></span>
-				{% endif %}
-				<span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-			</a>
-			<div class="media-body">
-				{% if i.problem_category %}<h4 class="media-heading">{{ i.problem_category }}</h4>{% endif %}
-				{{ i.problem_description }}<br>
-				<div id="past_task_{{ i.id }}_details" class="collapse">
-					<span class="grey">
-						Created by {{ i.creator }} on {{ i.creation_time }}.<br>
-						{% if i.force_shutdown %}
-							The tool was shut down because of this task.<br>
-						{% endif %}
-						{% if user.is_staff %}
-							You can <a href="{% url 'task_update_form' i.id %}">reopen</a> this task if it was mistakenly resolved.
-						{% endif %}
-					</span>
-					{% if i.progress_description %}
-						<div class="media">
-							<span class="glyphicon glyphicon-info-sign pull-left notification-icon primary-highlight"></span>
-							<div class="media-body">
-								<h4 class="media-heading">Progress updates</h4>
-								{{ i.progress_description|linebreaksbr }}
-							</div>
-						</div>
-					{% endif %}
-					{% if i.task_images %}
-						<div>images:
-							<ul>
-								{% for image in i.task_images %}
-									<li><a href="{{ image.image.url }}" target="_blank" style="margin-right: 5px">{{ image.filename }}</a></li>
-								{% endfor %}
-							</ul>
-						</div>
-					{% endif %}
-					<div class="media">
-						{% if i.cancelled %}
-							<span class="glyphicon glyphicon-remove pull-left notification-icon danger-highlight"></span>
-							<div class="media-body">
-								<h4 class="media-heading">Cancelled</h4>
-								On {{ i.resolution_time }} by {{ i.resolver }}.<br>
-							</div>
-						{% elif i.resolved %}
-							<span class="glyphicon glyphicon-thumbs-up pull-left notification-icon success-highlight"></span>
-							<div class="media-body">
-								<h4 class="media-heading">Resolved <span class="grey">{{ i.resolution_category|default_if_none:"" }}</span></h4>
-								On {{ i.resolution_time }} by {{ i.resolver }}.<br>
-								{{ i.resolution_description|linebreaksbr|default_if_none:"" }}
-							</div>
-						{% endif %}
-					</div>
-				</div>
-			</div>
-		</div>
-	{% endif %}
-	{% if i|class_name == "Comment" %}
-		<div class="media">
-			<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#past_comment_{{ i.id }}_details" class="pointer">
-				<span class="glyphicon glyphicon-comment pull-left notification-icon primary-highlight"></span>
-				<span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-			</a>
-			<div class="media-body">
-				{{ i.content|linebreaksbr }}<br>
-				<div id="past_comment_{{ i.id }}_details" class="collapse grey">
-					{{ i.author }} wrote this comment on {{ i.creation_date }}.<br>
-					{% if i.hide_date %}
-						{{ i.hidden_by }} hid the comment on {{ i.hide_date }}.
-					{% endif %}
-				</div>
-			</div>
-		</div>
-	{% endif %}
+    {% if i|class_name == "Task" %}
+        <div class="media">
+            <a onclick="toggle_details(this)"
+               data-toggle="collapse"
+               data-target="#past_task_{{ i.id }}_details"
+               class="pointer">
+                {% if i.force_shutdown %}
+                    <span class="glyphicon glyphicon-fire pull-left notification-icon danger-highlight"
+                          title="Click to toggle details about this task"></span>
+                {% else %}
+                    <span class="glyphicon glyphicon-wrench pull-left notification-icon warning-highlight"
+                          title="Click to toggle details about this task"></span>
+                {% endif %}
+                <span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+            </a>
+            <div class="media-body">
+                {% if i.problem_category %}<h4 class="media-heading">{{ i.problem_category }}</h4>{% endif %}
+                {{ i.problem_description }}
+                <br>
+                <div id="past_task_{{ i.id }}_details" class="collapse">
+                    <span class="grey">
+                        Created by {{ i.creator }} on {{ i.creation_time }}.
+                        <br>
+                        {% if i.force_shutdown %}
+                            The tool was shut down because of this task.
+                            <br>
+                        {% endif %}
+                        {% if user.is_staff %}
+                            You can <a href="{% url 'task_update_form' i.id %}">reopen</a> this task if it was mistakenly resolved.
+                        {% endif %}
+                    </span>
+                    {% if i.progress_description %}
+                        <div class="media">
+                            <span class="glyphicon glyphicon-info-sign pull-left notification-icon primary-highlight"></span>
+                            <div class="media-body">
+                                <h4 class="media-heading">Progress updates</h4>
+                                {{ i.progress_description|linebreaksbr }}
+                            </div>
+                        </div>
+                    {% endif %}
+                    {% if i.task_images %}
+                        <div>
+                            images:
+                            <ul>
+                                {% for image in i.task_images %}
+                                    <li>
+                                        <a href="{{ image.image.url }}" target="_blank" style="margin-right: 5px">{{ image.filename }}</a>
+                                    </li>
+                                {% endfor %}
+                            </ul>
+                        </div>
+                    {% endif %}
+                    <div class="media">
+                        {% if i.cancelled %}
+                            <span class="glyphicon glyphicon-remove pull-left notification-icon danger-highlight"></span>
+                            <div class="media-body">
+                                <h4 class="media-heading">Cancelled</h4>
+                                On {{ i.resolution_time }} by {{ i.resolver }}.
+                                <br>
+                            </div>
+                        {% elif i.resolved %}
+                            <span class="glyphicon glyphicon-thumbs-up pull-left notification-icon success-highlight"></span>
+                            <div class="media-body">
+                                <h4 class="media-heading">
+                                    Resolved <span class="grey">{{ i.resolution_category|default_if_none:"" }}</span>
+                                </h4>
+                                On {{ i.resolution_time }} by {{ i.resolver }}.
+                                <br>
+                                {{ i.resolution_description|linebreaksbr|default_if_none:"" }}
+                            </div>
+                        {% endif %}
+                    </div>
+                </div>
+            </div>
+        </div>
+    {% endif %}
+    {% if i|class_name == "Comment" %}
+        <div class="media">
+            <a onclick="toggle_details(this)"
+               data-toggle="collapse"
+               data-target="#past_comment_{{ i.id }}_details"
+               class="pointer">
+                <span class="glyphicon glyphicon-comment pull-left notification-icon primary-highlight"></span>
+                <span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+            </a>
+            <div class="media-body">
+                {{ i.content|linebreaksbr }}
+                <br>
+                <div id="past_comment_{{ i.id }}_details" class="collapse grey">
+                    {{ i.author }} wrote this comment on {{ i.creation_date }}.
+                    <br>
+                    {% if i.hide_date %}{{ i.hidden_by }} hid the comment on {{ i.hide_date }}.{% endif %}
+                </div>
+            </div>
+        </div>
+    {% endif %}
 {% empty %}
-	No tasks or comments were created between these dates.
-{% endfor %}
+    No tasks or comments were created between these dates.
+{% endfor %}
```

### html2text {}

```diff
@@ -23,11 +23,11 @@
 ****** RReessoollvveedd {{{{ ii..rreessoolluuttiioonn__ccaatteeggoorryy||ddeeffaauulltt__iiff__nnoonnee::"""" }}}} ******
 On {{ i.resolution_time }} by {{ i.resolver }}.
 {{ i.resolution_description|linebreaksbr|default_if_none:"" }}
 {% endif %}
 {% endif %} {% if i|class_name == "Comment" %}
 {{ i.content|linebreaksbr }}
 {{ i.author }} wrote this comment on {{ i.creation_date }}.
-{% if i.hide_date %} {{ i.hidden_by }} hid the comment on {{ i.hide_date }}. {%
+{% if i.hide_date %}{{ i.hidden_by }} hid the comment on {{ i.hide_date }}.{%
 endif %}
 {% endif %} {% empty %} No tasks or comments were created between these dates.
 {% endfor %}
```

## NEMO/templates/tool_control/qualified_users.html

```diff
@@ -1,76 +1,92 @@
 {% load custom_tags_and_filters %}
-
-<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#qualified_users" class="pointer">
+<a onclick="toggle_details(this)"
+   data-toggle="collapse"
+   data-target="#qualified_users"
+   class="pointer">
     <span class="glyphicon glyphicon-user pull-left notification-icon primary-highlight"></span>
     <span class="glyphicon {% if expanded %}glyphicon-chevron-down{% else %}glyphicon-chevron-right{% endif %} pull-left chevron"></span>
 </a>
 <div class="media-body">
     <h4 class="media-heading">Qualified users</h4>
     <div id="qualified_users" class="collapse {% if expanded %}in{% endif %}">
         <p>Only qualified users are able to operate the {{ tool.name }}.</p>
-        {% if tool.grant_physical_access_level_upon_qualification %}<p class="danger-highlight">Qualifying a user for
-        this tool automatically grants them the physical access level &quot;{{ tool.grant_physical_access_level_upon_qualification }}&quot;.</p>{% endif %}
-
+        {% if tool.grant_physical_access_level_upon_qualification %}
+            <p class="danger-highlight">
+                Qualifying a user for
+                this tool automatically grants them the physical access level &quot;{{ tool.grant_physical_access_level_upon_qualification }}&quot;.
+            </p>
+        {% endif %}
         <form id="add_qualified_user_form" style="margin-bottom:10px">
             <div class="row">
                 {% if qualification_levels %}
-					<div class="col-sm-5 col-md-4 col-lg-3">
-						<div class="form-group">
-							<label class="control-label" for="qualification_level_dropdown">Qualification level</label>
-							<select id="qualification_level_dropdown" class="form-control" name="qualification_level" required>
-								{% if qualification_levels|length > 1 %}
-									<option value="" disabled selected>Select a level</option>
-								{% endif %}
-								{% for ql in qualification_levels %}
-									<option value="{{ ql.id }}">{{ ql.name }}</option>
-								{% endfor %}
-							</select>
-						</div>
-					</div>
+                    <div class="col-sm-5 col-md-4 col-lg-3">
+                        <div class="form-group">
+                            <label class="control-label" for="qualification_level_dropdown">Qualification level</label>
+                            <select id="qualification_level_dropdown" class="form-control" name="qualification_level" required>
+                                {% if qualification_levels|length > 1 %}<option value="" disabled selected>Select a level</option>{% endif %}
+                                {% for ql in qualification_levels %}<option value="{{ ql.id }}">{{ ql.name }}</option>{% endfor %}
+                            </select>
+                        </div>
+                    </div>
                 {% endif %}
                 <div class="col-sm-6 col-md-4 col-lg-4">
                     <div class="form-group">
                         <label class="control-label" for="add_qualified_user_search_box">Add a qualified user</label>
                         <div class="input-group">
-                            <input type="text" id="add_qualified_user_search_box" placeholder="Search for a user" class="form-control" required>
+                            <input type="text"
+                                   id="add_qualified_user_search_box"
+                                   placeholder="Search for a user"
+                                   class="form-control"
+                                   required>
                             <span class="input-group-btn">
-                        		<button class="btn btn-default" type="button" onclick="qualify_user()">Add</button>
-                    		</span>
+                                <button class="btn btn-default" type="button" onclick="qualify_user()">Add</button>
+                            </span>
                         </div>
                     </div>
                 </div>
             </div>
             <input type="hidden" name="chosen_tool[]" value="{{ tool.id }}">
             <input type="hidden" name="action" value="qualify">
         </form>
-
         {% if qualifications %}
-        <p>You can email <a href="{% url 'compose_email' %}?audience=tool&selection={{ tool.id }}"><span class="glyphicon glyphicon-send"></span> all qualified users</a>.</p>
-        <p>
-            Current qualified users are listed below. Inactive qualified users are <span class="strikethrough light-grey">crossed out</span>.<br>
-            {% for qualification in qualifications %}
-				{% with user=qualification.user %}
-					{% if user.is_active %}
-						<a href="javascript:remove_qualified_user('{{ user.id }}', '{{ tool.id }}')" class="grey hover-black" title="Disqualify {{ user.first_name }}">
-							<span class="glyphicon glyphicon-remove-circle"></span>
-						</a>
-						{{ user }} - {{ qualification.qualified_on|date:"SHORT_DATE_FORMAT" }}{% if qualification.qualification_level %} - {{ qualification.qualification_level.name }}{% endif %}{% if request.user.is_any_part_of_staff and qualification.training_details %} - {{ qualification.training_details }}{% endif %}
-					{% else %}
-						<a href="javascript:remove_qualified_user('{{ user.id }}', '{{ tool.id }}')" class="grey hover-black" title="Disqualify {{ user.first_name }}">
-							<span class="glyphicon glyphicon-remove-circle"></span>
-						</a>
-						 <span class="strikethrough light-grey">{{ user }} - {{ qualification.qualified_on|date:"SHORT_DATE_FORMAT" }}{% if qualification.qualification_level %} - {{ qualification.qualification_level.name }}{% endif %}</span>
-					{% endif %}
-				{% endwith %}
-            	<br>
-            {% endfor %}
-        </p>
+            <p>
+                You can email <a href="{% url 'compose_email' %}?audience=tool&selection={{ tool.id }}"><span class="glyphicon glyphicon-send"></span> all qualified users</a>.
+            </p>
+            <p>
+                Current qualified users are listed below. Inactive qualified users are <span class="strikethrough light-grey">crossed out</span>.
+                <br>
+                {% for qualification in qualifications %}
+                    {% with user=qualification.user %}
+                        {% if user.is_active %}
+                            <a href="javascript:remove_qualified_user('{{ user.id }}', '{{ tool.id }}')"
+                               class="grey hover-black"
+                               title="Disqualify {{ user.first_name }}">
+                                <span class="glyphicon glyphicon-remove-circle"></span>
+                            </a>
+                            {{ user }} - {{ qualification.qualified_on|date:"SHORT_DATE_FORMAT" }}
+                            {% if qualification.qualification_level %}- {{ qualification.qualification_level.name }}{% endif %}
+                            {% if request.user.is_any_part_of_staff and qualification.training_details %}
+                                - {{ qualification.training_details }}
+                            {% endif %}
+                        {% else %}
+                            <a href="javascript:remove_qualified_user('{{ user.id }}', '{{ tool.id }}')"
+                               class="grey hover-black"
+                               title="Disqualify {{ user.first_name }}">
+                                <span class="glyphicon glyphicon-remove-circle"></span>
+                            </a>
+                            <span class="strikethrough light-grey">{{ user }} - {{ qualification.qualified_on|date:"SHORT_DATE_FORMAT" }}
+                                {% if qualification.qualification_level %}- {{ qualification.qualification_level.name }}{% endif %}
+                            </span>
+                        {% endif %}
+                    {% endwith %}
+                    <br>
+                {% endfor %}
+            </p>
         {% else %}
-        No qualified users found.
+            No qualified users found.
         {% endif %}
     </div>
 </div>
-
 <script>
 	$('#add_qualified_user_search_box').autocomplete('users', add_qualified_user, {{ users|json_search_base }}).focus();
-</script>
+</script>
```

### html2text {}

```diff
@@ -16,17 +16,16 @@
 [                    ]Add
 {% if qualifications %}
 You can email _a_l_l_ _q_u_a_l_i_f_i_e_d_ _u_s_e_r_s.
 Current qualified users are listed below. Inactive qualified users are crossed
 out.
 {% for qualification in qualifications %} {% with user=qualification.user %} {%
 if user.is_active %} {{ user }} - {{ qualification.qualified_on|date:
-"SHORT_DATE_FORMAT" }}{% if qualification.qualification_level %} - {
-{ qualification.qualification_level.name }}{% endif %}{% if
+"SHORT_DATE_FORMAT" }} {% if qualification.qualification_level %}- {
+{ qualification.qualification_level.name }}{% endif %} {% if
 request.user.is_any_part_of_staff and qualification.training_details %} - {
-{ qualification.training_details }}{% endif %} {% else %} {{ user }} - {
-{ qualification.qualified_on|date:"SHORT_DATE_FORMAT" }}{% if
-qualification.qualification_level %} - {
-{ qualification.qualification_level.name }}{% endif %} {% endif %} {% endwith
-%}
+{ qualification.training_details }} {% endif %} {% else %} {{ user }} - {
+{ qualification.qualified_on|date:"SHORT_DATE_FORMAT" }} {% if
+qualification.qualification_level %}- {{ qualification.qualification_level.name
+}}{% endif %} {% endif %} {% endwith %}
 {% endfor %}
 {% else %} No qualified users found. {% endif %}
```

## NEMO/templates/tool_control/tool_control.html

```diff
@@ -1,50 +1,70 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}{{ tool_control_page_title }}{% endblock %}
 {% block extrahead %}
-	{% load static %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    {% load static %}
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block body %}
-<div id="main-content">
-	<style>
+    <div id="main-content">
+        <style>
 		h3
 		{
 			margin-top: 0;
 		}
-	</style>
-
-	{% if device == 'mobile' %}
-		<div id="content" class="container"></div>
-	{% else %}
-		<div id="sidebar" class="application-sidebar">
-			<div id="expand-collapse" class="btn-group sidebar-item">
-                {% if calendar_qualified_tools and not user.is_staff %}
-                    <button type="button" class="btn btn-default" style="width:50%" onclick="toggle_categories()" title="Expand/collapse all categories"><span id="expand_collapse_icon" class="glyphicon glyphicon"></span></button>
-                    <button type="button" class="btn btn-default" id="qualified_tools_btn" style="width:50%" onclick="toggle_qualified_tools(retrieve_user_qualifications())" title="Only show qualified tools"><span class="glyphicon glyphicon-check"></span></button>
-                {% else %}
-                    <button type="button" class="btn btn-default" style="width:100%" onclick="toggle_categories()" title="Expand/collapse all categories"><span id="expand_collapse_icon" class="glyphicon glyphicon"></span></button>
-                {% endif %}
-			</div>
-			<input aria-label="Search for a tool" type="search" id="item_search" placeholder="Search for a tool" class="form-control sidebar-item">
-			{{ rendered_item_tree_html }}
-			<div style="height:50px"></div>
-		</div>
-		<div id="content" class="application-content" style="padding-right: 20px; overflow-y:scroll"></div>
-		<div id="loading-div" class="application-content spinner-container" style="display: none">
-			<div class="glyphicon glyphicon-repeat normal-right-spinner"></div>
-		</div>
-	{% endif %}
-        <div id="interlock_error_contents" style="display: none">
-            {% include 'tool_control/interlock_error.html' %}
-        </div>
-
-	<script>
+	
+        </style>
+        {% if device == 'mobile' %}
+            <div id="content" class="container"></div>
+        {% else %}
+            <div id="sidebar" class="application-sidebar">
+                <div id="expand-collapse" class="btn-group sidebar-item">
+                    {% if calendar_qualified_tools and not user.is_staff %}
+                        <button type="button"
+                                class="btn btn-default"
+                                style="width:50%"
+                                onclick="toggle_categories()"
+                                title="Expand/collapse all categories">
+                            <span id="expand_collapse_icon" class="glyphicon glyphicon"></span>
+                        </button>
+                        <button type="button"
+                                class="btn btn-default"
+                                id="qualified_tools_btn"
+                                style="width:50%"
+                                onclick="toggle_qualified_tools(retrieve_user_qualifications())"
+                                title="Only show qualified tools">
+                            <span class="glyphicon glyphicon-check"></span>
+                        </button>
+                    {% else %}
+                        <button type="button"
+                                class="btn btn-default"
+                                style="width:100%"
+                                onclick="toggle_categories()"
+                                title="Expand/collapse all categories">
+                            <span id="expand_collapse_icon" class="glyphicon glyphicon"></span>
+                        </button>
+                    {% endif %}
+                </div>
+                <input aria-label="Search for a tool"
+                       type="search"
+                       id="item_search"
+                       placeholder="Search for a tool"
+                       class="form-control sidebar-item">
+                {{ rendered_item_tree_html }}
+                <div style="height:50px"></div>
+            </div>
+            <div id="content" class="application-content" style="padding-right: 20px; overflow-y:scroll"></div>
+            <div id="loading-div" class="application-content spinner-container" style="display: none">
+                <div class="glyphicon glyphicon-repeat normal-right-spinner"></div>
+            </div>
+        {% endif %}
+        <div id="interlock_error_contents" style="display: none">{% include 'tool_control/interlock_error.html' %}</div>
+        <script>
         let previous_tasks_and_comments_url;
 		function refresh_tool_status()
 		{
 			let selected_item = {% if device == 'mobile' %}{{ selected_tool }}{% else %}get_selected_item(){% endif %};
 			if(selected_item && selected_item !== 'personal_schedule')
 			{
 			    let item = JSON.parse(selected_item)
@@ -160,14 +180,26 @@
             }
             else
             {
                 ajax_failure_callback("Couldn't change tool status")(response, status, xml_http_request);
             }
         }
 
+        function enter_wait_list(tool_id)
+        {
+			let failure_dialog = ajax_failure_callback("Failed to enter the wait list", "There was a problem entering the wait list.");
+			ajax_post("{% url 'enter_wait_list' %}", { tool_id }, reload_page, failure_dialog);
+		}
+
+		function exit_wait_list(tool_id)
+        {
+			let failure_dialog = ajax_failure_callback("Failed to exit the wait list", "There was a problem exiting the wait list.");
+			ajax_post("{% url 'exit_wait_list' %}", { tool_id }, reload_page, failure_dialog);
+		}
+
 		function enable_tool(tool_id)
 		{
 			$("#start button").prop("disabled", true);
 			let user_id = parseInt($("#user_id").val());
 			let project_id = parseInt($("#project_id").val());
 			let staff_charge = false;
 			if($("input[name='staff_charge']").length > 0 && $("input[name='staff_charge']:checked").val() === 'true')
@@ -367,10 +399,11 @@
 				set_interval_when_visible(document, refresh_sidebar_tool_icons, 30000);
 			{% endif %}
 			refresh_tool_status();
 		}
 
 		$(on_load);
 
-	</script>
-</div>
+	
+        </script>
+    </div>
 {% endblock %}
```

### html2text {}

```diff
@@ -1,12 +1,12 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% block title %}{
 { tool_control_page_title }}{% endblock %} {% block extrahead %} {% load static
 %}
 }">
-}"/> {% endblock %} {% block body %}
+}" /> {% endblock %} {% block body %}
 {% if device == 'mobile' %}
 {% else %}
 {% if calendar_qualified_tools and not user.is_staff %} {% else %} {% endif %}
 [Unknown INPUT type]{{ rendered_item_tree_html }}
 {% endif %}
 {% include 'tool_control/interlock_error.html' %}
 {% endblock %}
```

## NEMO/templates/tool_control/tool_status.html

```diff
@@ -1,723 +1,974 @@
 {% load custom_tags_and_filters %}
 <div>
     {% with hide_data_history="tool"|customization:"tool_control_hide_data_history_users" %}
         {% if device == 'mobile' %}
             <h1>{{ tool.name_or_child_in_use_name }}</h1>
             <ul class="nav nav-pills" id="tabs" style="margin-bottom:10px">
-                <li style="width:48%; text-align:center" class="active"><a href="#summary" style="padding: 10px 5px">Summary</a></li>
-                <li style="width:48%; text-align:center"><a href="#details" style="padding: 10px 5px">Details</a></li>
-				{% if tool.configuration_set.exists or tool.configurationprecursor_set.exists %}
-					<li style="width:48%; text-align:center"><a href="#config" style="padding: 10px 5px"
-																onclick="load_config_history('{{ tool.id }}');">Config
-						History</a></li>{% endif %}
-                {% if has_usage_questions and not hide_data_history or has_usage_questions and user.is_any_part_of_staff %}<li style="width: 48%; text-align: center"><a href="#usage_data" style="padding: 10px 5px;" onclick="load_usage_data('{{ tool.id }}');">Usage Data History</a></li>{% endif %}
-                <li style="width:48%; text-align:center"><a href="#problem" style="padding: 10px 5px">Report a problem</a></li>
-                <li style="width:48%; text-align:center"><a href="#comment" style="padding: 10px 5px">Post a comment</a></li>
+                <li style="width:48%; text-align:center" class="active">
+                    <a href="#summary" style="padding: 10px 5px">Summary</a>
+                </li>
+                <li style="width:48%; text-align:center">
+                    <a href="#details" style="padding: 10px 5px">Details</a>
+                </li>
+                {% if tool.configuration_set.exists or tool.configurationprecursor_set.exists %}
+                    <li style="width:48%; text-align:center">
+                        <a href="#config" style="padding: 10px 5px" onclick="load_config_history('{{ tool.id }}');">Config
+                        History</a>
+                    </li>
+                {% endif %}
+                {% if has_usage_questions and not hide_data_history or has_usage_questions and user.is_any_part_of_staff %}
+                    <li style="width: 48%; text-align: center">
+                        <a href="#usage_data" style="padding: 10px 5px;" onclick="load_usage_data('{{ tool.id }}');">Usage Data History</a>
+                    </li>
+                {% endif %}
+                <li style="width:48%; text-align:center">
+                    <a href="#problem" style="padding: 10px 5px">Report a problem</a>
+                </li>
+                <li style="width:48%; text-align:center">
+                    <a href="#comment" style="padding: 10px 5px">Post a comment</a>
+                </li>
             </ul>
         {% else %}
-            <h1 class="pull-left" style="margin-right:20px; margin-top:0; margin-bottom:10px">{{ tool.name_or_child_in_use_name }}</h1>
+            <h1 class="pull-left" style="margin-right:20px; margin-top:0; margin-bottom:10px">
+                {{ tool.name_or_child_in_use_name }}
+            </h1>
             <ul class="nav nav-pills" id="tabs">
-                <li class="active"><a href="#summary">Summary</a></li>
-                <li><a href="#details">Details</a></li>
-				{% if tool.configuration_set.exists or tool.configurationprecursor_set.exists %}
-					<li><a href="#config" onclick="load_config_history('{{ tool.id }}');">Config History</a>
-					</li>{% endif %}
-                {% if has_usage_questions and not hide_data_history or has_usage_questions and user.is_any_part_of_staff %}<li><a href="#usage_data" onclick="load_usage_data('{{ tool.id }}');">Usage Data History</a></li>{% endif %}
-                <li><a href="#problem">Report a problem</a></li>
-                <li><a href="#comment">Post a comment</a></li>
+                <li class="active">
+                    <a href="#summary">Summary</a>
+                </li>
+                <li>
+                    <a href="#details">Details</a>
+                </li>
+                {% if tool.configuration_set.exists or tool.configurationprecursor_set.exists %}
+                    <li>
+                        <a href="#config" onclick="load_config_history('{{ tool.id }}');">Config History</a>
+                    </li>
+                {% endif %}
+                {% if has_usage_questions and not hide_data_history or has_usage_questions and user.is_any_part_of_staff %}
+                    <li>
+                        <a href="#usage_data" onclick="load_usage_data('{{ tool.id }}');">Usage Data History</a>
+                    </li>
+                {% endif %}
+                <li>
+                    <a href="#problem">Report a problem</a>
+                </li>
+                <li>
+                    <a href="#comment">Post a comment</a>
+                </li>
             </ul>
         {% endif %}
     {% endwith %}
 </div>
-
 <div class="tab-content">
-	<div class="tab-pane active" id="summary">
-		{% if tool.serial %}
-			<div style="float: right; font-size:x-small">s/n : {{ tool.serial| safe }}</div>
-		{% endif %}
-
-		{# Display tool status... #}
-		<div class="tool-status">
-			{% if tool.in_use %}
-				<div class="primary-highlight">
-					<span class="glyphicon glyphicon-user pull-left notification-icon"></span>
-					{% with tool.get_current_usage_event as current_usage_event %}
-						<h2>
-							{% if current_usage_event.operator.id == user.id %}
-								You are using this tool
-							{% else %}
-								<a title="Click to email this user" href="{% url 'get_email_form_for_user' current_usage_event.operator.id %}">{{ current_usage_event.operator }}</a> is using this tool
-							{% endif %}
-							{% if current_usage_event.operator.id != current_usage_event.user.id %}
-								on behalf of {{ current_usage_event.user }}
-							{% endif %}
-							for the project named {{ current_usage_event.project.name }} since {{ current_usage_event.start|date:"MONTH_DAY_FORMAT" }} @ {{ current_usage_event.start|time }}.
-						</h2>
-					{% endwith %}
-				</div>
-				{% if tool.get_current_usage_event.operator.id != user.id %}
-					{% if user.is_staff or user.is_user_office %}
-						<p>You may <a href="javascript:void(0)" onclick="disable_tool('{% url 'disable_tool' tool.id %}')">force {{ tool.get_current_usage_event.operator }} off this tool</a>.</p>
-					{% elif not tool.post_usage_questions %}
-						{% if time_left and "tool"|customization:"tool_control_ongoing_reservation_force_off" == "enabled" %}
-							<p>You may <a href="javascript:void(0)" onclick="disable_tool('{% url 'disable_tool' tool.id %}')">force {{ tool.get_current_usage_event.operator }} off this tool</a> since you have an ongoing reservation and the tool has no post usage questions.</p>
-						{% endif %}
-					{% endif %}
-				{% endif %}
-				{% if time_left and not user.is_staff %}
-					<div>
-						Your reservation for this tool will end at {{ time_left|time }}. The remainder of your reservation will be relinquished when you stop using this tool.
-					</div>
-				{% endif %}
-			{% elif tool.delayed_logoff_in_progress %}
-				{% with tool.get_delayed_logoff_usage_event as delayed_logoff_event %}
-					<div class="primary-highlight">
-						<span class="glyphicon glyphicon-time pull-left notification-icon"></span>
-						<h2>{{ delayed_logoff_event.operator }} has finished using the {{ tool.name_or_child_in_use_name }} but delayed logoff is in effect. The tool will be available at {{ delayed_logoff_event.end|time }}.</h2>
-					</div>
-				{% endwith %}
-			{% elif not tool.operational or tool.required_resource_is_unavailable or tool.scheduled_outages %}
-				<div class="danger-highlight media">
-					<span class="glyphicon glyphicon-ban-circle pull-left notification-icon"></span>
-					<h2>This tool is <strong>shut down</strong>.</h2>
-				</div>
-			{% elif tool.nonrequired_resource_is_unavailable or tool.scheduled_partial_outages %}
-				<div class="warning-highlight media">
-					<span class="glyphicon glyphicon-exclamation-sign pull-left notification-icon"></span>
-					<h2>This tool is <strong>operational</strong> but not all resources are available.</h2>
-				</div>
-			{% else %}
-				<div class="success-highlight media">
-					<span class="glyphicon glyphicon-ok pull-left notification-icon"></span>
-					<h2>This tool is <strong>operational</strong> and <strong>idle</strong>.</h2>
-				</div>
-			{% endif %}
+    <div class="tab-pane active" id="summary">
+        {% if tool.serial %}<div style="float: right; font-size:x-small">s/n : {{ tool.serial| safe }}</div>{% endif %}
+        {# Display tool status... #}
+        <div class="tool-status">
+            {% if tool.in_use %}
+                <div class="primary-highlight">
+                    <span class="glyphicon glyphicon-user pull-left notification-icon"></span>
+                    {% with tool.get_current_usage_event as current_usage_event %}
+                        <h2>
+                            {% if current_usage_event.operator.id == user.id %}
+                                You are using this tool
+                            {% else %}
+                                <a title="Click to email this user"
+                                   href="{% url 'get_email_form_for_user' current_usage_event.operator.id %}">{{ current_usage_event.operator }}</a> is using this tool
+                            {% endif %}
+                            {% if current_usage_event.operator.id != current_usage_event.user.id %}
+                                on behalf of {{ current_usage_event.user }}
+                            {% endif %}
+                            for the project named {{ current_usage_event.project.name }} since {{ current_usage_event.start|date:"MONTH_DAY_FORMAT" }} @ {{ current_usage_event.start|time }}.
+                        </h2>
+                    {% endwith %}
+                </div>
+                {% if tool.get_current_usage_event.operator.id != user.id %}
+                    {% if user.is_staff or user.is_user_office %}
+                        <p>
+                            You may <a href="javascript:void(0)" onclick="disable_tool('{% url 'disable_tool' tool.id %}')">force {{ tool.get_current_usage_event.operator }} off this tool</a>.
+                        </p>
+                    {% elif not tool.post_usage_questions %}
+                        {% if time_left and "tool"|customization:"tool_control_ongoing_reservation_force_off" == "enabled" %}
+                            <p>
+                                You may <a href="javascript:void(0)" onclick="disable_tool('{% url 'disable_tool' tool.id %}')">force {{ tool.get_current_usage_event.operator }} off this tool</a> since you have an ongoing reservation and the tool has no post usage questions.
+                            </p>
+                        {% endif %}
+                    {% endif %}
+                {% endif %}
+                {% if time_left and not user.is_staff %}
+                    <div>
+                        Your reservation for this tool will end at {{ time_left|time }}. The remainder of your reservation will be relinquished when you stop using this tool.
+                    </div>
+                {% endif %}
+            {% elif tool.delayed_logoff_in_progress %}
+                {% with tool.get_delayed_logoff_usage_event as delayed_logoff_event %}
+                    <div class="primary-highlight">
+                        <span class="glyphicon glyphicon-time pull-left notification-icon"></span>
+                        <h2>
+                            {{ delayed_logoff_event.operator }} has finished using the {{ tool.name_or_child_in_use_name }} but delayed logoff is in effect. The tool will be available at {{ delayed_logoff_event.end|time }}.
+                        </h2>
+                    </div>
+                {% endwith %}
+            {% elif not tool.operational or tool.required_resource_is_unavailable or tool.scheduled_outages %}
+                <div class="danger-highlight media">
+                    <span class="glyphicon glyphicon-ban-circle pull-left notification-icon"></span>
+                    <h2>
+                        This tool is <strong>shut down</strong>.
+                    </h2>
+                </div>
+            {% elif tool.nonrequired_resource_is_unavailable or tool.scheduled_partial_outages %}
+                <div class="warning-highlight media">
+                    <span class="glyphicon glyphicon-exclamation-sign pull-left notification-icon"></span>
+                    <h2>
+                        This tool is <strong>operational</strong> but not all resources are available.
+                    </h2>
+                </div>
+            {% else %}
+                <div class="success-highlight media">
+                    <span class="glyphicon glyphicon-ok pull-left notification-icon"></span>
+                    <h2>
+                        This tool is <strong>operational</strong> and <strong>idle</strong>.
+                    </h2>
+                </div>
+            {% endif %}
         </div>
-
         {% if tool_rate %}
             <div class="tool-rates">
                 {% autoescape off %}
                     {{ tool_rate }}
                 {% endautoescape %}
             </div>
         {% endif %}
-
         {% if tool.active_counters %}
             <div class="tool-counters">
                 {% for counter in tool.active_counters %}
                     <div class="tool-counter">
-                        <div class="tool-counter-name">{{ counter.name }}: <span style="font-weight: bold; {% if counter.value_color %}color: {{ counter.value_color }}{% endif %}">{{ counter.value|floatformat:-2 }}</span></div>
-                        {% if user.is_staff %}<div class="tool-counter-reset"><a class="btn btn-xs btn-warning" href="{% url 'reset_tool_counter' counter.id %}" onclick="return confirm('You are about to reset the {{ counter.name }} counter to 0.\nAre you sure?')">Reset</a></div>{% endif %}
+                        <div class="tool-counter-name">
+                            {{ counter.name }}: <span style="font-weight: bold; {% if counter.value_color %}color: {{ counter.value_color }}{% endif %}">{{ counter.value|floatformat:-2 }}</span>
+                        </div>
+                        {% if user.is_staff %}
+                            <div class="tool-counter-reset">
+                                <a class="btn btn-xs btn-warning"
+                                   href="{% url 'reset_tool_counter' counter.id %}"
+                                   onclick="return confirm('You are about to reset the {{ counter.name }} counter to 0.\nAre you sure?')">Reset</a>
+                            </div>
+                        {% endif %}
                         <div class="tool-counter-description">{{ counter.description|linebreaksbr }}</div>
                     </div>
                 {% endfor %}
             </div>
         {% endif %}
-
-		{% if tool.unavailable_required_resources or tool.scheduled_outages %}
-			<div class="danger-status">
-				{# Display any unavailable required resources... #}
-				{% for r in tool.unavailable_required_resources %}
-					<div class="media">
-						<span class="glyphicon glyphicon-leaf pull-left notification-icon danger-highlight"></span>
-						<div class="media-body">
-							<span class="media-heading">A required resource is unavailable: {{ r.name }} <span class="light-grey">({{ r.category }})</span></span>
-							<span class="media-middle">{{ r.restriction_message }}</span>
-						</div>
-					</div>
-				{% endfor %}
-
-				{% if tool.scheduled_outages %}
-					{% for o in tool.scheduled_outages %}
-						<div class="media">
-							<span class="glyphicon glyphicon-time pull-left notification-icon danger-highlight"></span>
-							<div class="media-body">
-								<span class="media-heading">{{ o.title }}<span class="light-grey"> ({{ o.resource.category }})</span></span>
-								{% if o.details %}<span class="media-middle">{{ o.details }}</span>{% endif %}
-								<span class="media-bottom">{{ o.creator }} scheduled this outage from {{ o.start }} until {{ o.end }}.</span>
-							</div>
-						</div>
-					{% endfor %}
-				{% endif %}
-			</div>
-		{% endif %}
-
-		{% if tool.unavailable_nonrequired_resources or tool.scheduled_partial_outages %}
-			<div class="warning-status">
-				{# Display any unavailable non-required resources... #}
-				{% for r in tool.unavailable_nonrequired_resources %}
-					<div class="media">
-						<span class="glyphicon glyphicon-leaf pull-left notification-icon warning-highlight"></span>
-						<div class="media-body">
-							<span class="media-heading">An optional resource is unavailable: {{ r.name }} <span class="light-grey">({{ r.category }})</span></span>
-							<span class="media-middle">{{ r.restriction_message }}</span>
-						</div>
-					</div>
-				{% endfor %}
-
-				{# Display any outage for non-required resources... #}
-				{% for o in tool.scheduled_partial_outages %}
-					<div class="media">
-						<span class="glyphicon glyphicon-time pull-left notification-icon warning-highlight"></span>
-						<div class="media-body">
-							<h4 class="media-heading">An optional resource has an outage: {{ o.resource.name }} <span class="light-grey">({{ o.resource.category }})</span></h4>
-							{{ o.title }}{% if o.details %}: {{ o.details }}{% endif %}
-							<h5>{{ o.creator }} scheduled this outage from {{ o.start }} until {{ o.end }}.</h5>
-						</div>
-					</div>
-				{% endfor %}
-			</div>
-		{% endif %}
-
-		{% if tool.problems %}
-			<div class="tool-problems">
-				{# Display all problems and shutdowns... #}
-				{% for t in tool.problems %}
-					<div class="media">
-						<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#task_{{ t.id }}_details" class="pointer">
-							{% if t.force_shutdown %}
-								<span class="glyphicon glyphicon-fire pull-left notification-icon danger-highlight" title="Click to toggle details about this task"></span>
-							{% else %}
-								<span class="glyphicon glyphicon-wrench pull-left notification-icon warning-highlight" title="Click to toggle details about this task"></span>
-							{% endif %}
-							<span class="glyphicon glyphicon-chevron-{% if tool_control_show_task_details %}down{% else %}right{% endif %} pull-left chevron"></span>
-						</a>
-						<div class="media-body">
-							{% if t.problem_category %}<span class="media-heading">{{ t.problem_category }}</span>{% endif %}
-							<span class="media-middle">{{ t.problem_description }}</span>
-							{% if t.estimated_resolution_time %}<span class="media-middle">Estimated resolution time is {{ t.estimated_resolution_time }}.</span>{% endif %}
-							<div id="task_{{ t.id }}_details" class="collapse{% if tool_control_show_task_details %} in{% endif %}">
-								<span class="media-bottom">
-									This task was created by {{ t.creator }} on {{ t.creation_time }}.
-									{% if user.is_staff %}
-										You can <a href="{% url 'task_update_form' t.id %}">update</a> or <a href="{% url 'task_resolution_form' t.id %}">resolve</a> this task.
-									{% endif %}
-									{% if t.force_shutdown %}
-										The tool will remain shut down until this task is resolved.
-									{% endif %}
-									{% if t.creator.id == user.id %}
-										You may <a href="javascript:$('#cancel_task_{{ t.id }}').submit()">cancel</a> this task if it was mistakenly created.<br>
-										<form id="cancel_task_{{ t.id }}" action="{% url 'cancel_task' t.id %}" method="POST">
-											{% csrf_token %}
-										</form>
-									{% endif %}
-								</span>
-								{% if t.progress_description %}
-									<div class="media">
-										<span class="glyphicon glyphicon-info-sign pull-left notification-icon primary-highlight"></span>
-										<div class="media-body">
-											<span class="media-heading">Progress updates</span>
-											<span class="media-middle">{{ t.progress_description|linebreaksbr }}</span>
-										</div>
-									</div>
-								{% endif %}
-								{% if t.task_images %}
-									<div>images:
-										<ul>
-											{% for image in t.task_images %}
-												<li><a href="{{ image.image.url }}" target="_blank" style="margin-right: 5px">{{ image.filename }}</a></li>
-											{% endfor %}
-										</ul>
-									</div>
-								{% endif %}
-							</div>
-						</div>
-					</div>
-				{% endfor %}
-			</div>
-		{% endif %}
-
-		{% if tool.comments or user.is_staff and tool.staff_only_comments|length > 0 %}
-			<div class="tool-comments">
-				{# Display all comments... #}
-				{% for c in tool.comments %}
-					<div class="media">
-						{% if user.id == c.author.id or user.is_staff %}
-							<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#comment_{{ c.id }}_actions" class="pointer">
-						{% endif %}
-						<span class="glyphicon glyphicon-comment pull-left notification-icon primary-highlight" title="{% if c.expiration_date %}This comment will expire and become hidden on {{ c.expiration_date }}{% else %}This comment will be displayed indefinitely.{% endif %}"></span>
-						{% if user.id == c.author.id or user.is_staff %}
-							<span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-							</a>
-						{% endif %}
-						<div class="media-body">
-							<span class="media-middle">{{ c.content|linebreaksbr }}</span>
-							<span class="media-bottom">{{ c.author }} wrote this comment on {{ c.creation_date }}</span>
-							{% if user.id == c.author.id or user.is_staff %}
-								<div id="comment_{{ c.id }}_actions" class="collapse grey">
-									<form action="{% url 'hide_comment' c.id %}" method="post">
-										{% csrf_token %}
-										<a href="javascript:void(0)" onclick="$(this).closest('form').submit()">Hide this comment</a>.
-									</form>
-								</div>
-							{% endif %}
-						</div>
-					</div>
-				{% endfor %}
-
-				{# Display all staff comments #}
-				{% if user.is_staff and tool.staff_only_comments|length > 0 %}
-					<div class="media">
-						<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#staff_only_comments" class="pointer">
-							<span class="glyphicon glyphicon-eye-close pull-left notification-icon warning-highlight"></span><span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-						</a>
-						<div class="media-body">
-							<div style="margin-bottom: 15px">Staff Only</div>
-							<div id="staff_only_comments" class="collapse">
-								{% for c in tool.staff_only_comments %}
-									<div class="media">
-										{% if user.id == c.author.id or user.is_staff %}
-											<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#comment_{{ c.id }}_actions" class="pointer">
-										{% endif %}
-										<span class="glyphicon glyphicon-comment pull-left notification-icon primary-highlight" title="{% if c.expiration_date %}This comment will expire and become hidden on {{ c.expiration_date }}{% else %}This comment will be displayed indefinitely.{% endif %}"></span>
-										{% if user.id == c.author.id or user.is_staff %}
-											<span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-											</a>
-										{% endif %}
-										<div class="media-body">
-											<span class="media-middle">{{ c.content|linebreaksbr }}</span>
-											<span class="media-bottom">{{ c.author }} wrote this comment on {{ c.creation_date }}</span>
-											{% if user.id == c.author.id or user.is_staff %}
-												<div id="comment_{{ c.id }}_actions" class="collapse grey">
-													<form action="{% url 'hide_comment' c.id %}" method="post">
-														{% csrf_token %}
-														<a href="javascript:void(0)" onclick="$(this).closest('form').submit()">Hide this comment</a>.
-													</form>
-												</div>
-											{% endif %}
-										</div>
-									</div>
-								{% endfor %}
-							</div>
-						</div>
-					</div>
-				{% endif %}
-			</div>
-		{% endif %}
-
-		<div style="margin-top:10px">
-			{{ rendered_configuration_html }}
-		</div>
-
-		{# Display tool control... #}
-		<form id="tool_control">
-			{% if tool.in_use %}
-				{% if tool.get_current_usage_event.operator.id == user.id or tool.get_current_usage_event.user.id == user.id %}
-					{{ post_usage_questions }}
-					{% if tool.allow_delayed_logoff and not tool.delayed_logoff_in_progress %}
-						<div class="form-group">
-							Prevent others from using the tool for <input type="number" id="downtime" name="downtime" aria-label="Downtime" class="form-control" style="display:inline; width:auto" min="5" max="120" inputmode="numeric" pattern="[0-9]*" placeholder="0"> minutes after disabling the tool.
-							<a id="delayed_logoff_help" class="pointer" tabindex="0" data-toggle="popover" data-placement="bottom" data-trigger="focus" data-content="Some tools may require downtime after you finish using them. (For example, to perform automated cleaning or pump-down). Once you click &quot;Stop using the {{ tool.name_or_child_in_use_name }}&quot; the tool interlock will immediately disable the tool and it will remain unusable for the specified duration. Leave the duration blank to indicate that no post-usage downtime is required.">What's this?</a>
-						</div>
-					{% endif %}
-					<div id="stop_wrapper">
-                        <div style="display:inline-block" data-toggle="tooltip" data-placement="bottom" title="Please answer the required questions (above) to proceed">
+        {% if tool.unavailable_required_resources or tool.scheduled_outages %}
+            <div class="danger-status">
+                {# Display any unavailable required resources... #}
+                {% for r in tool.unavailable_required_resources %}
+                    <div class="media">
+                        <span class="glyphicon glyphicon-leaf pull-left notification-icon danger-highlight"></span>
+                        <div class="media-body">
+                            <span class="media-heading">A required resource is unavailable: {{ r.name }} <span class="light-grey">({{ r.category }})</span></span>
+                            <span class="media-middle">{{ r.restriction_message }}</span>
+                        </div>
+                    </div>
+                {% endfor %}
+                {% if tool.scheduled_outages %}
+                    {% for o in tool.scheduled_outages %}
+                        <div class="media">
+                            <span class="glyphicon glyphicon-time pull-left notification-icon danger-highlight"></span>
+                            <div class="media-body">
+                                <span class="media-heading">{{ o.title }}<span class="light-grey">({{ o.resource.category }})</span></span>
+                                {% if o.details %}<span class="media-middle">{{ o.details }}</span>{% endif %}
+                                <span class="media-bottom">{{ o.creator }} scheduled this outage from {{ o.start }} until {{ o.end }}.</span>
+                            </div>
+                        </div>
+                    {% endfor %}
+                {% endif %}
+            </div>
+        {% endif %}
+        {% if tool.unavailable_nonrequired_resources or tool.scheduled_partial_outages %}
+            <div class="warning-status">
+                {# Display any unavailable non-required resources... #}
+                {% for r in tool.unavailable_nonrequired_resources %}
+                    <div class="media">
+                        <span class="glyphicon glyphicon-leaf pull-left notification-icon warning-highlight"></span>
+                        <div class="media-body">
+                            <span class="media-heading">An optional resource is unavailable: {{ r.name }} <span class="light-grey">({{ r.category }})</span></span>
+                            <span class="media-middle">{{ r.restriction_message }}</span>
+                        </div>
+                    </div>
+                {% endfor %}
+                {# Display any outage for non-required resources... #}
+                {% for o in tool.scheduled_partial_outages %}
+                    <div class="media">
+                        <span class="glyphicon glyphicon-time pull-left notification-icon warning-highlight"></span>
+                        <div class="media-body">
+                            <h4 class="media-heading">
+                                An optional resource has an outage: {{ o.resource.name }} <span class="light-grey">({{ o.resource.category }})</span>
+                            </h4>
+                            {{ o.title }}
+                            {% if o.details %}: {{ o.details }}{% endif %}
+                            <h5>{{ o.creator }} scheduled this outage from {{ o.start }} until {{ o.end }}.</h5>
+                        </div>
+                    </div>
+                {% endfor %}
+            </div>
+        {% endif %}
+        {% if tool.problems %}
+            <div class="tool-problems">
+                {# Display all problems and shutdowns... #}
+                {% for t in tool.problems %}
+                    <div class="media">
+                        <a onclick="toggle_details(this)"
+                           data-toggle="collapse"
+                           data-target="#task_{{ t.id }}_details"
+                           class="pointer">
+                            {% if t.force_shutdown %}
+                                <span class="glyphicon glyphicon-fire pull-left notification-icon danger-highlight"
+                                      title="Click to toggle details about this task"></span>
+                            {% else %}
+                                <span class="glyphicon glyphicon-wrench pull-left notification-icon warning-highlight"
+                                      title="Click to toggle details about this task"></span>
+                            {% endif %}
+                            <span class="glyphicon glyphicon-chevron-{% if tool_control_show_task_details %}down{% else %}right{% endif %} pull-left chevron"></span>
+                        </a>
+                        <div class="media-body">
+                            {% if t.problem_category %}<span class="media-heading">{{ t.problem_category }}</span>{% endif %}
+                            <span class="media-middle">{{ t.problem_description }}</span>
+                            {% if t.estimated_resolution_time %}
+                                <span class="media-middle">Estimated resolution time is {{ t.estimated_resolution_time }}.</span>
+                            {% endif %}
+                            <div id="task_{{ t.id }}_details" class="collapse{% if tool_control_show_task_details %} in{% endif %}">
+                                <span class="media-bottom">
+                                    This task was created by {{ t.creator }} on {{ t.creation_time }}.
+                                    {% if user.is_staff %}
+                                        You can <a href="{% url 'task_update_form' t.id %}">update</a> or <a href="{% url 'task_resolution_form' t.id %}">resolve</a> this task.
+                                    {% endif %}
+                                    {% if t.force_shutdown %}The tool will remain shut down until this task is resolved.{% endif %}
+                                    {% if t.creator.id == user.id %}
+                                        You may <a href="javascript:$('#cancel_task_{{ t.id }}').submit()">cancel</a> this task if it was mistakenly created.
+                                        <br>
+                                        <form id="cancel_task_{{ t.id }}" action="{% url 'cancel_task' t.id %}" method="POST">
+                                            {% csrf_token %}
+                                        </form>
+                                    {% endif %}
+                                </span>
+                                {% if t.progress_description %}
+                                    <div class="media">
+                                        <span class="glyphicon glyphicon-info-sign pull-left notification-icon primary-highlight"></span>
+                                        <div class="media-body">
+                                            <span class="media-heading">Progress updates</span>
+                                            <span class="media-middle">{{ t.progress_description|linebreaksbr }}</span>
+                                        </div>
+                                    </div>
+                                {% endif %}
+                                {% if t.task_images %}
+                                    <div>
+                                        images:
+                                        <ul>
+                                            {% for image in t.task_images %}
+                                                <li>
+                                                    <a href="{{ image.image.url }}" target="_blank" style="margin-right: 5px">{{ image.filename }}</a>
+                                                </li>
+                                            {% endfor %}
+                                        </ul>
+                                    </div>
+                                {% endif %}
+                            </div>
+                        </div>
+                    </div>
+                {% endfor %}
+            </div>
+        {% endif %}
+        {% if tool.comments or user.is_staff and tool.staff_only_comments|length > 0 %}
+            <div class="tool-comments">
+                {# Display all comments... #}
+                {% for c in tool.comments %}
+                    <div class="media">
+                        {% if user.id == c.author.id or user.is_staff %}
+                            <a onclick="toggle_details(this)"
+                               data-toggle="collapse"
+                               data-target="#comment_{{ c.id }}_actions"
+                               class="pointer">
+                            {% endif %}
+                            <span class="glyphicon glyphicon-comment pull-left notification-icon primary-highlight"
+                                  title="{% if c.expiration_date %}This comment will expire and become hidden on {{ c.expiration_date }}{% else %}This comment will be displayed indefinitely.{% endif %}"></span>
+                            {% if user.id == c.author.id or user.is_staff %}
+                                <span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+                            </a>
+                        {% endif %}
+                        <div class="media-body">
+                            <span class="media-middle">{{ c.content|linebreaksbr }}</span>
+                            <span class="media-bottom">{{ c.author }} wrote this comment on {{ c.creation_date }}</span>
+                            {% if user.id == c.author.id or user.is_staff %}
+                                <div id="comment_{{ c.id }}_actions" class="collapse grey">
+                                    <form action="{% url 'hide_comment' c.id %}" method="post">
+                                        {% csrf_token %}
+                                        <a href="javascript:void(0)" onclick="$(this).closest('form').submit()">Hide this comment</a>.
+                                    </form>
+                                </div>
+                            {% endif %}
+                        </div>
+                    </div>
+                {% endfor %}
+                {# Display all staff comments #}
+                {% if user.is_staff and tool.staff_only_comments|length > 0 %}
+                    <div class="media">
+                        <a onclick="toggle_details(this)"
+                           data-toggle="collapse"
+                           data-target="#staff_only_comments"
+                           class="pointer">
+                            <span class="glyphicon glyphicon-eye-close pull-left notification-icon warning-highlight"></span><span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+                        </a>
+                        <div class="media-body">
+                            <div style="margin-bottom: 15px">Staff Only</div>
+                            <div id="staff_only_comments" class="collapse">
+                                {% for c in tool.staff_only_comments %}
+                                    <div class="media">
+                                        {% if user.id == c.author.id or user.is_staff %}
+                                            <a onclick="toggle_details(this)"
+                                               data-toggle="collapse"
+                                               data-target="#comment_{{ c.id }}_actions"
+                                               class="pointer">
+                                            {% endif %}
+                                            <span class="glyphicon glyphicon-comment pull-left notification-icon primary-highlight"
+                                                  title="{% if c.expiration_date %}This comment will expire and become hidden on {{ c.expiration_date }}{% else %}This comment will be displayed indefinitely.{% endif %}"></span>
+                                            {% if user.id == c.author.id or user.is_staff %}
+                                                <span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+                                            </a>
+                                        {% endif %}
+                                        <div class="media-body">
+                                            <span class="media-middle">{{ c.content|linebreaksbr }}</span>
+                                            <span class="media-bottom">{{ c.author }} wrote this comment on {{ c.creation_date }}</span>
+                                            {% if user.id == c.author.id or user.is_staff %}
+                                                <div id="comment_{{ c.id }}_actions" class="collapse grey">
+                                                    <form action="{% url 'hide_comment' c.id %}" method="post">
+                                                        {% csrf_token %}
+                                                        <a href="javascript:void(0)" onclick="$(this).closest('form').submit()">Hide this comment</a>.
+                                                    </form>
+                                                </div>
+                                            {% endif %}
+                                        </div>
+                                    </div>
+                                {% endfor %}
+                            </div>
+                        </div>
+                    </div>
+                {% endif %}
+            </div>
+        {% endif %}
+        <div style="margin-top:10px">{{ rendered_configuration_html }}</div>
+        {# Display tool control... #}
+        <form id="tool_control">
+            {% if tool.in_use %}
+                {% if tool.get_current_usage_event.operator.id == user.id or tool.get_current_usage_event.user.id == user.id %}
+                    {{ post_usage_questions }}
+                    {% if tool.allow_delayed_logoff and not tool.delayed_logoff_in_progress %}
+                        <div class="form-group">
+                            Prevent others from using the tool for
+                            <input type="number"
+                                   id="downtime"
+                                   name="downtime"
+                                   aria-label="Downtime"
+                                   class="form-control"
+                                   style="display:inline;
+                                          width:auto"
+                                   min="5"
+                                   max="120"
+                                   inputmode="numeric"
+                                   pattern="[0-9]*"
+                                   placeholder="0">
+                            minutes after disabling the tool.
+                            <a id="delayed_logoff_help"
+                               class="pointer"
+                               tabindex="0"
+                               data-toggle="popover"
+                               data-placement="bottom"
+                               data-trigger="focus"
+                               data-content="Some tools may require downtime after you finish using them. (For example, to perform automated cleaning or pump-down). Once you click &quot;Stop using the {{ tool.name_or_child_in_use_name }}&quot; the tool interlock will immediately disable the tool and it will remain unusable for the specified duration. Leave the duration blank to indicate that no post-usage downtime is required.">What's this?</a>
+                        </div>
+                    {% endif %}
+                    <div id="stop_wrapper">
+                        <div style="display:inline-block"
+                             data-toggle="tooltip"
+                             data-placement="bottom"
+                             title="Please answer the required questions (above) to proceed">
                             {% url 'disable_tool' tool.get_current_usage_event.tool.id as disable_tool_url %}
                             {% button type="delete" id="stop" icon="glyphicon-stop" onclick="disable_tool('"|concat:disable_tool_url|concat:"'); return false;" value="Stop using the "|concat:tool.name_or_child_in_use_name %}
                         </div>
                         {% if time_left and user.is_staff %}
-                            <div style="display:inline-block" data-toggle="tooltip" data-placement="bottom" title="Please answer the required questions (above) to proceed">
+                            <div style="display:inline-block"
+                                 data-toggle="tooltip"
+                                 data-placement="bottom"
+                                 title="Please answer the required questions (above) to proceed">
                                 {% url 'disable_tool' tool.get_current_usage_event.tool.id as disable_tool_url %}
                                 {% with left_until=time_left|timeuntil %}
                                     {% button type="delete" id="stop" icon="glyphicon-stop" onclick="disable_tool('"|concat:disable_tool_url|concat:"', true); return false;" value="Stop using the "|concat:tool.name_or_child_in_use_name|concat:" and relinquish the remaining "|concat:left_until|concat:" of your reservation" %}
                                 {% endwith %}
                             </div>
                         {% endif %}
                     </div>
-				{% endif %}
-			{% endif %}
-			{% if not tool.in_use or allow_take_over and tool.get_current_usage_event.operator.id != user.id %}
-				{% if user.is_staff or user.is_service_personnel and tool in user.qualifications.all %}
-					<h4 id="what_to_do_label">
-						{% if tool.in_use and allow_take_over and tool.get_current_usage_event.operator.id != user.id %}
-							You may take over using this tool.
-						{% endif %}
-						What would you like to do?
-					</h4>
-                    <input type="hidden" id="remote_work" name="remote_work" value="">
-					<div class="radio" role="group" aria-labelledby="what_to_do_label">
-                        <label><input type="radio" onchange="use_tool_for_self()" name="staff_charge" value="false">Use this tool for my own project</label>
-                        {% if user.is_staff %}
-                            <br><label><input type="radio" onchange="use_tool_for_other()" name="staff_charge" value="false">Use this tool on behalf of another user{% if "remote_work"|customization:"remote_work_ask_explicitly" %} (no remote){% endif %}</label>
-                            {% if "remote_work"|customization:"remote_work_ask_explicitly" %}
-                                <br><label><input type="radio" onchange="use_tool_for_other(true)" name="staff_charge" value="false">Use this tool for a remote project</label>
-                            {% endif %}
-                            {% if user.charging_staff_time %}
-                                {% with user.get_staff_charge as staff_charge %}
-                                    <br><label id="staff_charge_tooltip_container" class="strikethrough light-grey" data-toggle="tooltip" data-placement="right" title="This option is not available because you are already charging staff time to {{ staff_charge.customer }} for the project named {{ staff_charge.project }} since {{ staff_charge.start }}.">
-                                        <input type="radio" onchange="use_tool_for_other()" disabled>
-                                        <span id="staff_charge_tooltip_location">Use this tool for a remote project{% if "remote_work"|customization:"remote_work_ask_explicitly" %} (charge staff time{% if tool.requires_area_access and "remote_work"|customization:"remote_work_start_area_access_automatically" == "enabled" %} & {{ tool.requires_area_access }} time{% endif %}){% endif %}</span>
+                {% endif %}
+            {% endif %}
+            {% if not tool.in_use or allow_take_over and tool.get_current_usage_event.operator.id != user.id %}
+                {% if show_wait_list and not wait_list_position == 1 or show_wait_list and allow_take_over and tool.get_current_usage_event.operator.id != user.id %}
+                    <a onclick="toggle_details(this)"
+                       data-toggle="collapse"
+                       data-target="#use-tool"
+                       class="pointer"
+                       style="padding-bottom: 10px;
+                              padding-top: 10px;
+                              display: block;
+                              color: darkgrey">
+                        <span class="glyphicon glyphicon-chevron-right chevron"></span>Skip Wait List
+                    </a>
+                {% endif %}
+                <div id="use-tool"
+                     class="{% if show_wait_list and not wait_list_position == 1 or show_wait_list and allow_take_over and tool.get_current_usage_event.operator.id != user.id %}collapse{% endif %}">
+                    {% if user.is_staff or user.is_service_personnel and tool in user.qualifications.all %}
+                        <h4 id="what_to_do_label">
+                            {% if tool.in_use and allow_take_over and tool.get_current_usage_event.operator.id != user.id %}
+                                You may take over using this tool.
+                            {% endif %}
+                            What would you like to do?
+                        </h4>
+                        <input type="hidden" id="remote_work" name="remote_work" value="">
+                        <div class="radio" role="group" aria-labelledby="what_to_do_label">
+                            <label>
+                                <input type="radio" onchange="use_tool_for_self()" name="staff_charge" value="false">
+                                Use this tool for my own project
+                            </label>
+                            {% if user.is_staff %}
+                                <br>
+                                <label>
+                                    <input type="radio" onchange="use_tool_for_other()" name="staff_charge" value="false">
+                                    Use this tool on behalf of another user
+                                    {% if "remote_work"|customization:"remote_work_ask_explicitly" %}(no remote){% endif %}
+                                </label>
+                                {% if "remote_work"|customization:"remote_work_ask_explicitly" %}
+                                    <br>
+                                    <label>
+                                        <input type="radio" onchange="use_tool_for_other(true)" name="staff_charge" value="false">
+                                        Use this tool for a remote project
                                     </label>
-                                    <script>
-                                        $("#staff_charge_tooltip_container").tooltip();
-                                    </script>
-                                {% endwith %}
+                                {% endif %}
+                                {% if user.charging_staff_time %}
+                                    {% with user.get_staff_charge as staff_charge %}
+                                        <br>
+                                        <label id="staff_charge_tooltip_container"
+                                               class="strikethrough light-grey"
+                                               data-toggle="tooltip"
+                                               data-placement="right"
+                                               title="This option is not available because you are already charging staff time to {{ staff_charge.customer }} for the project named {{ staff_charge.project }} since {{ staff_charge.start }}.">
+                                            <input type="radio" onchange="use_tool_for_other()" disabled>
+                                            <span id="staff_charge_tooltip_location">Use this tool for a remote project
+                                                {% if "remote_work"|customization:"remote_work_ask_explicitly" %}
+                                                    (charge staff time
+                                                    {% if tool.requires_area_access and "remote_work"|customization:"remote_work_start_area_access_automatically" == "enabled" %}
+                                                        & {{ tool.requires_area_access }} time
+                                                    {% endif %}
+                                                    )
+                                                {% endif %}
+                                            </span>
+                                        </label>
+                                        <script>$("#staff_charge_tooltip_container").tooltip();</script>
+                                    {% endwith %}
+                                {% else %}
+                                    <br>
+                                    <label>
+                                        <input type="radio" onchange="use_tool_for_other()" name="staff_charge" value="true">
+                                        Use this tool for a remote project
+                                        {% if "remote_work"|customization:"remote_work_ask_explicitly" %}
+                                            (charge staff time
+                                            {% if tool.requires_area_access and "remote_work"|customization:"remote_work_start_area_access_automatically" == "enabled" %}
+                                                & {{ tool.requires_area_access }} time
+                                            {% endif %}
+                                            )
+                                        {% endif %}
+                                    </label>
+                                {% endif %}
+                            {% endif %}
+                        </div>
+                        <div id="project_choice"></div>
+                    {% elif tool.operational and not tool.required_resource_is_unavailable and not tool.delayed_logoff_in_progress and not tool.scheduled_outage_in_progress %}
+                        {% include 'tool_control/get_projects.html' with active_projects=user.active_projects user_id=user.id %}
+                    {% endif %}
+                    <div id="pre_usage_questions" style="display:none">{{ pre_usage_questions }}</div>
+                    {% if user.is_staff or user.is_service_personnel and tool in user.qualifications.all or tool.ready_to_use %}
+                        <div id="start" style="display:none">
+                            {% if tool.is_parent_tool %}
+                                You have {{ tool.tool_children_set.all|length|add:1 }} options to use this tool:
+                                <br>
+                                <div style="height: 5px"></div>
+                            {% endif %}
+                            {% if tool.in_use %}
+                                {% button type="save" submit=False icon="glyphicon-play" value="Take over using the "|concat:tool.name onclick="enable_tool('"|concat:tool.id|concat:"'); return false;" %}
                             {% else %}
-                                <br><label><input type="radio" onchange="use_tool_for_other()" name="staff_charge" value="true">Use this tool for a remote project{% if "remote_work"|customization:"remote_work_ask_explicitly" %} (charge staff time{% if tool.requires_area_access and "remote_work"|customization:"remote_work_start_area_access_automatically" == "enabled" %} & {{ tool.requires_area_access }} time{% endif %}){% endif %}</label>
+                                {% button type="save" submit=False icon="glyphicon-play" value="Start using the "|concat:tool.name  onclick="enable_tool('"|concat:tool.id|concat:"'); return false;" %}
                             {% endif %}
+                            {% if tool.is_parent_tool %}
+                                {% for alternate_tool in tool.tool_children_set.all %}
+                                    {% if tool.in_use %}
+                                        {% button style="margin-left: 10px" type="save" submit=False icon="glyphicon-play" value="Take over using the "|concat:alternate_tool.name onclick="enable_tool('"|concat:alternate_tool.id|concat:"'); return false;" %}
+                                    {% else %}
+                                        {% button style="margin-left: 10px" type="save" submit=False icon="glyphicon-play" value="Start using the "|concat:alternate_tool.name  onclick="enable_tool('"|concat:alternate_tool.id|concat:"'); return false;" %}
+                                    {% endif %}
+                                {% endfor %}
+                            {% endif %}
+                        </div>
+                    {% endif %}
+                </div>
+            {% endif %}
+            {% if show_wait_list %}
+                <div>
+                    <div style="margin-bottom: 10px;">
+                        <span>This tool has a wait list. There are <strong>{{ wait_list.count }}</strong> people in line to use this tool.</span>
+                        {% if not wait_list_position == 0 %}
+                            <br>
+                            <span>You are number <strong>{{ wait_list_position }}</strong> in line to use this tool.</span>
                         {% endif %}
                     </div>
-					<div id="project_choice"></div>
-				{% elif tool.operational and not tool.required_resource_is_unavailable and not tool.delayed_logoff_in_progress and not tool.scheduled_outage_in_progress %}
-					{% include 'tool_control/get_projects.html' with active_projects=user.active_projects user_id=user.id %}
-				{% endif %}
-                    <div id="pre_usage_questions" style="display:none">{{ pre_usage_questions }}</div>
-				{% if user.is_staff or user.is_service_personnel and tool in user.qualifications.all or tool.ready_to_use %}
-					<div id="start" style="display:none">
-						{% if tool.is_parent_tool %}
-							You have {{ tool.tool_children_set.all|length|add:1 }} options to use this tool:<br>
-							<div style="height: 5px"></div>
-						{% endif %}
-						{% if tool.in_use %}
-							{% button type="save" submit=False icon="glyphicon-play" value="Take over using the "|concat:tool.name onclick="enable_tool('"|concat:tool.id|concat:"'); return false;" %}
-						{% else %}
-							{% button type="save" submit=False icon="glyphicon-play" value="Start using the "|concat:tool.name  onclick="enable_tool('"|concat:tool.id|concat:"'); return false;" %}
-						{% endif %}
-						{% if tool.is_parent_tool %}
-							{% for alternate_tool in tool.tool_children_set.all %}
-								{% if tool.in_use %}
-									{% button style="margin-left: 10px" type="save" submit=False icon="glyphicon-play" value="Take over using the "|concat:alternate_tool.name onclick="enable_tool('"|concat:alternate_tool.id|concat:"'); return false;" %}
-								{% else %}
-									{% button style="margin-left: 10px" type="save" submit=False icon="glyphicon-play" value="Start using the "|concat:alternate_tool.name  onclick="enable_tool('"|concat:alternate_tool.id|concat:"'); return false;" %}
-								{% endif %}
-							{% endfor %}
-						{% endif %}
-					</div>
-				{% endif %}
-			{% endif %}
-		</form>
-
+                    <div id="wait-list">
+                        {% if wait_list_position == 0 %}
+                            {% button type="save" style="margin-right: 20px;" submit=False icon="glyphicon-list" value="Enter Wait List for "|concat:tool.name onclick="enter_wait_list('"|concat:tool.id|concat:"'); return false;" %}
+                        {% else %}
+                            {% button type="delete" style="margin-right: 20px;" submit=False icon="glyphicon-trash" value="Exit Wait List for "|concat:tool.name onclick="exit_wait_list('"|concat:tool.id|concat:"'); return false;" %}
+                        {% endif %}
+                        {% if wait_list.count > 0 %}
+                            <a onclick="toggle_details(this)"
+                               data-toggle="collapse"
+                               data-target="#wait-list-content"
+                               class="pointer"
+                               style="display: block;
+                                      padding-top: 10px">
+                                <span class="glyphicon glyphicon-chevron-right chevron"></span>Show Wait List
+                            </a>
+                        {% endif %}
+                    </div>
+                    {% if wait_list.count > 0 %}
+                        <div id="wait-list-content"  style="padding-top: 10px;" class=" collapse">
+                            <table style="margin-top: 10px;
+                                          width: auto;
+                                          min-width: 50%"
+                                   class="table table-condensed table-striped table-bordered">
+                                <thead>
+                                    <tr>
+                                        <th>Position</th>
+                                        <th>User</th>
+                                    </tr>
+                                </thead>
+                                <tbody>
+                                    {% for entry in wait_list %}
+                                        <tr class="{% if user.id == entry.user.id %}success{% endif %}">
+                                            <td>{{ forloop.counter }}</td>
+                                            <td>{{ entry.user.get_full_name }}</td>
+                                        </tr>
+                                    {% endfor %}
+                                </tbody>
+                            </table>
+                        </div>
+                    {% endif %}
+                </div>
+            {% endif %}
+        </form>
         <div style="height:15px">{# Spacer #}</div>
-
         {% if messages %}
             {% for message in messages %}
                 <div class="alert alert-{{ message.level_tag }} alert-dismissible show-on-load" {% if message.extra_tags %}{{ message.extra_tags }}{% endif %} style="display: none">
                     <button type="button" class="close" data-dismiss="alert" aria-label="Modal close button">&times;</button>
                     {{ message }}
                 </div>
             {% endfor %}
         {% endif %}
-		
-		{% if tool.description or tool.image or tool.tooldocuments_set.all and user_can_see_documents %}
-			<div style="background-color: #f5f5f5;">
-				<div class="row" style="margin:0; padding: 15px 0">
-					{% if tool.description %}
-					<div class="col-md-8">
-						<p> {{ tool.description|safe }} </p>
-					</div>
-				{% endif %}
-				{% if tool.image %}
-					<div class="col-md-4" style="text-align:center">
-						<img src="{{ tool.image.url }}" alt="Tool image" class="img-fluid img-thumbnail" style="max-width:300px ;max-height:300px" >
-					</div>
-				{% endif %}
-                {% if tool.tooldocuments_set.all and user_can_see_documents %}
-                    <div class="col-md-12">
-                        Documents:
-                        <ul>
-                        {% for tool_doc in tool.tooldocuments_set.all %}
-                            <li><a href="{{ tool_doc.link }}" target="_blank">{{ tool_doc.filename }}</a></li>
+        {% if tool.description or tool.image or tool.tooldocuments_set.all and user_can_see_documents %}
+            <div style="background-color: #f5f5f5;">
+                <div class="row" style="margin:0; padding: 15px 0">
+                    {% if tool.description %}
+                        <div class="col-md-8">
+                            <p>{{ tool.description|safe }}</p>
+                        </div>
+                    {% endif %}
+                    {% if tool.image %}
+                        <div class="col-md-4" style="text-align:center">
+                            <img src="{{ tool.image.url }}"
+                                 alt="Tool image"
+                                 class="img-fluid img-thumbnail"
+                                 style="max-width:300px;
+                                        max-height:300px">
+                        </div>
+                    {% endif %}
+                    {% if tool.tooldocuments_set.all and user_can_see_documents %}
+                        <div class="col-md-12">
+                            Documents:
+                            <ul>
+                                {% for tool_doc in tool.tooldocuments_set.all %}
+                                    <li>
+                                        <a href="{{ tool_doc.link }}" target="_blank">{{ tool_doc.filename }}</a>
+                                    </li>
+                                {% endfor %}
+                            </ul>
+                        </div>
+                    {% endif %}
+                </div>
+            </div>
+        {% endif %}
+        <div style="height:150px">{# Spacer #}</div>
+    </div>
+    <div class="tab-pane" id="details">
+        <div class="media">
+            <span class="glyphicon glyphicon-info-sign pull-left notification-icon primary-highlight"></span>
+            <div class="media-body">
+                <p>
+                    {{ tool.primary_owner.get_contact_info_html|safe }} is primarily responsible for this tool and can be contacted with any questions or concerns about the tool.
+                </p>
+                {% if tool.backup_owners.all.count == 1 %}
+                    {% with tool.backup_owners.all|first as backup %}
+                        <p>
+                            If you are unable to reach {{ tool.primary_owner.get_name }} then please contact the backup tool owner, {{ backup.get_contact_info_html|safe }}.
+                        </p>
+                    {% endwith %}
+                {% elif tool.backup_owners.all.count > 1 %}
+                    <p>
+                        If you are unable to reach {{ tool.primary_owner.get_name }} then please contact
+                        {% for x in tool.backup_owners.all %}
+                            {% if not forloop.last %}
+                                {{ x.get_contact_info_html|safe }},
+                            {% else %}
+                                or {{ x.get_contact_info_html|safe }}.
+                            {% endif %}
                         {% endfor %}
-                        </ul>
-                    </div>
+                    </p>
                 {% endif %}
-				</div>
-			</div>
-		{% endif %}
-		<div style="height:150px">{# Spacer #}</div>
-	</div>
-
-	<div class="tab-pane" id="details">
-		<div class="media">
-			<span class="glyphicon glyphicon-info-sign pull-left notification-icon primary-highlight"></span>
-			<div class="media-body">
-				<p>{{ tool.primary_owner.get_contact_info_html|safe }} is primarily responsible for this tool and can be contacted with any questions or concerns about the tool.</p>
-				{% if tool.backup_owners.all.count == 1 %}
-					{% with tool.backup_owners.all|first as backup %}
-						<p>If you are unable to reach {{ tool.primary_owner.get_name }} then please contact the backup tool owner, {{ backup.get_contact_info_html|safe }}.</p>
-					{% endwith %}
-				{% elif tool.backup_owners.all.count > 1 %}
-					<p>If you are unable to reach {{ tool.primary_owner.get_name }} then please contact
-					{% for x in tool.backup_owners.all %}
-						{% if not forloop.last %}
-							{{ x.get_contact_info_html|safe }},
-						{% else %}
-							or {{ x.get_contact_info_html|safe }}.
-						{% endif %}
-					{% endfor %}
-					</p>
-				{% endif %}
                 {% if tool.superusers.all.count == 1 %}
-					{% with tool.superusers.all|first as superuser %}
-						<p>For equipment training, you can contact the primary, backup or the superuser, {{ superuser.get_contact_info_html|safe }}.</p>
-					{% endwith %}
-				{% elif tool.superusers.all.count > 1 %}
-					<p>For equipment training, you can contact the primary, backup or one of the superusers
-					{% for x in tool.superusers.all %}
-						{% if not forloop.last %}
-							{{ x.get_contact_info_html|safe }},
-						{% else %}
-							or {{ x.get_contact_info_html|safe }}.
-						{% endif %}
-					{% endfor %}
-					</p>
-				{% endif %}
-				{% if tool.notification_email_address %}
-					<p>Problem reports for the {{ tool.name_or_child_in_use_name }} are automatically emailed to <a href="{% url 'get_email_form' %}?recipient={{ tool.notification_email_address }}" title="Email {{ tool.notification_email_address }}"><span class="glyphicon glyphicon-send small-icon"></span>{{ tool.notification_email_address }}</a>.</p>
-				{% endif %}
-				{% if tool.location %}<p>The {{ tool.name_or_child_in_use_name }} is located in room <span class="glyphicon glyphicon-map-marker small-icon"></span>{{ tool.location }}.</p>{% endif %}
-				{% if tool.phone_number %}<p>You may dial the phone that is closest to the {{ tool.name_or_child_in_use_name }} at extension <span class="glyphicon glyphicon-phone small-icon"></span>{{ tool.phone_number }}.</p>{% endif %}
-				{% if show_broadcast_qualified_for_regular_user %}
-					<p>You can email <a href="{% url 'compose_email' %}?audience=tool&selection={{ tool.id }}"><span class="glyphicon glyphicon-send"></span> all qualified users</a>{% if not show_broadcast_upcoming_reservation %}.</p>{% endif %}
-				{% endif %}
-				{% if show_broadcast_upcoming_reservation %}
-					{% if show_broadcast_qualified_for_regular_user %} or {% else %}<p>You can email {% endif %}<a href="{% url 'compose_email' %}?audience=tool-reservation&selection={{ tool.id }}"><span class="glyphicon glyphicon-send"></span> all users with an upcoming reservation</a>.</p>
-				{% endif %}
-			</div>
-		</div>
-		{% if user.is_staff %}
-			<div id="qualified_users_container" class="media">
-				{% include 'tool_control/qualified_users.html' %}
-			</div>
-		{% elif user in tool.superusers.all or "tool"|customization:"tool_control_show_qualified_users_to_all" == "enabled" %}
+                    {% with tool.superusers.all|first as superuser %}
+                        <p>
+                            For equipment training, you can contact the primary, backup or the superuser, {{ superuser.get_contact_info_html|safe }}.
+                        </p>
+                    {% endwith %}
+                {% elif tool.superusers.all.count > 1 %}
+                    <p>
+                        For equipment training, you can contact the primary, backup or one of the superusers
+                        {% for x in tool.superusers.all %}
+                            {% if not forloop.last %}
+                                {{ x.get_contact_info_html|safe }},
+                            {% else %}
+                                or {{ x.get_contact_info_html|safe }}.
+                            {% endif %}
+                        {% endfor %}
+                    </p>
+                {% endif %}
+                {% if tool.notification_email_address %}
+                    <p>
+                        Problem reports for the {{ tool.name_or_child_in_use_name }} are automatically emailed to <a href="{% url 'get_email_form' %}?recipient={{ tool.notification_email_address }}"
+    title="Email {{ tool.notification_email_address }}"><span class="glyphicon glyphicon-send small-icon"></span>{{ tool.notification_email_address }}</a>.
+                    </p>
+                {% endif %}
+                {% if tool.location %}
+                    <p>
+                        The {{ tool.name_or_child_in_use_name }} is located in room <span class="glyphicon glyphicon-map-marker small-icon"></span>{{ tool.location }}.
+                    </p>
+                {% endif %}
+                {% if tool.phone_number %}
+                    <p>
+                        You may dial the phone that is closest to the {{ tool.name_or_child_in_use_name }} at extension <span class="glyphicon glyphicon-phone small-icon"></span>{{ tool.phone_number }}.
+                    </p>
+                {% endif %}
+                {% if show_broadcast_qualified_for_regular_user %}
+                    <p>
+                        You can email <a href="{% url 'compose_email' %}?audience=tool&selection={{ tool.id }}"><span class="glyphicon glyphicon-send"></span> all qualified users</a>
+                        {% if not show_broadcast_upcoming_reservation %}
+                            .
+                        </p>
+                    {% endif %}
+                {% endif %}
+                {% if show_broadcast_upcoming_reservation %}
+                    {% if show_broadcast_qualified_for_regular_user %}
+                        or
+                    {% else %}
+                        <p>
+                            You can email
+                        {% endif %}
+                        <a href="{% url 'compose_email' %}?audience=tool-reservation&selection={{ tool.id }}"><span class="glyphicon glyphicon-send"></span> all users with an upcoming reservation</a>.
+                    </p>
+                {% endif %}
+            </div>
+        </div>
+        {% if user.is_staff %}
+            <div id="qualified_users_container" class="media">{% include 'tool_control/qualified_users.html' %}</div>
+        {% elif user in tool.superusers.all or "tool"|customization:"tool_control_show_qualified_users_to_all" == "enabled" %}
             {% with tool.user_set.all as qualified_users %}
                 {% if qualified_users %}
                     <div id="qualified_users_container" class="media">
-                        <a onclick="toggle_details(this)" data-toggle="collapse" data-target="#qualified_users" class="pointer">
+                        <a onclick="toggle_details(this)"
+                           data-toggle="collapse"
+                           data-target="#qualified_users"
+                           class="pointer">
                             <span class="glyphicon glyphicon-user pull-left notification-icon primary-highlight"></span>
                             <span class="glyphicon {% if expanded %}glyphicon-chevron-down{% else %}glyphicon-chevron-right{% endif %} pull-left chevron"></span>
                         </a>
                         <div class="media-body">
                             <h4 class="media-heading">Qualified users</h4>
                             <div id="qualified_users" class="collapse {% if expanded %}in{% endif %}">
                                 <p>Only qualified users are able to operate the {{ tool.name }}.</p>
                                 <p>
-                                    Current qualified users are listed below. Inactive qualified users are <span class="strikethrough light-grey">crossed out</span>.<br>
+                                    Current qualified users are listed below. Inactive qualified users are <span class="strikethrough light-grey">crossed out</span>.
+                                    <br>
                                 </p>
-                                    <ul>
-                                        {% for u in qualified_users %}
-                                            {% if u.is_active %}
-                                                <li class="">{{ u }}</li>
-                                            {% else %}
-                                                <li class="grey"><span class="strikethrough light-grey">{{ u }}</span></li>
-                                            {% endif %}
-                                        {% endfor %}
-                                    </ul>
+                                <ul>
+                                    {% for u in qualified_users %}
+                                        {% if u.is_active %}
+                                            <li class="">{{ u }}</li>
+                                        {% else %}
+                                            <li class="grey">
+                                                <span class="strikethrough light-grey">{{ u }}</span>
+                                            </li>
+                                        {% endif %}
+                                    {% endfor %}
+                                </ul>
                             </div>
                         </div>
                     </div>
                 {% endif %}
             {% endwith %}
-		{% endif %}
-		{% if tool.required_resource_set.exists %}
-			<div class="media">
-				<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#required_resources" class="pointer">
-					<span class="glyphicon glyphicon-leaf pull-left notification-icon success-highlight"></span>
-					<span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-				</a>
-				<div class="media-body">
-					<h4 class="media-heading">Resources that are required for this tool to operate</h4>
-					<div id="required_resources" class="collapse">
-						<ul>
-							{% for u in tool.required_resource_set.all %}
-								<li>{{ u.name }} {% if u.category %}<span class="light-grey">({{ u.category }})</span>{% endif %}</li>
-							{% endfor %}
-						</ul>
-					</div>
-				</div>
-			</div>
-		{% endif %}
-		{% if tool.nonrequired_resource_set.exists %}
-			<div class="media">
-				<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#nonrequired_resources" class="pointer">
-					<span class="glyphicon glyphicon-leaf pull-left notification-icon warning-highlight"></span>
-					<span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-				</a>
-				<div class="media-body">
-					<h4 class="media-heading">Resources that are optional for this tool to operate</h4>
-					<div id="nonrequired_resources" class="collapse">
-						<ul>
-							{% for u in tool.nonrequired_resource_set.all %}
-								<li>{{ u.name }} <span class="light-grey">({{ u.category }})</span></li>
-							{% endfor %}
-						</ul>
-					</div>
-				</div>
-			</div>
-		{% endif %}
-		<div class="media">
-			<a onclick="toggle_details(this)" data-toggle="collapse" data-target="#history" class="pointer">
-				<span class="glyphicon glyphicon-wrench pull-left notification-icon warning-highlight"></span>
-				<span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-			</a>
-			<div class="media-body">
-				<h4 class="media-heading">Task &amp; comment history for this tool</h4>
-				<div id="history" class="collapse">
-					<form id="history_form">
-						<input type="hidden" name="tool_id" value="{{ tool.id }}">
-						<div class="form-group">
+        {% endif %}
+        {% if tool.required_resource_set.exists %}
+            <div class="media">
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#required_resources"
+                   class="pointer">
+                    <span class="glyphicon glyphicon-leaf pull-left notification-icon success-highlight"></span>
+                    <span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+                </a>
+                <div class="media-body">
+                    <h4 class="media-heading">Resources that are required for this tool to operate</h4>
+                    <div id="required_resources" class="collapse">
+                        <ul>
+                            {% for u in tool.required_resource_set.all %}
+                                <li>
+                                    {{ u.name }}
+                                    {% if u.category %}<span class="light-grey">({{ u.category }})</span>{% endif %}
+                                </li>
+                            {% endfor %}
+                        </ul>
+                    </div>
+                </div>
+            </div>
+        {% endif %}
+        {% if tool.nonrequired_resource_set.exists %}
+            <div class="media">
+                <a onclick="toggle_details(this)"
+                   data-toggle="collapse"
+                   data-target="#nonrequired_resources"
+                   class="pointer">
+                    <span class="glyphicon glyphicon-leaf pull-left notification-icon warning-highlight"></span>
+                    <span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+                </a>
+                <div class="media-body">
+                    <h4 class="media-heading">Resources that are optional for this tool to operate</h4>
+                    <div id="nonrequired_resources" class="collapse">
+                        <ul>
+                            {% for u in tool.nonrequired_resource_set.all %}
+                                <li>
+                                    {{ u.name }} <span class="light-grey">({{ u.category }})</span>
+                                </li>
+                            {% endfor %}
+                        </ul>
+                    </div>
+                </div>
+            </div>
+        {% endif %}
+        <div class="media">
+            <a onclick="toggle_details(this)" data-toggle="collapse" data-target="#history" class="pointer">
+                <span class="glyphicon glyphicon-wrench pull-left notification-icon warning-highlight"></span>
+                <span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+            </a>
+            <div class="media-body">
+                <h4 class="media-heading">Task &amp; comment history for this tool</h4>
+                <div id="history" class="collapse">
+                    <form id="history_form">
+                        <input type="hidden" name="tool_id" value="{{ tool.id }}">
+                        <div class="form-group">
                             {% button type="info" onclick="load_tasks_and_comments_for_last_three_months();" value="Created in the last 3 months" icon="glyphicon-list-alt" %}
-						</div>
-						<div class="form-group">
-                            {% button type="info" onclick="load_ten_most_recent_tasks_and_comments();" value="10 most recent" icon="glyphicon-list-alt" %}<br>
-						</div>
-						<div class="panel panel-default" style="display:inline-block">
-							<div class="panel-body">
-								<div class="form-group" style="position:relative">
-									<div class="input-group" style="max-width:350px">
-										<span class="input-group-addon">Contains</span>
-										<input id="search" name="search" type="text" aria-label="Search" placeholder="search title and content" class="form-control">
-									</div>
-								</div>
-								<div id="task_and_comment_start_form_group" class="form-group" style="position:relative">
-									<div class="input-group" style="max-width:350px">
-										<span class="input-group-addon">Between</span>
-										<input id="task_and_comment_start" name="start" type="text" aria-label="Search start date" placeholder="start" class="form-control">
-									</div>
-								</div>
-								<div id="task_and_comment_end_form_group" class="form-group" style="position:relative">
-									<div class="input-group" style="max-width:350px">
-										<span class="input-group-addon">and</span>
-										<input id="task_and_comment_end" name="end" type="text" aria-label="Search end date" placeholder="end" class="form-control">
-									</div>
-								</div>
-								<div class="form-group" style="margin-bottom:0">
+                        </div>
+                        <div class="form-group">
+                            {% button type="info" onclick="load_ten_most_recent_tasks_and_comments();" value="10 most recent" icon="glyphicon-list-alt" %}
+                            <br>
+                        </div>
+                        <div class="panel panel-default" style="display:inline-block">
+                            <div class="panel-body">
+                                <div class="form-group" style="position:relative">
+                                    <div class="input-group" style="max-width:350px">
+                                        <span class="input-group-addon">Contains</span>
+                                        <input id="search"
+                                               name="search"
+                                               type="text"
+                                               aria-label="Search"
+                                               placeholder="search title and content"
+                                               class="form-control">
+                                    </div>
+                                </div>
+                                <div id="task_and_comment_start_form_group" class="form-group" style="position:relative">
+                                    <div class="input-group" style="max-width:350px">
+                                        <span class="input-group-addon">Between</span>
+                                        <input id="task_and_comment_start"
+                                               name="start"
+                                               type="text"
+                                               aria-label="Search start date"
+                                               placeholder="start"
+                                               class="form-control">
+                                    </div>
+                                </div>
+                                <div id="task_and_comment_end_form_group" class="form-group" style="position:relative">
+                                    <div class="input-group" style="max-width:350px">
+                                        <span class="input-group-addon">and</span>
+                                        <input id="task_and_comment_end"
+                                               name="end"
+                                               type="text"
+                                               aria-label="Search end date"
+                                               placeholder="end"
+                                               class="form-control">
+                                    </div>
+                                </div>
+                                <div class="form-group" style="margin-bottom:0">
                                     <div class="col-sm-6" style="padding-left: 0">
                                         {% button type="save" submit=False value="Go" icon="glyphicon-search" onclick="load_tasks_and_comments();" %}
                                     </div>
                                     <div class="col-sm-6" style="padding-right: 0">
                                         {% button type="export" style="float: right" onclick="export_tasks_and_comments();" value="Export" %}
                                     </div>
-								</div>
-							</div>
-						</div>
-					</form>
-					<div id="past_tasks_and_comments"></div>
-				</div>
-			</div>
-		</div>
-		<div style="height:150px">{# Spacer #}</div>
-	</div>
-
-	<div class="tab-pane" id="config">
-		{# the data to be loaded here is in configuration/configuration_history.html #}
-	</div>
-
-	<div class="tab-pane" id="usage_data">
-		{# the data to be loaded here is in tool_control/usage_data.html #}
-	</div>
-
-	<div class="tab-pane" id="problem">
-		<form action="{% url 'create_task' %}" method="post" enctype="multipart/form-data">
-			{% csrf_token %}
-			<input type="hidden" name="action" value="create">
-			<input type="hidden" name="tool" value="{{ tool.id }}">
-			<p>Use this form to report a problem relating to the currently selected tool. The {{ facility_name }} staff as well as anyone with an upcoming reservation will be notified of the problem by email and the details of the problem will be visible to everyone on the website.</p>
-			{% if task_categories %}
-				<div class="form-group">
-					<label for="problem_category">Please choose a category that best describes this problem. If there is no appropriate category then leave this field blank.</label>
-					<select id="problem_category" name="problem_category" class="form-control" style="max-width:300px">
-						<option value="">&nbsp;</option>
-						{% for c in task_categories %}
-							<option value="{{ c.id }}">{{ c.name }}</option>
-						{% endfor %}
-					</select>
-				</div>
-			{% endif %}
-
-			{% if task_statuses and user.is_staff %}
-				<div class="form-group">
-					<label for="status">What is the status of this task?</label>
-					<select id="status" name="status" class="form-control" style="max-width:300px">
-						<option value="">&nbsp;</option>
-						{% for s in task_statuses %}
-							<option>{{ s.name }}</option>
-						{% endfor %}
-					</select>
-				</div>
-			{% endif %}
-
-			<div class="form-group">
-				<label for="description">Please provide a <strong>detailed</strong> description of the problem so that the {{ facility_name }} staff have enough information to resolve the problem efficiently.</label>
-				<textarea id="description" name="description" class="form-control" rows="7" required></textarea>
-			</div>
-			{% if user.is_staff %}
-				<div class="form-group">
-					<div style="position:relative">
-						<label for="estimated_resolution_time" class="control-label">What is your best estimate of when the problem will be resolved? Leave this field blank if you are unsure.</label>
-						<input id="estimated_resolution_time" name="estimated_resolution_time" type="text" class="form-control" autocomplete="off">
-						<script>
+                                </div>
+                            </div>
+                        </div>
+                    </form>
+                    <div id="past_tasks_and_comments"></div>
+                </div>
+            </div>
+        </div>
+        <div style="height:150px">{# Spacer #}</div>
+    </div>
+    <div class="tab-pane" id="config">{# the data to be loaded here is in configuration/configuration_history.html #}</div>
+    <div class="tab-pane" id="usage_data">{# the data to be loaded here is in tool_control/usage_data.html #}</div>
+    <div class="tab-pane" id="problem">
+        <form action="{% url 'create_task' %}" method="post" enctype="multipart/form-data">
+            {% csrf_token %}
+            <input type="hidden" name="action" value="create">
+            <input type="hidden" name="tool" value="{{ tool.id }}">
+            <p>
+                Use this form to report a problem relating to the currently selected tool. The {{ facility_name }} staff as well as anyone with an upcoming reservation will be notified of the problem by email and the details of the problem will be visible to everyone on the website.
+            </p>
+            {% if task_categories %}
+                <div class="form-group">
+                    <label for="problem_category">
+                        Please choose a category that best describes this problem. If there is no appropriate category then leave this field blank.
+                    </label>
+                    <select id="problem_category" name="problem_category" class="form-control" style="max-width:300px">
+                        <option value="">&nbsp;</option>
+                        {% for c in task_categories %}<option value="{{ c.id }}">{{ c.name }}</option>{% endfor %}
+                    </select>
+                </div>
+            {% endif %}
+            {% if task_statuses and user.is_staff %}
+                <div class="form-group">
+                    <label for="status">What is the status of this task?</label>
+                    <select id="status" name="status" class="form-control" style="max-width:300px">
+                        <option value="">&nbsp;</option>
+                        {% for s in task_statuses %}<option>{{ s.name }}</option>{% endfor %}
+                    </select>
+                </div>
+            {% endif %}
+            <div class="form-group">
+                <label for="description">
+                    Please provide a <strong>detailed</strong> description of the problem so that the {{ facility_name }} staff have enough information to resolve the problem efficiently.
+                </label>
+                <textarea id="description" name="description" class="form-control" rows="7" required></textarea>
+            </div>
+            {% if user.is_staff %}
+                <div class="form-group">
+                    <div style="position:relative">
+                        <label for="estimated_resolution_time" class="control-label">
+                            What is your best estimate of when the problem will be resolved? Leave this field blank if you are unsure.
+                        </label>
+                        <input id="estimated_resolution_time"
+                               name="estimated_resolution_time"
+                               type="text"
+                               class="form-control"
+                               autocomplete="off">
+                        <script>
 							let timepicker_properties =
 							{
                                 format: "{{ datetime_input_js_format }}",
 								sideBySide: true
 							};
 							$('#estimated_resolution_time').datetimepicker(timepicker_properties);
-						</script>
-					</div>
-				</div>
-			{% endif %}
-			<div class="form-group">
-				<div class="checkbox"><label><input name="safety_hazard" type="checkbox"/>This problem represents a safety hazard to the {{ facility_name }} and should be regarded as urgent. Notify the {{ facility_name }} safety officer of this issue.</label></div>
-				<div class="checkbox"><label><input name="force_shutdown" type="checkbox"/>Shut down the tool so that it may not be used until this problem is resolved.</label></div>
-			</div>
-			<div class="form-group">
-				<input aria-label="File upload" id="fileupload" type="file" name="image" multiple>
-			</div>
-			<div class="form-group">
-                {% button type="delete" submit=True icon="glyphicon-send" value="Report problem" %}
-			</div>
-		</form>
-		<div style="height:150px">{# Spacer #}</div>
-	</div>
 
-	<div class="tab-pane" id="comment">
-		<form action="{% url 'create_comment' %}" method="post">
-			{% csrf_token %}
-			<input type="hidden" name="tool" value="{{ tool.id }}">
-			<p>
-				Use this form to comment on the operating status of the selected tool.
-				The comment will be visible to everyone on the website for <strong>informational purposes</strong>.
-				(Note: if there is something wrong with the tool then please report a problem instead of creating a comment).
-				You may remove the comment at any time because you are its author.
-			</p>
-			<div class="form-group">
-				<label class="form-inline">
-					How many days would you like the comment to be visible?
-					<select name="expiration" class="form-control" style="width:250px" required>
-						<option value="" disabled selected></option>
-						<option value="1">1 day</option>
-						<option value="7">7 days</option>
-						<option value="30">30 days</option>
-						<option value="60">60 days</option>
-						<option value="90">90 days</option>
-						<option value="-1">Indefinitely</option>
-						{% if user.is_any_part_of_staff %}<option value="0">Not visible</option>{% endif %}
-					</select>
-				</label>
-			</div>
-			<div class="form-group">
-				<label for="content-area">What would you like to say?</label>
-				<textarea name="content" id="content-area" class="form-control" rows="6" required></textarea>
-			</div>
-			{% if user.is_staff %}
-				<div class="form-group">
-					<input type="checkbox" id="staff_only" name="staff_only"/>
-					<label for="staff_only" style="padding-left: 5px">Make this comment only visible to staff users</label>
-				</div>
-			{% endif %}
-			<div class="form-group">
-                {% button type="save" value="Post comment" icon="glyphicon-send" %}
-			</div>
-		</form>
-		<div style="height:150px">{# Spacer #}</div>
-	</div>
+                        </script>
+                    </div>
+                </div>
+            {% endif %}
+            <div class="form-group">
+                <div class="checkbox">
+                    <label>
+                        <input name="safety_hazard" type="checkbox" />
+                        This problem represents a safety hazard to the {{ facility_name }} and should be regarded as urgent. Notify the {{ facility_name }} safety officer of this issue.
+                    </label>
+                </div>
+                <div class="checkbox">
+                    <label>
+                        <input name="force_shutdown" type="checkbox" />
+                        Shut down the tool so that it may not be used until this problem is resolved.
+                    </label>
+                </div>
+            </div>
+            <div class="form-group">
+                <input aria-label="File upload" id="fileupload" type="file" name="image" multiple>
+            </div>
+            <div class="form-group">{% button type="delete" submit=True icon="glyphicon-send" value="Report problem" %}</div>
+        </form>
+        <div style="height:150px">{# Spacer #}</div>
+    </div>
+    <div class="tab-pane" id="comment">
+        <form action="{% url 'create_comment' %}" method="post">
+            {% csrf_token %}
+            <input type="hidden" name="tool" value="{{ tool.id }}">
+            <p>
+                Use this form to comment on the operating status of the selected tool.
+                The comment will be visible to everyone on the website for <strong>informational purposes</strong>.
+                (Note: if there is something wrong with the tool then please report a problem instead of creating a comment).
+                You may remove the comment at any time because you are its author.
+            </p>
+            <div class="form-group">
+                <label class="form-inline">
+                    How many days would you like the comment to be visible?
+                    <select name="expiration" class="form-control" style="width:250px" required>
+                        <option value="" disabled selected></option>
+                        <option value="1">1 day</option>
+                        <option value="7">7 days</option>
+                        <option value="30">30 days</option>
+                        <option value="60">60 days</option>
+                        <option value="90">90 days</option>
+                        <option value="-1">Indefinitely</option>
+                        {% if user.is_any_part_of_staff %}<option value="0">Not visible</option>{% endif %}
+                    </select>
+                </label>
+            </div>
+            <div class="form-group">
+                <label for="content-area">What would you like to say?</label>
+                <textarea name="content" id="content-area" class="form-control" rows="6" required></textarea>
+            </div>
+            {% if user.is_staff %}
+                <div class="form-group">
+                    <input type="checkbox" id="staff_only" name="staff_only" />
+                    <label for="staff_only" style="padding-left: 5px">Make this comment only visible to staff users</label>
+                </div>
+            {% endif %}
+            <div class="form-group">{% button type="save" value="Post comment" icon="glyphicon-send" %}</div>
+        </form>
+        <div style="height:150px">{# Spacer #}</div>
+    </div>
 </div>
-
 <script>
 	$(".contact-info-tooltip").on('click', function () {
         $(".tooltip").remove();
       	$(this).tooltip({trigger: 'manual', html: 'true', title: $(this).data('title')}).tooltip('toggle');
     });
 	$("#tabs").find("a").click(switch_tab);
 	$('#task_and_comment_start').datetimepicker({format: '{{ date_input_js_format }}', 'widgetParent': '#task_and_comment_start_form_group'});
```

### html2text {}

```diff
@@ -78,41 +78,41 @@
 %}
 {# Display any unavailable required resources... #} {% for r in
 tool.unavailable_required_resources %}
 A required resource is unavailable: {{ r.name }} ({{ r.category }}) {
 { r.restriction_message }}
 {% endfor %} {% if tool.scheduled_outages %} {% for o in tool.scheduled_outages
 %}
-{{ o.title }} ({{ o.resource.category }}) {% if o.details %}{{ o.details }}{%
+{{ o.title }}({{ o.resource.category }}) {% if o.details %}{{ o.details }}{%
 endif %} {{ o.creator }} scheduled this outage from {{ o.start }} until {
 { o.end }}.
 {% endfor %} {% endif %}
 {% endif %} {% if tool.unavailable_nonrequired_resources or
 tool.scheduled_partial_outages %}
 {# Display any unavailable non-required resources... #} {% for r in
 tool.unavailable_nonrequired_resources %}
 An optional resource is unavailable: {{ r.name }} ({{ r.category }}) {
 { r.restriction_message }}
 {% endfor %} {# Display any outage for non-required resources... #} {% for o in
 tool.scheduled_partial_outages %}
 ****** AAnn ooppttiioonnaall rreessoouurrccee hhaass aann oouuttaaggee:: {{{{ oo..rreessoouurrccee..nnaammee }}}} (({{
 {{ oo..rreessoouurrccee..ccaatteeggoorryy }}}})) ******
-{{ o.title }}{% if o.details %}: {{ o.details }}{% endif %}
+{{ o.title }} {% if o.details %}: {{ o.details }}{% endif %}
 **** {{{{ oo..ccrreeaattoorr }}}} sscchheedduulleedd tthhiiss oouuttaaggee ffrroomm {{{{ oo..ssttaarrtt }}}} uunnttiill {{{{ oo..eenndd }}}}..
 ****
 {% endfor %}
 {% endif %} {% if tool.problems %}
 {# Display all problems and shutdowns... #} {% for t in tool.problems %}
 {% if t.force_shutdown %} {% else %} {% endif %}
 {% if t.problem_category %}{{ t.problem_category }}{% endif %} {
-{ t.problem_description }} {% if t.estimated_resolution_time %}Estimated
-resolution time is {{ t.estimated_resolution_time }}.{% endif %}
+{ t.problem_description }} {% if t.estimated_resolution_time %} Estimated
+resolution time is {{ t.estimated_resolution_time }}. {% endif %}
 This task was created by {{ t.creator }} on {{ t.creation_time }}. {% if
 user.is_staff %} You can _u_p_d_a_t_e or _r_e_s_o_l_v_e this task. {% endif %} {% if
-t.force_shutdown %} The tool will remain shut down until this task is resolved.
+t.force_shutdown %}The tool will remain shut down until this task is resolved.
 {% endif %} {% if t.creator.id == user.id %} You may _c_a_n_c_e_l this task if it was
 mistakenly created.
 {% csrf_token %}
 {% endif %} {% if t.progress_description %}
 Progress updates {{ t.progress_description|linebreaksbr }}
 {% endif %} {% if t.task_images %}
 images:
@@ -160,37 +160,41 @@
 %} {% with left_until=time_left|timeuntil %} {% button type="delete" id="stop"
 icon="glyphicon-stop" onclick="disable_tool('"|concat:disable_tool_url|concat:
 "', true); return false;" value="Stop using the "|concat:
 tool.name_or_child_in_use_name|concat:" and relinquish the remaining "|concat:
 left_until|concat:" of your reservation" %} {% endwith %}
 {% endif %}
 {% endif %} {% endif %} {% if not tool.in_use or allow_take_over and
-tool.get_current_usage_event.operator.id != user.id %} {% if user.is_staff or
-user.is_service_personnel and tool in user.qualifications.all %}
+tool.get_current_usage_event.operator.id != user.id %} {% if show_wait_list and
+not wait_list_position == 1 or show_wait_list and allow_take_over and
+tool.get_current_usage_event.operator.id != user.id %} Skip Wait List {% endif
+%}
+{% if user.is_staff or user.is_service_personnel and tool in
+user.qualifications.all %}
 ****** {{%% iiff ttooooll..iinn__uussee aanndd aallllooww__ttaakkee__oovveerr aanndd
 ttooooll..ggeett__ccuurrrreenntt__uussaaggee__eevveenntt..ooppeerraattoorr..iidd !!== uusseerr..iidd %%}} YYoouu mmaayy ttaakkee oovveerr uussiinngg
 tthhiiss ttooooll.. {{%% eennddiiff %%}} WWhhaatt wwoouulldd yyoouu lliikkee ttoo ddoo?? ******
 oUse this tool for my own project {% if user.is_staff %}
-oUse this tool on behalf of another user{% if "remote_work"|customization:
-"remote_work_ask_explicitly" %} (no remote){% endif %} {% if
+oUse this tool on behalf of another user {% if "remote_work"|customization:
+"remote_work_ask_explicitly" %}(no remote){% endif %} {% if
 "remote_work"|customization:"remote_work_ask_explicitly" %}
 oUse this tool for a remote project {% endif %} {% if user.charging_staff_time
 %} {% with user.get_staff_charge as staff_charge %}
-oUse this tool for a remote project{% if "remote_work"|customization:
-"remote_work_ask_explicitly" %} (charge staff time{% if
+oUse this tool for a remote project {% if "remote_work"|customization:
+"remote_work_ask_explicitly" %} (charge staff time {% if
 tool.requires_area_access and "remote_work"|customization:
 "remote_work_start_area_access_automatically" == "enabled" %} & {
-{ tool.requires_area_access }} time{% endif %}){% endif %}
+{ tool.requires_area_access }} time {% endif %} ) {% endif %}
 {% endwith %} {% else %}
-oUse this tool for a remote project{% if "remote_work"|customization:
-"remote_work_ask_explicitly" %} (charge staff time{% if
+oUse this tool for a remote project {% if "remote_work"|customization:
+"remote_work_ask_explicitly" %} (charge staff time {% if
 tool.requires_area_access and "remote_work"|customization:
 "remote_work_start_area_access_automatically" == "enabled" %} & {
-{ tool.requires_area_access }} time{% endif %}){% endif %} {% endif %} {% endif
-%}
+{ tool.requires_area_access }} time {% endif %} ) {% endif %} {% endif %} {%
+endif %}
 {% elif tool.operational and not tool.required_resource_is_unavailable and not
 tool.delayed_logoff_in_progress and not tool.scheduled_outage_in_progress %} {%
 include 'tool_control/get_projects.html' with
 active_projects=user.active_projects user_id=user.id %} {% endif %}
 {{ pre_usage_questions }}
 {% if user.is_staff or user.is_service_personnel and tool in
 user.qualifications.all or tool.ready_to_use %}
@@ -206,15 +210,31 @@
 left: 10px" type="save" submit=False icon="glyphicon-play" value="Take over
 using the "|concat:alternate_tool.name onclick="enable_tool('"|concat:
 alternate_tool.id|concat:"'); return false;" %} {% else %} {% button
 style="margin-left: 10px" type="save" submit=False icon="glyphicon-play"
 value="Start using the "|concat:alternate_tool.name onclick="enable_tool
 ('"|concat:alternate_tool.id|concat:"'); return false;" %} {% endif %} {%
 endfor %} {% endif %}
-{% endif %} {% endif %}
+{% endif %}
+{% endif %} {% if show_wait_list %}
+This tool has a wait list. There are {{{{ wwaaiitt__lliisstt..ccoouunntt }}}} people in line to
+use this tool. {% if not wait_list_position == 0 %}
+You are number {{{{ wwaaiitt__lliisstt__ppoossiittiioonn }}}} in line to use this tool. {% endif %}
+{% if wait_list_position == 0 %} {% button type="save" style="margin-right:
+20px;" submit=False icon="glyphicon-list" value="Enter Wait List for "|concat:
+tool.name onclick="enter_wait_list('"|concat:tool.id|concat:"'); return false;"
+%} {% else %} {% button type="delete" style="margin-right: 20px;" submit=False
+icon="glyphicon-trash" value="Exit Wait List for "|concat:tool.name
+onclick="exit_wait_list('"|concat:tool.id|concat:"'); return false;" %} {%
+endif %} {% if wait_list.count > 0 %} Show Wait List {% endif %}
+{% if wait_list.count > 0 %}
+PPoossiittiioonn              UUsseerr
+{{ forloop.counter }} {{ entry.user.get_full_name }}
+{% endif %}
+{% endif %}
 {# Spacer #}
 {% if messages %} {% for message in messages %}
 % if message.extra_tags %}{{ message.extra_tags }}{% endif %} style="display:
 none"> × {{ message }}
 {% endfor %} {% endif %} {% if tool.description or tool.image or
 tool.tooldocuments_set.all and user_can_see_documents %}
 {% if tool.description %}
@@ -256,19 +276,19 @@
 {% endif %} {% if tool.location %}
 The {{ tool.name_or_child_in_use_name }} is located in room {{ tool.location
 }}.
 {% endif %} {% if tool.phone_number %}
 You may dial the phone that is closest to the {{ tool.name_or_child_in_use_name
 }} at extension {{ tool.phone_number }}.
 {% endif %} {% if show_broadcast_qualified_for_regular_user %}
-You can email _a_l_l_ _q_u_a_l_i_f_i_e_d_ _u_s_e_r_s{% if not show_broadcast_upcoming_reservation
-%}.
+You can email _a_l_l_ _q_u_a_l_i_f_i_e_d_ _u_s_e_r_s {% if not show_broadcast_upcoming_reservation
+%} .
 {% endif %} {% endif %} {% if show_broadcast_upcoming_reservation %} {% if
 show_broadcast_qualified_for_regular_user %} or {% else %}
-You can email {% endif %}_ _a_l_l_ _u_s_e_r_s_ _w_i_t_h_ _a_n_ _u_p_c_o_m_i_n_g_ _r_e_s_e_r_v_a_t_i_o_n.
+You can email {% endif %} _a_l_l_ _u_s_e_r_s_ _w_i_t_h_ _a_n_ _u_p_c_o_m_i_n_g_ _r_e_s_e_r_v_a_t_i_o_n.
 {% endif %}
 {% if user.is_staff %}
 {% include 'tool_control/qualified_users.html' %}
 {% elif user in tool.superusers.all or "tool"|customization:
 "tool_control_show_qualified_users_to_all" == "enabled" %} {% with
 tool.user_set.all as qualified_users %} {% if qualified_users %}
 ****** QQuuaalliiffiieedd uusseerrss ******
```

## NEMO/templates/tool_control/usage_data.html

```diff
@@ -1,36 +1,54 @@
 {% load custom_tags_and_filters %}
-<form method="POST" action="{% url 'usage_data_history' tool_id %}" id="usage_data_form" class="form-inline" role="form" style="margin: 15px 0" target="_blank">
-	{% csrf_token %}
-	<input type="hidden" name="csv" id="hidden_data_csv"/>
-	<input type="hidden" name="start" id="hidden_data_start"/>
-	<input type="hidden" name="end" id="hidden_data_end"/>
+<form method="POST"
+      action="{% url 'usage_data_history' tool_id %}"
+      id="usage_data_form"
+      class="form-inline"
+      role="form"
+      style="margin: 15px 0"
+      target="_blank">
+    {% csrf_token %}
+    <input type="hidden" name="csv" id="hidden_data_csv" />
+    <input type="hidden" name="start" id="hidden_data_start" />
+    <input type="hidden" name="end" id="hidden_data_end" />
     <div class="container-fluid">
-
         <div class="row">
             <div class="col-md-8">
                 <div class="row" style="margin-bottom: 15px">
                     <div class="container">
                         <div class="form-group extra-side-padding">
                             <label for="data_history_start_date">From</label>
                         </div>
                         <div class="datetimepicker-container form-group extra-side-padding">
-                            <input type="text" id="data_history_start_date" name="data_history_start_date" class="form-control text-center small-input" placeholder="Start date" value="{{ data_history_start|input_date_format }}">
+                            <input type="text"
+                                   id="data_history_start_date"
+                                   name="data_history_start_date"
+                                   class="form-control text-center small-input"
+                                   placeholder="Start date"
+                                   value="{{ data_history_start|input_date_format }}">
                         </div>
                         <div class="form-group extra-side-padding">
                             <label for="data_history_end_date">to</label>
                         </div>
                         <div class="datetimepicker-container form-group extra-side-padding">
-                            <input type="text" id="data_history_end_date" name="data_history_end_date" class="form-control text-center small-input" placeholder="End date" value="{{ data_history_end|input_date_format }}">
+                            <input type="text"
+                                   id="data_history_end_date"
+                                   name="data_history_end_date"
+                                   class="form-control text-center small-input"
+                                   placeholder="End date"
+                                   value="{{ data_history_end|input_date_format }}">
                         </div>
                         <div class="form-group extra-side-padding">
                             <label for="data_history_last">or last</label>
                         </div>
                         <div class="form-group extra-side-padding">
-                            <select id="data_history_last" name="data_history_last" class="form-control small-input" onchange="if (this.value !== '') {$('#data_history_start_date').val('');$('#data_history_end_date').val('')}">
+                            <select id="data_history_last"
+                                    name="data_history_last"
+                                    class="form-control small-input"
+                                    onchange="if (this.value !== '') {$('#data_history_start_date').val('');$('#data_history_end_date').val('')}">
                                 <option value=""></option>
                                 <option value="10" {% if data_history_last == '10' %}selected{% endif %}>10</option>
                                 <option value="25" {% if data_history_last == '25' %}selected{% endif %}>25</option>
                                 <option value="50" {% if data_history_last == '50' %}selected{% endif %}>50</option>
                                 <option value="100" {% if data_history_last == '100' %}selected{% endif %}>100</option>
                             </select>
                         </div>
@@ -41,115 +59,136 @@
                 </div>
                 <div class="row" style="margin-bottom: 15px">
                     <div class="container">
                         <div class="form-group extra-side-padding">
                             <label for="user_search">Filter by user:</label>
                         </div>
                         <div class="form-group extra-side-padding">
-                            <input type="text" class="form-control" id="user_search" placeholder="Search for a user" {% if data_history_user %}style="display:none"{% endif %} required>
-                            <input type="button" id="chosen_user" class="btn btn-default" {% if not data_history_user %}style="display:none"{% endif %} onclick="clear_selected_user()" value="{{ data_history_user }}">
-                            <input type="hidden" id="data_history_user_id" name="data_history_user_id" value="{{ data_history_user.id }}">
+                            <input type="text"
+                                   class="form-control"
+                                   id="user_search"
+                                   placeholder="Search for a user"
+                                   {% if data_history_user %}style="display:none"{% endif %}
+                                   required>
+                            <input type="button"
+                                   id="chosen_user"
+                                   class="btn btn-default"
+                                   {% if not data_history_user %}style="display:none"{% endif %}
+                                   onclick="clear_selected_user()"
+                                   value="{{ data_history_user }}">
+                            <input type="hidden"
+                                   id="data_history_user_id"
+                                   name="data_history_user_id"
+                                   value="{{ data_history_user.id }}">
                         </div>
                         <div class="checkbox">
-                            <label style="padding-left: 20px"><input type="checkbox" name="show_project_info" {% if show_project_info %}checked{% endif %}> Show project information</label>
+                            <label style="padding-left: 20px">
+                                <input type="checkbox" name="show_project_info" {% if show_project_info %}checked{% endif %}>
+                                Show project information
+                            </label>
                         </div>
                     </div>
                 </div>
             </div>
             <div class="col-md-4">
                 <div class="form-group pull-right extra-side-padding">
                     {% button type="save" submit=False value="Update" onclick="load_usage_data('"|concat:tool_id|concat:"');" icon="glyphicon-refresh" %}
                 </div>
             </div>
         </div>
-
     </div>
 </form>
 {% if run_data_table.rows or pre_run_data_table.rows %}
-<ul class="nav nav-tabs" id="usage-tabs">
-    {% if pre_run_data_table.rows  %}
-    <li class="{% if pre_run_data_table.rows %}active{% endif %}">
-        <a data-toggle="tab" href="#pre-run-data-tab">Pre-Run Data</a>
-    </li>
-    {% endif %}
-    {% if run_data_table.rows  %}
-    <li class="{% if not pre_run_data_table.rows %}active{% endif %}">
-        <a data-toggle="tab" href="#run-data-tab">Run Data</a>
-    </li>
-    {% endif %}
-</ul>
-<div class="tab-content" style="margin-bottom: 0;">
-    <div class="tab-pane {% if pre_run_data_table.rows %}active{% endif %}" id="pre-run-data-tab">
-        <div class="col-md-12">
-            <div class="form-group pull-right extra-side-padding" style="padding-top: 10px">
-                {% button type="export" value="Export" onclick="load_usage_data('"|concat:tool_id|concat:"', 'pre-run');" %}
+    <ul class="nav nav-tabs" id="usage-tabs">
+        {% if pre_run_data_table.rows %}
+            <li class="{% if pre_run_data_table.rows %}active{% endif %}">
+                <a data-toggle="tab" href="#pre-run-data-tab">Pre-Run Data</a>
+            </li>
+        {% endif %}
+        {% if run_data_table.rows %}
+            <li class="{% if not pre_run_data_table.rows %}active{% endif %}">
+                <a data-toggle="tab" href="#run-data-tab">Run Data</a>
+            </li>
+        {% endif %}
+    </ul>
+    <div class="tab-content" style="margin-bottom: 0;">
+        <div class="tab-pane {% if pre_run_data_table.rows %}active{% endif %}" id="pre-run-data-tab">
+            <div class="col-md-12">
+                <div class="form-group pull-right extra-side-padding" style="padding-top: 10px">
+                    {% button type="export" value="Export" onclick="load_usage_data('"|concat:tool_id|concat:"', 'pre-run');" %}
+                </div>
             </div>
-        </div>
-        <div class="panel-body">
-            {% if pre_run_data_table.rows %}
-                <table class="table table-bordered table-condensed" style="margin-top: 10px">
-                    <thead>
-                        <tr>
-                            {% for header in pre_run_data_table.flat_headers %}
-                                <th>{{ header }}</th>
-                            {% endfor %}
-                        </tr>
-                    </thead>
-                    <tbody>
-                        {% for row in pre_run_data_table.flat_rows %}
+            <div class="panel-body">
+                {% if pre_run_data_table.rows %}
+                    <table class="table table-bordered table-condensed" style="margin-top: 10px">
+                        <thead>
                             <tr>
-                                {% for item in row %}
-                                    <td>{% if item|class_name == "list" %}{{ item|join:", " }}{% else %}{{ item|default_if_none:"" }}{% endif %}</td>
-                                {% endfor %}
+                                {% for header in pre_run_data_table.flat_headers %}<th>{{ header }}</th>{% endfor %}
                             </tr>
-                        {% endfor %}
-                    </tbody>
-                </table>
-            {% else %}
-                <span class="italic">No pre-run data was found between these dates</span>
-            {% endif %}
-        </div>
-    </div>
-    <div class="tab-pane {% if not pre_run_data_table.rows %}active{% endif %}" id="run-data-tab">
-        <div class="col-md-12">
-            <div class="form-group pull-right extra-side-padding" style="padding-top: 10px">
-                {% button type="export" value="Export" onclick="load_usage_data('"|concat:tool_id|concat:"', 'run');" %}
+                        </thead>
+                        <tbody>
+                            {% for row in pre_run_data_table.flat_rows %}
+                                <tr>
+                                    {% for item in row %}
+                                        <td>
+                                            {% if item|class_name == "list" %}
+                                                {{ item|join:", " }}
+                                            {% else %}
+                                                {{ item|default_if_none:"" }}
+                                            {% endif %}
+                                        </td>
+                                    {% endfor %}
+                                </tr>
+                            {% endfor %}
+                        </tbody>
+                    </table>
+                {% else %}
+                    <span class="italic">No pre-run data was found between these dates</span>
+                {% endif %}
             </div>
         </div>
-        <div class="panel-body">
-            {% if run_data_table.rows %}
-                <table class="table table-bordered table-condensed" style="margin-top: 10px">
-                    <thead>
-                        <tr>
-                            {% for header in run_data_table.flat_headers %}
-                                <th>{{ header }}</th>
-                            {% endfor %}
-                        </tr>
-                    </thead>
-                    <tbody>
-                        {% for row in run_data_table.flat_rows %}
+        <div class="tab-pane {% if not pre_run_data_table.rows %}active{% endif %}" id="run-data-tab">
+            <div class="col-md-12">
+                <div class="form-group pull-right extra-side-padding" style="padding-top: 10px">
+                    {% button type="export" value="Export" onclick="load_usage_data('"|concat:tool_id|concat:"', 'run');" %}
+                </div>
+            </div>
+            <div class="panel-body">
+                {% if run_data_table.rows %}
+                    <table class="table table-bordered table-condensed" style="margin-top: 10px">
+                        <thead>
                             <tr>
-                                {% for item in row %}
-                                    <td>{% if item|class_name == "list" %}{{ item|join:", " }}{% else %}{{ item|default_if_none:"" }}{% endif %}</td>
-                                {% endfor %}
+                                {% for header in run_data_table.flat_headers %}<th>{{ header }}</th>{% endfor %}
                             </tr>
-                        {% endfor %}
-                    </tbody>
-                </table>
-            {% else %}
-                <span class="italic">No run data was found between these dates</span>
-            {% endif %}
+                        </thead>
+                        <tbody>
+                            {% for row in run_data_table.flat_rows %}
+                                <tr>
+                                    {% for item in row %}
+                                        <td>
+                                            {% if item|class_name == "list" %}
+                                                {{ item|join:", " }}
+                                            {% else %}
+                                                {{ item|default_if_none:"" }}
+                                            {% endif %}
+                                        </td>
+                                    {% endfor %}
+                                </tr>
+                            {% endfor %}
+                        </tbody>
+                    </table>
+                {% else %}
+                    <span class="italic">No run data was found between these dates</span>
+                {% endif %}
+            </div>
         </div>
     </div>
-</div>
 {% else %}
     <span class="italic">No usage data was found between these dates</span>
 {% endif %}
-
-
 <script>
     function clear_selected_user()
     {
         $("#chosen_user").val('').hide();
         $("#user_search").typeahead('val', '').show().focus();
         $("#data_history_user_id").val('');
     }
@@ -158,8 +197,8 @@
         $('#user_search').hide();
         $('#chosen_user').val(search_selection.name).show();
         $('#data_history_user_id').val(search_selection.id);
     }
     $('#user_search').autocomplete('users', select_user, {{ users|json_search_base }});
     $('#data_history_start_date').datetimepicker({format: '{{ date_input_js_format }}'}).on('dp.change', function (e) { $('#data_history_last').val('') });
     $('#data_history_end_date').datetimepicker({format: '{{ date_input_js_format }}'}).on('dp.change', function (e) { $('#data_history_last').val('') });
-</script>
+</script>
```

## NEMO/templates/tool_control/use_tool_for_other.html

```diff
@@ -1,8 +1,8 @@
 <input type="text" id="user_search" placeholder="Which user?" class="form-control" style="width:270px">
-<button id="customer" class="btn btn-default" style="display:none" onclick="clear_customer(); return false"></button><p>
-<div id="customer_project"></div>
-
-<script>
+<button id="customer" class="btn btn-default" style="display:none" onclick="clear_customer(); return false"></button>
+<p>
+    <div id="customer_project"></div>
+    <script>
 	{% load custom_tags_and_filters %}
 	$('#user_search').autocomplete('users', load_projects, {{ users|json_search_base }}).focus();
-</script>
+    </script>
```

## NEMO/templates/training/get_projects.html

```diff
@@ -1,13 +1,13 @@
 {% if projects|length == 0 %}
-	<span class="danger-highlight">No active projects</span>
+    <span class="danger-highlight">No active projects</span>
 {% elif projects|length == 1 %}
-	{{ projects.0.name }}
-	<input type="hidden" name="chosen_project__{{ entry_number }}" value="{{ projects.0.id }}">
+    {{ projects.0.name }}
+    <input type="hidden" name="chosen_project__{{ entry_number }}" value="{{ projects.0.id }}">
 {% else %}
-	<select name="chosen_project__{{ entry_number }}" class="form-control" id="chosen_project__{{ entry_number }}">
-		<option value="-1">&nbsp;</option>
-		{% for p in projects %}
-			<option value="{{ p.id }}">{{ p.name }}</option>
-		{% endfor %}
-	</select>
-{% endif %}
+    <select name="chosen_project__{{ entry_number }}"
+            class="form-control"
+            id="chosen_project__{{ entry_number }}">
+        <option value="-1">&nbsp;</option>
+        {% for p in projects %}<option value="{{ p.id }}">{{ p.name }}</option>{% endfor %}
+    </select>
+{% endif %}
```

## NEMO/templates/training/training.html

```diff
@@ -1,12 +1,12 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block extrahead %}
-	{% load static %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    {% load static %}
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block title %}Training{% endblock %}
 {% block content %}
-	<h1>Training</h1>
-	{% include 'training/training_recording.html' %}
-{% endblock %}
+    <h1>Training</h1>
+    {% include 'training/training_recording.html' %}
+{% endblock %}
```

### html2text {}

```diff
@@ -1,6 +1,7 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% block extrahead
 %} {% load static %}
 }">
-}"/> {% endblock %} {% block title %}Training{% endblock %} {% block content %}
+}" /> {% endblock %} {% block title %}Training{% endblock %} {% block content
+%}
 ************ TTrraaiinniinngg ************
 {% include 'training/training_recording.html' %} {% endblock %}
```

## NEMO/templates/training/training_entry.html

```diff
@@ -1,81 +1,139 @@
 {% load custom_tags_and_filters %}
-<div id="row_{{ entry_number }}" class="row well" style="display: flex; flex-flow: row wrap; padding: 15px 0">
+<div id="row_{{ entry_number }}"
+     class="row well"
+     style="display: flex;
+            flex-flow: row wrap;
+            padding: 15px 0">
     {% with date_allowed="training"|customization:"training_allow_date" %}
-    {% with label_class=date_allowed|yesno:"col-sm-2 col-md-1,col-sm-2 col-md-1" input_class=date_allowed|yesno:"col-sm-4 col-md-3,col-sm-4 col-md-2" %}
-	<div class="text-center" style="width: 3%; margin-left: 5px">
-		<div class="glyphicon glyphicon-remove-circle grey pointer" style="padding: 3px; z-index: 10" onclick="remove_row({{ entry_number }})"></div>
-	</div>
-	<div class="row" style="width: 97%; padding-left: 5px">
-		<label class="control-label {{ label_class }}" for="user_textbox__{{ entry_number }}">Trainee</label>
-		<div class="{{ input_class }}">
-			<input type="text" class="form-control input-sm" id="user_textbox__{{ entry_number }}" name="chosen_user__{{ entry_number }}" data-row="{{ entry_number }}">
-			<input type="button" class="btn btn-sm btn-default" style="display:none" id="user_button__{{ entry_number }}" onclick="purge_trainee({{ entry_number }})" value="user">
-		</div>
-		<label class="control-label {{ label_class }}" for="tool_textbox__{{ entry_number }}">Tool</label>
-		<div class="{{ input_class }}">
-			<input type="text" class="form-control input-sm" id="tool_textbox__{{ entry_number }}" name="chosen_tool__{{ entry_number }}" data-row="{{ entry_number }}">
-		<input type="hidden" id="tool_textbox_type__{{ entry_number }}" name="chosen_type__{{ entry_number }}" data-row="{{ entry_number }}">
-			<input type="button" class="btn btn-sm btn-default" style="display:none" id="tool_button__{{ entry_number }}" onclick="purge_tool({{ entry_number }})" value="tool">
-		</div>
-		<label class="control-label {{ label_class }}" for="project__{{ entry_number }}">Project</label>
-		<div class="{{ input_class }}" id="project__{{ entry_number }}" style="min-height: 30px; vertical-align: middle;"></div>
-        {% if date_allowed %}
-            <label class="control-label {{ label_class }}" for="date__{{ entry_number }}">Date</label>
-            <div class="{{ input_class }}">
-                <input type="text" class="form-control input-sm" name="date__{{ entry_number }}" id="date__{{ entry_number }}" value="{{ date|default_if_none:"" }}">
+        {% with label_class=date_allowed|yesno:"col-sm-2 col-md-1,col-sm-2 col-md-1" input_class=date_allowed|yesno:"col-sm-4 col-md-3,col-sm-4 col-md-2" %}
+            <div class="text-center" style="width: 3%; margin-left: 5px">
+                <div class="glyphicon glyphicon-remove-circle grey pointer"
+                     style="padding: 3px;
+                            z-index: 10"
+                     onclick="remove_row({{ entry_number }})"></div>
             </div>
-        {% endif %}
-		<label class="control-label {{ label_class }}" for="duration__{{ entry_number }}">Duration</label>
-		<div class="{{ input_class }}">
-		<div class="input-group">
-				<input type="number" class="form-control input-sm" name="duration__{{ entry_number }}" id="duration__{{ entry_number }}" min="1" inputmode="numeric" pattern="[0-9]*" required value="{{ duration|default_if_none:"" }}">
-			<div class="input-group-addon">min</div>
-		</div>
-		</div>
-		<label class="control-label {{ label_class }}" for="charge_type__{{ entry_number }}">Type</label>
-		<div class="{{ input_class }}">
-			<select class="form-control input-sm" id="charge_type__{{ entry_number }}" name="charge_type__{{ entry_number }}" required>
-				{% if charge_types|length_is:1 %}
-					<option value="{{ charge_types.0.0 }}" selected>{{ charge_types.0.1 }}</option>
-				{% else %}
-			<option disabled selected value="">&nbsp;</option>
-			{% for charge_type in charge_types %}
-						<option value="{{ charge_type.0 }}" {% if charge_type_id|to_int == charge_type.0 %}selected{% endif %}>{{ charge_type.1 }}</option>
-					{% endfor %}
-				{% endif %}
-			</select>
-		</div>
-		<label class="control-label {{ label_class }}" for="technique__{{ entry_number }}">Technique</label>
-		<div class="{{ input_class }}">
-			<select class="form-control input-sm" id="technique__{{ entry_number }}" name="technique__{{ entry_number }}">
-				<option selected value="">{{ "training"|customization:"training_technique_empty_label" }}</option>
-				{% for technique in techniques %}
-					<option class="technique-option" {% if technique_id|to_int == technique.id %}selected{% else %}style="display: none"{% endif %} value="{{ technique.id }}" {% for tool_id in technique.tool_ids %}technique-tool-{{ tool_id }} {% endfor %}>{{ technique.name }}</option>
-				{% endfor %}
-			</select>
-		</div>
-		<label class="control-label {{ label_class }}" for="comment__{{ entry_number }}">Comment</label>
-		<div class="{{ input_class }}">
-			<input type="text" class="form-control input-sm" name="comment__{{ entry_number }}" id="comment__{{ entry_number }}" maxlength="255">
-		</div>
-		<label class="control-label {{ label_class }}" for="qualify__{{ entry_number }}">Qualified</label>
-		{% if not qualification_levels %}
-			<div class="col-sm-2 col-md-1">
-				<div class="checkbox">
-					<label><input type="checkbox" id="qualify__{{ entry_number }}" name="qualify__{{ entry_number }}" checked></label>
-				</div>
-			</div>
-		{% else %}
-			<div class="{{ input_class }}">
-				<select class="form-control input-sm" name="qualify__{{ entry_number }}" id="qualify__{{ entry_number }}" required>
-					<option disabled selected value="">&nbsp;</option>
-					{% for ql in qualification_levels %}
-						<option value="{{ ql.id }}">{{ ql.name }}</option>
-			{% endfor %}
-		</select>
-			</div>
-		{% endif %}
-	</div>
-    {% endwith %}
+            <div class="row" style="width: 97%; padding-left: 5px">
+                <label class="control-label {{ label_class }}" for="user_textbox__{{ entry_number }}">Trainee</label>
+                <div class="{{ input_class }}">
+                    <input type="text"
+                           class="form-control input-sm"
+                           id="user_textbox__{{ entry_number }}"
+                           name="chosen_user__{{ entry_number }}"
+                           data-row="{{ entry_number }}">
+                    <input type="button"
+                           class="btn btn-sm btn-default"
+                           style="display:none"
+                           id="user_button__{{ entry_number }}"
+                           onclick="purge_trainee({{ entry_number }})"
+                           value="user">
+                </div>
+                <label class="control-label {{ label_class }}" for="tool_textbox__{{ entry_number }}">Tool</label>
+                <div class="{{ input_class }}">
+                    <input type="text"
+                           class="form-control input-sm"
+                           id="tool_textbox__{{ entry_number }}"
+                           name="chosen_tool__{{ entry_number }}"
+                           data-row="{{ entry_number }}">
+                    <input type="hidden"
+                           id="tool_textbox_type__{{ entry_number }}"
+                           name="chosen_type__{{ entry_number }}"
+                           data-row="{{ entry_number }}">
+                    <input type="button"
+                           class="btn btn-sm btn-default"
+                           style="display:none"
+                           id="tool_button__{{ entry_number }}"
+                           onclick="purge_tool({{ entry_number }})"
+                           value="tool">
+                </div>
+                <label class="control-label {{ label_class }}" for="project__{{ entry_number }}">Project</label>
+                <div class="{{ input_class }}"
+                     id="project__{{ entry_number }}"
+                     style="min-height: 30px;
+                            vertical-align: middle"></div>
+                {% if date_allowed %}
+                    <label class="control-label {{ label_class }}" for="date__{{ entry_number }}">Date</label>
+                    <div class="{{ input_class }}">
+                        <input type="text"
+                               class="form-control input-sm"
+                               name="date__{{ entry_number }}"
+                               id="date__{{ entry_number }}"
+                               value="{{ date|default_if_none:"" }}">
+                    </div>
+                {% endif %}
+                <label class="control-label {{ label_class }}" for="duration__{{ entry_number }}">Duration</label>
+                <div class="{{ input_class }}">
+                    <div class="input-group">
+                        <input type="number"
+                               class="form-control input-sm"
+                               name="duration__{{ entry_number }}"
+                               id="duration__{{ entry_number }}"
+                               min="1"
+                               inputmode="numeric"
+                               pattern="[0-9]*"
+                               required
+                               value="{{ duration|default_if_none:"" }}">
+                        <div class="input-group-addon">min</div>
+                    </div>
+                </div>
+                <label class="control-label {{ label_class }}" for="charge_type__{{ entry_number }}">Type</label>
+                <div class="{{ input_class }}">
+                    <select class="form-control input-sm"
+                            id="charge_type__{{ entry_number }}"
+                            name="charge_type__{{ entry_number }}"
+                            required>
+                        {% if charge_types|length_is:1 %}
+                            <option value="{{ charge_types.0.0 }}" selected>{{ charge_types.0.1 }}</option>
+                        {% else %}
+                            <option disabled selected value="">&nbsp;</option>
+                            {% for charge_type in charge_types %}
+                                <option value="{{ charge_type.0 }}" {% if charge_type_id|to_int == charge_type.0 %}selected{% endif %}>
+                                    {{ charge_type.1 }}
+                                </option>
+                            {% endfor %}
+                        {% endif %}
+                    </select>
+                </div>
+                <label class="control-label {{ label_class }}" for="technique__{{ entry_number }}">Technique</label>
+                <div class="{{ input_class }}">
+                    <select class="form-control input-sm"
+                            id="technique__{{ entry_number }}"
+                            name="technique__{{ entry_number }}">
+                        <option selected value="">{{ "training"|customization:"training_technique_empty_label" }}</option>
+                        {% for technique in techniques %}
+                            <option class="technique-option" {% if technique_id|to_int == technique.id %}selected{% else %}style="display: none"{% endif %} value="{{ technique.id }}" {% for tool_id in technique.tool_ids %}technique-tool-{{ tool_id }}{% endfor %}>{{ technique.name }}
+                            </option>
+                        {% endfor %}
+                    </select>
+                </div>
+                <label class="control-label {{ label_class }}" for="comment__{{ entry_number }}">Comment</label>
+                <div class="{{ input_class }}">
+                    <input type="text"
+                           class="form-control input-sm"
+                           name="comment__{{ entry_number }}"
+                           id="comment__{{ entry_number }}"
+                           maxlength="255">
+                </div>
+                <label class="control-label {{ label_class }}" for="qualify__{{ entry_number }}">Qualified</label>
+                {% if not qualification_levels %}
+                    <div class="col-sm-2 col-md-1">
+                        <div class="checkbox">
+                            <label>
+                                <input type="checkbox" id="qualify__{{ entry_number }}" name="qualify__{{ entry_number }}" checked>
+                            </label>
+                        </div>
+                    </div>
+                {% else %}
+                    <div class="{{ input_class }}">
+                        <select class="form-control input-sm"
+                                name="qualify__{{ entry_number }}"
+                                id="qualify__{{ entry_number }}"
+                                required>
+                            <option disabled selected value="">&nbsp;</option>
+                            {% for ql in qualification_levels %}<option value="{{ ql.id }}">{{ ql.name }}</option>{% endfor %}
+                        </select>
+                    </div>
+                {% endif %}
+            </div>
+        {% endwith %}
     {% endwith %}
-</div>
+</div>
```

## NEMO/templates/training/training_recording.html

```diff
@@ -2,29 +2,32 @@
 <style>
 	#training_session_form .tt-input
 	{
 		vertical-align: middle !important;
 	}
 </style>
 <p>Use this form to charge users for training sessions.</p>
-<p>You can add participants to a training session by clicking the 'Add another participant' link.
-Remove a participant or blank row by clicking the circled X on that row.</p>
-<p>When a user has successfully completed a training session you have the option to check the "Qualify" box, which qualifies the user for that tool.</p>
+<p>
+    You can add participants to a training session by clicking the 'Add another participant' link.
+    Remove a participant or blank row by clicking the circled X on that row.
+</p>
+<p>
+    When a user has successfully completed a training session you have the option to check the "Qualify" box, which qualifies the user for that tool.
+</p>
 <br>
 <form class="form-horizontal" onsubmit="return on_submit()" id="training_session_form">
-	{% csrf_token %}
-	{# Rows are inserted here upon load & when "Add another participant" is clicked. #}
-	{% include 'training/training_entry.html' with entry_number=0 %}
-	<div class="row text-center">
-		<a href="javascript:void(0)" onclick="add_participant()">Add another participant</a>
-	</div>
-	{# Note: onclick need to stay blank so it will trigger the onsumbit of this form #}
-	{% button id="record_training_sessions" type="save" value="Record training sessions" onclick="" %}
+    {% csrf_token %}
+    {# Rows are inserted here upon load & when "Add another participant" is clicked. #}
+    {% include 'training/training_entry.html' with entry_number=0 %}
+    <div class="row text-center">
+        <a href="javascript:void(0)" onclick="add_participant()">Add another participant</a>
+    </div>
+    {# Note: onclick need to stay blank so it will trigger the onsumbit of this form #}
+    {% button id="record_training_sessions" type="save" value="Record training sessions" onclick="" %}
 </form>
-
 <script type="text/javascript">
 
     let timepicker_properties = {format: '{{ datetime_input_js_format }}'};
 	let current_entry_number = 1;
 	function add_participant(data)
 	{
         if (data === undefined) data = {}
@@ -154,8 +157,8 @@
 	function on_load()
 	{
 		enable_autocompletion(0);
 	}
 
 	$(on_load);
 
-</script>
+</script>
```

## NEMO/templates/training_new/training_base.html

```diff
@@ -1,60 +1,60 @@
 {% extends "base.html" %}
 {% load training_tags %}
 {% block extrahead %}
-	{% load static %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    {% load static %}
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block title %}Training dashboard{% endblock %}
 {% block content %}
-	<h1 style="margin-top: 0; margin-bottom: 25px">Training dashboard</h1>
-	<ul class="nav nav-tabs">
-		{% url 'training_requests' as training_requests_url %}
-		<li class="nav-item{% if training_requests_url in request.path %} active{% endif %}">
-			<a class="nav-link" href="{{ training_requests_url }}">My training requests
-				{% if training_invitation_notification_count %}
-					<span class="badge badge-tab-top">{{ training_invitation_notification_count }}</span>
-				{% endif %}
-			</a>
-		</li>
-		{% url 'training_history' as training_history_url %}
-		<li class="nav-item{% if training_history_url in request.path %} active{% endif %}">
-			<a class="nav-link" href="{{ training_history_url }}">Training history</a>
-		</li>
-		{% url 'upcoming_training_events' as upcoming_events_url %}
-		<li class="nav-item{% if upcoming_events_url in request.path %} active{% endif %}">
-			<a class="nav-link" href="{{ upcoming_events_url }}">Upcoming training sessions</a>
-		</li>
-		{% if user|is_trainer %}
-			{% url 'schedule_training_events' as schedule_training_events_url %}
-			<li class="nav-item{% if schedule_training_events_url in request.path %} active{% endif %}">
-				<a class="nav-link" href="{{ schedule_training_events_url }}">Schedule training sessions
-					{% if training_request_notification_count %}
-						<span class="badge badge-tab-top">{{ training_request_notification_count }}</span>
-					{% endif %}
-				</a>
-			</li>
-			{% url 'manage_training_events' as manage_training_events_url %}
-			<li class="nav-item{% if manage_training_events_url in request.path %} active{% endif %}">
-				<a class="nav-link" href="{{ manage_training_events_url }}">Manage training sessions</a>
-			</li>
-			{% url 'record_training_events' as record_training_events_url %}
-			<li class="nav-item{% if record_training_events_url in request.path %} active{% endif %}">
-				<a class="nav-link" href="{{ record_training_events_url }}">Record and charge</a>
-			</li>
-		{% endif %}
-	</ul>
-	<div class="tab-content panel panel-default panel-tab-content">
-		<div class="panel-body">
-			{% block tab_content %}{% endblock %}
-		</div>
-	</div>
-	{% include 'snippets/confirm_action_modal.html' %}
-	<script>
+    <h1 style="margin-top: 0; margin-bottom: 25px">Training dashboard</h1>
+    <ul class="nav nav-tabs">
+        {% url 'training_requests' as training_requests_url %}
+        <li class="nav-item{% if training_requests_url in request.path %} active{% endif %}">
+            <a class="nav-link" href="{{ training_requests_url }}">My training requests
+                {% if training_invitation_notification_count %}
+                    <span class="badge badge-tab-top">{{ training_invitation_notification_count }}</span>
+                {% endif %}
+            </a>
+        </li>
+        {% url 'training_history' as training_history_url %}
+        <li class="nav-item{% if training_history_url in request.path %} active{% endif %}">
+            <a class="nav-link" href="{{ training_history_url }}">Training history</a>
+        </li>
+        {% url 'upcoming_training_events' as upcoming_events_url %}
+        <li class="nav-item{% if upcoming_events_url in request.path %} active{% endif %}">
+            <a class="nav-link" href="{{ upcoming_events_url }}">Upcoming training sessions</a>
+        </li>
+        {% if user|is_trainer %}
+            {% url 'schedule_training_events' as schedule_training_events_url %}
+            <li class="nav-item{% if schedule_training_events_url in request.path %} active{% endif %}">
+                <a class="nav-link" href="{{ schedule_training_events_url }}">Schedule training sessions
+                    {% if training_request_notification_count %}
+                        <span class="badge badge-tab-top">{{ training_request_notification_count }}</span>
+                    {% endif %}
+                </a>
+            </li>
+            {% url 'manage_training_events' as manage_training_events_url %}
+            <li class="nav-item{% if manage_training_events_url in request.path %} active{% endif %}">
+                <a class="nav-link" href="{{ manage_training_events_url }}">Manage training sessions</a>
+            </li>
+            {% url 'record_training_events' as record_training_events_url %}
+            <li class="nav-item{% if record_training_events_url in request.path %} active{% endif %}">
+                <a class="nav-link" href="{{ record_training_events_url }}">Record and charge</a>
+            </li>
+        {% endif %}
+    </ul>
+    <div class="tab-content panel panel-default panel-tab-content">
+        <div class="panel-body">
+            {% block tab_content %}{% endblock %}
+        </div>
+    </div>
+    {% include 'snippets/confirm_action_modal.html' %}
+    <script>
 		let general_failure_callback = ajax_failure_callback("There was an error sending your request")
 
 		function training_callback_success()
 		{
 			location.reload();
 		}
 
@@ -74,9 +74,10 @@
             	window.location = url;
             {% else %}
 				post = post || false;
 				if (post) ajax_post(url, undefined, ajax_success_callback, general_failure_callback);
 				else ajax_get(url, undefined, ajax_success_callback, general_failure_callback);
             {% endif %}
 		}
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,11 +1,11 @@
 {% extends "base.html" %} {% load training_tags %} {% block extrahead %} {%
 load static %}
 }">
-}"/> {% endblock %} {% block title %}Training dashboard{% endblock %} {% block
+}" /> {% endblock %} {% block title %}Training dashboard{% endblock %} {% block
 content %}
 ************ TTrraaiinniinngg ddaasshhbbooaarrdd ************
     * {% url 'training_requests' as training_requests_url %}
     * _M_y_ _t_r_a_i_n_i_n_g_ _r_e_q_u_e_s_t_s_ _{_%_ _i_f_ _t_r_a_i_n_i_n_g___i_n_v_i_t_a_t_i_o_n___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _%_}_ _{
       _{_ _t_r_a_i_n_i_n_g___i_n_v_i_t_a_t_i_o_n___n_o_t_i_f_i_c_a_t_i_o_n___c_o_u_n_t_ _}_}_ _{_%_ _e_n_d_i_f_ _%_}
     * {% url 'training_history' as training_history_url %}
     * _T_r_a_i_n_i_n_g_ _h_i_s_t_o_r_y
```

## NEMO/templates/training_new/training_history.html

```diff
@@ -1,96 +1,110 @@
 {% extends 'training_new/training_base.html' %}
 {% load custom_tags_and_filters %}
 {% block tab_content %}
-	{# we cannot extend pagination page directly since we are already extending training_base #}
-	{% block before_pagination %}
-		<div class="row form-horizontal">
-			{% if managed_users %}
-				<div class="control-label col-sm-2">
-					<label for="selected_user">Managed user</label>
-				</div>
-				<div class="col-sm-4">
-					<select class="form-control" id="selected_user" name="selected_user" onchange="window.location.href = '{{ request.path|concat:"?selected_user=" }}'+this.value">
-						<option selected value="">Me</option>
-						{% for managed_user in managed_users %}
-							<option value="{{ managed_user.id }}" {% if selected_user.id == managed_user.id %}selected{% endif %}>{{ managed_user }}</option>
-						{% endfor %}
-					</select>
-				</div>
-			{% endif %}
-			<div class="{% if not managed_users %}col-sm-offset-6{% endif %} col-sm-6 text-right">
-				{% button type="export" value="Export" url=request.path|concat:"?selected_user="|concat:selected_user.id|concat:"&csv=true" target="_blank" %}
-			</div>
-		</div>
-	{% endblock %}
-	{% block pagination_header %}
-		<div class="pagination pull-left">
-			<div class="btn-group" role="group" style="display: inline-flex">
-				<button type="button" class="btn btn-default {% if not action_mode %}active{% endif %}" onclick="location.href = '?action_mode=False'" {% if not action_mode %}aria-pressed="true"{% endif %}>My history</button>
-				<button type="button" class="btn btn-default {% if action_mode %}active{% endif %}" onclick="location.href = '?action_mode=True'" {% if action_mode %}aria-pressed="true"{% endif %}>My actions</button>
-			</div>
-		</div>
-		<div class="pagination pull-right">
-			{% include "pagination/pagination_selector.html" %}
-		</div>
-	{% endblock %}
-	{% if page %}
-		{% with paginator=page.paginator %}
+    {# we cannot extend pagination page directly since we are already extending training_base #}
+    {% block before_pagination %}
+        <div class="row form-horizontal">
+            {% if managed_users %}
+                <div class="control-label col-sm-2">
+                    <label for="selected_user">Managed user</label>
+                </div>
+                <div class="col-sm-4">
+                    <select class="form-control"
+                            id="selected_user"
+                            name="selected_user"
+                            onchange="window.location.href = '{{ request.path|concat:"?selected_user=" }}'+this.value">
+                        <option selected value="">Me</option>
+                        {% for managed_user in managed_users %}
+                            <option value="{{ managed_user.id }}" {% if selected_user.id == managed_user.id %}selected{% endif %}>
+                                {{ managed_user }}
+                            </option>
+                        {% endfor %}
+                    </select>
+                </div>
+            {% endif %}
+            <div class="{% if not managed_users %}col-sm-offset-6{% endif %} col-sm-6 text-right">
+                {% button type="export" value="Export" url=request.path|concat:"?selected_user="|concat:selected_user.id|concat:"&csv=true" target="_blank" %}
+            </div>
+        </div>
+    {% endblock %}
+    {% block pagination_header %}
+        <div class="pagination pull-left">
+            <div class="btn-group" role="group" style="display: inline-flex">
+                <button type="button"
+                        class="btn btn-default {% if not action_mode %}active{% endif %}"
+                        onclick="location.href = '?action_mode=False'"
+                        {% if not action_mode %}aria-pressed="true"{% endif %}>My history</button>
+                <button type="button"
+                        class="btn btn-default {% if action_mode %}active{% endif %}"
+                        onclick="location.href = '?action_mode=True'"
+                        {% if action_mode %}aria-pressed="true"{% endif %}>My actions</button>
+            </div>
+        </div>
+        <div class="pagination pull-right">{% include "pagination/pagination_selector.html" %}</div>
+    {% endblock %}
+    {% if page %}
+        {% with paginator=page.paginator %}
             <div class="table-responsive" style="border: none; width: 100%">
-			    {% block pagination_content %}
-					<table class="table table-borderless table-align-middle" style="margin-bottom: 0">
-						<thead>
-							<tr>
-								<th>{% include 'pagination/pagination_column.html' with order_by='time' name='Time' %}</th>
-								<th>{% include 'pagination/pagination_column.html' with order_by='type_order' name='Type' %}</th>
-								<th>{% include 'pagination/pagination_column.html' with order_by='tool_order' name='Tool' %}</th>
-								<th>Date(s)</th>
-								<th>{% include 'pagination/pagination_column.html' with order_by='status' name='Status' %}</th>
-								{% if not action_mode %}
-									<th>{% include 'pagination/pagination_column.html' with order_by='user' name='By' %}</th>
-								{% endif %}
-							</tr>
-						</thead>
-						<tbody>
-							{% for training_history in page %}
-								<tr>
-									<td>{{ training_history.time|date:"SHORT_DATETIME_FORMAT" }}</td>
-									<td>{{ training_history.training_item_type }}</td>
-									<td>{{ training_history.tool }}</td>
-									<td>
-										<div class="training-dates">
-											{% for date_time in training_history.dates %}
-												{{ date_time }}{% if not forloop.last %}<br>{% endif %}
-											{% endfor %}
-										</div>
-									</td>
-									<td>
-										{{ training_history.status }}{% if training_history.qualification_level %} ({{ training_history.qualification_level }}){% endif %}
-										{% if training_history.details %}<span title="{{ training_history.details }}" data-toggle="tooltip"><i class="primary-highlight glyphicon glyphicon-info-sign"></i></span>{% endif %}
-									</td>
-									{% if not action_mode %}
-										<td>
-											{% if training_history.user == user %}Me{% else %}{{ training_history.user|default_if_none:SYSTEM_USER_DISPLAY }}{% endif %}
-										</td>
-									{% endif %}
-								</tr>
-							{% endfor %}
-						</tbody>
-					</table>
-			    {% endblock %}
+                {% block pagination_content %}
+                    <table class="table table-borderless table-align-middle" style="margin-bottom: 0">
+                        <thead>
+                            <tr>
+                                <th>{% include 'pagination/pagination_column.html' with order_by='time' name='Time' %}</th>
+                                <th>{% include 'pagination/pagination_column.html' with order_by='type_order' name='Type' %}</th>
+                                <th>{% include 'pagination/pagination_column.html' with order_by='tool_order' name='Tool' %}</th>
+                                <th>Date(s)</th>
+                                <th>{% include 'pagination/pagination_column.html' with order_by='status' name='Status' %}</th>
+                                {% if not action_mode %}
+                                    <th>{% include 'pagination/pagination_column.html' with order_by='user' name='By' %}</th>
+                                {% endif %}
+                            </tr>
+                        </thead>
+                        <tbody>
+                            {% for training_history in page %}
+                                <tr>
+                                    <td>{{ training_history.time|date:"SHORT_DATETIME_FORMAT" }}</td>
+                                    <td>{{ training_history.training_item_type }}</td>
+                                    <td>{{ training_history.tool }}</td>
+                                    <td>
+                                        <div class="training-dates">
+                                            {% for date_time in training_history.dates %}
+                                                {{ date_time }}
+                                                {% if not forloop.last %}<br>{% endif %}
+                                            {% endfor %}
+                                        </div>
+                                    </td>
+                                    <td>
+                                        {{ training_history.status }}
+                                        {% if training_history.qualification_level %}({{ training_history.qualification_level }}){% endif %}
+                                        {% if training_history.details %}
+                                            <span title="{{ training_history.details }}" data-toggle="tooltip"><i class="primary-highlight glyphicon glyphicon-info-sign"></i></span>
+                                        {% endif %}
+                                    </td>
+                                    {% if not action_mode %}
+                                        <td>
+                                            {% if training_history.user == user %}
+                                                Me
+                                            {% else %}
+                                                {{ training_history.user|default_if_none:SYSTEM_USER_DISPLAY }}
+                                            {% endif %}
+                                        </td>
+                                    {% endif %}
+                                </tr>
+                            {% endfor %}
+                        </tbody>
+                    </table>
+                {% endblock %}
             </div>
-
-			{% block pagination_footer %}
-                <div class="pagination pull-right">
-                    {% include "pagination/pagination_pages.html" %}
-                </div>
+            {% block pagination_footer %}
+                <div class="pagination pull-right">{% include "pagination/pagination_pages.html" %}</div>
             {% endblock %}
-		{% endwith %}
-	{% else %}
-		{% block table_empty_content %}<div class="pull-left form-control-static" style="clear: both"><i>You do not have any training history.</i></div>{% endblock %}
-	{% endif %}
-	{% block after_pagination %}
-		<script>
-			$('[data-toggle="tooltip"]').tooltip();
-		</script>
-	{% endblock %}
-{% endblock %}
+        {% endwith %}
+    {% else %}
+        {% block table_empty_content %}
+            <div class="pull-left form-control-static" style="clear: both">
+                <i>You do not have any training history.</i>
+            </div>
+        {% endblock %}
+    {% endif %}
+    {% block after_pagination %}<script>$('[data-toggle="tooltip"]').tooltip();</script>{% endblock %}
+{% endblock %}
```

### html2text {}

```diff
@@ -2,15 +2,15 @@
 %} {% block tab_content %} {# we cannot extend pagination page directly since
 we are already extending training_base #} {% block before_pagination %}
 {% if managed_users %}
 Managed user
 selected_user=" }}'+this.value">
 Me
 {% for managed_user in managed_users %}
-% if selected_user.id == managed_user.id %}selected{% endif %}>{{ managed_user
+% if selected_user.id == managed_user.id %}selected{% endif %}> {{ managed_user
 }}
 {% endfor %}
 {% endif %}
 {% button type="export" value="Export" url=request.path|concat:
 "?selected_user="|concat:selected_user.id|concat:"&csv=true" target="_blank" %}
 {% endblock %} {% block pagination_header %}
 % if not action_mode %}aria-pressed="true"{% endif %}>My history
@@ -19,21 +19,21 @@
 {% endblock %} {% if page %} {% with paginator=page.paginator %}
 {% block pagination_content %}
 {{%% iinncclluuddee ''ppaaggiinnaattiioonn//     {{%% iinncclluuddee ''ppaaggiinnaattiioonn//             {{%% iinncclluuddee ''ppaaggiinnaattiioonn//
 ppaaggiinnaattiioonn__ccoolluummnn..hhttmmll''     ppaaggiinnaattiioonn__ccoolluummnn..hhttmmll'' wwiitthh        ppaaggiinnaattiioonn__ccoolluummnn..hhttmmll''                        {{%% iinncclluuddee ''ppaaggiinnaattiioonn//              {{%% iinncclluuddee ''ppaaggiinnaattiioonn//
 wwiitthh oorrddeerr__bbyy==''ttiimmee''        oorrddeerr__bbyy==''ttyyppee__oorrddeerr'' nnaammee==''TTyyppee''   wwiitthh                    DDaattee((ss))                ppaaggiinnaattiioonn__ccoolluummnn..hhttmmll'' wwiitthh         ppaaggiinnaattiioonn__ccoolluummnn..hhttmmll'' wwiitthh
 nnaammee==''TTiimmee'' %%}}              %%}}                                  oorrddeerr__bbyy==''ttooooll__oorrddeerr''                          oorrddeerr__bbyy==''ssttaattuuss'' nnaammee==''SSttaattuuss'' %%}}   oorrddeerr__bbyy==''uusseerr'' nnaammee==''BByy'' %%}}
                                                                 nnaammee==''TTooooll'' %%}}
-                                                                                                               {{ training_history.status }}{% if
-                                                                                        {% for date_time in    training_history.qualification_level {% if training_history.user == user
-{                           {                                   {                       training_history.dates %} ({                                %}Me{% else %}{
-{                           {                                   { training_history.tool %} {{ date_time }}{%   {                                    {
+                                                                                                               {{ training_history.status }} {% if
+                                                                                        {% for date_time in    training_history.qualification_level {% if training_history.user == user %}
+{                           {                                   {                       training_history.dates %}({                                 Me {% else %} {
+{                           {                                   { training_history.tool %} {{ date_time }} {%  {                                    {
 training_history.time|date: training_history.training_item_type }}                      if not forloop.last %} training_history.qualification_level training_history.user|default_if_none:
-"SHORT_DATETIME_FORMAT" }}  }}                                                          {% endif %} {% endfor  }}){% endif %} {% if                 SYSTEM_USER_DISPLAY }}{% endif %}
-                                                                                        %}                     training_history.details %}{% endif
+"SHORT_DATETIME_FORMAT" }}  }}                                                          {% endif %} {% endfor  }}){% endif %} {% if                 SYSTEM_USER_DISPLAY }} {% endif %}
+                                                                                        %}                     training_history.details %} {% endif
                                                                                                                %}
 {% endblock %}
 {% block pagination_footer %}
 {% include "pagination/pagination_pages.html" %}
 {% endblock %} {% endwith %} {% else %} {% block table_empty_content %}
 You do not have any training history.
 {% endblock %} {% endif %} {% block after_pagination %}
```

## NEMO/templates/training_new/training_sessions.html

```diff
@@ -1,14 +1,14 @@
 {% extends 'training_new/training_base.html' %}
 {% load custom_tags_and_filters %}
 {% block tab_content %}
-	{% include 'training/training_recording.html' %}
-	<script>
+    {% include 'training/training_recording.html' %}
+    <script>
 		{# Add training event id if provided, so the training can be marked as recorded #}
-		$('#training_session_form').append('<input type="hidden" name="training_event_id" value="{{ training_event.id }}"/>');
+		$('#training_session_form').append('<input type="hidden" name="training_event_id" value="{{ training_event.id }}" />');
         async function add_training_entries()
         {
             {% for trained_user in training_event.users.all %}
                 {% with project=training_user_project_map|get_item:trained_user.id %}
 					add_participant({"tool": "{{ training_event.tool_id }}", "duration": "{{ training_event.duration }}", "charge_type_id": "{% if training_event.users.count == 1 %}0{% else %}1{% endif %}", "technique_id": "{{ training_event.technique_id|default_if_none:'' }}"{% if project %}, "project_id": "{{ project.id }}"{% endif %}});
 					{# We have to use this to wait until the resulting element is created (with twitter autocompletion), otherwise the counter of rows is not incremented in add_participant #}
 					await wait_for_element(".twitter-typeahead #user_textbox__{{ forloop.counter }}");
@@ -23,9 +23,10 @@
 						$("#date__" + {{ forloop.counter }}).val("{{ training_event.start|input_date_format }}");
                     {% endif %}
                 {% endwith %}
             {% endfor %}
             remove_row(0);
 		}
         if ('{{ training_event.id }}') add_training_entries();
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

## NEMO/templates/training_new/training_events/create_event.html

```diff
@@ -1,181 +1,232 @@
 {% extends mobile_device|yesno:"base.html,base/popup.html" %}
 {% if mobile_device %}
-	{% block extrahead %}
-		{% load static %}
-		<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-		<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
-	{% endblock %}
+    {% block extrahead %}
+        {% load static %}
+        <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+        <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
+    {% endblock %}
 {% endif %}
 {% load custom_tags_and_filters %}
 {% load tz %}
-{% block title %}{% if form.instance.pk %}Edit{% else %}New{% endif %} training session{% endblock %}
+{% block title %}
+    {% if form.instance.pk %}
+        Edit
+    {% else %}
+        New
+    {% endif %}
+    training session
+{% endblock %}
 {% block content %}
-	{% if not selected_tool %}
-		<div class="form-horizontal">
-			<div class="form-group">
-				<label class="control-label col-sm-3 col-md-2" for="tool_search">Tool</label>
-				<div class="col-sm-6 col-md-4">
-					<input type="text" class="form-control" id="tool_search" placeholder="Search for a tool" required>
-				</div>
-			</div>
-		</div>
-	{% else %}
-		<div class="col-sm-12">
-			{% if form.errors %}
-				<div class="alert alert-danger">
-					Oops! Something went wrong. Please correct the errors highlighted below.<br>
-					{{ form.non_field_errors }}
-				</div>
-			{% endif %}
-		</div>
-		<form id="training_event_form" class="form-horizontal" action="{% if form.instance.pk %}{% url 'edit_training_event' form.instance.pk %}{% else %}{% url 'create_training_event' %}{% endif %}" method="POST">
-			{% csrf_token %}
-			<div class="form-group">
-				<label class="control-label col-sm-3 col-md-2" for="tool_search">Tool</label>
-				<div class="col-sm-9">
-					<input type="button" id="chosen_tool" class="btn btn-default" {% if form.instance.id %} disabled{% endif %} onclick="$('#dialog .modal-dialog').removeClass('modal-lg');reload_url('{% url 'create_training_event' %}')" value="{{ selected_tool.name }}">
-					<input type="hidden" id="tool" name="tool" value="{{ selected_tool.id }}">
-				</div>
-			</div>
-			{% if training_details.techniques.all %}
-				<div class="form-group">
-					<label class="col-sm-3 col-md-2 control-label" for="technique">Technique</label>
-					<div class="col-sm-5 col-md-4">
-						<select class="form-control" name="technique" id="technique">
-							<option value="">{{ "training"|customization:"training_technique_empty_label" }}</option>
-							{% for technique in training_details.techniques.all %}
-								<option label="{{ technique.name }}" value="{{ technique.id }}" {% if form.technique.value|to_int == technique.id %}selected{% endif %}></option>
-							{% endfor %}
-						</select>
-					</div>
-					{% if form.technique.errors %}
-						<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
-							{{ form.technique.errors|striptags }}
-						</div>
-					{% endif %}
-				</div>
-			{% endif %}
-			<div class="form-group">
-				<label class="control-label col-sm-3 col-md-2" for="start">Start</label>
-				<div class="col-sm-5 col-md-4">
-					<input class="form-control" name="start" id="start" value="{{ form.start.value|input_date_format }}" required>
-				</div>
-				{% if suggested_times %}
-					<div class="hidden-xs col-sm-4 col-md-5 text-right" style="position: relative">
-						<div style="position: absolute; right: 15px">
-						<div style="text-decoration: underline;margin-bottom: 5px">Suggested times:</div>
-						{% for suggested_time in suggested_times %}
-							<div>
-								<span onclick="$('#start').val('{{ suggested_time.0.0|localtime|input_date_format }}')" title="Set this time as the start time"><span class="grey glyphicon glyphicon-chevron-left"></span> {{ suggested_time.0.0 }}<br>({{ suggested_time.1|join:' & ' }})</span><br>
-							</div>
-						{% endfor %}
-						</div>
-					</div>
-				{% endif %}
-				{% if form.start.errors %}
-					<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
-						{{ form.start.errors|striptags }}
-					</div>
-				{% endif %}
-			</div>
-			<div class="form-group">
-				<label class="col-sm-3 col-md-2 control-label" for="duration">Duration</label>
-				<div class="col-sm-5 col-md-4">
-					<div class="input-group">
-						<input class="form-control" name="duration" id="duration" type="number" min="15" value="{{ form.duration.value|default_if_none:'' }}" required>
-						<span class="input-group-addon">minutes</span>
-					</div>
-				</div>
-				{% if form.duration.errors %}
-					<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
-						{{ form.duration.errors|striptags }}
-					</div>
-				{% endif %}
-			</div>
-			<div class="form-group">
-				<label class="col-sm-3 col-md-2 control-label" for="capacity">Capacity</label>
-				<div class="col-sm-5 col-md-4">
-					<div class="input-group">
-						<input class="form-control" name="capacity" id="capacity" type="number" min="1" value="{{ form.capacity.value|default_if_none:'' }}" required>
-						<span class="input-group-addon">attendees</span>
-					</div>
-				</div>
-				{% if form.capacity.errors %}
-					<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
-						{{ form.capacity.errors|striptags }}
-					</div>
-				{% endif %}
-			</div>
-			<div class="form-group">
-				<label class="col-sm-3 col-md-2 control-label" for="invitation_only">Invitation only</label>
-				<div class="col-sm-5 col-md-4">
-					<div class="checkbox">
-						<label><input type="checkbox" name="invitation_only" id="invitation_only" {% if form.invitation_only.value %}checked{% endif %}>Only invited users can register</label>
-					</div>
-				</div>
-				{% if form.invitation_only.errors %}
-					<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
-						{{ form.invitation_only.errors|striptags }}
-					</div>
-				{% endif %}
-			</div>
-			{% if form.instance.id and form.instance.users.all %}
-				<div class="form-group">
-					<label class="control-label col-sm-3 col-md-2" for="_search">Attendees</label>
-					<div id="registered-user-list" class="col-sm-9 form-control-static">
-						No users have registered for this training yet.
-					</div>
-				</div>
-			{% endif %}
-			<div class="form-group">
-				<label class="control-label col-sm-3 col-md-2" for="invited_search">Invitations</label>
-				<div class="col-sm-5 col-md-4">
-					<input id="invited_search" type="text" autocomplete="off" class="form-control" placeholder="Invite users">
-				</div>
-			</div>
-			<div class="form-group">
-				<div id="invited-user-list" class="col-sm-offset-3 col-md-offset-2 col-sm-5">
-					No users have been invited to this training yet.
-				</div>
-				{% if suggested_users %}
-					<div id="suggested_users_container" class="col-sm-4">
-						<div class="visible-xs" style="margin-top: 20px"></div>
-						<div style="text-align: right; margin-top: -40px">
-							<div style="text-decoration: underline;margin-bottom: 5px">Suggested users:</div>
-							<div id="suggested_users">
-								{% for user in suggested_users %}
-									<div>
-										<span onclick="add_invited_user('{{ user }}', '{{ user.id }}');$(this).closest('div').remove();if ($.trim($('#suggested_users').html()).length === 0){$('#suggested_users_container').remove()}" title="Add this user to the list of invited users"><span class="grey glyphicon glyphicon-chevron-left"></span> {{ user.get_name }}</span><br>
-									</div>
-								{% endfor %}
-							</div>
-						</div>
-					</div>
-				{% endif %}
-			</div>
-			<div class="form-group {% if form.message.errors %}has-error{% endif %}">
-				<label class="control-label col-sm-3 col-md-2" for="message">Message</label>
-				<div class="col-sm-8 col-md-6">
-					<textarea id="message" oninput="auto_size_textarea(this)" name="message" class="form-control" placeholder="Add a optional message for the users">{{ form.message.value|default_if_none:"" }}</textarea>
-				</div>
-				{% if form.message.errors %}
-					<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
-						{{ form.message.errors|striptags }}
-					</div>
-				{% endif %}
-			</div>
-			<div class="form-group">
-				<div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10">
-					{% button type="save" submit=False value=form.instance.id|yesno:"Save changes,Create session" onclick="submit_form(this)" %}
-				</div>
-			</div>
-		</form>
-	{% endif %}
-	<script>
+    {% if not selected_tool %}
+        <div class="form-horizontal">
+            <div class="form-group">
+                <label class="control-label col-sm-3 col-md-2" for="tool_search">Tool</label>
+                <div class="col-sm-6 col-md-4">
+                    <input type="text" class="form-control" id="tool_search" placeholder="Search for a tool" required>
+                </div>
+            </div>
+        </div>
+    {% else %}
+        <div class="col-sm-12">
+            {% if form.errors %}
+                <div class="alert alert-danger">
+                    Oops! Something went wrong. Please correct the errors highlighted below.
+                    <br>
+                    {{ form.non_field_errors }}
+                </div>
+            {% endif %}
+        </div>
+        <form id="training_event_form"
+              class="form-horizontal"
+              action="{% if form.instance.pk %}{% url 'edit_training_event' form.instance.pk %}{% else %}{% url 'create_training_event' %}{% endif %}"
+              method="POST">
+            {% csrf_token %}
+            <div class="form-group">
+                <label class="control-label col-sm-3 col-md-2" for="tool_search">Tool</label>
+                <div class="col-sm-9">
+                    <input type="button"
+                           id="chosen_tool"
+                           class="btn btn-default"
+                           {% if form.instance.id %}disabled{% endif %}
+                           onclick="$('#dialog .modal-dialog').removeClass('modal-lg');reload_url('{% url 'create_training_event' %}')"
+                           value="{{ selected_tool.name }}">
+                    <input type="hidden" id="tool" name="tool" value="{{ selected_tool.id }}">
+                </div>
+            </div>
+            {% if training_details.techniques.all %}
+                <div class="form-group">
+                    <label class="col-sm-3 col-md-2 control-label" for="technique">Technique</label>
+                    <div class="col-sm-5 col-md-4">
+                        <select class="form-control" name="technique" id="technique">
+                            <option value="">{{ "training"|customization:"training_technique_empty_label" }}</option>
+                            {% for technique in training_details.techniques.all %}
+                                <option label="{{ technique.name }}"
+                                        value="{{ technique.id }}"
+                                        {% if form.technique.value|to_int == technique.id %}selected{% endif %}>
+                                </option>
+                            {% endfor %}
+                        </select>
+                    </div>
+                    {% if form.technique.errors %}
+                        <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
+                            {{ form.technique.errors|striptags }}
+                        </div>
+                    {% endif %}
+                </div>
+            {% endif %}
+            <div class="form-group">
+                <label class="control-label col-sm-3 col-md-2" for="start">Start</label>
+                <div class="col-sm-5 col-md-4">
+                    <input class="form-control"
+                           name="start"
+                           id="start"
+                           value="{{ form.start.value|input_date_format }}"
+                           required>
+                </div>
+                {% if suggested_times %}
+                    <div class="hidden-xs col-sm-4 col-md-5 text-right" style="position: relative">
+                        <div style="position: absolute; right: 15px">
+                            <div style="text-decoration: underline;margin-bottom: 5px">Suggested times:</div>
+                            {% for suggested_time in suggested_times %}
+                                <div>
+                                    <span onclick="$('#start').val('{{ suggested_time.0.0|localtime|input_date_format }}')"
+                                          title="Set this time as the start time"><span class="grey glyphicon glyphicon-chevron-left"></span> {{ suggested_time.0.0 }}
+                                    <br>
+                                ({{ suggested_time.1|join:' & ' }})</span>
+                                <br>
+                            </div>
+                        {% endfor %}
+                    </div>
+                </div>
+            {% endif %}
+            {% if form.start.errors %}
+                <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
+                    {{ form.start.errors|striptags }}
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="col-sm-3 col-md-2 control-label" for="duration">Duration</label>
+            <div class="col-sm-5 col-md-4">
+                <div class="input-group">
+                    <input class="form-control"
+                           name="duration"
+                           id="duration"
+                           type="number"
+                           min="15"
+                           value="{{ form.duration.value|default_if_none:'' }}"
+                           required>
+                    <span class="input-group-addon">minutes</span>
+                </div>
+            </div>
+            {% if form.duration.errors %}
+                <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
+                    {{ form.duration.errors|striptags }}
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="col-sm-3 col-md-2 control-label" for="capacity">Capacity</label>
+            <div class="col-sm-5 col-md-4">
+                <div class="input-group">
+                    <input class="form-control"
+                           name="capacity"
+                           id="capacity"
+                           type="number"
+                           min="1"
+                           value="{{ form.capacity.value|default_if_none:'' }}"
+                           required>
+                    <span class="input-group-addon">attendees</span>
+                </div>
+            </div>
+            {% if form.capacity.errors %}
+                <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
+                    {{ form.capacity.errors|striptags }}
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="col-sm-3 col-md-2 control-label" for="invitation_only">Invitation only</label>
+            <div class="col-sm-5 col-md-4">
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox"
+                               name="invitation_only"
+                               id="invitation_only"
+                               {% if form.invitation_only.value %}checked{% endif %}>
+                        Only invited users can register
+                    </label>
+                </div>
+            </div>
+            {% if form.invitation_only.errors %}
+                <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
+                    {{ form.invitation_only.errors|striptags }}
+                </div>
+            {% endif %}
+        </div>
+        {% if form.instance.id and form.instance.users.all %}
+            <div class="form-group">
+                <label class="control-label col-sm-3 col-md-2" for="_search">Attendees</label>
+                <div id="registered-user-list" class="col-sm-9 form-control-static">
+                    No users have registered for this training yet.
+                </div>
+            </div>
+        {% endif %}
+        <div class="form-group">
+            <label class="control-label col-sm-3 col-md-2" for="invited_search">Invitations</label>
+            <div class="col-sm-5 col-md-4">
+                <input id="invited_search" type="text" autocomplete="off" class="form-control" placeholder="Invite users">
+            </div>
+        </div>
+        <div class="form-group">
+            <div id="invited-user-list" class="col-sm-offset-3 col-md-offset-2 col-sm-5">
+                No users have been invited to this training yet.
+            </div>
+            {% if suggested_users %}
+                <div id="suggested_users_container" class="col-sm-4">
+                    <div class="visible-xs" style="margin-top: 20px"></div>
+                    <div style="text-align: right; margin-top: -40px">
+                        <div style="text-decoration: underline;margin-bottom: 5px">Suggested users:</div>
+                        <div id="suggested_users">
+                            {% for user in suggested_users %}
+                                <div>
+                                    <span onclick="add_invited_user('{{ user }}', '{{ user.id }}');$(this).closest('div').remove();if ($.trim($('#suggested_users').html()).length === 0){$('#suggested_users_container').remove()}"
+                                          title="Add this user to the list of invited users"><span class="grey glyphicon glyphicon-chevron-left"></span> {{ user.get_name }}</span>
+                                    <br>
+                                </div>
+                            {% endfor %}
+                        </div>
+                    </div>
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group {% if form.message.errors %}has-error{% endif %}">
+            <label class="control-label col-sm-3 col-md-2" for="message">Message</label>
+            <div class="col-sm-8 col-md-6">
+                <textarea id="message"
+                          oninput="auto_size_textarea(this)"
+                          name="message"
+                          class="form-control"
+                          placeholder="Add a optional message for the users">{{ form.message.value|default_if_none:"" }}</textarea>
+            </div>
+            {% if form.message.errors %}
+                <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10 form-control-static danger-highlight">
+                    {{ form.message.errors|striptags }}
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <div class="col-sm-offset-3 col-md-offset-2 col-sm-9 col-md-10">
+                {% button type="save" submit=False value=form.instance.id|yesno:"Save changes,Create session" onclick="submit_form(this)" %}
+            </div>
+        </div>
+    </form>
+{% endif %}
+<script>
 		let unavailable_times = [];
 		{% for item in invalid_times %}
 		unavailable_times.push([moment('{{ item.0|date:"U" }}', 'X').add(-1, "minutes"),moment('{{ item.1|date:"U" }}', 'X').startOf('hour')]);
 		{% endfor %}
 		let timepicker_properties =
 		{
 			format: '{{ datetime_input_js_format }}',
@@ -263,9 +314,10 @@
             {% if not mobile_device and selected_tool %}
 				{% if suggested_times or suggested_users %}
 					$('#dialog .modal-dialog').addClass('modal-lg');
 				{% endif %}
             {% endif %}
 		}
 		$(function (){on_load()});
-	</script>
+	
+</script>
 {% endblock %}
```

### html2text {}

```diff
@@ -1,23 +1,23 @@
 {% extends mobile_device|yesno:"base.html,base/popup.html" %} {% if
 mobile_device %} {% block extrahead %} {% load static %}
 }">
-}"/> {% endblock %} {% endif %} {% load custom_tags_and_filters %} {% load tz
-%} {% block title %}{% if form.instance.pk %}Edit{% else %}New{% endif %}
-training session{% endblock %} {% block content %} {% if not selected_tool %}
+}" /> {% endblock %} {% endif %} {% load custom_tags_and_filters %} {% load tz
+%} {% block title %} {% if form.instance.pk %} Edit {% else %} New {% endif %}
+training session {% endblock %} {% block content %} {% if not selected_tool %}
 Tool
 [                    ]
 {% else %}
 {% if form.errors %}
 Oops! Something went wrong. Please correct the errors highlighted below.
 {{ form.non_field_errors }}
 {% endif %}
 {% csrf_token %}
 Tool
-% if form.instance.id %} disabled{% endif %} onclick="$('#dialog .modal-
+% if form.instance.id %}disabled{% endif %} onclick="$('#dialog .modal-
 dialog').removeClass('modal-lg');reload_url('{% url 'create_training_event'
 %}')" value="{{ selected_tool.name }}">
 {% if training_details.techniques.all %}
 Technique
 {% for technique in training_details.techniques.all %}
 % if form.technique.value|to_int == technique.id %}selected{% endif %}>
 {% endfor %}
@@ -43,15 +43,15 @@
 {% endif %}
 Capacity
 [Unknown INPUT type]attendees
 {% if form.capacity.errors %}
 {{ form.capacity.errors|striptags }}
 {% endif %}
 Invitation only
-% if form.invitation_only.value %}checked{% endif %}>Only invited users can
+% if form.invitation_only.value %}checked{% endif %}> Only invited users can
 register
 {% if form.invitation_only.errors %}
 {{ form.invitation_only.errors|striptags }}
 {% endif %}
 {% if form.instance.id and form.instance.users.all %}
 Attendees
 No users have registered for this training yet.
```

## NEMO/templates/training_new/training_events/manage_training_events.html

```diff
@@ -1,18 +1,20 @@
 {% extends 'training_new/training_base.html' %}
 {% load custom_tags_and_filters %}
 {% block tab_content %}
-	{% if training_events or past_training_events %}
-		<div class="table-responsive" style="border: none; width: 100%">
-			<table class="table table-borderless table-align-middle" style="margin-bottom: 0">
-				{% if training_events %}
-					{% include "training_new/training_events/manage_training_events_table.html" with training_title="Upcoming training sessions" %}
-				{% endif %}
-				{% if past_training_events %}
-					{% include "training_new/training_events/manage_training_events_table.html" with training_events=past_training_events training_title="Past training sessions" past_events=True %}
-				{% endif %}
-			</table>
-		</div>
-	{% else %}
-		<div class="pull-left form-control-static"><i>You don't have any training sessions.</i></div>
-	{% endif %}
-{% endblock %}
+    {% if training_events or past_training_events %}
+        <div class="table-responsive" style="border: none; width: 100%">
+            <table class="table table-borderless table-align-middle" style="margin-bottom: 0">
+                {% if training_events %}
+                    {% include "training_new/training_events/manage_training_events_table.html" with training_title="Upcoming training sessions" %}
+                {% endif %}
+                {% if past_training_events %}
+                    {% include "training_new/training_events/manage_training_events_table.html" with training_events=past_training_events training_title="Past training sessions" past_events=True %}
+                {% endif %}
+            </table>
+        </div>
+    {% else %}
+        <div class="pull-left form-control-static">
+            <i>You don't have any training sessions.</i>
+        </div>
+    {% endif %}
+{% endblock %}
```

## NEMO/templates/training_new/training_events/manage_training_events_table.html

```diff
@@ -1,48 +1,48 @@
 {% load custom_tags_and_filters %}
 <thead>
-	<tr>
-		<th colspan="6" style="font-size: 20px">{{ training_title }}</th>
-	</tr>
-	<tr>
-		<th>Tool</th>
-		<th>Scheduled training</th>
-		<th class="text-center">Invited</th>
-		<th class="text-center">Attendees</th>
-		<th>Created</th>
-		<th></th>
-	</tr>
+    <tr>
+        <th colspan="6" style="font-size: 20px">{{ training_title }}</th>
+    </tr>
+    <tr>
+        <th>Tool</th>
+        <th>Scheduled training</th>
+        <th class="text-center">Invited</th>
+        <th class="text-center">Attendees</th>
+        <th>Created</th>
+        <th></th>
+    </tr>
 </thead>
 <tbody>
-	{% for training_event in training_events %}
-		<tr>
-			<td>{{ training_event.tool }}</td>
-			<td>{{ training_event.start }}</td>
-			<td class="text-center">{{ training_event.pending_invitations.count }}</td>
-			<td class="text-center">{{ training_event.current_capacity }}</td>
-			<td>{{ training_event.creation_time }}</td>
-			<td class="text-right">
-				{% url 'training_event_details' training_event.id as view_training_details %}
-				{% button type="view" size="small" value="View" onclick="new_get_request('"|concat:view_training_details|concat:"?popup_view=true')"  %}
-				{% url 'cancel_training_event' training_event.id as cancel_training_url %}
-				{% if not past_events %}
-					{% url 'edit_training_event' training_event.id as edit_training_event_url %}
-					{% button type="edit" size="small" value="Edit" onclick="new_get_request('"|concat:edit_training_event_url|concat:"')" %}
-					{% with reason_required=training_event.users.exists|yesno:"true,false" %}
-						{% button type="delete" size="small" value="Cancel" onclick="confirm_action('"|concat:cancel_training_url|concat:"', "|concat:reason_required|concat:", training_callback_success, 'cancelling', 'training', 'Confirm cancellation')" data_toggle="modal" data_target="#confirm-actions" %}
-					{% endwith %}
-				{% else %}
-					{% if training_event.recorded %}
-						<button class="btn btn-default btn-sm" disabled>Recorded</button>
-					{% elif training_event.users.all %}
-						{% url 'record_training_event' training_event.id as record_training_event_url %}
-						{% button type="save" size="small" value="Record" url=record_training_event_url %}
-					{% else %}
-						{% with reason_required=training_event.users.exists|yesno:"true,false" %}
-							{% button type="delete" size="small" value="Cancel" onclick="confirm_action('"|concat:cancel_training_url|concat:"', "|concat:reason_required|concat:", training_callback_success, 'cancelling', 'training', 'Confirm cancellation')" data_toggle="modal" data_target="#confirm-actions" %}
-						{% endwith %}
-					{% endif %}
-				{% endif %}
-			</td>
-		</tr>
-	{% endfor %}
-</tbody>
+    {% for training_event in training_events %}
+        <tr>
+            <td>{{ training_event.tool }}</td>
+            <td>{{ training_event.start }}</td>
+            <td class="text-center">{{ training_event.pending_invitations.count }}</td>
+            <td class="text-center">{{ training_event.current_capacity }}</td>
+            <td>{{ training_event.creation_time }}</td>
+            <td class="text-right">
+                {% url 'training_event_details' training_event.id as view_training_details %}
+                {% button type="view" size="small" value="View" onclick="new_get_request('"|concat:view_training_details|concat:"?popup_view=true')" %}
+                {% url 'cancel_training_event' training_event.id as cancel_training_url %}
+                {% if not past_events %}
+                    {% url 'edit_training_event' training_event.id as edit_training_event_url %}
+                    {% button type="edit" size="small" value="Edit" onclick="new_get_request('"|concat:edit_training_event_url|concat:"')" %}
+                    {% with reason_required=training_event.users.exists|yesno:"true,false" %}
+                        {% button type="delete" size="small" value="Cancel" onclick="confirm_action('"|concat:cancel_training_url|concat:"', "|concat:reason_required|concat:", training_callback_success, 'cancelling', 'training', 'Confirm cancellation')" data_toggle="modal" data_target="#confirm-actions" %}
+                    {% endwith %}
+                {% else %}
+                    {% if training_event.recorded %}
+                        <button class="btn btn-default btn-sm" disabled>Recorded</button>
+                    {% elif training_event.users.all %}
+                        {% url 'record_training_event' training_event.id as record_training_event_url %}
+                        {% button type="save" size="small" value="Record" url=record_training_event_url %}
+                    {% else %}
+                        {% with reason_required=training_event.users.exists|yesno:"true,false" %}
+                            {% button type="delete" size="small" value="Cancel" onclick="confirm_action('"|concat:cancel_training_url|concat:"', "|concat:reason_required|concat:", training_callback_success, 'cancelling', 'training', 'Confirm cancellation')" data_toggle="modal" data_target="#confirm-actions" %}
+                        {% endwith %}
+                    {% endif %}
+                {% endif %}
+            </td>
+        </tr>
+    {% endfor %}
+</tbody>
```

## NEMO/templates/training_new/training_events/schedule_training_events.html

```diff
@@ -1,4 +1,4 @@
 {% extends 'training_new/training_base.html' %}
 {% block tab_content %}
-	{% include 'training_new/training_events/schedule_training_events_list.html' %}
-{% endblock %}
+    {% include 'training_new/training_events/schedule_training_events_list.html' %}
+{% endblock %}
```

## NEMO/templates/training_new/training_events/schedule_training_events_list.html

```diff
@@ -1,83 +1,94 @@
 {% load custom_tags_and_filters %}
 <div class="row form-inline" style="margin-top: 15px; padding: 0 8px">
-	<div class="col-sm-9">
-		<label style="margin-right: 15px" class="control-label" for="tool_filter">Tool:</label>
-		<select style="margin-right: 15px" id="tool_filter" class="form-control" onchange="filter_requests()">
-			{% if user.is_any_part_of_staff %}<option value="all-tools" {% if selected_tool == "all-tools" %}selected{% endif %}>All tools</option>{% endif %}
-			<option value="my-tools" {% if selected_tool == "my-tools" %}selected{% endif %}>My tools</option>
-			{% for tool in tools %}
-				<option value="{{ tool.id }}" {% if tool.id == selected_tool|to_int %}selected{% endif %}>{{ tool.name }}</option>
-			{% endfor %}
-		</select>
-		<label style="margin-right: 15px" for="user_filter">User:</label>
-		<select style="margin-right: 15px" id="user_filter" class="form-control" onchange="filter_requests()">
-			<option value="all-users" {% if selected_user == "all-users" %}selected{% endif %}>All users</option>
-			{% for user in users %}
-				<option value="{{ user.id }}" {% if user.id == selected_user|to_int %}selected{% endif %}>{{ user.get_name }}</option>
-			{% endfor %}
-		</select>
-		<label style="margin-right: 15px" for="date_filter">Date:</label>
-		<select id="date_filter" class="form-control" onchange="filter_requests()">
-			<option value="all-dates" {% if selected_date == "all-dates" %}selected{% endif %}>All dates</option>
-			{% for date in dates %}
-				<option value="{{ date|input_date_format }}" {% if date|input_date_format == selected_date %}selected{% endif %}>{{ date|date:"SHORT_DATE_FORMAT" }}</option>
-			{% endfor %}
-		</select>
-	</div>
-	<div class="col-sm-3">
-		<div class="text-right" {% if training_requests %}style="margin-bottom: 15px;"{% endif %}>
-			{% url "create_training_event" as create_training_event_url %}
-			{% button type="add" value="New training session" onclick="new_get_request('"|concat:create_training_event_url|concat:"')" %}
-		</div>
-	</div>
+    <div class="col-sm-9">
+        <label style="margin-right: 15px" class="control-label" for="tool_filter">Tool:</label>
+        <select style="margin-right: 15px" id="tool_filter" class="form-control" onchange="filter_requests()">
+            {% if user.is_any_part_of_staff %}
+                <option value="all-tools" {% if selected_tool == "all-tools" %}selected{% endif %}>All tools</option>
+            {% endif %}
+            <option value="my-tools" {% if selected_tool == "my-tools" %}selected{% endif %}>My tools</option>
+            {% for tool in tools %}
+                <option value="{{ tool.id }}" {% if tool.id == selected_tool|to_int %}selected{% endif %}>{{ tool.name }}</option>
+            {% endfor %}
+        </select>
+        <label style="margin-right: 15px" for="user_filter">User:</label>
+        <select style="margin-right: 15px" id="user_filter" class="form-control" onchange="filter_requests()">
+            <option value="all-users" {% if selected_user == "all-users" %}selected{% endif %}>All users</option>
+            {% for user in users %}
+                <option value="{{ user.id }}" {% if user.id == selected_user|to_int %}selected{% endif %}>{{ user.get_name }}</option>
+            {% endfor %}
+        </select>
+        <label style="margin-right: 15px" for="date_filter">Date:</label>
+        <select id="date_filter" class="form-control" onchange="filter_requests()">
+            <option value="all-dates" {% if selected_date == "all-dates" %}selected{% endif %}>All dates</option>
+            {% for date in dates %}
+                <option value="{{ date|input_date_format }}"
+                        {% if date|input_date_format == selected_date %}selected{% endif %}>
+                    {{ date|date:"SHORT_DATE_FORMAT" }}
+                </option>
+            {% endfor %}
+        </select>
+    </div>
+    <div class="col-sm-3">
+        <div class="text-right" {% if training_requests %}style="margin-bottom: 15px;"{% endif %}>
+            {% url "create_training_event" as create_training_event_url %}
+            {% button type="add" value="New training session" onclick="new_get_request('"|concat:create_training_event_url|concat:"')" %}
+        </div>
+    </div>
 </div>
 {% if training_requests %}
-	<div class="table-responsive" style="border: none; width: 100%">
-		<table class="table table-borderless table-align-middle" style="margin-bottom: 0">
-			<tr>
-				<th>User</th>
-				<th>Tool</th>
-				<th>Created</th>
-				<th>Availability</th>
-				<th>Status</th>
-				<th class="text-right">Actions</th>
-			</tr>
-			{% for training_request in training_requests %}
-				<tr>
-					<td>{{ training_request.user }}</td>
-					<td>{{ training_request.tool }}</td>
-					<td>{{ training_request.creation_time }}</td>
-					<td>
-						<div class="training-dates">
-							{% for date_time in training_request.trainingrequesttime_set.all %}
-								{% url 'create_training_event_for_time' date_time.id as create_training_event_url %}
-								{{ date_time }} <span class="success-highlight glyphicon glyphicon-plus-sign" title="Schedule training" onclick="new_get_request('{% url 'create_training_event_for_time' date_time.id %}')"></span><br>
-							{% endfor %}
-						</div>
-					</td>
-					<td>
-						{% if training_request.status == 1 %} {# 1 == SENT #}
-							Received
-						{% else %}
-							{{ training_request.get_status_display }}
-						{% endif %}
-					</td>
-					<td class="text-right">
-						{% url 'decline_training_request' training_request.id as decline_training_request_url %}
-						{% url 'create_training_event_for_training_request' training_request.id as create_training_event_for_training_request_url %}
-						{% button type="delete" size="small" value="Reject" icon="glyphicon-ban-circle" onclick="confirm_action('"|concat:decline_training_request_url|concat:"', true, training_callback_success, 'rejecting', 'request', 'Reject this request')" data_toggle="modal" data_target="#confirm-actions" %}
-						{% button type="add" size="small" value="New training session" onclick="new_get_request('"|concat:create_training_event_for_training_request_url|concat:"')" %}
-					</td>
-				</tr>
-			{% endfor %}
-		</table>
-	</div>
+    <div class="table-responsive" style="border: none; width: 100%">
+        <table class="table table-borderless table-align-middle" style="margin-bottom: 0">
+            <tr>
+                <th>User</th>
+                <th>Tool</th>
+                <th>Created</th>
+                <th>Availability</th>
+                <th>Status</th>
+                <th class="text-right">Actions</th>
+            </tr>
+            {% for training_request in training_requests %}
+                <tr>
+                    <td>{{ training_request.user }}</td>
+                    <td>{{ training_request.tool }}</td>
+                    <td>{{ training_request.creation_time }}</td>
+                    <td>
+                        <div class="training-dates">
+                            {% for date_time in training_request.trainingrequesttime_set.all %}
+                                {% url 'create_training_event_for_time' date_time.id as create_training_event_url %}
+                                {{ date_time }} <span class="success-highlight glyphicon glyphicon-plus-sign"
+       title="Schedule training"
+       onclick="new_get_request('{% url 'create_training_event_for_time' date_time.id %}')"></span>
+                                <br>
+                            {% endfor %}
+                        </div>
+                    </td>
+                    <td>
+                        {% if training_request.status == 1 %}
+                            {# 1 == SENT #}
+                            Received
+                        {% else %}
+                            {{ training_request.get_status_display }}
+                        {% endif %}
+                    </td>
+                    <td class="text-right">
+                        {% url 'decline_training_request' training_request.id as decline_training_request_url %}
+                        {% url 'create_training_event_for_training_request' training_request.id as create_training_event_for_training_request_url %}
+                        {% button type="delete" size="small" value="Reject" icon="glyphicon-ban-circle" onclick="confirm_action('"|concat:decline_training_request_url|concat:"', true, training_callback_success, 'rejecting', 'request', 'Reject this request')" data_toggle="modal" data_target="#confirm-actions" %}
+                        {% button type="add" size="small" value="New training session" onclick="new_get_request('"|concat:create_training_event_for_training_request_url|concat:"')" %}
+                    </td>
+                </tr>
+            {% endfor %}
+        </table>
+    </div>
 {% else %}
-	<div class="pull-left form-control-static"><i>You do not have any pending training requests from users.</i></div>
+    <div class="pull-left form-control-static">
+        <i>You do not have any pending training requests from users.</i>
+    </div>
 {% endif %}
 <script>
 	function training_callback_success()
 	{
 		location.reload();
 	}
 	
@@ -103,8 +114,8 @@
 	}
     
 	{% for training_request in training_requests %}
 		{% if training_request.status == 1 and user in training_request.tool.trainers %} {# 1:SENT #}
 	ajax_get('{% url "review_training_request" training_request.id %}');
 		{% endif %}
 	{% endfor %}
-</script>
+</script>
```

### html2text {}

```diff
@@ -8,15 +8,15 @@
 {% endfor %}
 % if selected_user == "all-users" %}selected{% endif %}>All users
 {% for user in users %}
 % if user.id == selected_user|to_int %}selected{% endif %}>{{ user.get_name }}
 {% endfor %}
 % if selected_date == "all-dates" %}selected{% endif %}>All dates
 {% for date in dates %}
-% if date|input_date_format == selected_date %}selected{% endif %}>{
+% if date|input_date_format == selected_date %}selected{% endif %}> {
 { date|date:"SHORT_DATE_FORMAT" }}
 {% endfor %}
 % if training_requests %}style="margin-bottom: 15px;"{% endif %}> {% url
 "create_training_event" as create_training_event_url %} {% button type="add"
 value="New training session" onclick="new_get_request('"|concat:
 create_training_event_url|concat:"')" %}
 {% if training_requests %}
```

## NEMO/templates/training_new/training_events/upcoming_training_events.html

```diff
@@ -1,69 +1,72 @@
 {% extends 'training_new/training_base.html' %}
 {% load custom_tags_and_filters %}
 {% load training_tags %}
 {% block tab_content %}
-	{% if training_events or past_training_events %}
-		<div class="table-responsive" style="border: none; width: 100%">
-			<table class="table table-borderless table-align-middle" style="margin-bottom: 0">
-				<thead>
-					<tr>
-						<th colspan="6" style="font-size: 20px">{{ training_title }}</th>
-					</tr>
-					<tr>
-						<th>Tool</th>
-						<th>Technique</th>
-						<th>Trainer</th>
-						<th>Start</th>
-						<th>Duration</th>
-						<th class="text-center">Attendees</th>
-						<th></th>
-					</tr>
-				</thead>
-				<tbody>
-					{% for training_event in training_events %}
-						<tr>
-							<td>{{ training_event.tool }}</td>
-							<td>
-								{% with default_technique_label="training"|customization:"training_technique_empty_label" %}
-									{{ training_event.technique|default_if_none:default_technique_label }}
-								{% endwith %}
-							</td>
-							<td>{{ training_event.trainer.get_name }}</td>
-							<td>{{ training_event.start }}</td>
-							<td>{{ training_event.duration }} minutes</td>
-							<td class="text-center">{{ training_event.current_capacity }}/{{ training_event.capacity }}</td>
-							<td class="text-right">
-								{% url 'training_event_details' training_event.id as view_training_details %}
-								{% button type="view" value="View" onclick="new_get_request('"|concat:view_training_details|concat:"?popup_view=true')"  %}
-								{% if user not in training_event.users.all and user != training_event.trainer and training_event.current_capacity < training_event.capacity %}
-									{% if training_event|training_event_invitations:request.user %}
-										{% for invite in training_event|training_event_invitations:request.user %}
-											{% url "decline_training_invitation" invite.id as decline_invitation_url %}
-											{% button type="delete" value="Decline" icon="glyphicon-ban-circle" onclick="confirm_action('"|concat:decline_invitation_url|concat:"', false, training_callback_success, 'declining', 'invitation', 'Decline')" data_toggle="modal" data_target="#confirm-actions" %}
-											{% url 'accept_training_invitation' invite.id as accept_training_invitation_url %}
-											{% button type="save" value="Accept training invitation" icon="glyphicon-ok-sign" dismiss="modal" onclick="register_accept_training_invitation('"|concat:accept_training_invitation_url|concat:"');" %}
-										{% endfor %}
-									{% elif user not in training_event.users.all and user != training_event.trainer and training_event.current_capacity < training_event.capacity %}
-										{% if not training_event.invitation_only %}
-											{% url 'register_for_training' training_event.id as register_for_training_url %}
-											{% button type="save" submit="false" value="Register for this training" icon="glyphicon-ok-sign" dismiss="modal" onclick="register_accept_training_invitation('"|concat:register_for_training_url|concat:"');" %}
-										{% endif %}
-									{% endif %}
-								{% endif %}
-							</td>
-						</tr>
-					{% endfor %}
-				</tbody>
-			</table>
-		</div>
-	{% else %}
-		<div class="pull-left form-control-static"><i>There are currently no scheduled training sessions.</i></div>
-	{% endif %}
-	<script>
+    {% if training_events or past_training_events %}
+        <div class="table-responsive" style="border: none; width: 100%">
+            <table class="table table-borderless table-align-middle" style="margin-bottom: 0">
+                <thead>
+                    <tr>
+                        <th colspan="6" style="font-size: 20px">{{ training_title }}</th>
+                    </tr>
+                    <tr>
+                        <th>Tool</th>
+                        <th>Technique</th>
+                        <th>Trainer</th>
+                        <th>Start</th>
+                        <th>Duration</th>
+                        <th class="text-center">Attendees</th>
+                        <th></th>
+                    </tr>
+                </thead>
+                <tbody>
+                    {% for training_event in training_events %}
+                        <tr>
+                            <td>{{ training_event.tool }}</td>
+                            <td>
+                                {% with default_technique_label="training"|customization:"training_technique_empty_label" %}
+                                    {{ training_event.technique|default_if_none:default_technique_label }}
+                                {% endwith %}
+                            </td>
+                            <td>{{ training_event.trainer.get_name }}</td>
+                            <td>{{ training_event.start }}</td>
+                            <td>{{ training_event.duration }} minutes</td>
+                            <td class="text-center">{{ training_event.current_capacity }}/{{ training_event.capacity }}</td>
+                            <td class="text-right">
+                                {% url 'training_event_details' training_event.id as view_training_details %}
+                                {% button type="view" value="View" onclick="new_get_request('"|concat:view_training_details|concat:"?popup_view=true')" %}
+                                {% if user not in training_event.users.all and user != training_event.trainer and training_event.current_capacity < training_event.capacity %}
+                                    {% if training_event|training_event_invitations:request.user %}
+                                        {% for invite in training_event|training_event_invitations:request.user %}
+                                            {% url "decline_training_invitation" invite.id as decline_invitation_url %}
+                                            {% button type="delete" value="Decline" icon="glyphicon-ban-circle" onclick="confirm_action('"|concat:decline_invitation_url|concat:"', false, training_callback_success, 'declining', 'invitation', 'Decline')" data_toggle="modal" data_target="#confirm-actions" %}
+                                            {% url 'accept_training_invitation' invite.id as accept_training_invitation_url %}
+                                            {% button type="save" value="Accept training invitation" icon="glyphicon-ok-sign" dismiss="modal" onclick="register_accept_training_invitation('"|concat:accept_training_invitation_url|concat:"');" %}
+                                        {% endfor %}
+                                    {% elif user not in training_event.users.all and user != training_event.trainer and training_event.current_capacity < training_event.capacity %}
+                                        {% if not training_event.invitation_only %}
+                                            {% url 'register_for_training' training_event.id as register_for_training_url %}
+                                            {% button type="save" submit="false" value="Register for this training" icon="glyphicon-ok-sign" dismiss="modal" onclick="register_accept_training_invitation('"|concat:register_for_training_url|concat:"');" %}
+                                        {% endif %}
+                                    {% endif %}
+                                {% endif %}
+                            </td>
+                        </tr>
+                    {% endfor %}
+                </tbody>
+            </table>
+        </div>
+    {% else %}
+        <div class="pull-left form-control-static">
+            <i>There are currently no scheduled training sessions.</i>
+        </div>
+    {% endif %}
+    <script>
 		function register_accept_training_invitation(url)
 		{
 			let failure_dialog = ajax_failure_callback("Unable to register for this training");
 			ajax_post(url, undefined, training_callback_success, failure_dialog);
 		}
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

## NEMO/templates/training_new/training_requests/create_request.html

```diff
@@ -1,650 +1,898 @@
 00000000: 7b25 2065 7874 656e 6473 206d 6f62 696c  {% extends mobil
 00000010: 655f 6465 7669 6365 7c79 6573 6e6f 3a22  e_device|yesno:"
 00000020: 6261 7365 2e68 746d 6c2c 6261 7365 2f70  base.html,base/p
 00000030: 6f70 7570 2e68 746d 6c22 2025 7d0a 7b25  opup.html" %}.{%
 00000040: 2069 6620 6d6f 6269 6c65 5f64 6576 6963   if mobile_devic
-00000050: 6520 257d 0a09 7b25 2062 6c6f 636b 2065  e %}..{% block e
-00000060: 7874 7261 6865 6164 2025 7d0a 0909 7b25  xtrahead %}...{%
-00000070: 206c 6f61 6420 7374 6174 6963 2025 7d0a   load static %}.
-00000080: 0909 3c73 6372 6970 7420 7479 7065 3d22  ..<script type="
-00000090: 7465 7874 2f6a 6176 6173 6372 6970 7422  text/javascript"
-000000a0: 2073 7263 3d22 7b25 2073 7461 7469 6320   src="{% static 
-000000b0: 2264 6174 6574 696d 6570 6963 6b65 722f  "datetimepicker/
-000000c0: 626f 6f74 7374 7261 702d 6461 7465 7469  bootstrap-dateti
-000000d0: 6d65 7069 636b 6572 2e6a 7322 2025 7d22  mepicker.js" %}"
-000000e0: 3e3c 2f73 6372 6970 743e 0a09 093c 6c69  ></script>...<li
-000000f0: 6e6b 2072 656c 3d22 7374 796c 6573 6865  nk rel="styleshe
-00000100: 6574 2220 7479 7065 3d22 7465 7874 2f63  et" type="text/c
-00000110: 7373 2220 6872 6566 3d22 7b25 2073 7461  ss" href="{% sta
-00000120: 7469 6320 2264 6174 6574 696d 6570 6963  tic "datetimepic
-00000130: 6b65 722f 626f 6f74 7374 7261 702d 6461  ker/bootstrap-da
-00000140: 7465 7469 6d65 7069 636b 6572 2e63 7373  tetimepicker.css
-00000150: 2220 257d 222f 3e0a 097b 2520 656e 6462  " %}"/>..{% endb
-00000160: 6c6f 636b 2025 7d0a 7b25 2065 6e64 6966  lock %}.{% endif
-00000170: 2025 7d0a 7b25 206c 6f61 6420 6375 7374   %}.{% load cust
-00000180: 6f6d 5f74 6167 735f 616e 645f 6669 6c74  om_tags_and_filt
-00000190: 6572 7320 257d 0a7b 2520 626c 6f63 6b20  ers %}.{% block 
-000001a0: 7469 746c 6520 257d 4e65 7720 7472 6169  title %}New trai
-000001b0: 6e69 6e67 2072 6571 7565 7374 7b25 2065  ning request{% e
-000001c0: 6e64 626c 6f63 6b20 257d 0a7b 2520 626c  ndblock %}.{% bl
-000001d0: 6f63 6b20 636f 6e74 656e 7420 257d 0a09  ock content %}..
-000001e0: 7b25 2069 6620 6e6f 7420 7365 6c65 6374  {% if not select
-000001f0: 6564 5f74 6f6f 6c20 257d 0a09 093c 6469  ed_tool %}...<di
-00000200: 7620 636c 6173 733d 2266 6f72 6d2d 686f  v class="form-ho
-00000210: 7269 7a6f 6e74 616c 223e 0a09 0909 3c64  rizontal">....<d
-00000220: 6976 2063 6c61 7373 3d22 666f 726d 2d67  iv class="form-g
-00000230: 726f 7570 223e 0a09 0909 093c 6c61 6265  roup">.....<labe
-00000240: 6c20 636c 6173 733d 2263 6f6e 7472 6f6c  l class="control
-00000250: 2d6c 6162 656c 2063 6f6c 2d73 6d2d 3322  -label col-sm-3"
-00000260: 2066 6f72 3d22 746f 6f6c 5f73 6561 7263   for="tool_searc
-00000270: 6822 3e54 6f6f 6c3c 2f6c 6162 656c 3e0a  h">Tool</label>.
-00000280: 0909 0909 3c64 6976 2063 6c61 7373 3d22  ....<div class="
-00000290: 636f 6c2d 736d 2d36 223e 0a09 0909 0909  col-sm-6">......
-000002a0: 3c69 6e70 7574 2074 7970 653d 2274 6578  <input type="tex
-000002b0: 7422 2063 6c61 7373 3d22 666f 726d 2d63  t" class="form-c
-000002c0: 6f6e 7472 6f6c 2220 6964 3d22 746f 6f6c  ontrol" id="tool
-000002d0: 5f73 6561 7263 6822 2070 6c61 6365 686f  _search" placeho
-000002e0: 6c64 6572 3d22 5365 6172 6368 2066 6f72  lder="Search for
-000002f0: 2061 2074 6f6f 6c22 2072 6571 7569 7265   a tool" require
-00000300: 643e 0a09 0909 093c 2f64 6976 3e0a 0909  d>.....</div>...
-00000310: 093c 2f64 6976 3e0a 0909 3c2f 6469 763e  .</div>...</div>
-00000320: 0a09 7b25 2065 6c73 6520 257d 0a09 093c  ..{% else %}...<
-00000330: 6469 7620 636c 6173 733d 2263 6f6c 2d73  div class="col-s
-00000340: 6d2d 3132 223e 0a09 0909 7b25 2069 6620  m-12">....{% if 
-00000350: 666f 726d 2e65 7272 6f72 7320 257d 0a09  form.errors %}..
-00000360: 0909 093c 6469 7620 636c 6173 733d 2261  ...<div class="a
-00000370: 6c65 7274 2061 6c65 7274 2d64 616e 6765  lert alert-dange
-00000380: 7222 3e0a 0909 0909 094f 6f70 7321 2053  r">......Oops! S
-00000390: 6f6d 6574 6869 6e67 2077 656e 7420 7772  omething went wr
-000003a0: 6f6e 672e 2050 6c65 6173 6520 636f 7272  ong. Please corr
-000003b0: 6563 7420 7468 6520 6572 726f 7273 2068  ect the errors h
-000003c0: 6967 686c 6967 6874 6564 2062 656c 6f77  ighlighted below
-000003d0: 2e3c 6272 3e0a 0909 0909 097b 7b20 666f  .<br>......{{ fo
-000003e0: 726d 2e6e 6f6e 5f66 6965 6c64 5f65 7272  rm.non_field_err
-000003f0: 6f72 7320 7d7d 0a09 0909 093c 2f64 6976  ors }}.....</div
-00000400: 3e0a 0909 097b 2520 656e 6469 6620 257d  >....{% endif %}
-00000410: 0a09 093c 2f64 6976 3e0a 0909 3c66 6f72  ...</div>...<for
-00000420: 6d20 6964 3d22 7472 6169 6e69 6e67 5f72  m id="training_r
-00000430: 6571 7565 7374 5f66 6f72 6d22 2063 6c61  equest_form" cla
-00000440: 7373 3d22 666f 726d 2d68 6f72 697a 6f6e  ss="form-horizon
-00000450: 7461 6c22 2061 6374 696f 6e3d 227b 2520  tal" action="{% 
-00000460: 7572 6c20 2763 7265 6174 655f 7472 6169  url 'create_trai
-00000470: 6e69 6e67 5f72 6571 7565 7374 2720 257d  ning_request' %}
-00000480: 2220 6d65 7468 6f64 3d22 504f 5354 223e  " method="POST">
-00000490: 0a09 0909 7b25 2063 7372 665f 746f 6b65  ....{% csrf_toke
-000004a0: 6e20 257d 0a09 0909 3c64 6976 2063 6c61  n %}....<div cla
-000004b0: 7373 3d22 666f 726d 2d67 726f 7570 223e  ss="form-group">
-000004c0: 0a09 0909 093c 6c61 6265 6c20 636c 6173  .....<label clas
-000004d0: 733d 2263 6f6e 7472 6f6c 2d6c 6162 656c  s="control-label
-000004e0: 2063 6f6c 2d73 6d2d 3322 2066 6f72 3d22   col-sm-3" for="
-000004f0: 746f 6f6c 5f73 6561 7263 6822 3e54 6f6f  tool_search">Too
-00000500: 6c3c 2f6c 6162 656c 3e0a 0909 0909 3c64  l</label>.....<d
-00000510: 6976 2063 6c61 7373 3d22 636f 6c2d 736d  iv class="col-sm
-00000520: 2d39 223e 0a09 0909 0909 3c69 6e70 7574  -9">......<input
-00000530: 2074 7970 653d 2262 7574 746f 6e22 2069   type="button" i
-00000540: 643d 2263 686f 7365 6e5f 746f 6f6c 2220  d="chosen_tool" 
-00000550: 636c 6173 733d 2262 746e 2062 746e 2d64  class="btn btn-d
-00000560: 6566 6175 6c74 2220 6f6e 636c 6963 6b3d  efault" onclick=
-00000570: 2272 656c 6f61 645f 7572 6c28 277b 2520  "reload_url('{% 
-00000580: 7572 6c20 2763 7265 6174 655f 7472 6169  url 'create_trai
-00000590: 6e69 6e67 5f72 6571 7565 7374 2720 257d  ning_request' %}
-000005a0: 2729 2220 7661 6c75 653d 227b 7b20 7365  ')" value="{{ se
-000005b0: 6c65 6374 6564 5f74 6f6f 6c2e 6e61 6d65  lected_tool.name
-000005c0: 207d 7d22 3e0a 0909 0909 093c 696e 7075   }}">......<inpu
-000005d0: 7420 7479 7065 3d22 6869 6464 656e 2220  t type="hidden" 
-000005e0: 6964 3d22 746f 6f6c 2220 6e61 6d65 3d22  id="tool" name="
-000005f0: 746f 6f6c 2220 7661 6c75 653d 227b 7b20  tool" value="{{ 
-00000600: 7365 6c65 6374 6564 5f74 6f6f 6c2e 6964  selected_tool.id
-00000610: 207d 7d22 3e0a 0909 0909 3c2f 6469 763e   }}">.....</div>
-00000620: 0a09 0909 3c2f 6469 763e 0a09 0909 7b25  ....</div>....{%
-00000630: 2069 6620 7573 6572 2e61 6374 6976 655f   if user.active_
-00000640: 7072 6f6a 6563 745f 636f 756e 7420 3d3d  project_count ==
-00000650: 2031 2025 7d0a 0909 0909 3c69 6e70 7574   1 %}.....<input
-00000660: 2074 7970 653d 2268 6964 6465 6e22 206e   type="hidden" n
-00000670: 616d 653d 2270 726f 6a65 6374 2220 7661  ame="project" va
-00000680: 6c75 653d 227b 7b20 7573 6572 2e61 6374  lue="{{ user.act
-00000690: 6976 655f 7072 6f6a 6563 7473 2e30 2e69  ive_projects.0.i
-000006a0: 6420 7d7d 223e 0a09 0909 7b25 2065 6c73  d }}">....{% els
-000006b0: 6520 257d 0a09 0909 093c 6469 7620 636c  e %}.....<div cl
-000006c0: 6173 733d 2266 6f72 6d2d 6772 6f75 7022  ass="form-group"
-000006d0: 3e0a 0909 0909 093c 6c61 6265 6c20 636c  >......<label cl
-000006e0: 6173 733d 2263 6f6c 2d73 6d2d 3320 636f  ass="col-sm-3 co
-000006f0: 6e74 726f 6c2d 6c61 6265 6c22 2066 6f72  ntrol-label" for
-00000700: 3d22 7072 6f6a 6563 7422 3e50 726f 6a65  ="project">Proje
-00000710: 6374 3c2f 6c61 6265 6c3e 0a09 0909 0909  ct</label>......
-00000720: 3c64 6976 2063 6c61 7373 3d22 636f 6c2d  <div class="col-
-00000730: 736d 2d39 223e 0a09 0909 0909 097b 2520  sm-9">.......{% 
-00000740: 6966 2075 7365 722e 6163 7469 7665 5f70  if user.active_p
-00000750: 726f 6a65 6374 5f63 6f75 6e74 203e 2031  roject_count > 1
-00000760: 2025 7d0a 0909 0909 0909 093c 6469 7620   %}........<div 
-00000770: 636c 6173 733d 2272 6f77 223e 0a09 0909  class="row">....
-00000780: 0909 0909 093c 6469 7620 636c 6173 733d  .....<div class=
-00000790: 2263 6f6c 2d73 6d2d 3522 3e0a 0909 0909  "col-sm-5">.....
-000007a0: 0909 0909 093c 6469 7620 636c 6173 733d  .....<div class=
-000007b0: 2262 746e 2d67 726f 7570 2220 7374 796c  "btn-group" styl
-000007c0: 653d 2277 6964 7468 3a20 3130 3025 223e  e="width: 100%">
-000007d0: 0a09 0909 0909 0909 0909 093c 6120 636c  ...........<a cl
-000007e0: 6173 733d 2262 746e 2062 746e 2d64 6566  ass="btn btn-def
-000007f0: 6175 6c74 2064 726f 7064 6f77 6e2d 746f  ault dropdown-to
-00000800: 6767 6c65 2074 6578 742d 7269 6768 7422  ggle text-right"
-00000810: 2073 7479 6c65 3d22 7769 6474 683a 2031   style="width: 1
-00000820: 3030 253b 2220 6461 7461 2d74 6f67 676c  00%;" data-toggl
-00000830: 653d 2264 726f 7064 6f77 6e22 2068 7265  e="dropdown" hre
-00000840: 663d 2223 223e 3c73 7061 6e20 6964 3d22  f="#"><span id="
-00000850: 7072 6f6a 6563 745f 7365 6c65 6374 6564  project_selected
-00000860: 2220 7374 796c 653d 2264 6973 706c 6179  " style="display
-00000870: 3a20 696e 6c69 6e65 2d62 6c6f 636b 3b20  : inline-block; 
-00000880: 7769 6474 683a 2039 3525 223e 7b25 2066  width: 95%">{% f
-00000890: 6f72 2070 726f 6a65 6374 2069 6e20 7573  or project in us
-000008a0: 6572 2e61 6374 6976 655f 7072 6f6a 6563  er.active_projec
-000008b0: 7473 2025 7d7b 2520 6966 2066 6f72 6d2e  ts %}{% if form.
-000008c0: 7072 6f6a 6563 742e 7661 6c75 657c 746f  project.value|to
-000008d0: 5f69 6e74 203d 3d20 7072 6f6a 6563 742e  _int == project.
-000008e0: 6964 2025 7d7b 7b20 7072 6f6a 6563 7420  id %}{{ project 
-000008f0: 7d7d 7b25 2065 6e64 6966 2025 7d7b 2520  }}{% endif %}{% 
-00000900: 656e 6466 6f72 2025 7d3c 2f73 7061 6e3e  endfor %}</span>
-00000910: 3c73 7061 6e20 636c 6173 733d 2263 6172  <span class="car
-00000920: 6574 223e 3c2f 7370 616e 3e3c 2f61 3e0a  et"></span></a>.
-00000930: 0909 0909 0909 0909 0909 3c75 6c20 6964  ..........<ul id
-00000940: 3d22 7072 6f6a 6563 745f 6472 6f70 646f  ="project_dropdo
-00000950: 776e 2220 636c 6173 733d 2264 726f 7064  wn" class="dropd
-00000960: 6f77 6e2d 6d65 6e75 2220 7374 796c 653d  own-menu" style=
-00000970: 2277 6964 7468 3a20 3130 3025 223e 0a09  "width: 100%">..
-00000980: 0909 0909 0909 0909 0909 7b25 2066 6f72  ..........{% for
-00000990: 2070 726f 6a65 6374 2069 6e20 7573 6572   project in user
-000009a0: 2e61 6374 6976 655f 7072 6f6a 6563 7473  .active_projects
-000009b0: 2025 7d0a 0909 0909 0909 0909 0909 0909   %}.............
-000009c0: 3c6c 6920 636c 6173 733d 2272 6164 696f  <li class="radio
-000009d0: 223e 0a09 0909 0909 0909 0909 0909 0909  ">..............
-000009e0: 3c6c 6162 656c 2073 7479 6c65 3d22 7769  <label style="wi
-000009f0: 6474 683a 2031 3030 253b 2070 6164 6469  dth: 100%; paddi
-00000a00: 6e67 2d6c 6566 743a 2031 3570 7822 3e3c  ng-left: 15px"><
-00000a10: 696e 7075 7420 7374 796c 653d 2264 6973  input style="dis
-00000a20: 706c 6179 3a20 6e6f 6e65 2220 7479 7065  play: none" type
-00000a30: 3d22 7261 6469 6f22 206e 616d 653d 2270  ="radio" name="p
-00000a40: 726f 6a65 6374 2220 7661 6c75 653d 227b  roject" value="{
-00000a50: 7b20 7072 6f6a 6563 742e 6964 207d 7d22  { project.id }}"
-00000a60: 207b 2520 6966 2066 6f72 6d2e 7072 6f6a   {% if form.proj
-00000a70: 6563 742e 7661 6c75 657c 746f 5f69 6e74  ect.value|to_int
-00000a80: 203d 3d20 7072 6f6a 6563 742e 6964 2025   == project.id %
-00000a90: 7d63 6865 636b 6564 7b25 2065 6e64 6966  }checked{% endif
-00000aa0: 2025 7d3e 7b25 2070 726f 6a65 6374 5f73   %}>{% project_s
-00000ab0: 656c 6563 7469 6f6e 5f64 6973 706c 6179  election_display
-00000ac0: 2070 726f 6a65 6374 2025 7d3c 2f6c 6162   project %}</lab
-00000ad0: 656c 3e0a 0909 0909 0909 0909 0909 0909  el>.............
-00000ae0: 3c2f 6c69 3e0a 0909 0909 0909 0909 0909  </li>...........
-00000af0: 097b 2520 656e 6466 6f72 2025 7d0a 0909  .{% endfor %}...
-00000b00: 0909 0909 0909 0909 3c2f 756c 3e0a 0909  ........</ul>...
-00000b10: 0909 0909 0909 093c 2f64 6976 3e0a 0909  .......</div>...
-00000b20: 0909 0909 0909 3c2f 6469 763e 0a09 0909  ......</div>....
-00000b30: 0909 0909 3c2f 6469 763e 0a09 0909 0909  ....</div>......
-00000b40: 097b 2520 656c 7365 2025 7d0a 0909 0909  .{% else %}.....
-00000b50: 0909 093c 6469 7620 636c 6173 733d 2266  ...<div class="f
-00000b60: 6f72 6d2d 636f 6e74 726f 6c2d 7374 6174  orm-control-stat
-00000b70: 6963 223e 596f 7520 646f 206e 6f74 2068  ic">You do not h
-00000b80: 6176 6520 616e 7920 6163 7469 7665 2070  ave any active p
-00000b90: 726f 6a65 6374 733c 2f64 6976 3e0a 0909  rojects</div>...
-00000ba0: 0909 0909 7b25 2065 6e64 6966 2025 7d0a  ....{% endif %}.
-00000bb0: 0909 0909 093c 2f64 6976 3e0a 0909 0909  .....</div>.....
-00000bc0: 097b 2520 6966 2066 6f72 6d2e 7072 6f6a  .{% if form.proj
-00000bd0: 6563 742e 6572 726f 7273 2025 7d0a 0909  ect.errors %}...
-00000be0: 0909 0909 3c64 6976 2063 6c61 7373 3d22  ....<div class="
-00000bf0: 636f 6c2d 6d64 2d6f 6666 7365 742d 3320  col-md-offset-3 
-00000c00: 636f 6c2d 736d 2d39 2066 6f72 6d2d 636f  col-sm-9 form-co
-00000c10: 6e74 726f 6c2d 7374 6174 6963 2064 616e  ntrol-static dan
-00000c20: 6765 722d 6869 6768 6c69 6768 7422 3e0a  ger-highlight">.
-00000c30: 0909 0909 0909 097b 7b20 666f 726d 2e70  .......{{ form.p
-00000c40: 726f 6a65 6374 2e65 7272 6f72 737c 7374  roject.errors|st
-00000c50: 7269 7074 6167 7320 7d7d 0a09 0909 0909  riptags }}......
-00000c60: 093c 2f64 6976 3e0a 0909 0909 097b 2520  .</div>......{% 
-00000c70: 656e 6469 6620 257d 0a09 0909 093c 2f64  endif %}.....</d
-00000c80: 6976 3e0a 0909 097b 2520 656e 6469 6620  iv>....{% endif 
-00000c90: 257d 0a09 0909 7b25 2069 6620 7472 6169  %}....{% if trai
-00000ca0: 6e69 6e67 5f64 6574 6169 6c73 2e74 6563  ning_details.tec
-00000cb0: 686e 6971 7565 732e 616c 6c20 257d 0a09  hniques.all %}..
-00000cc0: 0909 093c 6469 7620 636c 6173 733d 2266  ...<div class="f
-00000cd0: 6f72 6d2d 6772 6f75 7022 3e0a 0909 0909  orm-group">.....
-00000ce0: 093c 6c61 6265 6c20 636c 6173 733d 2263  .<label class="c
-00000cf0: 6f6c 2d73 6d2d 3320 636f 6e74 726f 6c2d  ol-sm-3 control-
-00000d00: 6c61 6265 6c22 2066 6f72 3d22 7465 6368  label" for="tech
-00000d10: 6e69 7175 6522 3e54 6563 686e 6971 7565  nique">Technique
-00000d20: 3c2f 6c61 6265 6c3e 0a09 0909 0909 3c64  </label>......<d
-00000d30: 6976 2063 6c61 7373 3d22 636f 6c2d 736d  iv class="col-sm
-00000d40: 2d39 223e 0a09 0909 0909 093c 6469 7620  -9">.......<div 
-00000d50: 636c 6173 733d 2272 6f77 223e 0a09 0909  class="row">....
-00000d60: 0909 0909 3c64 6976 2063 6c61 7373 3d22  ....<div class="
-00000d70: 636f 6c2d 736d 2d35 223e 0a09 0909 0909  col-sm-5">......
-00000d80: 0909 093c 7365 6c65 6374 2063 6c61 7373  ...<select class
-00000d90: 3d22 666f 726d 2d63 6f6e 7472 6f6c 2220  ="form-control" 
-00000da0: 6e61 6d65 3d22 7465 6368 6e69 7175 6522  name="technique"
-00000db0: 2069 643d 2274 6563 686e 6971 7565 223e   id="technique">
-00000dc0: 0a09 0909 0909 0909 0909 3c6f 7074 696f  ..........<optio
-00000dd0: 6e20 7661 6c75 653d 2222 3e7b 7b20 2274  n value="">{{ "t
-00000de0: 7261 696e 696e 6722 7c63 7573 746f 6d69  raining"|customi
-00000df0: 7a61 7469 6f6e 3a22 7472 6169 6e69 6e67  zation:"training
-00000e00: 5f74 6563 686e 6971 7565 5f65 6d70 7479  _technique_empty
-00000e10: 5f6c 6162 656c 2220 7d7d 3c2f 6f70 7469  _label" }}</opti
-00000e20: 6f6e 3e0a 0909 0909 0909 0909 097b 2520  on>..........{% 
-00000e30: 666f 7220 7465 6368 6e69 7175 6520 696e  for technique in
-00000e40: 2074 7261 696e 696e 675f 6465 7461 696c   training_detail
-00000e50: 732e 7465 6368 6e69 7175 6573 2e61 6c6c  s.techniques.all
-00000e60: 2025 7d0a 0909 0909 0909 0909 0909 3c6f   %}...........<o
-00000e70: 7074 696f 6e20 6c61 6265 6c3d 227b 7b20  ption label="{{ 
-00000e80: 7465 6368 6e69 7175 652e 6e61 6d65 207d  technique.name }
-00000e90: 7d22 2076 616c 7565 3d22 7b7b 2074 6563  }" value="{{ tec
-00000ea0: 686e 6971 7565 2e69 6420 7d7d 2220 7b25  hnique.id }}" {%
-00000eb0: 2069 6620 666f 726d 2e74 6563 686e 6971   if form.techniq
-00000ec0: 7565 2e76 616c 7565 7c74 6f5f 696e 7420  ue.value|to_int 
-00000ed0: 3d3d 2074 6563 686e 6971 7565 2e69 6420  == technique.id 
-00000ee0: 257d 7365 6c65 6374 6564 7b25 2065 6e64  %}selected{% end
-00000ef0: 6966 2025 7d3e 3c2f 6f70 7469 6f6e 3e0a  if %}></option>.
-00000f00: 0909 0909 0909 0909 097b 2520 656e 6466  .........{% endf
-00000f10: 6f72 2025 7d0a 0909 0909 0909 0909 3c2f  or %}.........</
-00000f20: 7365 6c65 6374 3e0a 0909 0909 0909 093c  select>........<
-00000f30: 2f64 6976 3e0a 0909 0909 0909 3c2f 6469  /div>.......</di
-00000f40: 763e 0a09 0909 0909 3c2f 6469 763e 0a09  v>......</div>..
-00000f50: 0909 0909 7b25 2069 6620 666f 726d 2e74  ....{% if form.t
-00000f60: 6563 686e 6971 7565 2e65 7272 6f72 7320  echnique.errors 
-00000f70: 257d 0a09 0909 0909 093c 6469 7620 636c  %}.......<div cl
-00000f80: 6173 733d 2263 6f6c 2d6d 642d 6f66 6673  ass="col-md-offs
-00000f90: 6574 2d33 2063 6f6c 2d73 6d2d 3920 666f  et-3 col-sm-9 fo
-00000fa0: 726d 2d63 6f6e 7472 6f6c 2d73 7461 7469  rm-control-stati
-00000fb0: 6320 6461 6e67 6572 2d68 6967 686c 6967  c danger-highlig
-00000fc0: 6874 223e 0a09 0909 0909 0909 7b7b 2066  ht">........{{ f
-00000fd0: 6f72 6d2e 7465 6368 6e69 7175 652e 6572  orm.technique.er
-00000fe0: 726f 7273 7c73 7472 6970 7461 6773 207d  rors|striptags }
-00000ff0: 7d0a 0909 0909 0909 3c2f 6469 763e 0a09  }.......</div>..
-00001000: 0909 0909 7b25 2065 6e64 6966 2025 7d0a  ....{% endif %}.
-00001010: 0909 0909 3c2f 6469 763e 0a09 0909 7b25  ....</div>....{%
-00001020: 2065 6e64 6966 2025 7d0a 0909 097b 2520   endif %}....{% 
-00001030: 6966 2075 7365 725f 6176 6169 6c61 6269  if user_availabi
-00001040: 6c69 7479 5f61 6c6c 6f77 6564 2025 7d0a  lity_allowed %}.
-00001050: 0909 0909 3c64 6976 2063 6c61 7373 3d22  ....<div class="
-00001060: 666f 726d 2d67 726f 7570 223e 0a09 0909  form-group">....
-00001070: 0909 3c6c 6162 656c 2063 6c61 7373 3d22  ..<label class="
-00001080: 636f 6e74 726f 6c2d 6c61 6265 6c20 636f  control-label co
-00001090: 6c2d 736d 2d33 2220 666f 723d 2274 696d  l-sm-3" for="tim
-000010a0: 6573 223e 4176 6169 6c61 6269 6c69 7479  es">Availability
-000010b0: 3c2f 6c61 6265 6c3e 0a09 0909 0909 3c64  </label>......<d
-000010c0: 6976 2063 6c61 7373 3d22 636f 6c2d 736d  iv class="col-sm
-000010d0: 2d39 2220 6964 3d22 7469 6d65 7322 2073  -9" id="times" s
-000010e0: 7479 6c65 3d22 706f 7369 7469 6f6e 3a20  tyle="position: 
-000010f0: 7265 6c61 7469 7665 3b22 3e0a 0909 0909  relative;">.....
-00001100: 0909 7b25 2066 6f72 2074 696d 655f 666f  ..{% for time_fo
-00001110: 726d 2069 6e20 7469 6d65 5f66 6f72 6d73  rm in time_forms
-00001120: 2025 7d0a 0909 0909 0909 093c 6469 7620   %}........<div 
-00001130: 636c 6173 733d 2272 6f77 2220 6964 3d22  class="row" id="
-00001140: 7469 6d65 735f 7b7b 2066 6f72 6c6f 6f70  times_{{ forloop
-00001150: 2e63 6f75 6e74 6572 207d 7d22 2073 7479  .counter }}" sty
-00001160: 6c65 3d22 7061 6464 696e 672d 626f 7474  le="padding-bott
-00001170: 6f6d 3a20 3570 783b 223e 0a09 0909 0909  om: 5px;">......
-00001180: 0909 093c 696e 7075 7420 7479 7065 3d22  ...<input type="
-00001190: 6869 6464 656e 2220 6e61 6d65 3d22 7469  hidden" name="ti
-000011a0: 6d65 7322 2076 616c 7565 3d22 7b7b 2066  mes" value="{{ f
-000011b0: 6f72 6c6f 6f70 2e63 6f75 6e74 6572 207d  orloop.counter }
-000011c0: 7d22 3e0a 0909 0909 0909 0909 3c64 6976  }">.........<div
-000011d0: 2063 6c61 7373 3d22 636f 6c2d 7873 2d35   class="col-xs-5
-000011e0: 223e 3c69 6e70 7574 2073 7479 6c65 3d22  "><input style="
-000011f0: 706f 7369 7469 6f6e 3a20 7265 6c61 7469  position: relati
-00001200: 7665 2220 636c 6173 733d 2266 6f72 6d2d  ve" class="form-
-00001210: 636f 6e74 726f 6c22 2074 7970 653d 2274  control" type="t
-00001220: 6578 7422 206e 616d 653d 2273 7461 7274  ext" name="start
-00001230: 5f7b 7b20 666f 726c 6f6f 702e 636f 756e  _{{ forloop.coun
-00001240: 7465 7220 7d7d 2220 6964 3d22 7374 6172  ter }}" id="star
-00001250: 745f 7b7b 2066 6f72 6c6f 6f70 2e63 6f75  t_{{ forloop.cou
-00001260: 6e74 6572 207d 7d22 2076 616c 7565 3d22  nter }}" value="
-00001270: 7b7b 2074 696d 655f 666f 726d 2e73 7461  {{ time_form.sta
-00001280: 7274 5f74 696d 652e 7661 6c75 657c 696e  rt_time.value|in
-00001290: 7075 745f 6461 7465 5f66 6f72 6d61 7420  put_date_format 
-000012a0: 7d7d 2220 6172 6961 2d6c 6162 656c 3d22  }}" aria-label="
-000012b0: 7374 6172 7420 7469 6d65 207b 7b20 666f  start time {{ fo
-000012c0: 726c 6f6f 702e 636f 756e 7465 7220 7d7d  rloop.counter }}
-000012d0: 223e 3c2f 6469 763e 0a09 0909 0909 0909  "></div>........
-000012e0: 093c 6469 7620 636c 6173 733d 2263 6f6c  .<div class="col
-000012f0: 2d78 732d 3522 3e3c 696e 7075 7420 636c  -xs-5"><input cl
-00001300: 6173 733d 2266 6f72 6d2d 636f 6e74 726f  ass="form-contro
-00001310: 6c22 2074 7970 653d 2274 6578 7422 206e  l" type="text" n
-00001320: 616d 653d 2265 6e64 5f7b 7b20 666f 726c  ame="end_{{ forl
-00001330: 6f6f 702e 636f 756e 7465 7220 7d7d 2220  oop.counter }}" 
-00001340: 6964 3d22 656e 645f 7b7b 2066 6f72 6c6f  id="end_{{ forlo
-00001350: 6f70 2e63 6f75 6e74 6572 207d 7d22 2076  op.counter }}" v
-00001360: 616c 7565 3d22 7b7b 2074 696d 655f 666f  alue="{{ time_fo
-00001370: 726d 2e65 6e64 5f74 696d 652e 7661 6c75  rm.end_time.valu
-00001380: 657c 696e 7075 745f 6461 7465 5f66 6f72  e|input_date_for
-00001390: 6d61 7420 7d7d 2220 6172 6961 2d6c 6162  mat }}" aria-lab
-000013a0: 656c 3d22 656e 6420 7469 6d65 207b 7b20  el="end time {{ 
-000013b0: 666f 726c 6f6f 702e 636f 756e 7465 7220  forloop.counter 
-000013c0: 7d7d 223e 3c2f 6469 763e 0a09 0909 0909  }}"></div>......
-000013d0: 0909 093c 6469 7620 636c 6173 733d 2263  ...<div class="c
-000013e0: 6f6c 2d78 732d 3120 7465 7874 2d63 656e  ol-xs-1 text-cen
-000013f0: 7465 7220 666f 726d 2d63 6f6e 7472 6f6c  ter form-control
-00001400: 2d73 7461 7469 6322 2073 7479 6c65 3d22  -static" style="
-00001410: 7061 6464 696e 672d 6c65 6674 3a20 303b  padding-left: 0;
-00001420: 223e 3c73 7061 6e20 636c 6173 733d 2267  "><span class="g
-00001430: 6c79 7068 6963 6f6e 2067 6c79 7068 6963  lyphicon glyphic
-00001440: 6f6e 2d6d 696e 7573 2d73 6967 6e20 6461  on-minus-sign da
-00001450: 6e67 6572 2d68 6967 686c 6967 6874 2220  nger-highlight" 
-00001460: 6f6e 636c 6963 6b3d 2224 2827 2374 696d  onclick="$('#tim
-00001470: 6573 5f7b 7b20 666f 726c 6f6f 702e 636f  es_{{ forloop.co
-00001480: 756e 7465 7220 7d7d 2729 2e72 656d 6f76  unter }}').remov
-00001490: 6528 293b 223e 3c2f 7370 616e 3e3c 2f64  e();"></span></d
-000014a0: 6976 3e0a 0909 0909 0909 0909 3c64 6976  iv>.........<div
-000014b0: 2063 6c61 7373 3d22 636f 6c2d 7873 2d31   class="col-xs-1
-000014c0: 2066 6f72 6d2d 636f 6e74 726f 6c2d 7374   form-control-st
-000014d0: 6174 6963 2220 7374 796c 653d 2270 6164  atic" style="pad
-000014e0: 6469 6e67 2d6c 6566 743a 2030 3b22 3e3c  ding-left: 0;"><
-000014f0: 7370 616e 2063 6c61 7373 3d22 676c 7970  span class="glyp
-00001500: 6869 636f 6e20 676c 7970 6869 636f 6e2d  hicon glyphicon-
-00001510: 706c 7573 2d73 6967 6e20 7375 6363 6573  plus-sign succes
-00001520: 732d 6869 6768 6c69 6768 7422 206f 6e63  s-highlight" onc
-00001530: 6c69 636b 3d22 6164 645f 7265 7175 6573  lick="add_reques
-00001540: 7465 645f 7469 6d65 2829 223e 3c2f 7370  ted_time()"></sp
-00001550: 616e 3e3c 2f64 6976 3e0a 0909 0909 0909  an></div>.......
-00001560: 0909 7b25 2069 6620 7469 6d65 5f66 6f72  ..{% if time_for
-00001570: 6d2e 7374 6172 745f 7469 6d65 2e65 7272  m.start_time.err
-00001580: 6f72 7320 257d 3c64 6976 2063 6c61 7373  ors %}<div class
-00001590: 3d22 636f 6c2d 736d 2d35 2064 616e 6765  ="col-sm-5 dange
-000015a0: 722d 6869 6768 6c69 6768 7422 3e7b 7b20  r-highlight">{{ 
-000015b0: 7469 6d65 5f66 6f72 6d2e 7374 6172 745f  time_form.start_
-000015c0: 7469 6d65 2e65 7272 6f72 737c 7374 7269  time.errors|stri
-000015d0: 7074 6167 7320 7d7d 3c2f 6469 763e 7b25  ptags }}</div>{%
-000015e0: 2065 6e64 6966 2025 7d0a 0909 0909 0909   endif %}.......
-000015f0: 0909 7b25 2069 6620 7469 6d65 5f66 6f72  ..{% if time_for
-00001600: 6d2e 656e 645f 7469 6d65 2e65 7272 6f72  m.end_time.error
-00001610: 7320 257d 3c64 6976 2063 6c61 7373 3d22  s %}<div class="
-00001620: 7b25 2069 6620 6e6f 7420 7469 6d65 5f66  {% if not time_f
-00001630: 6f72 6d2e 7374 6172 745f 7469 6d65 2e65  orm.start_time.e
-00001640: 7272 6f72 7320 257d 636f 6c2d 6d64 2d6f  rrors %}col-md-o
-00001650: 6666 7365 742d 357b 2520 656e 6469 6620  ffset-5{% endif 
-00001660: 257d 2063 6f6c 2d73 6d2d 3520 6461 6e67  %} col-sm-5 dang
-00001670: 6572 2d68 6967 686c 6967 6874 223e 7b7b  er-highlight">{{
-00001680: 2074 696d 655f 666f 726d 2e65 6e64 5f74   time_form.end_t
-00001690: 696d 652e 6572 726f 7273 7c73 7472 6970  ime.errors|strip
-000016a0: 7461 6773 207d 7d3c 2f64 6976 3e7b 2520  tags }}</div>{% 
-000016b0: 656e 6469 6620 257d 0a09 0909 0909 0909  endif %}........
-000016c0: 3c2f 6469 763e 0a09 0909 0909 097b 2520  </div>.......{% 
-000016d0: 656e 6466 6f72 2025 7d0a 0909 0909 093c  endfor %}......<
-000016e0: 2f64 6976 3e0a 0909 0909 3c2f 6469 763e  /div>.....</div>
-000016f0: 0a09 0909 7b25 2065 6e64 6966 2025 7d0a  ....{% endif %}.
-00001700: 0909 093c 6469 7620 636c 6173 733d 2266  ...<div class="f
-00001710: 6f72 6d2d 6772 6f75 7020 7b25 2069 6620  orm-group {% if 
-00001720: 666f 726d 2e6d 6573 7361 6765 2e65 7272  form.message.err
-00001730: 6f72 7320 257d 6861 732d 6572 726f 727b  ors %}has-error{
-00001740: 2520 656e 6469 6620 257d 223e 0a09 0909  % endif %}">....
-00001750: 093c 6c61 6265 6c20 636c 6173 733d 2263  .<label class="c
-00001760: 6f6e 7472 6f6c 2d6c 6162 656c 2063 6f6c  ontrol-label col
-00001770: 2d73 6d2d 3322 2066 6f72 3d22 6d65 7373  -sm-3" for="mess
-00001780: 6167 6522 3e4d 6573 7361 6765 3c2f 6c61  age">Message</la
-00001790: 6265 6c3e 0a09 0909 093c 6469 7620 636c  bel>.....<div cl
-000017a0: 6173 733d 2263 6f6c 2d73 6d2d 3922 3e0a  ass="col-sm-9">.
-000017b0: 0909 0909 093c 7465 7874 6172 6561 2069  .....<textarea i
-000017c0: 643d 226d 6573 7361 6765 2220 6f6e 696e  d="message" onin
-000017d0: 7075 743d 2261 7574 6f5f 7369 7a65 5f74  put="auto_size_t
-000017e0: 6578 7461 7265 6128 7468 6973 2922 206e  extarea(this)" n
-000017f0: 616d 653d 226d 6573 7361 6765 2220 636c  ame="message" cl
-00001800: 6173 733d 2266 6f72 6d2d 636f 6e74 726f  ass="form-contro
-00001810: 6c22 2070 6c61 6365 686f 6c64 6572 3d22  l" placeholder="
-00001820: 7b7b 206d 6573 7361 6765 5f70 6c61 6365  {{ message_place
-00001830: 686f 6c64 6572 207d 7d22 207b 2520 6966  holder }}" {% if
-00001840: 2075 7365 725f 6d65 7373 6167 655f 7265   user_message_re
-00001850: 7175 6972 6564 2025 7d72 6571 7569 7265  quired %}require
-00001860: 647b 2520 656e 6469 6620 257d 3e7b 7b20  d{% endif %}>{{ 
-00001870: 666f 726d 2e6d 6573 7361 6765 2e76 616c  form.message.val
-00001880: 7565 7c64 6566 6175 6c74 5f69 665f 6e6f  ue|default_if_no
-00001890: 6e65 3a22 2220 7d7d 3c2f 7465 7874 6172  ne:"" }}</textar
-000018a0: 6561 3e0a 0909 0909 3c2f 6469 763e 0a09  ea>.....</div>..
-000018b0: 0909 097b 2520 6966 2066 6f72 6d2e 6d65  ...{% if form.me
-000018c0: 7373 6167 652e 6572 726f 7273 2025 7d0a  ssage.errors %}.
-000018d0: 0909 0909 093c 6469 7620 636c 6173 733d  .....<div class=
-000018e0: 2263 6f6c 2d6d 642d 6f66 6673 6574 2d33  "col-md-offset-3
-000018f0: 2063 6f6c 2d73 6d2d 3920 666f 726d 2d63   col-sm-9 form-c
-00001900: 6f6e 7472 6f6c 2d73 7461 7469 6320 6461  ontrol-static da
-00001910: 6e67 6572 2d68 6967 686c 6967 6874 223e  nger-highlight">
-00001920: 0a09 0909 0909 097b 7b20 666f 726d 2e6d  .......{{ form.m
-00001930: 6573 7361 6765 2e65 7272 6f72 737c 7374  essage.errors|st
-00001940: 7269 7074 6167 7320 7d7d 0a09 0909 0909  riptags }}......
-00001950: 3c2f 6469 763e 0a09 0909 097b 2520 656e  </div>.....{% en
-00001960: 6469 6620 257d 0a09 0909 3c2f 6469 763e  dif %}....</div>
-00001970: 0a09 0909 3c64 6976 2063 6c61 7373 3d22  ....<div class="
-00001980: 666f 726d 2d67 726f 7570 223e 0a09 0909  form-group">....
-00001990: 093c 6469 7620 636c 6173 733d 2263 6f6c  .<div class="col
-000019a0: 2d6d 642d 6f66 6673 6574 2d33 2063 6f6c  -md-offset-3 col
-000019b0: 2d73 6d2d 3922 3e0a 0909 0909 097b 2520  -sm-9">......{% 
-000019c0: 6275 7474 6f6e 2074 7970 653d 2273 6176  button type="sav
-000019d0: 6522 2073 7562 6d69 743d 4661 6c73 6520  e" submit=False 
-000019e0: 7661 6c75 653d 666f 726d 2e69 6e73 7461  value=form.insta
-000019f0: 6e63 652e 6964 7c79 6573 6e6f 3a22 5361  nce.id|yesno:"Sa
-00001a00: 7665 2063 6861 6e67 6573 2c43 7265 6174  ve changes,Creat
-00001a10: 6520 7265 7175 6573 7422 206f 6e63 6c69  e request" oncli
-00001a20: 636b 3d22 7375 626d 6974 5f66 6f72 6d28  ck="submit_form(
-00001a30: 7468 6973 2922 2025 7d0a 0909 0909 3c2f  this)" %}.....</
-00001a40: 6469 763e 0a09 0909 3c2f 6469 763e 0a09  div>....</div>..
-00001a50: 093c 2f66 6f72 6d3e 0a09 7b25 2065 6e64  .</form>..{% end
-00001a60: 6966 2025 7d0a 093c 7363 7269 7074 3e0a  if %}..<script>.
-00001a70: 2020 2020 2020 2020 2428 2223 7072 6f6a          $("#proj
-00001a80: 6563 745f 6472 6f70 646f 776e 2e64 726f  ect_dropdown.dro
-00001a90: 7064 6f77 6e2d 6d65 6e75 206c 6920 6c61  pdown-menu li la
-00001aa0: 6265 6c22 292e 636c 6963 6b28 6675 6e63  bel").click(func
-00001ab0: 7469 6f6e 2028 290a 0909 7b0a 2020 2020  tion ()...{.    
-00001ac0: 2020 2020 2020 2020 6c65 7420 7365 6c54          let selT
-00001ad0: 6578 7420 3d20 2428 7468 6973 292e 7465  ext = $(this).te
-00001ae0: 7874 2829 3b0a 2020 2020 2020 2020 2020  xt();.          
-00001af0: 2020 2428 2723 7072 6f6a 6563 745f 7365    $('#project_se
-00001b00: 6c65 6374 6564 2729 2e68 746d 6c28 7365  lected').html(se
-00001b10: 6c54 6578 7429 3b0a 2020 2020 2020 2020  lText);.        
-00001b20: 7d29 3b0a 0909 6c65 7420 7469 6d65 7069  });...let timepi
-00001b30: 636b 6572 5f70 726f 7065 7274 6965 7320  cker_properties 
-00001b40: 3d0a 0909 7b0a 0909 0966 6f72 6d61 743a  =...{....format:
-00001b50: 2027 7b7b 2064 6174 6574 696d 655f 696e   '{{ datetime_in
-00001b60: 7075 745f 6a73 5f66 6f72 6d61 7420 7d7d  put_js_format }}
-00001b70: 272c 0a20 2020 2020 2020 2020 2020 2073  ',.            s
-00001b80: 686f 7743 6c6f 7365 3a20 7472 7565 2c0a  howClose: true,.
-00001b90: 2020 2020 2020 2020 2020 2020 7368 6f77              show
-00001ba0: 436c 6561 723a 2074 7275 652c 0a09 0909  Clear: true,....
-00001bb0: 7374 6570 7069 6e67 3a20 3135 2c0a 0909  stepping: 15,...
-00001bc0: 0973 6964 6542 7953 6964 653a 2074 7275  .sideBySide: tru
-00001bd0: 652c 0a09 0909 6d69 6e44 6174 653a 206d  e,....minDate: m
-00001be0: 6f6d 656e 7428 292e 7374 6172 744f 6628  oment().startOf(
-00001bf0: 2764 6179 2729 2c0a 2020 2020 2020 2020  'day'),.        
-00001c00: 2020 2020 7573 6543 7572 7265 6e74 3a20      useCurrent: 
-00001c10: 6661 6c73 650a 0909 7d3b 0a09 096c 6574  false...};...let
-00001c20: 2072 6571 7565 7374 6564 5f74 696d 6573   requested_times
-00001c30: 5f63 6f75 6e74 6572 203d 207b 7b20 7469  _counter = {{ ti
-00001c40: 6d65 5f66 6f72 6d73 7c6c 656e 6774 6820  me_forms|length 
-00001c50: 7d7d 3b0a 2020 2020 2020 2020 6675 6e63  }};.        func
-00001c60: 7469 6f6e 2061 6464 5f72 6571 7565 7374  tion add_request
-00001c70: 6564 5f74 696d 6528 290a 2020 2020 2020  ed_time().      
-00001c80: 2020 7b0a 2020 2020 2020 2020 2020 2020    {.            
-00001c90: 7265 7175 6573 7465 645f 7469 6d65 735f  requested_times_
-00001ca0: 636f 756e 7465 7220 2b2b 3b0a 2020 2020  counter ++;.    
-00001cb0: 2020 2020 2020 2020 6c65 7420 7469 6d65          let time
-00001cc0: 735f 6469 7620 3d20 273c 6469 7620 6964  s_div = '<div id
-00001cd0: 3d22 7469 6d65 735f 272b 7265 7175 6573  ="times_'+reques
-00001ce0: 7465 645f 7469 6d65 735f 636f 756e 7465  ted_times_counte
-00001cf0: 722b 2722 2063 6c61 7373 3d22 726f 7722  r+'" class="row"
-00001d00: 2073 7479 6c65 3d22 6d61 7267 696e 2d62   style="margin-b
-00001d10: 6f74 746f 6d3a 2035 7078 3b22 3e27 202b  ottom: 5px;">' +
-00001d20: 0a09 0909 0927 3c69 6e70 7574 2074 7970  .....'<input typ
-00001d30: 653d 2268 6964 6465 6e22 206e 616d 653d  e="hidden" name=
-00001d40: 2274 696d 6573 2220 7661 6c75 653d 2227  "times" value="'
-00001d50: 2b72 6571 7565 7374 6564 5f74 696d 6573  +requested_times
-00001d60: 5f63 6f75 6e74 6572 2b27 223e 2720 2b0a  _counter+'">' +.
-00001d70: 0909 0909 273c 6469 7620 636c 6173 733d  ....'<div class=
-00001d80: 2263 6f6c 2d78 732d 3522 223e 3c69 6e70  "col-xs-5""><inp
-00001d90: 7574 2063 6c61 7373 3d22 666f 726d 2d63  ut class="form-c
-00001da0: 6f6e 7472 6f6c 2220 7479 7065 3d22 7465  ontrol" type="te
-00001db0: 7874 2220 6e61 6d65 3d22 7374 6172 745f  xt" name="start_
-00001dc0: 272b 7265 7175 6573 7465 645f 7469 6d65  '+requested_time
-00001dd0: 735f 636f 756e 7465 722b 2722 2069 643d  s_counter+'" id=
-00001de0: 2273 7461 7274 5f27 2b72 6571 7565 7374  "start_'+request
-00001df0: 6564 5f74 696d 6573 5f63 6f75 6e74 6572  ed_times_counter
-00001e00: 2b27 2220 6172 6961 2d6c 6162 656c 3d22  +'" aria-label="
-00001e10: 7374 6172 7420 7469 6d65 2027 2b72 6571  start time '+req
-00001e20: 7565 7374 6564 5f74 696d 6573 5f63 6f75  uested_times_cou
-00001e30: 6e74 6572 2b27 223e 3c2f 6469 763e 2720  nter+'"></div>' 
-00001e40: 2b0a 0909 0909 273c 6469 7620 636c 6173  +.....'<div clas
-00001e50: 733d 2263 6f6c 2d78 732d 3522 3e3c 696e  s="col-xs-5"><in
-00001e60: 7075 7420 636c 6173 733d 2266 6f72 6d2d  put class="form-
-00001e70: 636f 6e74 726f 6c22 2074 7970 653d 2274  control" type="t
-00001e80: 6578 7422 206e 616d 653d 2265 6e64 5f27  ext" name="end_'
-00001e90: 2b72 6571 7565 7374 6564 5f74 696d 6573  +requested_times
-00001ea0: 5f63 6f75 6e74 6572 2b27 2220 6964 3d22  _counter+'" id="
-00001eb0: 656e 645f 272b 7265 7175 6573 7465 645f  end_'+requested_
-00001ec0: 7469 6d65 735f 636f 756e 7465 722b 2722  times_counter+'"
-00001ed0: 2061 7269 612d 6c61 6265 6c3d 2265 6e64   aria-label="end
-00001ee0: 2074 696d 6520 272b 7265 7175 6573 7465   time '+requeste
-00001ef0: 645f 7469 6d65 735f 636f 756e 7465 722b  d_times_counter+
-00001f00: 2722 3e3c 2f64 6976 3e27 202b 0a09 0909  '"></div>' +....
-00001f10: 0927 3c64 6976 2063 6c61 7373 3d22 636f  .'<div class="co
-00001f20: 6c2d 7873 2d31 2074 6578 742d 6365 6e74  l-xs-1 text-cent
-00001f30: 6572 2066 6f72 6d2d 636f 6e74 726f 6c2d  er form-control-
-00001f40: 7374 6174 6963 2220 7374 796c 653d 2270  static" style="p
-00001f50: 6164 6469 6e67 2d6c 6566 743a 2030 3b22  adding-left: 0;"
-00001f60: 3e3c 7370 616e 2063 6c61 7373 3d22 676c  ><span class="gl
-00001f70: 7970 6869 636f 6e20 676c 7970 6869 636f  yphicon glyphico
-00001f80: 6e2d 6d69 6e75 732d 7369 676e 2064 616e  n-minus-sign dan
-00001f90: 6765 722d 6869 6768 6c69 6768 7422 206f  ger-highlight" o
-00001fa0: 6e63 6c69 636b 3d22 2428 5c27 2374 696d  nclick="$(\'#tim
-00001fb0: 6573 5f27 2b72 6571 7565 7374 6564 5f74  es_'+requested_t
-00001fc0: 696d 6573 5f63 6f75 6e74 6572 2b27 5c27  imes_counter+'\'
-00001fd0: 292e 7265 6d6f 7665 2829 3b22 3e3c 2f73  ).remove();"></s
-00001fe0: 7061 6e3e 3c2f 6469 763e 2720 2b0a 0909  pan></div>' +...
-00001ff0: 0909 273c 6469 7620 636c 6173 733d 2263  ..'<div class="c
-00002000: 6f6c 2d78 732d 3120 666f 726d 2d63 6f6e  ol-xs-1 form-con
-00002010: 7472 6f6c 2d73 7461 7469 6322 2073 7479  trol-static" sty
-00002020: 6c65 3d22 7061 6464 696e 672d 6c65 6674  le="padding-left
-00002030: 3a20 303b 223e 3c73 7061 6e20 636c 6173  : 0;"><span clas
-00002040: 733d 2267 6c79 7068 6963 6f6e 2067 6c79  s="glyphicon gly
-00002050: 7068 6963 6f6e 2d70 6c75 732d 7369 676e  phicon-plus-sign
-00002060: 2073 7563 6365 7373 2d68 6967 686c 6967   success-highlig
-00002070: 6874 2220 6f6e 636c 6963 6b3d 2261 6464  ht" onclick="add
-00002080: 5f72 6571 7565 7374 6564 5f74 696d 6528  _requested_time(
-00002090: 2922 3e3c 2f73 7061 6e3e 3c2f 6469 763e  )"></span></div>
-000020a0: 3c2f 6469 763e 270a 2020 2020 2020 2020  </div>'.        
-000020b0: 2020 2020 2428 2223 7469 6d65 7322 292e      $("#times").
-000020c0: 6170 7065 6e64 2874 696d 6573 5f64 6976  append(times_div
-000020d0: 293b 0a20 2020 2020 2020 2020 2020 2073  );.            s
-000020e0: 6574 5f73 7461 7274 5f65 6e64 5f64 6174  et_start_end_dat
-000020f0: 6574 696d 655f 7069 636b 6572 7328 2428  etime_pickers($(
-00002100: 2223 7374 6172 745f 222b 7265 7175 6573  "#start_"+reques
-00002110: 7465 645f 7469 6d65 735f 636f 756e 7465  ted_times_counte
-00002120: 7229 2c20 2428 2223 656e 645f 222b 7265  r), $("#end_"+re
-00002130: 7175 6573 7465 645f 7469 6d65 735f 636f  quested_times_co
-00002140: 756e 7465 7229 2c20 7469 6d65 7069 636b  unter), timepick
-00002150: 6572 5f70 726f 7065 7274 6965 732c 2074  er_properties, t
-00002160: 7275 6529 3b0a 0909 7d0a 0909 6675 6e63  rue);...}...func
-00002170: 7469 6f6e 2072 656c 6f61 645f 7572 6c28  tion reload_url(
-00002180: 7572 6c29 0a20 2020 2020 2020 207b 0a20  url).        {. 
-00002190: 2020 2020 2020 2020 2020 207b 2520 6966             {% if
-000021a0: 206d 6f62 696c 655f 6465 7669 6365 2025   mobile_device %
-000021b0: 7d0a 0909 0909 6c6f 6361 7469 6f6e 2e68  }.....location.h
-000021c0: 7265 6620 3d20 7572 6c3b 0a20 2020 2020  ref = url;.     
-000021d0: 2020 2020 2020 207b 2520 656c 7365 2025         {% else %
-000021e0: 7d0a 0909 0909 616a 6178 5f67 6574 2875  }.....ajax_get(u
-000021f0: 726c 2c20 756e 6465 6669 6e65 642c 2061  rl, undefined, a
-00002200: 6a61 785f 7375 6363 6573 735f 6361 6c6c  jax_success_call
-00002210: 6261 636b 2c20 6765 6e65 7261 6c5f 6661  back, general_fa
-00002220: 696c 7572 655f 6361 6c6c 6261 636b 293b  ilure_callback);
-00002230: 0a20 2020 2020 2020 2020 2020 207b 2520  .            {% 
-00002240: 656e 6469 6620 257d 0a09 097d 0a09 0966  endif %}...}...f
-00002250: 756e 6374 696f 6e20 7375 6363 6573 735f  unction success_
-00002260: 6361 6c6c 6261 636b 2872 6573 706f 6e73  callback(respons
-00002270: 652c 2073 7461 7475 732c 2078 6d6c 5f68  e, status, xml_h
-00002280: 7474 705f 7265 7175 6573 742c 2061 6a61  ttp_request, aja
-00002290: 785f 706f 7374 2c20 7375 6363 6573 735f  x_post, success_
-000022a0: 6361 6c6c 6261 636b 290a 0909 7b0a 0909  callback)...{...
-000022b0: 097b 2320 4966 2074 6865 2072 6573 706f  .{# If the respo
-000022c0: 6e73 6520 6973 2065 6d70 7479 2074 6865  nse is empty the
-000022d0: 6e20 7468 6520 7472 6169 6e69 6e67 2072  n the training r
-000022e0: 6571 7565 7374 2077 6173 2073 7563 6365  equest was succe
-000022f0: 7373 6675 6c6c 7920 6372 6561 7465 642e  ssfully created.
-00002300: 2023 7d0a 0909 0969 6628 7265 7370 6f6e   #}....if(respon
-00002310: 7365 203d 3d3d 2022 2229 0a09 0909 7b0a  se === "")....{.
-00002320: 0909 0909 6c6f 6361 7469 6f6e 2e72 656c  ....location.rel
-00002330: 6f61 6428 293b 0a09 0909 7d0a 0909 0965  oad();....}....e
-00002340: 6c73 6520 7b23 2074 6865 2072 6573 706f  lse {# the respo
-00002350: 6e73 6520 7761 7320 6e6f 6e2d 656d 7074  nse was non-empt
-00002360: 792c 2064 6973 706c 6179 2069 6e20 706f  y, display in po
-00002370: 7075 702e 2023 7d0a 0909 097b 0a09 0909  pup. #}....{....
-00002380: 0924 2822 2364 6961 6c6f 6720 2e6d 6f64  .$("#dialog .mod
-00002390: 616c 2d63 6f6e 7465 6e74 2229 2e68 746d  al-content").htm
-000023a0: 6c28 7265 7370 6f6e 7365 293b 0a09 0909  l(response);....
-000023b0: 0924 2822 2364 6961 6c6f 6722 292e 6d6f  .$("#dialog").mo
-000023c0: 6461 6c28 2773 686f 7727 293b 0a09 0909  dal('show');....
-000023d0: 7d0a 0909 7d0a 0909 6675 6e63 7469 6f6e  }...}...function
-000023e0: 2073 7562 6d69 745f 666f 726d 2862 7574   submit_form(but
-000023f0: 746f 6e29 0a09 097b 0a20 2020 2020 2020  ton)...{.       
-00002400: 2020 2020 207b 2520 6966 206d 6f62 696c       {% if mobil
-00002410: 655f 6465 7669 6365 2025 7d0a 0909 0909  e_device %}.....
-00002420: 7375 626d 6974 5f61 6e64 5f64 6973 6162  submit_and_disab
-00002430: 6c65 2862 7574 746f 6e29 0a20 2020 2020  le(button).     
-00002440: 2020 2020 2020 207b 2520 656c 7365 2025         {% else %
-00002450: 7d0a 0909 0909 6966 2028 6275 7474 6f6e  }.....if (button
-00002460: 2e66 6f72 6d2e 7265 706f 7274 5661 6c69  .form.reportVali
-00002470: 6469 7479 2829 290a 2020 2020 2020 2020  dity()).        
-00002480: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
-00002490: 2020 2020 2020 2020 2020 2020 2020 6c65                le
-000024a0: 7420 706f 7374 5f64 6174 6120 3d20 2428  t post_data = $(
-000024b0: 2223 2220 2b20 6275 7474 6f6e 2e66 6f72  "#" + button.for
-000024c0: 6d2e 6964 292e 7365 7269 616c 697a 6528  m.id).serialize(
-000024d0: 293b 0a20 2020 2020 2020 2020 2020 2020  );.             
-000024e0: 2020 2020 2020 2061 6a61 785f 706f 7374         ajax_post
-000024f0: 2862 7574 746f 6e2e 666f 726d 2e61 6374  (button.form.act
-00002500: 696f 6e2c 2070 6f73 745f 6461 7461 2c20  ion, post_data, 
-00002510: 7375 6363 6573 735f 6361 6c6c 6261 636b  success_callback
-00002520: 2c20 6765 6e65 7261 6c5f 6661 696c 7572  , general_failur
-00002530: 655f 6361 6c6c 6261 636b 293b 0a20 2020  e_callback);.   
-00002540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002550: 2062 7574 746f 6e2e 6469 7361 626c 6564   button.disabled
-00002560: 203d 2074 7275 653b 0a20 2020 2020 2020   = true;.       
-00002570: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
-00002580: 2020 2020 2020 207b 2520 656e 6469 6620         {% endif 
-00002590: 257d 0a09 097d 0a09 0966 756e 6374 696f  %}...}...functio
-000025a0: 6e20 7365 6c65 6374 5f74 6f6f 6c28 6a71  n select_tool(jq
-000025b0: 7565 7279 5f65 7665 6e74 2c20 7365 6172  uery_event, sear
-000025c0: 6368 5f73 656c 6563 7469 6f6e 2c20 6461  ch_selection, da
-000025d0: 7461 7365 745f 6e61 6d65 290a 0909 7b0a  taset_name)...{.
-000025e0: 2020 2020 2020 2020 2020 2020 7265 6c6f              relo
-000025f0: 6164 5f75 726c 2822 7b25 2075 726c 2027  ad_url("{% url '
-00002600: 6372 6561 7465 5f74 7261 696e 696e 675f  create_training_
-00002610: 7265 7175 6573 745f 666f 725f 746f 6f6c  request_for_tool
-00002620: 2720 3939 3939 2025 7d22 2e72 6570 6c61  ' 9999 %}".repla
-00002630: 6365 2827 3939 3939 272c 2073 6561 7263  ce('9999', searc
-00002640: 685f 7365 6c65 6374 696f 6e2e 6964 2929  h_selection.id))
-00002650: 3b0a 0909 7d0a 0909 6675 6e63 7469 6f6e  ;...}...function
-00002660: 206f 6e5f 6c6f 6164 2829 0a09 097b 0a20   on_load()...{. 
-00002670: 2020 2020 2020 2020 2020 207b 2520 6966             {% if
-00002680: 206e 6f74 2073 656c 6563 7465 645f 746f   not selected_to
-00002690: 6f6c 2025 7d0a 0909 0909 2428 2223 746f  ol %}.....$("#to
-000026a0: 6f6c 5f73 6561 7263 6822 292e 6175 746f  ol_search").auto
-000026b0: 636f 6d70 6c65 7465 2827 746f 6f6c 7327  complete('tools'
-000026c0: 2c20 7365 6c65 6374 5f74 6f6f 6c2c 2027  , select_tool, '
-000026d0: 7b25 2075 726c 2027 7472 6169 6e69 6e67  {% url 'training
-000026e0: 5f74 6f6f 6c5f 7365 6172 6368 2720 2772  _tool_search' 'r
-000026f0: 6571 7565 7374 2720 257d 272c 2074 7275  equest' %}', tru
-00002700: 6529 3b0a 2020 2020 2020 2020 2020 2020  e);.            
-00002710: 7b25 2065 6e64 6966 2025 7d0a 2020 2020  {% endif %}.    
-00002720: 2020 2020 2020 2020 7b25 2069 6620 6e6f          {% if no
-00002730: 7420 7469 6d65 5f66 6f72 6d73 2025 7d0a  t time_forms %}.
-00002740: 0909 0909 6164 645f 7265 7175 6573 7465  ....add_requeste
-00002750: 645f 7469 6d65 2829 3b0a 2020 2020 2020  d_time();.      
-00002760: 2020 2020 2020 7b25 2065 6c73 6520 257d        {% else %}
-00002770: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002780: 207b 2520 666f 7220 7469 6d65 5f66 6f72   {% for time_for
-00002790: 6d20 696e 2074 696d 655f 666f 726d 7320  m in time_forms 
-000027a0: 257d 0a09 0909 0909 7365 745f 7374 6172  %}......set_star
-000027b0: 745f 656e 645f 6461 7465 7469 6d65 5f70  t_end_datetime_p
-000027c0: 6963 6b65 7273 2824 2822 2373 7461 7274  ickers($("#start
-000027d0: 5f7b 7b20 666f 726c 6f6f 702e 636f 756e  _{{ forloop.coun
-000027e0: 7465 7220 7d7d 2229 2c20 2428 2223 656e  ter }}"), $("#en
-000027f0: 645f 7b7b 2066 6f72 6c6f 6f70 2e63 6f75  d_{{ forloop.cou
-00002800: 6e74 6572 207d 7d22 292c 2074 696d 6570  nter }}"), timep
-00002810: 6963 6b65 725f 7072 6f70 6572 7469 6573  icker_properties
-00002820: 293b 0a20 2020 2020 2020 2020 2020 2020  );.             
-00002830: 2020 207b 2520 656e 6466 6f72 2025 7d0a     {% endfor %}.
-00002840: 2020 2020 2020 2020 2020 2020 7b25 2065              {% e
-00002850: 6e64 6966 2025 7d0a 0909 7d0a 0909 2428  ndif %}...}...$(
-00002860: 6675 6e63 7469 6f6e 2028 297b 6f6e 5f6c  function (){on_l
-00002870: 6f61 6428 297d 293b 0a09 3c2f 7363 7269  oad()});..</scri
-00002880: 7074 3e0a 7b25 2065 6e64 626c 6f63 6b20  pt>.{% endblock 
-00002890: 257d 0a                                  %}.
+00000050: 6520 257d 0a20 2020 207b 2520 626c 6f63  e %}.    {% bloc
+00000060: 6b20 6578 7472 6168 6561 6420 257d 0a20  k extrahead %}. 
+00000070: 2020 2020 2020 207b 2520 6c6f 6164 2073         {% load s
+00000080: 7461 7469 6320 257d 0a20 2020 2020 2020  tatic %}.       
+00000090: 203c 7363 7269 7074 2074 7970 653d 2274   <script type="t
+000000a0: 6578 742f 6a61 7661 7363 7269 7074 2220  ext/javascript" 
+000000b0: 7372 633d 227b 2520 7374 6174 6963 2022  src="{% static "
+000000c0: 6461 7465 7469 6d65 7069 636b 6572 2f62  datetimepicker/b
+000000d0: 6f6f 7473 7472 6170 2d64 6174 6574 696d  ootstrap-datetim
+000000e0: 6570 6963 6b65 722e 6a73 2220 257d 223e  epicker.js" %}">
+000000f0: 3c2f 7363 7269 7074 3e0a 2020 2020 2020  </script>.      
+00000100: 2020 3c6c 696e 6b20 7265 6c3d 2273 7479    <link rel="sty
+00000110: 6c65 7368 6565 7422 2074 7970 653d 2274  lesheet" type="t
+00000120: 6578 742f 6373 7322 2068 7265 663d 227b  ext/css" href="{
+00000130: 2520 7374 6174 6963 2022 6461 7465 7469  % static "dateti
+00000140: 6d65 7069 636b 6572 2f62 6f6f 7473 7472  mepicker/bootstr
+00000150: 6170 2d64 6174 6574 696d 6570 6963 6b65  ap-datetimepicke
+00000160: 722e 6373 7322 2025 7d22 202f 3e0a 2020  r.css" %}" />.  
+00000170: 2020 7b25 2065 6e64 626c 6f63 6b20 257d    {% endblock %}
+00000180: 0a7b 2520 656e 6469 6620 257d 0a7b 2520  .{% endif %}.{% 
+00000190: 6c6f 6164 2063 7573 746f 6d5f 7461 6773  load custom_tags
+000001a0: 5f61 6e64 5f66 696c 7465 7273 2025 7d0a  _and_filters %}.
+000001b0: 7b25 2062 6c6f 636b 2074 6974 6c65 2025  {% block title %
+000001c0: 7d4e 6577 2074 7261 696e 696e 6720 7265  }New training re
+000001d0: 7175 6573 747b 2520 656e 6462 6c6f 636b  quest{% endblock
+000001e0: 2025 7d0a 7b25 2062 6c6f 636b 2063 6f6e   %}.{% block con
+000001f0: 7465 6e74 2025 7d0a 2020 2020 7b25 2069  tent %}.    {% i
+00000200: 6620 6e6f 7420 7365 6c65 6374 6564 5f74  f not selected_t
+00000210: 6f6f 6c20 257d 0a20 2020 2020 2020 203c  ool %}.        <
+00000220: 6469 7620 636c 6173 733d 2266 6f72 6d2d  div class="form-
+00000230: 686f 7269 7a6f 6e74 616c 223e 0a20 2020  horizontal">.   
+00000240: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
+00000250: 6173 733d 2266 6f72 6d2d 6772 6f75 7022  ass="form-group"
+00000260: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00000270: 2020 3c6c 6162 656c 2063 6c61 7373 3d22    <label class="
+00000280: 636f 6e74 726f 6c2d 6c61 6265 6c20 636f  control-label co
+00000290: 6c2d 736d 2d33 2220 666f 723d 2274 6f6f  l-sm-3" for="too
+000002a0: 6c5f 7365 6172 6368 223e 546f 6f6c 3c2f  l_search">Tool</
+000002b0: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
+000002c0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+000002d0: 733d 2263 6f6c 2d73 6d2d 3622 3e0a 2020  s="col-sm-6">.  
+000002e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000002f0: 2020 3c69 6e70 7574 2074 7970 653d 2274    <input type="t
+00000300: 6578 7422 2063 6c61 7373 3d22 666f 726d  ext" class="form
+00000310: 2d63 6f6e 7472 6f6c 2220 6964 3d22 746f  -control" id="to
+00000320: 6f6c 5f73 6561 7263 6822 2070 6c61 6365  ol_search" place
+00000330: 686f 6c64 6572 3d22 5365 6172 6368 2066  holder="Search f
+00000340: 6f72 2061 2074 6f6f 6c22 2072 6571 7569  or a tool" requi
+00000350: 7265 643e 0a20 2020 2020 2020 2020 2020  red>.           
+00000360: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+00000370: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+00000380: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00000390: 2020 7b25 2065 6c73 6520 257d 0a20 2020    {% else %}.   
+000003a0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+000003b0: 2263 6f6c 2d73 6d2d 3132 223e 0a20 2020  "col-sm-12">.   
+000003c0: 2020 2020 2020 2020 207b 2520 6966 2066           {% if f
+000003d0: 6f72 6d2e 6572 726f 7273 2025 7d0a 2020  orm.errors %}.  
+000003e0: 2020 2020 2020 2020 2020 2020 2020 3c64                <d
+000003f0: 6976 2063 6c61 7373 3d22 616c 6572 7420  iv class="alert 
+00000400: 616c 6572 742d 6461 6e67 6572 223e 0a20  alert-danger">. 
+00000410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000420: 2020 204f 6f70 7321 2053 6f6d 6574 6869     Oops! Somethi
+00000430: 6e67 2077 656e 7420 7772 6f6e 672e 2050  ng went wrong. P
+00000440: 6c65 6173 6520 636f 7272 6563 7420 7468  lease correct th
+00000450: 6520 6572 726f 7273 2068 6967 686c 6967  e errors highlig
+00000460: 6874 6564 2062 656c 6f77 2e0a 2020 2020  hted below..    
+00000470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000480: 3c62 723e 0a20 2020 2020 2020 2020 2020  <br>.           
+00000490: 2020 2020 2020 2020 207b 7b20 666f 726d           {{ form
+000004a0: 2e6e 6f6e 5f66 6965 6c64 5f65 7272 6f72  .non_field_error
+000004b0: 7320 7d7d 0a20 2020 2020 2020 2020 2020  s }}.           
+000004c0: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+000004d0: 2020 2020 2020 2020 7b25 2065 6e64 6966          {% endif
+000004e0: 2025 7d0a 2020 2020 2020 2020 3c2f 6469   %}.        </di
+000004f0: 763e 0a20 2020 2020 2020 203c 666f 726d  v>.        <form
+00000500: 2069 643d 2274 7261 696e 696e 675f 7265   id="training_re
+00000510: 7175 6573 745f 666f 726d 220a 2020 2020  quest_form".    
+00000520: 2020 2020 2020 2020 2020 636c 6173 733d            class=
+00000530: 2266 6f72 6d2d 686f 7269 7a6f 6e74 616c  "form-horizontal
+00000540: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00000550: 6163 7469 6f6e 3d22 7b25 2075 726c 2027  action="{% url '
+00000560: 6372 6561 7465 5f74 7261 696e 696e 675f  create_training_
+00000570: 7265 7175 6573 7427 2025 7d22 0a20 2020  request' %}".   
+00000580: 2020 2020 2020 2020 2020 206d 6574 686f             metho
+00000590: 643d 2250 4f53 5422 3e0a 2020 2020 2020  d="POST">.      
+000005a0: 2020 2020 2020 7b25 2063 7372 665f 746f        {% csrf_to
+000005b0: 6b65 6e20 257d 0a20 2020 2020 2020 2020  ken %}.         
+000005c0: 2020 203c 6469 7620 636c 6173 733d 2266     <div class="f
+000005d0: 6f72 6d2d 6772 6f75 7022 3e0a 2020 2020  orm-group">.    
+000005e0: 2020 2020 2020 2020 2020 2020 3c6c 6162              <lab
+000005f0: 656c 2063 6c61 7373 3d22 636f 6e74 726f  el class="contro
+00000600: 6c2d 6c61 6265 6c20 636f 6c2d 736d 2d33  l-label col-sm-3
+00000610: 2220 666f 723d 2274 6f6f 6c5f 7365 6172  " for="tool_sear
+00000620: 6368 223e 546f 6f6c 3c2f 6c61 6265 6c3e  ch">Tool</label>
+00000630: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000640: 203c 6469 7620 636c 6173 733d 2263 6f6c   <div class="col
+00000650: 2d73 6d2d 3922 3e0a 2020 2020 2020 2020  -sm-9">.        
+00000660: 2020 2020 2020 2020 2020 2020 3c69 6e70              <inp
+00000670: 7574 2074 7970 653d 2262 7574 746f 6e22  ut type="button"
+00000680: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000690: 2020 2020 2020 2020 2020 2020 6964 3d22              id="
+000006a0: 6368 6f73 656e 5f74 6f6f 6c22 0a20 2020  chosen_tool".   
+000006b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000006c0: 2020 2020 2020 2020 636c 6173 733d 2262          class="b
+000006d0: 746e 2062 746e 2d64 6566 6175 6c74 220a  tn btn-default".
+000006e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000006f0: 2020 2020 2020 2020 2020 206f 6e63 6c69             oncli
+00000700: 636b 3d22 7265 6c6f 6164 5f75 726c 2827  ck="reload_url('
+00000710: 7b25 2075 726c 2027 6372 6561 7465 5f74  {% url 'create_t
+00000720: 7261 696e 696e 675f 7265 7175 6573 7427  raining_request'
+00000730: 2025 7d27 2922 0a20 2020 2020 2020 2020   %}')".         
+00000740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000750: 2020 7661 6c75 653d 227b 7b20 7365 6c65    value="{{ sele
+00000760: 6374 6564 5f74 6f6f 6c2e 6e61 6d65 207d  cted_tool.name }
+00000770: 7d22 3e0a 2020 2020 2020 2020 2020 2020  }">.            
+00000780: 2020 2020 2020 2020 3c69 6e70 7574 2074          <input t
+00000790: 7970 653d 2268 6964 6465 6e22 2069 643d  ype="hidden" id=
+000007a0: 2274 6f6f 6c22 206e 616d 653d 2274 6f6f  "tool" name="too
+000007b0: 6c22 2076 616c 7565 3d22 7b7b 2073 656c  l" value="{{ sel
+000007c0: 6563 7465 645f 746f 6f6c 2e69 6420 7d7d  ected_tool.id }}
+000007d0: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
+000007e0: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
+000007f0: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00000800: 2020 2020 2020 2020 207b 2520 6966 2075           {% if u
+00000810: 7365 722e 6163 7469 7665 5f70 726f 6a65  ser.active_proje
+00000820: 6374 5f63 6f75 6e74 203d 3d20 3120 257d  ct_count == 1 %}
+00000830: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000840: 203c 696e 7075 7420 7479 7065 3d22 6869   <input type="hi
+00000850: 6464 656e 2220 6e61 6d65 3d22 7072 6f6a  dden" name="proj
+00000860: 6563 7422 2076 616c 7565 3d22 7b7b 2075  ect" value="{{ u
+00000870: 7365 722e 6163 7469 7665 5f70 726f 6a65  ser.active_proje
+00000880: 6374 732e 302e 6964 207d 7d22 3e0a 2020  cts.0.id }}">.  
+00000890: 2020 2020 2020 2020 2020 7b25 2065 6c73            {% els
+000008a0: 6520 257d 0a20 2020 2020 2020 2020 2020  e %}.           
+000008b0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+000008c0: 2266 6f72 6d2d 6772 6f75 7022 3e0a 2020  "form-group">.  
+000008d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000008e0: 2020 3c6c 6162 656c 2063 6c61 7373 3d22    <label class="
+000008f0: 636f 6c2d 736d 2d33 2063 6f6e 7472 6f6c  col-sm-3 control
+00000900: 2d6c 6162 656c 2220 666f 723d 2270 726f  -label" for="pro
+00000910: 6a65 6374 223e 5072 6f6a 6563 743c 2f6c  ject">Project</l
+00000920: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
+00000930: 2020 2020 2020 2020 2020 3c64 6976 2063            <div c
+00000940: 6c61 7373 3d22 636f 6c2d 736d 2d39 223e  lass="col-sm-9">
+00000950: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000960: 2020 2020 2020 2020 207b 2520 6966 2075           {% if u
+00000970: 7365 722e 6163 7469 7665 5f70 726f 6a65  ser.active_proje
+00000980: 6374 5f63 6f75 6e74 203e 2031 2025 7d0a  ct_count > 1 %}.
+00000990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000009a0: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+000009b0: 2063 6c61 7373 3d22 726f 7722 3e0a 2020   class="row">.  
+000009c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000009d0: 2020 2020 2020 2020 2020 2020 2020 3c64                <d
+000009e0: 6976 2063 6c61 7373 3d22 636f 6c2d 736d  iv class="col-sm
+000009f0: 2d35 223e 0a20 2020 2020 2020 2020 2020  -5">.           
+00000a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a10: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
+00000a20: 6173 733d 2262 746e 2d67 726f 7570 2220  ass="btn-group" 
+00000a30: 7374 796c 653d 2277 6964 7468 3a20 3130  style="width: 10
+00000a40: 3025 223e 0a20 2020 2020 2020 2020 2020  0%">.           
+00000a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a60: 2020 2020 2020 2020 2020 2020 203c 6120               <a 
+00000a70: 636c 6173 733d 2262 746e 2062 746e 2d64  class="btn btn-d
+00000a80: 6566 6175 6c74 2064 726f 7064 6f77 6e2d  efault dropdown-
+00000a90: 746f 6767 6c65 2074 6578 742d 7269 6768  toggle text-righ
+00000aa0: 7422 0a20 2020 2020 2020 2020 2020 2020  t".             
+00000ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ac0: 2020 2020 2020 2020 2020 2020 2020 7374                st
+00000ad0: 796c 653d 2277 6964 7468 3a20 3130 3025  yle="width: 100%
+00000ae0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00000af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b00: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+00000b10: 612d 746f 6767 6c65 3d22 6472 6f70 646f  a-toggle="dropdo
+00000b20: 776e 220a 2020 2020 2020 2020 2020 2020  wn".            
+00000b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b40: 2020 2020 2020 2020 2020 2020 2020 2068                 h
+00000b50: 7265 663d 2223 223e 3c73 7061 6e20 6964  ref="#"><span id
+00000b60: 3d22 7072 6f6a 6563 745f 7365 6c65 6374  ="project_select
+00000b70: 6564 2220 7374 796c 653d 2264 6973 706c  ed" style="displ
+00000b80: 6179 3a20 696e 6c69 6e65 2d62 6c6f 636b  ay: inline-block
+00000b90: 3b20 7769 6474 683a 2039 3525 223e 0a20  ; width: 95%">. 
+00000ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000bc0: 2020 2020 2020 2020 2020 207b 2520 666f             {% fo
+00000bd0: 7220 7072 6f6a 6563 7420 696e 2075 7365  r project in use
+00000be0: 722e 6163 7469 7665 5f70 726f 6a65 6374  r.active_project
+00000bf0: 7320 257d 0a20 2020 2020 2020 2020 2020  s %}.           
+00000c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c20: 2020 2020 207b 2520 6966 2066 6f72 6d2e       {% if form.
+00000c30: 7072 6f6a 6563 742e 7661 6c75 657c 746f  project.value|to
+00000c40: 5f69 6e74 203d 3d20 7072 6f6a 6563 742e  _int == project.
+00000c50: 6964 2025 7d7b 7b20 7072 6f6a 6563 7420  id %}{{ project 
+00000c60: 7d7d 7b25 2065 6e64 6966 2025 7d0a 2020  }}{% endif %}.  
+00000c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c90: 2020 2020 2020 2020 2020 7b25 2065 6e64            {% end
+00000ca0: 666f 7220 257d 0a20 2020 2020 2020 2020  for %}.         
+00000cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000cc0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00000cd0: 2f73 7061 6e3e 3c73 7061 6e20 636c 6173  /span><span clas
+00000ce0: 733d 2263 6172 6574 223e 3c2f 7370 616e  s="caret"></span
+00000cf0: 3e3c 2f61 3e0a 2020 2020 2020 2020 2020  ></a>.          
+00000d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d10: 2020 2020 2020 2020 2020 2020 2020 3c75                <u
+00000d20: 6c20 6964 3d22 7072 6f6a 6563 745f 6472  l id="project_dr
+00000d30: 6f70 646f 776e 2220 636c 6173 733d 2264  opdown" class="d
+00000d40: 726f 7064 6f77 6e2d 6d65 6e75 2220 7374  ropdown-menu" st
+00000d50: 796c 653d 2277 6964 7468 3a20 3130 3025  yle="width: 100%
+00000d60: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
+00000d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d80: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+00000d90: 2520 666f 7220 7072 6f6a 6563 7420 696e  % for project in
+00000da0: 2075 7365 722e 6163 7469 7665 5f70 726f   user.active_pro
+00000db0: 6a65 6374 7320 257d 0a20 2020 2020 2020  jects %}.       
+00000dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000de0: 2020 2020 2020 2020 203c 6c69 2063 6c61           <li cla
+00000df0: 7373 3d22 7261 6469 6f22 3e0a 2020 2020  ss="radio">.    
+00000e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e30: 3c6c 6162 656c 2073 7479 6c65 3d22 7769  <label style="wi
+00000e40: 6474 683a 2031 3030 253b 2070 6164 6469  dth: 100%; paddi
+00000e50: 6e67 2d6c 6566 743a 2031 3570 7822 3e0a  ng-left: 15px">.
+00000e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e90: 2020 2020 2020 2020 3c69 6e70 7574 2073          <input s
+00000ea0: 7479 6c65 3d22 6469 7370 6c61 793a 206e  tyle="display: n
+00000eb0: 6f6e 6522 0a20 2020 2020 2020 2020 2020  one".           
+00000ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ef0: 2020 2020 7479 7065 3d22 7261 6469 6f22      type="radio"
+00000f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f40: 6e61 6d65 3d22 7072 6f6a 6563 7422 0a20  name="project". 
+00000f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f80: 2020 2020 2020 2020 2020 2020 2020 7661                va
+00000f90: 6c75 653d 227b 7b20 7072 6f6a 6563 742e  lue="{{ project.
+00000fa0: 6964 207d 7d22 0a20 2020 2020 2020 2020  id }}".         
+00000fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000fe0: 2020 2020 2020 7b25 2069 6620 666f 726d        {% if form
+00000ff0: 2e70 726f 6a65 6374 2e76 616c 7565 7c74  .project.value|t
+00001000: 6f5f 696e 7420 3d3d 2070 726f 6a65 6374  o_int == project
+00001010: 2e69 6420 257d 6368 6563 6b65 647b 2520  .id %}checked{% 
+00001020: 656e 6469 6620 257d 3e0a 2020 2020 2020  endif %}>.      
+00001030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001060: 2020 7b25 2070 726f 6a65 6374 5f73 656c    {% project_sel
+00001070: 6563 7469 6f6e 5f64 6973 706c 6179 2070  ection_display p
+00001080: 726f 6a65 6374 2025 7d0a 2020 2020 2020  roject %}.      
+00001090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000010a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000010b0: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
+000010c0: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
+000010d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000010e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000010f0: 2020 2020 2020 203c 2f6c 693e 0a20 2020         </li>.   
+00001100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001120: 2020 2020 2020 2020 207b 2520 656e 6466           {% endf
+00001130: 6f72 2025 7d0a 2020 2020 2020 2020 2020  or %}.          
+00001140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001150: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
+00001160: 756c 3e0a 2020 2020 2020 2020 2020 2020  ul>.            
+00001170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001180: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+00001190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000011a0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+000011b0: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
+000011c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000011d0: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+000011e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000011f0: 207b 2520 656c 7365 2025 7d0a 2020 2020   {% else %}.    
+00001200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001210: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+00001220: 7373 3d22 666f 726d 2d63 6f6e 7472 6f6c  ss="form-control
+00001230: 2d73 7461 7469 6322 3e59 6f75 2064 6f20  -static">You do 
+00001240: 6e6f 7420 6861 7665 2061 6e79 2061 6374  not have any act
+00001250: 6976 6520 7072 6f6a 6563 7473 3c2f 6469  ive projects</di
+00001260: 763e 0a20 2020 2020 2020 2020 2020 2020  v>.             
+00001270: 2020 2020 2020 2020 2020 207b 2520 656e             {% en
+00001280: 6469 6620 257d 0a20 2020 2020 2020 2020  dif %}.         
+00001290: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+000012a0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+000012b0: 2020 2020 2020 7b25 2069 6620 666f 726d        {% if form
+000012c0: 2e70 726f 6a65 6374 2e65 7272 6f72 7320  .project.errors 
+000012d0: 257d 0a20 2020 2020 2020 2020 2020 2020  %}.             
+000012e0: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
+000012f0: 636c 6173 733d 2263 6f6c 2d6d 642d 6f66  class="col-md-of
+00001300: 6673 6574 2d33 2063 6f6c 2d73 6d2d 3920  fset-3 col-sm-9 
+00001310: 666f 726d 2d63 6f6e 7472 6f6c 2d73 7461  form-control-sta
+00001320: 7469 6320 6461 6e67 6572 2d68 6967 686c  tic danger-highl
+00001330: 6967 6874 223e 7b7b 2066 6f72 6d2e 7072  ight">{{ form.pr
+00001340: 6f6a 6563 742e 6572 726f 7273 7c73 7472  oject.errors|str
+00001350: 6970 7461 6773 207d 7d3c 2f64 6976 3e0a  iptags }}</div>.
+00001360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001370: 2020 2020 7b25 2065 6e64 6966 2025 7d0a      {% endif %}.
+00001380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001390: 3c2f 6469 763e 0a20 2020 2020 2020 2020  </div>.         
+000013a0: 2020 207b 2520 656e 6469 6620 257d 0a20     {% endif %}. 
+000013b0: 2020 2020 2020 2020 2020 207b 2520 6966             {% if
+000013c0: 2074 7261 696e 696e 675f 6465 7461 696c   training_detail
+000013d0: 732e 7465 6368 6e69 7175 6573 2e61 6c6c  s.techniques.all
+000013e0: 2025 7d0a 2020 2020 2020 2020 2020 2020   %}.            
+000013f0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00001400: 666f 726d 2d67 726f 7570 223e 0a20 2020  form-group">.   
+00001410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001420: 203c 6c61 6265 6c20 636c 6173 733d 2263   <label class="c
+00001430: 6f6c 2d73 6d2d 3320 636f 6e74 726f 6c2d  ol-sm-3 control-
+00001440: 6c61 6265 6c22 2066 6f72 3d22 7465 6368  label" for="tech
+00001450: 6e69 7175 6522 3e54 6563 686e 6971 7565  nique">Technique
+00001460: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
+00001470: 2020 2020 2020 2020 2020 2020 203c 6469               <di
+00001480: 7620 636c 6173 733d 2263 6f6c 2d73 6d2d  v class="col-sm-
+00001490: 3922 3e0a 2020 2020 2020 2020 2020 2020  9">.            
+000014a0: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+000014b0: 2063 6c61 7373 3d22 726f 7722 3e0a 2020   class="row">.  
+000014c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000014d0: 2020 2020 2020 2020 2020 3c64 6976 2063            <div c
+000014e0: 6c61 7373 3d22 636f 6c2d 736d 2d35 223e  lass="col-sm-5">
+000014f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001510: 203c 7365 6c65 6374 2063 6c61 7373 3d22   <select class="
+00001520: 666f 726d 2d63 6f6e 7472 6f6c 2220 6e61  form-control" na
+00001530: 6d65 3d22 7465 6368 6e69 7175 6522 2069  me="technique" i
+00001540: 643d 2274 6563 686e 6971 7565 223e 0a20  d="technique">. 
+00001550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001570: 2020 203c 6f70 7469 6f6e 2076 616c 7565     <option value
+00001580: 3d22 223e 7b7b 2022 7472 6169 6e69 6e67  ="">{{ "training
+00001590: 227c 6375 7374 6f6d 697a 6174 696f 6e3a  "|customization:
+000015a0: 2274 7261 696e 696e 675f 7465 6368 6e69  "training_techni
+000015b0: 7175 655f 656d 7074 795f 6c61 6265 6c22  que_empty_label"
+000015c0: 207d 7d3c 2f6f 7074 696f 6e3e 0a20 2020   }}</option>.   
+000015d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000015e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000015f0: 207b 2520 666f 7220 7465 6368 6e69 7175   {% for techniqu
+00001600: 6520 696e 2074 7261 696e 696e 675f 6465  e in training_de
+00001610: 7461 696c 732e 7465 6368 6e69 7175 6573  tails.techniques
+00001620: 2e61 6c6c 2025 7d0a 2020 2020 2020 2020  .all %}.        
+00001630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001650: 3c6f 7074 696f 6e20 6c61 6265 6c3d 227b  <option label="{
+00001660: 7b20 7465 6368 6e69 7175 652e 6e61 6d65  { technique.name
+00001670: 207d 7d22 0a20 2020 2020 2020 2020 2020   }}".           
+00001680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000016a0: 2020 2020 2076 616c 7565 3d22 7b7b 2074       value="{{ t
+000016b0: 6563 686e 6971 7565 2e69 6420 7d7d 220a  echnique.id }}".
+000016c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000016d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000016e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000016f0: 7b25 2069 6620 666f 726d 2e74 6563 686e  {% if form.techn
+00001700: 6971 7565 2e76 616c 7565 7c74 6f5f 696e  ique.value|to_in
+00001710: 7420 3d3d 2074 6563 686e 6971 7565 2e69  t == technique.i
+00001720: 6420 257d 7365 6c65 6374 6564 7b25 2065  d %}selected{% e
+00001730: 6e64 6966 2025 7d3e 0a20 2020 2020 2020  ndif %}>.       
+00001740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001760: 203c 2f6f 7074 696f 6e3e 0a20 2020 2020   </option>.     
+00001770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001780: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+00001790: 2520 656e 6466 6f72 2025 7d0a 2020 2020  % endfor %}.    
+000017a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000017b0: 2020 2020 2020 2020 2020 2020 3c2f 7365              </se
+000017c0: 6c65 6374 3e0a 2020 2020 2020 2020 2020  lect>.          
+000017d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000017e0: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+000017f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001800: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
+00001810: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
+00001820: 763e 0a20 2020 2020 2020 2020 2020 2020  v>.             
+00001830: 2020 2020 2020 207b 2520 6966 2066 6f72         {% if for
+00001840: 6d2e 7465 6368 6e69 7175 652e 6572 726f  m.technique.erro
+00001850: 7273 2025 7d0a 2020 2020 2020 2020 2020  rs %}.          
+00001860: 2020 2020 2020 2020 2020 2020 2020 3c64                <d
+00001870: 6976 2063 6c61 7373 3d22 636f 6c2d 6d64  iv class="col-md
+00001880: 2d6f 6666 7365 742d 3320 636f 6c2d 736d  -offset-3 col-sm
+00001890: 2d39 2066 6f72 6d2d 636f 6e74 726f 6c2d  -9 form-control-
+000018a0: 7374 6174 6963 2064 616e 6765 722d 6869  static danger-hi
+000018b0: 6768 6c69 6768 7422 3e7b 7b20 666f 726d  ghlight">{{ form
+000018c0: 2e74 6563 686e 6971 7565 2e65 7272 6f72  .technique.error
+000018d0: 737c 7374 7269 7074 6167 7320 7d7d 3c2f  s|striptags }}</
+000018e0: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
+000018f0: 2020 2020 2020 2020 207b 2520 656e 6469           {% endi
+00001900: 6620 257d 0a20 2020 2020 2020 2020 2020  f %}.           
+00001910: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+00001920: 2020 2020 2020 2020 7b25 2065 6e64 6966          {% endif
+00001930: 2025 7d0a 2020 2020 2020 2020 2020 2020   %}.            
+00001940: 7b25 2069 6620 7573 6572 5f61 7661 696c  {% if user_avail
+00001950: 6162 696c 6974 795f 616c 6c6f 7765 6420  ability_allowed 
+00001960: 257d 0a20 2020 2020 2020 2020 2020 2020  %}.             
+00001970: 2020 203c 6469 7620 636c 6173 733d 2266     <div class="f
+00001980: 6f72 6d2d 6772 6f75 7022 3e0a 2020 2020  orm-group">.    
+00001990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000019a0: 3c6c 6162 656c 2063 6c61 7373 3d22 636f  <label class="co
+000019b0: 6e74 726f 6c2d 6c61 6265 6c20 636f 6c2d  ntrol-label col-
+000019c0: 736d 2d33 2220 666f 723d 2274 696d 6573  sm-3" for="times
+000019d0: 223e 4176 6169 6c61 6269 6c69 7479 3c2f  ">Availability</
+000019e0: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
+000019f0: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
+00001a00: 636c 6173 733d 2263 6f6c 2d73 6d2d 3922  class="col-sm-9"
+00001a10: 2069 643d 2274 696d 6573 2220 7374 796c   id="times" styl
+00001a20: 653d 2270 6f73 6974 696f 6e3a 2072 656c  e="position: rel
+00001a30: 6174 6976 653b 223e 0a20 2020 2020 2020  ative;">.       
+00001a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a50: 207b 2520 666f 7220 7469 6d65 5f66 6f72   {% for time_for
+00001a60: 6d20 696e 2074 696d 655f 666f 726d 7320  m in time_forms 
+00001a70: 257d 0a20 2020 2020 2020 2020 2020 2020  %}.             
+00001a80: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00001a90: 6469 7620 636c 6173 733d 2272 6f77 2220  div class="row" 
+00001aa0: 6964 3d22 7469 6d65 735f 7b7b 2066 6f72  id="times_{{ for
+00001ab0: 6c6f 6f70 2e63 6f75 6e74 6572 207d 7d22  loop.counter }}"
+00001ac0: 2073 7479 6c65 3d22 7061 6464 696e 672d   style="padding-
+00001ad0: 626f 7474 6f6d 3a20 3570 783b 223e 0a20  bottom: 5px;">. 
+00001ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001af0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+00001b00: 696e 7075 7420 7479 7065 3d22 6869 6464  input type="hidd
+00001b10: 656e 2220 6e61 6d65 3d22 7469 6d65 7322  en" name="times"
+00001b20: 2076 616c 7565 3d22 7b7b 2066 6f72 6c6f   value="{{ forlo
+00001b30: 6f70 2e63 6f75 6e74 6572 207d 7d22 3e0a  op.counter }}">.
+00001b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b60: 3c64 6976 2063 6c61 7373 3d22 636f 6c2d  <div class="col-
+00001b70: 7873 2d35 223e 0a20 2020 2020 2020 2020  xs-5">.         
+00001b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b90: 2020 2020 2020 2020 2020 203c 696e 7075             <inpu
+00001ba0: 7420 7374 796c 653d 2270 6f73 6974 696f  t style="positio
+00001bb0: 6e3a 2072 656c 6174 6976 6522 0a20 2020  n: relative".   
+00001bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001be0: 2020 2020 2020 2020 636c 6173 733d 2266          class="f
+00001bf0: 6f72 6d2d 636f 6e74 726f 6c22 0a20 2020  orm-control".   
+00001c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c20: 2020 2020 2020 2020 7479 7065 3d22 7465          type="te
+00001c30: 7874 220a 2020 2020 2020 2020 2020 2020  xt".            
+00001c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c50: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+00001c60: 616d 653d 2273 7461 7274 5f7b 7b20 666f  ame="start_{{ fo
+00001c70: 726c 6f6f 702e 636f 756e 7465 7220 7d7d  rloop.counter }}
+00001c80: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00001c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ca0: 2020 2020 2020 2020 2020 2020 2069 643d               id=
+00001cb0: 2273 7461 7274 5f7b 7b20 666f 726c 6f6f  "start_{{ forloo
+00001cc0: 702e 636f 756e 7465 7220 7d7d 220a 2020  p.counter }}".  
+00001cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001cf0: 2020 2020 2020 2020 2076 616c 7565 3d22           value="
+00001d00: 7b7b 2074 696d 655f 666f 726d 2e73 7461  {{ time_form.sta
+00001d10: 7274 5f74 696d 652e 7661 6c75 657c 696e  rt_time.value|in
+00001d20: 7075 745f 6461 7465 5f66 6f72 6d61 7420  put_date_format 
+00001d30: 7d7d 220a 2020 2020 2020 2020 2020 2020  }}".            
+00001d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d50: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00001d60: 7269 612d 6c61 6265 6c3d 2273 7461 7274  ria-label="start
+00001d70: 2074 696d 6520 7b7b 2066 6f72 6c6f 6f70   time {{ forloop
+00001d80: 2e63 6f75 6e74 6572 207d 7d22 3e0a 2020  .counter }}">.  
+00001d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001da0: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
+00001db0: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
+00001dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001dd0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+00001de0: 2263 6f6c 2d78 732d 3522 3e0a 2020 2020  "col-xs-5">.    
+00001df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e10: 3c69 6e70 7574 2063 6c61 7373 3d22 666f  <input class="fo
+00001e20: 726d 2d63 6f6e 7472 6f6c 220a 2020 2020  rm-control".    
+00001e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e50: 2020 2020 2020 2074 7970 653d 2274 6578         type="tex
+00001e60: 7422 0a20 2020 2020 2020 2020 2020 2020  t".             
+00001e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e80: 2020 2020 2020 2020 2020 2020 2020 6e61                na
+00001e90: 6d65 3d22 656e 645f 7b7b 2066 6f72 6c6f  me="end_{{ forlo
+00001ea0: 6f70 2e63 6f75 6e74 6572 207d 7d22 0a20  op.counter }}". 
+00001eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ed0: 2020 2020 2020 2020 2020 6964 3d22 656e            id="en
+00001ee0: 645f 7b7b 2066 6f72 6c6f 6f70 2e63 6f75  d_{{ forloop.cou
+00001ef0: 6e74 6572 207d 7d22 0a20 2020 2020 2020  nter }}".       
+00001f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f20: 2020 2020 7661 6c75 653d 227b 7b20 7469      value="{{ ti
+00001f30: 6d65 5f66 6f72 6d2e 656e 645f 7469 6d65  me_form.end_time
+00001f40: 2e76 616c 7565 7c69 6e70 7574 5f64 6174  .value|input_dat
+00001f50: 655f 666f 726d 6174 207d 7d22 0a20 2020  e_format }}".   
+00001f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f80: 2020 2020 2020 2020 6172 6961 2d6c 6162          aria-lab
+00001f90: 656c 3d22 656e 6420 7469 6d65 207b 7b20  el="end time {{ 
+00001fa0: 666f 726c 6f6f 702e 636f 756e 7465 7220  forloop.counter 
+00001fb0: 7d7d 223e 0a20 2020 2020 2020 2020 2020  }}">.           
+00001fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001fd0: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+00001fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ff0: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+00002000: 2063 6c61 7373 3d22 636f 6c2d 7873 2d31   class="col-xs-1
+00002010: 2074 6578 742d 6365 6e74 6572 2066 6f72   text-center for
+00002020: 6d2d 636f 6e74 726f 6c2d 7374 6174 6963  m-control-static
+00002030: 2220 7374 796c 653d 2270 6164 6469 6e67  " style="padding
+00002040: 2d6c 6566 743a 2030 3b22 3e0a 2020 2020  -left: 0;">.    
+00002050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002070: 3c73 7061 6e20 636c 6173 733d 2267 6c79  <span class="gly
+00002080: 7068 6963 6f6e 2067 6c79 7068 6963 6f6e  phicon glyphicon
+00002090: 2d6d 696e 7573 2d73 6967 6e20 6461 6e67  -minus-sign dang
+000020a0: 6572 2d68 6967 686c 6967 6874 220a 2020  er-highlight".  
+000020b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020d0: 2020 2020 2020 2020 6f6e 636c 6963 6b3d          onclick=
+000020e0: 2224 2827 2374 696d 6573 5f7b 7b20 666f  "$('#times_{{ fo
+000020f0: 726c 6f6f 702e 636f 756e 7465 7220 7d7d  rloop.counter }}
+00002100: 2729 2e72 656d 6f76 6528 293b 223e 3c2f  ').remove();"></
+00002110: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
+00002120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002130: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00002140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002150: 2020 2020 2020 2020 2020 2020 203c 6469               <di
+00002160: 7620 636c 6173 733d 2263 6f6c 2d78 732d  v class="col-xs-
+00002170: 3120 666f 726d 2d63 6f6e 7472 6f6c 2d73  1 form-control-s
+00002180: 7461 7469 6322 2073 7479 6c65 3d22 7061  tatic" style="pa
+00002190: 6464 696e 672d 6c65 6674 3a20 303b 223e  dding-left: 0;">
+000021a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000021b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000021c0: 2020 2020 203c 7370 616e 2063 6c61 7373       <span class
+000021d0: 3d22 676c 7970 6869 636f 6e20 676c 7970  ="glyphicon glyp
+000021e0: 6869 636f 6e2d 706c 7573 2d73 6967 6e20  hicon-plus-sign 
+000021f0: 7375 6363 6573 732d 6869 6768 6c69 6768  success-highligh
+00002200: 7422 206f 6e63 6c69 636b 3d22 6164 645f  t" onclick="add_
+00002210: 7265 7175 6573 7465 645f 7469 6d65 2829  requested_time()
+00002220: 223e 3c2f 7370 616e 3e0a 2020 2020 2020  "></span>.      
+00002230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002240: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
+00002250: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002270: 207b 2520 6966 2074 696d 655f 666f 726d   {% if time_form
+00002280: 2e73 7461 7274 5f74 696d 652e 6572 726f  .start_time.erro
+00002290: 7273 2025 7d0a 2020 2020 2020 2020 2020  rs %}.          
+000022a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000022b0: 2020 2020 2020 2020 2020 3c64 6976 2063            <div c
+000022c0: 6c61 7373 3d22 636f 6c2d 736d 2d35 2064  lass="col-sm-5 d
+000022d0: 616e 6765 722d 6869 6768 6c69 6768 7422  anger-highlight"
+000022e0: 3e7b 7b20 7469 6d65 5f66 6f72 6d2e 7374  >{{ time_form.st
+000022f0: 6172 745f 7469 6d65 2e65 7272 6f72 737c  art_time.errors|
+00002300: 7374 7269 7074 6167 7320 7d7d 3c2f 6469  striptags }}</di
+00002310: 763e 0a20 2020 2020 2020 2020 2020 2020  v>.             
+00002320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002330: 2020 207b 2520 656e 6469 6620 257d 0a20     {% endif %}. 
+00002340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002350: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+00002360: 2520 6966 2074 696d 655f 666f 726d 2e65  % if time_form.e
+00002370: 6e64 5f74 696d 652e 6572 726f 7273 2025  nd_time.errors %
+00002380: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
+00002390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000023a0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
+000023b0: 3d22 7b25 2069 6620 6e6f 7420 7469 6d65  ="{% if not time
+000023c0: 5f66 6f72 6d2e 7374 6172 745f 7469 6d65  _form.start_time
+000023d0: 2e65 7272 6f72 7320 257d 636f 6c2d 6d64  .errors %}col-md
+000023e0: 2d6f 6666 7365 742d 357b 2520 656e 6469  -offset-5{% endi
+000023f0: 6620 257d 2063 6f6c 2d73 6d2d 3520 6461  f %} col-sm-5 da
+00002400: 6e67 6572 2d68 6967 686c 6967 6874 223e  nger-highlight">
+00002410: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002430: 2020 2020 2020 2020 207b 7b20 7469 6d65           {{ time
+00002440: 5f66 6f72 6d2e 656e 645f 7469 6d65 2e65  _form.end_time.e
+00002450: 7272 6f72 737c 7374 7269 7074 6167 7320  rrors|striptags 
+00002460: 7d7d 0a20 2020 2020 2020 2020 2020 2020  }}.             
+00002470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002480: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00002490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000024a0: 2020 2020 2020 2020 2020 2020 2020 7b25                {%
+000024b0: 2065 6e64 6966 2025 7d0a 2020 2020 2020   endif %}.      
+000024c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000024d0: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+000024e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000024f0: 2020 2020 207b 2520 656e 6466 6f72 2025       {% endfor %
+00002500: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
+00002510: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00002520: 2020 2020 2020 2020 2020 2020 203c 2f64               </d
+00002530: 6976 3e0a 2020 2020 2020 2020 2020 2020  iv>.            
+00002540: 7b25 2065 6e64 6966 2025 7d0a 2020 2020  {% endif %}.    
+00002550: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+00002560: 7373 3d22 666f 726d 2d67 726f 7570 207b  ss="form-group {
+00002570: 2520 6966 2066 6f72 6d2e 6d65 7373 6167  % if form.messag
+00002580: 652e 6572 726f 7273 2025 7d68 6173 2d65  e.errors %}has-e
+00002590: 7272 6f72 7b25 2065 6e64 6966 2025 7d22  rror{% endif %}"
+000025a0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+000025b0: 2020 3c6c 6162 656c 2063 6c61 7373 3d22    <label class="
+000025c0: 636f 6e74 726f 6c2d 6c61 6265 6c20 636f  control-label co
+000025d0: 6c2d 736d 2d33 2220 666f 723d 226d 6573  l-sm-3" for="mes
+000025e0: 7361 6765 223e 4d65 7373 6167 653c 2f6c  sage">Message</l
+000025f0: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
+00002600: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
+00002610: 3d22 636f 6c2d 736d 2d39 223e 0a20 2020  ="col-sm-9">.   
+00002620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002630: 203c 7465 7874 6172 6561 2069 643d 226d   <textarea id="m
+00002640: 6573 7361 6765 220a 2020 2020 2020 2020  essage".        
+00002650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002660: 2020 2020 2020 6f6e 696e 7075 743d 2261        oninput="a
+00002670: 7574 6f5f 7369 7a65 5f74 6578 7461 7265  uto_size_textare
+00002680: 6128 7468 6973 2922 0a20 2020 2020 2020  a(this)".       
+00002690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000026a0: 2020 2020 2020 206e 616d 653d 226d 6573         name="mes
+000026b0: 7361 6765 220a 2020 2020 2020 2020 2020  sage".          
+000026c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000026d0: 2020 2020 636c 6173 733d 2266 6f72 6d2d      class="form-
+000026e0: 636f 6e74 726f 6c22 0a20 2020 2020 2020  control".       
+000026f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002700: 2020 2020 2020 2070 6c61 6365 686f 6c64         placehold
+00002710: 6572 3d22 7b7b 206d 6573 7361 6765 5f70  er="{{ message_p
+00002720: 6c61 6365 686f 6c64 6572 207d 7d22 0a20  laceholder }}". 
+00002730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002740: 2020 2020 2020 2020 2020 2020 207b 2520               {% 
+00002750: 6966 2075 7365 725f 6d65 7373 6167 655f  if user_message_
+00002760: 7265 7175 6972 6564 2025 7d72 6571 7569  required %}requi
+00002770: 7265 647b 2520 656e 6469 6620 257d 3e7b  red{% endif %}>{
+00002780: 7b20 666f 726d 2e6d 6573 7361 6765 2e76  { form.message.v
+00002790: 616c 7565 7c64 6566 6175 6c74 5f69 665f  alue|default_if_
+000027a0: 6e6f 6e65 3a22 2220 7d7d 3c2f 7465 7874  none:"" }}</text
+000027b0: 6172 6561 3e0a 2020 2020 2020 2020 2020  area>.          
+000027c0: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+000027d0: 2020 2020 2020 2020 2020 2020 207b 2520               {% 
+000027e0: 6966 2066 6f72 6d2e 6d65 7373 6167 652e  if form.message.
+000027f0: 6572 726f 7273 2025 7d0a 2020 2020 2020  errors %}.      
+00002800: 2020 2020 2020 2020 2020 2020 2020 3c64                <d
+00002810: 6976 2063 6c61 7373 3d22 636f 6c2d 6d64  iv class="col-md
+00002820: 2d6f 6666 7365 742d 3320 636f 6c2d 736d  -offset-3 col-sm
+00002830: 2d39 2066 6f72 6d2d 636f 6e74 726f 6c2d  -9 form-control-
+00002840: 7374 6174 6963 2064 616e 6765 722d 6869  static danger-hi
+00002850: 6768 6c69 6768 7422 3e7b 7b20 666f 726d  ghlight">{{ form
+00002860: 2e6d 6573 7361 6765 2e65 7272 6f72 737c  .message.errors|
+00002870: 7374 7269 7074 6167 7320 7d7d 3c2f 6469  striptags }}</di
+00002880: 763e 0a20 2020 2020 2020 2020 2020 2020  v>.             
+00002890: 2020 207b 2520 656e 6469 6620 257d 0a20     {% endif %}. 
+000028a0: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+000028b0: 3e0a 2020 2020 2020 2020 2020 2020 3c64  >.            <d
+000028c0: 6976 2063 6c61 7373 3d22 666f 726d 2d67  iv class="form-g
+000028d0: 726f 7570 223e 0a20 2020 2020 2020 2020  roup">.         
+000028e0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+000028f0: 733d 2263 6f6c 2d6d 642d 6f66 6673 6574  s="col-md-offset
+00002900: 2d33 2063 6f6c 2d73 6d2d 3922 3e0a 2020  -3 col-sm-9">.  
+00002910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002920: 2020 7b25 2062 7574 746f 6e20 7479 7065    {% button type
+00002930: 3d22 7361 7665 2220 7375 626d 6974 3d46  ="save" submit=F
+00002940: 616c 7365 2076 616c 7565 3d66 6f72 6d2e  alse value=form.
+00002950: 696e 7374 616e 6365 2e69 647c 7965 736e  instance.id|yesn
+00002960: 6f3a 2253 6176 6520 6368 616e 6765 732c  o:"Save changes,
+00002970: 4372 6561 7465 2072 6571 7565 7374 2220  Create request" 
+00002980: 6f6e 636c 6963 6b3d 2273 7562 6d69 745f  onclick="submit_
+00002990: 666f 726d 2874 6869 7329 2220 257d 0a20  form(this)" %}. 
+000029a0: 2020 2020 2020 2020 2020 2020 2020 203c                 <
+000029b0: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
+000029c0: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+000029d0: 203c 2f66 6f72 6d3e 0a20 2020 207b 2520   </form>.    {% 
+000029e0: 656e 6469 6620 257d 0a20 2020 203c 7363  endif %}.    <sc
+000029f0: 7269 7074 3e0a 2020 2020 2020 2020 2428  ript>.        $(
+00002a00: 2223 7072 6f6a 6563 745f 6472 6f70 646f  "#project_dropdo
+00002a10: 776e 2e64 726f 7064 6f77 6e2d 6d65 6e75  wn.dropdown-menu
+00002a20: 206c 6920 6c61 6265 6c22 292e 636c 6963   li label").clic
+00002a30: 6b28 6675 6e63 7469 6f6e 2028 290a 0909  k(function ()...
+00002a40: 7b0a 2020 2020 2020 2020 2020 2020 6c65  {.            le
+00002a50: 7420 7365 6c54 6578 7420 3d20 2428 7468  t selText = $(th
+00002a60: 6973 292e 7465 7874 2829 3b0a 2020 2020  is).text();.    
+00002a70: 2020 2020 2020 2020 2428 2723 7072 6f6a          $('#proj
+00002a80: 6563 745f 7365 6c65 6374 6564 2729 2e68  ect_selected').h
+00002a90: 746d 6c28 7365 6c54 6578 7429 3b0a 2020  tml(selText);.  
+00002aa0: 2020 2020 2020 7d29 3b0a 0909 6c65 7420        });...let 
+00002ab0: 7469 6d65 7069 636b 6572 5f70 726f 7065  timepicker_prope
+00002ac0: 7274 6965 7320 3d0a 0909 7b0a 0909 0966  rties =...{....f
+00002ad0: 6f72 6d61 743a 2027 7b7b 2064 6174 6574  ormat: '{{ datet
+00002ae0: 696d 655f 696e 7075 745f 6a73 5f66 6f72  ime_input_js_for
+00002af0: 6d61 7420 7d7d 272c 0a20 2020 2020 2020  mat }}',.       
+00002b00: 2020 2020 2073 686f 7743 6c6f 7365 3a20       showClose: 
+00002b10: 7472 7565 2c0a 2020 2020 2020 2020 2020  true,.          
+00002b20: 2020 7368 6f77 436c 6561 723a 2074 7275    showClear: tru
+00002b30: 652c 0a09 0909 7374 6570 7069 6e67 3a20  e,....stepping: 
+00002b40: 3135 2c0a 0909 0973 6964 6542 7953 6964  15,....sideBySid
+00002b50: 653a 2074 7275 652c 0a09 0909 6d69 6e44  e: true,....minD
+00002b60: 6174 653a 206d 6f6d 656e 7428 292e 7374  ate: moment().st
+00002b70: 6172 744f 6628 2764 6179 2729 2c0a 2020  artOf('day'),.  
+00002b80: 2020 2020 2020 2020 2020 7573 6543 7572            useCur
+00002b90: 7265 6e74 3a20 6661 6c73 650a 0909 7d3b  rent: false...};
+00002ba0: 0a09 096c 6574 2072 6571 7565 7374 6564  ...let requested
+00002bb0: 5f74 696d 6573 5f63 6f75 6e74 6572 203d  _times_counter =
+00002bc0: 207b 7b20 7469 6d65 5f66 6f72 6d73 7c6c   {{ time_forms|l
+00002bd0: 656e 6774 6820 7d7d 3b0a 2020 2020 2020  ength }};.      
+00002be0: 2020 6675 6e63 7469 6f6e 2061 6464 5f72    function add_r
+00002bf0: 6571 7565 7374 6564 5f74 696d 6528 290a  equested_time().
+00002c00: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
+00002c10: 2020 2020 2020 7265 7175 6573 7465 645f        requested_
+00002c20: 7469 6d65 735f 636f 756e 7465 7220 2b2b  times_counter ++
+00002c30: 3b0a 2020 2020 2020 2020 2020 2020 6c65  ;.            le
+00002c40: 7420 7469 6d65 735f 6469 7620 3d20 273c  t times_div = '<
+00002c50: 6469 7620 6964 3d22 7469 6d65 735f 272b  div id="times_'+
+00002c60: 7265 7175 6573 7465 645f 7469 6d65 735f  requested_times_
+00002c70: 636f 756e 7465 722b 2722 2063 6c61 7373  counter+'" class
+00002c80: 3d22 726f 7722 2073 7479 6c65 3d22 6d61  ="row" style="ma
+00002c90: 7267 696e 2d62 6f74 746f 6d3a 2035 7078  rgin-bottom: 5px
+00002ca0: 3b22 3e27 202b 0a09 0909 0927 3c69 6e70  ;">' +.....'<inp
+00002cb0: 7574 2074 7970 653d 2268 6964 6465 6e22  ut type="hidden"
+00002cc0: 206e 616d 653d 2274 696d 6573 2220 7661   name="times" va
+00002cd0: 6c75 653d 2227 2b72 6571 7565 7374 6564  lue="'+requested
+00002ce0: 5f74 696d 6573 5f63 6f75 6e74 6572 2b27  _times_counter+'
+00002cf0: 223e 2720 2b0a 0909 0909 273c 6469 7620  ">' +.....'<div 
+00002d00: 636c 6173 733d 2263 6f6c 2d78 732d 3522  class="col-xs-5"
+00002d10: 223e 3c69 6e70 7574 2063 6c61 7373 3d22  "><input class="
+00002d20: 666f 726d 2d63 6f6e 7472 6f6c 2220 7479  form-control" ty
+00002d30: 7065 3d22 7465 7874 2220 6e61 6d65 3d22  pe="text" name="
+00002d40: 7374 6172 745f 272b 7265 7175 6573 7465  start_'+requeste
+00002d50: 645f 7469 6d65 735f 636f 756e 7465 722b  d_times_counter+
+00002d60: 2722 2069 643d 2273 7461 7274 5f27 2b72  '" id="start_'+r
+00002d70: 6571 7565 7374 6564 5f74 696d 6573 5f63  equested_times_c
+00002d80: 6f75 6e74 6572 2b27 2220 6172 6961 2d6c  ounter+'" aria-l
+00002d90: 6162 656c 3d22 7374 6172 7420 7469 6d65  abel="start time
+00002da0: 2027 2b72 6571 7565 7374 6564 5f74 696d   '+requested_tim
+00002db0: 6573 5f63 6f75 6e74 6572 2b27 223e 3c2f  es_counter+'"></
+00002dc0: 6469 763e 2720 2b0a 0909 0909 273c 6469  div>' +.....'<di
+00002dd0: 7620 636c 6173 733d 2263 6f6c 2d78 732d  v class="col-xs-
+00002de0: 3522 3e3c 696e 7075 7420 636c 6173 733d  5"><input class=
+00002df0: 2266 6f72 6d2d 636f 6e74 726f 6c22 2074  "form-control" t
+00002e00: 7970 653d 2274 6578 7422 206e 616d 653d  ype="text" name=
+00002e10: 2265 6e64 5f27 2b72 6571 7565 7374 6564  "end_'+requested
+00002e20: 5f74 696d 6573 5f63 6f75 6e74 6572 2b27  _times_counter+'
+00002e30: 2220 6964 3d22 656e 645f 272b 7265 7175  " id="end_'+requ
+00002e40: 6573 7465 645f 7469 6d65 735f 636f 756e  ested_times_coun
+00002e50: 7465 722b 2722 2061 7269 612d 6c61 6265  ter+'" aria-labe
+00002e60: 6c3d 2265 6e64 2074 696d 6520 272b 7265  l="end time '+re
+00002e70: 7175 6573 7465 645f 7469 6d65 735f 636f  quested_times_co
+00002e80: 756e 7465 722b 2722 3e3c 2f64 6976 3e27  unter+'"></div>'
+00002e90: 202b 0a09 0909 0927 3c64 6976 2063 6c61   +.....'<div cla
+00002ea0: 7373 3d22 636f 6c2d 7873 2d31 2074 6578  ss="col-xs-1 tex
+00002eb0: 742d 6365 6e74 6572 2066 6f72 6d2d 636f  t-center form-co
+00002ec0: 6e74 726f 6c2d 7374 6174 6963 2220 7374  ntrol-static" st
+00002ed0: 796c 653d 2270 6164 6469 6e67 2d6c 6566  yle="padding-lef
+00002ee0: 743a 2030 3b22 3e3c 7370 616e 2063 6c61  t: 0;"><span cla
+00002ef0: 7373 3d22 676c 7970 6869 636f 6e20 676c  ss="glyphicon gl
+00002f00: 7970 6869 636f 6e2d 6d69 6e75 732d 7369  yphicon-minus-si
+00002f10: 676e 2064 616e 6765 722d 6869 6768 6c69  gn danger-highli
+00002f20: 6768 7422 206f 6e63 6c69 636b 3d22 2428  ght" onclick="$(
+00002f30: 5c27 2374 696d 6573 5f27 2b72 6571 7565  \'#times_'+reque
+00002f40: 7374 6564 5f74 696d 6573 5f63 6f75 6e74  sted_times_count
+00002f50: 6572 2b27 5c27 292e 7265 6d6f 7665 2829  er+'\').remove()
+00002f60: 3b22 3e3c 2f73 7061 6e3e 3c2f 6469 763e  ;"></span></div>
+00002f70: 2720 2b0a 0909 0909 273c 6469 7620 636c  ' +.....'<div cl
+00002f80: 6173 733d 2263 6f6c 2d78 732d 3120 666f  ass="col-xs-1 fo
+00002f90: 726d 2d63 6f6e 7472 6f6c 2d73 7461 7469  rm-control-stati
+00002fa0: 6322 2073 7479 6c65 3d22 7061 6464 696e  c" style="paddin
+00002fb0: 672d 6c65 6674 3a20 303b 223e 3c73 7061  g-left: 0;"><spa
+00002fc0: 6e20 636c 6173 733d 2267 6c79 7068 6963  n class="glyphic
+00002fd0: 6f6e 2067 6c79 7068 6963 6f6e 2d70 6c75  on glyphicon-plu
+00002fe0: 732d 7369 676e 2073 7563 6365 7373 2d68  s-sign success-h
+00002ff0: 6967 686c 6967 6874 2220 6f6e 636c 6963  ighlight" onclic
+00003000: 6b3d 2261 6464 5f72 6571 7565 7374 6564  k="add_requested
+00003010: 5f74 696d 6528 2922 3e3c 2f73 7061 6e3e  _time()"></span>
+00003020: 3c2f 6469 763e 3c2f 6469 763e 270a 2020  </div></div>'.  
+00003030: 2020 2020 2020 2020 2020 2428 2223 7469            $("#ti
+00003040: 6d65 7322 292e 6170 7065 6e64 2874 696d  mes").append(tim
+00003050: 6573 5f64 6976 293b 0a20 2020 2020 2020  es_div);.       
+00003060: 2020 2020 2073 6574 5f73 7461 7274 5f65       set_start_e
+00003070: 6e64 5f64 6174 6574 696d 655f 7069 636b  nd_datetime_pick
+00003080: 6572 7328 2428 2223 7374 6172 745f 222b  ers($("#start_"+
+00003090: 7265 7175 6573 7465 645f 7469 6d65 735f  requested_times_
+000030a0: 636f 756e 7465 7229 2c20 2428 2223 656e  counter), $("#en
+000030b0: 645f 222b 7265 7175 6573 7465 645f 7469  d_"+requested_ti
+000030c0: 6d65 735f 636f 756e 7465 7229 2c20 7469  mes_counter), ti
+000030d0: 6d65 7069 636b 6572 5f70 726f 7065 7274  mepicker_propert
+000030e0: 6965 732c 2074 7275 6529 3b0a 0909 7d0a  ies, true);...}.
+000030f0: 0909 6675 6e63 7469 6f6e 2072 656c 6f61  ..function reloa
+00003100: 645f 7572 6c28 7572 6c29 0a20 2020 2020  d_url(url).     
+00003110: 2020 207b 0a20 2020 2020 2020 2020 2020     {.           
+00003120: 207b 2520 6966 206d 6f62 696c 655f 6465   {% if mobile_de
+00003130: 7669 6365 2025 7d0a 0909 0909 6c6f 6361  vice %}.....loca
+00003140: 7469 6f6e 2e68 7265 6620 3d20 7572 6c3b  tion.href = url;
+00003150: 0a20 2020 2020 2020 2020 2020 207b 2520  .            {% 
+00003160: 656c 7365 2025 7d0a 0909 0909 616a 6178  else %}.....ajax
+00003170: 5f67 6574 2875 726c 2c20 756e 6465 6669  _get(url, undefi
+00003180: 6e65 642c 2061 6a61 785f 7375 6363 6573  ned, ajax_succes
+00003190: 735f 6361 6c6c 6261 636b 2c20 6765 6e65  s_callback, gene
+000031a0: 7261 6c5f 6661 696c 7572 655f 6361 6c6c  ral_failure_call
+000031b0: 6261 636b 293b 0a20 2020 2020 2020 2020  back);.         
+000031c0: 2020 207b 2520 656e 6469 6620 257d 0a09     {% endif %}..
+000031d0: 097d 0a09 0966 756e 6374 696f 6e20 7375  .}...function su
+000031e0: 6363 6573 735f 6361 6c6c 6261 636b 2872  ccess_callback(r
+000031f0: 6573 706f 6e73 652c 2073 7461 7475 732c  esponse, status,
+00003200: 2078 6d6c 5f68 7474 705f 7265 7175 6573   xml_http_reques
+00003210: 742c 2061 6a61 785f 706f 7374 2c20 7375  t, ajax_post, su
+00003220: 6363 6573 735f 6361 6c6c 6261 636b 290a  ccess_callback).
+00003230: 0909 7b0a 0909 097b 2320 4966 2074 6865  ..{....{# If the
+00003240: 2072 6573 706f 6e73 6520 6973 2065 6d70   response is emp
+00003250: 7479 2074 6865 6e20 7468 6520 7472 6169  ty then the trai
+00003260: 6e69 6e67 2072 6571 7565 7374 2077 6173  ning request was
+00003270: 2073 7563 6365 7373 6675 6c6c 7920 6372   successfully cr
+00003280: 6561 7465 642e 2023 7d0a 0909 0969 6628  eated. #}....if(
+00003290: 7265 7370 6f6e 7365 203d 3d3d 2022 2229  response === "")
+000032a0: 0a09 0909 7b0a 0909 0909 6c6f 6361 7469  ....{.....locati
+000032b0: 6f6e 2e72 656c 6f61 6428 293b 0a09 0909  on.reload();....
+000032c0: 7d0a 0909 0965 6c73 6520 7b23 2074 6865  }....else {# the
+000032d0: 2072 6573 706f 6e73 6520 7761 7320 6e6f   response was no
+000032e0: 6e2d 656d 7074 792c 2064 6973 706c 6179  n-empty, display
+000032f0: 2069 6e20 706f 7075 702e 2023 7d0a 0909   in popup. #}...
+00003300: 097b 0a09 0909 0924 2822 2364 6961 6c6f  .{.....$("#dialo
+00003310: 6720 2e6d 6f64 616c 2d63 6f6e 7465 6e74  g .modal-content
+00003320: 2229 2e68 746d 6c28 7265 7370 6f6e 7365  ").html(response
+00003330: 293b 0a09 0909 0924 2822 2364 6961 6c6f  );.....$("#dialo
+00003340: 6722 292e 6d6f 6461 6c28 2773 686f 7727  g").modal('show'
+00003350: 293b 0a09 0909 7d0a 0909 7d0a 0909 6675  );....}...}...fu
+00003360: 6e63 7469 6f6e 2073 7562 6d69 745f 666f  nction submit_fo
+00003370: 726d 2862 7574 746f 6e29 0a09 097b 0a20  rm(button)...{. 
+00003380: 2020 2020 2020 2020 2020 207b 2520 6966             {% if
+00003390: 206d 6f62 696c 655f 6465 7669 6365 2025   mobile_device %
+000033a0: 7d0a 0909 0909 7375 626d 6974 5f61 6e64  }.....submit_and
+000033b0: 5f64 6973 6162 6c65 2862 7574 746f 6e29  _disable(button)
+000033c0: 0a20 2020 2020 2020 2020 2020 207b 2520  .            {% 
+000033d0: 656c 7365 2025 7d0a 0909 0909 6966 2028  else %}.....if (
+000033e0: 6275 7474 6f6e 2e66 6f72 6d2e 7265 706f  button.form.repo
+000033f0: 7274 5661 6c69 6469 7479 2829 290a 2020  rtValidity()).  
+00003400: 2020 2020 2020 2020 2020 2020 2020 7b0a                {.
+00003410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003420: 2020 2020 6c65 7420 706f 7374 5f64 6174      let post_dat
+00003430: 6120 3d20 2428 2223 2220 2b20 6275 7474  a = $("#" + butt
+00003440: 6f6e 2e66 6f72 6d2e 6964 292e 7365 7269  on.form.id).seri
+00003450: 616c 697a 6528 293b 0a20 2020 2020 2020  alize();.       
+00003460: 2020 2020 2020 2020 2020 2020 2061 6a61               aja
+00003470: 785f 706f 7374 2862 7574 746f 6e2e 666f  x_post(button.fo
+00003480: 726d 2e61 6374 696f 6e2c 2070 6f73 745f  rm.action, post_
+00003490: 6461 7461 2c20 7375 6363 6573 735f 6361  data, success_ca
+000034a0: 6c6c 6261 636b 2c20 6765 6e65 7261 6c5f  llback, general_
+000034b0: 6661 696c 7572 655f 6361 6c6c 6261 636b  failure_callback
+000034c0: 293b 0a20 2020 2020 2020 2020 2020 2020  );.             
+000034d0: 2020 2020 2020 2062 7574 746f 6e2e 6469         button.di
+000034e0: 7361 626c 6564 203d 2074 7275 653b 0a20  sabled = true;. 
+000034f0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+00003500: 0a20 2020 2020 2020 2020 2020 207b 2520  .            {% 
+00003510: 656e 6469 6620 257d 0a09 097d 0a09 0966  endif %}...}...f
+00003520: 756e 6374 696f 6e20 7365 6c65 6374 5f74  unction select_t
+00003530: 6f6f 6c28 6a71 7565 7279 5f65 7665 6e74  ool(jquery_event
+00003540: 2c20 7365 6172 6368 5f73 656c 6563 7469  , search_selecti
+00003550: 6f6e 2c20 6461 7461 7365 745f 6e61 6d65  on, dataset_name
+00003560: 290a 0909 7b0a 2020 2020 2020 2020 2020  )...{.          
+00003570: 2020 7265 6c6f 6164 5f75 726c 2822 7b25    reload_url("{%
+00003580: 2075 726c 2027 6372 6561 7465 5f74 7261   url 'create_tra
+00003590: 696e 696e 675f 7265 7175 6573 745f 666f  ining_request_fo
+000035a0: 725f 746f 6f6c 2720 3939 3939 2025 7d22  r_tool' 9999 %}"
+000035b0: 2e72 6570 6c61 6365 2827 3939 3939 272c  .replace('9999',
+000035c0: 2073 6561 7263 685f 7365 6c65 6374 696f   search_selectio
+000035d0: 6e2e 6964 2929 3b0a 0909 7d0a 0909 6675  n.id));...}...fu
+000035e0: 6e63 7469 6f6e 206f 6e5f 6c6f 6164 2829  nction on_load()
+000035f0: 0a09 097b 0a20 2020 2020 2020 2020 2020  ...{.           
+00003600: 207b 2520 6966 206e 6f74 2073 656c 6563   {% if not selec
+00003610: 7465 645f 746f 6f6c 2025 7d0a 0909 0909  ted_tool %}.....
+00003620: 2428 2223 746f 6f6c 5f73 6561 7263 6822  $("#tool_search"
+00003630: 292e 6175 746f 636f 6d70 6c65 7465 2827  ).autocomplete('
+00003640: 746f 6f6c 7327 2c20 7365 6c65 6374 5f74  tools', select_t
+00003650: 6f6f 6c2c 2027 7b25 2075 726c 2027 7472  ool, '{% url 'tr
+00003660: 6169 6e69 6e67 5f74 6f6f 6c5f 7365 6172  aining_tool_sear
+00003670: 6368 2720 2772 6571 7565 7374 2720 257d  ch' 'request' %}
+00003680: 272c 2074 7275 6529 3b0a 2020 2020 2020  ', true);.      
+00003690: 2020 2020 2020 7b25 2065 6e64 6966 2025        {% endif %
+000036a0: 7d0a 2020 2020 2020 2020 2020 2020 7b25  }.            {%
+000036b0: 2069 6620 6e6f 7420 7469 6d65 5f66 6f72   if not time_for
+000036c0: 6d73 2025 7d0a 0909 0909 6164 645f 7265  ms %}.....add_re
+000036d0: 7175 6573 7465 645f 7469 6d65 2829 3b0a  quested_time();.
+000036e0: 2020 2020 2020 2020 2020 2020 7b25 2065              {% e
+000036f0: 6c73 6520 257d 0a20 2020 2020 2020 2020  lse %}.         
+00003700: 2020 2020 2020 207b 2520 666f 7220 7469         {% for ti
+00003710: 6d65 5f66 6f72 6d20 696e 2074 696d 655f  me_form in time_
+00003720: 666f 726d 7320 257d 0a09 0909 0909 7365  forms %}......se
+00003730: 745f 7374 6172 745f 656e 645f 6461 7465  t_start_end_date
+00003740: 7469 6d65 5f70 6963 6b65 7273 2824 2822  time_pickers($("
+00003750: 2373 7461 7274 5f7b 7b20 666f 726c 6f6f  #start_{{ forloo
+00003760: 702e 636f 756e 7465 7220 7d7d 2229 2c20  p.counter }}"), 
+00003770: 2428 2223 656e 645f 7b7b 2066 6f72 6c6f  $("#end_{{ forlo
+00003780: 6f70 2e63 6f75 6e74 6572 207d 7d22 292c  op.counter }}"),
+00003790: 2074 696d 6570 6963 6b65 725f 7072 6f70   timepicker_prop
+000037a0: 6572 7469 6573 293b 0a20 2020 2020 2020  erties);.       
+000037b0: 2020 2020 2020 2020 207b 2520 656e 6466           {% endf
+000037c0: 6f72 2025 7d0a 2020 2020 2020 2020 2020  or %}.          
+000037d0: 2020 7b25 2065 6e64 6966 2025 7d0a 0909    {% endif %}...
+000037e0: 7d0a 0909 2428 6675 6e63 7469 6f6e 2028  }...$(function (
+000037f0: 297b 6f6e 5f6c 6f61 6428 297d 293b 0a09  ){on_load()});..
+00003800: 0a20 2020 203c 2f73 6372 6970 743e 0a7b  .    </script>.{
+00003810: 2520 656e 6462 6c6f 636b 2025 7d0a       % endblock %}.
```

## NEMO/templates/training_new/training_requests/training_requests.html

```diff
@@ -1,109 +1,113 @@
 {% extends 'training_new/training_base.html' %}
 {% load custom_tags_and_filters %}
 {% block tab_content %}
-	<div class="pull-right" {% if training_invitations or training_requests %}style="margin-bottom: 15px;"{% endif %}>
-		{% url "create_training_request" as create_training_request_url %}
-		{% button type="add" value="New training request" onclick="new_get_request('"|concat:create_training_request_url|concat:"')" %}
-	</div>
-	{% if training_invitations or training_requests %}
-		<div class="table-responsive" style="border: none; width: 100%">
-			<table class="table table-borderless table-align-middle" style="margin-bottom: 0">
-				{% if training_invitations %}
-					<thead>
-						<tr>
-							<th colspan="6" style="font-size: 20px">Invitations</th>
-						</tr>
-						<tr>
-							<th>Tool</th>
-							<th>Created</th>
-							<th>Training date</th>
-							<th>Status</th>
-							<th>Trainer</th>
-							<th class="text-right">Actions</th>
-						</tr>
-					</thead>
-					<tbody>
-						{% for training_invitation in training_invitations %}
-							<tr>
-								<td>{{ training_invitation.tool }}</td>
-								<td>{{ training_invitation.creation_time }}</td>
-								<td>
-									{{ training_invitation.training_event.start }}
-								</td>
-								<td>
-									{% if training_invitation.status == 1 or training_invitation.status == 2 %} {# 1 == SENT, 2 == REVIEWED #}
-										Received
-									{% else %}
-										{{ training_invitation.get_status_display }}
-									{% endif %}
-								</td>
-								<td>{{ training_invitation.trainer }}</td>
-								<td class="text-right">
-									{% url "decline_training_invitation" training_invitation.id as decline_invitation_url %}
-									{% if not user in training_invitation.training_event.users.all %}
-										{% url 'accept_training_invitation' training_invitation.id as accept_training_invitation_url %}
-										{% button size="small" type="save" value="Accept" icon="glyphicon-ok-sign" onclick="accept_training_invitation('"|concat:accept_training_invitation_url|concat:"');" %}
-										{% button type="delete" size="small" value="Decline" icon="glyphicon-ban-circle" onclick="confirm_action('"|concat:decline_invitation_url|concat:"', false, training_callback_success, 'declining', 'invitation', 'Decline')" data_toggle="modal" data_target="#confirm-actions" %}
-									{% else %}
-										{% button type="delete" size="small" value="Withdraw" onclick="confirm_action('"|concat:decline_invitation_url|concat:"', false, training_callback_success, 'declining', 'training', 'Withdraw')" data_toggle="modal" data_target="#confirm-actions" %}
-									{% endif %}
-								</td>
-							</tr>
-						{% endfor %}
-					</tbody>
-				{% endif %}
-				{% if training_requests %}
-					<thead>
-						<tr>
-							<th colspan="5" style="font-size: 20px">Requests</th>
-						</tr>
-						<tr>
-							<th>Tool</th>
-							<th>Created</th>
-							<th>Requested date(s)</th>
-							<th>Status</th>
-							<th>Project</th>
-							<th class="text-right">Actions</th>
-						</tr>
-					</thead>
-					<tbody>
-					{% for training_request in training_requests %}
-						<tr>
-							<td>{{ training_request.tool }}</td>
-							<td>{{ training_request.creation_time }}</td>
-							<td>
-								<div class="training-dates">
-									{% for date_time in training_request.trainingrequesttime_set.all %}
-										{{ date_time }}<br>
-									{% endfor %}
-								</div>
-							</td>
-							<td>{{ training_request.get_status_display }}</td>
-							<td>{{ training_request.project }}</td>
-							<td class="text-right">
-								{% url "withdraw_training_request" training_request.id as withdraw_request_url %}
-								{% button size="small" type="delete" value="Withdraw" onclick="if(confirm('Are you sure you want to withdraw this request?')){window.location='"|concat:withdraw_request_url|concat:"'}" %}
-							</td>
-						</tr>
-					{% endfor %}
-					</tbody>
-				{% endif %}
-			</table>
-		</div>
-	{% else %}
-		<div class="pull-left form-control-static"><i>You do not have any pending requests at the moment.</i></div>
-	{% endif %}
-	<script>
+    <div class="pull-right"
+         {% if training_invitations or training_requests %}style="margin-bottom: 15px;"{% endif %}>
+        {% url "create_training_request" as create_training_request_url %}
+        {% button type="add" value="New training request" onclick="new_get_request('"|concat:create_training_request_url|concat:"')" %}
+    </div>
+    {% if training_invitations or training_requests %}
+        <div class="table-responsive" style="border: none; width: 100%">
+            <table class="table table-borderless table-align-middle" style="margin-bottom: 0">
+                {% if training_invitations %}
+                    <thead>
+                        <tr>
+                            <th colspan="6" style="font-size: 20px">Invitations</th>
+                        </tr>
+                        <tr>
+                            <th>Tool</th>
+                            <th>Created</th>
+                            <th>Training date</th>
+                            <th>Status</th>
+                            <th>Trainer</th>
+                            <th class="text-right">Actions</th>
+                        </tr>
+                    </thead>
+                    <tbody>
+                        {% for training_invitation in training_invitations %}
+                            <tr>
+                                <td>{{ training_invitation.tool }}</td>
+                                <td>{{ training_invitation.creation_time }}</td>
+                                <td>{{ training_invitation.training_event.start }}</td>
+                                <td>
+                                    {% if training_invitation.status == 1 or training_invitation.status == 2 %}
+                                        {# 1 == SENT, 2 == REVIEWED #}
+                                        Received
+                                    {% else %}
+                                        {{ training_invitation.get_status_display }}
+                                    {% endif %}
+                                </td>
+                                <td>{{ training_invitation.trainer }}</td>
+                                <td class="text-right">
+                                    {% url "decline_training_invitation" training_invitation.id as decline_invitation_url %}
+                                    {% if not user in training_invitation.training_event.users.all %}
+                                        {% url 'accept_training_invitation' training_invitation.id as accept_training_invitation_url %}
+                                        {% button size="small" type="save" value="Accept" icon="glyphicon-ok-sign" onclick="accept_training_invitation('"|concat:accept_training_invitation_url|concat:"');" %}
+                                        {% button type="delete" size="small" value="Decline" icon="glyphicon-ban-circle" onclick="confirm_action('"|concat:decline_invitation_url|concat:"', false, training_callback_success, 'declining', 'invitation', 'Decline')" data_toggle="modal" data_target="#confirm-actions" %}
+                                    {% else %}
+                                        {% button type="delete" size="small" value="Withdraw" onclick="confirm_action('"|concat:decline_invitation_url|concat:"', false, training_callback_success, 'declining', 'training', 'Withdraw')" data_toggle="modal" data_target="#confirm-actions" %}
+                                    {% endif %}
+                                </td>
+                            </tr>
+                        {% endfor %}
+                    </tbody>
+                {% endif %}
+                {% if training_requests %}
+                    <thead>
+                        <tr>
+                            <th colspan="5" style="font-size: 20px">Requests</th>
+                        </tr>
+                        <tr>
+                            <th>Tool</th>
+                            <th>Created</th>
+                            <th>Requested date(s)</th>
+                            <th>Status</th>
+                            <th>Project</th>
+                            <th class="text-right">Actions</th>
+                        </tr>
+                    </thead>
+                    <tbody>
+                        {% for training_request in training_requests %}
+                            <tr>
+                                <td>{{ training_request.tool }}</td>
+                                <td>{{ training_request.creation_time }}</td>
+                                <td>
+                                    <div class="training-dates">
+                                        {% for date_time in training_request.trainingrequesttime_set.all %}
+                                            {{ date_time }}
+                                            <br>
+                                        {% endfor %}
+                                    </div>
+                                </td>
+                                <td>{{ training_request.get_status_display }}</td>
+                                <td>{{ training_request.project }}</td>
+                                <td class="text-right">
+                                    {% url "withdraw_training_request" training_request.id as withdraw_request_url %}
+                                    {% button size="small" type="delete" value="Withdraw" onclick="if(confirm('Are you sure you want to withdraw this request?')){window.location='"|concat:withdraw_request_url|concat:"'}" %}
+                                </td>
+                            </tr>
+                        {% endfor %}
+                    </tbody>
+                {% endif %}
+            </table>
+        </div>
+    {% else %}
+        <div class="pull-left form-control-static">
+            <i>You do not have any pending requests at the moment.</i>
+        </div>
+    {% endif %}
+    <script>
 		function accept_training_invitation(url)
 		{
 			let failure_dialog = ajax_failure_callback("Unable to register for this training");
 			ajax_post(url, undefined, training_callback_success, failure_dialog);
 		}
 
         {% for training_invitation in training_invitations %}
             {% if training_invitation.status == 1 %} {# 1:SENT #}
 		ajax_get('{% url "review_training_invitation" training_invitation.id %}');
             {% endif %}
         {% endfor %}
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

## NEMO/templates/usage/adjustment_request_button.html

```diff
@@ -1,21 +1,21 @@
 {% load custom_tags_and_filters %}
 {% if "requests"|customization:"adjustment_requests_enabled" %}
     {% with content_type=charge|content_type %}
         {% url 'create_adjustment_request' content_type.id charge.id as create_adjustment_request %}
-		{% if not charge.validated %}
-			{% if not existing_adjustments or content_type.id not in existing_adjustments or charge.id not in existing_adjustments|get_item:content_type.id %}
-				<span class="usage-charge-adjustment-button">
-        			{% if "requests"|customization:"charges_validation_enabled" == "enabled" %}
-						{% url 'validate_charge' content_type.id charge.id as validate_charge_url %}
-						{% button size="small" type="save" onclick="validate_charge('"|concat:validate_charge_url|concat:"', this)" value="Validate" icon="glyphicon-check" %}
-					{% endif %}
-					{% button size="small" type="warn" url=create_adjustment_request value="Request an adjustment" icon="glyphicon-flag" %}
-				</span>
-			{% else %}
-				<span class="usage-charge-adjustment-button" title="An adjustment request already exists for this charge">
-					{% button size="small" type="warn" url=create_adjustment_request value="Request an adjustment" icon="glyphicon-flag" disabled="true" %}
-				</span>
-			{% endif %}
-		{% endif %}
+        {% if not charge.validated %}
+            {% if not existing_adjustments or content_type.id not in existing_adjustments or charge.id not in existing_adjustments|get_item:content_type.id %}
+                <span class="usage-charge-adjustment-button">
+                    {% if "requests"|customization:"charges_validation_enabled" == "enabled" %}
+                        {% url 'validate_charge' content_type.id charge.id as validate_charge_url %}
+                        {% button size="small" type="save" onclick="validate_charge('"|concat:validate_charge_url|concat:"', this)" value="Validate" icon="glyphicon-check" %}
+                    {% endif %}
+                    {% button size="small" type="warn" url=create_adjustment_request value="Request an adjustment" icon="glyphicon-flag" %}
+                </span>
+            {% else %}
+                <span class="usage-charge-adjustment-button" title="An adjustment request already exists for this charge">
+                    {% button size="small" type="warn" url=create_adjustment_request value="Request an adjustment" icon="glyphicon-flag" disabled="true" %}
+                </span>
+            {% endif %}
+        {% endif %}
     {% endwith %}
-{% endif %}
+{% endif %}
```

## NEMO/templates/usage/billing.html

```diff
@@ -1,87 +1,90 @@
 {% extends 'usage/usage_base.html' %}
 {% load custom_tags_and_filters %}
 {% load humanize %}
-
 {% block usage_content %}
-	<div style="margin-top:10px">
-		<ul class="nav nav-pills" id="tabs">
-			<li><a href="{{ tab_url }}">Usage</a></li>
-			<li class="active"><a>Billing information</a></li>
-		</ul>
-	</div>
-
-	<div id="content" class="tab-content">
-		<div class="tab-pane active" id="billing_information">
-			<br>
-			<p>
-				Approved adjustments <b>are included</b> in the billing information.
-			</p>
-			<div id="billing_information_response">
-				<table style="margin-top:20px">
-					{% if not spending %}
-						<span style="color: #cd0000">There was a problem communicating with the billing service. The financial information associated with your usage cannot be displayed at this time.</span>
-					{% elif not spending.activities %}
-						<h3>No billing information available for the selected period</h3>
-					{% else %}
-						{% for account, value in spending.activities.items %}
-							<tr>
-								<td>Account: {{ account.1 }}</td>
-								<td colspan="4" ></td>
-								<td style="text-align: right">
-									{% if selection == account.1 %}
+    <div style="margin-top:10px">
+        <ul class="nav nav-pills" id="tabs">
+            <li>
+                <a href="{{ tab_url }}">Usage</a>
+            </li>
+            <li class="active">
+                <a>Billing information</a>
+            </li>
+        </ul>
+    </div>
+    <div id="content" class="tab-content">
+        <div class="tab-pane active" id="billing_information">
+            <br>
+            <p>
+                Approved adjustments <b>are included</b> in the billing information.
+            </p>
+            <div id="billing_information_response">
+                <table style="margin-top:20px">
+                    {% if not spending %}
+                        <span style="color: #cd0000">There was a problem communicating with the billing service. The financial information associated with your usage cannot be displayed at this time.</span>
+                    {% elif not spending.activities %}
+                        <h3>No billing information available for the selected period</h3>
+                    {% else %}
+                        {% for account, value in spending.activities.items %}
+                            <tr>
+                                <td>Account: {{ account.1 }}</td>
+                                <td colspan="4"></td>
+                                <td style="text-align: right">
+                                    {% if selection == account.1 %}
                                         {% if user.is_user_office or user.is_accounting_officer or user.is_facility_manager or user.is_superuser %}
-										${{ spending.account_totals|get_item:account.0|floatformat:2|intcomma }}
+                                            ${{ spending.account_totals|get_item:account.0|floatformat:2|intcomma }}
                                         {% endif %}
-									{% endif %}
-								</td>
-							</tr>
-							{% for application, projects in value.items %}
-								<tr>
-									<td></td>
-									<td style="border-bottom: 1px dotted lightgray; padding-top: 5px">
-										Application: {{ application.1 }}</td>
-									<td colspan="3" style="text-align: right; border-bottom: 1px dotted lightgray"></td>
-									<td style="border-bottom: 1px dotted lightgray; text-align: right">
-										{% if application.0 in spending.user_pi_applications %}
-											${{ spending.application_totals|get_item:application.0|floatformat:2|intcomma }}
-										{% endif %}
-									</td>
-								</tr>
-								{% for project, users in projects.items %}
-									<tr>
-										<td colspan="2"></td>
-										<td style="border-bottom: 1px solid lightgray;padding-top: 5px">Project: {{ project.1 }}</td>
-										<td style="width: 10%; border-bottom: 1px solid lightgray"></td>
-										<td colspan="2" style="border-bottom: 1px solid lightgray"></td>
-									</tr>
-									{% for user, amount in users.items %}
-										<tr>
-											<td colspan="2"></td>
-											<td colspan="2" style="text-align: right; padding: 3px 0; font-size: 12px">
-												{% if user.1 %}
-													{{ user.1.get_full_name }}
-												{% else %}
-													unknown user with id {{ user.0 }}
-												{% endif %}
-											</td>
-											<td style="width: 15px"></td>
-											<td style="; text-align: right; font-size: 12px">${{ amount|floatformat:2|intcomma }}</td>
-										</tr>
-									{% endfor %}
-									{% if application.0 in spending.user_pi_applications %}
-										<tr>
-											<td colspan="2"></td>
-											<td colspan="2" style="border-top: 1px solid lightgray; text-align: right;font-weight: bold">Project total</td>
-											<td></td>
-											<td style="border-top: 1px solid lightgray; font-weight: bold; text-align: right">${{ spending.project_totals|get_item:project.0|floatformat:2|intcomma }}</td>
-										</tr>
-									{% endif %}
-								{% endfor %}
-							{% endfor %}
-						{% endfor %}
-					{% endif %}
-				</table>
-			</div>
-		</div>
-	</div>
-{% endblock %}
+                                    {% endif %}
+                                </td>
+                            </tr>
+                            {% for application, projects in value.items %}
+                                <tr>
+                                    <td></td>
+                                    <td style="border-bottom: 1px dotted lightgray; padding-top: 5px">Application: {{ application.1 }}</td>
+                                    <td colspan="3" style="text-align: right; border-bottom: 1px dotted lightgray"></td>
+                                    <td style="border-bottom: 1px dotted lightgray; text-align: right">
+                                        {% if application.0 in spending.user_pi_applications %}
+                                            ${{ spending.application_totals|get_item:application.0|floatformat:2|intcomma }}
+                                        {% endif %}
+                                    </td>
+                                </tr>
+                                {% for project, users in projects.items %}
+                                    <tr>
+                                        <td colspan="2"></td>
+                                        <td style="border-bottom: 1px solid lightgray;padding-top: 5px">Project: {{ project.1 }}</td>
+                                        <td style="width: 10%; border-bottom: 1px solid lightgray"></td>
+                                        <td colspan="2" style="border-bottom: 1px solid lightgray"></td>
+                                    </tr>
+                                    {% for user, amount in users.items %}
+                                        <tr>
+                                            <td colspan="2"></td>
+                                            <td colspan="2" style="text-align: right; padding: 3px 0; font-size: 12px">
+                                                {% if user.1 %}
+                                                    {{ user.1.get_full_name }}
+                                                {% else %}
+                                                    unknown user with id {{ user.0 }}
+                                                {% endif %}
+                                            </td>
+                                            <td style="width: 15px"></td>
+                                            <td style="; text-align: right; font-size: 12px">${{ amount|floatformat:2|intcomma }}</td>
+                                        </tr>
+                                    {% endfor %}
+                                    {% if application.0 in spending.user_pi_applications %}
+                                        <tr>
+                                            <td colspan="2"></td>
+                                            <td colspan="2" style="border-top: 1px solid lightgray; text-align: right;font-weight: bold">Project total</td>
+                                            <td></td>
+                                            <td style="border-top: 1px solid lightgray; font-weight: bold; text-align: right">
+                                                ${{ spending.project_totals|get_item:project.0|floatformat:2|intcomma }}
+                                            </td>
+                                        </tr>
+                                    {% endif %}
+                                {% endfor %}
+                            {% endfor %}
+                        {% endfor %}
+                    {% endif %}
+                </table>
+            </div>
+        </div>
+    </div>
+{% endblock %}
```

## NEMO/templates/usage/usage.html

```diff
@@ -1,37 +1,46 @@
 {% extends 'usage/usage_base.html' %}
 {% load custom_tags_and_filters %}
 {% block usage_content %}
-	<div style="margin-top:10px">
-		<ul class="nav nav-pills" id="tabs">
-			<li class="active"><a>Usage</a></li>
-			{% if billing_service %}<li><a href="{{ tab_url }}">Billing Information</a></li>{% endif %}
-		</ul>
-	</div>
-
-	<div id="content" class="tab-content">
-		<div class="tab-pane active" id="usage">
-			<br/>
-			<p>
-				Adjustment activities <b>are not included</b> in the usage information.
+    <div style="margin-top:10px">
+        <ul class="nav nav-pills" id="tabs">
+            <li class="active">
+                <a>Usage</a>
+            </li>
+            {% if billing_service %}
+                <li>
+                    <a href="{{ tab_url }}">Billing Information</a>
+                </li>
+            {% endif %}
+        </ul>
+    </div>
+    <div id="content" class="tab-content">
+        <div class="tab-pane active" id="usage">
+            <br />
+            <p>
+                Adjustment activities <b>are not included</b> in the usage information.
                 {% if "requests"|customization:"adjustment_requests_enabled" and adjustment_time_limit %}
-                    <br>Adjustment requests can be made for charges ending after {{ adjustment_time_limit.date }}.
+                    <br>
+                    Adjustment requests can be made for charges ending after {{ adjustment_time_limit.date }}.
                 {% endif %}
-			</p>
-			{% if no_charges %}
-				<h3>There was no usage between {{ start_date|date }} and {{ end_date|date }}.</h3>
-            {% endif %}
+            </p>
+            {% if no_charges %}<h3>There was no usage between {{ start_date|date }} and {{ end_date|date }}.</h3>{% endif %}
             {% with adj_reservation="requests"|customization:"adjustment_requests_missed_reservation_enabled" adj_tool_usage="requests"|customization:"adjustment_requests_tool_usage_enabled" adj_area_access="requests"|customization:"adjustment_requests_area_access_enabled" adj_staff_charge="requests"|customization:"adjustment_requests_staff_staff_charges_enabled" %}
                 {% if missed_reservations %}
                     <h3>Missed reservations</h3>
                     {% for m in missed_reservations %}
                         <div class="usage-charge alert alert-danger">
-                            <span style="font-weight:bold">{{ m.reservation_item }}</span><br>
-                            {% if project_autocomplete or selected_project %}Missed by {{ m.user }}<br>{% endif %}
-                            {{ m.start }}<br>
+                            <span style="font-weight:bold">{{ m.reservation_item }}</span>
+                            <br>
+                            {% if project_autocomplete or selected_project %}
+                                Missed by {{ m.user }}
+                                <br>
+                            {% endif %}
+                            {{ m.start }}
+                            <br>
                             Charged to project {{ m.project }}
                             {% if adj_reservation == "enabled" %}
                                 {% if not adjustment_time_limit or adjustment_time_limit <= m.end %}
                                     {% if m.user == user or m.project in pi_projects %}
                                         {% include "usage/adjustment_request_button.html" with charge=m %}
                                     {% endif %}
                                 {% endif %}
@@ -39,60 +48,97 @@
                         </div>
                     {% endfor %}
                 {% endif %}
                 {% if consumables %}
                     <h3>Supplies and consumables</h3>
                     {% for c in consumables %}
                         <div class="usage-charge alert alert-info">
-                            <span style="font-weight:bold">{{ c.consumable }}</span><br>
-                            {% if project_autocomplete or selected_project %}<span style="font-weight:bold">For {{ c.customer }}</span><br>{% endif %}
-                            Quantity {{ c.quantity }}<br>
-                            Purchased from {{ c.merchant }} on {{ c.date }}<br>
+                            <span style="font-weight:bold">{{ c.consumable }}</span>
+                            <br>
+                            {% if project_autocomplete or selected_project %}
+                                <span style="font-weight:bold">For {{ c.customer }}</span>
+                                <br>
+                            {% endif %}
+                            Quantity {{ c.quantity }}
+                            <br>
+                            Purchased from {{ c.merchant }} on {{ c.date }}
+                            <br>
                             Charged to project {{ c.project }}
                         </div>
                     {% endfor %}
                 {% endif %}
                 {% if staff_charges %}
                     <h3>Staff charges</h3>
                     {% for s in staff_charges %}
                         <div class="usage-charge alert alert-info">
-                            <span style="font-weight:bold">Work performed by {{ s.staff_member }} {% if project_autocomplete or selected_project %}on behalf of {{ s.customer }}{% else %}on your behalf{% endif %}</span><br>
-                            {% if s.note %}Charge note: {{ s.note|linebreaksbr }}<br>{% endif %}
-                            {{ s.start }}<br>
-                            {{ s.end }}<br>
+                            <span style="font-weight:bold">Work performed by {{ s.staff_member }}
+                                {% if project_autocomplete or selected_project %}
+                                    on behalf of {{ s.customer }}
+                                {% else %}
+                                    on your behalf
+                                {% endif %}
+                            </span>
+                            <br>
+                            {% if s.note %}
+                                Charge note: {{ s.note|linebreaksbr }}
+                                <br>
+                            {% endif %}
+                            {{ s.start }}
+                            <br>
+                            {{ s.end }}
+                            <br>
                             Charged to project {{ s.project }}
                             {% if adj_staff_charge == "enabled" and s.staff_member == user and user.is_staff %}
                                 {% if not adjustment_time_limit or adjustment_time_limit <= s.end %}
                                     {% include "usage/adjustment_request_button.html" with charge=s %}
                                 {% endif %}
                             {% endif %}
                         </div>
                     {% endfor %}
                 {% endif %}
                 {% if training_sessions %}
                     <h3>Training sessions</h3>
                     {% for t in training_sessions %}
                         <div class="usage-charge alert alert-info">
-                            <span style="font-weight:bold">{{ t.tool }}</span> {{ t.get_type_display }} training {% if project_autocomplete or selected_project %}for {{ t.trainee }} {% endif %}<br>
-                            Trained by <span style="font-weight:bold">{{ t.trainer }}</span><br>
-                            {{ t.date }} ({{ t.duration }} minutes)<br>
+                            <span style="font-weight:bold">{{ t.tool }}</span> {{ t.get_type_display }} training
+                            {% if project_autocomplete or selected_project %}for {{ t.trainee }}{% endif %}
+                            <br>
+                            Trained by <span style="font-weight:bold">{{ t.trainer }}</span>
+                            <br>
+                            {{ t.date }} ({{ t.duration }} minutes)
+                            <br>
                             Charged to project {{ t.project }}
                         </div>
                     {% endfor %}
                 {% endif %}
                 {% if area_access %}
                     <h3>Area access</h3>
                     {% for a in area_access %}
                         <div class="usage-charge alert {% if not a.staff_charge %}alert-info{% else %}alert-warning{% endif %}">
-                            <span style="font-weight:bold">{{ a.area }}</span><br>
-                            {% if a.staff_charge %}<span style="font-weight:bold">Area accessed by {{ a.staff_charge.staff_member }} {% if project_autocomplete or selected_project %}on behalf of {{ a.customer }}{% else %}on your behalf{% endif %}</span><br>
-                            {% else %}{% if project_autocomplete or selected_project %}<span style="font-weight:bold">Area accessed by {{ a.customer }}</span><br>{% endif %}
+                            <span style="font-weight:bold">{{ a.area }}</span>
+                            <br>
+                            {% if a.staff_charge %}
+                                <span style="font-weight:bold">Area accessed by {{ a.staff_charge.staff_member }}
+                                    {% if project_autocomplete or selected_project %}
+                                        on behalf of {{ a.customer }}
+                                    {% else %}
+                                        on your behalf
+                                    {% endif %}
+                                </span>
+                                <br>
+                            {% else %}
+                                {% if project_autocomplete or selected_project %}
+                                    <span style="font-weight:bold">Area accessed by {{ a.customer }}</span>
+                                    <br>
+                                {% endif %}
                             {% endif %}
-                            {{ a.start }}<br>
-                            {{ a.end|default_if_none:"In progress" }}<br>
+                            {{ a.start }}
+                            <br>
+                            {{ a.end|default_if_none:"In progress" }}
+                            <br>
                             Charged to project {{ a.project }}
                             {% if not a.staff_charge and adj_area_access == "enabled" %}
                                 {% if not adjustment_time_limit or adjustment_time_limit <= a.end %}
                                     {% if a.customer == user or a.project in pi_projects %}
                                         {% include "usage/adjustment_request_button.html" with charge=a %}
                                     {% endif %}
                                 {% endif %}
@@ -106,20 +152,35 @@
                         </div>
                     {% endfor %}
                 {% endif %}
                 {% if usage_events %}
                     <h3>Tool usage</h3>
                     {% for u in usage_events %}
                         <div class="usage-charge alert {% if u.user == u.operator %}alert-info{% else %}alert-warning{% endif %}">
-                            <span style="font-weight:bold">{{ u.tool }}</span><br>
-                            {% if u.user != u.operator %}<span style="font-weight:bold">Operated by {{ u.operator }} {% if project_autocomplete or selected_project %}on behalf of {{ u.user }}{% else %}on your behalf{% endif %}</span><br>
-                            {% else %}{% if project_autocomplete or selected_project %}<span style="font-weight:bold">Operated by {{ u.user }}</span><br>{% endif %}
+                            <span style="font-weight:bold">{{ u.tool }}</span>
+                            <br>
+                            {% if u.user != u.operator %}
+                                <span style="font-weight:bold">Operated by {{ u.operator }}
+                                    {% if project_autocomplete or selected_project %}
+                                        on behalf of {{ u.user }}
+                                    {% else %}
+                                        on your behalf
+                                    {% endif %}
+                                </span>
+                                <br>
+                            {% else %}
+                                {% if project_autocomplete or selected_project %}
+                                    <span style="font-weight:bold">Operated by {{ u.user }}</span>
+                                    <br>
+                                {% endif %}
                             {% endif %}
-                            {{ u.start }}<br>
-                            {{ u.end }}<br>
+                            {{ u.start }}
+                            <br>
+                            {{ u.end }}
+                            <br>
                             Charged to project {{ u.project }}
                             {% if adj_tool_usage == "enabled" %}
                                 {% if not adjustment_time_limit or adjustment_time_limit <= u.end %}
                                     {% if u.user == u.operator and u.user == user or u.project in pi_projects %}
                                         {% include "usage/adjustment_request_button.html" with charge=u %}
                                     {% endif %}
                                 {% endif %}
@@ -131,10 +192,10 @@
                                     {% endif %}
                                 {% endif %}
                             {% endif %}
                         </div>
                     {% endfor %}
                 {% endif %}
             {% endwith %}
-		</div>
-	</div>
-{% endblock %}
+        </div>
+    </div>
+{% endblock %}
```

### html2text {}

```diff
@@ -21,58 +21,58 @@
 "adjustment_requests_area_access_enabled"
 adj_staff_charge="requests"|customization:
 "adjustment_requests_staff_staff_charges_enabled" %} {% if missed_reservations
 %}
 ******** MMiisssseedd rreesseerrvvaattiioonnss ********
 {% for m in missed_reservations %}
 {{ m.reservation_item }}
-{% if project_autocomplete or selected_project %}Missed by {{ m.user }}
+{% if project_autocomplete or selected_project %} Missed by {{ m.user }}
 {% endif %} {{ m.start }}
 Charged to project {{ m.project }} {% if adj_reservation == "enabled" %} {% if
 not adjustment_time_limit or adjustment_time_limit <= m.end %} {% if m.user ==
 user or m.project in pi_projects %} {% include "usage/
 adjustment_request_button.html" with charge=m %} {% endif %} {% endif %} {%
 endif %}
 {% endfor %} {% endif %} {% if consumables %}
 ******** SSuupppplliieess aanndd ccoonnssuummaabblleess ********
 {% for c in consumables %}
 {{ c.consumable }}
-{% if project_autocomplete or selected_project %}For {{ c.customer }}
+{% if project_autocomplete or selected_project %} For {{ c.customer }}
 {% endif %} Quantity {{ c.quantity }}
 Purchased from {{ c.merchant }} on {{ c.date }}
 Charged to project {{ c.project }}
 {% endfor %} {% endif %} {% if staff_charges %}
 ******** SSttaaffff cchhaarrggeess ********
 {% for s in staff_charges %}
 Work performed by {{ s.staff_member }} {% if project_autocomplete or
-selected_project %}on behalf of {{ s.customer }}{% else %}on your behalf{%
+selected_project %} on behalf of {{ s.customer }} {% else %} on your behalf {%
 endif %}
-{% if s.note %}Charge note: {{ s.note|linebreaksbr }}
+{% if s.note %} Charge note: {{ s.note|linebreaksbr }}
 {% endif %} {{ s.start }}
 {{ s.end }}
 Charged to project {{ s.project }} {% if adj_staff_charge == "enabled" and
 s.staff_member == user and user.is_staff %} {% if not adjustment_time_limit or
 adjustment_time_limit <= s.end %} {% include "usage/
 adjustment_request_button.html" with charge=s %} {% endif %} {% endif %}
 {% endfor %} {% endif %} {% if training_sessions %}
 ******** TTrraaiinniinngg sseessssiioonnss ********
 {% for t in training_sessions %}
 {{ t.tool }} {{ t.get_type_display }} training {% if project_autocomplete or
-selected_project %}for {{ t.trainee }} {% endif %}
+selected_project %}for {{ t.trainee }}{% endif %}
 Trained by {{ t.trainer }}
 {{ t.date }} ({{ t.duration }} minutes)
 Charged to project {{ t.project }}
 {% endfor %} {% endif %} {% if area_access %}
 ******** AArreeaa aacccceessss ********
 {% for a in area_access %}
 {{ a.area }}
-{% if a.staff_charge %}Area accessed by {{ a.staff_charge.staff_member }} {% if
-project_autocomplete or selected_project %}on behalf of {{ a.customer }}{% else
-%}on your behalf{% endif %}
-{% else %}{% if project_autocomplete or selected_project %}Area accessed by {
+{% if a.staff_charge %} Area accessed by {{ a.staff_charge.staff_member }} {%
+if project_autocomplete or selected_project %} on behalf of {{ a.customer }} {%
+else %} on your behalf {% endif %}
+{% else %} {% if project_autocomplete or selected_project %} Area accessed by {
 { a.customer }}
 {% endif %} {% endif %} {{ a.start }}
 {{ a.end|default_if_none:"In progress" }}
 Charged to project {{ a.project }} {% if not a.staff_charge and adj_area_access
 == "enabled" %} {% if not adjustment_time_limit or adjustment_time_limit <=
 a.end %} {% if a.customer == user or a.project in pi_projects %} {% include
 "usage/adjustment_request_button.html" with charge=a %} {% endif %} {% endif %}
@@ -81,18 +81,18 @@
 a.staff_charge.staff_member == user and user.is_staff %} {% include "usage/
 adjustment_request_button.html" with charge=a %} {% endif %} {% endif %} {%
 endif %}
 {% endfor %} {% endif %} {% if usage_events %}
 ******** TTooooll uussaaggee ********
 {% for u in usage_events %}
 {{ u.tool }}
-{% if u.user != u.operator %}Operated by {{ u.operator }} {% if
-project_autocomplete or selected_project %}on behalf of {{ u.user }}{% else
-%}on your behalf{% endif %}
-{% else %}{% if project_autocomplete or selected_project %}Operated by {
+{% if u.user != u.operator %} Operated by {{ u.operator }} {% if
+project_autocomplete or selected_project %} on behalf of {{ u.user }} {% else
+%} on your behalf {% endif %}
+{% else %} {% if project_autocomplete or selected_project %} Operated by {
 { u.user }}
 {% endif %} {% endif %} {{ u.start }}
 {{ u.end }}
 Charged to project {{ u.project }} {% if adj_tool_usage == "enabled" %} {% if
 not adjustment_time_limit or adjustment_time_limit <= u.end %} {% if u.user ==
 u.operator and u.user == user or u.project in pi_projects %} {% include "usage/
 adjustment_request_button.html" with charge=u %} {% endif %} {% endif %} {%
```

## NEMO/templates/usage/usage_base.html

```diff
@@ -1,104 +1,150 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% load static %}
-{% block title %}Usage{% if billing_service %} and billing information{% endif %}{% endblock %}
+{% block title %}
+    Usage
+    {% if billing_service %}and billing information{% endif %}
+{% endblock %}
 {% block extrahead %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block content %}
-	<h1>Usage{% if billing_service %} and billing information{% endif %}
-		<small class="light-grey"> between {{ start_date|date }} and {{ end_date|date }}</small>
-	</h1>
-	<p>
-		This page presents a monthly report of your {{ facility_name }} usage{% if billing_service %} and billing information{% endif %}. Approved adjustments are{% if not billing_service %} not{% endif %} reflected{% if billing_service %} in the billing information data but not{% endif %} in the usage data.
-	</p>
-	<div style="height: 20px"></div>
-	<form class="form-horizontal" role="form">
-		<div class="form-group">
-			<label for="month_list" class="control-label col-sm-2">Select month</label>
-			<div class="col-sm-3 col-md-3 col-lg-2">
-				<select id="month_list" class="form-control" style="margin-right: 5px;text-align-last:center" onchange="set_dates_from_month(this.value)">
-					<option selected></option>
-					{% for month in month_list %}
-						<option>{{ month|date:"F, Y" }}</option>
-					{% endfor %}
-				</select>
-			</div>
-		</div>
-		<div class="form-group">
-			<div class="control-label col-sm-2">
-				<label for="start_date">or from</label>
-			</div>
-			<div class="col-sm-3 col-md-3 col-lg-2">
-				<input type="text" id="start_date" name="start" class="form-control text-center" placeholder="Choose a date" value="{{ start_date.date|input_date_format }}">
-			</div>
-			<div class="control-label col-sm-1 col-sm-1 col-lg-1" style="text-align: center">
-				<label for="end_date">to</label>
-			</div>
-			<div class="col-sm-3 col-md-3 col-lg-2">
-				<input type="text" id="end_date" name="end" class="form-control text-center" placeholder="Choose a date" value="{{ end_date.date|input_date_format }}">
-			</div>
+    <h1>
+        Usage
+        {% if billing_service %}and billing information{% endif %}
+        <small class="light-grey">between {{ start_date|date }} and {{ end_date|date }}</small>
+    </h1>
+    <p>
+        This page presents a monthly report of your {{ facility_name }} usage
+        {% if billing_service %}and billing information{% endif %}
+        . Approved adjustments are
+        {% if not billing_service %}not{% endif %}
+        reflected
+        {% if billing_service %}in the billing information data but not{% endif %}
+        in the usage data.
+    </p>
+    <div style="height: 20px"></div>
+    <form class="form-horizontal" role="form">
+        <div class="form-group">
+            <label for="month_list" class="control-label col-sm-2">Select month</label>
+            <div class="col-sm-3 col-md-3 col-lg-2">
+                <select id="month_list"
+                        class="form-control"
+                        style="margin-right: 5px;
+                               text-align-last:center"
+                        onchange="set_dates_from_month(this.value)">
+                    <option selected></option>
+                    {% for month in month_list %}<option>{{ month|date:"F, Y" }}</option>{% endfor %}
+                </select>
+            </div>
+        </div>
+        <div class="form-group">
+            <div class="control-label col-sm-2">
+                <label for="start_date">or from</label>
+            </div>
+            <div class="col-sm-3 col-md-3 col-lg-2">
+                <input type="text"
+                       id="start_date"
+                       name="start"
+                       class="form-control text-center"
+                       placeholder="Choose a date"
+                       value="{{ start_date.date|input_date_format }}">
+            </div>
+            <div class="control-label col-sm-1 col-sm-1 col-lg-1" style="text-align: center">
+                <label for="end_date">to</label>
+            </div>
+            <div class="col-sm-3 col-md-3 col-lg-2">
+                <input type="text"
+                       id="end_date"
+                       name="end"
+                       class="form-control text-center"
+                       placeholder="Choose a date"
+                       value="{{ end_date.date|input_date_format }}">
+            </div>
             {% if pi_projects %}
+            </div>
+            <div class="form-group">
+                <div class="control-label col-sm-2">
+                    <label for="pi_project">Managed project</label>
                 </div>
-                <div class="form-group">
-                    <div class="control-label col-sm-2">
-                        <label for="pi_project">Managed project</label>
-                    </div>
-                    <div class="col-sm-3 col-md-3 col-lg-2">
-                        <select {% if show_only_my_usage %}disabled{% endif %} name="pi_project" id="pi_project" class="form-control" style="text-align-last:center" title="Select a project you are the PI for to see all usage for that project">
-                            <option selected value="">All</option>
-                            {% for project in pi_projects %}
-                                <option value="{{ project.id }}" {% if selected_project and selected_project.id == project.id %}selected{% endif %}>{{ project.name }}</option>
-                            {% endfor %}
-                        </select>
-                    </div>
-                    <div class="col-sm-3 col-md-3 col-lg-2">
-                        <div class="checkbox">
-                            <input type="hidden" name="show_only_my_usage" value="off">
-                            <label><input type="checkbox" {% if show_only_my_usage %}checked{% endif %} name="show_only_my_usage" value="enabled" onclick="$('#pi_project').attr('disabled', this.checked)">Show only my usage</label>
-                        </div>
+                <div class="col-sm-3 col-md-3 col-lg-2">
+                    <select {% if show_only_my_usage %}disabled{% endif %}
+                            name="pi_project"
+                            id="pi_project"
+                            class="form-control"
+                            style="text-align-last:center"
+                            title="Select a project you are the PI for to see all usage for that project">
+                        <option selected value="">All</option>
+                        {% for project in pi_projects %}
+                            <option value="{{ project.id }}"
+                                    {% if selected_project and selected_project.id == project.id %}selected{% endif %}>
+                                {{ project.name }}
+                            </option>
+                        {% endfor %}
+                    </select>
+                </div>
+                <div class="col-sm-3 col-md-3 col-lg-2">
+                    <div class="checkbox">
+                        <input type="hidden" name="show_only_my_usage" value="off">
+                        <label>
+                            <input type="checkbox"
+                                   {% if show_only_my_usage %}checked{% endif %}
+                                   name="show_only_my_usage"
+                                   value="enabled"
+                                   onclick="$('#pi_project').attr('disabled', this.checked)">
+                            Show only my usage
+                        </label>
                     </div>
+                </div>
             {% endif %}
-			{% if user.active_projects %}
+            {% if user.active_projects %}
+            </div>
+            <div class="form-group">
+                <div class="control-label col-sm-2">
+                    <label for="project">Project</label>
+                </div>
+                <div class="col-sm-3 col-md-3 col-lg-2">
+                    <select name="project"
+                            id="project"
+                            class="form-control"
+                            style="text-align-last:center"
+                            title="Select a project to see usage for only that project">
+                        <option selected value="">All</option>
+                        {% for project in user.active_projects %}
+                            <option value="{{ project.id }}"
+                                    {% if selected_user_project and selected_user_project.id == project.id %}selected{% endif %}>
+                                {{ project.name }}
+                            </option>
+                        {% endfor %}
+                    </select>
                 </div>
-                <div class="form-group">
-                    <div class="control-label col-sm-2">
-                        <label for="project">Project</label>
-                    </div>
-                    <div class="col-sm-3 col-md-3 col-lg-2">
-                        <select name="project" id="project" class="form-control" style="text-align-last:center" title="Select a project to see usage for only that project">
-                            <option selected value="">All</option>
-                            {% for project in user.active_projects %}
-                                <option value="{{ project.id }}" {% if selected_user_project and selected_user_project.id == project.id %}selected{% endif %}>{{ project.name }}</option>
-                            {% endfor %}
-                        </select>
-                    </div>
             {% endif %}
-			{% if not project_autocomplete %}
-				<div class="hidden-lg hidden-md {% if user.active_projects or pi_projects %}hidden-sm{% else %}col-sm-12{% endif %}">&nbsp;</div>
-				<div class="col-sm-4 col-lg-3 {% if user.active_projects or pi_projects %}text-right{% else %}col-md-3{% endif %}">
+            {% if not project_autocomplete %}
+                <div class="hidden-lg hidden-md {% if user.active_projects or pi_projects %}hidden-sm{% else %}col-sm-12{% endif %}">
+                    &nbsp;
+                </div>
+                <div class="col-sm-4 col-lg-3 {% if user.active_projects or pi_projects %}text-right{% else %}col-md-3{% endif %}">
                     {% button type="save" submit=False onclick="$('#csv_export').val('');this.form.submit();" value="Update" icon="glyphicon-refresh" %}
                     <input id="csv_export" type="hidden" name="csv" value="">
                     {% if not billing_service %}
                         {% button style="margin-left: 15px" type="export" onclick="$('#csv_export').val('true');this.form.submit();" value="Export" %}
                     {% else %}
                         {% url "billing" as billing_url %}
                         {% if billing_url not in request.path %}
                             {% button style="margin-left: 15px" type="export" onclick="$('#csv_export').val('true');this.form.submit();" value="Export" %}
                         {% endif %}
                     {% endif %}
-				</div>
-			{% endif %}
-		</div>
-		<input id="type" name="type" type="hidden" value="{{ kind|default:'' }}"/>
-		<input id="id" name="id" type="hidden" value="{{ identifier|default:'' }}"/>
-
-		<script>
+                </div>
+            {% endif %}
+        </div>
+        <input id="type" name="type" type="hidden" value="{{ kind|default:'' }}" />
+        <input id="id" name="id" type="hidden" value="{{ identifier|default:'' }}" />
+        <script>
             const js_date_format = "{{ date_input_js_format }}";
 
 			let start_date_jq = $('#start_date');
 			let end_date_jq = $('#end_date');
 			start_date_jq.datetimepicker({format: js_date_format});
 			end_date_jq.datetimepicker({format: js_date_format});
 
@@ -131,54 +177,56 @@
 					{
 					    let month = start.format("MMMM, YYYY");
 						$('#month_list').val(month)
 					}
 				}
 			}
 			$(set_dropdown_selected());
-		</script>
 
-		{% if project_autocomplete %}
-			<div class="form-group">
-				<label class="control-label col-sm-2" for="search"><strong>For</strong></label>
-				<div class="col-sm-7 col-md-7 col-lg-5" id="search_container">
-					<input id="search" type="text" class="form-control" style="width: 100%" autofocus {% if selection %}placeholder="{{ selection }}" {% else %}placeholder="Search for an account, project, application or user"{% endif %}>
-				</div>
-				<div class="hidden-lg hidden-md hidden-sm">&nbsp;</div>
-				<div class="col-md-3">
+        </script>
+        {% if project_autocomplete %}
+            <div class="form-group">
+                <label class="control-label col-sm-2" for="search">For</label>
+                <div class="col-sm-7 col-md-7 col-lg-5" id="search_container">
+                    <input id="search"
+                           type="text"
+                           class="form-control"
+                           style="width: 100%"
+                           autofocus
+                           {% if selection %}placeholder="{{ selection }}" {% else %}placeholder="Search for an account, project, application or user"{% endif %}>
+                </div>
+                <div class="hidden-lg hidden-md hidden-sm">&nbsp;</div>
+                <div class="col-md-3">
                     {% button type="save" submit=False onclick="$('#csv_export').val('');this.form.submit();" value="Update" icon="glyphicon-refresh" %}
                     {% if can_export %}
                         <input id="csv_export" type="hidden" name="csv" value="">
                         {% button style="margin-left: 15px" type="export" onclick="$('#csv_export').val('true');this.form.submit();" value="Export" %}
                     {% endif %}
-				</div>
-			</div>
-			<script>
+                </div>
+            </div>
+            <script>
 				function get_search_item(jquery_event, search_selection)
 				{
 					$('#type').val(search_selection.type);
 					$('#id').val(search_selection.id);
 				}
 				function on_load()
 				{
 					$('#search').autocomplete('accounts_and_projects_for_usage', get_search_item, {% json_search_base_with_extra_fields search_items %});
 				}
 				$(on_load);
-			</script>
 
-			<style>
+            </script>
+            <style>
 				#search_container .tt-dropdown-menu
 				{
 					min-width: 400px;
 					max-height: 600px;
 				}
-			</style>
-
-		{% endif %}
 
-	</form>
-
-	<div style="height: 5px; border-top: 1px dotted #eee"></div>
-	{% if not project_autocomplete or project_autocomplete and selection %}
-		{% block usage_content %}{% endblock %}
-	{% endif %}
-{% endblock %}
+            </style>
+        {% endif %}
+    </form>
+    <div style="height: 5px; border-top: 1px dotted #eee"></div>
+    {% block usage_content %}
+    {% endblock %}
+{% endblock %}
```

### html2text {}

```diff
@@ -1,18 +1,18 @@
 {% extends 'base.html' %} {% load custom_tags_and_filters %} {% load static %}
-{% block title %}Usage{% if billing_service %} and billing information{% endif
-%}{% endblock %} {% block extrahead %}
+{% block title %} Usage {% if billing_service %}and billing information{% endif
+%} {% endblock %} {% block extrahead %}
 }">
-}"/> {% endblock %} {% block content %}
-************ UUssaaggee{{%% iiff bbiilllliinngg__sseerrvviiccee %%}} aanndd bbiilllliinngg iinnffoorrmmaattiioonn{{%% eennddiiff %%}} bbeettwweeeenn
+}" /> {% endblock %} {% block content %}
+************ UUssaaggee {{%% iiff bbiilllliinngg__sseerrvviiccee %%}}aanndd bbiilllliinngg iinnffoorrmmaattiioonn{{%% eennddiiff %%}} bbeettwweeeenn
 {{{{ ssttaarrtt__ddaattee||ddaattee }}}} aanndd {{{{ eenndd__ddaattee||ddaattee }}}} ************
-This page presents a monthly report of your {{ facility_name }} usage{% if
-billing_service %} and billing information{% endif %}. Approved adjustments are
-{% if not billing_service %} not{% endif %} reflected{% if billing_service %}
-in the billing information data but not{% endif %} in the usage data.
+This page presents a monthly report of your {{ facility_name }} usage {% if
+billing_service %}and billing information{% endif %} . Approved adjustments are
+{% if not billing_service %}not{% endif %} reflected {% if billing_service %}in
+the billing information data but not{% endif %} in the usage data.
 Select month
 {% for month in month_list %}
 {{ month|date:"F, Y" }}
 {% endfor %}
 or from
 [{{ start_date.date|input_date_format }}]
 to
@@ -21,40 +21,39 @@
 Managed project
 % if show_only_my_usage %}disabled{% endif %} name="pi_project" id="pi_project"
 class="form-control" style="text-align-last:center" title="Select a project you
 are the PI for to see all usage for that project">
 All
 {% for project in pi_projects %}
 % if selected_project and selected_project.id == project.id %}selected{% endif
-%}>{{ project.name }}
+%}> {{ project.name }}
 {% endfor %}
 % if show_only_my_usage %}checked{% endif %} name="show_only_my_usage"
-value="enabled" onclick="$('#pi_project').attr('disabled', this.checked)">Show
+value="enabled" onclick="$('#pi_project').attr('disabled', this.checked)"> Show
 only my usage
 {% endif %} {% if user.active_projects %}
 Project
 {% for project in user.active_projects %}
 % if selected_user_project and selected_user_project.id == project.id
-%}selected{% endif %}>{{ project.name }}
+%}selected{% endif %}> {{ project.name }}
 {% endfor %}
 {% endif %} {% if not project_autocomplete %}
  
 {% button type="save" submit=False onclick="$('#csv_export').val
 ('');this.form.submit();" value="Update" icon="glyphicon-refresh" %} {% if not
 billing_service %} {% button style="margin-left: 15px" type="export" onclick="$
 ('#csv_export').val('true');this.form.submit();" value="Export" %} {% else %}
 {% url "billing" as billing_url %} {% if billing_url not in request.path %} {%
 button style="margin-left: 15px" type="export" onclick="$('#csv_export').val
 ('true');this.form.submit();" value="Export" %} {% endif %} {% endif %}
 {% endif %}
 {% if project_autocomplete %}
-FFoorr
+For
 }placeholder="{{ selection }}" {% else %}placeholder="Search for an account,
 project, application or user"{% endif %}>
  
 {% button type="save" submit=False onclick="$('#csv_export').val
 ('');this.form.submit();" value="Update" icon="glyphicon-refresh" %} {% if
 can_export %} {% button style="margin-left: 15px" type="export" onclick="$
 ('#csv_export').val('true');this.form.submit();" value="Export" %} {% endif %}
 {% endif %}
-{% if not project_autocomplete or project_autocomplete and selection %} {%
-block usage_content %}{% endblock %} {% endif %} {% endblock %}
+{% block usage_content %} {% endblock %} {% endblock %}
```

## NEMO/templates/users/create_or_modify_user.html

```diff
@@ -1,402 +1,532 @@
 {% extends 'users/users.html' %}
 {% load custom_tags_and_filters %}
 {% load mptt_tags %}
-{% block title %}{% if form.instance.id %}Modify user{% else %}New user{% endif %}{% endblock %}
+{% block title %}
+    {% if form.instance.id %}
+        Modify user
+    {% else %}
+        New user
+    {% endif %}
+{% endblock %}
 {% block extrahead %}
-	{% load static %}
-	<script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
-	<link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}"/>
+    {% load static %}
+    <script type="text/javascript" src="{% static "datetimepicker/bootstrap-datetimepicker.js" %}"></script>
+    <link rel="stylesheet" type="text/css" href="{% static "datetimepicker/bootstrap-datetimepicker.css" %}" />
 {% endblock %}
 {% block before_pagination %}
     {% if form.instance.id %}{{ block.super }}{% endif %}
 {% endblock %}
 {% block table_empty_content %}
     {% if form.instance.id %}
         <div class="row col-sm-12" style="margin-bottom: 25px">
             <div class="col-sm-6" style="border-top: 1px solid #ddd;"></div>
         </div>
     {% endif %}
     <div class="row col-sm-12">
-    {% if form.errors %}
-        <div class="col-sm-6 alert alert-danger">
-            Oops! Something went wrong. Please correct the errors highlighted below.<br>
-            {{ form.non_field_errors }}
-        </div>
-    {% endif %}
-    {% if warning %}
-        <div class="col-sm-6 alert alert-warning">
-            {{ warning }}
-        </div>
-    {% endif %}
+        {% if form.errors %}
+            <div class="col-sm-6 alert alert-danger">
+                Oops! Something went wrong. Please correct the errors highlighted below.
+                <br>
+                {{ form.non_field_errors }}
+            </div>
+        {% endif %}
+        {% if warning %}<div class="col-sm-6 alert alert-warning">{{ warning }}</div>{% endif %}
     </div>
-	<div class="h1 row" style="margin-bottom: 25px">
+    <div class="h1 row" style="margin-bottom: 25px">
         {% url 'history' 'user' form.instance.id as user_history_url %}
-        {% if form.instance.id %}<div class="col-xs-6 col-sm-4" style="padding-right: 0">{% if readonly %}View{% else %}Modify{% endif %} user</div><div class="col-sm-2 text-right" style="padding-left: 0">{% button type="info" icon="glyphicon-list" value="View user history" url=user_history_url %}</div>{% else %}<div class="col-sm-6">New user</div>{% endif %}
+        {% if form.instance.id %}
+            <div class="col-xs-6 col-sm-4" style="padding-right: 0">
+                {% if readonly %}
+                    View
+                {% else %}
+                    Modify
+                {% endif %}
+                user
+            </div>
+            <div class="col-sm-2 text-right" style="padding-left: 0">
+                {% button type="info" icon="glyphicon-list" value="View user history" url=user_history_url %}
+            </div>
+        {% else %}
+            <div class="col-sm-6">New user</div>
+        {% endif %}
     </div>
-	<form id="user_form" class="form-horizontal" enctype="multipart/form-data" method="post" action="{% if form.instance.id %}{% url 'create_or_modify_user' form.instance.id %}{% else %}{% url 'create_or_modify_user' 'new' %}{% endif %}?next={{ request.GET.next|default:''|urlencode }}">
-		{% csrf_token %}
-		{% if form.instance.id %}<input type="hidden" value="{{ form.instance.id }}" name="user_id">{% endif %}
-		<div class="form-group">
-			<label class="control-label col-sm-2" for="first_name"><strong>First name</strong></label>
-			<div class="col-sm-4">
-				<input id="first_name" name="first_name" type="text" autocomplete="off" class="form-control" value="{{ form.first_name.value|default_if_none:"" }}" autofocus required>
-			</div>
-			{% if form.first_name.errors %}
-				<div class="col-sm-6 form-control-static danger-highlight">
-					{{ form.first_name.errors|striptags }}
-				</div>
-			{% endif %}
-		</div>
-		<div class="form-group">
-			<label class="control-label col-sm-2" for="last_name"><strong>Last name</strong></label>
-			<div class="col-sm-4">
-				<input id="last_name" name="last_name" type="text" autocomplete="off" class="form-control" value="{{ form.last_name.value|default_if_none:"" }}" required>
-			</div>
-			{% if form.last_name.errors %}
-				<div class="col-sm-6 form-control-static danger-highlight">
-					{{ form.last_name.errors|striptags }}
-				</div>
-			{% endif %}
-		</div>
-		<div class="form-group">
-			<label class="control-label col-sm-2" for="username"><strong>Username</strong></label>
-			<div class="col-sm-4">
-				<input id="username" name="username" type="text" autocomplete="off" class="form-control" value="{{ form.username.value|default_if_none:"" }}" required>
-			</div>
-			{% if form.username.errors %}
-				<div class="col-sm-6 form-control-static danger-highlight">
-					{{ form.username.errors|striptags }}
-				</div>
-			{% endif %}
-		</div>
-		<div class="form-group">
-			<label class="control-label col-sm-2" for="email"><strong>E-mail address</strong></label>
-			<div class="col-sm-4">
-				<input id="email" name="email" type="text" autocomplete="off" class="form-control" value="{{ form.email.value|default_if_none:"" }}">
-			</div>
-			{% if form.email.errors %}
-				<div class="col-sm-6 form-control-static danger-highlight">
-					{{ form.email.errors|striptags }}
-				</div>
-			{% endif %}
-		</div>
-		{% if form.fields.type.choices.queryset %}
-			<div class="form-group">
-				<label class="control-label col-sm-2" for="type">Type</label>
-				<div class="col-sm-4">
-					<select id="type" name="type" class="form-control">
-						{% for t in form.fields.type.choices %}
-							<option value="{{ t.0 }}" {% if t.0 == form.type.value|to_int %}selected{% endif %}>{{ t.1 }}</option>
-						{% endfor %}
-					</select>
-				</div>
-			</div>
-		{% endif %}
-		<div class="form-group">
-			<label class="control-label col-sm-2" for="badge_number">Badge number</label>
-			<div class="col-sm-4">
-				<input id="badge_number" name="badge_number" autocomplete="off" type="text" class="form-control" value="{{ form.badge_number.value|default_if_none:"" }}">
-			</div>
-			{% if form.badge_number.errors %}
-				<div class="col-sm-6 form-control-static danger-highlight">
-					{{ form.badge_number.errors|striptags }}
-				</div>
-			{% endif %}
-		</div>
+    <form id="user_form"
+          class="form-horizontal"
+          enctype="multipart/form-data"
+          method="post"
+          action="{% if form.instance.id %}{% url 'create_or_modify_user' form.instance.id %}{% else %}{% url 'create_or_modify_user' 'new' %}{% endif %}?next={{ request.GET.next|default:''|urlencode }}">
+        {% csrf_token %}
+        {% if form.instance.id %}<input type="hidden" value="{{ form.instance.id }}" name="user_id">{% endif %}
+        <div class="form-group">
+            <label class="control-label col-sm-2" for="first_name">
+                <strong>First name</strong>
+            </label>
+            <div class="col-sm-4">
+                <input id="first_name"
+                       name="first_name"
+                       type="text"
+                       autocomplete="off"
+                       class="form-control"
+                       value="{{ form.first_name.value|default_if_none:"" }}"
+                       autofocus
+                       required>
+            </div>
+            {% if form.first_name.errors %}
+                <div class="col-sm-6 form-control-static danger-highlight">{{ form.first_name.errors|striptags }}</div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="control-label col-sm-2" for="last_name">
+                <strong>Last name</strong>
+            </label>
+            <div class="col-sm-4">
+                <input id="last_name"
+                       name="last_name"
+                       type="text"
+                       autocomplete="off"
+                       class="form-control"
+                       value="{{ form.last_name.value|default_if_none:"" }}"
+                       required>
+            </div>
+            {% if form.last_name.errors %}
+                <div class="col-sm-6 form-control-static danger-highlight">{{ form.last_name.errors|striptags }}</div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="control-label col-sm-2" for="username">
+                <strong>Username</strong>
+            </label>
+            <div class="col-sm-4">
+                <input id="username"
+                       name="username"
+                       type="text"
+                       autocomplete="off"
+                       class="form-control"
+                       value="{{ form.username.value|default_if_none:"" }}"
+                       required>
+            </div>
+            {% if form.username.errors %}
+                <div class="col-sm-6 form-control-static danger-highlight">{{ form.username.errors|striptags }}</div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="control-label col-sm-2" for="email">
+                <strong>E-mail address</strong>
+            </label>
+            <div class="col-sm-4">
+                <input id="email"
+                       name="email"
+                       type="text"
+                       autocomplete="off"
+                       class="form-control"
+                       value="{{ form.email.value|default_if_none:"" }}">
+            </div>
+            {% if form.email.errors %}
+                <div class="col-sm-6 form-control-static danger-highlight">{{ form.email.errors|striptags }}</div>
+            {% endif %}
+        </div>
+        {% if form.fields.type.choices.queryset %}
+            <div class="form-group">
+                <label class="control-label col-sm-2" for="type">Type</label>
+                <div class="col-sm-4">
+                    <select id="type" name="type" class="form-control">
+                        {% for t in form.fields.type.choices %}
+                            <option value="{{ t.0 }}" {% if t.0 == form.type.value|to_int %}selected{% endif %}>{{ t.1 }}</option>
+                        {% endfor %}
+                    </select>
+                </div>
+            </div>
+        {% endif %}
+        <div class="form-group">
+            <label class="control-label col-sm-2" for="badge_number">Badge number</label>
+            <div class="col-sm-4">
+                <input id="badge_number"
+                       name="badge_number"
+                       autocomplete="off"
+                       type="text"
+                       class="form-control"
+                       value="{{ form.badge_number.value|default_if_none:"" }}">
+            </div>
+            {% if form.badge_number.errors %}
+                <div class="col-sm-6 form-control-static danger-highlight">{{ form.badge_number.errors|striptags }}</div>
+            {% endif %}
+        </div>
         <div class="form-group">
             <label class="control-label col-sm-2" for="notes">Notes</label>
-			<div class="col-sm-4">
-				<textarea oninput="auto_size_textarea(this);" id="notes" name="notes" class="form-control">{{ form.notes.value|default_if_none:"" }}</textarea>
-			</div>
-        </div>
-		<div class="form-group">
-			<label class="control-label col-sm-2" for="access_expiration">Access expiration</label>
-			<div class="col-sm-2">
-				<input id="access_expiration" name="access_expiration" type="text" autocomplete="off" class="form-control" value="{{ form.access_expiration.value|input_date_format }}">
-			</div>
-			<div class="control-label col-sm-2" style="text-align:left">
-				{% if not readonly %}<a href="javascript:void(0)" onclick="$('#access_expiration').val('{{ one_year_from_now|input_date_format }}')">One year from now</a>{% endif %}
-			</div>
-			{% if form.access_expiration.errors %}
-				<div class="col-sm-6 form-control-static danger-highlight">
-					{{ form.access_expiration.errors|striptags }}
-				</div>
-			{% endif %}
-		</div>
-		<div class="form-group">
-			<div class="col-sm-offset-2 {% if not readonly and form.instance.id and form.is_active.value %}col-sm-2{% else %}col-sm-10{% endif %}">
-				<div class="checkbox">
-					<label {% if form.instance.id and form.is_active.value %}data-toggle="tooltip" data-placement="left" title="Pro-tip: you can safely deactivate this user using the link on the right so that no future costs are incurred (such as missed reservations)."{% endif %}>
-						<input id="is_active" name="is_active" type="checkbox" {% if form.is_active.value %}checked{% endif %}> Active
-					</label>
-				</div>
-			</div>
-			{% if not readonly and form.instance.id and form.is_active.value %}
-				<div class="control-label col-sm-8" style="text-align: left">
-					<a href="{% url 'deactivate_user' form.instance.id %}">Safely deactivate this user</a>
-				</div>
-			{% endif %}
-			<div class="col-sm-offset-2 col-sm-4">
-				<div class="checkbox">
-					<label><input id="is_service_personnel" name="is_service_personnel" type="checkbox" {% if form.is_service_personnel.value %}checked{% endif %}> Service personnel</label><br>
-					<label><input id="training_required" name="training_required" type="checkbox" {% if form.training_required.value %}checked{% endif %}> Facility rules tutorial required</label>
-				</div>
-			</div>
-		</div>
-		{% if form.instance.id %}
-			<div class="form-group">
-				<div class="control-label col-sm-2">Date joined</div>
-				<div class="col-sm-4 form-control-static">{{ form.instance.date_joined }}</div>
-			</div>
-			<div class="form-group">
-				<div class="control-label col-sm-2">Last login</div>
-				<div class="col-sm-4 form-control-static">
-					{{ form.instance.last_login|default_if_none:"Never" }}
-				</div>
-			</div>
-		{% endif %}
-		<div class="form-group" style="margin-left:0">
-			{% if identity_service_domains|length == 1 %}
-				<div class="row">
-					<label class="control-label col-sm-2">Domain</label>
-					<div class="col-sm-4 form-control-static">{{ identity_service_domains.0 }}</div>
-					<input type="hidden" name="domain" value="{{ identity_service_domains.0 }}">
-				</div>
-			{% elif identity_service_domains|length > 1 %}
-				<div class="row">
-					<label class="control-label col-sm-2"><strong>Domain</strong></label>
-					<div class="col-sm-4">
-						{% for d in identity_service_domains %}
-							<div class="radio">
-								<label><input type="radio" name="domain" value="{{ d }}" {% if form.instance.domain == d %}checked{% endif %} required> {{ d }}</label>
-							</div>
-						{% endfor %}
-					</div>
-				</div>
-			{% endif %}
-		</div>
-		<div class="form-group">
-			<label class="control-label col-sm-2" for="add_a_project">Projects</label>
-			{% if not readonly %}<div class="col-sm-4">
-				<input id="add_a_project" type="text" autocomplete="off" class="form-control" placeholder="Add a project">
-			</div>
-		</div>
-		<div class="form-group">
-            {% endif %}
-			<div id="project-list" class="{% if not readonly %}col-sm-offset-2{% endif %} col-sm-8" {% if readonly %}style="padding-top: 7px"{% endif %}>
-				This user has no assigned projects.
-			</div>
-		</div>
-		<div class="form-group">
-			<label class="control-label col-sm-2" for="add_a_tool_qualification">Tool qualifications</label>
-			{% if not readonly %}
-				{% if qualification_levels %}
-					<div class="col-sm-3">
-						<select id="qualification_level" class="form-control" aria-label="Select a qualification level">
-							<option value="">Select a qualification level</option>
-							{% for ql in qualification_levels %}
-								<option value="{{ ql.id }}">{{ ql.name }}</option>
-							{% endfor %}
-						</select>
-					</div>
-				{% endif %}
-				<div class="{% if qualification_levels %}col-sm-3{% else %}col-sm-4{% endif %}">
-					<input id="add_a_tool_qualification" type="text" autocomplete="off" class="form-control" placeholder="Select a tool and add a qualification" {% if qualification_levels %}disabled{% endif %}>
-				</div>
-		</div>
-		<div class="form-group">
-			{% endif %}
-			<div id="qualification-list" class="{% if not readonly %}col-sm-offset-2{% endif %} col-sm-8" {% if readonly %}style="padding-top: 7px" {% endif %}>
-				{% if qualifications %}
-					{% for qualification in qualifications %}
-						<p>{{ qualification.tool.name }}{% if qualification.qualification_level %} ({ qualification.qualification_level.name }}){% endif %}</p>
-					{% endfor %}
-				{% else %}
-					<p>This user is not qualified to use any tools.</p>
-				{% endif %}
-			</div>
-		</div>
-		{% if area_access_levels or externally_managed_physical_access_levels %}
-			<div class="form-group">
-				<span class="control-label col-sm-2">Physical access levels</span>
-				<div class="col-sm-8">
-					{% if area_access_levels %}
-						<div class="panel panel-info">
-							<div class="panel-heading">
-								<span class="panel-title" style="font-size:inherit">Tablet controlled</span>
-							</div>
-							<div class="panel-body">
-								<p style="font-style: italic"><span class="glyphicon glyphicon-info-sign primary-highlight"></span> Selecting a parent area access will give access to all sub-areas</p>
-								<ul class="login-tree area-tree-root area-tree-list" style="padding-left: 0;margin-top: 10px">
-									{% if form.instance.id %}
-										{# unfortunately have to duplicate some code here #}
-										{% with checked_access_levels=form.instance.accessible_access_levels %}
-											{% recursetree area_access_levels %}
-												{% if node.is_leaf_node %}
-													<li class="area-tree-leaf">
-												{% else %}
-													<li class="area-tree-node">
-														<a onclick="toggle_details(this)" data-toggle="collapse" aria-expanded="true" data-target="#area-{{ node.id }}">
-															<span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-												{% endif %}
-													{% if not area_access_dict|get_item:node.id %}
-															<span class="media-heading">{{ node.name }}</span>
-														</a>
-													{% else %}
-														</a>
-													{% endif %}
-													{% for level in area_access_dict|get_item:node.id %}
-														<div class="checkbox" {% if not node.is_leaf_node %}style="display: inline-block;margin-left: -3px"{% endif %}>
-															<label><input name="physical_access_levels" type="checkbox" {% if form.instance.is_staff and level.allow_staff_access or form.instance.is_user_office and level.allow_staff_access %}disabled title="This access is automatically granted to staff users"{% endif %} value="{{ level.id }}" {% if level in checked_access_levels %}checked{% endif %}>{% if node.category %}({{ node.category }}) {% endif %}{{ level }}</label>
-														</div>
-													{% endfor %}
-													{% if not node.is_leaf_node %}
-														<ul class="area-tree-list collapse in" aria-expanded="true" id="area-{{ node.id }}">
-															{{ children }}
-														</ul>
-													{% endif %}
-												</li>
-											{% endrecursetree %}
-										{% endwith %}
-									{% else %}
-										{% recursetree area_access_levels %}
-											{% if node.is_leaf_node %}
-												<li class="area-tree-leaf">
-											{% else %}
-												<li class="area-tree-node">
-													<a onclick="toggle_details(this)" data-toggle="collapse" aria-expanded="true" data-target="#area-{{ node.id }}">
-														<span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
-											{% endif %}
-												{% if not area_access_dict|get_item:node.id %}
-														<span class="media-heading">{{ node.name }}</span>
-													</a>
-												{% else %}
-													</a>
-												{% endif %}
-												{% for level in area_access_dict|get_item:node.id %}
-													<div class="checkbox" {% if not node.is_leaf_node %}style="display: inline-block;margin-left: -3px"{% endif %}>
-														<label><input name="physical_access_levels" type="checkbox" value="{{ level.id }}">{% if node.category %}({{ node.category }}) {% endif %}{{ level }}</label>
-													</div>
-												{% endfor %}
-												{% if not node.is_leaf_node %}
-													<ul class="area-tree-list collapse in" aria-expanded="true" id="area-{{ node.id }}">
-														{{ children }}
-													</ul>
-												{% endif %}
-											</li>
-										{% endrecursetree %}
-									{% endif %}
-								</ul>
-							</div>
-						</div>
-					{% endif %}
-					{% if externally_managed_physical_access_levels %}
-						<div class="panel panel-success">
-							<div class="panel-heading">
-								<span class="panel-title" style="font-size:inherit">Badge-reader controlled</span>
-							</div>
-							<div class="panel-body">
-								{% for level in externally_managed_physical_access_levels %}
-									<div class="checkbox">
-										<label><input name="externally_managed_access_levels" type="checkbox" {% if level in user_identity_information.area_access %}checked{% endif %} value="{{ level }}"> {{ level }}</label>
-									</div>
-								{% endfor %}
-							</div>
-						</div>
-					{% endif %}
-				</div>
-			</div>
-		{% endif %}
-		{% if form.fields.safety_trainings.choices.queryset %}
-			<div class="form-group">
-				<span class="control-label col-sm-2">Safety training</span>
-				<div class="col-sm-8">
-					<div class="panel panel-default">
-						<div class="panel-heading">
-							<span class="panel-title" style="font-size:inherit">Safety training</span>
-						</div>
-						<div class="panel-body">
-							{% for safety_training_id, safety_training_name in form.fields.safety_trainings.choices %}
-								<div class="checkbox">
-									<label><input name="safety_trainings" type="checkbox" {% if safety_training_id in form.safety_trainings.value %}checked{% endif %} value="{{ safety_training_id }}"> {{ safety_training_name }}</label>
-								</div>
-							{% endfor %}
-						</div>
-					</div>
-				</div>
-			</div>
-		{% endif %}
-		{% if form.fields.onboarding_phases.choices.queryset %}
-			<div class="form-group">
-				<span class="control-label col-sm-2">Onboarding phases</span>
-				<div class="col-sm-8">
-					<div class="panel panel-default">
-						<div class="panel-heading">
-							<span class="panel-title" style="font-size:inherit">Onboarding phases</span>
-						</div>
-						<div class="panel-body">
-							{% for onboarding_phase_id, onboarding_phase_name in form.fields.onboarding_phases.choices %}
-								<div class="checkbox">
-									<label><input name="onboarding_phases" type="checkbox" {% if onboarding_phase_id in form.onboarding_phases.value %}checked{% endif %} value="{{ onboarding_phase_id }}"> {{ onboarding_phase_name }}</label>
-								</div>
-							{% endfor %}
-						</div>
-					</div>
-				</div>
-			</div>
-		{% endif %}
-		{% if form.instance.user_documents.all or allow_document_upload %}
-			<div class="form-group">
-				<span class="control-label col-sm-2">Documents</span>
-				<div class="col-sm-10">
-					{% for d in form.instance.user_documents.all %}
-						<div id="document_{{ d.id }}">{% if not readonly %}<a href="javascript:mark_document_for_removal('{{ d.id }}')" class="grey hover-black" title="Remove {{ d.filename }}"><span class="glyphicon glyphicon-remove-circle"></span></a>{% endif %} <a href="{{ d.document.url }}" target="_blank" style="margin-right: 5px">{{ d.filename }}</a></div>
-					{% empty %}
-                        <div class="form-control-static">This user doesn't have any documents.</div>
-					{% endfor %}
-                    {% if not readonly and allow_document_upload %}
-                        <div style="padding-top: 10px">
-                            <input aria-label="File upload" id="fileupload" type="file" name="user_documents" multiple>
+            <div class="col-sm-4">
+                <textarea oninput="auto_size_textarea(this);" id="notes" name="notes" class="form-control">{{ form.notes.value|default_if_none:"" }}</textarea>
+            </div>
+        </div>
+        <div class="form-group">
+            <label class="control-label col-sm-2" for="access_expiration">Access expiration</label>
+            <div class="col-sm-2">
+                <input id="access_expiration"
+                       name="access_expiration"
+                       type="text"
+                       autocomplete="off"
+                       class="form-control"
+                       value="{{ form.access_expiration.value|input_date_format }}">
+            </div>
+            <div class="control-label col-sm-2" style="text-align:left">
+                {% if not readonly %}
+                    <a href="javascript:void(0)"
+                       onclick="$('#access_expiration').val('{{ one_year_from_now|input_date_format }}')">One year from now</a>
+                {% endif %}
+            </div>
+            {% if form.access_expiration.errors %}
+                <div class="col-sm-6 form-control-static danger-highlight">{{ form.access_expiration.errors|striptags }}</div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <div class="col-sm-offset-2 {% if not readonly and form.instance.id and form.is_active.value %}col-sm-2{% else %}col-sm-10{% endif %}">
+                <div class="checkbox">
+                    <label {% if form.instance.id and form.is_active.value %}data-toggle="tooltip" data-placement="left" title="Pro-tip: you can safely deactivate this user using the link on the right so that no future costs are incurred (such as missed reservations)."{% endif %}>
+                        <input id="is_active" name="is_active" type="checkbox" {% if form.is_active.value %}checked{% endif %}>
+                        Active
+                    </label>
+                </div>
+            </div>
+            {% if not readonly and form.instance.id and form.is_active.value %}
+                <div class="control-label col-sm-8" style="text-align: left">
+                    <a href="{% url 'deactivate_user' form.instance.id %}">Safely deactivate this user</a>
+                </div>
+            {% endif %}
+            <div class="col-sm-offset-2 col-sm-4">
+                <div class="checkbox">
+                    <label>
+                        <input id="is_service_personnel"
+                               name="is_service_personnel"
+                               type="checkbox"
+                               {% if form.is_service_personnel.value %}checked{% endif %}>
+                        Service personnel
+                    </label>
+                    <br>
+                    <label>
+                        <input id="training_required"
+                               name="training_required"
+                               type="checkbox"
+                               {% if form.training_required.value %}checked{% endif %}>
+                        Facility rules tutorial required
+                    </label>
+                </div>
+            </div>
+        </div>
+        {% if form.instance.id %}
+            <div class="form-group">
+                <div class="control-label col-sm-2">Date joined</div>
+                <div class="col-sm-4 form-control-static">{{ form.instance.date_joined }}</div>
+            </div>
+            <div class="form-group">
+                <div class="control-label col-sm-2">Last login</div>
+                <div class="col-sm-4 form-control-static">{{ form.instance.last_login|default_if_none:"Never" }}</div>
+            </div>
+        {% endif %}
+        <div class="form-group" style="margin-left:0">
+            {% if identity_service_domains|length == 1 %}
+                <div class="row">
+                    <label class="control-label col-sm-2">Domain</label>
+                    <div class="col-sm-4 form-control-static">{{ identity_service_domains.0 }}</div>
+                    <input type="hidden" name="domain" value="{{ identity_service_domains.0 }}">
+                </div>
+            {% elif identity_service_domains|length > 1 %}
+                <div class="row">
+                    <label class="control-label col-sm-2">
+                        <strong>Domain</strong>
+                    </label>
+                    <div class="col-sm-4">
+                        {% for d in identity_service_domains %}
+                            <div class="radio">
+                                <label>
+                                    <input type="radio"
+                                           name="domain"
+                                           value="{{ d }}"
+                                           {% if form.instance.domain == d %}checked{% endif %}
+                                           required>
+                                    {{ d }}
+                                </label>
+                            </div>
+                        {% endfor %}
+                    </div>
+                </div>
+            {% endif %}
+        </div>
+        <div class="form-group">
+            <label class="control-label col-sm-2" for="add_a_project">Projects</label>
+            {% if not readonly %}
+                <div class="col-sm-4">
+                    <input id="add_a_project" type="text" autocomplete="off" class="form-control" placeholder="Add a project">
+                </div>
+            </div>
+            <div class="form-group">
+            {% endif %}
+            <div id="project-list"
+                 class="{% if not readonly %}col-sm-offset-2{% endif %} col-sm-8"
+                 {% if readonly %}style="padding-top: 7px"{% endif %}>This user has no assigned projects.</div>
+        </div>
+        <div class="form-group">
+            <label class="control-label col-sm-2" for="add_a_tool_qualification">Tool qualifications</label>
+            {% if not readonly %}
+                {% if qualification_levels %}
+                    <div class="col-sm-3">
+                        <select id="qualification_level" class="form-control" aria-label="Select a qualification level">
+                            <option value="">Select a qualification level</option>
+                            {% for ql in qualification_levels %}<option value="{{ ql.id }}">{{ ql.name }}</option>{% endfor %}
+                        </select>
+                    </div>
+                {% endif %}
+                <div class="{% if qualification_levels %}col-sm-3{% else %}col-sm-4{% endif %}">
+                    <input id="add_a_tool_qualification"
+                           type="text"
+                           autocomplete="off"
+                           class="form-control"
+                           placeholder="Select a tool and add a qualification"
+                           {% if qualification_levels %}disabled{% endif %}>
+                </div>
+            </div>
+            <div class="form-group">
+            {% endif %}
+            <div id="qualification-list"
+                 class="{% if not readonly %}col-sm-offset-2{% endif %} col-sm-8"
+                 {% if readonly %}style="padding-top: 7px"{% endif %}>
+                {% if qualifications %}
+                    {% for qualification in qualifications %}
+                        <p>
+                            {{ qualification.tool.name }}
+                            {% if qualification.qualification_level %}({ qualification.qualification_level.name }}){% endif %}
+                        </p>
+                    {% endfor %}
+                {% else %}
+                    <p>This user is not qualified to use any tools.</p>
+                {% endif %}
+            </div>
+        </div>
+        {% if area_access_levels or externally_managed_physical_access_levels %}
+            <div class="form-group">
+                <span class="control-label col-sm-2">Physical access levels</span>
+                <div class="col-sm-8">
+                    {% if area_access_levels %}
+                        <div class="panel panel-info">
+                            <div class="panel-heading">
+                                <span class="panel-title" style="font-size:inherit">Tablet controlled</span>
+                            </div>
+                            <div class="panel-body">
+                                <p style="font-style: italic">
+                                    <span class="glyphicon glyphicon-info-sign primary-highlight"></span> Selecting a parent area access will give access to all sub-areas
+                                </p>
+                                <ul class="login-tree area-tree-root area-tree-list" style="padding-left: 0;margin-top: 10px">
+                                    {% if form.instance.id %}
+                                        {# unfortunately have to duplicate some code here #}
+                                        {% with checked_access_levels=form.instance.accessible_access_levels %}
+                                            {% recursetree area_access_levels %}
+                                            {% if node.is_leaf_node %}
+                                                <li class="area-tree-leaf">
+                                                {% else %}
+                                                    <li class="area-tree-node">
+                                                        <a onclick="toggle_details(this)"
+                                                           data-toggle="collapse"
+                                                           aria-expanded="true"
+                                                           data-target="#area-{{ node.id }}">
+                                                            <span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+                                                        {% endif %}
+                                                        {% if not area_access_dict|get_item:node.id %}
+                                                            <span class="media-heading">{{ node.name }}</span>
+                                                        </a>
+                                                    {% else %}
+                                                    </a>
+                                                {% endif %}
+                                                {% for level in area_access_dict|get_item:node.id %}
+                                                    <div class="checkbox"
+                                                         {% if not node.is_leaf_node %}style="display: inline-block;margin-left: -3px"{% endif %}>
+                                                        <label>
+                                                            <input name="physical_access_levels"
+                                                                   type="checkbox"
+                                                                   {% if form.instance.is_staff and level.allow_staff_access or form.instance.is_user_office and level.allow_staff_access %}disabled title="This access is automatically granted to staff users"{% endif %}
+                                                                   value="{{ level.id }}"
+                                                                   {% if level in checked_access_levels %}checked{% endif %}>
+                                                            {% if node.category %}({{ node.category }}){% endif %}
+                                                            {{ level }}
+                                                        </label>
+                                                    </div>
+                                                {% endfor %}
+                                                {% if not node.is_leaf_node %}
+                                                    <ul class="area-tree-list collapse in" aria-expanded="true" id="area-{{ node.id }}">
+                                                        {{ children }}
+                                                    </ul>
+                                                {% endif %}
+                                            </li>
+                                        {% endrecursetree %}
+                                    {% endwith %}
+                                {% else %}
+                                    {% recursetree area_access_levels %}
+                                    {% if node.is_leaf_node %}
+                                        <li class="area-tree-leaf">
+                                        {% else %}
+                                            <li class="area-tree-node">
+                                                <a onclick="toggle_details(this)"
+                                                   data-toggle="collapse"
+                                                   aria-expanded="true"
+                                                   data-target="#area-{{ node.id }}">
+                                                    <span class="glyphicon glyphicon-chevron-right pull-left chevron"></span>
+                                                {% endif %}
+                                                {% if not area_access_dict|get_item:node.id %}
+                                                    <span class="media-heading">{{ node.name }}</span>
+                                                </a>
+                                            {% else %}
+                                            </a>
+                                        {% endif %}
+                                        {% for level in area_access_dict|get_item:node.id %}
+                                            <div class="checkbox"
+                                                 {% if not node.is_leaf_node %}style="display: inline-block;margin-left: -3px"{% endif %}>
+                                                <label>
+                                                    <input name="physical_access_levels" type="checkbox" value="{{ level.id }}">
+                                                    {% if node.category %}({{ node.category }}){% endif %}
+                                                    {{ level }}
+                                                </label>
+                                            </div>
+                                        {% endfor %}
+                                        {% if not node.is_leaf_node %}
+                                            <ul class="area-tree-list collapse in" aria-expanded="true" id="area-{{ node.id }}">
+                                                {{ children }}
+                                            </ul>
+                                        {% endif %}
+                                    </li>
+                                {% endrecursetree %}
+                            {% endif %}
+                        </ul>
+                    </div>
+                </div>
+            {% endif %}
+            {% if externally_managed_physical_access_levels %}
+                <div class="panel panel-success">
+                    <div class="panel-heading">
+                        <span class="panel-title" style="font-size:inherit">Badge-reader controlled</span>
+                    </div>
+                    <div class="panel-body">
+                        {% for level in externally_managed_physical_access_levels %}
+                            <div class="checkbox">
+                                <label>
+                                    <input name="externally_managed_access_levels"
+                                           type="checkbox"
+                                           {% if level in user_identity_information.area_access %}checked{% endif %}
+                                           value="{{ level }}">
+                                    {{ level }}
+                                </label>
+                            </div>
+                        {% endfor %}
+                    </div>
+                </div>
+            {% endif %}
+        </div>
+    </div>
+{% endif %}
+{% if form.fields.safety_trainings.choices.queryset %}
+    <div class="form-group">
+        <span class="control-label col-sm-2">Safety training</span>
+        <div class="col-sm-8">
+            <div class="panel panel-default">
+                <div class="panel-heading">
+                    <span class="panel-title" style="font-size:inherit">Safety training</span>
+                </div>
+                <div class="panel-body">
+                    {% for safety_training_id, safety_training_name in form.fields.safety_trainings.choices %}
+                        <div class="checkbox">
+                            <label>
+                                <input name="safety_trainings"
+                                       type="checkbox"
+                                       {% if safety_training_id in form.safety_trainings.value %}checked{% endif %}
+                                       value="{{ safety_training_id }}">
+                                {{ safety_training_name }}
+                            </label>
+                        </div>
+                    {% endfor %}
+                </div>
+            </div>
+        </div>
+    </div>
+{% endif %}
+{% if form.fields.onboarding_phases.choices.queryset %}
+    <div class="form-group">
+        <span class="control-label col-sm-2">Onboarding phases</span>
+        <div class="col-sm-8">
+            <div class="panel panel-default">
+                <div class="panel-heading">
+                    <span class="panel-title" style="font-size:inherit">Onboarding phases</span>
+                </div>
+                <div class="panel-body">
+                    {% for onboarding_phase_id, onboarding_phase_name in form.fields.onboarding_phases.choices %}
+                        <div class="checkbox">
+                            <label>
+                                <input name="onboarding_phases"
+                                       type="checkbox"
+                                       {% if onboarding_phase_id in form.onboarding_phases.value %}checked{% endif %}
+                                       value="{{ onboarding_phase_id }}">
+                                {{ onboarding_phase_name }}
+                            </label>
                         </div>
+                    {% endfor %}
+                </div>
+            </div>
+        </div>
+    </div>
+{% endif %}
+{% if form.instance.user_documents.all or allow_document_upload %}
+    <div class="form-group">
+        <span class="control-label col-sm-2">Documents</span>
+        <div class="col-sm-10">
+            {% for d in form.instance.user_documents.all %}
+                <div id="document_{{ d.id }}">
+                    {% if not readonly %}
+                        <a href="javascript:mark_document_for_removal('{{ d.id }}')"
+                           class="grey hover-black"
+                           title="Remove {{ d.filename }}"><span class="glyphicon glyphicon-remove-circle"></span></a>
                     {% endif %}
-				</div>
-			</div>
-		{% endif %}
-        {% if not readonly %}
+                    <a href="{{ d.document.url }}" target="_blank" style="margin-right: 5px">{{ d.filename }}</a>
+                </div>
+            {% empty %}
+                <div class="form-control-static">This user doesn't have any documents.</div>
+            {% endfor %}
+            {% if not readonly and allow_document_upload %}
+                <div style="padding-top: 10px">
+                    <input aria-label="File upload" id="fileupload" type="file" name="user_documents" multiple>
+                </div>
+            {% endif %}
+        </div>
+    </div>
+{% endif %}
+{% if not readonly %}
+    <div class="form-group">
+        <div class="col-sm-offset-2 col-md-10">
+            {% button type="save" value=form.instance.id|yesno:"Save changes,Create user" %}
+        </div>
+    </div>
+{% endif %}
+</form>
+{% if not readonly and identity_service_available and form.instance.id and user_identity_information.can_reset_password_and_unlock_account %}
+    <form class="form-horizontal" method="post" action="{% url 'reset_password' form.instance.id %}">
+        {% csrf_token %}
+        <div class="form-group">
+            <div class="col-sm-offset-2 col-md-10">
+                {% button type="warn" submit=True icon="glyphicon-repeat" value="Reset password" %}
+            </div>
+        </div>
+    </form>
+    {# Account unlock can only be performed if the account is currently in the locked state. #}
+    {% if user_identity_information.account_locked %}
+        <form class="form-horizontal" method="post" action="{% url 'unlock_account' form.instance.id %}">
+            {% csrf_token %}
             <div class="form-group">
                 <div class="col-sm-offset-2 col-md-10">
-                    {% button type="save" value=form.instance.id|yesno:"Save changes,Create user" %}
+                    {% button type="warn" submit=True icon="glyphicon-lock" value="Unlock account" %}
                 </div>
             </div>
-        {% endif %}
-	</form>
-	{% if not readonly and identity_service_available and form.instance.id and user_identity_information.can_reset_password_and_unlock_account %}
-		<form class="form-horizontal" method="post" action="{% url 'reset_password' form.instance.id %}">
-			{% csrf_token %}
-			<div class="form-group">
-				<div class="col-sm-offset-2 col-md-10">
-                    {% button type="warn" submit=True icon="glyphicon-repeat" value="Reset password" %}
-				</div>
-			</div>
-		</form>
-		{# Account unlock can only be performed if the account is currently in the locked state. #}
-		{% if user_identity_information.account_locked %}
-			<form class="form-horizontal" method="post" action="{% url 'unlock_account' form.instance.id %}">
-				{% csrf_token %}
-				<div class="form-group">
-					<div class="col-sm-offset-2 col-md-10">
-                        {% button type="warn" submit=True icon="glyphicon-lock" value="Unlock account" %}
-					</div>
-				</div>
-			</form>
-		{% endif %}
-	{% endif %}
-
-	<script>
+        </form>
+    {% endif %}
+{% endif %}
+<script>
 		function on_search_selection(jquery_event, search_selection, dataset_name)
 		{
 			$(this).typeahead('val', '').focus();
 			if(dataset_name === 'projects')
 				add_project(search_selection.name, search_selection.id);
 			else if(dataset_name === 'tools')
 				add_tool_qualification(search_selection.name, search_selection.id, true);
@@ -464,9 +594,10 @@
             if ({{ readonly|yesno:"true,false" }})
             {
                 $('#user_form :input[type=text], #user_form textarea').prop('readonly', true).removeClass("form-control").addClass("form-control-plaintext");
                 $('#user_form :input[type=checkbox], #user_form select').prop('disabled', true);
             }
 		}
 		$(on_load);
-	</script>
-{% endblock %}
+
+</script>
+{% endblock %}
```

### html2text {}

```diff
@@ -1,24 +1,24 @@
 {% extends 'users/users.html' %} {% load custom_tags_and_filters %} {% load
-mptt_tags %} {% block title %}{% if form.instance.id %}Modify user{% else %}New
-user{% endif %}{% endblock %} {% block extrahead %} {% load static %}
+mptt_tags %} {% block title %} {% if form.instance.id %} Modify user {% else %}
+New user {% endif %} {% endblock %} {% block extrahead %} {% load static %}
 }">
-}"/> {% endblock %} {% block before_pagination %} {% if form.instance.id %}{
+}" /> {% endblock %} {% block before_pagination %} {% if form.instance.id %}{
 { block.super }}{% endif %} {% endblock %} {% block table_empty_content %} {%
 if form.instance.id %}
 {% endif %}
 {% if form.errors %}
 Oops! Something went wrong. Please correct the errors highlighted below.
 {{ form.non_field_errors }}
 {% endif %} {% if warning %}
 {{ warning }}
 {% endif %}
 {% url 'history' 'user' form.instance.id as user_history_url %} {% if
 form.instance.id %}
-{% if readonly %}View{% else %}Modify{% endif %} user
+{% if readonly %} View {% else %} Modify {% endif %} user
 {% button type="info" icon="glyphicon-list" value="View user history"
 url=user_history_url %}
 {% else %}
 New user
 {% endif %}
 {% csrf_token %} {% if form.instance.id %}{% endif %}
 FFiirrsstt nnaammee
@@ -52,15 +52,15 @@
 {% if form.badge_number.errors %}
 {{ form.badge_number.errors|striptags }}
 {% endif %}
 Notes
 {{ form.notes.value|default_if_none:"" }}
 Access expiration
 [{{ form.access_expiration.value|input_date_format }}]
-{% if not readonly %}_O_n_e_ _y_e_a_r_ _f_r_o_m_ _n_o_w{% endif %}
+{% if not readonly %} _O_n_e_ _y_e_a_r_ _f_r_o_m_ _n_o_w {% endif %}
 {% if form.access_expiration.errors %}
 {{ form.access_expiration.errors|striptags }}
 {% endif %}
 % if form.instance.id and form.is_active.value %}data-toggle="tooltip" data-
 placement="left" title="Pro-tip: you can safely deactivate this user using the
 link on the right so that no future costs are incurred (such as missed
 reservations)."{% endif %}>
@@ -85,26 +85,26 @@
 {% for d in identity_service_domains %}
 % if form.instance.domain == d %}checked{% endif %} required> {{ d }}
 {% endfor %}
 {% endif %}
 Projects {% if not readonly %}
 [                    ]
 {% endif %}
-% if readonly %}style="padding-top: 7px"{% endif %}> This user has no assigned
+% if readonly %}style="padding-top: 7px"{% endif %}>This user has no assigned
 projects.
 Tool qualifications {% if not readonly %} {% if qualification_levels %}
 {% for ql in qualification_levels %}
 {{ ql.name }}
 {% endfor %}
 {% endif %}
 % if qualification_levels %}disabled{% endif %}>
 {% endif %}
-% if readonly %}style="padding-top: 7px" {% endif %}> {% if qualifications %}
-{% for qualification in qualifications %}
-{{ qualification.tool.name }}{% if qualification.qualification_level %} (
+% if readonly %}style="padding-top: 7px"{% endif %}> {% if qualifications %} {%
+for qualification in qualifications %}
+{{ qualification.tool.name }} {% if qualification.qualification_level %}(
 { qualification.qualification_level.name }}){% endif %}
 {% endfor %} {% else %}
 This user is not qualified to use any tools.
 {% endif %}
 {% if area_access_levels or externally_managed_physical_access_levels %}
 Physical access levels
 {% if area_access_levels %}
@@ -119,27 +119,27 @@
       }} {% else %}
 {% endif %} {% for level in area_access_dict|get_item:node.id %}
 % if not node.is_leaf_node %}style="display: inline-block;margin-left: -3px"{%
 endif %}>
 % if form.instance.is_staff and level.allow_staff_access or
 form.instance.is_user_office and level.allow_staff_access %}disabled
 title="This access is automatically granted to staff users"{% endif %} value="{
-{ level.id }}" {% if level in checked_access_levels %}checked{% endif %}>{% if
-node.category %}({{ node.category }}) {% endif %}{{ level }}
+{ level.id }}" {% if level in checked_access_levels %}checked{% endif %}> {% if
+node.category %}({{ node.category }}){% endif %} {{ level }}
 {% endfor %} {% if not node.is_leaf_node %}
     * {{ children }}
 {% endif %}
 {% endrecursetree %} {% endwith %} {% else %} {% recursetree area_access_levels
 %} {% if node.is_leaf_node %}
 {% else %}
 {% endif %} {% if not area_access_dict|get_item:node.id %} {{ node.name }} {%
 else %}
 {% endif %} {% for level in area_access_dict|get_item:node.id %}
 % if not node.is_leaf_node %}style="display: inline-block;margin-left: -3px"{%
-endif %}> ??{% if node.category %}({{ node.category }}) {% endif %}{{ level }}
+endif %}> ??{% if node.category %}({{ node.category }}){% endif %} {{ level }}
 {% endfor %} {% if not node.is_leaf_node %}
     * {{ children }}
 {% endif %}
 {% endrecursetree %} {% endif %}
 {% endif %} {% if externally_managed_physical_access_levels %}
 Badge-reader controlled
 {% for level in externally_managed_physical_access_levels %}
@@ -162,15 +162,15 @@
 form.fields.onboarding_phases.choices %}
 % if onboarding_phase_id in form.onboarding_phases.value %}checked{% endif %}
 value="{{ onboarding_phase_id }}"> {{ onboarding_phase_name }}
 {% endfor %}
 {% endif %} {% if form.instance.user_documents.all or allow_document_upload %}
 Documents
 {% for d in form.instance.user_documents.all %}
-{% if not readonly %}{% endif %} _{_{_ _d_._f_i_l_e_n_a_m_e_ _}_}
+{% if not readonly %} {% endif %} _{_{_ _d_._f_i_l_e_n_a_m_e_ _}_}
 {% empty %}
 This user doesn't have any documents.
 {% endfor %} {% if not readonly and allow_document_upload %}
 [File]
 {% endif %}
 {% endif %} {% if not readonly %}
 {% button type="save" value=form.instance.id|yesno:"Save changes,Create user"
```

## NEMO/templates/users/preferences.html

```diff
@@ -1,195 +1,321 @@
 {% extends 'base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Preferences{% endblock %}
 {% block content %}
-	<h1>User Preferences</h1>
-		<form class="form-horizontal" action="{% url 'user_preferences' %}" method="post">
-			{% csrf_token %}
-			<div class="panel panel-default">
-				<div class="panel-body">
-					<h3 id="reservations_label">Reservations</h3>
-					<div class="form-group col-sm-12" role="group" aria-labelledby="reservations_label">
-						<div class="checkbox">
-							<label><input name="attach_created_reservation" type="checkbox" {% if user_preferences.attach_created_reservation %}checked{% endif %}>Check this box to receive ICS calendar invitation when creating reservation</label>
-							<br><label><input name="attach_cancelled_reservation" type="checkbox" {% if user_preferences.attach_cancelled_reservation %}checked{% endif %}>Check this box to receive ICS calendar invitation when cancelling a reservation</label>
-                            <br><label><input name="create_reservation_confirmation_override" type="checkbox" {% if user_preferences.create_reservation_confirmation_override %}checked{% endif %}>Check this box to {% if "calendar"|customization:"create_reservation_confirmation" == "enabled" %}not be asked to confirm before making a reservation{% else %}be asked to confirm before making a reservation{% endif %}</label>
-                            <br><label><input name="change_reservation_confirmation_override" type="checkbox" {% if user_preferences.change_reservation_confirmation_override %}checked{% endif %}>Check this box to {% if "calendar"|customization:"change_reservation_confirmation" == "enabled" %}not be asked to confirm before moving or resizing a reservation{% else %}be asked to confirm before moving or resizing a reservation{% endif %}</label>
-						</div>
-					</div>
-				</div>
-			</div>
-            <div class="panel panel-default">
-				<div class="panel-body">
-					<h3 id="tool_freed_time_label">Tool freed time notifications</h3>
-					<div class="form-group">
-						<label class="col-xs-6 col-sm-3 col-lg-2 form-control-static" for="tool_freed_time_notifications_min_time">Minimum freed time</label>
-                        <div class="col-xs-6 col-sm-3">
-                            <div class="input-group">
-                                <input type="number" step="15" min="15" id="tool_freed_time_notifications_min_time" name="tool_freed_time_notifications_min_time" class="form-control text-right" value="{{ form.tool_freed_time_notifications_min_time.value }}"/>
-                                <span class="input-group-addon">minutes</span>
-                            </div>
-                        </div>
-                        {% if form.tool_freed_time_notifications_min_time.errors %}
-                            <div class="col-sm-6 form-control-static danger-highlight">
-                                {{ form.tool_freed_time_notifications_min_time.errors|striptags }}
-                            </div>
-                        {% else %}
-                            <div class="col-sm-6 form-control-static">{{ form.tool_freed_time_notifications_min_time.help_text }}</div>
-			            {% endif %}
-					</div>
-                    <div class="form-group">
-						<label class="col-xs-6 col-sm-3 col-lg-2 form-control-static" for="tool_freed_time_notifications_max_future_days">Maximum future days</label>
-                        <div class="col-sm-3 col-xs-6">
-                            <div class="input-group">
-                                <input type="number" step="1" min="1" id="tool_freed_time_notifications_max_future_days" name="tool_freed_time_notifications_max_future_days" class="form-control text-right" value="{{ form.tool_freed_time_notifications_max_future_days.value }}"/>
-                                <span class="input-group-addon">days</span>
-                            </div>
+    <h1>User Preferences</h1>
+    <form class="form-horizontal" action="{% url 'user_preferences' %}" method="post">
+        {% csrf_token %}
+        <div class="panel panel-default">
+            <div class="panel-body">
+                <h3 id="reservations_label">Reservations</h3>
+                <div class="form-group col-sm-12" role="group" aria-labelledby="reservations_label">
+                    <div class="checkbox">
+                        <label>
+                            <input name="attach_created_reservation"
+                                   type="checkbox"
+                                   {% if user_preferences.attach_created_reservation %}checked{% endif %}>
+                            Check this box to receive ICS calendar invitation when creating reservation
+                        </label>
+                        <br>
+                        <label>
+                            <input name="attach_cancelled_reservation"
+                                   type="checkbox"
+                                   {% if user_preferences.attach_cancelled_reservation %}checked{% endif %}>
+                            Check this box to receive ICS calendar invitation when cancelling a reservation
+                        </label>
+                        <br>
+                        <label>
+                            <input name="create_reservation_confirmation_override"
+                                   type="checkbox"
+                                   {% if user_preferences.create_reservation_confirmation_override %}checked{% endif %}>
+                            Check this box to
+                            {% if "calendar"|customization:"create_reservation_confirmation" == "enabled" %}
+                                not be asked to confirm before making a reservation
+                            {% else %}
+                                be asked to confirm before making a reservation
+                            {% endif %}
+                        </label>
+                        <br>
+                        <label>
+                            <input name="change_reservation_confirmation_override"
+                                   type="checkbox"
+                                   {% if user_preferences.change_reservation_confirmation_override %}checked{% endif %}>
+                            Check this box to
+                            {% if "calendar"|customization:"change_reservation_confirmation" == "enabled" %}
+                                not be asked to confirm before moving or resizing a reservation
+                            {% else %}
+                                be asked to confirm before moving or resizing a reservation
+                            {% endif %}
+                        </label>
+                    </div>
+                </div>
+            </div>
+        </div>
+        <div class="panel panel-default">
+            <div class="panel-body">
+                <h3 id="tool_freed_time_label">Tool freed time notifications</h3>
+                <div class="form-group">
+                    <label class="col-xs-6 col-sm-3 col-lg-2 form-control-static" for="tool_freed_time_notifications_min_time">
+                        Minimum freed time
+                    </label>
+                    <div class="col-xs-6 col-sm-3">
+                        <div class="input-group">
+                            <input type="number"
+                                   step="15"
+                                   min="15"
+                                   id="tool_freed_time_notifications_min_time"
+                                   name="tool_freed_time_notifications_min_time"
+                                   class="form-control text-right"
+                                   value="{{ form.tool_freed_time_notifications_min_time.value }}" />
+                            <span class="input-group-addon">minutes</span>
                         </div>
-                        {% if form.tool_freed_time_notifications_max_future_days.errors %}
-                            <div class="col-sm-6 form-control-static danger-highlight">
-                                {{ form.tool_freed_time_notifications_max_future_days.errors|striptags }}
-                            </div>
-                        {% else %}
-                            <div class="col-sm-6 form-control-static">{{ form.tool_freed_time_notifications_max_future_days.help_text }}</div>
-			            {% endif %}
-					</div>
-                    <div class="form-group">
-                        <label class="col-xs-3 col-sm-2 col-lg-1 form-control-static" for="tool_notification_search">Tools</label>
-                        <div class="col-xs-9 col-sm-4">
-                            <input id="tool_notification_search" type="text" autocomplete="off" class="form-control" placeholder="Add a tool">
+                    </div>
+                    {% if form.tool_freed_time_notifications_min_time.errors %}
+                        <div class="col-sm-6 form-control-static danger-highlight">
+                            {{ form.tool_freed_time_notifications_min_time.errors|striptags }}
+                        </div>
+                    {% else %}
+                        <div class="col-sm-6 form-control-static">{{ form.tool_freed_time_notifications_min_time.help_text }}</div>
+                    {% endif %}
+                </div>
+                <div class="form-group">
+                    <label class="col-xs-6 col-sm-3 col-lg-2 form-control-static"
+                           for="tool_freed_time_notifications_max_future_days">Maximum future days</label>
+                    <div class="col-sm-3 col-xs-6">
+                        <div class="input-group">
+                            <input type="number"
+                                   step="1"
+                                   min="1"
+                                   id="tool_freed_time_notifications_max_future_days"
+                                   name="tool_freed_time_notifications_max_future_days"
+                                   class="form-control text-right"
+                                   value="{{ form.tool_freed_time_notifications_max_future_days.value }}" />
+                            <span class="input-group-addon">days</span>
                         </div>
                     </div>
+                    {% if form.tool_freed_time_notifications_max_future_days.errors %}
+                        <div class="col-sm-6 form-control-static danger-highlight">
+                            {{ form.tool_freed_time_notifications_max_future_days.errors|striptags }}
+                        </div>
+                    {% else %}
+                        <div class="col-sm-6 form-control-static">{{ form.tool_freed_time_notifications_max_future_days.help_text }}</div>
+                    {% endif %}
+                </div>
+                <div class="form-group">
+                    <label class="col-xs-3 col-sm-2 col-lg-1 form-control-static" for="tool_notification_search">Tools</label>
+                    <div class="col-xs-9 col-sm-4">
+                        <input id="tool_notification_search"
+                               type="text"
+                               autocomplete="off"
+                               class="form-control"
+                               placeholder="Add a tool">
+                    </div>
+                </div>
+                <div class="form-group">
+                    <div id="notification-list" class="col-xs-offset-3 col-sm-offset-2 col-lg-offset-1 col-sm-9">
+                        You are not receiving notifications for any tools.
+                    </div>
+                </div>
+            </div>
+        </div>
+        <div class="panel panel-default">
+            <div class="panel-body">
+                <h3 id="buddy_system_label">Buddy System</h3>
+                <div class="form-group col-sm-12" role="group" aria-labelledby="buddy_system_label">
+                    <div class="checkbox">
+                        <label>
+                            <input name="display_new_buddy_request_notification"
+                                   type="checkbox"
+                                   {% if user_preferences.display_new_buddy_request_notification %}checked{% endif %}>
+                            Check this box to see notification badges for new buddy requests
+                        </label>
+                        <br>
+                        <label>
+                            <input name="email_new_buddy_request_reply"
+                                   type="checkbox"
+                                   {% if user_preferences.email_new_buddy_request_reply %}checked{% endif %}>
+                            Check this box to receive an email notification when users reply to buddy requests you replied to
+                        </label>
+                    </div>
+                </div>
+            </div>
+        </div>
+        <div class="panel panel-default">
+            <div class="panel-body">
+                <h3 id="adjustment_requests_label">Adjustment Requests</h3>
+                <div class="form-group col-sm-12">
+                    <div class="checkbox">
+                        <label>
+                            <input name="email_new_adjustment_request_reply"
+                                   type="checkbox"
+                                   {% if user_preferences.email_new_adjustment_request_reply %}checked{% endif %}>
+                            Check this box to receive an email notification for replies to your adjustment requests
+                        </label>
+                    </div>
+                </div>
+            </div>
+        </div>
+        {% if user.is_staff or user.is_facility_manager or user.is_service_personnel %}
+            <div class="panel panel-default">
+                <div class="panel-body">
+                    <h3 id="adjustment_requests_label">Tool maintenance & notifications</h3>
                     <div class="form-group">
-                        <div id="notification-list" class="col-xs-offset-3 col-sm-offset-2 col-lg-offset-1 col-sm-9">
-                            You are not receiving notifications for any tools.
+                        <label class="col-sm-5 col-md-4 col-lg-3 form-control-static" for="tool_task_notification_search">
+                            {% if user.is_facility_manager and "tool"|customization:"tool_task_updates_facility_managers" == "enabled" %}
+                                Limit
+                            {% else %}
+                                View/receive
+                            {% endif %}
+                            maintenance notifications
+                        </label>
+                        <div class="col-sm-6 col-lg-4">
+                            <input id="tool_task_notification_search"
+                                   type="text"
+                                   autocomplete="off"
+                                   class="form-control"
+                                   placeholder="Add a tool">
                         </div>
                     </div>
-				</div>
-			</div>
-			<div class="panel panel-default">
-				<div class="panel-body">
-					<h3 id="buddy_system_label">Buddy System</h3>
-					<div class="form-group col-sm-12" role="group" aria-labelledby="buddy_system_label">
-						<div class="checkbox">
-							<label><input name="display_new_buddy_request_notification" type="checkbox" {% if user_preferences.display_new_buddy_request_notification %}checked{% endif %}>Check this box to see notification badges for new buddy requests</label>
-							<br><label><input name="email_new_buddy_request_reply" type="checkbox" {% if user_preferences.email_new_buddy_request_reply %}checked{% endif %}>Check this box to receive an email notification when users reply to buddy requests you replied to</label>
-						</div>
-					</div>
-				</div>
-			</div>
-             <div class="panel panel-default">
-				<div class="panel-body">
-					<h3 id="adjustment_requests_label">Adjustment Requests</h3>
-					<div class="form-group col-sm-12">
-						<div class="checkbox">
-							<label><input name="email_new_adjustment_request_reply" type="checkbox" {% if user_preferences.email_new_adjustment_request_reply %}checked{% endif %}>Check this box to receive an email notification for replies to your adjustment requests</label>
-						</div>
-					</div>
-                </div>
-             </div>
-            {% if user.is_staff or user.is_facility_manager or user.is_service_personnel %}
-                <div class="panel panel-default">
-                    <div class="panel-body">
-                        <h3 id="adjustment_requests_label">Tool maintenance & notifications</h3>
-                        <div class="form-group">
-                            <label class="col-sm-5 col-md-4 col-lg-3 form-control-static" for="tool_task_notification_search">{% if user.is_facility_manager and "tool"|customization:"tool_task_updates_facility_managers" == "enabled" %}Limit{% else %}View/receive{% endif %} maintenance notifications</label>
-                            <div class="col-sm-6 col-lg-4">
-                                <input id="tool_task_notification_search" type="text" autocomplete="off" class="form-control" placeholder="Add a tool">
-                            </div>
-                        </div>
-                        <div class="form-group">
-                            <div id="task-notification-list" class="col-sm-offset-5 col-md-offset-4 col-lg-offset-3 col-sm-7">
-                                You are currently viewing/receiving maintenance notifications for all tools{% if not user.is_facility_manager or not "tool"|customization:"tool_task_updates_facility_managers" == "enabled" %} you are an owner or backup owners of{% endif %}.
-                            </div>
+                    <div class="form-group">
+                        <div id="task-notification-list" class="col-sm-offset-5 col-md-offset-4 col-lg-offset-3 col-sm-7">
+                            You are currently viewing/receiving maintenance notifications for all tools
+                            {% if not user.is_facility_manager or not "tool"|customization:"tool_task_updates_facility_managers" == "enabled" %}
+                                you are an owner or backup owners of
+                            {% endif %}
+                            .
                         </div>
                     </div>
                 </div>
-            {% endif %}
-            {% if not form.fields.staff_status_view.disabled %}
-                <div class="panel panel-default">
-                    <div class="panel-body">
-                        <h3 id="staff_status_label">Staff status</h3>
-                        <div class="form-group" role="group" aria-labelledby="staff_status_label staff_status_view_label">
-                            <div class="col-sm-3 form-control-static" id="staff_status_view_label">Default view</div>
-                            <div class="col-sm-9">
-                                <label class="radio-inline">
-                                    <input type="radio" aria-label="Day view" name="staff_status_view" id="staff_status_view" value="day" {% if user_preferences.staff_status_view == 'day' %}checked{% endif %}> Day
-                                    <br><input type="radio" aria-label="Week view" name="staff_status_view" value="week" {% if user_preferences.staff_status_view == 'week' %}checked{% endif %}> Week
-                                    {% if not user_view %}
-                                      <br><input type="radio" aria-label="Month view" name="staff_status_view" value="month" {% if user_preferences.staff_status_view == 'month' %}checked{% endif %}> Month
-                                    {% endif %}
-                                </label>
-                            </div>
+            </div>
+        {% endif %}
+        {% if not form.fields.staff_status_view.disabled %}
+            <div class="panel panel-default">
+                <div class="panel-body">
+                    <h3 id="staff_status_label">Staff status</h3>
+                    <div class="form-group" role="group" aria-labelledby="staff_status_label staff_status_view_label">
+                        <div class="col-sm-3 form-control-static" id="staff_status_view_label">Default view</div>
+                        <div class="col-sm-9">
+                            <label class="radio-inline">
+                                <input type="radio"
+                                       aria-label="Day view"
+                                       name="staff_status_view"
+                                       id="staff_status_view"
+                                       value="day"
+                                       {% if user_preferences.staff_status_view == 'day' %}checked{% endif %}>
+                                Day
+                                <br>
+                                <input type="radio"
+                                       aria-label="Week view"
+                                       name="staff_status_view"
+                                       value="week"
+                                       {% if user_preferences.staff_status_view == 'week' %}checked{% endif %}>
+                                Week
+                                {% if not user_view %}
+                                    <br>
+                                    <input type="radio"
+                                           aria-label="Month view"
+                                           name="staff_status_view"
+                                           value="month"
+                                           {% if user_preferences.staff_status_view == 'month' %}checked{% endif %}>
+                                    Month
+                                {% endif %}
+                            </label>
                         </div>
                     </div>
                 </div>
-            {% endif %}
-            <div class="panel panel-default">
-				<div class="panel-body">
-					<h3 id="email_notifications_label">Email notifications</h3>
-                    <p>The following is a list of notifications you will receive from {{ site_title }}. You have
-                        the option to set an alternate email address and define your preferences for which notifications
-                        you want to be sent to either of your emails, or both.</p>
-                    <p>Some notifications can also be turned off completely.</p>
-                    <br>
-                    <div class="form-group">
-                        <label class="col-sm-3 form-control-static" for="alternate_email_address">Alternate email address</label>
-                        <div class="col-sm-4">
-                            <input type="email" class="form-control" id="alternate_email_address" name="email_alternate" value="{{ form.email_alternate.value|default_if_none:'' }}" maxlength="254">
-                        </div>
-                        {% if form.email_alternate.errors %}
-                            <div class="col-sm-5 form-control-static danger-highlight">
-                                {{ form.email_alternate.errors|striptags }}
-                            </div>
-			            {% endif %}
-                        <div class="col-sm-offset-3 col-sm-9">
-                            Main email: {{ user.email }}
-                        </div>
+            </div>
+        {% endif %}
+        <div class="panel panel-default">
+            <div class="panel-body">
+                <h3 id="email_notifications_label">Email notifications</h3>
+                <p>
+                    The following is a list of notifications you will receive from {{ site_title }}. You have
+                    the option to set an alternate email address and define your preferences for which notifications
+                    you want to be sent to either of your emails, or both.
+                </p>
+                <p>Some notifications can also be turned off completely.</p>
+                <br>
+                <div class="form-group">
+                    <label class="col-sm-3 form-control-static" for="alternate_email_address">Alternate email address</label>
+                    <div class="col-sm-4">
+                        <input type="email"
+                               class="form-control"
+                               id="alternate_email_address"
+                               name="email_alternate"
+                               value="{{ form.email_alternate.value|default_if_none:'' }}"
+                               maxlength="254">
                     </div>
-                    {% for field_name, field in form.fields.items %}
-                        {% if field|class_name == "TypedChoiceField" and field_name != "staff_status_view" and field_name != "email_send_recurring_charges_reminder_emails" %}
-                            {% with data=form.data|get_item:field_name initial=form.initial|get_item:field_name %}
-                                <div class="form-group" role="group" aria-labelledby="{{ field_name }}">
-                                    <div class="col-sm-3 form-control-static" id="{{ field_name }}">{{ field.help_text }}</div>
-                                    <div class="col-sm-9">
-                                        {% for choice in field.choices %}
-                                            <label class="radio-inline"><input type="radio" name="{{ field_name }}" value="{{ choice.0 }}" {% if data|default:initial|to_int == choice.0 %}checked{% endif %}>{{ choice.1 }}</label>
-                                        {% endfor %}
-                                    </div>
+                    {% if form.email_alternate.errors %}
+                        <div class="col-sm-5 form-control-static danger-highlight">{{ form.email_alternate.errors|striptags }}</div>
+                    {% endif %}
+                    <div class="col-sm-offset-3 col-sm-9">Main email: {{ user.email }}</div>
+                </div>
+                {% for field_name, field in form.fields.items %}
+                    {% if field|class_name == "TypedChoiceField" and field_name != "staff_status_view" and field_name != "email_send_recurring_charges_reminder_emails" %}
+                        {% with data=form.data|get_item:field_name initial=form.initial|get_item:field_name %}
+                            <div class="form-group" role="group" aria-labelledby="{{ field_name }}">
+                                <div class="col-sm-3 form-control-static" id="{{ field_name }}">{{ field.help_text }}</div>
+                                <div class="col-sm-9">
+                                    {% for choice in field.choices %}
+                                        <label class="radio-inline">
+                                            <input type="radio"
+                                                   name="{{ field_name }}"
+                                                   value="{{ choice.0 }}"
+                                                   {% if data|default:initial|to_int == choice.0 %}checked{% endif %}>
+                                            {{ choice.1 }}
+                                        </label>
+                                    {% endfor %}
                                 </div>
-                            {% endwith %}
-                        {% endif %}
-                    {% endfor %}
-                    <div class="form-group">
-                        <label class="col-sm-3 form-control-static" for="recurring_charges_reminder_days">{{ recurring_charges_name }} reminder days</label>
-                        <div class="col-sm-3">
-                            <input type="text" aria-describedby="recurring_charges_help" class="form-control" id="recurring_charges_reminder_days" name="recurring_charges_reminder_days" value="{{ form.recurring_charges_reminder_days.value|default_if_none:'' }}" maxlength="200">
-                        </div>
-                        {% if form.recurring_charges_reminder_days.errors %}
-                            <div class="col-sm-6 form-control-static danger-highlight">
-                                {{ form.recurring_charges_reminder_days.errors|striptags }}
                             </div>
-                        {% else %}
-                            <div id="recurring_charges_help" class="col-sm-6 form-control-static">Set the number of days to receive a reminder prior to {{ recurring_charges_name|lower }} being charged. A comma-separated list can be used.</div>
-			            {% endif %}
+                        {% endwith %}
+                    {% endif %}
+                {% endfor %}
+                <div class="form-group">
+                    <label class="col-sm-3 form-control-static" for="recurring_charges_reminder_days">
+                        {{ recurring_charges_name }} reminder days
+                    </label>
+                    <div class="col-sm-3">
+                        <input type="text"
+                               aria-describedby="recurring_charges_help"
+                               class="form-control"
+                               id="recurring_charges_reminder_days"
+                               name="recurring_charges_reminder_days"
+                               value="{{ form.recurring_charges_reminder_days.value|default_if_none:'' }}"
+                               maxlength="200">
                     </div>
-                    <div class="form-group">
-                        <label class="col-sm-3 form-control-static">{{ recurring_charges_name }} reminders:</label>
-                        <div class="col-sm-9">
+                    {% if form.recurring_charges_reminder_days.errors %}
+                        <div class="col-sm-6 form-control-static danger-highlight">
+                            {{ form.recurring_charges_reminder_days.errors|striptags }}
+                        </div>
+                    {% else %}
+                        <div id="recurring_charges_help" class="col-sm-6 form-control-static">
+                            Set the number of days to receive a reminder prior to {{ recurring_charges_name|lower }} being charged. A comma-separated list can be used.
+                        </div>
+                    {% endif %}
+                </div>
+                <div class="form-group">
+                    <label class="col-sm-3 form-control-static">{{ recurring_charges_name }} reminders:</label>
+                    <div class="col-sm-9">
                         {% for choice in form.fields.email_send_recurring_charges_reminder_emails.choices %}
-                            <label class="radio-inline"><input type="radio" name="email_send_recurring_charges_reminder_emails" value="{{ choice.0 }}" {% if form.email_send_recurring_charges_reminder_emails.value|to_int == choice.0 %}checked{% endif %}>{{ choice.1 }}</label>
+                            <label class="radio-inline">
+                                <input type="radio"
+                                       name="email_send_recurring_charges_reminder_emails"
+                                       value="{{ choice.0 }}"
+                                       {% if form.email_send_recurring_charges_reminder_emails.value|to_int == choice.0 %}checked{% endif %}>
+                                {{ choice.1 }}
+                            </label>
                         {% endfor %}
-                        </div>
                     </div>
                 </div>
-			</div>
-            {% button type="save" value="Update preferences" %}
-		</form>
-        <script>
+            </div>
+        </div>
+        {% button type="save" value="Update preferences" %}
+    </form>
+    <script>
             function add_tool_task_notification(jquery_event, search_selection, dataset_name)
             {
                 add_to_list("#task-notification-list", "remove_tool_task_notification", search_selection.id, search_selection.name, "Remove the " + search_selection.name, "tool_task_notifications");
                 $("#tool_task_notification_search").typeahead('val', '').focus();
             }
             function remove_tool_task_notification(tool_id)
             {
@@ -224,9 +350,9 @@
                                 add_tool_task_notification(null, {'name': '{{ tool.name }}', 'id': {{ tool.id }} });
                             {% endif %}
                         {% endfor %}
                     {% endfor %}
                 {% endif %}
             }
             $(on_load);
-        </script>
-{% endblock %}
+    </script>
+{% endblock %}
```

## NEMO/templates/users/safe_deactivation.html

```diff
@@ -1,106 +1,117 @@
 {% extends 'base.html' %}
 {% load humanize %}
 {% load custom_tags_and_filters %}
 {% block title %}Safe deactivation{% endblock %}
 {% block content %}
-	<h1>Safe deactivation for {{ user_to_deactivate }}</h1>
-	{% if warning %}
-		<div class="alert alert-warning">
-			{{ warning }}
-		</div>
-	{% endif %}
-	<form action="{% url 'deactivate_user' user_to_deactivate.id %}" method="post">
-		{% csrf_token %}
-		{% if reservations %}
-			<h2>Upcoming reservations</h2>
-			<div class="form-group">
-				{% if reservations|length == 1 %}
-					There is one reservation for {{ user_to_deactivate.first_name }} that is upcoming or in progress.
-				{% else %}
-					There are {{ reservations|length|apnumber }} reservations for {{ user_to_deactivate.first_name }} that are upcoming or in progress.
-				{% endif %}
-				<div class="checkbox">
-					<label><input type="checkbox" name="cancel_reservations" checked> Cancel all future reservations for {{ user_to_deactivate.first_name }}</label>
-				</div>
-				<table class="table table-bordered">
-					<thead>
-					<tr>
-						<th>Tool</th>
-						<th>Project</th>
-						<th>Start</th>
-						<th>End</th>
-					</tr>
-					</thead>
-					<tbody>
-					{% for r in reservations %}
-						<tr>
-							<td>{{ r.reservation_item }}</td>
-							<td>{{ r.project }}</td>
-							<td>{{ r.start }}</td>
-							<td>{{ r.end }}</td>
-						</tr>
-					{% endfor %}
-					</tbody>
-				</table>
-			</div>
-		{% endif %}
-		{% if tool_usage %}
-			<h2>Tool usage</h2>
-			<div class="form-group">
-				{{ user_to_deactivate.first_name }} is using {{ tool_usage|length|apnumber }} tool{{ tool_usage|length|pluralize }}.
-				<div class="checkbox">
-					<label><input type="checkbox" name="disable_tools" checked> Disable all tools for {{ user_to_deactivate.first_name }}</label>
-				</div>
-				<table class="table table-bordered">
-					<thead>
-					<tr>
-						<th>Tool</th>
-						<th>Project</th>
-						<th>Start</th>
-					</tr>
-					</thead>
-					<tbody>
-					{% for t in tool_usage %}
-						<tr>
-							<td>{{ t.tool }}</td>
-							<td>{{ t.project }}</td>
-							<td>{{ t.start }}</td>
-						</tr>
-					{% endfor %}
-					</tbody>
-				</table>
-			</div>
-		{% endif %}
-		{% if user_to_deactivate.in_area %}
-			<h2>Area access</h2>
-			<div class="form-group">
-				{{ user_to_deactivate.first_name }} is currently in the {{ user_to_deactivate.area_access_record.area }}.<br>
-				<div class="checkbox">
-					<label><input type="checkbox" name="force_area_logout" checked> Force {{ user_to_deactivate.first_name }} to log out of the {{ user_to_deactivate.area_access_record.area }}</label>
-				</div>
-			</div>
-		{% endif %}
-		{% if staff_charges %}
-			<h2>Staff charges</h2>
-			<div class="form-group">
-				{% for s in staff_charges %}
-					{{ s.staff_member }} is working on the project named &quot;{{ s.project }}&quot; for {{ s.customer }} since {{ s.start }}.<br>
-				{% endfor %}
-				{% if user_to_deactivate.charging_staff_time %}
-					{% with user_to_deactivate.get_staff_charge as s %}
-						{{ s.staff_member }} is working on the project named &quot;{{ s.project }}&quot; for {{ s.customer }} since {{ s.start }}.<br>
-					{% endwith %}
-				{% endif %}
-				<div class="checkbox">
-					<label><input type="checkbox" name="end_staff_charges" checked> End all staff charges</label>
-				</div>
-			</div>
-		{% endif %}
-		{% if not reservations and not tool_usage and not user_to_deactivate.in_area and not staff_charges %}
-			<h4>This user has no future reservations, is not using any tools, is not in a billable area, and has no staff charges in progress. It is safe to proceed.</h4>
-		{% endif %}
-		<div class="form-group">
-            {% button type="warn" submit=True value="Deactivate user" icon="glyphicon-ban-circle" %}
-		</div>
-	</form>
-{% endblock %}
+    <h1>Safe deactivation for {{ user_to_deactivate }}</h1>
+    {% if warning %}<div class="alert alert-warning">{{ warning }}</div>{% endif %}
+    <form action="{% url 'deactivate_user' user_to_deactivate.id %}" method="post">
+        {% csrf_token %}
+        {% if reservations %}
+            <h2>Upcoming reservations</h2>
+            <div class="form-group">
+                {% if reservations|length == 1 %}
+                    There is one reservation for {{ user_to_deactivate.first_name }} that is upcoming or in progress.
+                {% else %}
+                    There are {{ reservations|length|apnumber }} reservations for {{ user_to_deactivate.first_name }} that are upcoming or in progress.
+                {% endif %}
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox" name="cancel_reservations" checked>
+                        Cancel all future reservations for {{ user_to_deactivate.first_name }}
+                    </label>
+                </div>
+                <table class="table table-bordered">
+                    <thead>
+                        <tr>
+                            <th>Tool</th>
+                            <th>Project</th>
+                            <th>Start</th>
+                            <th>End</th>
+                        </tr>
+                    </thead>
+                    <tbody>
+                        {% for r in reservations %}
+                            <tr>
+                                <td>{{ r.reservation_item }}</td>
+                                <td>{{ r.project }}</td>
+                                <td>{{ r.start }}</td>
+                                <td>{{ r.end }}</td>
+                            </tr>
+                        {% endfor %}
+                    </tbody>
+                </table>
+            </div>
+        {% endif %}
+        {% if tool_usage %}
+            <h2>Tool usage</h2>
+            <div class="form-group">
+                {{ user_to_deactivate.first_name }} is using {{ tool_usage|length|apnumber }} tool{{ tool_usage|length|pluralize }}.
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox" name="disable_tools" checked>
+                        Disable all tools for {{ user_to_deactivate.first_name }}
+                    </label>
+                </div>
+                <table class="table table-bordered">
+                    <thead>
+                        <tr>
+                            <th>Tool</th>
+                            <th>Project</th>
+                            <th>Start</th>
+                        </tr>
+                    </thead>
+                    <tbody>
+                        {% for t in tool_usage %}
+                            <tr>
+                                <td>{{ t.tool }}</td>
+                                <td>{{ t.project }}</td>
+                                <td>{{ t.start }}</td>
+                            </tr>
+                        {% endfor %}
+                    </tbody>
+                </table>
+            </div>
+        {% endif %}
+        {% if user_to_deactivate.in_area %}
+            <h2>Area access</h2>
+            <div class="form-group">
+                {{ user_to_deactivate.first_name }} is currently in the {{ user_to_deactivate.area_access_record.area }}.
+                <br>
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox" name="force_area_logout" checked>
+                        Force {{ user_to_deactivate.first_name }} to log out of the {{ user_to_deactivate.area_access_record.area }}
+                    </label>
+                </div>
+            </div>
+        {% endif %}
+        {% if staff_charges %}
+            <h2>Staff charges</h2>
+            <div class="form-group">
+                {% for s in staff_charges %}
+                    {{ s.staff_member }} is working on the project named &quot;{{ s.project }}&quot; for {{ s.customer }} since {{ s.start }}.
+                    <br>
+                {% endfor %}
+                {% if user_to_deactivate.charging_staff_time %}
+                    {% with user_to_deactivate.get_staff_charge as s %}
+                        {{ s.staff_member }} is working on the project named &quot;{{ s.project }}&quot; for {{ s.customer }} since {{ s.start }}.
+                        <br>
+                    {% endwith %}
+                {% endif %}
+                <div class="checkbox">
+                    <label>
+                        <input type="checkbox" name="end_staff_charges" checked>
+                        End all staff charges
+                    </label>
+                </div>
+            </div>
+        {% endif %}
+        {% if not reservations and not tool_usage and not user_to_deactivate.in_area and not staff_charges %}
+            <h4>
+                This user has no future reservations, is not using any tools, is not in a billable area, and has no staff charges in progress. It is safe to proceed.
+            </h4>
+        {% endif %}
+        <div class="form-group">{% button type="warn" submit=True value="Deactivate user" icon="glyphicon-ban-circle" %}</div>
+    </form>
+{% endblock %}
```

## NEMO/templates/users/users.html

```diff
@@ -1,75 +1,102 @@
 {% extends 'pagination/pagination_base.html' %}
 {% load custom_tags_and_filters %}
 {% block title %}Users{% endblock %}
 {% block before_pagination %}
-	<div class="h1 row" style="margin-top: 0">
+    <div class="h1 row" style="margin-top: 0">
         {% url "create_or_modify_user" "new" as new_user_url %}
-        <div class="col-xs-3">Users</div>{% if not readonly %}<div class="{% if page %}col-sm-9{% else %}col-sm-3{% endif %} text-right">{% button value="New user" type="add" url=new_user_url %}</div>{% endif %}
-	</div>
-	<div class="row" style="margin-bottom: 25px">
-		<div class="col-sm-6">
-			<input id="search" type="text" aria-label="Search for user" placeholder="Search for a user" class="form-control" autofocus>
-		</div>
-	</div>
+        <div class="col-xs-3">Users</div>
+        {% if not readonly %}
+            <div class="{% if page %}col-sm-9{% else %}col-sm-3{% endif %} text-right">
+                {% button value="New user" type="add" url=new_user_url %}
+            </div>
+        {% endif %}
+    </div>
+    <div class="row" style="margin-bottom: 25px">
+        <div class="col-sm-6">
+            <input id="search"
+                   type="text"
+                   aria-label="Search for user"
+                   placeholder="Search for a user"
+                   class="form-control"
+                   autofocus>
+        </div>
+    </div>
 {% endblock %}
 {% block pagination_content %}
-	<table class="table table-align-middle table-bordered table-condensed table-striped table-hover thead-light">
-			<thead>
-				<tr>
-					<th>{% include 'pagination/pagination_column.html' with order_by='first_name' name='First Name' %}</th>
-					<th>{% include 'pagination/pagination_column.html' with order_by='last_name' name='Last Name' %}</th>
-					<th>{% include 'pagination/pagination_column.html' with order_by='username' name='Username' %}</th>
-					{% if user_types %}<th>{% include 'pagination/pagination_column.html' with order_by='type' name='Type' %}</th>{% endif %}
-					<th>{% include 'pagination/pagination_column.html' with order_by='is_active' name='Active' %}</th>
-					<th>{% include 'pagination/pagination_column.html' with order_by='access_expiration' name='Expiration' %}</th>
-					<th>{% include 'pagination/pagination_column.html' with order_by='is_staff' name='Staff' %}</th>
-					<th>{% include 'pagination/pagination_column.html' with order_by='is_user_office' name='User Office' %}</th>
-					<th>{% include 'pagination/pagination_column.html' with order_by='is_accounting_officer' name='Accounting' %}</th>
-					<th>{% include 'pagination/pagination_column.html' with order_by='is_superuser' name='Admin' %}</th>
-					<th aria-label="Actions"></th>
-				</tr>
-			</thead>
-			<tbody>
-                {% now "Y-m-d" as today %}
-				{% for user in page %}
-					<tr>
-						<td>{{ user.first_name }}</td>
-						<td>{{ user.last_name }}</td>
-						<td>{{ user.username }}</td>
-						{% if user_types %}<td>{{ user.type|default_if_none:"" }}</td>{% endif %}
-						<td class="text-center"><span class="glyphicon {% if user.is_active %}glyphicon-ok success-highlight{% else %}glyphicon-remove danger-highlight{% endif %}"></span></td>
-						<td class="text-center"><span class="{% if user.access_expiration and user.access_expiration|date:"Y-m-d" < today %}danger-highlight{% endif %}">{{ user.access_expiration|date:"SHORT_DATE_FORMAT" }}</span></td>
-						<td class="text-center"><span class="glyphicon {% if user.is_staff %}glyphicon-ok success-highlight{% endif %}"></span></td>
-						<td class="text-center"><span class="glyphicon {% if user.is_user_office %}glyphicon-ok success-highlight{% endif %}"></span></td>
-						<td class="text-center"><span class="glyphicon {% if user.is_accounting_officer %}glyphicon-ok success-highlight{% endif %}"></span></td>
-						<td class="text-center"><span class="glyphicon {% if user.is_superuser %}glyphicon-ok success-highlight{% endif %}"></span></td>
-						<td class="text-center button-column-minimum">
-                            {% url 'create_or_modify_user' user.id as edit_url %}
-                            {% if not readonly %}
-                                {% with next=request.get_full_path|urlencode %}
-                                    {% button value="Edit" type="edit" size="small" url=edit_url|concat:"?next="|concat:next %}
-                                    {% url "deactivate_user" user.id as deactivate_user_url %}
-                                    {% if user.is_active %}{% button type="warn" size="small" icon="glyphicon-ban-circle" value="Deactivate" title="Deactivate user" url=deactivate_user_url %}{% endif %}
-                                {% endwith %}
-                            {% else %}
-                                {% button type="view" size="small" url=edit_url value="View" %}
-                            {% endif %}
-						</td>
-					</tr>
-				{% endfor %}
-			</tbody>
-		</table>
+    <table class="table table-align-middle table-bordered table-condensed table-striped table-hover thead-light">
+        <thead>
+            <tr>
+                <th>{% include 'pagination/pagination_column.html' with order_by='first_name' name='First Name' %}</th>
+                <th>{% include 'pagination/pagination_column.html' with order_by='last_name' name='Last Name' %}</th>
+                <th>{% include 'pagination/pagination_column.html' with order_by='username' name='Username' %}</th>
+                {% if user_types %}
+                    <th>{% include 'pagination/pagination_column.html' with order_by='type' name='Type' %}</th>
+                {% endif %}
+                <th>{% include 'pagination/pagination_column.html' with order_by='is_active' name='Active' %}</th>
+                <th>{% include 'pagination/pagination_column.html' with order_by='access_expiration' name='Expiration' %}</th>
+                <th>{% include 'pagination/pagination_column.html' with order_by='is_staff' name='Staff' %}</th>
+                <th>{% include 'pagination/pagination_column.html' with order_by='is_user_office' name='User Office' %}</th>
+                <th>{% include 'pagination/pagination_column.html' with order_by='is_accounting_officer' name='Accounting' %}</th>
+                <th>{% include 'pagination/pagination_column.html' with order_by='is_superuser' name='Admin' %}</th>
+                <th aria-label="Actions"></th>
+            </tr>
+        </thead>
+        <tbody>
+            {% now "Y-m-d" as today %}
+            {% for user in page %}
+                <tr>
+                    <td>{{ user.first_name }}</td>
+                    <td>{{ user.last_name }}</td>
+                    <td>{{ user.username }}</td>
+                    {% if user_types %}<td>{{ user.type|default_if_none:"" }}</td>{% endif %}
+                    <td class="text-center">
+                        <span class="glyphicon {% if user.is_active %}glyphicon-ok success-highlight{% else %}glyphicon-remove danger-highlight{% endif %}"></span>
+                    </td>
+                    <td class="text-center">
+                        <span class="{% if user.access_expiration and user.access_expiration|date:"Y-m-d" < today %}danger-highlight{% endif %}">{{ user.access_expiration|date:"SHORT_DATE_FORMAT" }}</span>
+                    </td>
+                    <td class="text-center">
+                        <span class="glyphicon {% if user.is_staff %}glyphicon-ok success-highlight{% endif %}"></span>
+                    </td>
+                    <td class="text-center">
+                        <span class="glyphicon {% if user.is_user_office %}glyphicon-ok success-highlight{% endif %}"></span>
+                    </td>
+                    <td class="text-center">
+                        <span class="glyphicon {% if user.is_accounting_officer %}glyphicon-ok success-highlight{% endif %}"></span>
+                    </td>
+                    <td class="text-center">
+                        <span class="glyphicon {% if user.is_superuser %}glyphicon-ok success-highlight{% endif %}"></span>
+                    </td>
+                    <td class="text-center button-column-minimum">
+                        {% url 'create_or_modify_user' user.id as edit_url %}
+                        {% if not readonly %}
+                            {% with next=request.get_full_path|urlencode %}
+                                {% button value="Edit" type="edit" size="small" url=edit_url|concat:"?next="|concat:next %}
+                                {% url "deactivate_user" user.id as deactivate_user_url %}
+                                {% if user.is_active %}
+                                    {% button type="warn" size="small" icon="glyphicon-ban-circle" value="Deactivate" title="Deactivate user" url=deactivate_user_url %}
+                                {% endif %}
+                            {% endwith %}
+                        {% else %}
+                            {% button type="view" size="small" url=edit_url value="View" %}
+                        {% endif %}
+                    </td>
+                </tr>
+            {% endfor %}
+        </tbody>
+    </table>
 {% endblock %}
 {% block after_pagination %}
-	<script>
+    <script>
 		function get_user(jquery_event, search_selection, dataset_name)
 		{
 			window.location.href = "{% url 'create_or_modify_user' 999 %}".replace('999', search_selection.id);
 		}
 		function on_load()
 		{
 			$("#search").autocomplete('users', get_user, '{% url 'user_search' %}', true).focus();
 		}
 		window.addEventListener('load', on_load, true);
-	</script>
-{% endblock %}
+	
+    </script>
+{% endblock %}
```

### html2text {}

```diff
@@ -17,18 +17,18 @@
                                                                                                                                                                                                                                                                    readonly %} {% with
                                                                                                                                                                                                                                                                    next=request.get_full_path|urlencode
                                                                                                                                                                                                                                                                    %} {% button value="Edit"
                                                                                                                                                                                                                                                                    type="edit" size="small"
                                                                                                                            today %}danger-highlight{%                                                                                                              url=edit_url|concat:"?next="|concat:
                                                                         {                                                  endif %}">{                                                                                                                             next %} {% url "deactivate_user"
 {{ user.first_name }}   {{ user.last_name }}    {{ user.username }}     {                                                  {                                                                                                                                       user.id as deactivate_user_url %} {%
-                                                                        user.type|default_if_none:                         user.access_expiration|date:                                                                                                            if user.is_active %}{% button
+                                                                        user.type|default_if_none:                         user.access_expiration|date:                                                                                                            if user.is_active %} {% button
                                                                         "" }}                                              "SHORT_DATE_FORMAT" }}                                                                                                                  type="warn" size="small"
                                                                                                                                                                                                                                                                    icon="glyphicon-ban-circle"
                                                                                                                                                                                                                                                                    value="Deactivate" title="Deactivate
-                                                                                                                                                                                                                                                                   user" url=deactivate_user_url %}{%
+                                                                                                                                                                                                                                                                   user" url=deactivate_user_url %} {%
                                                                                                                                                                                                                                                                    endif %} {% endwith %} {% else %} {%
                                                                                                                                                                                                                                                                    button type="view" size="small"
                                                                                                                                                                                                                                                                    url=edit_url value="View" %} {%
                                                                                                                                                                                                                                                                    endif %}
 {% endblock %} {% block after_pagination %}
 {% endblock %}
```

## NEMO/tests/test_tool.py

```diff
@@ -14,15 +14,15 @@
     InterlockCardCategory,
     PhysicalAccessLevel,
     Project,
     QualificationLevel,
     Tool,
     User,
 )
-from NEMO.tests.test_utilities import login_as, login_as_access_user, login_as_user
+from NEMO.tests.test_utilities import create_user_and_project, login_as
 from NEMO.utilities import get_class_from_settings
 from NEMO.views.customization import ToolCustomization
 
 tool: Optional[Tool] = None
 alternate_tool: Optional[Tool] = None
 area_door: Optional[Door] = None
 qualification_level: Optional[QualificationLevel] = None
@@ -66,21 +66,27 @@
             "_allow_delayed_logoff": True,
             "_post_usage_questions": '[{"type": "textbox", "name": "question_name", "title": "question_title", "max-width": "100%"}]',
             "_policy_off_between_times": True,
             "_policy_off_start_time": "5:00 PM",
             "_policy_off_end_time": "4:00 PM",
             "_policy_off_weekend": True,
             "visible": True,
+            "_operation_mode": Tool.OperationMode.REGULAR,
         }
         area_door = Door.objects.create(name="cleanroom door", interlock=cleanroom_interlock)
         area_door.areas.set([cleanroom])
         tool_form = ToolAdminForm(tool_data)
         self.assertTrue(tool_form.is_valid(), tool_form.errors.as_text())
         tool = tool_form.save()
-        alternate_tool_data = {"name": "alt_test_tool", "parent_tool": tool.id, "visible": True}
+        alternate_tool_data = {
+            "name": "alt_test_tool",
+            "parent_tool": tool.id,
+            "visible": True,
+            "_operation_mode": Tool.OperationMode.REGULAR,
+        }
         alternate_tool_form = ToolAdminForm(alternate_tool_data)
         self.assertTrue(alternate_tool_form.is_valid(), alternate_tool_form.errors.as_text())
         alternate_tool = alternate_tool_form.save()
 
     def test_tool_and_parent_properties(self):
         self.assertNotEqual(tool.id, alternate_tool.id)
         self.assertNotEqual(tool.name, alternate_tool.name)
@@ -118,30 +124,26 @@
         self.assertEqual(tool.policy_off_start_time, alternate_tool.policy_off_start_time)
         self.assertEqual(tool.policy_off_end_time, alternate_tool.policy_off_end_time)
         self.assertEqual(tool.policy_off_weekend, alternate_tool.policy_off_weekend)
 
         self.assertEqual(tool.get_absolute_url(), alternate_tool.get_absolute_url())
 
     def test_tool_in_use(self):
-        user = login_as_user(self.client)
+        user, project = create_user_and_project(add_area_access_permissions=True)
         # make the tool operational
         tool.operational = True
         tool.save()
-        project = Project.objects.create(
-            name="test project", application_identifier="sadasd", account=Account.objects.create(name="test account")
-        )
-        user.projects.add(project)
         # user needs to be qualified to use the tool
         user.add_qualification(tool, qualification_level)
         user.physical_access_levels.add(PhysicalAccessLevel.objects.get(name="cleanroom access"))
         user.badge_number = 11
         user.training_required = False
         user.save()
         # log into the area
-        login_as_access_user(self.client)
+        login_as(self.client, user)
         response = self.client.post(
             reverse("login_to_area", kwargs={"door_id": area_door.id}), {"badge_number": user.badge_number}, follow=True
         )
         self.assertEqual(response.status_code, 200, response.content.decode())
         login_as(self.client, user)
         # start using tool
         response = self.client.post(
@@ -155,30 +157,22 @@
         # make sure both tool and child tool are "in use"
         self.assertTrue(tool.in_use())
         self.assertTrue(alternate_tool.in_use())
         # make sure both return the same usage event
         self.assertEqual(tool.get_current_usage_event(), alternate_tool.get_current_usage_event())
 
     def login_as_user_and_enable_tool(self, target_tool, badge):
-        user, created = User.objects.get_or_create(
-            username="test_user " + str(badge), first_name="Testy", last_name="McTester", badge_number=badge
-        )
-        project = Project.objects.create(
-            name="test project " + str(badge),
-            application_identifier="sadasd",
-            account=Account.objects.create(name="test account " + str(badge)),
-        )
-        user.projects.add(project)
+        user, project = create_user_and_project(add_area_access_permissions=True)
         # user needs to be qualified to use the tool
         user.add_qualification(target_tool, qualification_level)
         user.physical_access_levels.add(PhysicalAccessLevel.objects.get(name="cleanroom access"))
         user.badge_number = badge
         user.training_required = False
         user.save()
-        login_as_access_user(self.client)
+        login_as(self.client, user)
         response = self.client.post(
             reverse("login_to_area", kwargs={"door_id": area_door.id}), {"badge_number": user.badge_number}, follow=True
         )
         self.assertEqual(response.status_code, 200, response.content.decode())
         login_as(self.client, user)
         return (
             self.client.post(
```

## NEMO/tests/test_urls.py

```diff
@@ -24,17 +24,21 @@
 end_one_day = start + datetime.timedelta(days=1)
 
 url_kwargs_get_post = {
     "impersonate": {"login_id": 1},
     "cancel_reservation_from_kiosk": {"kwargs": {"reservation_id": 1}, "post": {"customer_id": 1}},
     "kiosk_category_choices": {"kwargs": {"category": "test", "user_id": 1}},
     "kiosk_tool_information": {"kwargs": {"tool_id": 1, "user_id": 1, "back": "back_to_start"}},
+    "kiosk_tool_post_comment": {"kwargs": {"tool_id": 1, "user_id": 1, "back": "back_to_start"}},
+    "kiosk_tool_report_problem": {"kwargs": {"tool_id": 1, "user_id": 1, "back": "back_to_start"}},
     "enable_tool_from_kiosk": {"post": {"tool_id": 1, "customer_id": 1, "project_id": 1}},
     "disable_tool_from_kiosk": {"post": {"tool_id": 1, "customer_id": 1}},
     "reserve_tool_from_kiosk": {"post": {"tool_id": 1, "customer_id": 1, "project_id": 1, "back": ""}},
+    "post_comment_from_kiosk": {"post": {"tool": 1, "customer_id": 1, "back": "back_to_start"}},
+    "report_problem_from_kiosk": {"post": {"tool": 1, "customer_id": 1, "back": "back_to_start"}},
     "login_to_area": {"kwargs": {"door_id": 1}, "post": {"badge_number": 1}},
     "logout_of_area": {"kwargs": {"door_id": 1}, "post": {"badge_number": 1}},
     "open_door": {"kwargs": {"door_id": 1}, "post": {"badge_number": 1}},
     "sensor_details": {"kwargs": {"sensor_id": 1}},
     "get_projects": {"get": {"user_id": 1}},
     "get_projects_for_consumables": {"get": {"user_id": 1}},
     "get_projects_for_tool_control": {"get": {"user_id": 1}},
@@ -101,14 +105,18 @@
     "remove_user_from_project": {"post": {"user_id": 3, "project_id": 3}},
     "add_user_to_project": {"post": {"user_id": 3, "project_id": 3}},
     "history": {"kwargs": {"item_type": "user", "item_id": 1}},
     "customization": {"kwargs": {"key": "application"}},
     "customize": {"kwargs": {"key": "application"}, "post": {"facility_name": "test facility"}},
     "create_adjustment_request": {"kwargs": {}},
     "edit_adjustment_request": {"kwargs": {"request_id": 1}},
+    "mark_adjustment_as_applied": {"login_id": 1},
+    "apply_adjustment": {"login_id": 1},
+    "delete_adjustment_request": {"kwargs": {"request_id": 2}, "login_id": 3},
+    "adjustment_request_reply": {"kwargs": {"request_id": 2}, "login_id": 3, "post": {"reply_content": "new message"}},
     "change_reservation_date": {
         "login_id": 1,
         "post": {
             "id": 2,
             "new_start": (start + datetime.timedelta(hours=12))
             .replace(minute=15)
             .strftime(settings.DATETIME_INPUT_FORMATS[0]),
@@ -132,14 +140,15 @@
     "knowledge_base_items_search": {"kwargs": {"kind": "user"}},
     "knowledge_base_categories": {"kwargs": {"kind": "user"}},
     "knowledge_base_all_in_one": {"kwargs": {"kind": "user"}},
     "training_tool_search": {"kwargs": {"training_type": "request"}},
 }
 
 urls_to_skip = [
+    "api-root",
     "kiosk_tool_reservation",
     "cancel_reservation_from_kiosk",
     "create_reservation",
     "resize_reservation",
     "move_reservation",
     "cancel_reservation",
     "change_reservation_project",
@@ -149,16 +158,19 @@
     "cancel_outage",
     "reset_tool_counter",
     "update_safety_issue",
     "new_reservation",
     "media_view",
     "media_list_view",
     "remove_document_from_project",
-    "adjustment_request_reply",
-    "delete_adjustment_request",
+    "enter_wait_list_from_kiosk",
+    "exit_wait_list_from_kiosk",
+    "enter_wait_list",
+    "exit_wait_list",
+    "check_and_update_wait_list",
 ]
 # Skip new training URLs
 urls_to_skip += [
     "create_training_event_calendar",
     "create_training_event",
     "resize_training_event",
     "move_training_event",
```

## NEMO/tests/test_utilities.py

```diff
@@ -24,23 +24,14 @@
     user, created = User.objects.get_or_create(
         username="test_user", first_name="Testy", last_name="McTester", badge_number=222222
     )
     login_as(client, user)
     return user
 
 
-def login_as_access_user(client: Client) -> User:
-    user, created = User.objects.get_or_create(username="area_access_user", first_name="Area", last_name="Access")
-    user.user_permissions.add(Permission.objects.get(codename="add_areaaccessrecord"))
-    user.user_permissions.add(Permission.objects.get(codename="change_areaaccessrecord"))
-    user.save()
-    login_as(client, user)
-    return user
-
-
 def login_as_user_with_permissions(client: Client, permissions: List[str]) -> User:
     user, created = User.objects.get_or_create(
         username="test_user", first_name="Testy", last_name="McTester", badge_number=222222
     )
     for permission in Permission.objects.filter(codename__in=permissions):
         user.user_permissions.add(permission)
     user.save()
@@ -60,23 +51,30 @@
             diff2 = set(e.error_dict.keys()).difference(error_fields)
             if diff1:
                 test_case.fail(f"{diff1} don't have errors but should")
             if diff2:
                 test_case.fail(f"{diff2} have errors but shouldn't")
 
 
-def create_user_and_project(is_staff=False) -> Tuple[User, Project]:
+def create_user_and_project(
+    is_staff=False, add_kiosk_permission=False, add_area_access_permissions=False
+) -> Tuple[User, Project]:
     count = User.objects.count()
     user: User = User.objects.create(
         first_name="Testy",
         last_name="McTester",
         username=f"test{count}",
         email=f"test{count}@test.com",
         is_staff=is_staff,
     )
+    if add_kiosk_permission:
+        user.user_permissions.add(Permission.objects.get(codename="kiosk"))
+    if add_area_access_permissions:
+        user.user_permissions.add(Permission.objects.get(codename="add_areaaccessrecord"))
+        user.user_permissions.add(Permission.objects.get(codename="change_areaaccessrecord"))
     project = Project.objects.create(
         name=f"TestProject{count}", account=Account.objects.create(name=f"TestAccount{count}")
     )
     user.projects.add(project)
     return user, project
```

## NEMO/tests/test_calendar/test_outage.py

```diff
@@ -53,15 +53,15 @@
     def test_outage_policy_problems(self):
         self.outage_policy_problems(tool.id, ReservationItemType.TOOL)
         self.outage_policy_problems(area.id, ReservationItemType.AREA)
 
     def outage_policy_problems(self, item_id: int, item_type: ReservationItemType):
         start = datetime.now()
         end = start - timedelta(hours=1)
-        data = self.get_outage_data(start=start, end=end, item_id=item_id, item_type=item_type)
+        data = self.get_outage_data(title="Outage", start=start, end=end, item_id=item_id, item_type=item_type)
 
         # regular user should not be able to create outage
         login_as_user(self.client)
         response = self.client.get(reverse("create_outage"), {}, follow=True)
         test_response_is_landing_page(self, response)
         # back to staff mode
         login_as_staff(self.client)
@@ -81,36 +81,44 @@
             Reservation.objects.create(
                 user=owner, creator=owner, tool=tool, start=start_reservation, end=end_reservation, short_notice=False
             )
         elif item_type == ReservationItemType.AREA:
             Reservation.objects.create(
                 user=owner, creator=owner, area=area, start=start_reservation, end=end_reservation, short_notice=False
             )
-        data = self.get_outage_data(start=start, end=end, item_id=item_id, item_type=item_type)
+        data = self.get_outage_data(title="Outage", start=start, end=end, item_id=item_id, item_type=item_type)
         response = self.client.post(reverse("create_outage"), data, follow=True)
         self.assertEqual(response.status_code, 400)
         self.assertEqual(
             response.content.decode(),
             "Your scheduled outage coincides with a reservation that already exists. Please choose a different time.",
         )
 
         # try to schedule an outage that starts before but ends slightly after the reservation starts
         data = self.get_outage_data(
-            start=start - timedelta(hours=1), end=end - timedelta(minutes=59), item_id=item_id, item_type=item_type
+            title="Outage",
+            start=start - timedelta(hours=1),
+            end=end - timedelta(minutes=59),
+            item_id=item_id,
+            item_type=item_type,
         )
         response = self.client.post(reverse("create_outage"), data, follow=True)
         self.assertEqual(response.status_code, 400)
         self.assertEqual(
             response.content.decode(),
             "Your scheduled outage coincides with a reservation that already exists. Please choose a different time.",
         )
 
         # try to schedule an outage that starts slightly before the reservation ends
         data = self.get_outage_data(
-            start=start + timedelta(minutes=59), end=end + timedelta(hours=1), item_id=item_id, item_type=item_type
+            title="Outage",
+            start=start + timedelta(minutes=59),
+            end=end + timedelta(hours=1),
+            item_id=item_id,
+            item_type=item_type,
         )
         response = self.client.post(reverse("create_outage"), data, follow=True)
         self.assertEqual(response.status_code, 400)
         self.assertEqual(
             response.content.decode(),
             "Your scheduled outage coincides with a reservation that already exists. Please choose a different time.",
         )
```

## NEMO/tests/test_interlocks/test_stanford_interlock.py

```diff
@@ -3,14 +3,15 @@
 from socket import socket
 from unittest import mock
 
 from django.conf import settings
 from django.test import TestCase
 
 from NEMO.interlocks import StanfordInterlock
+
 # This method will be used by the mock to replace socket.send
 # In the stanford interlock case, it will return a list of byte
 from NEMO.models import Interlock, InterlockCard, InterlockCardCategory, Tool, User
 
 server1 = "server1.nist.gov"
 server2 = "https://server2.nist.gov"
 port1 = 80
```

## NEMO/tests/test_sensors/test_modbus_sensors.py

```diff
@@ -35,13 +35,10 @@
         card = SensorCard.objects.create(server="server1.nist.gov", port=502, category=interlock_card_category)
         sensor = Sensor()
         sensor.sensor_card = card
         sensor.formula = "read_coils(1)"
         # result should be 0 or 1 (random), so test a few times to make sure we get both
         first_result = evaluate_modbus_expression(sensor)
         second_result = evaluate_modbus_expression(sensor)
-        print(first_result)
-        print(second_result)
         while first_result == second_result:
             second_result = evaluate_modbus_expression(sensor)
-            print(second_result)
             self.assertIn(second_result, [0, 1])
```

## NEMO/views/access_requests.py

```diff
@@ -211,19 +211,15 @@
             email
             for user in cc_users
             for email in user.get_emails(user.get_preferences().email_send_access_request_updates)
         ]
         status = (
             "approved"
             if access_request.status == RequestStatus.APPROVED
-            else "denied"
-            if access_request.status == RequestStatus.DENIED
-            else "updated"
-            if edit
-            else "received"
+            else "denied" if access_request.status == RequestStatus.DENIED else "updated" if edit else "received"
         )
         absolute_url = get_full_url(reverse("user_requests", kwargs={"tab": "access"}), request)
         color_type = "success" if status == "approved" else "danger" if status == "denied" else "info"
         message = render_email_template(
             access_request_notification_email,
             {
                 "template_color": bootstrap_primary_color(color_type),
```

## NEMO/views/accounts_and_projects.py

```diff
@@ -258,34 +258,44 @@
 
 @accounting_or_manager_required
 @require_http_methods(["GET", "POST"])
 def transfer_charges(request):
     if not ProjectsAccountsCustomization.get_bool("project_allow_transferring_charges"):
         return redirect("landing")
     form = ProjectTransferForm(request.POST or None)
-    project = Project.objects.filter(pk=form.data.get("project_id")).first()
-    new_project_id = form.data.get("new_project_id")
-    new_project = Project.objects.filter(pk=new_project_id).first() if new_project_id else None
-    user_id = form.data.get("user_id")
-    customer = User.objects.filter(id=user_id).first() if user_id else None
-    dictionary = {"form": form, "project": project, "new_project": new_project, "customer": customer}
+    project = None
+    new_project = None
+    customer = None
 
+    dictionary = {}
     if request.method == "POST":
         if form.is_valid():
+            project = Project.objects.filter(pk=form.cleaned_data.get("project_id")).first()
+            new_project_id = form.cleaned_data.get("new_project_id")
+            user_id = form.cleaned_data.get("user_id")
+            if new_project_id:
+                new_project = Project.objects.filter(pk=new_project_id).first()
+            if user_id:
+                customer = User.objects.filter(id=user_id).first()
             charges = get_charges_for_project_and_user(request.POST, customer.username if customer else None)
             confirm = "confirm" in request.POST
             if confirm:
                 if not new_project_id:
                     dictionary["charges"] = charges
                     form.add_error("new_project_id", _("This field is required"))
                 else:
                     do_transfer_charges(charges, new_project.id)
-                    messages.success(request, f"{len(charges)} charges were transfered from {project} to {new_project}")
+                    messages.success(
+                        request,
+                        f"{len(charges)} charges were transferred from {project} to {new_project}",
+                        extra_tags="data-speed=25000",
+                    )
             else:
                 dictionary["charges"] = charges
+    dictionary.update({"form": form, "project": project, "new_project": new_project, "customer": customer})
     return render(request, "accounts_and_projects/transfer_charges.html", dictionary)
 
 
 def get_charges_for_project_and_user(params: QueryDict, username: str = None) -> List[BillableItem]:
     dictionary = params.copy()
     dictionary["username"] = username
     if not dictionary.get("end"):
```

## NEMO/views/adjustment_requests.py

```diff
@@ -138,28 +138,42 @@
         )
 
         # add errors to the form for better display
         for error in errors:
             form.add_error(None, error)
 
         if form.is_valid():
+            adjust_charge = False
             if not edit:
                 form.instance.creator = user
             if edit and user in adjustment_request.reviewers():
-                decision = [state for state in ["approve_request", "deny_request"] if state in request.POST]
+                decision = [
+                    state
+                    for state in ["approve_request", "approve_apply_request", "deny_request"]
+                    if state in request.POST
+                ]
                 if decision:
-                    if next(iter(decision)) == "approve_request":
+                    actual_decision = next(iter(decision))
+                    if actual_decision.startswith("approve_"):
                         adjustment_request.status = RequestStatus.APPROVED
+                        if actual_decision == "approve_apply_request" and UserRequestsCustomization.get_bool(
+                            "adjustment_requests_apply_button"
+                        ):
+                            adjust_charge = True
                     else:
                         adjustment_request.status = RequestStatus.DENIED
                     adjustment_request.reviewer = user
 
             form.instance.last_updated_by = user
             new_adjustment_request = form.save()
 
+            # We only apply it here in case something goes wrong before when saving it
+            if adjust_charge:
+                new_adjustment_request.apply_adjustment(user)
+
             reviewers: Set[User] = set(list(adjustment_request.reviewers()))
 
             create_adjustment_request_notification(new_adjustment_request)
             if edit:
                 # remove notification for current user and other reviewers
                 delete_notification(Notification.Types.ADJUSTMENT_REQUEST, adjustment_request.id, [user])
                 if user in reviewers:
@@ -213,41 +227,78 @@
     if not UserRequestsCustomization.get_bool("adjustment_requests_enabled"):
         return HttpResponseBadRequest("Adjustment requests are not enabled")
 
     adjustment_request = get_object_or_404(AdjustmentRequest, id=request_id)
 
     if adjustment_request.creator != request.user:
         return HttpResponseBadRequest("You are not allowed to delete a request you didn't create.")
-    if adjustment_request and adjustment_request.status != RequestStatus.PENDING:
+    if adjustment_request.status != RequestStatus.PENDING:
         return HttpResponseBadRequest("You are not allowed to delete a request that was already completed.")
 
     adjustment_request.deleted = True
     adjustment_request.save(update_fields=["deleted"])
     delete_notification(Notification.Types.ADJUSTMENT_REQUEST, adjustment_request.id)
     return redirect("user_requests", "adjustment")
 
 
+@login_required
+@require_GET
+def mark_adjustment_as_applied(request, request_id):
+    user: User = request.user
+    if not UserRequestsCustomization.get_bool("adjustment_requests_enabled"):
+        return HttpResponseBadRequest("Adjustment requests are not enabled")
+
+    adjustment_request = get_object_or_404(AdjustmentRequest, id=request_id)
+
+    if not user.is_user_office and user not in adjustment_request.reviewers():
+        return HttpResponseBadRequest("You are not allowed to mark an adjustment as applied unless you are a reviewer.")
+    if adjustment_request.status != RequestStatus.APPROVED:
+        return HttpResponseBadRequest(
+            "You cannot mark a adjustment as applied unless the request has been approved first"
+        )
+
+    adjustment_request.applied = True
+    adjustment_request.applied_by = request.user
+    adjustment_request.save(update_fields=["applied", "applied_by"])
+    return HttpResponse()
+
+
+@login_required
+@require_GET
+def apply_adjustment(request, request_id):
+    if not UserRequestsCustomization.get_bool("adjustment_requests_enabled"):
+        return HttpResponseBadRequest("Adjustment requests are not enabled")
+    if not UserRequestsCustomization.get_bool("adjustment_requests_apply_button"):
+        return HttpResponseBadRequest("Applying adjustments is not allowed")
+
+    adjustment_request = get_object_or_404(AdjustmentRequest, id=request_id)
+
+    if request.user not in adjustment_request.reviewers():
+        return HttpResponseBadRequest("You are not allowed to adjust the charge unless you are a reviewer.")
+    if adjustment_request.status != RequestStatus.APPROVED:
+        return HttpResponseBadRequest("You cannot apply a adjustment unless the request has been approved first")
+
+    adjustment_request.apply_adjustment(request.user)
+    return HttpResponse()
+
+
 def send_request_received_email(request, adjustment_request: AdjustmentRequest, edit, reviewers: Set[User]):
     user_office_email = EmailsCustomization.get("user_office_email_address")
     adjustment_request_notification_email = get_media_file_contents("adjustment_request_notification_email.html")
     if user_office_email and adjustment_request_notification_email:
         # reviewers
         reviewer_emails = [
             email
             for user in reviewers
             for email in user.get_emails(user.get_preferences().email_send_adjustment_request_updates)
         ]
         status = (
             "approved"
             if adjustment_request.status == RequestStatus.APPROVED
-            else "denied"
-            if adjustment_request.status == RequestStatus.DENIED
-            else "updated"
-            if edit
-            else "received"
+            else "denied" if adjustment_request.status == RequestStatus.DENIED else "updated" if edit else "received"
         )
         absolute_url = get_full_url(reverse("user_requests", kwargs={"tab": "adjustment"}), request)
         color_type = "success" if status == "approved" else "danger" if status == "denied" else "info"
         dictionary = {
             "template_color": bootstrap_primary_color(color_type),
             "adjustment_request": adjustment_request,
             "status": status,
@@ -273,15 +324,16 @@
                 from_email=adjustment_request.reviewer.email,
                 to=adjustment_request.creator.get_emails(creator_notification),
                 cc=reviewer_emails,
                 email_category=EmailCategory.ADJUSTMENT_REQUESTS,
             )
 
         # Send separate email to the user office (with the extra note) when a request is approved
-        if adjustment_request.status == RequestStatus.APPROVED:
+        # Unless it's also been applied in which case there is nothing to do so no need to notify them
+        if not adjustment_request.applied and adjustment_request.status == RequestStatus.APPROVED:
             dictionary["manager_note"] = adjustment_request.manager_note
             dictionary["user_office"] = True
             message = render_email_template(adjustment_request_notification_email, dictionary)
             send_mail(
                 subject=f"{adjustment_request.creator.get_name()}'s adjustment request has been {status}",
                 content=message,
                 from_email=adjustment_request.reviewer.email,
@@ -402,27 +454,31 @@
     table_result.add_header(("last_updated", "Last updated"))
     table_result.add_header(("creator", "Creator"))
     table_result.add_header(("item", "Item"))
     table_result.add_header(("new_start", "New start"))
     table_result.add_header(("new_end", "New end"))
     table_result.add_header(("difference", "Difference"))
     table_result.add_header(("reviewer", "Reviewer"))
+    table_result.add_header(("applied", "Applied"))
+    table_result.add_header(("applied_by", "Applied by"))
     for req in request_list:
         req: AdjustmentRequest = req
         table_result.add_row(
             {
                 "status": req.get_status_display(),
                 "created_date": req.creation_time,
                 "last_updated": req.last_updated,
                 "creator": req.creator,
                 "item": req.item.get_display() if req.item else "",
                 "new_start": req.new_start,
                 "new_end": req.new_end,
                 "difference": req.get_time_difference(),
                 "reviewer": req.reviewer,
+                "applied": req.applied,
+                "applied_by": req.applied_by,
             }
         )
 
     filename = f"adjustment_requests_{export_format_datetime()}.csv"
     response = table_result.to_csv()
     response["Content-Disposition"] = f'attachment; filename="{filename}"'
     return response
```

## NEMO/views/api.py

```diff
@@ -8,14 +8,16 @@
 from rest_framework.renderers import BrowsableAPIRenderer
 from rest_framework.response import Response
 from rest_framework.serializers import ListSerializer
 
 from NEMO.models import (
     Account,
     AccountType,
+    Alert,
+    AlertCategory,
     Area,
     AreaAccessRecord,
     Configuration,
     ConfigurationOption,
     ConfigurationPrecursor,
     ConfigurationPrecursorSchedule,
     ConfigurationPrecursorSlot,
@@ -39,14 +41,16 @@
     UsageEvent,
     User,
 )
 from NEMO.rest_pagination import NEMOPageNumberPagination
 from NEMO.serializers import (
     AccountSerializer,
     AccountTypeSerializer,
+    AlertCategorySerializer,
+    AlertSerializer,
     AreaAccessRecordSerializer,
     AreaSerializer,
     BillableItemSerializer,
     ConfigurationOptionSerializer,
     ConfigurationPrecursorScheduleSerializer,
     ConfigurationPrecursorSerializer,
     ConfigurationPrecursorSlotSerializer,
@@ -136,14 +140,44 @@
                 new_renderers.append(renderer())
         return new_renderers
 
     def get_filename(self, *args, **kwargs):
         return f"{self.filename}-{export_format_datetime()}.xlsx"
 
 
+class AlertCategoryViewSet(viewsets.ModelViewSet):
+    filename = "alert_categories"
+    queryset = AlertCategory.objects.all()
+    serializer_class = AlertCategorySerializer
+    filterset_fields = {
+        "id": ["exact", "in"],
+        "name": ["exact", "iexact", "contains", "icontains"],
+    }
+
+
+class AlertViewSet(ModelViewSet):
+    filename = "alerts"
+    queryset = Alert.objects.all()
+    serializer_class = AlertSerializer
+    filterset_fields = {
+        "id": ["exact", "in"],
+        "title": ["exact", "iexact", "contains", "icontains"],
+        "category": ["exact", "iexact"],
+        "contents": ["contains", "icontains"],
+        "creation_time": ["month", "year", "day", "gte", "gt", "lte", "lt"],
+        "creator": ["exact", "in"],
+        "user": ["exact", "in"],
+        "debut_time": ["month", "year", "day", "gte", "gt", "lte", "lt", "isnull"],
+        "expiration_time": ["month", "year", "day", "gte", "gt", "lte", "lt", "isnull"],
+        "dismissible": ["exact"],
+        "expired": ["exact"],
+        "deleted": ["exact"],
+    }
+
+
 class UserViewSet(ModelViewSet):
     filename = "users"
     queryset = User.objects.all()
     serializer_class = UserSerializer
     filterset_fields = {
         "id": ["exact", "in"],
         "type": ["exact", "in"],
```

## NEMO/views/area_access.py

```diff
@@ -139,59 +139,59 @@
             policy.check_billing_to_project(record.project, record.customer, record.area, record)
             policy.check_to_enter_area(area=record.area, user=record.customer)
         except ProjectChargeException as e:
             dictionary["error_message"] = e.msg
             return render(request, "area_access/new_area_access_record.html", dictionary)
         except NoAccessiblePhysicalAccessUserError as error:
             if error.closure_time:
-                dictionary[
-                    "error_message"
-                ] = "{} does not have access to the {} at this time due to the following closure: {}.".format(
-                    record.customer, record.area.name, error.closure_time.closure.name
+                dictionary["error_message"] = (
+                    "{} does not have access to the {} at this time due to the following closure: {}.".format(
+                        record.customer, record.area.name, error.closure_time.closure.name
+                    )
                 )
             else:
-                dictionary[
-                    "error_message"
-                ] = "{} does not have a physical access level that allows access to the {} at this time.".format(
-                    record.customer, record.area.name
+                dictionary["error_message"] = (
+                    "{} does not have a physical access level that allows access to the {} at this time.".format(
+                        record.customer, record.area.name
+                    )
                 )
             return render(request, "area_access/new_area_access_record.html", dictionary)
         except UnavailableResourcesUserError as error:
-            dictionary[
-                "error_message"
-            ] = "The {} is inaccessible because a required resource ({}) is unavailable. You must make all required resources for this area available before creating a new area access record.".format(
-                error.area.name, error.resources[0]
+            dictionary["error_message"] = (
+                "The {} is inaccessible because a required resource ({}) is unavailable. You must make all required resources for this area available before creating a new area access record.".format(
+                    error.area.name, error.resources[0]
+                )
             )
             return render(request, "area_access/new_area_access_record.html", dictionary)
         except MaximumCapacityReachedError as error:
-            dictionary[
-                "error_message"
-            ] = "The {} is inaccessible because the {} has reached its maximum capacity. Wait for somebody to exit and try again.".format(
-                record.area.name, error.area.name
+            dictionary["error_message"] = (
+                "The {} is inaccessible because the {} has reached its maximum capacity. Wait for somebody to exit and try again.".format(
+                    record.area.name, error.area.name
+                )
             )
             return render(request, "area_access/new_area_access_record.html", dictionary)
         except ScheduledOutageInProgressError as error:
-            dictionary[
-                "error_message"
-            ] = "The {} is inaccessible because a scheduled outage is in effect. You must wait for the outage to end before creating a new area access record.".format(
-                error.area.name
+            dictionary["error_message"] = (
+                "The {} is inaccessible because a scheduled outage is in effect. You must wait for the outage to end before creating a new area access record.".format(
+                    error.area.name
+                )
             )
             return render(request, "area_access/new_area_access_record.html", dictionary)
         except ReservationRequiredUserError:
-            dictionary[
-                "error_message"
-            ] = "You do not have a current reservation for the {}. Please make a reservation before trying to access this area.".format(
-                record.area.name
+            dictionary["error_message"] = (
+                "You do not have a current reservation for the {}. Please make a reservation before trying to access this area.".format(
+                    record.area.name
+                )
             )
             return render(request, "area_access/new_area_access_record.html", dictionary)
         if record.customer.billing_to_project():
-            dictionary[
-                "error_message"
-            ] = "{} is already billing area access to another area. The user must log out of that area before entering another.".format(
-                record.customer
+            dictionary["error_message"] = (
+                "{} is already billing area access to another area. The user must log out of that area before entering another.".format(
+                    record.customer
+                )
             )
             return render(request, "area_access/new_area_access_record.html", dictionary)
         if record.project not in record.customer.active_projects():
             dictionary["error_message"] = "{} is not authorized to bill that project.".format(record.customer)
             return render(request, "area_access/new_area_access_record.html", dictionary)
         record.save()
         dictionary["success"] = "{} is now logged in to the {}.".format(record.customer, record.area.name)
@@ -303,32 +303,32 @@
     if request.GET.get("area_id"):
         dictionary["area_id"] = quiet_int(request.GET["area_id"])
 
     facility_name = ApplicationCustomization.get("facility_name")
     try:
         policy.check_to_enter_any_area(user)
     except InactiveUserError:
-        dictionary[
-            "error_message"
-        ] = f"Your account has been deactivated. Please visit the {facility_name} staff to resolve the problem."
+        dictionary["error_message"] = (
+            f"Your account has been deactivated. Please visit the {facility_name} staff to resolve the problem."
+        )
         return render(request, "area_access/self_login.html", dictionary)
     except NoActiveProjectsForUserError:
-        dictionary[
-            "error_message"
-        ] = f"You are not a member of any active projects. You won't be able to use any interlocked {facility_name} tools. Please visit the {facility_name} user office for more information."
+        dictionary["error_message"] = (
+            f"You are not a member of any active projects. You won't be able to use any interlocked {facility_name} tools. Please visit the {facility_name} user office for more information."
+        )
         return render(request, "area_access/self_login.html", dictionary)
     except PhysicalAccessExpiredUserError:
-        dictionary[
-            "error_message"
-        ] = f"Your physical access to the {facility_name} has expired. Have you completed your safety training within the last year? Please visit the User Office to renew your access."
+        dictionary["error_message"] = (
+            f"Your physical access to the {facility_name} has expired. Have you completed your safety training within the last year? Please visit the User Office to renew your access."
+        )
         return render(request, "area_access/self_login.html", dictionary)
     except NoPhysicalAccessUserError:
-        dictionary[
-            "error_message"
-        ] = f"You have not been granted physical access to any {facility_name} area. Please visit the User Office if you believe this is an error."
+        dictionary["error_message"] = (
+            f"You have not been granted physical access to any {facility_name} area. Please visit the User Office if you believe this is an error."
+        )
         return render(request, "area_access/self_login.html", dictionary)
 
     if load_areas:
         dictionary["user_accessible_areas"], dictionary["areas"] = load_areas_for_use_in_template(user)
     else:
         dictionary["user_accessible_areas"] = []
         dictionary["areas"] = []
@@ -343,41 +343,41 @@
             policy.check_billing_to_project(p, user, a, AreaAccessRecord(customer=user, project=p, area=a))
             log_in_user_to_area(a, request.user, p)
         except ProjectChargeException as e:
             dictionary["area_error_message"] = e.msg
             return render(request, "area_access/self_login.html", dictionary)
         except NoAccessiblePhysicalAccessUserError as error:
             if error.closure_time:
-                dictionary[
-                    "area_error_message"
-                ] = f"You do not have access to the {error.area.name} at this time due to the following closure: {error.closure_time.closure.name}. The closure ends on {localize(error.closure_time.end_time.astimezone(timezone.get_current_timezone()))}"
+                dictionary["area_error_message"] = (
+                    f"You do not have access to the {error.area.name} at this time due to the following closure: {error.closure_time.closure.name}. The closure ends on {localize(error.closure_time.end_time.astimezone(timezone.get_current_timezone()))}"
+                )
             else:
-                dictionary[
-                    "area_error_message"
-                ] = f"You do not have access to the {error.area.name} at this time. Please visit the User Office if you believe this is an error."
+                dictionary["area_error_message"] = (
+                    f"You do not have access to the {error.area.name} at this time. Please visit the User Office if you believe this is an error."
+                )
             return render(request, "area_access/self_login.html", dictionary)
         except UnavailableResourcesUserError as error:
-            dictionary[
-                "area_error_message"
-            ] = f"The {error.area.name} is inaccessible because a required resource is unavailable ({error.resources[0]})."
+            dictionary["area_error_message"] = (
+                f"The {error.area.name} is inaccessible because a required resource is unavailable ({error.resources[0]})."
+            )
             return render(request, "area_access/self_login.html", dictionary)
         except ScheduledOutageInProgressError as error:
-            dictionary[
-                "area_error_message"
-            ] = f"The {error.area.name} is inaccessible because a scheduled outage is in progress."
+            dictionary["area_error_message"] = (
+                f"The {error.area.name} is inaccessible because a scheduled outage is in progress."
+            )
             return render(request, "area_access/self_login.html", dictionary)
         except MaximumCapacityReachedError as error:
-            dictionary[
-                "area_error_message"
-            ] = f"The {error.area.name} is inaccessible because it has reached its maximum capacity. Wait for somebody to exit and try again."
+            dictionary["area_error_message"] = (
+                f"The {error.area.name} is inaccessible because it has reached its maximum capacity. Wait for somebody to exit and try again."
+            )
             return render(request, "area_access/self_login.html", dictionary)
         except ReservationRequiredUserError as error:
-            dictionary[
-                "area_error_message"
-            ] = f"You do not have a current reservation for the {error.area.name}. Please make a reservation before trying to access this area."
+            dictionary["area_error_message"] = (
+                f"You do not have a current reservation for the {error.area.name}. Please make a reservation before trying to access this area."
+            )
             return render(request, "area_access/self_login.html", dictionary)
         except Exception as error:
             area_access_logger.exception(error)
             dictionary["area_error_message"] = "unexpected error"
             return render(request, "area_access/self_login.html", dictionary)
         return redirect(reverse("landing"))
```

## NEMO/views/calendar.py

```diff
@@ -15,14 +15,15 @@
 from django.utils.safestring import mark_safe
 from django.utils.timezone import make_aware
 from django.views.decorators.http import require_GET, require_POST
 
 from NEMO.decorators import disable_session_expiry_refresh, postpone, staff_member_required, synchronized
 from NEMO.exceptions import ProjectChargeException, RequiredUnansweredQuestionsException, ToolConfigurationException
 from NEMO.forms import CalendarTrainingEventForm
+from NEMO.forms import ScheduledOutageForm, save_scheduled_outage
 from NEMO.models import (
     Area,
     AreaAccessRecord,
     Configuration,
     ConfigurationOption,
     ConfigurationPrecursor,
     ConfigurationPrecursorSlot,
@@ -41,25 +42,22 @@
     UserPreferences,
 )
 from NEMO.policy import accessory_conflicts_for_reservation, policy_class as policy
 from NEMO.utilities import (
     RecurrenceFrequency,
     bootstrap_primary_color,
     create_ics,
-    date_input_format,
     datetime_input_format,
     distinct_qs_value_list,
     extract_times,
     format_datetime,
     get_email_from_settings,
     get_full_url,
-    get_recurring_rule,
     localize,
     parse_parameter_string,
-    quiet_int,
     render_email_template,
     send_mail,
 )
 from NEMO.views.constants import ADDITIONAL_INFORMATION_MAXIMUM_LENGTH
 from NEMO.views.customization import (
     ApplicationCustomization,
     CalendarCustomization,
@@ -94,18 +92,21 @@
 
     from NEMO.widgets.item_tree import ItemTree
 
     rendered_item_tree_html = ItemTree().render(None, {"tools": tools, "areas": areas, "user": request.user})
 
     calendar_view = CalendarCustomization.get("calendar_view")
     calendar_first_day_of_week = CalendarCustomization.get("calendar_first_day_of_week")
-    calendar_time_format = CalendarCustomization.get("calendar_time_format")
+    calendar_axis_time_format = CalendarCustomization.get("calendar_axis_time_format")
     calendar_day_column_format = CalendarCustomization.get("calendar_day_column_format")
+    calendar_day_time_format = CalendarCustomization.get("calendar_day_time_format")
     calendar_week_column_format = CalendarCustomization.get("calendar_week_column_format")
+    calendar_week_time_format = CalendarCustomization.get("calendar_week_time_format")
     calendar_month_column_format = CalendarCustomization.get("calendar_month_column_format")
+    calendar_month_time_format = CalendarCustomization.get("calendar_month_time_format")
     calendar_start_of_the_day = CalendarCustomization.get("calendar_start_of_the_day")
     calendar_now_indicator = CalendarCustomization.get("calendar_now_indicator")
     calendar_all_tools = CalendarCustomization.get("calendar_all_tools")
     calendar_all_areas = CalendarCustomization.get("calendar_all_areas")
     calendar_all_areastools = CalendarCustomization.get("calendar_all_areastools")
     calendar_qualified_tools = CalendarCustomization.get("calendar_qualified_tools")
 
@@ -127,18 +128,21 @@
         "rendered_item_tree_html": rendered_item_tree_html,
         "tools": list(tools),
         "areas": list(areas),
         "auto_select_item_id": item_id,
         "auto_select_item_type": item_type,
         "calendar_view": calendar_view,
         "calendar_first_day_of_week": calendar_first_day_of_week,
-        "calendar_time_format": calendar_time_format,
+        "calendar_axis_time_format": calendar_axis_time_format,
         "calendar_day_column_format": calendar_day_column_format,
+        "calendar_day_time_format": calendar_day_time_format,
         "calendar_week_column_format": calendar_week_column_format,
+        "calendar_week_time_format": calendar_week_time_format,
         "calendar_month_column_format": calendar_month_column_format,
+        "calendar_month_time_format": calendar_month_time_format,
         "calendar_start_of_the_day": calendar_start_of_the_day,
         "calendar_now_indicator": calendar_now_indicator,
         "calendar_all_tools": calendar_all_tools,
         "calendar_all_areas": calendar_all_areas,
         "calendar_all_areastools": calendar_all_areastools,
         "calendar_qualified_tools": calendar_qualified_tools,
         "create_reservation_confirmation": create_reservation_confirmation,
@@ -720,74 +724,37 @@
 
 @staff_member_required
 @require_POST
 def create_outage(request):
     """Create an outage."""
     try:
         start, end = extract_times(request.POST)
-        duration = end - start
         item_type = ReservationItemType(request.POST["item_type"])
         item_id = request.POST.get("item_id")
     except Exception as e:
         return HttpResponseBadRequest(str(e))
     item = get_object_or_404(item_type.get_object_class(), id=item_id)
     # Create the new outage:
-    outage = ScheduledOutage()
-    outage.creator = request.user
-    outage.category = request.POST.get("category", "")[:200]
-    outage.outage_item = item
-    outage.start = start
-    outage.end = end
-
-    # If there is a policy problem for the outage then return the error...
-    policy_problem = policy.check_to_create_outage(outage)
-    if policy_problem:
-        return HttpResponseBadRequest(policy_problem)
-
-    # Make sure there is at least an outage title
-    if not request.POST.get("title"):
+    form = ScheduledOutageForm(request.POST)
+    if not form.is_valid():
         calendar_outage_recurrence_limit = CalendarCustomization.get("calendar_outage_recurrence_limit")
         dictionary = {
+            "form": form,
+            "outage_submitted": request.POST.get("outage_submitted"),
             "categories": ScheduledOutageCategory.objects.all(),
             "recurrence_intervals": RecurrenceFrequency.choices(),
             "recurrence_date_start": start.date(),
             "calendar_outage_recurrence_limit": calendar_outage_recurrence_limit,
         }
         return render(request, "calendar/scheduled_outage_information.html", dictionary)
 
-    outage.title = request.POST["title"]
-    outage.details = request.POST.get("details", "")
-
-    if request.POST.get("recurring_outage") == "on":
-        # we have to remove tz before creating rules otherwise 8am would become 7am after DST change for example.
-        start_no_tz = outage.start.replace(tzinfo=None)
-        end_no_tz = outage.end.replace(tzinfo=None)
-
-        submitted_frequency = request.POST.get("recurrence_frequency")
-        submitted_date_until = request.POST.get("recurrence_until", None)
-        date_until_no_tz = end_no_tz.replace(hour=0, minute=0, second=0)
-        if submitted_date_until:
-            date_until_no_tz = datetime.strptime(submitted_date_until, date_input_format)
-        date_until_no_tz += timedelta(days=1, seconds=-1)  # set at the end of the day
-        frequency = RecurrenceFrequency(quiet_int(submitted_frequency, RecurrenceFrequency.DAILY.index))
-        rules = get_recurring_rule(
-            start_no_tz, frequency, date_until_no_tz, int(request.POST.get("recurrence_interval", 1))
-        )
-        for rule in list(rules):
-            recurring_outage = ScheduledOutage()
-            recurring_outage.creator = outage.creator
-            recurring_outage.category = outage.category
-            recurring_outage.outage_item = outage.outage_item
-            recurring_outage.title = outage.title
-            recurring_outage.details = outage.details
-            recurring_outage.start = localize(start_no_tz.replace(year=rule.year, month=rule.month, day=rule.day))
-            recurring_outage.end = recurring_outage.start + duration
-            recurring_outage.save()
-    else:
-        outage.save()
+    # If there is a policy problem for the outage then return the error...
+    errors = save_scheduled_outage(form, request.user, item, start=start, end=end)
+    if errors:
+        return HttpResponseBadRequest(errors)
 
     return HttpResponse()
 
 
 @login_required
 @require_POST
 def resize_reservation(request):
@@ -1291,17 +1258,19 @@
         if training_details and training_details.duration
         else TrainingCustomization.get_int("training_event_default_duration")
     )
     if default_duration:
         training.end = training.start + timedelta(minutes=default_duration)
     initial = {
         "duration": training.duration,
-        "capacity": training_details.capacity
-        if training_details and training_details.capacity
-        else TrainingCustomization.get_int("training_event_default_capacity"),
+        "capacity": (
+            training_details.capacity
+            if training_details and training_details.capacity
+            else TrainingCustomization.get_int("training_event_default_capacity")
+        ),
     }
 
     # Check for policy issues
     policy_problem = policy.check_to_create_training(training)
     if policy_problem:
         return HttpResponseBadRequest(policy_problem)
     else:
```

## NEMO/views/customization.py

```diff
@@ -253,18 +253,21 @@
 
 
 @customization(key="calendar", title="Calendar")
 class CalendarCustomization(CustomizationBase):
     variables = {
         "calendar_view": "agendaWeek",
         "calendar_first_day_of_week": "1",
-        "calendar_time_format": "ha",
+        "calendar_axis_time_format": "ha",
         "calendar_day_column_format": "dddd MM/DD/YYYY",
+        "calendar_day_time_format": "h:mm",
         "calendar_week_column_format": "ddd M/DD",
+        "calendar_week_time_format": "h:mm",
         "calendar_month_column_format": "ddd",
+        "calendar_month_time_format": "h(:mm)t",
         "calendar_start_of_the_day": "07:00:00",
         "calendar_now_indicator": "",
         "calendar_display_not_qualified_areas": "",
         "calendar_all_tools": "",
         "calendar_all_areas": "",
         "calendar_all_areastools": "",
         "calendar_outage_recurrence_limit": "90",
@@ -350,31 +353,34 @@
         "adjustment_requests_title": "Adjustment requests",
         "adjustment_requests_description": "",
         "adjustment_requests_charges_display_number": "10",
         "adjustment_requests_display_max": "",
         "adjustment_requests_time_limit_interval": "2",
         "adjustment_requests_time_limit_frequency": RecurrenceFrequency.WEEKLY.index,
         "adjustment_requests_edit_charge_button": "",
+        "adjustment_requests_apply_button": "",
         "weekend_access_notification_emails": "",
         "weekend_access_notification_cutoff_hour": "",
         "weekend_access_notification_cutoff_day": "",
     }
 
     @classmethod
     def get_date_limit(cls) -> datetime:
         try:
             interval = cls.get_int("adjustment_requests_time_limit_interval")
             freq = RecurrenceFrequency(cls.get_int("adjustment_requests_time_limit_frequency"))
             if interval and freq:
                 delta = (
                     relativedelta(months=interval)
                     if freq == RecurrenceFrequency.MONTHLY
-                    else relativedelta(weeks=interval)
-                    if freq == RecurrenceFrequency.WEEKLY
-                    else relativedelta(days=interval)
+                    else (
+                        relativedelta(weeks=interval)
+                        if freq == RecurrenceFrequency.WEEKLY
+                        else relativedelta(days=interval)
+                    )
                 )
                 return timezone.now() - delta
         except:
             pass
 
     @classmethod
     def set(cls, name: str, value):
@@ -465,14 +471,16 @@
         "tool_qualification_cc": "",
         "tool_problem_max_image_size_pixels": "750",
         "tool_problem_send_to_all_qualified_users": "",
         "tool_configuration_near_future_days": "1",
         "tool_reservation_policy_superusers_bypass": "",
         "tool_grant_access_emails": "",
         "tool_grant_access_include_physical_access": "",
+        "tool_wait_list_spot_expiration": "15",
+        "tool_wait_list_reservation_buffer": "15",
     }
 
     def validate(self, name, value):
         if (
             name
             in [
                 "tool_qualification_expiration_days",
@@ -603,14 +611,15 @@
         ("new_task_email", ".html"),
         ("out_of_time_reservation_email", ".html"),
         ("reorder_supplies_reminder_email", ".html"),
         ("reservation_ending_reminder_email", ".html"),
         ("reservation_reminder_email", ".html"),
         ("reservation_warning_email", ".html"),
         ("safety_issue_email", ".html"),
+        ("scheduled_outage_reminder_email", ".html"),
         ("staff_charge_reminder_email", ".html"),
         ("task_status_notification", ".html"),
         ("tool_qualification_expiration_email", ".html"),
         ("training_invitation_declined_email", ".html"),
         ("training_invitation_received_email", ".html"),
         ("training_request_submitted_email", ".html"),
         ("training_session_cancelled_email", ".html"),
@@ -618,14 +627,15 @@
         ("usage_reminder_email", ".html"),
         ("user_access_expiration_reminder_email", ".html"),
         ("reservation_created_user_email", ".html"),
         ("reservation_cancelled_user_email", ".html"),
         ("weekend_access_email", ".html"),
         ("recurring_charges_reminder_email", ".html"),
         ("shadowing_verification_notification_email", ".html"),
+        ("wait_list_notification_email", ".html"),
     ]
 
 
 @customization(key="rates", title="Rates")
 class RatesCustomization(CustomizationBase):
     variables = {"rates_expand_table": ""}
     files = [("rates", ".json")]
```

## NEMO/views/maintenance.py

```diff
@@ -51,17 +51,17 @@
     task = get_object_or_404(Task, id=task_id)
 
     if task.cancelled or task.resolved:
         return render(request, "maintenance/closed_task_details.html", {"task": task})
 
     dictionary = {
         "task": task,
-        "estimated_resolution_time": as_timezone(task.estimated_resolution_time)
-        if task.estimated_resolution_time
-        else None,
+        "estimated_resolution_time": (
+            as_timezone(task.estimated_resolution_time) if task.estimated_resolution_time else None
+        ),
         "initial_assessment_categories": TaskCategory.objects.filter(stage=TaskCategory.Stage.INITIAL_ASSESSMENT),
         "completion_categories": TaskCategory.objects.filter(stage=TaskCategory.Stage.COMPLETION),
         "task_statuses": TaskStatus.objects.all(),
     }
 
     if task.tool.is_configurable():
         dictionary["rendered_configuration_html"] = task.tool.configuration_widget(request.user)
```

## NEMO/views/resources.py

```diff
@@ -1,15 +1,17 @@
 from django.http import Http404
 from django.shortcuts import get_object_or_404, redirect, render
 from django.utils import timezone
 from django.views.decorators.http import require_GET, require_POST, require_http_methods
 
 from NEMO.decorators import staff_member_required
-from NEMO.forms import ScheduledOutageForm
+from NEMO.forms import ResourceScheduledOutageForm, save_scheduled_outage
 from NEMO.models import Resource, ScheduledOutage, ScheduledOutageCategory, Tool, UsageEvent
+from NEMO.utilities import RecurrenceFrequency
+from NEMO.views.customization import CalendarCustomization
 
 
 @staff_member_required
 @require_GET
 def resources(request):
     return render(
         request, "resources/resources.html", {"resources": Resource.objects.all().order_by("category", "name")}
@@ -62,33 +64,29 @@
 def schedule_outage(request, resource_id):
     resource = get_object_or_404(Resource, id=resource_id)
     outage_id = request.GET.get("outage_id") or request.POST.get("outage_id")
     try:
         outage = ScheduledOutage.objects.get(id=outage_id)
     except:
         outage = None
-    if request.method == "GET":
-        form = ScheduledOutageForm(instance=outage)
-    elif request.method == "POST":
-        form = ScheduledOutageForm(data=request.POST, instance=outage)
+    form = ResourceScheduledOutageForm(data=request.POST or None, instance=outage)
+    if request.method == "POST":
         if form.is_valid():
-            outage = form.save(commit=False)
-            outage.resource = resource
-            outage.creator = request.user
-            outage.title = f"{outage.resource.name} scheduled outage"
-            outage.save()
+            title = f"{resource.name} scheduled outage"
+            save_scheduled_outage(form, request.user, resource, title=title, check_policy=False)
             return redirect("resource_details", resource.id)
-    else:
-        form = ScheduledOutageForm()
+    calendar_outage_recurrence_limit = CalendarCustomization.get("calendar_outage_recurrence_limit")
     dictionary = {
         "resource": resource,
         "form": form,
         "editing": True if form.instance.id else False,
         "resources": Resource.objects.all().prefetch_related("category").order_by("category__name", "name"),
         "outage_categories": ScheduledOutageCategory.objects.all(),
+        "recurrence_intervals": RecurrenceFrequency.choices(),
+        "calendar_outage_recurrence_limit": calendar_outage_recurrence_limit,
     }
     return render(request, "resources/scheduled_outage.html", dictionary)
 
 
 @staff_member_required
 @require_POST
 def delete_scheduled_outage(request, resource_id, outage_id):
```

## NEMO/views/shadowing_verification.py

```diff
@@ -160,23 +160,25 @@
 def get_tools_and_qualification_levels_json(tools):
     tool_list = []
     for tool in tools:
         tool_list.append(
             {
                 "name": tool.__str__(),
                 "id": tool.id,
-                "qualification_levels": [
-                    {
-                        "name": qualification_level.__str__(),
-                        "id": qualification_level.id,
-                    }
-                    for qualification_level in tool.shadowing_verification_request_qualification_levels.all()
-                ]
-                if tool.shadowing_verification_request_qualification_levels
-                else None,
+                "qualification_levels": (
+                    [
+                        {
+                            "name": qualification_level.__str__(),
+                            "id": qualification_level.id,
+                        }
+                        for qualification_level in tool.shadowing_verification_request_qualification_levels.all()
+                    ]
+                    if tool.shadowing_verification_request_qualification_levels
+                    else None
+                ),
             }
         )
     return mark_safe(dumps(tool_list))
 
 
 def create_request_post_form(request, user, edit, shadowing_verification_request):
     form = ShadowingVerificationRequestForm(
@@ -209,17 +211,19 @@
         if decision == "approve_request":
             shadowing_verification_request.status = RequestStatus.APPROVED
             # Add qualification to user
             qualify(
                 user,
                 shadowing_verification_request.tool,
                 shadowing_verification_request.creator,
-                shadowing_verification_request.qualification_level.id
-                if shadowing_verification_request.qualification_level
-                else None,
+                (
+                    shadowing_verification_request.qualification_level.id
+                    if shadowing_verification_request.qualification_level
+                    else None
+                ),
             )
         else:
             shadowing_verification_request.status = RequestStatus.DENIED
         shadowing_verification_request.reviewer = user
 
 
 def handle_emails_and_notifications(request, edit, user, shadowing_verification_request):
@@ -282,19 +286,19 @@
         creator_email_preferences = (
             shadowing_verification_request.creator.get_preferences().email_send_shadowing_verification_updates
         )
         creator_emails = shadowing_verification_request.creator.get_emails(creator_email_preferences)
         status = (
             "approved"
             if shadowing_verification_request.status == RequestStatus.APPROVED
-            else "denied"
-            if shadowing_verification_request.status == RequestStatus.DENIED
-            else "updated"
-            if edit
-            else "received"
+            else (
+                "denied"
+                if shadowing_verification_request.status == RequestStatus.DENIED
+                else "updated" if edit else "received"
+            )
         )
         absolute_url = get_full_url(reverse("shadowing_verifications"), request)
         color_type = "success" if status == "approved" else "danger" if status == "denied" else "info"
         message = render_email_template(
             shadowing_verification_request_notification_email,
             {
                 "template_color": bootstrap_primary_color(color_type),
```

## NEMO/views/status_dashboard.py

```diff
@@ -101,17 +101,15 @@
     )
     # Check and set ability for users/staffs to look at the week/month view
     user_view_options = StatusDashboardCustomization.get("dashboard_staff_status_user_view")
     staff_view_options = StatusDashboardCustomization.get("dashboard_staff_status_staff_view")
     user_view = (
         user_view_options
         if not user.is_any_part_of_staff
-        else staff_view_options
-        if not user.is_facility_manager
-        else ""
+        else staff_view_options if not user.is_facility_manager else ""
     )
     # Take the default view from user preferences
     view = request.GET.get("view", user.get_preferences().staff_status_view)
     # If user_view is set to day only, then force day view
     # If user_view is set to day/week, then force week only if requested view is month
     if user_view == "day" or user_view == "week" and view == "month":
         view = user_view
@@ -473,17 +471,17 @@
             "operational": tool.operational,
             "required_resource_is_unavailable": False,
             "nonrequired_resource_is_unavailable": False,
             "scheduled_outage": False,
             "scheduled_partial_outage": False,
             "reservation_required": tool.reservation_required,
             "area_name": tool.requires_area_access.name if tool.requires_area_access else None,
-            "area_requires_reservation": tool.requires_area_access.requires_reservation
-            if tool.requires_area_access
-            else False,
+            "area_requires_reservation": (
+                tool.requires_area_access.requires_reservation if tool.requires_area_access else False
+            ),
         }
         if tooltip_info:
             result[tool.tool_or_parent_id()]["get_tool_info_html"] = tool.get_tool_info_html()
     for task in tasks:
         result[task.tool.id]["problematic"] = True
     for event in usage_events:
         result[event.tool.tool_or_parent_id()]["operator"] = str(event.operator)
```

## NEMO/views/tasks.py

```diff
@@ -63,23 +63,34 @@
             "heading": "Something went wrong while reporting the problem",
             "content": errors.as_ul(),
         }
         return render(request, "acknowledgement.html", dictionary)
     task = form.save()
     task_images = save_task_images(request, task)
 
-    if not settings.ALLOW_CONDITIONAL_URLS and task.force_shutdown:
-        site_title = ApplicationCustomization.get("site_title")
+    save_error = save_task(request, task, task_images)
+
+    if save_error:
         dictionary = {
             "title": "Task creation failed",
             "heading": "Something went wrong while reporting the problem",
-            "content": f"Tool control is only available on campus. When creating a task, you can't force a tool shutdown while using {site_title} off campus.",
+            "content": save_error,
         }
         return render(request, "acknowledgement.html", dictionary)
 
+    return redirect("tool_control")
+
+
+def save_task(request, task: Task, task_images: List[TaskImages] = None):
+    task.save()
+    if not settings.ALLOW_CONDITIONAL_URLS and task.force_shutdown:
+        site_title = ApplicationCustomization.get("site_title")
+
+        return f"Tool control is only available on campus. When creating a task, you can't force a tool shutdown while using {site_title} off campus."
+
     if task.force_shutdown:
         # Shut down the tool.
         task.tool.operational = False
         task.tool.save()
         # End any usage events in progress for the tool or the tool's children.
         UsageEvent.objects.filter(tool_id__in=task.tool.get_family_tool_ids(), end=None).update(end=timezone.now())
         # Lock the interlock for this tool.
@@ -97,28 +108,29 @@
         )
         concern += task.problem_description
         issue = SafetyIssue.objects.create(reporter=request.user, location=task.tool.location, concern=concern)
         send_safety_email_notification(request, issue)
 
     send_new_task_emails(request, task, task_images)
     set_task_status(request, task, request.POST.get("status"), request.user)
-    return redirect("tool_control")
+
+    return None
 
 
 def send_new_task_emails(request, task: Task, task_images: List[TaskImages]):
     message = get_media_file_contents("new_task_email.html")
     attachments = None
     if task_images:
         attachments = [create_email_attachment(task_image.image, task_image.image.name) for task_image in task_images]
     # Email the appropriate staff that a new task has been created:
     if message:
         dictionary = {
-            "template_color": bootstrap_primary_color("danger")
-            if task.force_shutdown
-            else bootstrap_primary_color("warning"),
+            "template_color": (
+                bootstrap_primary_color("danger") if task.force_shutdown else bootstrap_primary_color("warning")
+            ),
             "user": request.user,
             "task": task,
             "tool": task.tool,
             "tool_control_absolute_url": get_full_url(task.tool.get_absolute_url(), request),
         }
         subject = (
             ("SAFETY HAZARD: " if task.safety_hazard else "")
@@ -294,33 +306,33 @@
 def task_update_form(request, task_id):
     task = get_object_or_404(Task, id=task_id)
     categories = TaskCategory.objects.filter(stage=TaskCategory.Stage.INITIAL_ASSESSMENT)
     dictionary = {
         "categories": categories,
         "urgency": Task.Urgency.Choices,
         "task": task,
-        "estimated_resolution_time": as_timezone(task.estimated_resolution_time)
-        if task.estimated_resolution_time
-        else None,
+        "estimated_resolution_time": (
+            as_timezone(task.estimated_resolution_time) if task.estimated_resolution_time else None
+        ),
         "task_statuses": TaskStatus.objects.all(),
     }
     return render(request, "tasks/update.html", dictionary)
 
 
 @staff_member_required
 @require_GET
 def task_resolution_form(request, task_id):
     task = get_object_or_404(Task, id=task_id)
     categories = TaskCategory.objects.filter(stage=TaskCategory.Stage.COMPLETION)
     dictionary = {
         "categories": categories,
         "task": task,
-        "estimated_resolution_time": as_timezone(task.estimated_resolution_time)
-        if task.estimated_resolution_time
-        else None,
+        "estimated_resolution_time": (
+            as_timezone(task.estimated_resolution_time) if task.estimated_resolution_time else None
+        ),
     }
     return render(request, "tasks/resolve.html", dictionary)
 
 
 def set_task_status(request, task, status_name, user):
     if not status_name:
         return
```

## NEMO/views/timed_services.py

```diff
@@ -25,30 +25,34 @@
     MembershipHistory,
     PhysicalAccessLevel,
     Qualification,
     RecurringConsumableCharge,
     RequestStatus,
     Reservation,
     ReservationItemType,
+    ScheduledOutage,
     StaffCharge,
     TemporaryPhysicalAccessRequest,
     Tool,
+    ToolWaitList,
     UsageEvent,
     User,
 )
 from NEMO.typing import QuerySetType
 from NEMO.utilities import (
     EmailCategory,
     as_timezone,
     beginning_of_the_day,
     bootstrap_primary_color,
+    end_of_the_day,
     format_datetime,
     get_email_from_settings,
     get_full_url,
     localize,
+    is_date_in_datetime_range,
     quiet_int,
     render_email_template,
     send_mail,
 )
 from NEMO.views.adjustment_requests import adjustment_eligible_items
 from NEMO.views.area_access import log_out_user
 from NEMO.views.calendar import send_tool_free_time_notification
@@ -245,14 +249,149 @@
         email_category=EmailCategory.SYSTEM,
     )
 
 
 @login_required
 @require_GET
 @permission_required("NEMO.trigger_timed_services", raise_exception=True)
+def check_and_update_wait_list(request):
+    return do_check_and_update_wait_list()
+
+
+def do_check_and_update_wait_list(now=timezone.now()):
+    tools_with_wait_list = (
+        Tool.objects.filter(toolwaitlist__expired=False, toolwaitlist__deleted=False)
+        .exclude(_operation_mode=Tool.OperationMode.REGULAR)
+        .distinct()
+    )
+    time_to_expiration = quiet_int(ToolCustomization.get("tool_wait_list_spot_expiration"), 1)
+
+    for tool in tools_with_wait_list:
+        hybrid_mode = tool.operation_mode == Tool.OperationMode.HYBRID
+
+        # Only check the wait list if the tool is not in use
+        # And we are not in the hybrid mode exclusion zone (reservation buffer or active reservation)
+        if not tool.in_use() and not in_hybrid_mode_reservation_or_buffer_zone(tool, now):
+            top_wait_list_entry = tool.top_wait_list_entry()
+            last_turn_available_at = top_wait_list_entry.last_turn_available_at if top_wait_list_entry else None
+            turn_available_date = get_wait_list_turn_available_date(tool, top_wait_list_entry, hybrid_mode, now)
+            first_check = last_turn_available_at is None
+
+            # Notify the next user in the wait list
+            if first_check or turn_available_date > last_turn_available_at:
+                top_wait_list_entry.last_turn_available_at = turn_available_date
+                top_wait_list_entry.save()
+                last_turn_available_at = turn_available_date
+                notify_next_user_in_wait_list(top_wait_list_entry, time_to_expiration)
+
+            # Check if spot has expired
+            if not first_check and now - last_turn_available_at >= timedelta(minutes=time_to_expiration):
+                top_wait_list_entry.expired = True
+                top_wait_list_entry.date_exited = now
+                top_wait_list_entry.save()
+
+                # Use this if we want to notify next user in line in the same tick
+                next_user_entry = tool.top_wait_list_entry()
+                if next_user_entry:
+                    next_user_entry.last_turn_available_at = now
+                    next_user_entry.save()
+                    notify_next_user_in_wait_list(top_wait_list_entry, time_to_expiration)
+
+    return HttpResponse()
+
+
+def in_hybrid_mode_reservation_or_buffer_zone(tool, now=timezone.now()):
+    """
+    In hybrid mode, the wait list is not checked if there is an upcoming reservation within the next "reservation_buffer" minutes,
+    or if we are inside an active reservation slot.
+    """
+    if tool.operation_mode == Tool.OperationMode.HYBRID:
+        reservation_buffer = quiet_int(ToolCustomization.get("tool_wait_list_reservation_buffer"), 1)
+        upcoming_reservation_within_buffer_or_active_reservation = Reservation.objects.filter(
+            tool=tool,
+            cancelled=False,
+            missed=False,
+            shortened=False,
+            start__lte=now + timedelta(minutes=reservation_buffer),
+            end__gt=now,
+        ).exists()
+        return upcoming_reservation_within_buffer_or_active_reservation
+    return False
+
+
+def get_wait_list_turn_available_date(tool, entry, hybrid_mode=False, now=timezone.now()):
+    """
+    User turn becomes available starting from the latest of one of the following dates:
+    - The end of the last usage event
+    - The end of the last reservation (hybrid mode only)
+        - When a reservation is missed, the reservation end is calculated as the start date + the missed reservation threshold.
+    - The time the previous user exited the wait list
+    """
+
+    last_usage_event = (
+        UsageEvent.objects.filter(tool_id__in=tool.get_family_tool_ids(), end__lte=now).order_by("-end").first()
+    )
+    last_usage_event_end = last_usage_event.end if last_usage_event else None
+
+    last_reservation_end = None
+    if hybrid_mode:
+        last_reservation = (
+            Reservation.objects.filter(Q(end__lte=now) | Q(missed=True), tool=tool).order_by("-end").first()
+        )
+        last_reservation_end = get_reservation_end(last_reservation) if last_reservation else None
+
+    previous_wait_list_entry = (
+        ToolWaitList.objects.filter(Q(expired=True) | Q(deleted=True), tool=tool, date_entered__lt=entry.date_entered)
+        .order_by("-date_exited")
+        .first()
+    )
+    previous_wait_list_entry_exited = previous_wait_list_entry.date_exited if previous_wait_list_entry else None
+
+    return sorted(
+        [
+            last_usage_event_end,
+            last_reservation_end,
+            previous_wait_list_entry_exited,
+        ],
+        key=lambda x: (x is not None, x),
+        reverse=True,
+    )[0]
+
+
+def get_reservation_end(reservation):
+    if not reservation.missed:
+        return reservation.end
+    else:
+        return reservation.start + timedelta(minutes=reservation.tool.missed_reservation_threshold)
+
+
+def notify_next_user_in_wait_list(entry, time_to_expiration):
+    message = get_media_file_contents("wait_list_notification_email.html")
+    if message:
+        subject = "Your turn for the " + str(entry.tool)
+        message = render_email_template(
+            message, {"user": entry.user, "tool": entry.tool, "time_to_expiration": time_to_expiration}
+        )
+        recipients = entry.user.get_emails(entry.user.get_preferences().email_send_wait_list_notification_emails)
+        send_mail(
+            subject=subject,
+            content=message,
+            from_email=get_email_from_settings(),
+            to=recipients,
+            email_category=EmailCategory.TIMED_SERVICES,
+        )
+    else:
+        timed_service_logger.error(
+            "Wait list notification email couldn't be send because wait_list_notification_email.html is not defined"
+        )
+
+
+@login_required
+@require_GET
+@permission_required("NEMO.trigger_timed_services", raise_exception=True)
 def email_out_of_time_reservation_notification(request):
     return send_email_out_of_time_reservation_notification(request)
 
 
 def send_email_out_of_time_reservation_notification(request=None):
     """
     Out of time reservation notification for areas is when a user is still logged in an area but his reservation expired.
@@ -961,7 +1100,48 @@
         if date_limit:
             charge_filter: Dict = {"end__lt": date_limit, "validated": False}
             unvalidated_expired_charges = adjustment_eligible_items(staff_charges_allowed, charge_filter)
             for unvalidated_charge in unvalidated_expired_charges:
                 unvalidated_charge.validated = True
                 unvalidated_charge.save(update_fields=["validated"])
     return HttpResponse()
+
+
+@login_required
+@require_GET
+@permission_required("NEMO.trigger_timed_services", raise_exception=True)
+def email_scheduled_outage_reminders(request):
+    return send_email_scheduled_outage_reminders(request)
+
+
+def send_email_scheduled_outage_reminders(request=None) -> HttpResponse:
+    # Exit early if the template email is not defined
+    message = get_media_file_contents("scheduled_outage_reminder_email.html")
+    if not message:
+        timed_service_logger.error(
+            "Scheduled outage reminder email couldn't be send because scheduled_outage_reminder_email.html is not defined"
+        )
+        return HttpResponseNotFound(
+            "The scheduled outage reminder template has not been customized for your organization yet. Please visit the customization page to upload one, then scheduled outage reminder email notifications can be sent."
+        )
+    future_outages: QuerySetType[ScheduledOutage] = ScheduledOutage.objects.filter(start__gte=timezone.now())
+    outages_to_send_reminders_for: Set[ScheduledOutage] = set()
+    for future_outage in future_outages:
+        # Skip if we have no email addresses to send it to
+        if future_outage.reminder_emails:
+            for remaining_days in future_outage.get_reminder_days():
+                outage_date = date.today() + timedelta(days=remaining_days)
+                # Use the whole day of the start of the outage to check
+                start, end = beginning_of_the_day(future_outage.start), end_of_the_day(future_outage.start)
+                if is_date_in_datetime_range(outage_date, start, end):
+                    outages_to_send_reminders_for.add(future_outage)
+    for outage in outages_to_send_reminders_for:
+        subject = f"{outage.title} reminder"
+        rendered_message = render_email_template(message, {"outage": outage}, request)
+        send_mail(
+            subject=subject,
+            content=rendered_message,
+            from_email=get_email_from_settings(),
+            to=outage.reminder_emails,
+            email_category=EmailCategory.TIMED_SERVICES,
+        )
+    return HttpResponse()
```

## NEMO/views/tool_control.py

```diff
@@ -34,14 +34,15 @@
     Reservation,
     StaffCharge,
     Task,
     TaskCategory,
     TaskStatus,
     Tool,
     ToolUsageCounter,
+    ToolWaitList,
     UsageEvent,
     User,
 )
 from NEMO.policy import policy_class as policy
 from NEMO.utilities import (
     BasicDisplayTable,
     EmailCategory,
@@ -100,14 +101,28 @@
     user: User = request.user
     tool = get_object_or_404(Tool, id=tool_id, visible=True)
     qualification_levels = QualificationLevel.objects.all()
     qualifications = Qualification.objects.filter(tool=tool)
     user_is_qualified = tool.user_set.filter(id=request.user.id).exists()
     broadcast_upcoming_reservation = ToolCustomization.get("tool_control_broadcast_upcoming_reservation")
     broadcast_qualified_user_enabled = ToolCustomization.get_bool("tool_control_broadcast_qualified_users")
+    wait_list = tool.current_wait_list()
+    user_wait_list_entry = wait_list.filter(user=request.user).first()
+    user_wait_list_position = (
+        (
+            ToolWaitList.objects.filter(
+                tool=tool, date_entered__lte=user_wait_list_entry.date_entered, expired=False, deleted=False
+            )
+            .exclude(user=user)
+            .count()
+            + 1
+        )
+        if user_wait_list_entry
+        else 0
+    )
     dictionary = {
         "tool": tool,
         "tool_rate": rate_class.get_tool_rate(tool, user),
         "task_categories": TaskCategory.objects.filter(stage=TaskCategory.Stage.INITIAL_ASSESSMENT),
         "rendered_configuration_html": tool.configuration_widget(user),
         "mobile": request.device == "mobile",
         "task_statuses": TaskStatus.objects.all(),
@@ -123,14 +138,27 @@
         or (user_is_qualified and broadcast_upcoming_reservation == "qualified")
         or broadcast_upcoming_reservation == "all",
         "tool_control_show_task_details": ToolCustomization.get_bool("tool_control_show_task_details"),
         "has_usage_questions": True if tool.pre_usage_questions or tool.post_usage_questions else False,
         "user_can_see_documents": user.is_any_part_of_staff
         or not ToolCustomization.get_bool("tool_control_show_documents_only_qualified_users")
         or user_is_qualified,
+        "wait_list_position": user_wait_list_position,  # 0 if not in wait list
+        "wait_list": wait_list,
+        "show_wait_list": (
+            tool.allow_wait_list()
+            and (
+                not (
+                    tool.get_current_usage_event().operator.id == user.id
+                    or tool.get_current_usage_event().user.id == user.id
+                )
+                if tool.in_use()
+                else wait_list.count() > 0
+            )
+        ),
     }
 
     try:
         current_reservation = Reservation.objects.get(
             start__lt=timezone.now(),
             end__gt=timezone.now(),
             cancelled=False,
@@ -313,23 +341,16 @@
 
 @login_required
 @require_POST
 def create_comment(request):
     form = CommentForm(request.POST)
     if not form.is_valid():
         return HttpResponseBadRequest(nice_errors(form).as_ul())
-    comment = form.save(commit=False)
-    comment.content = comment.content.strip()
-    comment.author = request.user
-    comment.expiration_date = (
-        None
-        if form.cleaned_data["expiration"] == -1
-        else timezone.now() + timedelta(days=form.cleaned_data["expiration"])
-    )
-    comment.save()
+    save_comment(request.user, form)
+
     return redirect("tool_control")
 
 
 @login_required
 @require_POST
 def hide_comment(request, comment_id):
     comment = get_object_or_404(Comment, id=comment_id)
@@ -338,14 +359,26 @@
     comment.visible = False
     comment.hidden_by = request.user
     comment.hide_date = timezone.now()
     comment.save()
     return redirect("tool_control")
 
 
+def save_comment(user, form):
+    comment = form.save(commit=False)
+    comment.content = comment.content.strip()
+    comment.author = user
+    comment.expiration_date = (
+        None
+        if form.cleaned_data["expiration"] == -1
+        else timezone.now() + timedelta(days=form.cleaned_data["expiration"])
+    )
+    comment.save()
+
+
 def determine_tool_status(tool):
     # Make the tool operational when all problems are resolved that require a shutdown.
     if tool.task_set.filter(force_shutdown=True, cancelled=False, resolved=False).count() == 0:
         tool.operational = True
     else:
         tool.operational = False
     tool.save()
@@ -441,14 +474,19 @@
             area_access.project = new_staff_charge.project
             area_access.save()
 
     # Now we can safely save the usage event
     new_usage_event.remote_work = remote_work
     new_usage_event.save()
 
+    # Remove wait list entry if it exists
+    wait_list_entry = ToolWaitList.objects.filter(tool=tool, expired=False, deleted=False, user=user)
+    if wait_list_entry.count() > 0:
+        wait_list_entry.update(deleted=True, date_exited=timezone.now())
+
     try:
         dynamic_form.charge_for_consumables(new_usage_event, new_usage_event.pre_run_data, request)
     except Exception as e:
         return HttpResponseBadRequest(str(e))
     dynamic_form.update_tool_counters(new_usage_event.pre_run_data, tool.id)
 
     return HttpResponse()
@@ -543,14 +581,64 @@
     if area_record and tool.ask_to_leave_area_when_done_using and able_to_self_log_out_of_area(user):
         return render(request, "tool_control/logout_user.html", {"area": area_record.area, "tool": tool})
 
     return HttpResponse()
 
 
 @login_required
+@require_POST
+def enter_wait_list(request):
+    tool = get_object_or_404(Tool, id=request.POST["tool_id"])
+
+    if not tool.allow_wait_list():
+        return HttpResponseBadRequest("This tool does not operate in wait list mode.")
+
+    user = request.user
+    wait_list_other_users = ToolWaitList.objects.filter(tool=tool, expired=False, deleted=False).exclude(user=user)
+    wait_list_user_entry = ToolWaitList.objects.filter(tool=tool, expired=False, deleted=False, user=user)
+
+    # User must not be in the wait list
+    if wait_list_user_entry.count() > 0:
+        return HttpResponseBadRequest("You are already in the wait list.")
+
+    # The tool must be in use or have a wait list
+    current_usage_event = tool.get_current_usage_event()
+    if not current_usage_event and wait_list_other_users.count() == 0:
+        return HttpResponseBadRequest("The tool is free to use.")
+
+    # The user must be qualified to use the tool itself, or the parent tool in case of alternate tool.
+    tool_to_check_qualifications = tool.parent_tool if tool.is_child_tool() else tool
+    if tool_to_check_qualifications not in user.qualifications.all() and not user.is_staff:
+        return HttpResponseBadRequest("You are not qualified to use this tool.")
+
+    entry = ToolWaitList()
+    entry.user = user
+    entry.tool = tool
+    entry.save()
+
+    return HttpResponse()
+
+
+@login_required
+@require_POST
+def exit_wait_list(request):
+    tool = get_object_or_404(Tool, id=request.POST["tool_id"])
+    user = request.user
+    wait_list_entry = ToolWaitList.objects.filter(tool=tool, expired=False, deleted=False, user=user)
+    if wait_list_entry.count() == 0:
+        return HttpResponseBadRequest("You are not in the wait list.")
+    do_exit_wait_list(wait_list_entry, timezone.now())
+    return HttpResponse()
+
+
+def do_exit_wait_list(entry, time):
+    entry.update(deleted=True, date_exited=time)
+
+
+@login_required
 @require_GET
 def past_comments_and_tasks(request):
     user: User = request.user
     start, end = extract_optional_beginning_and_end_times(request.GET)
     search = request.GET.get("search")
     if not start and not end and not search:
         return HttpResponseBadRequest("Please enter a search keyword, start date or end date.")
```

## NEMO/views/training.py

```diff
@@ -105,17 +105,19 @@
                     charges[index].trainee = User.objects.get(id=to_int_or_negative(value))
                 if attribute == "chosen_tool":
                     chosen_type = request.POST.get(f"chosen_type{separator}{index}", "tool")
                     identifier = to_int_or_negative(value)
                     setattr(
                         charges[index],
                         "qualify_tools",
-                        [Tool.objects.get(id=identifier)]
-                        if chosen_type == "tool"
-                        else ToolQualificationGroup.objects.get(id=identifier).tools.all(),
+                        (
+                            [Tool.objects.get(id=identifier)]
+                            if chosen_type == "tool"
+                            else ToolQualificationGroup.objects.get(id=identifier).tools.all()
+                        ),
                     )
                     # Even with a group of tools, we only charge training on the first one
                     charges[index].tool = next(iter(charges[index].qualify_tools))
                     if not trainer.is_staff and trainer.is_tool_superuser:
                         if not set(charges[index].qualify_tools).issubset(trainer.superuser_for_tools.all()):
                             return HttpResponseBadRequest("The trainer is not authorized to train on this tool")
                 if attribute == "chosen_project":
```

## NEMO/views/training_new.py

```diff
@@ -259,17 +259,19 @@
         export_history.add_row(
             {
                 "time": format_datetime(training_history.time, df="SHORT_DATETIME_FORMAT"),
                 "type": training_history.type_order,
                 "tool": training_history.tool,
                 "dates": ", ".join(
                     [
-                        format_datetime(training_date)
-                        if isinstance(training_date, datetime.datetime)
-                        else str(training_date)
+                        (
+                            format_datetime(training_date)
+                            if isinstance(training_date, datetime.datetime)
+                            else str(training_date)
+                        )
                         for training_date in training_history.dates
                     ]
                 ),
                 "status": training_history.status,
                 "by": training_history.user,
                 "details": training_history.details,
             }
@@ -391,20 +393,24 @@
     invited_user_ids = (
         distinct_qs_value_list(training_event.pending_invitations(), "user_id") if training_event else set()
     )
     if training_event:
         initial = {"duration": training_event.duration}
     else:
         initial = {
-            "duration": tool_training_details.duration
-            if tool_training_details and tool_training_details.duration
-            else TrainingCustomization.get_int("training_event_default_duration"),
-            "capacity": tool_training_details.capacity
-            if tool_training_details and tool_training_details.capacity
-            else TrainingCustomization.get_int("training_event_default_capacity"),
+            "duration": (
+                tool_training_details.duration
+                if tool_training_details and tool_training_details.duration
+                else TrainingCustomization.get_int("training_event_default_duration")
+            ),
+            "capacity": (
+                tool_training_details.capacity
+                if tool_training_details and tool_training_details.capacity
+                else TrainingCustomization.get_int("training_event_default_capacity")
+            ),
         }
     if training_request:
         invited_user_ids.add(training_request.user_id)
         if request_time_id:
             request_start = TrainingRequestTime.objects.get(id=request_time_id)
             if request_start:
                 initial["start"] = request_start.start_time
```

## NEMO/views/usage.py

```diff
@@ -224,40 +224,38 @@
             projects = Project.objects.filter(account=account)
             selection = account.name
         elif kind == "user":
             user = User.objects.get(id=identifier)
             projects = user.active_projects()
             selection = str(user)
 
+        area_access = AreaAccessRecord.objects.filter(end__gt=start_date, end__lte=end_date).order_by("-start")
+        consumables = ConsumableWithdraw.objects.filter(date__gt=start_date, date__lte=end_date)
+        missed_reservations = Reservation.objects.filter(missed=True, end__gt=start_date, end__lte=end_date)
+        staff_charges = StaffCharge.objects.filter(end__gt=start_date, end__lte=end_date)
+        training_sessions = TrainingSession.objects.filter(date__gt=start_date, date__lte=end_date)
+        usage_events = UsageEvent.objects.filter(end__gt=start_date, end__lte=end_date)
         if projects:
-            area_access = AreaAccessRecord.objects.filter(
-                project__in=projects, end__gt=start_date, end__lte=end_date
-            ).order_by("-start")
-            consumables = ConsumableWithdraw.objects.filter(
-                project__in=projects, date__gt=start_date, date__lte=end_date
+            area_access = area_access.filter(project__in=projects)
+            consumables = consumables.filter(project__in=projects)
+            missed_reservations = missed_reservations.filter(project__in=projects)
+            staff_charges = staff_charges.filter(project__in=projects)
+            training_sessions = training_sessions.filter(project__in=projects)
+            usage_events = usage_events.filter(project__in=projects)
+        if user:
+            area_access = area_access.filter(customer=user)
+            consumables = consumables.filter(customer=user)
+            missed_reservations = missed_reservations.filter(user=user)
+            staff_charges = staff_charges.filter(customer=user)
+            training_sessions = training_sessions.filter(trainee=user)
+            usage_events = usage_events.filter(user=user)
+        if bool(request.GET.get("csv", False)):
+            return csv_export_response(
+                usage_events, area_access, training_sessions, staff_charges, consumables, missed_reservations
             )
-            missed_reservations = Reservation.objects.filter(
-                project__in=projects, missed=True, end__gt=start_date, end__lte=end_date
-            )
-            staff_charges = StaffCharge.objects.filter(project__in=projects, end__gt=start_date, end__lte=end_date)
-            training_sessions = TrainingSession.objects.filter(
-                project__in=projects, date__gt=start_date, date__lte=end_date
-            )
-            usage_events = UsageEvent.objects.filter(project__in=projects, end__gt=start_date, end__lte=end_date)
-            if user:
-                area_access = area_access.filter(customer=user)
-                consumables = consumables.filter(customer=user)
-                missed_reservations = missed_reservations.filter(user=user)
-                staff_charges = staff_charges.filter(customer=user)
-                training_sessions = training_sessions.filter(trainee=user)
-                usage_events = usage_events.filter(user=user)
-            if bool(request.GET.get("csv", False)):
-                return csv_export_response(
-                    usage_events, area_access, training_sessions, staff_charges, consumables, missed_reservations
-                )
     except:
         pass
     dictionary = {
         "search_items": set(Account.objects.all())
         | set(Project.objects.all())
         | set(get_project_applications())
         | set(User.objects.filter(is_active=True)),
```

## NEMO/views/user_requests.py

```diff
@@ -9,17 +9,15 @@
 @login_required
 @require_GET
 def user_requests(request, tab: str = None):
     active_tab = tab or (
         "access"
         if PhysicalAccessLevel.objects.filter(allow_user_request=True).exists()
         and User.objects.filter(is_active=True, is_facility_manager=True).exists()
-        else "buddy"
-        if Area.objects.filter(buddy_system_allowed=True).exists()
-        else "adjustment"
+        else "buddy" if Area.objects.filter(buddy_system_allowed=True).exists() else "adjustment"
     )
     buddy_requests_title = UserRequestsCustomization.get("buddy_requests_title")
     access_requests_title = UserRequestsCustomization.get("access_requests_title")
     adjustment_requests_title = UserRequestsCustomization.get("adjustment_requests_title")
     dictionary = {
         "tab": active_tab,
         "buddy_requests_title": buddy_requests_title,
```

## NEMO/views/users.py

```diff
@@ -114,17 +114,17 @@
             dictionary["identity_service_available"] = False
             warning_message = f"There was a problem communicating with the identity service. {site_title} is unable to retrieve the list of externally managed areas. The administrator has been notified to resolve the problem."
             dictionary["warning"] = warning_message
             warning_message += " An exception was encountered: " + type(e).__name__ + " - " + str(e)
             users_logger.error(warning_message)
     elif identity_service:
         # display warning if identity service is defined but disabled
-        dictionary[
-            "warning"
-        ] = "The identity service is disabled. You will not be able to modify externally managed physical access levels, reset account passwords, or unlock accounts."
+        dictionary["warning"] = (
+            "The identity service is disabled. You will not be able to modify externally managed physical access levels, reset account passwords, or unlock accounts."
+        )
 
     if readonly or request.method == "GET":
         training_not_required = UserCustomization.get("default_user_training_not_required", raise_exception=False)
         # Only set training required initial value on new users
         dictionary["form"] = UserForm(
             instance=user, initial={"training_required": not training_not_required} if not user else None
         )
@@ -134,18 +134,18 @@
                     "username": user.username,
                     "domain": user.domain,
                 }
                 result = requests.get(identity_service["url"], parameters, timeout=timeout)
                 if result.status_code == HTTPStatus.OK:
                     dictionary["user_identity_information"] = result.json()
                 elif result.status_code == HTTPStatus.NOT_FOUND:
-                    dictionary[
-                        "warning"
-                    ] = "The identity service could not find username {} on the {} domain. Does the user's account reside on a different domain? If so, select that domain now and save the user information.".format(
-                        user.username, user.domain
+                    dictionary["warning"] = (
+                        "The identity service could not find username {} on the {} domain. Does the user's account reside on a different domain? If so, select that domain now and save the user information.".format(
+                            user.username, user.domain
+                        )
                     )
                 else:
                     dictionary["identity_service_available"] = False
                     warning_message = "The identity service encountered a problem while attempting to search for a user. The administrator has been notified to resolve the problem."
                     dictionary["warning"] = warning_message
                     warning_message += " The HTTP error was {}: {}".format(result.status_code, result.text)
                     users_logger.error(warning_message)
@@ -180,75 +180,75 @@
                     if result.status_code not in (HTTPStatus.OK, HTTPStatus.NOT_FOUND):
                         dictionary["identity_service_available"] = False
                         users_logger.error(
                             "The identity service encountered a problem while attempting to delete a user. The HTTP error is {}: {}".format(
                                 result.status_code, result.text
                             )
                         )
-                        dictionary[
-                            "warning"
-                        ] = "The user information was not modified because the identity service could not delete the corresponding domain account. The administrator has been notified to resolve the problem."
+                        dictionary["warning"] = (
+                            "The user information was not modified because the identity service could not delete the corresponding domain account. The administrator has been notified to resolve the problem."
+                        )
                         return render(request, "users/create_or_modify_user.html", dictionary)
                 except Exception as e:
                     dictionary["identity_service_available"] = False
                     users_logger.error(
                         "There was a problem communicating with the identity service while attempting to delete a user. An exception was encountered: "
                         + type(e).__name__
                         + " - "
                         + str(e)
                     )
-                    dictionary[
-                        "warning"
-                    ] = "The user information was not modified because the identity service could not delete the corresponding domain account. The administrator has been notified to resolve the problem."
+                    dictionary["warning"] = (
+                        "The user information was not modified because the identity service could not delete the corresponding domain account. The administrator has been notified to resolve the problem."
+                    )
                     return render(request, "users/create_or_modify_user.html", dictionary)
 
         # Ensure the user account is added and configured correctly on the current domain if the user is active...
         if dictionary["identity_service_available"] and form.cleaned_data["is_active"]:
             parameters = {
                 "username": form.cleaned_data["username"],
                 "domain": form.cleaned_data["domain"],
                 "badge_number": form.cleaned_data.get("badge_number", ""),
                 "email": form.cleaned_data.get("email"),
                 "access_expiration": form.cleaned_data.get("access_expiration"),
                 "requested_areas": request.POST.getlist("externally_managed_access_levels"),
             }
             try:
                 if len(parameters["requested_areas"]) > 0 and not parameters["badge_number"]:
-                    dictionary[
-                        "warning"
-                    ] = "A user must have a badge number in order to have area access. Please enter the badge number first, then grant access to areas."
+                    dictionary["warning"] = (
+                        "A user must have a badge number in order to have area access. Please enter the badge number first, then grant access to areas."
+                    )
                     return render(request, "users/create_or_modify_user.html", dictionary)
                 result = requests.put(identity_service["url"], data=parameters, timeout=timeout)
                 if result.status_code == HTTPStatus.NOT_FOUND:
-                    dictionary[
-                        "warning"
-                    ] = "The username was not found on this domain. Did you spell the username correctly in this form and did you select the correct domain? Ensure the user exists on the domain in order to proceed."
+                    dictionary["warning"] = (
+                        "The username was not found on this domain. Did you spell the username correctly in this form and did you select the correct domain? Ensure the user exists on the domain in order to proceed."
+                    )
                     return render(request, "users/create_or_modify_user.html", dictionary)
                 if result.status_code != HTTPStatus.OK:
                     dictionary["identity_service_available"] = False
                     users_logger.error(
                         "The identity service encountered a problem while attempting to modify a user. The HTTP error is {}: {}".format(
                             result.status_code, result.text
                         )
                     )
-                    dictionary[
-                        "warning"
-                    ] = "The user information was not modified because the identity service encountered a problem while creating the corresponding domain account. The administrator has been notified to resolve the problem."
+                    dictionary["warning"] = (
+                        "The user information was not modified because the identity service encountered a problem while creating the corresponding domain account. The administrator has been notified to resolve the problem."
+                    )
                     return render(request, "users/create_or_modify_user.html", dictionary)
             except Exception as e:
                 dictionary["identity_service_available"] = False
                 users_logger.error(
                     "There was a problem communicating with the identity service while attempting to modify a user. An exception was encountered: "
                     + type(e).__name__
                     + " - "
                     + str(e)
                 )
-                dictionary[
-                    "warning"
-                ] = "The user information was not modified because the identity service encountered a problem while creating the corresponding domain account. The administrator has been notified to resolve the problem."
+                dictionary["warning"] = (
+                    "The user information was not modified because the identity service encountered a problem while creating the corresponding domain account. The administrator has been notified to resolve the problem."
+                )
                 return render(request, "users/create_or_modify_user.html", dictionary)
 
         # Only save the user model for now, and wait to process the many-to-many relationships.
         # This way, many-to-many changes can be recorded.
         # See this web page for more information:
         # https://docs.djangoproject.com/en/dev/topics/forms/modelforms/#the-save-method
         user = form.save(commit=False)
@@ -314,28 +314,28 @@
                 timeout = identity_service.get("timeout", 3)
                 result = requests.delete(identity_service["url"], data=parameters, timeout=timeout)
                 # If the delete succeeds, or the user is not found, then everything is ok.
                 if result.status_code not in (HTTPStatus.OK, HTTPStatus.NOT_FOUND):
                     users_logger.error(
                         f"The identity service encountered a problem while attempting to delete a user. The HTTP error is {result.status_code}: {result.text}"
                     )
-                    dictionary[
-                        "warning"
-                    ] = "The user information was not modified because the identity service could not delete the corresponding domain account. The administrator has been notified to resolve the problem."
+                    dictionary["warning"] = (
+                        "The user information was not modified because the identity service could not delete the corresponding domain account. The administrator has been notified to resolve the problem."
+                    )
                     return render(request, "users/safe_deactivation.html", dictionary)
             except Exception as e:
                 users_logger.error(
                     "There was a problem communicating with the identity service while attempting to delete a user. An exception was encountered: "
                     + type(e).__name__
                     + " - "
                     + str(e)
                 )
-                dictionary[
-                    "warning"
-                ] = "The user information was not modified because the identity service could not delete the corresponding domain account. The administrator has been notified to resolve the problem."
+                dictionary["warning"] = (
+                    "The user information was not modified because the identity service could not delete the corresponding domain account. The administrator has been notified to resolve the problem."
+                )
                 return render(request, "users/safe_deactivation.html", dictionary)
 
         if request.POST.get("cancel_reservations") == "on":
             # Cancel all reservations that haven't ended
             for reservation in dictionary["reservations"]:
                 reservation.cancelled = True
                 reservation.cancellation_time = timezone.now()
```

## NEMO/widgets/dynamic_form.py

```diff
@@ -706,16 +706,18 @@
     if question.has_consumable:
         if not isinstance(question, (PostUsageNumberFieldQuestion, PostUsageFormulaQuestion)):
             raise Exception("Consumable withdrawals can only be used in questions of type number or formula")
         else:
             if question.consumable and question.consumable_id:
                 raise Exception("Use consumable or consumable_id but not both")
             try:
-                Consumable.objects.get(pk=question.consumable_id) if question.consumable_id else Consumable.objects.get(
-                    name=question.consumable
+                (
+                    Consumable.objects.get(pk=question.consumable_id)
+                    if question.consumable_id
+                    else Consumable.objects.get(name=question.consumable)
                 )
             except Consumable.DoesNotExist:
                 match = f"id '{question.consumable_id}'" if question.consumable_id else f"name '{question.consumable}'"
                 raise Exception(f"Consumable with {match} could not be found. Make sure the name/id matches.")
 
 
 def withdraw_consumable_for_question(question, input_data, customer, merchant, project, usage_event, request):
```

## Comparing `NEMO_CE-2.3.3.dist-info/LICENSE.md` & `NEMO_CE-2.4.0.dist-info/LICENSE.md`

 * *Files identical despite different names*

## Comparing `NEMO_CE-2.3.3.dist-info/METADATA` & `NEMO_CE-2.4.0.dist-info/METADATA`

 * *Files 17% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: NEMO-CE
-Version: 2.3.3
+Version: 2.4.0
 Summary: NEMO Community Edition is a laboratory logistics web application based of NEMO. Use it to schedule reservations, control tool access, track maintenance issues, and more.
 Home-page: https://gitlab.com/nemo-community/nemo-ce
 Author: Atlantis Labs, LLC
 Author-email: nemo@atlantislabs.io
 License: Public domain
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: Environment :: Web Environment
@@ -19,21 +19,25 @@
 Classifier: Programming Language :: Python :: 3.10
 Classifier: Programming Language :: Python :: 3.11
 Classifier: Programming Language :: Python :: 3.12
 Requires-Python: >=3.8, <4
 License-File: LICENSE.md
 Requires-Dist: cryptography ==42.0.5
 Requires-Dist: Django ==3.2.25
-Requires-Dist: django-auditlog ==2.3.0
+Requires-Dist: django-auditlog ==3.0.0
 Requires-Dist: django-filter ==23.5
 Requires-Dist: django-mptt ==0.14.0
-Requires-Dist: djangorestframework ==3.14.0
+Requires-Dist: djangorestframework ==3.15.1
 Requires-Dist: drf-excel ==2.4.0
 Requires-Dist: drf-flex-fields ==1.0.2
 Requires-Dist: ldap3 ==2.9.1
-Requires-Dist: Pillow ==10.2.0
+Requires-Dist: Pillow ==10.3.0
 Requires-Dist: pymodbus ==3.3.2
 Requires-Dist: python-dateutil ==2.9.0
 Requires-Dist: pytz ==2024.1
 Requires-Dist: requests ==2.31.0
+Provides-Extra: dev-tools
+Requires-Dist: pre-commit ; extra == 'dev-tools'
+Requires-Dist: djlint ; extra == 'dev-tools'
+Requires-Dist: black ; extra == 'dev-tools'
 
 Find out more about NEMO CE on the Gitlab project page https://gitlab.com/nemo-community/nemo-ce
```

## Comparing `NEMO_CE-2.3.3.dist-info/RECORD` & `NEMO_CE-2.4.0.dist-info/RECORD`

 * *Files 7% similar despite different names*

```diff
@@ -1,91 +1,94 @@
 NEMO/__init__.py,sha256=RxR_RGEIV1K78tFzRRD4f2bda05rI55tLaUW_9TYZ4g,1389
-NEMO/actions.py,sha256=GRQjobFbY3ZFgJ4HxdwDF88ezLBXPSd4dbdYUY2kr8g,8487
-NEMO/admin.py,sha256=z-QUCLCAKRQFT_6IlFdUfN6IY9CsQ3gBmuYkELlKFWA,77664
+NEMO/actions.py,sha256=46qP5165WKW1UsWabO5azSWbI805H2V3TPzIrOYygIc,8701
+NEMO/admin.py,sha256=OEemNzlGZr4LMFjFN8hyth0JcgxIaTe_xwFVFlgRvLU,79413
 NEMO/context_processors.py,sha256=pv_RuXaxdyG6ByDxE3mpg-Uz_p6hYNgrAXFsK_uW5W4,5722
 NEMO/decorators.py,sha256=GZDkpOavFhVgB1a_lMemdKGSTQ4N9YC2MRIAmkXjwlQ,7337
 NEMO/evaluators.py,sha256=wdlK3-oL5z3toTKF0utv7wJRrZiaBAsXylVX-v8B4U0,4757
 NEMO/exceptions.py,sha256=QtBsetjgR3KBfX3Z58XaKmOEgt0Y3AhV7q1oWaDhjE0,4987
 NEMO/fields.py,sha256=FfQJHXgsndlo93PAZ9rJAPx_HZKLoPJUrfqm_MYhr38,4342
-NEMO/forms.py,sha256=cPVQvRHMRlf5Wfd5bP0ZCXJzuNXJXuA61uexX-ZUV_Q,17678
+NEMO/forms.py,sha256=GsjnwskDeeGVtRISZfiNHFr8PwyUSRoQ83y883jtXOo,21569
 NEMO/interlocks.py,sha256=eUIvqOYmvOTs_ZWxY-Ydhb_7-ThdW2TxE1vbSgJwupo,22250
 NEMO/middleware.py,sha256=CTfFcMrzKzZkRhjpQH--gxhsuZuDh2fkjZB4x88ISfQ,6338
 NEMO/migrations_utils.py,sha256=SSlT73OPZ6HK5nWZmFZdPE9iogSO8bWJOac5tHGvvus,2308
 NEMO/mixins.py,sha256=AsclcuVo0m7UIBB8xz0rv1P1RX-bxWgVnEHgKpTvL_w,13219
 NEMO/model_tree.py,sha256=Nj6u-5SkzbYQ7q0snyPt3OokH08WIUO6L-ivk8FjUHM,4632
-NEMO/models.py,sha256=O3-g5c4gr7lLi4DDwIZFpqaq8r73fe29npnSjDbApEg,239799
+NEMO/models.py,sha256=BQBwxO3Zv8qrbtwgcZKXx8Mz9SFfMjMt9rjTZ71_1no,244693
 NEMO/parsers.py,sha256=MXmqEnp-b0QkUo7P-kJ-26-JetU-JMziXx3_-5ViIcA,1654
 NEMO/permissions.py,sha256=tq3dalidpxICq8zQdSyHoXKlsZa_DRdP6nJ-WnlzNKI,949
-NEMO/policy.py,sha256=9rObu7IERgq0NCcU6ytt2RoQfxNz3y-TplP457sQrJs,61783
+NEMO/policy.py,sha256=bJV4A8UAk4AKrQ6ZR-s2QCh_H-7ZQDBujXv0mpom7PU,61997
 NEMO/provisioning.py,sha256=IfzyCyYdrFEyOoIy1im-VuXChvLdEES1NKUFNjPdi-s,10691
 NEMO/rates.py,sha256=PxfzECLEpuOsui53SV4h9gsEQ7BZHUA_3mmnAiOEvlw,6697
 NEMO/rest_filter_backend.py,sha256=r2UckNgPswjfC0CmGf-Fv9GUhxphJbFAgtljMpK2-Fc,1167
 NEMO/rest_pagination.py,sha256=yq5pEzJGfeW2YTPdLJeIQyXuoN6SNDpTJ_t-6zM-T3A,155
-NEMO/serializers.py,sha256=8l8o1jZLoL3ChMw8hUwjvgy-CjUiWZzh6zzgUPS7dqM,19248
-NEMO/typing.py,sha256=mQcsX2y1prHPsBz649Yk3dAiEyd1Zfl8KaxTnfP9gNE,274
-NEMO/urls.py,sha256=ibIsNVUeFq2nlb6ky3uw0hFHnYyXwyoEBqoXnZsSYsM,38742
-NEMO/utilities.py,sha256=Mt8Sd_ODayuGFpaEJ7IlilDtURnEM8uDtmEipOCSZ08,28339
+NEMO/serializers.py,sha256=onJob-DKAA0nWl3CFYwPsfyC_ejSQfvtVXaGTc_gTcc,19700
+NEMO/typing.py,sha256=E7HVXkzjx_Z-HHgwPOv3e8DD55ZnxkyGPKAXyGCwKt8,266
+NEMO/urls.py,sha256=Km9LLyn3nMQq18FXHahYnplEnrCpPS9-840g9CBUp2o,39662
+NEMO/utilities.py,sha256=aUEvBBtS9O3rHsZE824nN9sJ5ytlzgX87FCGFKgaHsU,28697
 NEMO/validators.py,sha256=uiXgrCE4Vcauw03CAazO_yC0bVCLMLKmT4ysymQqs78,1000
 NEMO/wsgi.py,sha256=HBlWCE0qQwG0OlQ1S6O3FwiAm8O72K4Hp--1grXU1zo,88
 NEMO/apps/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/apps/area_access/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/apps/area_access/urls.py,sha256=c52HalalDEqQaZJ_kSnaW3IREbtKrLgk4E2pMar4rek,729
-NEMO/apps/area_access/views.py,sha256=Kvx8d3AJ33WZUB6IiZCpiDzvZxsaAsS1xlcb5V205SM,15349
+NEMO/apps/area_access/views.py,sha256=CMefhD_Ryuksm-j-Z3oELENAjDPdstdX-ATqwO-CDqw,15442
 NEMO/apps/area_access/static/area_access/area_access.css,sha256=pJFcyJBvZEr7W3qLFLBYXylk4dkyBfD8kSr4TiqgM5w,304
-NEMO/apps/area_access/templates/area_access/alerts.html,sha256=IdlnfRCFCI4P330WTu9oqppIEbsxg9NDZJVbPI06JKM,1020
-NEMO/apps/area_access/templates/area_access/already_logged_in.html,sha256=-kV9LJ7E-iBXVbQG8fBKWEqEWzPE4MrjET3I_a1lPaM,1778
-NEMO/apps/area_access/templates/area_access/badge_not_found.html,sha256=vppiF9PyZ2m9K86OCNZia92WJKwkb3F-tBFyH1IdFwg,349
-NEMO/apps/area_access/templates/area_access/base.html,sha256=4ky6XPQLFPnPDfnqpCWxJoK72978Xp8cOyUql7dNvII,9381
-NEMO/apps/area_access/templates/area_access/choose_area.html,sha256=akEMJkYyspIyZO8KdpnX9UE2eIRuCAkF-TntODtiFY4,623
-NEMO/apps/area_access/templates/area_access/choose_project.html,sha256=whCWW0JaVAzM3bbqK8b8qrtot9jsB7c2-EM2qwaW0UQ,733
-NEMO/apps/area_access/templates/area_access/door_is_open.html,sha256=eb551Tt6RD_lXlzHrOlhFZtsheHh6RzFDjSQ28aZhbE,54
-NEMO/apps/area_access/templates/area_access/farewell_screen.html,sha256=u4h5Jh8V_4AAIe_c_q-qju18rcqwQ5CwJ9KlGFv5puU,218
-NEMO/apps/area_access/templates/area_access/inactive.html,sha256=ZNI9BIyUEND0DL3LwtR4m6SnayKMbUocjsHYgOznJOw,143
-NEMO/apps/area_access/templates/area_access/login_success.html,sha256=NmsiEEKkg9hj6fXxFt4FznFDcz9d7XeD70PI_A_VUsk,397
-NEMO/apps/area_access/templates/area_access/logout_success.html,sha256=IWaozgdlMYDBSTd4fVSLyYI2Tiy_6v_03HMnA61_D04,1215
-NEMO/apps/area_access/templates/area_access/logout_warning.html,sha256=lv5ump731W8FU3Q9APJpHQ_7zX_5jx_Fhl9b4vGK7KY,1584
-NEMO/apps/area_access/templates/area_access/no_active_projects.html,sha256=1CaB9x3JV_7u2pUWiPWMnZ91ncH0pHM9PtgkqhCrpJs,239
-NEMO/apps/area_access/templates/area_access/not_logged_in.html,sha256=UuNVwjpR1tJfGJsvk-PV0ArDCOmANDwq_2Id15xi4To,338
-NEMO/apps/area_access/templates/area_access/physical_access_denied.html,sha256=k_EbixX23N8Ryk05LL4FA4UJdoRTpwU6PniCvHA2JAs,210
-NEMO/apps/area_access/templates/area_access/resource_unavailable.html,sha256=5zctz_s_VEAh_te7mDlIOp0Mjy6Uu95TCPpmJ4ujyDA,566
-NEMO/apps/area_access/templates/area_access/welcome_screen.html,sha256=jbF-WOqbdQ_4dR3FKorYMq8KnsBWGJ3wc64uDCl213w,224
+NEMO/apps/area_access/templates/area_access/alerts.html,sha256=52XIxSSfM_GqdGW2Tn4J0aKaunItY_cC3xJ7It4anBs,1608
+NEMO/apps/area_access/templates/area_access/already_logged_in.html,sha256=GNO6sGGT5IlthSpWB1IGJmHkaeaZzF88nSydVcOL9bA,1910
+NEMO/apps/area_access/templates/area_access/badge_not_found.html,sha256=dfkjA7SokdgB5687XPLXCAtWH5HPY3R1UM8pgxDb2UE,350
+NEMO/apps/area_access/templates/area_access/base.html,sha256=bwR79dGLq3WtFCYpPDu8jQIEeh2hWvYDhEtGp6DMM10,9831
+NEMO/apps/area_access/templates/area_access/choose_area.html,sha256=dtRXVEnBPS5p6N53RK1xFMRvsOV7DoKCb1wbUMtrE7Y,719
+NEMO/apps/area_access/templates/area_access/choose_project.html,sha256=oRJfsfXM5i-uJ3YKcNVkX3J5FdmkgODkR0opCIE4CV0,829
+NEMO/apps/area_access/templates/area_access/door_is_open.html,sha256=NCXH1-WH9fE5fM5nmdET-4XOjzr97SqPQH9gq2soDEk,55
+NEMO/apps/area_access/templates/area_access/farewell_screen.html,sha256=nXfBg99U-Kv_COSHvPi0Iqu61D_gTIsts9ZT8IbCp_Y,213
+NEMO/apps/area_access/templates/area_access/inactive.html,sha256=L3RsE8EhWxqEgZ_vygfzQs-h-l3_CmU9fuXfbe510IM,144
+NEMO/apps/area_access/templates/area_access/login_success.html,sha256=0TLkJMqNgegaYqskIqBjxkME3yCieNgopc8JBC-l_ro,418
+NEMO/apps/area_access/templates/area_access/logout_success.html,sha256=GiMpgHLeFUVPIioQYGWs3vpRbHsmK93bpcFh1TePEsI,1323
+NEMO/apps/area_access/templates/area_access/logout_warning.html,sha256=nZRVvJdRaGLsKXOtoqSrYFGBwsrnAgO6bVOcW4PDNsA,1755
+NEMO/apps/area_access/templates/area_access/no_active_projects.html,sha256=XTOim2g1HdmgSUVU8_6vbWyYceFxaPXE8vGCgy51bK8,240
+NEMO/apps/area_access/templates/area_access/not_logged_in.html,sha256=wo8v121sDvrC8_Lqmhk2mL2s_HAFm78iUrRVpIA3_JU,339
+NEMO/apps/area_access/templates/area_access/physical_access_denied.html,sha256=NHeoS9X7pZcLy51tQzH9YOr3vPZV8X1TC74RJbAzjyo,211
+NEMO/apps/area_access/templates/area_access/resource_unavailable.html,sha256=Lv6EXP9oqQLw1MfPclmbu571QdYcBI2IKjOV0mLpW-k,593
+NEMO/apps/area_access/templates/area_access/welcome_screen.html,sha256=5R9e0veo24PxMHBhnmyvHV1J7aMbyrIiDA5DNcQaIhc,219
 NEMO/apps/contracts/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/apps/contracts/admin.py,sha256=LGkkbGoEmaFDhSoTzs5pDRkgDNtjfJMCdxgRyp4-uzg,4294
 NEMO/apps/contracts/apps.py,sha256=RMI8WIIcnYCWczuQygmgyKpFbop5IkQkLSXc_YtqvXI,212
 NEMO/apps/contracts/customization.py,sha256=8aBTZlq0WRtgNRZ5rcgpVc1EwXIgf6EvE0LoaxvyfiI,439
 NEMO/apps/contracts/models.py,sha256=97XgAuYzxfXGMn1ec2PkZLSi_ltHvu708oS1Gi1mcbY,5550
 NEMO/apps/contracts/urls.py,sha256=cnHzA_3HBdLeefs9wVEl7mIWaWf1SrtnsauVMspVsx4,838
 NEMO/apps/contracts/management/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/apps/contracts/management/commands/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/apps/contracts/management/commands/send_email_contract_reminders.py,sha256=lu_SMx3PgsECSuZRgFdMB-FOOZmNA_gnfk04t5u6t9A,347
 NEMO/apps/contracts/migrations/0001_initial.py,sha256=PPKLpSQqPXsS2xO0g3xR5TM6VQGo3-i1TpeyqMKUzsI,7785
 NEMO/apps/contracts/migrations/0002_increase_document_path_length.py,sha256=QtIvlKIsdOAq9Fmf5ckfQMBQzkyV5gPrScFaUIbzsZU,983
+NEMO/apps/contracts/migrations/0003_documents_display_order.py,sha256=6_OD_R8MYF_2f5FPPUCR-4xsm6OgCcCWDiXN9ktNBgc,1529
 NEMO/apps/contracts/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-NEMO/apps/contracts/templates/contracts/contractors.html,sha256=HJ1uXSPOdCKeZuUrX_tWj860ln82FFb6hVn8z0hn0ec,4319
-NEMO/apps/contracts/templates/contracts/contracts_and_procurements.html,sha256=9nNPlxo-oVj_AmK2NaOYOss1_UBjHQMkDPhZvxjXxvA,4718
-NEMO/apps/contracts/templates/contracts/procurements.html,sha256=Ej-eXxO90rkGn8n5e6rfoRkoH-5iMs2-yZjZ3uqbNuo,3732
-NEMO/apps/contracts/templates/contracts/service_contracts.html,sha256=aMKUWv2TQfAxZzJucR12heb5T2BGrMxWg1GQyiR7L-0,5099
-NEMO/apps/contracts/templates/customizations/customizations_contracts.html,sha256=gozWvbJSzRxfR_92Xsh_eqFCfo_W1aVP-USVne7gniY,2580
+NEMO/apps/contracts/templates/contracts/contractors.html,sha256=cj5HTcngquLzQW35Ie93KVdxtf2cX5Ak5tjiLaj8i3Y,4369
+NEMO/apps/contracts/templates/contracts/contracts_and_procurements.html,sha256=gRLi0zxkUVCJNsFKSjO7s3MhyGRYqMJUyiOUYdtVq8s,4746
+NEMO/apps/contracts/templates/contracts/procurements.html,sha256=qj5aG7coqdiMLRgvRSkD4sm-cCKGd-yq6mWSehtGe04,3744
+NEMO/apps/contracts/templates/contracts/service_contracts.html,sha256=sX_OGTr5tmDp_LDJ_5h6r03xjWaNJvuIgb7gAKfo59I,5178
+NEMO/apps/contracts/templates/customizations/customizations_contracts.html,sha256=sMrKWV14QZgZ0PAhpTkuu8NLOInICa1dCUeDG5LgRBw,3577
 NEMO/apps/contracts/views/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-NEMO/apps/contracts/views/contracts.py,sha256=3-NTkZSjm-7fhQgYnq7fop_P5dq6GD3LjyYSS4cF-oo,10905
+NEMO/apps/contracts/views/contracts.py,sha256=wbD2mT2ErXTW_gwzhdjq-DRoa0dg05iYKvj1PqDbzFU,11009
 NEMO/apps/kiosk/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-NEMO/apps/kiosk/urls.py,sha256=08H-vX0ZfyWduFDBIzy18TZ2te4id11c57XSqhrt9kk,2024
-NEMO/apps/kiosk/views.py,sha256=nKDZJ23aH1q1KMur-tJo8E2XDhS0kKZ3IoEkts0L88c,19999
+NEMO/apps/kiosk/urls.py,sha256=d96EH5WvFE6YKOjMZkwHHTMrrMh3cvC4MwZwz2XHrqU,2937
+NEMO/apps/kiosk/views.py,sha256=96jY_toiZFPRhSuRTp-6AIuJ-umXtc6afBiF7iqx4Bs,27460
 NEMO/apps/kiosk/static/kiosk/kiosk.css,sha256=GUo4VXohMI_zC4BR5u8iFEyCGeUtjCV653du_E2dwyM,116
-NEMO/apps/kiosk/templates/kiosk/acknowledgement.html,sha256=IYy7xDtQ03Ua7y-dbGrvrxwv8O3_vsI3s6BnmNv7n4Q,1245
-NEMO/apps/kiosk/templates/kiosk/category_choices.html,sha256=1kL_EBF1WzzxiojbTYBJ1Ta8gDBoSd901RpbODXtXT8,2125
-NEMO/apps/kiosk/templates/kiosk/choices.html,sha256=R7mUGz5vX8HUwRXuzPj7rIXXr7FKjW11pmWPHd9Ug14,2059
-NEMO/apps/kiosk/templates/kiosk/error.html,sha256=RPYcpq6XzcCYpOc0M_NB7LaPxdOx_CgINrhsmG48ArM,1072
-NEMO/apps/kiosk/templates/kiosk/individual_reservation.html,sha256=QznxrqGsP7KFjHywT-U1-HtNsftPmPyPMzjE45WelfY,3844
-NEMO/apps/kiosk/templates/kiosk/kiosk.html,sha256=MXs9B6JpJxAkXT193sjKHoJrFIxFXNkGieJSHYx_qWY,14908
-NEMO/apps/kiosk/templates/kiosk/success.html,sha256=I9pbUMgs1BPlNADauctAT0GjebvtF2bJB9PnSnXgNfM,901
-NEMO/apps/kiosk/templates/kiosk/tool_information.html,sha256=xyyqyjh0HJKDUu0aVnvW3CUkM4y0a8Y8f7OHsqM7cfs,18970
-NEMO/apps/kiosk/templates/kiosk/tool_project_selection_snippet.html,sha256=7xf7kpLIP86rW3mJqupG-r82ZZZ96_B6GIxyH5h-BRk,1154
-NEMO/apps/kiosk/templates/kiosk/tool_reservation.html,sha256=XWUkpWqDlb6DBQkoYWi_IEhbp1LD-8TMdbbJvTDtZ-M,3786
-NEMO/apps/kiosk/templates/kiosk/tool_reservation_extra.html,sha256=Yk945kloIMAcC-Zb6G16am6bmu0FK1tXbcf--ZD9XfE,2000
+NEMO/apps/kiosk/templates/kiosk/acknowledgement.html,sha256=K_BVvJ3kiLeenw77zjCTND4V5lv73acR2_yU54vJD-Y,1336
+NEMO/apps/kiosk/templates/kiosk/category_choices.html,sha256=8tBKvwOh4w34mhNN5RrDOLR0WpM0LxIsPprMaO9bNB4,2575
+NEMO/apps/kiosk/templates/kiosk/choices.html,sha256=Bb0X_pD_sj6SZiFeRLVoeMrULdnAWgfnMqhp6t297B8,2362
+NEMO/apps/kiosk/templates/kiosk/error.html,sha256=nJFXTmyu-G4Rfd2ctQcr5lrXMoog_oiBOcdnLmqPCLs,1223
+NEMO/apps/kiosk/templates/kiosk/individual_reservation.html,sha256=A9VPlq4wy50UYM6yeDeECK2Ub2kpUuqcLPwDfIIX9_Y,4368
+NEMO/apps/kiosk/templates/kiosk/kiosk.html,sha256=s07dATKTTnLYQGGEmK5fpfTcKQCGgZehgYugpkELIlU,17889
+NEMO/apps/kiosk/templates/kiosk/success.html,sha256=InRFyKv-25d3jUcp9y5-TFckaoDQ3qo2JC0vRc1Ijn8,1003
+NEMO/apps/kiosk/templates/kiosk/tool_information.html,sha256=23Vb53tUju2ZIt6iuExmybZuJ8kJ0o9kNOxztpGgkvc,30511
+NEMO/apps/kiosk/templates/kiosk/tool_post_comment.html,sha256=qEHSowE8lZZOgMZbJj7-pPpaZVu2p7Hji5eegOjVa1s,3493
+NEMO/apps/kiosk/templates/kiosk/tool_project_selection_snippet.html,sha256=t9eFUhfs1a8Q5hQIWTDdZ_CUPkgxoiA1oJVBw9_Ke5s,1631
+NEMO/apps/kiosk/templates/kiosk/tool_report_problem.html,sha256=ayLQhbIl0C8xiZjgN8U3m2VuJBd39sw46tfJJH1-sRw,6244
+NEMO/apps/kiosk/templates/kiosk/tool_reservation.html,sha256=P2rx1vxP32tS_1lvZBmF-l3QudDPjcZ7tMyCTCm0tjg,4111
+NEMO/apps/kiosk/templates/kiosk/tool_reservation_extra.html,sha256=0QMXlc6M-DstShJYuOataNe8JbNLQmK9bY57_CTJmUM,2159
 NEMO/apps/nemo_ce/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/apps/nemo_ce/migration_utils.py,sha256=HxPoWvP4oBJTF4lB4LvOdfA-qWTJ8F30cOEOqYkkCds,305
 NEMO/apps/nemo_ce/management/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/apps/nemo_ce/management/commands/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/apps/nemo_ce/management/commands/makemigrations.py,sha256=ubRd3MEDdkViH-iq-Cwr7wnBB5qbpokaLVXfjbEYwNc,2992
 NEMO/apps/nemo_ce/migrations/0001_ce_tool_accessories.py,sha256=5EAn1yZDf3KEPATzW_W91E6Qqa_2IiXDtlNu7mLm2j4,1196
 NEMO/apps/nemo_ce/migrations/0002_ce_tool_reservation_required.py,sha256=nU4ZJ0t2q7Tni8iNflGwoeC3BHhM2xOWarMColnjRQ8,697
@@ -101,15 +104,15 @@
 NEMO/apps/nemo_ce/migrations/0012_ce_notification_types_update.py,sha256=HTr2AIage3groyTtCiRM22OXeSEf5n887VYWctvxzQ0,3739
 NEMO/apps/nemo_ce/migrations/0013_ce_shadowing_reviewers_in_tool.py,sha256=mPwE2Q3twCU9pBm0vb1PNRFxtEyry_oVaRKhhoZpCq4,930
 NEMO/apps/nemo_ce/migrations/0014_ce_remove_default_value_tool_shadowing.py,sha256=dFoRhxzhgjcfkBST-_ZQCd0LBZEs6bVwpbH9RDdjBGk,833
 NEMO/apps/nemo_ce/migrations/0015_ce_precursor_configurations.py,sha256=u_02eUzP1flbEBoD6juy6IzSiI_ILzW5WcCRxAO3FlQ,11068
 NEMO/apps/nemo_ce/migrations/0016_ce_precursor_config_allow_duplicates.py,sha256=b7-BnFRzKAMskBgSerZbsExLcdBLFzW_nO22VatXtx4,638
 NEMO/apps/nemo_ce/migrations/0017_ce_training_request_message.py,sha256=uNKWq-s4LPAkf5aHs9JNDmdoqvr9Qi4HkebbOSJWUy0,1741
 NEMO/apps/nemo_ce/migrations/0018_ce_training_qualification.py,sha256=eT9LobQoeytUeLc8hpxOKUAJf5tWwevw3zL05SlLeRc,769
-NEMO/apps/nemo_ce/migrations/0019_tool_training_details_without_area_access.py,sha256=CZm3UAldYU1Y2stGzIxKmghfu5aDdft18DmX8pbddJg,666
+NEMO/apps/nemo_ce/migrations/0019_tool_training_details_without_area_access.py,sha256=8tovaEWfpAo3LiP1v8s_uD-ZhxIooi-rwJLkEVpWQSw,714
 NEMO/apps/nemo_ce/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/apps/sensors/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/apps/sensors/admin.py,sha256=ffuB_bVBSoN8SWbrRtWRFYHodwr5U9HtA5SBSymYzN4,10252
 NEMO/apps/sensors/customizations.py,sha256=FN6hkbUAuuwxHeyP2TClJxh4gShluIWCs5j75DdXbbQ,968
 NEMO/apps/sensors/evaluators.py,sha256=siaYrSuWdf0qKa75U87QO_s0QCaC9lTZw4RvZKCwTPc,2767
 NEMO/apps/sensors/models.py,sha256=Y_xSJy2mct2sYvl6MXPvIYcXaGLLz8npruDwDwcRnmc,14350
 NEMO/apps/sensors/sensors.py,sha256=Ywnqnnm41tLoH94moyznfQJhElFtFZ6bDmvhnk3q_5M,8715
@@ -122,37 +125,39 @@
 NEMO/apps/sensors/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/apps/sensors/static/sensors/chart.js,sha256=gjQYlCMM_HIX3lODQvv5er-D4m6hfcSetDqlGj8FGj0,408236
 NEMO/apps/sensors/static/sensors/chart.min.js,sha256=ErZ09KkZnzjpqcane4SCyyHsKAXMvID9_xwbl_Aq1pc,195090
 NEMO/apps/sensors/static/sensors/chartjs-adapter-moment.js,sha256=OPD_8Gs8WQsr-6wC58wo8HlvVcCLMm6MFuF1mWIRIXs,1376
 NEMO/apps/sensors/static/sensors/daterangepicker.css,sha256=9e9MfmRHWQmp4yMV-R9cxXU6-ZjzB2x-YcE4Z1Kmuag,7659
 NEMO/apps/sensors/static/sensors/daterangepicker.js,sha256=nCVry5qhDvfmuraDoHeq7bv91trY3tpPHnq_T3_hBOw,66305
 NEMO/apps/sensors/static/sensors/sensors.css,sha256=Mr0VF923r3z9zNrIdZ2REkZI61Qn6RzLvhTGixpGgIs,608
-NEMO/apps/sensors/templates/customizations/customizations_sensors.html,sha256=dZkSFf_-AOvtjbkIBX0GE4WuZKrzoGlFnYv9ckfI2Yo,6988
+NEMO/apps/sensors/templates/customizations/customizations_sensors.html,sha256=zaqMRLGNwrttMLdRA3nIUFjKaShKuq8vYYVApvsbEWc,8089
 NEMO/apps/sensors/templates/sensors/sensor_alerts.html,sha256=yBr983LYzxLvrkZlVAUaxoXLf8syYwDZRJSIBKXK9SE,347
-NEMO/apps/sensors/templates/sensors/sensor_data.html,sha256=gBt-7iXgiChRiUaHNMvJKKJdgvN8UYAls7fV9LCoc2g,15756
-NEMO/apps/sensors/templates/sensors/sensors.html,sha256=ZIkxZJ2O3m-AiFc_EqwCQuIH7BEKU1p7Ig-psGt0PHg,3879
+NEMO/apps/sensors/templates/sensors/sensor_data.html,sha256=ArIsZyJzg995YOHfOdR8WjNyg9DU_S9MczdqvvDruNk,16375
+NEMO/apps/sensors/templates/sensors/sensors.html,sha256=u47lVm3T4HlPjovPPOGNArjwWDEqAZjuFwauj01kJqk,4202
 NEMO/management/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/management/commands/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/management/commands/area_auto_logout_users.py,sha256=qa3MloLyPNStGR5Sgqr-LN5m6wCGSPl9DTbZp1zcwn8,382
 NEMO/management/commands/auto_validate_charges.py,sha256=5MuDeNgX6yjfFHdu3cpFaqvVt8bTrFSxJczBK1YSJPc,428
 NEMO/management/commands/cancel_unused_reservations.py,sha256=jxwdjUQGx87gZI9pcrzYb3IBQ9LSePDDxNOXj_wiQ_k,418
+NEMO/management/commands/check_and_update_wait_list.py,sha256=xZZFgi64MbKOEsSt9Y2_-OZc7iEIfODCvoHa51uxLgQ,437
 NEMO/management/commands/create_closure_alerts.py,sha256=azJH7TeOwFj97qo5xsRaNW1Fe1RNuPpvWtIkv2qCjrM,415
 NEMO/management/commands/manage_recurring_charges.py,sha256=DwDepXL7aeAF83mieqEXEmVyx7ZB80-arDamF8vbOLc,409
 NEMO/management/commands/manage_tool_qualifications.py,sha256=Bsxo70DhUhB8CUFFNnskJZHIR_9jK7jAhG6CgJ1Ff90,464
 NEMO/management/commands/send_email_grant_access.py,sha256=vjH3iisNz74JxbgucdziTCyFkbvAzSyNwSrOQRivWI0,444
 NEMO/management/commands/send_email_out_of_time_reservation_notification.py,sha256=A-e4aZ4uwh056YDqu3DZSaXS90FjVI7S8OEe35KOFtU,450
 NEMO/management/commands/send_email_reservation_ending_reminders.py,sha256=yv46VnCWp6ZZeUPJFJOhz_XQ8fex6UH3PZ74zYfZXMI,448
 NEMO/management/commands/send_email_reservation_reminders.py,sha256=EXqqSKUB5dh3ApLe5LiNSispJOafoww7bYRNpmIP_M0,441
+NEMO/management/commands/send_email_scheduled_outage_reminders.py,sha256=Qiu78Ub5vsQ3Gu3g-MYEHUJgy4-0Mq8_UhvzK4qMwrc,328
 NEMO/management/commands/send_email_usage_reminders.py,sha256=NpzvgcOzPtoTGt8DWZZXX79xwiZha5ANEYWzNP50xNk,596
 NEMO/management/commands/send_email_user_access_expiration_reminders.py,sha256=5uMdCz8W87Sb2RypMqoOUIzedzvpr1w6RrPDcVnqG_E,489
 NEMO/management/commands/send_email_weekend_access_notification.py,sha256=CGfWl8l7SebgftyAutaY9D4lcxy8FxQzNZMu88hhwWg,432
 NEMO/migrations/0001_version_1_0_0.py,sha256=VI1zYC8a9Ax_NaRx4eMkD70DZeNiGhbhFgCORyWfUiQ,64712
 NEMO/migrations/0002_version_1_0_0_squashed.py,sha256=m8NQmlO34Z8t9v-xv0-V4ae0HdrfwuS9by9ul1OXDFI,39249
-NEMO/migrations/0012_version_2_0_0_squashed.py,sha256=imm3qAkndcrU56gAtXWah9v3sJrhFZA75uFfmp-Xsoc,8947
-NEMO/migrations/0020_version_3_0_0.py,sha256=L07nGMAEUMimdi-JrFZQo0tkTPqezCNynf0CVstKI40,11366
+NEMO/migrations/0012_version_2_0_0_squashed.py,sha256=slynJyYVy9ZQGgvUmfuuPsbzGJKYJqo77sTqd6JWED0,8955
+NEMO/migrations/0020_version_3_0_0.py,sha256=8_ZrjSsv3TTPIhNR79jqpaoWqhNgkl2O9726-3BCWDA,11366
 NEMO/migrations/0021_version_3_1_0.py,sha256=wN8_SC9c9-4wYROpLvi4jcXnue9NSI071qItbjXUZgk,1931
 NEMO/migrations/0022_version_3_3_0.py,sha256=TJdXdDTcRYScvz3PCyS8rOFJD0iF_2KdhYaSoGrfu50,1187
 NEMO/migrations/0023_badgereader.py,sha256=7pKWdH_ImUvEMQrV0VItf5flbZ2lINFeszsH5iwe-BE,1220
 NEMO/migrations/0024_contactinformation_user.py,sha256=3WYufZzRqDAmdiWkVbaYd_0BTHYqTGUj7McvxcBGzS0,799
 NEMO/migrations/0025_version_3_6_0.py,sha256=mDBR0QySOEwqU3dLxqfiVkFFHe1jq7x6BkiSszdrz7w,3863
 NEMO/migrations/0026_version_3_7_0.py,sha256=llT96TjQ80avyQspvSkAbSpdMdAYrxED5UpMddXvDcY,6944
 NEMO/migrations/0027_version_3_8_0.py,sha256=ET6SPPVeGtY6IfF8FzkibaGR8geHlTwVIVZITr_fpeI,419
@@ -193,26 +198,33 @@
 NEMO/migrations/0062_migrate_email_upcoming_reservation.py,sha256=kkkPa2mKeZ8Jh8VE2UcyhL54_cRzedN6s-QzHQ91P6g,1047
 NEMO/migrations/0063_knowledge_base.py,sha256=BwB7wrESd2TUTMoliGO0biMOcv11iIpI-31pXLJV5nc,6993
 NEMO/migrations/0064_consumable_self_checkout_only_users.py,sha256=7bWytGfXI5Mu-N3DnyksXPVTODTKYk2WgXkiflCMoGk,641
 NEMO/migrations/0065_door_adjacent_area.py,sha256=-mdITJdWex2vZwG4fbw_Fy4u8mkuZWuUNCQrQnI9o74,769
 NEMO/migrations/0066_tool_ask_to_leave_area_when_done_using.py,sha256=dYO1hfBm2GQrkz_craAsBLfFH6hFb_xA1IXQN5zTh64,636
 NEMO/migrations/0067_project_allow_staff_charges.py,sha256=0EPdMHQQba_Cl9Jua3Frs7M47Q5pSCOBqXAwdiRZZ2s,526
 NEMO/migrations/0068_door_multiple_areas.py,sha256=qoTG0Bl1gT8vK2vbRqkIrwJ8kd4_e1pJdV5NQvG0DD0,2040
+NEMO/migrations/0069_version_5_5_0.py,sha256=Ag98VDtUrtkVhCT3qYDzWyC94nJNSSFkld5shUNGX4o,425
+NEMO/migrations/0070_calendar_axis_time_format_rename.py,sha256=vXV57PHGvNFh3Zciu457YiaKDQyVWhR7HDPybmnx8H0,1234
+NEMO/migrations/0071_wait_list.py,sha256=2XxLTiJLW83_36CjKrXvixKCcJlZ-kdlMo8MhZQjir0,3061
+NEMO/migrations/0072_documents_display_order.py,sha256=BAw79Ycx9hfh_ogY8FJ0nfUafGKnjA3zYmDK48_EadI,3959
+NEMO/migrations/0073_knowledge_safety_items_display_order.py,sha256=gFgelib6T5q-NFoVxFSwNN5j1GkKNDiN_ljl_hIJj5o,1797
+NEMO/migrations/0074_scheduled_outage_reminders.py,sha256=HnlsKTWJ7nlNL9S5XP5NMMezWZY59FdO0ULrl7iw_tg,1403
+NEMO/migrations/0075_adjustmentrequest_applied.py,sha256=Gytdev-IETOze1qvC_52Ion7GsqTF7JyLIHmjjf_I_M,914
 NEMO/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/static/badge_reader.js,sha256=bIfzR6GynIktMinzIMNdMNoUh877c6AR2oSkfuM7Iec,1615
 NEMO/static/favicon.ico,sha256=g26OLzvqVNntHw8SCM75__E-d4_pG8k33AQagXs1EEQ,1150
 NEMO/static/jquery.js,sha256=goy7ystDD5xbXSf-kwL4eV6zOPJCEBD1FBiCElIm-U8,247387
 NEMO/static/jquery.min.js,sha256=ivk71nXhz9nsyFDoYoGf2sbjrR9ddh-XDkCcfZxjvcM,84320
 NEMO/static/jumbotron_watermark.bmp,sha256=wwbaNzswMcjgvKUsvgRe0fqBL3vu5MrUoiq3QwW39Z8,1183392
 NEMO/static/mobile.js,sha256=x9m90Hhjv6e_oxwDfzoG2VPAMk9tiBOMmsicE2zR6x8,1017
 NEMO/static/moment.js,sha256=QFUAPBVOV_hHtZxyDylXJ6v4jNIb121Mb3qbGpp_4oQ,174603
 NEMO/static/moment.min.js,sha256=tQ5QAvt2Bxv3J1gg8P786OP97VYM1DQ9ylmZZ-vv-10,58102
 NEMO/static/moment.min.js.map,sha256=TolJXZb5VVCCqJmje5jQXpiUKURytoeUtfLxlMD-uAY,86041
 NEMO/static/nemo.css,sha256=PxjQlQ8E_BVe_7Bj-wI0LaUYqM1tUU-s3D82kzIAVxo,19345
-NEMO/static/nemo.js,sha256=T_4FUZCV4R20PAe45DTq1UKCmudVz0yd0N54Z76TZqQ,24082
+NEMO/static/nemo.js,sha256=OZHsBF1YC6tqH23wxMgqisjgrSW5020JMOoj4R90rI4,24089
 NEMO/static/robots.txt,sha256=79tZOKlzZyf1zOK2A1VYjk-lQdGdAi0iLYoJuO_V3M4,25
 NEMO/static/typeahead.jquery.js,sha256=RIhic0b36RHkArbVnnGijsyIbj9-Q_yN-aLtP6n-V1o,48446
 NEMO/static/typeahead.jquery.min.js,sha256=49rYGunomZViO4npxvfFySagmPCIL2bf62p7-ZkmwfI,20748
 NEMO/static/admin/time_options_override.js,sha256=q5mAiCnsYinxtadSL7HLvUWJx70sm6ggm_0IpozqZHc,1225
 NEMO/static/admin/dynamic_form_preview/dynamic_form_preview.css,sha256=tW_tKY2U6Gw1OebCvMyYwA2-dtWUs07JWYAwsOKlgnQ,4209
 NEMO/static/admin/dynamic_form_preview/dynamic_form_preview.js,sha256=f7No_8Jfsr82PaS79xjzok1lsR7oImLIhvel_b_xpC4,2586
 NEMO/static/admin/physical_access_level/access_level.js,sha256=9USGaKbGml5b1aGURdsSOHOj_MI_lF4vrA0jOfq8VsQ,607
@@ -247,300 +259,301 @@
 NEMO/static/pickadate/picker.date.js,sha256=2y4jdJhyHU53gqmqU-M9sUIauIELR5WQ72PZCaWEp5Q,48215
 NEMO/static/pickadate/picker.js,sha256=Pwv8jhwxaVvsoU_4TpOg8vg6DeT1yfvwI1TW_e48MxY,36941
 NEMO/static/pickadate/picker.time.js,sha256=vn8vmIgGDykCjzTmEElHyhbpzW1Lk_cpA2NxEOwck5E,31899
 NEMO/static/virtualkeyboard/jquery.keyboard.js,sha256=y-Qo828gnY13LZ9htRLWEPw8R6-d3ebl57Bt49SM2Rc,113008
 NEMO/static/virtualkeyboard/jquery.keyboard.min.js,sha256=h3HibH9fL0wQ7_FYw-yMnI2skkdJnFonXlzeFM4weeA,47325
 NEMO/static/virtualkeyboard/keyboard-basic.css,sha256=jIZMcgXnce-ocyIq4R8yTjLBXta6Wtlt9BPPH_Jkcns,7848
 NEMO/static/virtualkeyboard/keyboard-basic.min.css,sha256=ON68-5pgv7ORI97sdSol9rsDD0VdpdJkGid9SkF9eco,5889
-NEMO/templates/acknowledgement.html,sha256=az2o0h43DE9mTXBeWwHkpf3w0f3myQ2Lwcx-jgGtuUs,433
-NEMO/templates/alerts.html,sha256=eIiWi82XSq4BPZPNZ4H9cRA0hLCwZAyI5o7A3UiPpIk,4694
-NEMO/templates/authorization_failed.html,sha256=rMvpocj_vrWPLYQAf-7GBOIYBjOcE4eWAbyX8ZUpnDw,875
-NEMO/templates/base.html,sha256=t5mu5fghvWgIxQhc-sY-7_DLvv9L2iYkmxjWJfStgmQ,6501
-NEMO/templates/configuration_agenda.html,sha256=cK_SlMTrxpZ21JiKbaZzWlB3e5PiDDKhiQEZCRQ1-Q8,8031
-NEMO/templates/display_success_and_redirect.html,sha256=pWyYn-6va5-WJopT5yQC2Mg5XfZz-POUFhlMWvVRki0,502
-NEMO/templates/facility_rules.html,sha256=k5yT_4VWHYSKznDdupBf1nVqvklysBYr01yvxREKM6U,426
-NEMO/templates/feedback.html,sha256=rvK6Ea8sPjZbvAxylSK0jM7V6OMm5imqXKOYxGrewfE,1247
-NEMO/templates/history.html,sha256=gH_TM15XjlN18k8VGz-Gzr1TNoydjm_tPrM0L2SfG0I,1071
-NEMO/templates/impersonate.html,sha256=WaAMoCF8q0QYmHPpOjlPE_VPzLriMZbwSnae_8S_na8,1260
-NEMO/templates/landing.html,sha256=6fiyt3KTgizjIgOM3lqFAo32GKXJIxHRMvh6M0nB2A8,9200
-NEMO/templates/login.html,sha256=XZ5JvIyzKweaGFy8vAQH9Txj2cjx1Srd9c2mm56NiMA,3585
-NEMO/templates/no_project.html,sha256=7sfLubROuHRHhaCVSxoJR_7WV7sX3TwfEdEgCHbBCTE,209
-NEMO/templates/qualifications.html,sha256=HTQ2B_89U2KruTpigb7ayvim8Re6xWnHZQziIDTo8Go,3694
-NEMO/templates/refresh_sidebar_icons.html,sha256=_DdMMfsdZj5qclxIMzJf7Cca0dCx8BkdCVU2EVlILIE,5667
-NEMO/templates/abuse/abuse.html,sha256=RFz5HDcCaRGIhKqvN7jgDf0JsTWuEZ17Xb6XLgjYg5Y,4059
-NEMO/templates/abuse/user_drill_down.html,sha256=joojP8IbY6eMiJjp-u67UeaxIAudqYwMdvt8oMN1oik,580
-NEMO/templates/accounts_and_projects/account_and_projects.html,sha256=xN2nEMLWljFAnioyYIyCiUXi1kxZUlOxdCW6WtLqHBY,7717
-NEMO/templates/accounts_and_projects/accounts_and_projects.html,sha256=m3SYYSQL9D7fhO5PQFUz9f3yU-1xA-0XhpmGwTSu7qA,6461
-NEMO/templates/accounts_and_projects/create_account.html,sha256=W4s_fQ_4-EGcNqxpaUls8CXu0sICdvW7xyBPuMOFqCI,2843
-NEMO/templates/accounts_and_projects/create_project.html,sha256=VlhbkBasCjuMycsI2O3m6TvLaP12z2CMDANnbmW7dwo,6693
-NEMO/templates/accounts_and_projects/documents_for_project.html,sha256=baDagnb0eg8qOUy0PLq7IdOCN-L3TNMOOUdX2Zc8ixE,888
-NEMO/templates/accounts_and_projects/projects.html,sha256=JtHmso3KktcJf6cphc_6bFjj38A_AZfkYpnxYxHcthw,3544
-NEMO/templates/accounts_and_projects/transfer_charges.html,sha256=kiB0gHvMHvVe62daxUfZUwcK3BY09-QW15BBVRvvIag,8339
-NEMO/templates/accounts_and_projects/users_for_project.html,sha256=HgVHzhx-UsfgccyVgNVPjbDPlYp6ux_5ohrK-78bGBY,917
-NEMO/templates/area_access/area_access.html,sha256=8IaM28I1QAQQPP6-EFZpLU_4YY048vbTgtcF4F7ILnw,2951
-NEMO/templates/area_access/calendar_self_login.html,sha256=iT7ImJnpTqG4QXJ31FVUKV3m3Qu_rc2-ns-OsW3B_Hw,1748
-NEMO/templates/area_access/change_project.html,sha256=GrEHRWw9nDndq_RLf-Skj1-fwISf79KcHVxH3ib4hGE,1111
-NEMO/templates/area_access/login_areas.html,sha256=SIp6hfkRPnBUV82foMaBtX4TbPJyHgHFXhKlf4gV9A8,1141
-NEMO/templates/area_access/new_area_access_record.html,sha256=sN78TCE2nWUtx8t0KIiNpUSfqIUYqc8WPGDRNbR8jNg,1245
-NEMO/templates/area_access/new_area_access_record_details.html,sha256=Qgqo7Xtm_MgGCeI4kQPz8ymIoSlMkMDjSC2AFsneLnA,1938
-NEMO/templates/area_access/self_login.html,sha256=9CsTBsT6HzqiDDi0IQKJXrYZ8otbDSSK-t09OZlXFO4,1454
-NEMO/templates/base/footer.html,sha256=sf7C0XNGIk7KMupO6pVJuf91qAB4Sgo-hXXoJlx_Cd0,308
-NEMO/templates/base/impersonate_header.html,sha256=NGZliX1DQug06379BNBFoGqYDE8vQn3uITL9_Q6y1b4,292
-NEMO/templates/base/navbar.html,sha256=a-1ZM0KeEe8fZHtIWdmdeC2ZQBRLu0NsaAJZxuozZCs,37
-NEMO/templates/base/navbar_base.html,sha256=CBopylmiz-NiC8coJ4iLL_xqg2xv8xfbWfAAuy-hAek,10118
-NEMO/templates/base/popup.html,sha256=ztClnmuClRlPUCJBWpYiFBc3XfzcVjskzLZO6_lfy-U,373
-NEMO/templates/calendar/accessories.html,sha256=mQxckKW44youH0O23wHcPC6U0Vhds6u4nTRB3BevB6s,716
-NEMO/templates/calendar/accessories_helper.html,sha256=mPMmLLCXcc3iJYWpg01vl-t3vAc5HbyjyKx3GCuFqd8,1554
-NEMO/templates/calendar/calendar.html,sha256=Cr7A3Ah0UmGW-JMYVVz2744zOQsi2tG6nxXih-VV_yE,36903
-NEMO/templates/calendar/configuration.html,sha256=jv4tWhUPxaUkOw2DhZm87OCy6OPWu80wdUvweVGhDAA,1459
-NEMO/templates/calendar/configuration_event_feed.html,sha256=wk0oNF6-BtGlQLJ3EzZy3z4X2ilrxLlIHVfyN8sTjC0,973
-NEMO/templates/calendar/new_training_event.html,sha256=nuP8TVbr8aplV2y5psYTT8-o9PWdWmq16hDkstv1L_M,6476
-NEMO/templates/calendar/policy_dialog.html,sha256=gCOiJU-_ITaybUpCLnBRjnC8L76-dVlc6d1HIQUU4Uo,1315
-NEMO/templates/calendar/project_choice.html,sha256=xZ9RZK8FftkYB6j8QD17ZoUdmQ1f2MUflCsw3-NifwA,1361
-NEMO/templates/calendar/proxy_reservation.html,sha256=xuT3cTMGLB6h0tlAZkr5BlLtd7yPh0XuysMkQLSu4lk,1561
-NEMO/templates/calendar/reservation_event_feed.html,sha256=t_RgkuOshvAOxjUMAbyuiG8c_0AaVdWiJffpl6Tts5M,3673
-NEMO/templates/calendar/reservation_questions.html,sha256=HdrKgnPNoab7IesPMEzUFVvAIuzbyb1nTDHN1XR5V9w,1680
-NEMO/templates/calendar/reservation_warning.html,sha256=yvblMXa0qOchVjKasFOTfSddEbtDiYYRmqAMZZ8RnVc,1285
-NEMO/templates/calendar/scheduled_outage_information.html,sha256=3kTzPpFaugyhUIGbyW9xh_4ZgN0KYdFKgbQzRuHxZt4,4410
-NEMO/templates/calendar/specific_user_feed.html,sha256=omGzWvoUMYFXhtlxyLTGdbZlCy9j1lJF7lTEvmyGY1c,2011
-NEMO/templates/calendar/usage_event_feed.html,sha256=PjIJw9vMPGw3ENmLWpRFfgp6rDji0z9vUfYy0rOcyHY,2594
-NEMO/templates/configuration/configuration_history.html,sha256=SULt1sTcFu3vEO8dcQEGcjzbvhcmFnXw_Vy_-3yp1w0,676
-NEMO/templates/configuration/configuration_line_item.html,sha256=nH2WbuzoxEkzNfScMgxx_5vyYODC5-djAdK7mxLSLMY,1374
-NEMO/templates/configuration/configuration_reservation_helper.html,sha256=WTZ_34CW3L0PCTnehxy6pJ49hibCUVKlPiX1yA1ma88,6335
-NEMO/templates/consumables/consumables.html,sha256=RA7aYNJBgKi_0cirsC-TZ5GKPS7RDTjSd5NervYIbic,10195
-NEMO/templates/consumables/consumables_order.html,sha256=O_RxfAaBR3TRNCezeUySOt_fEllHB4DFyGwLconXBwA,1538
-NEMO/templates/consumables/recurring_charge.html,sha256=DzXciiNainvH4RFoZMQpC-g9auIlQJOO2TUpjV_o1lo,11695
-NEMO/templates/consumables/recurring_charges.html,sha256=aCsmGa6t8TBAm_3IlExu2ij1B7h2MzlbeA_kn_wgm3M,5473
-NEMO/templates/contact/contact_staff.html,sha256=M1mBo5PWXK5zuhoXGH7aU-mBtKVQ8ENLz2cL56Orzr0,692
-NEMO/templates/customizations/customizations.html,sha256=XRKDjd_6vXRKSioEwq20rkK8G6YafF3Of-4XEvIw7OE,1848
-NEMO/templates/customizations/customizations_application.html,sha256=ikiSjGa4Q7OVrJvStp877C9xWjzn8zx_I0nPMWsTS2E,8606
-NEMO/templates/customizations/customizations_calendar.html,sha256=QclCmlIledyR5DJ0Vmp2wCoelTm_0ekZKd16jdgVNbk,11026
-NEMO/templates/customizations/customizations_dashboard.html,sha256=qP3zmMPduPUYwYMIxf1k9aN4csPdaaj5eWcPeuHaSnE,8076
-NEMO/templates/customizations/customizations_emails.html,sha256=ycrd1Ikr94YlKInMkOm-RGNdUPrWarxr9B__-8mi83E,4202
-NEMO/templates/customizations/customizations_interlock.html,sha256=jDKG-NAZ8QQOXXUB3v6CnJ8GXNPYdOlYim5iiI514IU,2545
-NEMO/templates/customizations/customizations_knowledge_base.html,sha256=6s5cCj53e8lPJ0gWExTm7sBCim4y5W48gn2-VX6hsaI,2159
-NEMO/templates/customizations/customizations_projects_and_accounts.html,sha256=swZmzkk49w49_P7b8tv4aS6KRe6vyIxXJeyu5MhBisY,6289
-NEMO/templates/customizations/customizations_rates.html,sha256=lBU5crdawscVZtFGjtT_eBTSNjVOTAMkPJE4Wdkd_rU,2224
-NEMO/templates/customizations/customizations_recurring_charges.html,sha256=mAVsceJf_CzZAZaa_UjLRbqfJSXhdLmioEMYgx_XPg8,3519
-NEMO/templates/customizations/customizations_remote_work.html,sha256=-3AZ3yuYQ0FkFWpYkUIf90KfZStXnIety-M13qRslrI,2183
-NEMO/templates/customizations/customizations_requests.html,sha256=NDrMJe051fbhOAloCZrAtJm7BoHiWla5OBTMHIAx-FM,17377
-NEMO/templates/customizations/customizations_safety.html,sha256=bI_tNIlgT2dHiZM8rOxsrVbW5yh7HqPbSWXGthjMN5c,3678
-NEMO/templates/customizations/customizations_shadowing_verification.html,sha256=gRJCM0Wm6s_s2ocGtKB7YoN0gqSj1VPOUkeKIi1hD2I,3222
-NEMO/templates/customizations/customizations_templates.html,sha256=CXEuERAvLFmwshEfr-4Cdl6OaphAP3UnJhYvYRFmxaw,32013
-NEMO/templates/customizations/customizations_tool.html,sha256=tkBjJQbmEyyrTFOZHLqBKtqOe1WHoQ4Ir0zNKngDnDw,19326
-NEMO/templates/customizations/customizations_training.html,sha256=WdEeXssn6CzTOxvVQKipDZ3hTljOw8k8MWdvOgBz508,7321
-NEMO/templates/customizations/customizations_upload.html,sha256=PXOPPuzg-TgHaFhARfL3_y3qb3uQ9yNiqK5ZGyZouU8,1731
-NEMO/templates/customizations/customizations_user.html,sha256=nOCzjfYjU-JqAL7tUHQN6ZfzB3q5JTeBVkWPCTjJ-Ig,5214
-NEMO/templates/email/compose_email.html,sha256=F7H0ZbEKq74Px2Q9lCiJnWgV7ZhYczO_1lYjhSpeIvo,8685
-NEMO/templates/email/email_broadcast.html,sha256=cQWTkJzRfLs9wOCmyW5wydOhjWxy1xq-WC7sfDQ7pb0,4307
-NEMO/templates/email/email_form.html,sha256=AGCFVsbNrZpwc9V_DYPsJxbaz6qr3dkhrCKoitpd3j4,1045
-NEMO/templates/event_details/area_access_details.html,sha256=qpejve4O5Hv5Uqsa07AJDgruMb1xR0EK3utpgEXNVms,751
-NEMO/templates/event_details/outage_details.html,sha256=iOAv1bhPaOYXuZC8EqyHP67BNhTXbpsLxaJXlxPxl1s,7550
-NEMO/templates/event_details/reservation_details.html,sha256=aAN3H8JiSTdUa2aOaMUztxEIOxkVhJc6qEZruCaKcno,13495
-NEMO/templates/event_details/training_event_details.html,sha256=S3737PfomoahfxPGB5sW17ZcSPvLvVVuDlx_YSnfpxw,4686
-NEMO/templates/event_details/usage_details.html,sha256=qSgD2mbjIZR0AfMvlNZfz87LNiIr0rmiIfd_-ynztHs,589
-NEMO/templates/jumbotron/jumbotron.html,sha256=kE6iEve3jbvKzBirKCbrgPJJt_CyQHAsXPHjWBzwbjQ,2183
-NEMO/templates/jumbotron/jumbotron_content.html,sha256=zlC-O24zjRpQUodbIHur5IUjrbrBdS7FOViSJslrPHs,3983
-NEMO/templates/knowledge_base/knowledge_base.html,sha256=MxEC9UtRiEmpPAf5ESFpVDP8t73mJPHmI_J3kTsapcM,3682
-NEMO/templates/knowledge_base/knowledge_base_base.html,sha256=7Ynpk_8pnKzPD_nGgajrol7lPH0NK2_IyCUa9bbmtTs,1106
-NEMO/templates/knowledge_base/knowledge_base_items.html,sha256=AkV0q5Bk-zXZAHCcap3Z_kMqnqYuuxVAKtPWOVKP31U,2758
-NEMO/templates/maintenance/closed_task_details.html,sha256=NO40s-boWDr5BnFyKt61HPAUxxeLMDCJWkYwGuAXsww,1558
-NEMO/templates/maintenance/maintenance.html,sha256=rTVVnwEQPHH5o1AbQfAyOk008qD8prlMLDp1aiNZQ3o,5566
-NEMO/templates/maintenance/pending_task_details.html,sha256=7UAwAitKGag2N9iACxwxunR2hVbMWf8uzEotyl0kkmQ,7450
-NEMO/templates/mobile/cancellation_result.html,sha256=ZBszMP6E0_HNfBjEeWZhuVGvHiN_YhhilSaPEoe5HKM,762
-NEMO/templates/mobile/choose_item.html,sha256=5muP9JyrLzAEABKA5EfbiJkKz8NnW0ieEQMfMDDsuNA,1916
-NEMO/templates/mobile/error.html,sha256=E7-nDUfKBUpwm_76v6IRrbe4cPXbcyZVW32iqXR-MsA,453
-NEMO/templates/mobile/individual_outage.html,sha256=_G3NNTtSTcgl_OJuRmqN4xQcSSCgbKITeHHFhelvqGc,1025
-NEMO/templates/mobile/individual_reservation.html,sha256=4zpAgTP7yKEtrxtvlhjTD22MMOYQEXVfN5dNO4O7PMU,3547
-NEMO/templates/mobile/individual_training_event.html,sha256=fg1GeLeNoSLoMnPcqEnZS5TWYBKMNgVdIIqObRJU7hw,2050
-NEMO/templates/mobile/new_reservation.html,sha256=fTpW-e-QEqS4_ujghBlJVR6VmmSC2puMd-1NEFQVh-s,4221
-NEMO/templates/mobile/no_active_projects.html,sha256=VFKJF-GlqPsuYRzkyy2n-gpsAKPK0mWU7kzSYYw2wLs,313
-NEMO/templates/mobile/reservation_extra.html,sha256=Vyi4WmetC3auBPzybAkMLRV0vJ1gEOUbUuJQuIjOn5s,1757
-NEMO/templates/mobile/reservation_success.html,sha256=IBY6xgOWIzSU0OvabDcufuEhRVBzkwu-LKFZ0b3GPGo,777
-NEMO/templates/mobile/view_calendar.html,sha256=vO07SN5bTPMEUUpZKt7lb1iOiJadhezKWJtS9g5KuAQ,1986
-NEMO/templates/news/archived_news.html,sha256=-Ud5UShWqSBGR8rOMtBAtj9UFl-TP3mUkDX2UY0vOlU,981
-NEMO/templates/news/new_news_form.html,sha256=gLQO4J7PUhczsVlzvL7_p91ejrf6Jfq3Tp_tV4zf7YY,1027
-NEMO/templates/news/news_update_form.html,sha256=OG0AkDpigSTS_PumtvcGWeHn9K-1HKrnSDZVWSaAPNA,1198
-NEMO/templates/news/recent_news.html,sha256=INquxG2hbRKXC6dwxtbZFEZlysYZ8l0nzCHhHGR9TLo,2038
-NEMO/templates/occupancy/occupancy.html,sha256=1RIMNl-4ptrgnYkPf4GCsJHCFZMIohSAUclFS8-eBXY,611
-NEMO/templates/occupancy/occupancy_content.html,sha256=1JQU9RMjUK0IJlIyaBvPprNAwuXIvYugtPudTpqRPAM,2088
-NEMO/templates/occupancy/occupancy_count.html,sha256=-6_mANoPLklVs1V3Kh_Y8167uHt-Hvl4XEZWyBXgr60,1147
-NEMO/templates/pagination/pagination_base.html,sha256=VuNXtptImgOIflWov2dYTb4DYf8hWj2TItABwfkA4yg,865
-NEMO/templates/pagination/pagination_column.html,sha256=FIJY3ZKg4He2tDvbzoh4WseMIx4t4-Bb49PLEdY8__w,715
-NEMO/templates/pagination/pagination_pages.html,sha256=N_iFCj3jeBWQbVwi8uA-bT0RvVxfpBasuE_g0kcHihQ,673
-NEMO/templates/pagination/pagination_selector.html,sha256=6RxZfTUqZMj_yqrj6DAxHoQncp0zS68NWaItNlH_X30,642
-NEMO/templates/remote_work/remote_work.html,sha256=KmDmZc4MgxiHlEYG5hDE_ekGx7OuEWjGMI1cE-7izTI,10616
-NEMO/templates/remote_work/remote_work_base.html,sha256=dlw4gq7v65nKVD3spzYgw3fJhq6yF5aCBaj7vNaJNpA,1081
-NEMO/templates/requests/user_requests.html,sha256=uRAroGXuio2r_V9m0zmvrFW_0sjVA6GBN1bHAiRAN6M,5992
-NEMO/templates/requests/access_requests/access_request.html,sha256=MUUsdJ8D3Et5j1krcuQmK3FUiBVedQig5rBF73Dk_BQ,7768
-NEMO/templates/requests/access_requests/access_requests.html,sha256=IK0IMYAtAfZ0hFEkerRxiiGK3-KPaAtcifDiREWth3w,3450
-NEMO/templates/requests/access_requests/access_requests_table.html,sha256=XLU2-y_IuBxUfQAeuHdc-dseqs9PyxvlRI-ogfhoL3I,3475
-NEMO/templates/requests/adjustment_requests/adjustment_request.html,sha256=syytR5fTGPpm8XMziSgk9P9YQGI7eQayd1ILgEh7Z8k,8628
-NEMO/templates/requests/adjustment_requests/adjustment_requests.html,sha256=4WUs_Cq9gS_K-iOtLUQ3fth2dvmspQUrPCb5Af8x38A,3736
-NEMO/templates/requests/adjustment_requests/adjustment_requests_table.html,sha256=t_tmdWeYqIFzPNqBYitVf_--YCb2JNfkgu3Rt8vRI98,7327
-NEMO/templates/requests/buddy_requests/buddy_request.html,sha256=neip4lhVRY22n0BQ0E-LUYSkqCaSMBDtTMZBhfgAKNE,3910
-NEMO/templates/requests/buddy_requests/buddy_requests.html,sha256=TcQy7WZJejVcN53FtHV-2GkJtnKGSRBg-Sys8zEiHpc,5741
-NEMO/templates/resources/modify_resource.html,sha256=znh4IXAQxyYHoqJK3K44TVFnIOwk_m1PW1uzIxq1A8U,2950
-NEMO/templates/resources/resource_details.html,sha256=AAxok_4EfyoX8_uO7dCmmyO9do0psYHeNhY__FommOE,3846
-NEMO/templates/resources/resources.html,sha256=4w6ByEJgVyNSH3Zle1tTYbMZ2bdtSZvhvQOYZr7fLvA,1423
-NEMO/templates/resources/scheduled_outage.html,sha256=ZsSlwVtYi9ipEnt68cQjaPhzG4tHVyAA_uvUdyEBJTA,3881
-NEMO/templates/rest_framework/api.html,sha256=sYBZz3-QLsxaEQCGmIanmuCRG348_nW6FmQ55g6DB7g,2736
-NEMO/templates/rest_framework/custom_error.html,sha256=i2q8zbPCxVPNDVC55kH_wdv6XEdp7mFwyZjaFG1IFgk,446
-NEMO/templates/safety/safety.html,sha256=AcWD78GJ_PotDbrsOiiGN63a0Y_xCt9LMO6z9froWbk,3146
-NEMO/templates/safety/safety_base.html,sha256=Qc_n0hNd0qLTBdQMVitkXbT_3QNarT2icojJ6dKtgqU,1733
-NEMO/templates/safety/safety_data_sheets.html,sha256=r2VsB5vyfox5_aKfe0892TKCyXXrZ172vuinhc71V1M,7807
-NEMO/templates/safety/safety_issues.html,sha256=jIg_rRQFVIQb2gGk3lr_1BsQfJhrJZ6SwhwUzSCgF-U,1976
-NEMO/templates/safety/safety_issues_create.html,sha256=kMNeUOpYY8VLOPfFr28FYIg3EZwRKbY-51izF3uLIvY,1723
-NEMO/templates/safety/safety_issues_resolved.html,sha256=v5f63RQLgpRGjurmtukg_YZG7X6_HzrLx_heYNRgpIM,1722
-NEMO/templates/safety/safety_issues_update.html,sha256=0QQPtn7qhC3pg9tl2fNn6Zpx8nQrAbMgngoHQb6Hx9Q,1762
-NEMO/templates/safety/safety_items.html,sha256=la-Cu2bp_Rg1s40Ea0kl2RxXIm-DotXDF2dZEU-Mpno,1877
-NEMO/templates/shadowing_verification/shadowing_verification_request.html,sha256=jZnlQ0AmsFQJKpQfBgGi3yChi8kOaeWof0bFaRnxnz4,9807
-NEMO/templates/shadowing_verification/shadowing_verification_requests.html,sha256=h5itA30ckPkX5n_NbJlmQN-wp1poK-sBKxMia4WYPsY,4152
-NEMO/templates/shadowing_verification/shadowing_verification_requests_table.html,sha256=eQLbr_E0bNiU7uO4BJktIgX5SkWvfzHB2YoU2-uMWG8,3735
-NEMO/templates/snippets/button.html,sha256=OEr-YYgHlQuukANlXa9la43nktT5QxIGHbuDdh6hE1Q,516
-NEMO/templates/snippets/confirm_action_modal.html,sha256=zDikbPpmZIe9oQXVhKgbn6zvFCvhce1DEMblDqNphU4,2133
-NEMO/templates/snippets/contact_person.html,sha256=2J6M2hCyX7Ul0Ol-RKDBsflG0oZ8v7W0sxoeWTowc5E,904
-NEMO/templates/snippets/document_list.html,sha256=Hvt_H-WZG-y68AaYOxDrnl8glw8995d7QLPty63pIN8,962
-NEMO/templates/snippets/embedded_document.html,sha256=Ge687jGr0REHnzoKUpT2484OpQS3QFl7xuK7X-pQjQ4,1128
-NEMO/templates/snippets/tool_info.html,sha256=MzuG82rR25j2fW25u7c3EZDxNyNpvMMtP3hcOeSdYno,1728
-NEMO/templates/staff_charges/change_status.html,sha256=zGAS7NauYMYK4BdSUT5J5K2KCU2WStHVGJktpnDFAsM,860
-NEMO/templates/staff_charges/choose_project.html,sha256=XL1_EGtGpQV3lgfv_8a22smSMfCsXT-yUSt6PRTfz4U,1396
-NEMO/templates/staff_charges/end_area_charge.html,sha256=2-ZrkSMR6bjFprboMypCNPmF3c0QvTyESX9_LAPCGUM,498
-NEMO/templates/staff_charges/new_staff_charge.html,sha256=8T85JUn1TT8t5EEVQ2iWpxtF70FyKtYUDuYW_8sux8k,1198
-NEMO/templates/staff_charges/reminder.html,sha256=vd5JilKElbr1va92Qpf3c6MRim81sHYe8H6cdS1o1Hg,1014
-NEMO/templates/staff_charges/staff_charges_base.html,sha256=fmrS_WMpZfHsX8DA9OQCOYggPNc62Sg6yuawpx8lbQI,1854
-NEMO/templates/status_dashboard/occupancy.html,sha256=GEjzmJBVKsXqKWW_VrSCZgJ_W-_nvYcoztvdAVvT_tA,1757
-NEMO/templates/status_dashboard/staff.html,sha256=GDndnZDoYMNxbMG2I91pvFCWijPa8a3VLjmfuUi1Kqo,9772
-NEMO/templates/status_dashboard/staff_absence.html,sha256=vumEi4G0PV2Bb7ZzGYdBT7DobXuWC-3TEcou_gnWKzU,7709
-NEMO/templates/status_dashboard/status_dashboard.html,sha256=D2qOwrWw9qe4_8GImMQrWtFd9tBKLIikKXBOrAbyrKM,6688
-NEMO/templates/status_dashboard/tools.html,sha256=5hykmVgQ9E5SE7h8LHZedpfZgTQTOtNOrD4IorgtHxU,3922
-NEMO/templates/tasks/resolve.html,sha256=SzD4ulsWiHgq63mE1HN4vkJAaPt2MAbQTdmD6tHCzag,2542
-NEMO/templates/tasks/update.html,sha256=bS2-jPbO80Q7i-cFwjUpU0aqzM-ZNhIWAfus7PX2CB0,5037
-NEMO/templates/tool_control/get_projects.html,sha256=GFpE0DaXStePq3K-vyfgFFk_rfcL5t50tj7YOS71-1k,921
-NEMO/templates/tool_control/interlock_error.html,sha256=8_lFT11YALKIptxt9JaM10q7bireZsPw3_Bu1iTsliM,737
-NEMO/templates/tool_control/logout_user.html,sha256=GZeoaCo_WSvdXbCL5b5H_JG1xNu5fIn5xJrSjPfuEvk,1024
-NEMO/templates/tool_control/past_tasks_and_comments.html,sha256=GUCLQ51WmTcJB8AtNigNM06GruPYt9SIlxC4jmn0Ivk,3502
-NEMO/templates/tool_control/qualified_users.html,sha256=4v75I6N9FEIC8utmbsvsMBbHkGCtoJXO4grrUllu37c,4321
-NEMO/templates/tool_control/tool_control.html,sha256=j9sfb7zXNph2Pp0p1hdtkzOrSFNMgf7bq4wxa8hX9D0,16105
-NEMO/templates/tool_control/tool_status.html,sha256=9GabDel27mqWceOsFBeYvb_jEP7eEXEhG2mS3O9DX6I,42458
-NEMO/templates/tool_control/usage_data.html,sha256=G9TJgb-qIIJvIMzsCdlOYxLvz82cMOAs1ik37mTxKYU,9019
-NEMO/templates/tool_control/use_tool_for_other.html,sha256=0TDufDWAVXZq5hTHU3-ULqJxctpyCp9eKoGnMLOslNc,409
-NEMO/templates/training/get_projects.html,sha256=Qz7Kv5uTrBkZDyLjzUOvb563hmzzJnXvWssBTGHEMuk,512
-NEMO/templates/training/training.html,sha256=ZbcuBIeeQ7TMZfeWUN47KTV-7Gd34i4mPIKBP7waxfo,474
-NEMO/templates/training/training_entry.html,sha256=nLRCwSa5pxegrFXidjkHtZDBO8uysdX5-L2PKzqBris,5217
-NEMO/templates/training/training_recording.html,sha256=udsNLQUAeZ-xsEyvpd-8ZDs1SmMw-Xve14UKihA-eig,5686
-NEMO/templates/training_new/training_base.html,sha256=lgZ_lNQItydIobmEp1KJ3k9SOVZfVWTZKUB70kYs2vc,3289
-NEMO/templates/training_new/training_history.html,sha256=fd_yOeosNZf4PPsw4_GK-SWmpE6UhWo03ACoMI6rYPg,4452
-NEMO/templates/training_new/training_sessions.html,sha256=g04jnxgb4eP17aMKPkBOX0Ge3sinfQO-s3y-iVoop7c,2135
-NEMO/templates/training_new/training_events/create_event.html,sha256=878M2XIch6mdf-pb_yZ5qf0Lpi0-l4ULcXffBqF0LqY,12022
-NEMO/templates/training_new/training_events/manage_training_events.html,sha256=hm_HwuzeFVlTVCQys79qoamAl6ZhT9XvnrjXlYzgBpE,877
-NEMO/templates/training_new/training_events/manage_training_events_table.html,sha256=N0OafCm0o5JuoaJZ97qUeSsTw-Vfxg0DC4ioiKcIaA0,2412
-NEMO/templates/training_new/training_events/schedule_training_events.html,sha256=Tm1_t0mHKI2Dmy95N7R5p1kN533DibNxdcYL_xCCFtw,167
-NEMO/templates/training_new/training_events/schedule_training_events_list.html,sha256=3ZbQErk9EPBT46S5lnmarlqKLJenAIajehbIcvjewOo,4998
-NEMO/templates/training_new/training_events/upcoming_training_events.html,sha256=wlXNwoqZul8-j1MEheF4j06JLhcDjhY8R_cB_CRKxaU,3543
-NEMO/templates/training_new/training_requests/create_request.html,sha256=Mgj3dfDUNlsBcmRyGWSvmG53QV_B3RJoymoFa0UEPm8,10387
-NEMO/templates/training_new/training_requests/training_requests.html,sha256=eBCQ2QMl05Xe-i80yOi2tw15Tf7boVyqsSFWYLRf3hU,4565
-NEMO/templates/usage/adjustment_request_button.html,sha256=2w1_98ZlsWBu-OZqKLcaGOOhdLrPq-38qUkahDa_JCY,1297
-NEMO/templates/usage/billing.html,sha256=YY5cZlpsZH15uQ9nO29fWvhfthuQTmNeAUXEtYAeZWM,3573
-NEMO/templates/usage/usage.html,sha256=t3zoK3czrw4SeaDwju79yZV3LV03vFX0gIF0g2EVy4Y,9218
-NEMO/templates/usage/usage_base.html,sha256=UNwgKmW-LqR6hBhXIumrTwZnSYxJy98h7YIcuSMh7Po,9156
-NEMO/templates/users/create_or_modify_user.html,sha256=hNh9pPW9Zrp0ANTlV4NNlHvMWZPKqqDsxf-fwq55ig8,23355
-NEMO/templates/users/preferences.html,sha256=nntg4wku1qyRlIb2WYa3TVuRvupLBHf2eD83Y3E3do0,17182
-NEMO/templates/users/safe_deactivation.html,sha256=_M79BGLdZs2Rn7lwObyCqN1Vtx8Ku4cO_-iAIsyb46E,3758
-NEMO/templates/users/users.html,sha256=WWeoUPrdMsbjLTPFhtwapZSMKiQ7v1Kt9LD7z0pcxoA,4657
+NEMO/templates/acknowledgement.html,sha256=zdHY3INMEwtBFLSAB-Fa7BJ1ezC47pXX_hVZh51jV6A,458
+NEMO/templates/alerts.html,sha256=lcgMiR_is56kOZimqXhT7VPBZMpYYU10bOpnw-63yH4,6619
+NEMO/templates/authorization_failed.html,sha256=mGci7JqagVJPl7IkqhWuEH4mK9ACFM-G0rhyKkrugtQ,992
+NEMO/templates/base.html,sha256=qWGwhpDM0rCZa4pjT_e3rO_i2CxHkcutHcEN2VQaCf4,7301
+NEMO/templates/configuration_agenda.html,sha256=KykQjXClc6u4uLx_xrR2Oi-pCmbbjJZDH2dSUrVcwwU,11550
+NEMO/templates/display_success_and_redirect.html,sha256=RgRRe_OwhqZmAhPDpb5P4w6ig_Txrhd8bpxb5JQE__M,508
+NEMO/templates/facility_rules.html,sha256=Jf8gFPRVidcLnkbX9kHjqxkaVION7AlROgHKg3UsOM0,478
+NEMO/templates/feedback.html,sha256=nnLOpccXVHv7V5aMFV8DFdQ3SEWYLmb7M8xxffCZMWs,1452
+NEMO/templates/history.html,sha256=dAVK7bnOiZrG7sEjqY2zZhe75lTJ-TL-8P42EMMFppM,1359
+NEMO/templates/impersonate.html,sha256=8m1tMMSkpM-ACp88GkvQKPDleulIrGp7urS_PWoRmDw,1475
+NEMO/templates/landing.html,sha256=4FuSUeqh8OmMWZfW5ogkm0BywtNXFEOPPuoVrjtogh8,13293
+NEMO/templates/login.html,sha256=1DclN1rcwUAJvy6QWJJmPgC-KTkX6sVl5o9iXP9Ay3A,4657
+NEMO/templates/no_project.html,sha256=pauElKRQzelIUwJl0IFGknF_BmhkaaApEnR-C06840Y,213
+NEMO/templates/qualifications.html,sha256=YHL-tJg3Faiy1ejTYXUIsuEbFahrdE4mkpR6Y8qSVas,4468
+NEMO/templates/refresh_sidebar_icons.html,sha256=ouOoL2HB29vX6ENOoduk-IZYTjkIGtLdy4Hp8QaFcHg,5685
+NEMO/templates/abuse/abuse.html,sha256=jD7WSEFYjjM4ef0mZiPPlrjz9QVp4t3nwiNQYc8DV0M,5236
+NEMO/templates/abuse/user_drill_down.html,sha256=Tp8NP9rJOqJIzkH2o-LPd48bUBCBSwy-HZMbAvOs7MY,819
+NEMO/templates/accounts_and_projects/account_and_projects.html,sha256=GGsmM-VR5MjdvYahBQGKBjyunrnCMbxi5UimW6VaqCY,9016
+NEMO/templates/accounts_and_projects/accounts_and_projects.html,sha256=GISFuCcly2b8z8O6aed0Cv3qeVIInljFT68NxZX_FEg,7399
+NEMO/templates/accounts_and_projects/create_account.html,sha256=rq_oNAt1_YdRJOAfAYm0UtHJPpoXUopwtgqTzJ2PUxQ,3388
+NEMO/templates/accounts_and_projects/create_project.html,sha256=TcPNWsk1fflrqEgljluRI0tinOGhDkoar0o6lIqnFmM,7972
+NEMO/templates/accounts_and_projects/documents_for_project.html,sha256=s9B5MEHCeV63gqbPkuAN1ex9fOmGEGBrrm7T4ludFms,1025
+NEMO/templates/accounts_and_projects/projects.html,sha256=aY2A4BuZBbA0lCudWyHP2Kc8Dw5SQkWa3UBjTjEDaLw,4165
+NEMO/templates/accounts_and_projects/transfer_charges.html,sha256=JbNxxU4Ds48jomTeOjxVlpRFyTx242nlgGqfPxwMCn8,10631
+NEMO/templates/accounts_and_projects/users_for_project.html,sha256=Ya1cDLeAAHDnIHwwzpgK1IFn6M9V1e2WBRalzZxXnWE,1121
+NEMO/templates/area_access/area_access.html,sha256=_CQGg7bCiXHiKS4ROFRD2tYi6e9rDH7nYebv9XtPcJQ,4262
+NEMO/templates/area_access/calendar_self_login.html,sha256=D6VbLKy7wLwn5_pO-pc2l5nHybtrQM2KIqSqQ_yyeUI,2172
+NEMO/templates/area_access/change_project.html,sha256=BZwz-NjMfY2VweZ9ZeOXNAutCBA0ST4smBy3AuohjIM,1361
+NEMO/templates/area_access/login_areas.html,sha256=5OlyoAImMr_B9ochRIibXV0Et7zcxqw9fJXEoHDZRlU,1608
+NEMO/templates/area_access/new_area_access_record.html,sha256=NgQR9ZKte4gW7LMt7h3WWQO8Ulem8v8yJCLOafrM9j4,1388
+NEMO/templates/area_access/new_area_access_record_details.html,sha256=9Wraxw-R6cjq6pvOodAA7I43fUZmCA4A25JZlC89R9g,2536
+NEMO/templates/area_access/self_login.html,sha256=SxWsiKloou5bDQx31LVrlVSkB_RtGzPbRB43M9Zh9ek,1894
+NEMO/templates/base/footer.html,sha256=xcKiDvKOZ25JOgHuB2p7oFpdnZASN2o2gVPxUF0RSY8,376
+NEMO/templates/base/impersonate_header.html,sha256=s2bBungVdCXrAZ-8k0GlrHWG3KJL4_2ItqJEDGVxWKk,310
+NEMO/templates/base/navbar.html,sha256=eVtDHDiXlTT_OkW7FyLJyzQpabTRumlsbnqJ6tPl3RQ,38
+NEMO/templates/base/navbar_base.html,sha256=-lbPZ6LaHDHf3rtCu3hb4_bUhxsD04OqWOadasyZPeA,12906
+NEMO/templates/base/popup.html,sha256=uesgQ39RyeeZc4iSDxqXHT8GEMRvJYkoXiDArfrmkqs,440
+NEMO/templates/calendar/accessories.html,sha256=ZwtEcMHP4q1kPL7li34Hahnuts0wKoUdxCvrwxMeyxA,738
+NEMO/templates/calendar/accessories_helper.html,sha256=82KZ7WSi3fm7acvmCfyrSJ6eCOhiMejuC6ms-gtuhKs,1953
+NEMO/templates/calendar/calendar.html,sha256=ikUTPNDlFJxRuqoFfXPs2pb2RmW2ifBAzfghfD0Q528,39641
+NEMO/templates/calendar/configuration.html,sha256=T1T0UfkGLz0uDo2d3xWtto1Woewpm7hF9KVslGxMHEw,1577
+NEMO/templates/calendar/configuration_event_feed.html,sha256=YlF_KA38cmQzFFIHU00rSKgGV7_ZqF1PWGLhaMIpoAo,991
+NEMO/templates/calendar/new_training_event.html,sha256=4RKMKSO4_9-QgeUpaTUPYCaGbHUXmeFFUyV6glrNe3A,8533
+NEMO/templates/calendar/policy_dialog.html,sha256=sVWkM0pXLj-3YNC7wuDih4t-AahuLuySs9ddW-SXIzs,1417
+NEMO/templates/calendar/project_choice.html,sha256=5sV_yUpM909sHpGtd5ZhD8n4Agkox_UyfAAUp3szZ30,1525
+NEMO/templates/calendar/proxy_reservation.html,sha256=-uCTmlU1_WvEjMZmoG7WqgZA_NoK2kLJnTrFYPE4g3w,1660
+NEMO/templates/calendar/reservation_event_feed.html,sha256=HdRqhwzPvBjZVNIZ2CZse-u4d30DUrPX3Jcjxw-O9HA,3691
+NEMO/templates/calendar/reservation_questions.html,sha256=e7e1lIIkvqkogOStK_LcUr80Cb3K0HhEGeopM12eS20,1782
+NEMO/templates/calendar/reservation_warning.html,sha256=F_RsmVhi2HSO-LnPEbbvtoUn6j4ajOu8toSr4cp-s0I,1745
+NEMO/templates/calendar/scheduled_outage_information.html,sha256=UNSW1Tbnc5V9bfvVbmpf9rpjMNv31gNcWjv3tjx1O0g,10688
+NEMO/templates/calendar/specific_user_feed.html,sha256=ROYQljAiUkfQz5GxSDDR53NH5ac_pibHREe57QNdFdQ,2029
+NEMO/templates/calendar/usage_event_feed.html,sha256=CMc0UNY37dNrJax96Y77ycRE6whkoI6VTnR08YTmuuY,2612
+NEMO/templates/configuration/configuration_history.html,sha256=9__0xf7puF6Jjkgd35o8BrAfgvxuiJM8ryuyZaErNqc,820
+NEMO/templates/configuration/configuration_line_item.html,sha256=k8eZeSnGLyS4K-qaj-zkLzOCdBIOtUoOV6V1XjwkBHk,1687
+NEMO/templates/configuration/configuration_reservation_helper.html,sha256=FDvWRWDMxmQRl8XQH3kMQapT7K2m2Y4yTM-rbzkp0ss,9022
+NEMO/templates/consumables/consumables.html,sha256=VfkSHtS3D1HNo52JeZ-EE4NJcuWszV9XRw-fN1Gf-yM,11089
+NEMO/templates/consumables/consumables_order.html,sha256=O0eYbLR6LscGL1nRJuz2kDk2dGyTLjcZ3nmgOr5xnz0,1617
+NEMO/templates/consumables/recurring_charge.html,sha256=u9_CRWcQXdGfx9NLpji6jG3eUlaFcvkyCyK6BEnS4Oc,13475
+NEMO/templates/consumables/recurring_charges.html,sha256=RR1xTZf16kdp-IKkDlKXXTNXPdAiPV3Hjxogo4hqes4,5868
+NEMO/templates/contact/contact_staff.html,sha256=06I4_NYxHpmHBFiAwqni712oREMXrrKpiK_zqeeBN8Q,1077
+NEMO/templates/customizations/customizations.html,sha256=iMu65ZR3YHHAh-bD60wE4JC3OvA_OuHHr_lfdaolUuw,1853
+NEMO/templates/customizations/customizations_application.html,sha256=5Am4a_aRtqaCCfWWhY4ceM8twbbhdSi9tRRginCsitg,11038
+NEMO/templates/customizations/customizations_calendar.html,sha256=LG0QE7WOh1vaA_WMh8BEYXcxP8JsJk2x8exfanPs_bU,16320
+NEMO/templates/customizations/customizations_dashboard.html,sha256=_2CByKtjKdOuV_cF1KRUs2tLHvzPhLuPV5szX-d63qM,11917
+NEMO/templates/customizations/customizations_emails.html,sha256=RGblT7O8-oTe-Nqp9jXszI3815CYyLa4cIooPrqO8fU,4641
+NEMO/templates/customizations/customizations_interlock.html,sha256=EWhL4lhoC4n-vkk7qgehRB4EJ4AGNU-vYADKgeBWm8E,2806
+NEMO/templates/customizations/customizations_knowledge_base.html,sha256=DFjI9IyMHJg_bBaK_OkWKEHo_H-0qttDBePHXaYFdWU,2647
+NEMO/templates/customizations/customizations_projects_and_accounts.html,sha256=Al0s1equW3vXEUyUpHPxQYvu-bilm65Gv8ITUfmbzuc,7799
+NEMO/templates/customizations/customizations_rates.html,sha256=JN4HwvhZXYE9hzL57o7K5XHHPQU4_6YubJfam0tgunk,2535
+NEMO/templates/customizations/customizations_recurring_charges.html,sha256=Px6iYYuNJzjNPcedxA6qApPO9fvoW63LTUe3TCCR1KQ,4133
+NEMO/templates/customizations/customizations_remote_work.html,sha256=lm7jLWYMWCSgWKYLXZQVCxHpAFZ_Zd9WvtKMmDTBl8M,2907
+NEMO/templates/customizations/customizations_requests.html,sha256=h75-KEgN8uNoF3H-okCXwgEmXg735ANinx0ml0213ao,21418
+NEMO/templates/customizations/customizations_safety.html,sha256=VXIbFwXcndqGNqvLTWgmhAzPfq6p7ZNGXZYmAfQ6cFs,5071
+NEMO/templates/customizations/customizations_shadowing_verification.html,sha256=CecVbJIFSBibyywVIJQQO76Hpj6DEsbi1xD_O14xH9M,3619
+NEMO/templates/customizations/customizations_templates.html,sha256=vJD86bMD0ocPLstk_pJqYUnxu5ehmSRWAn8NKfZXjuk,36172
+NEMO/templates/customizations/customizations_tool.html,sha256=_372II-zIWe4RO6FX3PDOtZ8F5HigqeUbteGi9lKNHs,26833
+NEMO/templates/customizations/customizations_training.html,sha256=a83r2qxy5oZi-uek0pYJVtUUovPj6uGHDk_bImyFNxY,9748
+NEMO/templates/customizations/customizations_upload.html,sha256=OR_bKCQaBiE1Pg6kL_uLMt0I160g2clKmRPjKABZcBg,1866
+NEMO/templates/customizations/customizations_user.html,sha256=3OMNCaKh8mO2EPN5yrSnENEAt-lbNqks5DFGyiQIbRA,6186
+NEMO/templates/email/compose_email.html,sha256=BpbOIqvdHVhg-folzHbe4f_z6yR67pHnJXZRZDX8APY,11342
+NEMO/templates/email/email_broadcast.html,sha256=KjHOA1I4CSQZbLFO90YLVCHgvbDbU7JMxqjGlhu49yQ,4906
+NEMO/templates/email/email_form.html,sha256=gPCBmZjqE9N01ukDWUnTq0_6XHKl6tXghD9xefRZq7E,1454
+NEMO/templates/event_details/area_access_details.html,sha256=Y2pgO-ExGAzfrJrx2OgkVCtHjg1LzOtA4HgL3pFlj5g,843
+NEMO/templates/event_details/outage_details.html,sha256=VMxuZqOkN95PZ7c0SLywzz2DdJd3hMC1MoSd2kCEDe4,8728
+NEMO/templates/event_details/reservation_details.html,sha256=r8n41EA3KQzlzyu3tgLlJQO2tU14bJWgfH4qgfu0_TI,14532
+NEMO/templates/event_details/training_event_details.html,sha256=YijbiFTOjXp0E-yktwNrxxPQLU211Jkvd8RYhpZKhfc,5665
+NEMO/templates/event_details/usage_details.html,sha256=m_JwzvhGfJk2LjiL8J_PuMz66ZP0aQdiSPayDkumg-Q,623
+NEMO/templates/jumbotron/jumbotron.html,sha256=CXAkM2N_B3aLKe_dpqYZwUWPZKbpNauJp4gJY08VynU,2441
+NEMO/templates/jumbotron/jumbotron_content.html,sha256=8cJqNRiTTjPmnjag7nmZdERpKpajRjdLLQ_mbDl-_YQ,5826
+NEMO/templates/knowledge_base/knowledge_base.html,sha256=OCD_beNDN_Z6nVoWOhB9ZTlVX4ZeIQVXo70OgLhtU50,3655
+NEMO/templates/knowledge_base/knowledge_base_base.html,sha256=es0OrIdtbjNoNaBhr7pCiPd-bJNpWBxy1HqdbqxqHNE,1115
+NEMO/templates/knowledge_base/knowledge_base_items.html,sha256=qKjoUbjkjHuLelPDGKwmlfIzZWU7Fn52GsDQ_C6MJG4,3317
+NEMO/templates/maintenance/closed_task_details.html,sha256=D57XaGtzDwkZsJDzjUhteVncbMgA4DwJTG167-Hf2T8,2182
+NEMO/templates/maintenance/maintenance.html,sha256=vENS0R6EGxu8qBbpA-haQwjAb9plpi7153pUb2dUokk,7551
+NEMO/templates/maintenance/pending_task_details.html,sha256=g5c-enF9vMvij56QlH2xfhmBa0TXS37mu_xTTxmU7nA,10855
+NEMO/templates/mobile/cancellation_result.html,sha256=j1IbwWpRA7FUiCUcQisCvO8bzcC6jpgztIMT7P90-Cw,916
+NEMO/templates/mobile/choose_item.html,sha256=rV2TLnykjym2uad5DMyoSlJvvo0treNRnZ_tui_pVgs,2535
+NEMO/templates/mobile/error.html,sha256=9ju7RvzAxgYS3lrf-l93vgtBOlKCoRmp64Iq3ismFEk,522
+NEMO/templates/mobile/individual_outage.html,sha256=wInMrSJSjvLNfHzGqhwRhdx_1YB3zUJR5o-MQ6N73YQ,1224
+NEMO/templates/mobile/individual_reservation.html,sha256=3r_GoCPn1PSB4RfoQOx6jNKFVgEECkyXZBLNAMme7LU,4710
+NEMO/templates/mobile/individual_training_event.html,sha256=Zp832kLYvcChNrGCpX64k2gtKciWbQM12nc1fzOHxZI,2575
+NEMO/templates/mobile/new_reservation.html,sha256=jgLrXzyqu5R7mlAwi9ckttVLhMvn-zOTJFfaFPKMOy8,4814
+NEMO/templates/mobile/no_active_projects.html,sha256=eqqSXpvoXyrDCJUV3fUcb7LCiULGL1_1d1cxwCEtOsg,334
+NEMO/templates/mobile/reservation_extra.html,sha256=TepZojBrI2lo-6UsMA7FMOLvwooIS3-8kzw8yS8SMLM,1980
+NEMO/templates/mobile/reservation_success.html,sha256=YrmwqJapwUVtV5YsLqBFsloH0-Pvha1yO1kYz6DwZRA,894
+NEMO/templates/mobile/view_calendar.html,sha256=9QhuYYb8y9KRB8KwnL76EbxfvUIbbRSSYcDkm37W8y8,2253
+NEMO/templates/news/archived_news.html,sha256=_qR_O3pRK5ENFOJYVGLEPzmGOJp7rKjcD2c2UoaEr3g,1299
+NEMO/templates/news/new_news_form.html,sha256=ozj6wJdAQqBCj0jv3Xgq-IPev6yoLlv-jVgps8XtYWc,1319
+NEMO/templates/news/news_update_form.html,sha256=2rSELfHrECWqt539lGgqUaDNPitVIkzefW44__ZZXzc,1363
+NEMO/templates/news/recent_news.html,sha256=UZy6q2a0fsJJhr6dpMBB6hfRiowhgxlVlYIcC3WfI44,2537
+NEMO/templates/occupancy/occupancy.html,sha256=LRwsJoerU2RzNx_vFhnkFaT2v-ecs_hUr5SSXmUuyGU,655
+NEMO/templates/occupancy/occupancy_content.html,sha256=cA5O0l3vtoc3o7ZHOgs0XlycDc9DsxdnednvSNO8UW0,2700
+NEMO/templates/occupancy/occupancy_count.html,sha256=OYl0L6wsxJGVNb3ymSXt_jgYuWoEQG1oQeXFW3RUN_0,1229
+NEMO/templates/pagination/pagination_base.html,sha256=Y9QZorOVprAZj9tH7h9W-4UqOdxpeHCkJ-5Wv1p66Ls,839
+NEMO/templates/pagination/pagination_column.html,sha256=_LGl1OCKeXJtvCxpOf-On7s45tMXHnE_oAUqo8NddvI,768
+NEMO/templates/pagination/pagination_pages.html,sha256=Y5dnXcNMtS7ygKNIZ0_rqS6Rf6JUJoLQBb8SWme6MQg,658
+NEMO/templates/pagination/pagination_selector.html,sha256=6wPyeyoBbD455FqG4kPF-RnIqb7V5IzQ2TqalJ_Ssy8,651
+NEMO/templates/remote_work/remote_work.html,sha256=UxxAhWCl3N60yMsp9V6LvRMF9adRlaSOQMYg2wFfUf0,13396
+NEMO/templates/remote_work/remote_work_base.html,sha256=71HaxKb_8FzHR1MgD912lfVM4Cbx_8o1OEpKLIPUMBY,1089
+NEMO/templates/requests/user_requests.html,sha256=_iMF4ioYCI-Bhk-T3Dic7KsFJGon6wse9hOVL-_ZU6U,6203
+NEMO/templates/requests/access_requests/access_request.html,sha256=6w3BT74LHaMhVHyRPK21Gm9Gv-7LZbu6hrFPt-sXFtU,9117
+NEMO/templates/requests/access_requests/access_requests.html,sha256=FPxzJMfV2t8UXFJINmOO85pdp6xnsIEG5AkBg-2V6CE,3845
+NEMO/templates/requests/access_requests/access_requests_table.html,sha256=NJDkyIAKjjtY5btAP1qqV23aCDtKifJfjSprLTWB1RE,3784
+NEMO/templates/requests/adjustment_requests/adjustment_request.html,sha256=clgA9lBcTJFbn7AZWlKO8ZbcPJzE4N6im9ohkFSOjk4,10645
+NEMO/templates/requests/adjustment_requests/adjustment_requests.html,sha256=J15PBv5kN2w39LK64W7JHP6ayTE8K-kiWIjPBABCa3c,4894
+NEMO/templates/requests/adjustment_requests/adjustment_requests_table.html,sha256=AccSJHJkU8TI1GdbPRGicRQYJmgBRLsYNATEc9DQmDk,8466
+NEMO/templates/requests/buddy_requests/buddy_request.html,sha256=xZzW-2tmaIzskAvmCnI0h1iOW0lPr_vwlczc528JtKU,4779
+NEMO/templates/requests/buddy_requests/buddy_requests.html,sha256=9WXVp8hQBSU8svy69fyMzpDaQQRIzmbsBAlFq-tpLuA,5734
+NEMO/templates/resources/modify_resource.html,sha256=pjDf7R1HFX17qHm5FKMZRJTPpbF8TLF39Ey2S5wzWwM,4080
+NEMO/templates/resources/resource_details.html,sha256=NFq_acAxsy1ZoPqAB04b5A9GL4Jnr5rcnkeRDQr6uQo,5358
+NEMO/templates/resources/resources.html,sha256=k8VHpwngRCZWHBlR2u5HdYZUj_rGAO_afKT0Pqma_L8,1642
+NEMO/templates/resources/scheduled_outage.html,sha256=yBELp9md9dz1EFRLNJYkzcL4rDsK-hCkbH--QR-8PpA,11406
+NEMO/templates/rest_framework/api.html,sha256=Mklna13Yr_v-1Nkmwy3SeHmt7cZoR_9Q332zbfukKDc,2941
+NEMO/templates/rest_framework/custom_error.html,sha256=dv3_kBVgVDtc_fHA4IGJYkrDl7aALHJPaoFkBatNZcI,433
+NEMO/templates/safety/safety.html,sha256=IwIkuBrFui7EeGqL_KHTt_i2zEeDTQDV4Fpe61YHHjM,3126
+NEMO/templates/safety/safety_base.html,sha256=m0VNFh77JIVDy9xE_HyJCuCBwDbLN3MU1vRvbZ9TNkU,1679
+NEMO/templates/safety/safety_data_sheets.html,sha256=t39BJNXaCwALe6c1AJnD9tqPl_0BdfscYJrg6iQYAFw,9496
+NEMO/templates/safety/safety_issues.html,sha256=4gVgh1oKd4LsGzIX2HmQ4iTP7xss2Y8ckT3udMOZGW0,2876
+NEMO/templates/safety/safety_issues_create.html,sha256=QJiejue8uY4CTvpWN_YZBMeZ3ftv84Hp_ieJWtXwyik,2037
+NEMO/templates/safety/safety_issues_resolved.html,sha256=RO7GDrDX1cBoh5WX3f6YZf7pud-5D_1XPALcXgV2q_Q,2400
+NEMO/templates/safety/safety_issues_update.html,sha256=jQ6Wi8GmmJHC95yqmBsykRAYHeHWNPpJLkKX_kKn8og,2282
+NEMO/templates/safety/safety_items.html,sha256=x-7MV9iUhlToPuSqbPEQyPn3_bT-KezXCxxe4EGFbk4,2307
+NEMO/templates/shadowing_verification/shadowing_verification_request.html,sha256=Rem8zmVmjPeouJNTUWwB4vnT10rYbPJhB2xogVS8IUU,10658
+NEMO/templates/shadowing_verification/shadowing_verification_requests.html,sha256=xLxesgK9DEum4lsnuqigNYL1QKYbmf5nygCFsEQdX8w,4678
+NEMO/templates/shadowing_verification/shadowing_verification_requests_table.html,sha256=i9zGHwtwjc0ntQPcY6MTVUi7sXCP-SG-Vei-dLmsMK0,3844
+NEMO/templates/snippets/button.html,sha256=ImzCClq18Tnxc4TRYR_7tZz6y1KAHtaHEE-YicgWMIU,519
+NEMO/templates/snippets/confirm_action_modal.html,sha256=tpv05y-rp2B3SBrdd_TnadkIWdTP2ARtiV5Tpbw6NbU,2422
+NEMO/templates/snippets/contact_person.html,sha256=7BmCpO1uPHxiH_qfKG1pdqcbVq8ubKjY58RSHoNuRrs,1059
+NEMO/templates/snippets/document_list.html,sha256=88uNYIETdIRSg8DyxxjxBskI0QptKfXELk4aP8IUPBQ,962
+NEMO/templates/snippets/embedded_document.html,sha256=vK_6yTg9z031mhKaTOzz52zsOMgt0r_26Op-K7WNXYY,1285
+NEMO/templates/snippets/tool_info.html,sha256=W2p3tv6rvpgXeHiZr7jA_EWGnKO2SR5YPwc9cmdwDs4,1863
+NEMO/templates/staff_charges/change_status.html,sha256=D0IRA4aR7A2uKQ9y1Jp2WW68nzfsZSmGMVbsT1CgzY4,948
+NEMO/templates/staff_charges/choose_project.html,sha256=gLrByiyZcS6Tw0t3fWc9WoV4UAx4JAq-s7dwzS2BMq8,1796
+NEMO/templates/staff_charges/end_area_charge.html,sha256=9DiQaSzRU9hr23CuGjdD6Kb7fykdyWpFzHq9fUxrKXE,625
+NEMO/templates/staff_charges/new_staff_charge.html,sha256=t25kixn18guR8WIUY16dH_H3-_zPgIbAM0ZwyRy2rVQ,1284
+NEMO/templates/staff_charges/reminder.html,sha256=SZ3RPQm_wnupMMY11I8iWTR6z6tbKFAA-Z5qTR3c5I4,1049
+NEMO/templates/staff_charges/staff_charges_base.html,sha256=a8Z2du2E3CD6c_BdsbaHvo4IUsOVN7Bk8r1OPwElIEs,2145
+NEMO/templates/status_dashboard/occupancy.html,sha256=7gNM1UwEeNjR5clM8faEW29-nmjlpJwvQt-NHHpjEpg,2333
+NEMO/templates/status_dashboard/staff.html,sha256=HGSogprdTl3_oIS3cmETLMTVhZC0xaYPNWWHf6d0Mp8,11703
+NEMO/templates/status_dashboard/staff_absence.html,sha256=cep5thr5HVihQAU26XG__H5vumkDU-lOOPRwD1iEr_w,8559
+NEMO/templates/status_dashboard/status_dashboard.html,sha256=_GU0j62l3B8_uG2Mt3JGzTkR4HxRsmtbhShaWuTb7Q0,7477
+NEMO/templates/status_dashboard/tools.html,sha256=DhEXtP9bUfoczsf5gfkKjn718vU45CLgfQhvfpliqXc,4927
+NEMO/templates/tasks/resolve.html,sha256=JYjIVob-NpSj2KtMcwZape_48Nv09VRs8qu2VAheyxs,3107
+NEMO/templates/tasks/update.html,sha256=yazBBehPcXDNxiF4vt3nhvZ_rhWtnKHHSA4faMBv25Q,6800
+NEMO/templates/tool_control/get_projects.html,sha256=V1XeTtrX_ItISop5ZHOdPLbosdOLhbxyT-HLDqjTJgU,1009
+NEMO/templates/tool_control/interlock_error.html,sha256=mKHRgdqwD7QcLhWf6gLuMSPfYSioWbsuOFj8t6hjkp4,771
+NEMO/templates/tool_control/logout_user.html,sha256=UCII2yaDkBFqC-9tyBo8QiqRiZNVdfiH2DUVf-z2YrU,1034
+NEMO/templates/tool_control/past_tasks_and_comments.html,sha256=b9C6OywZomJvqdRXAW1yNkeo_edmfFrxZ_tVroGcfY8,5162
+NEMO/templates/tool_control/qualified_users.html,sha256=CS2WqueFoQdGp3Qq8maQrk-raJ_UeNBC78qLK9tDQZs,5333
+NEMO/templates/tool_control/tool_control.html,sha256=KrPjZ7OJvtovhorZeE1ZPMIE-Hxq4B0EGCLOenxu8QU,17516
+NEMO/templates/tool_control/tool_status.html,sha256=Hz4tDoritHsU5BGboI6csdAshhLU5xmyzcNjBN07tiQ,62480
+NEMO/templates/tool_control/usage_data.html,sha256=0qksxL20XBOjblMKD6PwBcRdspPZ7MniMUw6BlJsGVI,10808
+NEMO/templates/tool_control/use_tool_for_other.html,sha256=beD0FFW4r8n6n2B8KHbK-M51Cz4Bj8zcKkZmSAP_oTY,422
+NEMO/templates/training/get_projects.html,sha256=Q64ODiogehjiCJw-BWlheFXiGzEgojyTq_bA2F2mS8U,557
+NEMO/templates/training/training.html,sha256=4KbRZgDwb8riTcMmxxvC1BQOvek9r9dku197x_T5DhA,491
+NEMO/templates/training/training_entry.html,sha256=MuM4r7T6-Hp2CzeNS-MlLe1YMFNw3jUfXJwYHrQHXoc,8005
+NEMO/templates/training/training_recording.html,sha256=7CBgNZ0Hn3ud7toZvtNGh1WWRoei3z5gr4-pRPkh81Y,5729
+NEMO/templates/training_new/training_base.html,sha256=e_lszYvhIrFRE3-e3uh60hwjJ9LeV4pTQKswyekomwI,3665
+NEMO/templates/training_new/training_history.html,sha256=zORzaZrvpaq1aUfjuMuRkwG-mS4t2rdV0sIHEg9DuA0,6447
+NEMO/templates/training_new/training_sessions.html,sha256=gephqTEWHVTOBEirZIn4Q-hZvu1XnLczywW88iGiijU,2148
+NEMO/templates/training_new/training_events/create_event.html,sha256=ghsaIDsuNqBV0KFj8v1oR12kj3ATtv9Wk8yjNcUVOOQ,15144
+NEMO/templates/training_new/training_events/manage_training_events.html,sha256=KnD0dl_5Ovgw0q2blkilqdnlvk9X1bnlMMRrJZ84QZk,1023
+NEMO/templates/training_new/training_events/manage_training_events_table.html,sha256=ygqs2j2nYo0ZeXlXGH3EM2Eu4aZfkpzc9GOywuSLyVU,2868
+NEMO/templates/training_new/training_events/schedule_training_events.html,sha256=n7ogSVhXLyIgT3I_GaKViy21ttdpz3sHBcz3vQHXAFg,171
+NEMO/templates/training_new/training_events/schedule_training_events_list.html,sha256=DH83W2ziNqRyzHE6r-iZIoz0V35GUKhy0Ltg8Oya8MA,5984
+NEMO/templates/training_new/training_events/upcoming_training_events.html,sha256=_OWjbRy6EZWdTmQ8nyOL8SoWYwlDfMrSx021ukH43GA,4695
+NEMO/templates/training_new/training_requests/create_request.html,sha256=p_RPr6o8pzguZPmccjoHRawv_blP3y3HeJGIcpEgXig,14366
+NEMO/templates/training_new/training_requests/training_requests.html,sha256=zxGu8M23ZFrY5Ke8LPqQzeZ_xa7qz6OnH4gnewnDq7c,6469
+NEMO/templates/usage/adjustment_request_button.html,sha256=0-okf9NEa9dQafq0Jv3j6reFxjIohNo4EzXInWDbFV4,1475
+NEMO/templates/usage/billing.html,sha256=9jNcdfJhwobbn74oDBiQ0QBiP05CHK2IgjVTwXVaZgw,5458
+NEMO/templates/usage/usage.html,sha256=BM2NKsPkVLq-h-UF2A1uoUGbHUf8SOOMW00GFkLURl0,11290
+NEMO/templates/usage/usage_base.html,sha256=wpesvX4_kC478JFgdkxPj56ALHPgYUQehPRcIuiU0FM,10680
+NEMO/templates/users/create_or_modify_user.html,sha256=s936XiWc3vxc3tpVu-CL78gFR0t1PsWgLc1zKBXmqQs,32025
+NEMO/templates/users/preferences.html,sha256=7TBRs4JKblG1-PjEC1n8nLcdQ_GU_4YYidfDA6e3srk,21255
+NEMO/templates/users/safe_deactivation.html,sha256=LZC-9dEKK2e-5bdV9NalqLNtrBSRtTUkrUaqc_eoOEk,5399
+NEMO/templates/users/users.html,sha256=pURMHOyfbvywbTvjwSRvEXugb0RNI4bJHNn86U_8Ki0,5563
 NEMO/templatetags/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/templatetags/custom_tags_and_filters.py,sha256=rLZuYHpx2siMmW0gsklcmKX7en6BXSIX8pALSUd7T44,10107
 NEMO/templatetags/training_tags.py,sha256=lgOx_wVQdzykfNHn3Uee3wKtDtJBU2vtEdz-Rl3HU9A,293
 NEMO/tests/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/tests/test_area_access.py,sha256=7WP6YdklqVzkPzZdChWJZch5gGcC0NSqKFbpKKrKS9w,29763
 NEMO/tests/test_closures.py,sha256=XNfL_LdWIV74XtFZtEkL2tImzKVGlRsFfNKTuFmQNc0,10126
 NEMO/tests/test_consumables.py,sha256=jKfEcJh-er1CZW0Dp_GDJ4ycwLvIGr5SV1Z5iEIjP8Q,24973
 NEMO/tests/test_dynamic_form.py,sha256=LAOE4C4uqNBa8oJGFpVnUVqhqi4jzIitPLzEn8yXcck,15018
 NEMO/tests/test_evaluators.py,sha256=gvSD3UeRAehjwE3Pa-blCQRRwA09fZacIG_-N_uorGk,3680
 NEMO/tests/test_formats.py,sha256=c8M3F6dh5_1bksPib55VLoI8QNTbV_GuCj_9V-hnCbI,3246
 NEMO/tests/test_misc.py,sha256=sQEDVIm1gTFS0hwTqdH0kbcbdiI1JmPQ3wJwI6ZghdA,1970
 NEMO/tests/test_settings.py,sha256=mjmOxGJ2_gkG7h0gAEckHKNkDb3nBKh2Ss_CuszxgxU,5092
 NEMO/tests/test_shadowing_verification.py,sha256=FrIo4XAQmVmC4mlNQcwejggQLubTed2kIgMNmyVd428,12226
 NEMO/tests/test_staff_charges.py,sha256=esQFKJmq_FlR16SGvmO5JdwuIU9u_xCR4o7B7NgcF4U,1133
-NEMO/tests/test_tool.py,sha256=6CgslTRoBecAWlN-FDAebQ80kTvf8OZsnKhnYWk05uA,15311
-NEMO/tests/test_urls.py,sha256=TUC1wCcU-05ukl9j_02KxVHxp3Mm1oGiWklKQRiLrTc,19677
-NEMO/tests/test_utilities.py,sha256=tcDKEsSz9cPX2LaLVlSknlyDy46iHKFFIU9QYuXcwHs,3390
+NEMO/tests/test_tool.py,sha256=RPbPUkCzGWPK2Y1TehS0a4xF9_i8lO8CkMYVi-5bFQg,14940
+NEMO/tests/test_urls.py,sha256=C2XZ5V4FtvZEyY43cGRWwIstDuj8tcGTn-xYqLPq9OY,20459
+NEMO/tests/test_utilities.py,sha256=sFya-JyBsGIBnb6q_IPDyAuXIE_CApUqzCzC9QRjaZE,3382
+NEMO/tests/test_waitlist.py,sha256=leqGs4BNQggENssGwVjlRU7zdWs9MqxpAmG923CjUIk,35424
 NEMO/tests/test_api/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/tests/test_api/test_billing.py,sha256=f2zoCMYfL0KoBk2SpBP_R4q4FB_fXJMAAoUJ5TTmCts,4198
 NEMO/tests/test_api/test_crud.py,sha256=h8BvjabRZoFGssaVJmPR-ghb68tSzhwolzzxLVFk-VI,5747
 NEMO/tests/test_calendar/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/tests/test_calendar/test_area_reservation.py,sha256=fJDpYnFlPj40fgSqVmZHsYRZfb0uNjvhP0HDV0_yIYM,33680
 NEMO/tests/test_calendar/test_calendar.py,sha256=5AYpI0kdsDBpBbkudKkB8sEdSJehDeGFf6EQRouNHQ8,1041
-NEMO/tests/test_calendar/test_outage.py,sha256=FVnrqGJUQv0e0kOV00fXheyVsXG0zbl5RP15ILxKxAc,22955
+NEMO/tests/test_calendar/test_outage.py,sha256=VWk6AkDZRULwqKoupxQx1tvE1JoX0OwJ3ujDfAIJ7dE,23117
 NEMO/tests/test_calendar/test_tool_freed_time.py,sha256=av3wetZ0KIoevyBblzg0EC2evPhzRF7m7VIFAPPCVnE,11729
 NEMO/tests/test_calendar/test_tool_qualification_expiration.py,sha256=HlrXRUyi8jZPSDvz-n4yYpRKGQUGng0Vx26he26WqoQ,18987
 NEMO/tests/test_calendar/test_tool_reservation.py,sha256=dPEjYg350GcI3T31SunYjxGOIbgUNAUB-po7-nzzdLQ,30266
 NEMO/tests/test_ce/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/tests/test_ce/test_grant_access_email.py,sha256=gotpG7i92Fad6oCFx61KxbjvKC-a5RRkbgLEOfB3YNU,6754
 NEMO/tests/test_ce/test_precursor_schedule.py,sha256=8syvN2wTSWyqMjHF5yn9JnC6uNZctNdE7p8_H7gqAOg,2609
 NEMO/tests/test_interlocks/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/tests/test_interlocks/test_modbus_interlock.py,sha256=uClr8AZQiiixGIU09-b6gxzaJFekHW8cwy1yZYNaRt8,3597
-NEMO/tests/test_interlocks/test_stanford_interlock.py,sha256=0PzG6MJcsB-s00Aq0eXCCiPXDbwZVpfD5FZWlwz042I,11444
+NEMO/tests/test_interlocks/test_stanford_interlock.py,sha256=24_iej5St8WC-5NCkfWSnqErn7qhh7r7smwRu8m6F8k,11445
 NEMO/tests/test_interlocks/test_web_relay_interlock.py,sha256=DcHX2EPbq1HDohdqJ37Zh5E78Bd7gu2vNYSXqdBftWo,7059
 NEMO/tests/test_requests/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/tests/test_requests/test_adjustment_requests.py,sha256=R96jTKE4wfi-_XbX-62MdcgVKEPZ8RYQPzfxY6hTJYw,9460
 NEMO/tests/test_sensors/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-NEMO/tests/test_sensors/test_modbus_sensors.py,sha256=TYGiIwlmMIjzRIaBk7sHhJzkdE3D-hNCs0pMzrgvCEk,2229
+NEMO/tests/test_sensors/test_modbus_sensors.py,sha256=7XRkFv0nwXoz2JkVLnDWYWSWwnv-pKYz10ovLAbmEYY,2139
 NEMO/views/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/views/abuse.py,sha256=wjbcq3cMp-E6JNdRQ2EjZnwD_NGxZgB1caL17eURxko,5483
-NEMO/views/access_requests.py,sha256=vdVEbROmlAmbqA7bxkegZBLerEdhEyqekwSHKlVlDU8,13044
-NEMO/views/accounts_and_projects.py,sha256=Zp14wxqfn-AV2YjadNqmF2vaJcn1HTzQD1qthxAU7BQ,14108
-NEMO/views/adjustment_requests.py,sha256=euAinmyAC_XVJJaBvtxQBWwySYXxFSdBTb20HcW6m8M,20016
+NEMO/views/access_requests.py,sha256=6HjE-f50qhBSB1lzlQFK3mQ1-f0uyfGQP4TmbQoTRUY,12996
+NEMO/views/accounts_and_projects.py,sha256=H_XrucvrOVYFWwhG47Q-1KhH9hF7-EKe8JLNFY4O8Qs,14401
+NEMO/views/adjustment_requests.py,sha256=4qlX7mLyeVzQOVDLg4sKGB_lYLiySPnal8ZUN3fQTg0,22729
 NEMO/views/alerts.py,sha256=U2O6hxse1EWhwbga-FpBLiAfxrd8aad_guBBGTfaHno,1987
-NEMO/views/api.py,sha256=yjBJpP0-iHt525iFuq46LEQNpZ9zFDbU6I76MToh2E0,26610
+NEMO/views/api.py,sha256=7Gaqca_AzvhAKlUe8ZZnr6l1PKDWDvEJ3gXWtf7dPhY,27751
 NEMO/views/api_billing.py,sha256=t8C8pCoN2bnBFdsow1D9LcrcEJh8U2WGnnWSYsiLk-4,13969
 NEMO/views/api_file_import.py,sha256=Cyd2171oiokC9DboPh05d-w2QBIQfAcQI5HgcHhjiQM,2700
-NEMO/views/area_access.py,sha256=epbUoccvXFFfbG8RAV8Yb_y0e6AagabsiEJt9n5CHnI,21767
+NEMO/views/area_access.py,sha256=JzVrJngS8haFNsUJw3p9OkYBMVkmxgOlmuT4w6LVd-g,21857
 NEMO/views/authentication.py,sha256=4lmwZlr10Va6uYCl4Rd3Oxh4BfCyyeKvWmg4Mp_XwQQ,13996
 NEMO/views/buddy_requests.py,sha256=J2DRfBqUtTSjWob7LBqa64COgP4bil6u2-y3AMHi_Ms,7251
-NEMO/views/calendar.py,sha256=rUbH-N-OdX5KPJ7zCnJPw3igAI_XAkJC0QycrrdL-fM,64757
+NEMO/views/calendar.py,sha256=9ike32Q0nKLAwRc1XDkNwvGwjLFfICtnnqXvNWHpgaY,63458
 NEMO/views/charge_validation.py,sha256=lpP8oTp4KhWnOXRxaC365NqL3Z5VGgORWmUPGbhqN74,4033
 NEMO/views/configuration_agenda.py,sha256=iNCLB1Ai4JIW6S_SffqsEC9W192u9Fz6C69uesw6Hmo,2914
 NEMO/views/constants.py,sha256=FXxCW8DRfdAcYkX97MNZITgNppIyfm45tKnZWlyboqo,486
 NEMO/views/consumables.py,sha256=V_4On7H-TvSUOKkC-Bf6msXfts9MyCLDl33hrhAvoDI,12946
 NEMO/views/contact_staff.py,sha256=_h2pvWsvlacmR1I-BmEXHlqr9Ms0PWcNn8Qe5I90UCY,488
-NEMO/views/customization.py,sha256=wj9uIRj347cZWfLkCEfrfjKxZ5KqMnoSErVwyuGqDzY,28395
+NEMO/views/customization.py,sha256=qUE_mTnJHj0FQnUvzDBesRNeWMW0Rsf1Iz5vnpAZ9aI,28846
 NEMO/views/documents.py,sha256=JmDR6ImlNstjddVuMGuADEJS2cgracinD8IX0xIrfYY,3763
 NEMO/views/email.py,sha256=8zBylxGNlKujQDcsEbECU3pq-lrAuhAOuIVJaCmtUVU,14787
 NEMO/views/event_details.py,sha256=w01ZiA1OjERnwgNjazlJXP0kO2GryloOGgXAw0hsYiw,2735
 NEMO/views/feedback.py,sha256=q0zYhnzSYwam3JeWI6A3ARzbYBWVMqS0E1f6X2AOGJM,1616
 NEMO/views/get_projects.py,sha256=g7hgW2g9IlGeNNp2I_hR21sauafzSxDMHWxdE-Hcbr0,1947
 NEMO/views/history.py,sha256=jnHeLoKU_pMGihIg9ARKcQWUjj37gaK1CmTFifE4ABs,5457
 NEMO/views/jumbotron.py,sha256=Fv5rLWd3RDECwQK4yWUFNMQXWE4N1Wq4Rq3fVxFrYZA,1221
 NEMO/views/knowledge_base.py,sha256=GPCiTQRKS9Pxtc9ER149zxh6d6Y7EfxO9TQ_rQjR6VA,3967
 NEMO/views/landing.py,sha256=KWy3_JuhQQ83wENQouz_Rx7J0W7CnR0a3C0-XJodF9U,3763
-NEMO/views/maintenance.py,sha256=Xs4sxVqHMHSpUwuPPCf9TAaq94sEVEnBhD16xeXelL4,2999
+NEMO/views/maintenance.py,sha256=jT4X02Hgps-6CTyFkwzaYA90R_zE7DNDeHO1QAPqfH8,3007
 NEMO/views/mobile.py,sha256=kQZu-JLjsxkFvDYvhyWtOANMPhxSrTXt9qVyA0E_rMs,10662
 NEMO/views/news.py,sha256=QsHHpiMjG60eCpRvRk8soUHSwYoYvm4Yw0WLlc2M2oU,3793
 NEMO/views/notifications.py,sha256=_XgkiIuGbNMDzZGZ4Pi2b7LK-iKXKaiTTZaTM-GWLE0,7585
 NEMO/views/pagination.py,sha256=AhHa0G2Atw-VF4rXSATYRVdZT8Xpz7nxpyFnnEGGVgY,1542
 NEMO/views/qualifications.py,sha256=NUzbDJ-B8pfwYhAAEXRfc3t5vl6ad7wqjm0hhm_gwws,9256
 NEMO/views/remote_work.py,sha256=lyGzt8DgH04ySx_rwSktSH8Ro-minzVzJFwTrwXSQhw,11231
-NEMO/views/resources.py,sha256=zbGNm3ZDGgbjaEzNS9yGTLSBrdJkF3HYfnxsX_RGHRQ,4095
+NEMO/views/resources.py,sha256=5HuBKhPNCOo0F2cNEkzJNaPiJqdRjKLrxajSyatdqdw,4284
 NEMO/views/safety.py,sha256=1aQNx3OxnmwuxaPeYzyWSiLcMt7RNY55R0F2frZDRas,9657
-NEMO/views/shadowing_verification.py,sha256=Q81uHunqr54A42Zhka8A33Qb5aqK7DoI7PxGaM5mSL8,15841
+NEMO/views/shadowing_verification.py,sha256=ro5NefmtulMf0y69qspRivWBhoaNOLeGr4X_532k4nc,15977
 NEMO/views/sidebar.py,sha256=SH8--3cpjgThM2WfsiYJ3VzRgM12RKXfrUkcQG5QeP4,980
-NEMO/views/status_dashboard.py,sha256=Z9KcPcTd-ACWyyKn5itVCi6b0LDCdYX3FnpPojCxDyM,23506
-NEMO/views/tasks.py,sha256=G9KQSzl5xqxnxHKtaKTGHaLn6RWMFL1E_tSg6Bmuwt4,16589
-NEMO/views/timed_services.py,sha256=V0zmTVDKviI3kVClM_kemy8S8rwzs6-mdpcNpo-vuzo,45946
-NEMO/views/tool_control.py,sha256=bYi7v3fo7YCTew30i_dnJSEOsPzTXzf9HduxAx59loc,33513
-NEMO/views/training.py,sha256=ACmxjZNE4aFlGzyLyYsA4kv3zzlSNseKdkeQg2uPlTI,7884
-NEMO/views/training_new.py,sha256=n0JAzC-jN0Oc9n5DG9sYx5eQZhjS2rYawDMHMF3PFRE,35865
+NEMO/views/status_dashboard.py,sha256=t_LIT7mMV58bDmEnyH5ZxLH7Gd4BLpUO-w_RJsxuqXk,23498
+NEMO/views/tasks.py,sha256=KqurijeX1FkHA0he1gwJO692Bw8VuFad7OGaF8qPs1o,16825
+NEMO/views/timed_services.py,sha256=mhE30zBHJmH0REWsTZYYcSdAp_egtBpO51CaXEQzxAM,53963
+NEMO/views/tool_control.py,sha256=NUhYIZ30GOK2liroXd9wZiGy4HRbebdDIFxk1lofUXk,36681
+NEMO/views/training.py,sha256=vW6BC0HbxxYkoUyAQwTnPHEvRgoZvP0KypWoSuj1jqA,7948
+NEMO/views/training_new.py,sha256=Zkv8ZXbHsig6oI54qS6MzA27pep8501TX_vmPgM3ykU,36009
 NEMO/views/tutorials.py,sha256=nZb4188yFVqiRyUMc-Jf0eMTZ5uv7tGNNTioNqxATDE,2164
-NEMO/views/usage.py,sha256=Kz-wm7N0KWmoBxwS4xe_LWV-JMl_2YX3YqzghAlzG3Q,21395
-NEMO/views/user_requests.py,sha256=qSBJzg9trxmFTU7QbS6SFJcEwZKoH62yC84ZxglrAxQ,1220
-NEMO/views/users.py,sha256=prkhWVTTJxX9TXJkeneEdHfmrsQFlE0E0Q6PYOdZ65c,26030
+NEMO/views/usage.py,sha256=w-d9egaw7RxdwVk-gJx3RBWmMi1N9Sh8ALvJdJV6B4I,21511
+NEMO/views/user_requests.py,sha256=uZn0PC9guSF2VVrbWwccc3DaurzePYWDFA73EK-b1QM,1204
+NEMO/views/users.py,sha256=6-xp-DGuNpRny8rQ9z51p06rbmXlkZ5m20m5g8NNBiE,26058
 NEMO/widgets/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO/widgets/configuration_editor.py,sha256=ARnYPvoV2fsPHxIvZNf7gjlRJJolmOP-oQb-jJuHiQs,4096
-NEMO/widgets/dynamic_form.py,sha256=FEnqyDA-mnGG9v8T1L7KSl03-5zSLw7uljOaIKJ6C7g,39513
+NEMO/widgets/dynamic_form.py,sha256=m4P7UZeB9QRTAskCyTrkyfhBXAlfZoRSysmGCuw0spQ,39555
 NEMO/widgets/item_tree.py,sha256=kI2D0F9KKQ1aIoViOLZMtIYViXiMw1TV_fa4Wdcynro,9709
-NEMO_CE-2.3.3.dist-info/LICENSE.md,sha256=enx7czTreotBJy2G9rsuLwwCKbnBa0JDaBdFyWHEbgY,1865
-NEMO_CE-2.3.3.dist-info/METADATA,sha256=1J3xLsCrq4WHRV0XVhbUbP2ojNregDXdjl9OtusBui8,1626
-NEMO_CE-2.3.3.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-NEMO_CE-2.3.3.dist-info/entry_points.txt,sha256=ESVtd5EFgPSKwlEZ92GSowvz-wM7K3f11Xr15Qk2a40,55
-NEMO_CE-2.3.3.dist-info/top_level.txt,sha256=oixDhXWOl4ZpkTcyHo19XRvEzvaUjdgBsLiyCBJ_JB8,19
-NEMO_CE-2.3.3.dist-info/RECORD,,
+NEMO_CE-2.4.0.dist-info/LICENSE.md,sha256=enx7czTreotBJy2G9rsuLwwCKbnBa0JDaBdFyWHEbgY,1865
+NEMO_CE-2.4.0.dist-info/METADATA,sha256=HZwYRRY7A3weHGdXQEplCV7eOe_ZtuZzDTm-T__C4ak,1790
+NEMO_CE-2.4.0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+NEMO_CE-2.4.0.dist-info/entry_points.txt,sha256=ESVtd5EFgPSKwlEZ92GSowvz-wM7K3f11Xr15Qk2a40,55
+NEMO_CE-2.4.0.dist-info/top_level.txt,sha256=oixDhXWOl4ZpkTcyHo19XRvEzvaUjdgBsLiyCBJ_JB8,19
+NEMO_CE-2.4.0.dist-info/RECORD,,
```

