# Comparing `tmp/actoolkit-3.0.0b4-py3-none-any.whl.zip` & `tmp/actoolkit-3.0.1b1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,56 +1,56 @@
-Zip file size: 123544 bytes, number of entries: 54
--rw-r--r--  2.0 unx    10104 b- defN 24-Mar-21 21:29 toolkit.py
--rw-r--r--  2.0 unx     1139 b- defN 24-Mar-21 21:29 astraSDK/__init__.py
--rw-r--r--  2.0 unx     3659 b- defN 24-Mar-21 21:29 astraSDK/apiresources.py
--rw-r--r--  2.0 unx    16993 b- defN 24-Mar-21 21:29 astraSDK/apps.py
--rw-r--r--  2.0 unx     8289 b- defN 24-Mar-21 21:29 astraSDK/backups.py
--rw-r--r--  2.0 unx     7355 b- defN 24-Mar-21 21:29 astraSDK/buckets.py
--rw-r--r--  2.0 unx     6972 b- defN 24-Mar-21 21:29 astraSDK/clouds.py
--rw-r--r--  2.0 unx    10776 b- defN 24-Mar-21 21:29 astraSDK/clusters.py
--rw-r--r--  2.0 unx    14197 b- defN 24-Mar-21 21:29 astraSDK/common.py
--rw-r--r--  2.0 unx     9115 b- defN 24-Mar-21 21:29 astraSDK/credentials.py
--rw-r--r--  2.0 unx     2663 b- defN 24-Mar-21 21:29 astraSDK/entitlements.py
--rw-r--r--  2.0 unx     7958 b- defN 24-Mar-21 21:29 astraSDK/groups.py
--rw-r--r--  2.0 unx     7162 b- defN 24-Mar-21 21:29 astraSDK/hooks.py
--rw-r--r--  2.0 unx    44673 b- defN 24-Mar-21 21:29 astraSDK/k8s.py
--rw-r--r--  2.0 unx     5458 b- defN 24-Mar-21 21:29 astraSDK/namespaces.py
--rw-r--r--  2.0 unx     3576 b- defN 24-Mar-21 21:29 astraSDK/notifications.py
--rw-r--r--  2.0 unx     8803 b- defN 24-Mar-21 21:29 astraSDK/protections.py
--rw-r--r--  2.0 unx     9735 b- defN 24-Mar-21 21:29 astraSDK/replications.py
--rw-r--r--  2.0 unx     5757 b- defN 24-Mar-21 21:29 astraSDK/rolebindings.py
--rw-r--r--  2.0 unx     7090 b- defN 24-Mar-21 21:29 astraSDK/scripts.py
--rw-r--r--  2.0 unx     9821 b- defN 24-Mar-21 21:29 astraSDK/settings.py
--rw-r--r--  2.0 unx     7083 b- defN 24-Mar-21 21:29 astraSDK/snapshots.py
--rw-r--r--  2.0 unx     2434 b- defN 24-Mar-21 21:29 astraSDK/storagebackends.py
--rw-r--r--  2.0 unx     5023 b- defN 24-Mar-21 21:29 astraSDK/storageclasses.py
--rw-r--r--  2.0 unx     9007 b- defN 24-Mar-21 21:29 astraSDK/users.py
--rw-r--r--  2.0 unx      883 b- defN 24-Mar-21 21:29 tkSrc/__init__.py
--rw-r--r--  2.0 unx    31449 b- defN 24-Mar-21 21:29 tkSrc/choices.py
--rw-r--r--  2.0 unx     3962 b- defN 24-Mar-21 21:29 tkSrc/classes.py
--rw-r--r--  2.0 unx    24645 b- defN 24-Mar-21 21:29 tkSrc/clone.py
--rw-r--r--  2.0 unx     2011 b- defN 24-Mar-21 21:29 tkSrc/copy.py
--rw-r--r--  2.0 unx    27618 b- defN 24-Mar-21 21:29 tkSrc/create.py
--rw-r--r--  2.0 unx    10646 b- defN 24-Mar-21 21:29 tkSrc/deploy.py
--rw-r--r--  2.0 unx     9791 b- defN 24-Mar-21 21:29 tkSrc/destroy.py
--rw-r--r--  2.0 unx    26802 b- defN 24-Mar-21 21:29 tkSrc/helpers.py
--rw-r--r--  2.0 unx     4964 b- defN 24-Mar-21 21:29 tkSrc/ipr.py
--rw-r--r--  2.0 unx    19364 b- defN 24-Mar-21 21:29 tkSrc/list.py
--rw-r--r--  2.0 unx    17049 b- defN 24-Mar-21 21:29 tkSrc/manage.py
--rw-r--r--  2.0 unx    79092 b- defN 24-Mar-21 21:29 tkSrc/parser.py
--rw-r--r--  2.0 unx     7187 b- defN 24-Mar-21 21:29 tkSrc/unmanage.py
--rw-r--r--  2.0 unx    10304 b- defN 24-Mar-21 21:29 tkSrc/update.py
--rw-r--r--  2.0 unx      446 b- defN 24-Mar-21 21:29 tkSrc/templates/jinja/app.jinja
--rw-r--r--  2.0 unx      532 b- defN 24-Mar-21 21:29 tkSrc/templates/jinja/appVault.jinja
--rw-r--r--  2.0 unx      406 b- defN 24-Mar-21 21:29 tkSrc/templates/jinja/backup.jinja
--rw-r--r--  2.0 unx      374 b- defN 24-Mar-21 21:29 tkSrc/templates/jinja/hook.jinja
--rw-r--r--  2.0 unx      277 b- defN 24-Mar-21 21:29 tkSrc/templates/jinja/ipr.jinja
--rw-r--r--  2.0 unx      417 b- defN 24-Mar-21 21:29 tkSrc/templates/jinja/protection.jinja
--rw-r--r--  2.0 unx      584 b- defN 24-Mar-21 21:29 tkSrc/templates/jinja/restore.jinja
--rw-r--r--  2.0 unx      533 b- defN 24-Mar-21 21:29 tkSrc/templates/jinja/snapshot.jinja
--rw-r--r--  2.0 unx    11357 b- defN 24-Mar-21 21:29 actoolkit-3.0.0b4.dist-info/LICENSE
--rw-r--r--  2.0 unx     9193 b- defN 24-Mar-21 21:29 actoolkit-3.0.0b4.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Mar-21 21:29 actoolkit-3.0.0b4.dist-info/WHEEL
--rw-r--r--  2.0 unx       43 b- defN 24-Mar-21 21:29 actoolkit-3.0.0b4.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       23 b- defN 24-Mar-21 21:29 actoolkit-3.0.0b4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     4254 b- defN 24-Mar-21 21:29 actoolkit-3.0.0b4.dist-info/RECORD
-54 files, 529140 bytes uncompressed, 116958 bytes compressed:  77.9%
+Zip file size: 123971 bytes, number of entries: 54
+-rw-r--r--  2.0 unx    10104 b- defN 24-Apr-18 16:08 toolkit.py
+-rw-r--r--  2.0 unx     1139 b- defN 24-Apr-18 16:08 astraSDK/__init__.py
+-rw-r--r--  2.0 unx     3659 b- defN 24-Apr-18 16:08 astraSDK/apiresources.py
+-rw-r--r--  2.0 unx    16993 b- defN 24-Apr-18 16:08 astraSDK/apps.py
+-rw-r--r--  2.0 unx     8289 b- defN 24-Apr-18 16:08 astraSDK/backups.py
+-rw-r--r--  2.0 unx     7355 b- defN 24-Apr-18 16:08 astraSDK/buckets.py
+-rw-r--r--  2.0 unx     6972 b- defN 24-Apr-18 16:08 astraSDK/clouds.py
+-rw-r--r--  2.0 unx    10776 b- defN 24-Apr-18 16:08 astraSDK/clusters.py
+-rw-r--r--  2.0 unx    14439 b- defN 24-Apr-18 16:08 astraSDK/common.py
+-rw-r--r--  2.0 unx     9115 b- defN 24-Apr-18 16:08 astraSDK/credentials.py
+-rw-r--r--  2.0 unx     2663 b- defN 24-Apr-18 16:08 astraSDK/entitlements.py
+-rw-r--r--  2.0 unx     7958 b- defN 24-Apr-18 16:08 astraSDK/groups.py
+-rw-r--r--  2.0 unx     7162 b- defN 24-Apr-18 16:08 astraSDK/hooks.py
+-rw-r--r--  2.0 unx    45202 b- defN 24-Apr-18 16:08 astraSDK/k8s.py
+-rw-r--r--  2.0 unx     5458 b- defN 24-Apr-18 16:08 astraSDK/namespaces.py
+-rw-r--r--  2.0 unx     3576 b- defN 24-Apr-18 16:08 astraSDK/notifications.py
+-rw-r--r--  2.0 unx     8803 b- defN 24-Apr-18 16:08 astraSDK/protections.py
+-rw-r--r--  2.0 unx     9735 b- defN 24-Apr-18 16:08 astraSDK/replications.py
+-rw-r--r--  2.0 unx     5757 b- defN 24-Apr-18 16:08 astraSDK/rolebindings.py
+-rw-r--r--  2.0 unx     7090 b- defN 24-Apr-18 16:08 astraSDK/scripts.py
+-rw-r--r--  2.0 unx     9821 b- defN 24-Apr-18 16:08 astraSDK/settings.py
+-rw-r--r--  2.0 unx     7083 b- defN 24-Apr-18 16:08 astraSDK/snapshots.py
+-rw-r--r--  2.0 unx     2434 b- defN 24-Apr-18 16:08 astraSDK/storagebackends.py
+-rw-r--r--  2.0 unx     5023 b- defN 24-Apr-18 16:08 astraSDK/storageclasses.py
+-rw-r--r--  2.0 unx     9007 b- defN 24-Apr-18 16:08 astraSDK/users.py
+-rw-r--r--  2.0 unx      883 b- defN 24-Apr-18 16:08 tkSrc/__init__.py
+-rw-r--r--  2.0 unx    31449 b- defN 24-Apr-18 16:08 tkSrc/choices.py
+-rw-r--r--  2.0 unx     3962 b- defN 24-Apr-18 16:08 tkSrc/classes.py
+-rw-r--r--  2.0 unx    24645 b- defN 24-Apr-18 16:08 tkSrc/clone.py
+-rw-r--r--  2.0 unx     2011 b- defN 24-Apr-18 16:08 tkSrc/copy.py
+-rw-r--r--  2.0 unx    29615 b- defN 24-Apr-18 16:08 tkSrc/create.py
+-rw-r--r--  2.0 unx    10646 b- defN 24-Apr-18 16:08 tkSrc/deploy.py
+-rw-r--r--  2.0 unx     9791 b- defN 24-Apr-18 16:08 tkSrc/destroy.py
+-rw-r--r--  2.0 unx    26842 b- defN 24-Apr-18 16:08 tkSrc/helpers.py
+-rw-r--r--  2.0 unx     4964 b- defN 24-Apr-18 16:08 tkSrc/ipr.py
+-rw-r--r--  2.0 unx    19364 b- defN 24-Apr-18 16:08 tkSrc/list.py
+-rw-r--r--  2.0 unx    17049 b- defN 24-Apr-18 16:08 tkSrc/manage.py
+-rw-r--r--  2.0 unx    79300 b- defN 24-Apr-18 16:08 tkSrc/parser.py
+-rw-r--r--  2.0 unx     7187 b- defN 24-Apr-18 16:08 tkSrc/unmanage.py
+-rw-r--r--  2.0 unx    10304 b- defN 24-Apr-18 16:08 tkSrc/update.py
+-rw-r--r--  2.0 unx      446 b- defN 24-Apr-18 16:08 tkSrc/templates/jinja/app.jinja
+-rw-r--r--  2.0 unx      532 b- defN 24-Apr-18 16:08 tkSrc/templates/jinja/appVault.jinja
+-rw-r--r--  2.0 unx      406 b- defN 24-Apr-18 16:08 tkSrc/templates/jinja/backup.jinja
+-rw-r--r--  2.0 unx      374 b- defN 24-Apr-18 16:08 tkSrc/templates/jinja/hook.jinja
+-rw-r--r--  2.0 unx      277 b- defN 24-Apr-18 16:08 tkSrc/templates/jinja/ipr.jinja
+-rw-r--r--  2.0 unx      417 b- defN 24-Apr-18 16:08 tkSrc/templates/jinja/protection.jinja
+-rw-r--r--  2.0 unx      584 b- defN 24-Apr-18 16:08 tkSrc/templates/jinja/restore.jinja
+-rw-r--r--  2.0 unx      533 b- defN 24-Apr-18 16:08 tkSrc/templates/jinja/snapshot.jinja
+-rw-r--r--  2.0 unx    11357 b- defN 24-Apr-18 16:08 actoolkit-3.0.1b1.dist-info/LICENSE
+-rw-r--r--  2.0 unx     9193 b- defN 24-Apr-18 16:08 actoolkit-3.0.1b1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-18 16:08 actoolkit-3.0.1b1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       43 b- defN 24-Apr-18 16:08 actoolkit-3.0.1b1.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       23 b- defN 24-Apr-18 16:08 actoolkit-3.0.1b1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4254 b- defN 24-Apr-18 16:08 actoolkit-3.0.1b1.dist-info/RECORD
+54 files, 532156 bytes uncompressed, 117385 bytes compressed:  77.9%
```

## zipnote {}

```diff
@@ -138,26 +138,26 @@
 
 Filename: tkSrc/templates/jinja/restore.jinja
 Comment: 
 
 Filename: tkSrc/templates/jinja/snapshot.jinja
 Comment: 
 
-Filename: actoolkit-3.0.0b4.dist-info/LICENSE
+Filename: actoolkit-3.0.1b1.dist-info/LICENSE
 Comment: 
 
-Filename: actoolkit-3.0.0b4.dist-info/METADATA
+Filename: actoolkit-3.0.1b1.dist-info/METADATA
 Comment: 
 
-Filename: actoolkit-3.0.0b4.dist-info/WHEEL
+Filename: actoolkit-3.0.1b1.dist-info/WHEEL
 Comment: 
 
-Filename: actoolkit-3.0.0b4.dist-info/entry_points.txt
+Filename: actoolkit-3.0.1b1.dist-info/entry_points.txt
 Comment: 
 
-Filename: actoolkit-3.0.0b4.dist-info/top_level.txt
+Filename: actoolkit-3.0.1b1.dist-info/top_level.txt
 Comment: 
 
-Filename: actoolkit-3.0.0b4.dist-info/RECORD
+Filename: actoolkit-3.0.1b1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## astraSDK/common.py

```diff
@@ -319,14 +319,23 @@
         server = self.api_client.configuration.host.split("//")[-1].split(":")[0].split("/")[0]
         self.printError(
             f"Error: {path} not found, please ensure the AstraConnector Operator is installed on "
             f"cluster {server}.\n"
         )
         raise SystemExit()
 
+    def printKubeError(self, e):
+        if hasattr(e, "body"):
+            e.text = e.body
+            self.printError(e)
+        elif hasattr(e, "reason"):
+            self.printError(e.reason)
+        else:
+            self.printError(e)
+
     class WriteVerbose:
         def __init__(self):
             self.content = []
 
         def write(self, string):
             if string[:2] == "b'" or string[:2] == 'b"':
                 string = string[2:-1]
```

## astraSDK/k8s.py

```diff
@@ -16,14 +16,15 @@
 """
 
 import base64
 import copy
 import json
 import kubernetes
 import sys
+import urllib3
 import yaml
 from datetime import datetime, timedelta, timezone
 
 from .common import BaseCommon, KubeCommon, SDKCommon
 
 
 class getResources(KubeCommon):
@@ -85,19 +86,19 @@
                                     resp["items"].remove(filterCopy["items"][counter])
                             else:
                                 if self.recursiveGet(f["keyFilter"], r) != f["valFilter"]:
                                     resp["items"].remove(filterCopy["items"][counter])
             self.formatPrint(resp, plural)
             return resp
 
-        except kubernetes.client.rest.ApiException as e:
+        except (kubernetes.client.rest.ApiException, urllib3.exceptions.MaxRetryError) as e:
             sys.stdout = sys.__stdout__
-            if e.status == 404 and e.reason == "Not Found":
+            if hasattr(e, "status") and e.status == 404 and e.reason == "Not Found":
                 self.notInstalled(f"/apis/{group}/{version}/namespaces/{namespace}/{plural}")
-            self.printError(e)
+            self.printKubeError(e)
 
     def formatPrint(self, resp, plural, quiet=None, output=None, verbose=None):
         if quiet is None:
             quiet = self.quiet
         if output is None:
             output = self.output
         if verbose is None:
@@ -143,15 +144,15 @@
                     "astraControlInstance",
                     "registered",
                     "astraClusterID",
                     "astraConnectorID",
                     "status",
                 ]
             return [
-                "status.observedSpec.natsSyncClient.cloudBridgeURL",
+                "spec.natsSyncClient.cloudBridgeURL",
                 "status.natsSyncClient.registered",
                 "status.natsSyncClient.astraClusterID",
                 "status.natsSyncClient.astraConnectorID",
                 "status.natsSyncClient.status",
             ]
         elif plural == "backups":
             if headers:
@@ -327,23 +328,23 @@
                 print(f"verify_ssl: {self.api_client.configuration.verify_ssl}")
                 sys.stdout = sys.__stdout__
                 verbose_log.print()
             if not self.quiet:
                 print(json.dumps(resp) if type(resp) is dict else resp)
             return resp
 
-        except kubernetes.client.rest.ApiException as e:
+        except (kubernetes.client.rest.ApiException, urllib3.exceptions.MaxRetryError) as e:
             sys.stdout = sys.__stdout__
-            if e.status == 404 and e.reason == "Not Found":
+            if hasattr(e, "status") and e.status == 404 and e.reason == "Not Found":
                 self.notInstalled(f"/apis/{group}/{version}/{plural}")
-            self.printError(e)
+            self.printKubeError(e)
 
 
 class createResource(KubeCommon):
-    """Creates a cluster scoped Custom Resource"""
+    """Creates a namespace scoped Custom Resource"""
 
     def __init__(
         self, quiet=True, dry_run=False, verbose=False, config_context=None, skip_tls_verify=False
     ):
         """quiet: Will there be CLI output or just return (datastructure)
         dry-run: False (default):       submit and persist the resource
                  True or non-empty str: submit request without persisting the resource
@@ -388,23 +389,23 @@
                 print(f"verify_ssl: {self.api_client.configuration.verify_ssl}")
                 sys.stdout = sys.__stdout__
                 verbose_log.print()
             if not self.quiet:
                 print(json.dumps(resp) if type(resp) is dict else resp)
             return resp
 
-        except kubernetes.client.rest.ApiException as e:
+        except (kubernetes.client.rest.ApiException, urllib3.exceptions.MaxRetryError) as e:
             sys.stdout = sys.__stdout__
-            if e.status == 404 and e.reason == "Not Found":
+            if hasattr(e, "status") and e.status == 404 and e.reason == "Not Found":
                 self.notInstalled(f"/apis/{group}/{version}/namespaces/{namespace}/{plural}")
-            self.printError(e)
+            self.printKubeError(e)
 
 
 class destroyResource(KubeCommon):
-    """Destroys a cluster scoped Custom Resource"""
+    """Destroys a namespace scoped Custom Resource"""
 
     def __init__(
         self, quiet=True, dry_run=False, verbose=False, config_context=None, skip_tls_verify=False
     ):
         """quiet: Will there be CLI output or just return (datastructure)
         dry-run: False (default):       submit and persist the resource
                  True or non-empty str: submit request without persisting the resource
@@ -449,19 +450,19 @@
                 print(f"verify_ssl: {self.api_client.configuration.verify_ssl}")
                 sys.stdout = sys.__stdout__
                 verbose_log.print()
             if not self.quiet:
                 print(json.dumps(resp) if type(resp) is dict else resp)
             return resp
 
-        except kubernetes.client.rest.ApiException as e:
+        except (kubernetes.client.rest.ApiException, urllib3.exceptions.MaxRetryError) as e:
             sys.stdout = sys.__stdout__
-            if e.status == 404 and e.reason == "Not Found":
+            if hasattr(e, "status") and e.status == 404 and e.reason == "Not Found":
                 self.notInstalled(f"/apis/{group}/{version}/namespaces/{namespace}/{plural}")
-            self.printError(e)
+            self.printKubeError(e)
 
 
 class updateClusterResource(KubeCommon):
     def __init__(
         self, quiet=True, dry_run=False, verbose=False, config_context=None, skip_tls_verify=False
     ):
         """quiet: Will there be CLI output or just return (datastructure)
@@ -503,19 +504,19 @@
                 print(f"verify_ssl: {self.api_client.configuration.verify_ssl}")
                 sys.stdout = sys.__stdout__
                 verbose_log.print()
             if not self.quiet:
                 print(json.dumps(resp) if type(resp) is dict else resp)
             return resp
 
-        except kubernetes.client.rest.ApiException as e:
+        except (kubernetes.client.rest.ApiException, urllib3.exceptions.MaxRetryError) as e:
             sys.stdout = sys.__stdout__
-            if e.status == 404 and e.reason == "Not Found":
+            if hasattr(e, "status") and e.status == 404 and e.reason == "Not Found":
                 self.notInstalled(f"/apis/{group}/{version}/{plural}")
-            self.printError(e)
+            self.printKubeError(e)
 
 
 class getNamespaces(KubeCommon):
     def __init__(
         self, quiet=True, output="json", verbose=False, config_context=None, skip_tls_verify=False
     ):
         """quiet: Will there be CLI output or just return (datastructure)
@@ -596,17 +597,17 @@
                 print(f"verify_ssl: {self.api_client.configuration.verify_ssl}")
                 sys.stdout = sys.__stdout__
                 verbose_log.print()
             if not self.quiet:
                 print(json.dumps(resp, default=str) if type(resp) is dict else resp)
             return resp
 
-        except kubernetes.client.rest.ApiException as e:
+        except (kubernetes.client.rest.ApiException, urllib3.exceptions.MaxRetryError) as e:
             sys.stdout = sys.__stdout__
-            self.printError(e)
+            self.printKubeError(e)
 
 
 class getSecrets(KubeCommon):
     """Gets all kubernetes secrets in a specific namespace"""
 
     def __init__(
         self, quiet=True, output="json", verbose=False, config_context=None, skip_tls_verify=False
@@ -652,17 +653,17 @@
                 print(f"verify_ssl: {self.api_client.configuration.verify_ssl}")
                 sys.stdout = sys.__stdout__
                 verbose_log.print()
             if not self.quiet:
                 print(json.dumps(resp, default=str) if type(resp) is dict else resp)
             return resp
 
-        except kubernetes.client.rest.ApiException as e:
+        except (kubernetes.client.rest.ApiException, urllib3.exceptions.MaxRetryError) as e:
             sys.stdout = sys.__stdout__
-            self.printError(e)
+            self.printKubeError(e)
 
 
 class destroySecret(KubeCommon):
     """Destroys a kubernetes secret in a specific namespace"""
 
     def __init__(
         self, quiet=True, dry_run=False, verbose=False, config_context=None, skip_tls_verify=False
@@ -701,17 +702,17 @@
                 print(f"verify_ssl: {self.api_client.configuration.verify_ssl}")
                 sys.stdout = sys.__stdout__
                 verbose_log.print()
             if not self.quiet:
                 print(json.dumps(resp) if type(resp) is dict else resp)
             return resp
 
-        except kubernetes.client.rest.ApiException as e:
+        except (kubernetes.client.rest.ApiException, urllib3.exceptions.MaxRetryError) as e:
             sys.stdout = sys.__stdout__
-            self.printError(e)
+            self.printKubeError(e)
 
 
 class getStorageClasses(KubeCommon):
     def __init__(
         self, quiet=True, output="json", verbose=False, config_context=None, skip_tls_verify=False
     ):
         """quiet: Will there be CLI output or just return (datastructure)
@@ -747,17 +748,17 @@
                 print(f"verify_ssl: {self.api_client.configuration.verify_ssl}")
                 sys.stdout = sys.__stdout__
                 verbose_log.print()
             if not self.quiet:
                 print(json.dumps(resp, default=str) if type(resp) is dict else resp)
             return resp
 
-        except kubernetes.client.rest.ApiException as e:
+        except (kubernetes.client.rest.ApiException, urllib3.exceptions.MaxRetryError) as e:
             sys.stdout = sys.__stdout__
-            self.printError(e)
+            self.printKubeError(e)
 
 
 class createV1Secret(KubeCommon):
     """Creates a Kubernetes V1 Secret"""
 
     def __init__(
         self, quiet=True, dry_run=False, verbose=False, config_context=None, skip_tls_verify=False
@@ -795,17 +796,17 @@
             if self.verbose:
                 print(f"verify_ssl: {self.api_client.configuration.verify_ssl}")
                 sys.stdout = sys.__stdout__
                 verbose_log.print()
             if not self.quiet:
                 print(json.dumps(resp, default=str) if type(resp) is dict else resp)
             return resp
-        except kubernetes.client.rest.ApiException as e:
+        except (kubernetes.client.rest.ApiException, urllib3.exceptions.MaxRetryError) as e:
             sys.stdout = sys.__stdout__
-            self.printError(e)
+            self.printKubeError(e)
 
 
 class createRegCred(KubeCommon, SDKCommon):
     """Creates a docker registry credential. By default it uses fields from config.yaml,
     however any of these fields can be overridden by custom values."""
 
     def __init__(
```

## tkSrc/create.py

```diff
@@ -71,14 +71,50 @@
         except Exception as err:
             err_counter.append(err)
     for err in set([str(e) for e in err_counter]):
         protection_class.printError(err + "\n")
     return False
 
 
+def monitorV3ProtectionTask(protection, pollTimer, parser, v3, skip_tls_verify):
+    name = protection["metadata"]["name"]
+    singular = protection["kind"].lower()
+    resource_class = astraSDK.k8s.getResources(config_context=v3, skip_tls_verify=skip_tls_verify)
+    print(f"Waiting for {singular} to complete.", end="")
+    sys.stdout.flush()
+    err_counter = []
+    while len(err_counter) < 3:
+        try:
+            resources = resource_class.main(
+                f"{singular}s", filters=[{"keyFilter": "metadata.name", "valFilter": name}]
+            )
+            if not resources:
+                raise Exception("astraSDK.k8s.getResources().main() failed")
+            elif not resources["items"]:
+                raise Exception(f"{singular} {name} not found")
+            elif len(resources["items"]) > 1:
+                raise Exception(f"Multiple {singular}s found with name {name}")
+            resource = resources["items"][0]
+            if resource["status"]["state"] == "Completed":
+                print("complete!")
+                sys.stdout.flush()
+                return resource
+            elif resource["status"]["state"] == "Failed" or resource["status"]["state"] == "Error":
+                print(f"{singular} failed")
+                return False
+            time.sleep(pollTimer)
+            print(".", end="")
+            sys.stdout.flush()
+        except Exception as err:
+            err_counter.append(err)
+    for err in set([str(e) for e in err_counter]):
+        resource_class.printError(err + "\n")
+    return False
+
+
 def createV3ConnectorOperator(v3, dry_run, skip_tls_verify, verbose, operator_version):
     """Creates the Arch 3.0 Astra Connector Operator"""
     context, config_file = tuple(v3.split("@"))
     helpers.run(
         f"kubectl --insecure-skip-tls-verify={skip_tls_verify} --context={context} "
         f"-v={6 if verbose else 0} apply --dry_run={dry_run if dry_run else 'none'} -f "
         f"{helpers.getOperatorURL(operator_version)}",
@@ -301,15 +337,15 @@
     dayOfWeek,
     dayOfMonth,
 ):
     """Create a protection policy via a Kubernetes custom resource"""
     template = helpers.setupJinja("protection")
     v3_dict = yaml.safe_load(
         template.render(
-            name=helpers.isRFC1123(f"{app}-{granularity}") + "-",
+            name=helpers.isRFC1123(f"{app}-{granularity}", ignore_length=True) + "-",
             appName=app,
             appVaultName=bucket,
             backupRetention=backupRetention,
             dayOfMonth=dayOfMonth,
             dayOfWeek=dayOfWeek,
             granularity=granularity,
             hour=hour,
@@ -388,26 +424,30 @@
                 ard.buckets = astraSDK.k8s.getResources(
                     config_context=args.v3, skip_tls_verify=args.skip_tls_verify
                 ).main("appvaults")
             if args.bucket is None:
                 args.bucket = ard.getSingleDict("buckets", "status.state", "available", parser)[
                     "metadata"
                 ]["name"]
-            createV3Backup(
+            backup = createV3Backup(
                 args.v3,
                 args.dry_run,
                 args.skip_tls_verify,
                 args.quiet,
                 args.verbose,
                 args.name,
                 args.app,
                 args.bucket,
                 args.snapshot,
                 args.reclaimPolicy,
             )
+            if not args.dry_run and not args.background:
+                monitorV3ProtectionTask(
+                    backup, args.pollTimer, parser, args.v3, args.skip_tls_verify
+                )
         else:
             protectionID = astraSDK.backups.takeBackup(quiet=args.quiet, verbose=args.verbose).main(
                 args.app,
                 helpers.isRFC1123(args.name, parser=parser),
                 bucketID=args.bucket,
                 snapshotID=args.snapshot,
             )
@@ -652,27 +692,31 @@
                 ard.buckets = astraSDK.k8s.getResources(
                     config_context=args.v3, skip_tls_verify=args.skip_tls_verify
                 ).main("appvaults")
             if args.bucket is None:
                 args.bucket = ard.getSingleDict("buckets", "status.state", "available", parser)[
                     "metadata"
                 ]["name"]
-            createV3Snapshot(
+            snapshot = createV3Snapshot(
                 args.v3,
                 args.dry_run,
                 args.skip_tls_verify,
                 args.quiet,
                 args.verbose,
-                args.name,
+                args.ame,
                 args.app,
                 args.bucket,
                 reclaimPolicy=args.reclaimPolicy,
                 createdTimeout=args.createdTimeout,
                 readyToUseTimeout=args.readyToUseTimeout,
             )
+            if not args.dry_run and not args.background:
+                monitorV3ProtectionTask(
+                    snapshot, args.pollTimer, parser, args.v3, args.skip_tls_verify
+                )
         else:
             protectionID = astraSDK.snapshots.takeSnap(quiet=args.quiet, verbose=args.verbose).main(
                 args.app,
                 helpers.isRFC1123(args.name, parser=parser),
             )
             rc = monitorProtectionTask(
                 protectionID,
```

## tkSrc/helpers.py

```diff
@@ -306,19 +306,19 @@
     else:
         if captureOutput:
             return ret.stdout
         else:
             return True
 
 
-def isRFC1123(string, parser=None):
+def isRFC1123(string, parser=None, ignore_length=False):
     """isRFC1123 returns the input 'string' if it conforms to RFC 1123 spec,
     otherwise it throws an error and exits"""
     regex = re.compile("[a-z0-9]([-a-z0-9]*[a-z0-9])?$")
-    if regex.match(string) is not None and len(string) < 64:
+    if regex.match(string) is not None and (len(string) < 64 or ignore_length):
         return string
     else:
         error = (
             f"'{string}' must consist of lower case alphanumeric characters or '-', must start "
             "and end with an alphanumeric character, and must be at most 63 characters (for "
             "example 'my-name' or '123-abc')."
         )
```

## tkSrc/parser.py

```diff
@@ -1141,29 +1141,31 @@
             self.subparserCreateBackup.add_argument(
                 "-r",
                 "--reclaimPolicy",
                 default=None,
                 choices=["Delete", "Retain"],
                 help="Define how to handle the snapshot data when the snapshot CR is deleted",
             )
-        else:
-            self.subparserCreateBackup.add_argument(
-                "-b",
-                "--background",
-                default=False,
-                action="store_true",
-                help="Run backup operation in the background",
-            )
-            self.subparserCreateBackup.add_argument(
-                "-t",
-                "--pollTimer",
-                type=int,
-                default=5,
-                help="The frequency (seconds) to poll the operation status (default: %(default)s)",
-            )
+        pollingGroup = self.subparserCreateBackup.add_argument_group(
+            title="polling group", description="optionally modify default polling mechanism"
+        )
+        pollingGroup.add_argument(
+            "-b",
+            "--background",
+            default=False,
+            action="store_true",
+            help="Run backup operation in the background rather than polling for status",
+        )
+        pollingGroup.add_argument(
+            "-t",
+            "--pollTimer",
+            type=int,
+            default=5,
+            help="The frequency (seconds) to poll the operation status (default: %(default)s)",
+        )
 
     def create_cluster_args(self):
         """create cluster args and flags"""
         self.subparserCreateCluster.add_argument(
             "filePath",
             help="the local filesystem path to the cluster kubeconfig",
         )
@@ -1527,29 +1529,31 @@
                 "-e",
                 "--readyToUseTimeout",
                 type=int,
                 default=None,
                 help="The time (in minutes) to wait for Snapshot CR to complete before returning "
                 "timeout error (default: 30)",
             )
-        else:
-            self.subparserCreateSnapshot.add_argument(
-                "-b",
-                "--background",
-                default=False,
-                action="store_true",
-                help="Run snapshot operation in the background",
-            )
-            self.subparserCreateSnapshot.add_argument(
-                "-t",
-                "--pollTimer",
-                type=int,
-                default=5,
-                help="The frequency (seconds) to poll the operation status (default: %(default)s)",
-            )
+        pollingGroup = self.subparserCreateSnapshot.add_argument_group(
+            title="polling group", description="optionally modify default polling mechanism"
+        )
+        pollingGroup.add_argument(
+            "-b",
+            "--background",
+            default=False,
+            action="store_true",
+            help="Run backup operation in the background rather than polling for status",
+        )
+        pollingGroup.add_argument(
+            "-t",
+            "--pollTimer",
+            type=int,
+            default=5,
+            help="The frequency (seconds) to poll the operation status (default: %(default)s)",
+        )
 
     def create_user_args(self):
         """create user args and flags"""
         self.subparserCreateUser.add_argument("email", help="The email of the user to add")
         self.subparserCreateUser.add_argument(
             "role", choices=["viewer", "member", "admin", "owner"], help="The user's role"
         )
```

## Comparing `actoolkit-3.0.0b4.dist-info/LICENSE` & `actoolkit-3.0.1b1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `actoolkit-3.0.0b4.dist-info/METADATA` & `actoolkit-3.0.1b1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: actoolkit
-Version: 3.0.0b4
+Version: 3.0.1b1
 Summary: Toolkit and SDK for interacting with Astra Control
 Home-page: https://github.com/NetApp/netapp-astra-toolkits
 Author: Michael Haigh
 Author-email: Michael.Haigh@netapp.com
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: Apache Software License
 Classifier: Operating System :: OS Independent
```

## Comparing `actoolkit-3.0.0b4.dist-info/RECORD` & `actoolkit-3.0.1b1.dist-info/RECORD`

 * *Files 13% similar despite different names*

```diff
@@ -2,20 +2,20 @@
 astraSDK/__init__.py,sha256=9IogQObmUB6rrUv2B_MemA3XJI6BraZzfJn5ewLrGww,1139
 astraSDK/apiresources.py,sha256=rz_8JYN0qeY4y1K5H6OzI1HQmhQMqRgcUogY1d9HJhs,3659
 astraSDK/apps.py,sha256=HQ7ADBoj1pONiRBKMaroG3uL8m6kAIw6W-VzZqqCKBg,16993
 astraSDK/backups.py,sha256=wVk_kSInOcSniDYyty07T5yy2Mp1AmZz40G9saNRMSs,8289
 astraSDK/buckets.py,sha256=0dKsmhlg9VRxMIXCbamqDZZ5YuHJwhxWs3i-wJgED4E,7355
 astraSDK/clouds.py,sha256=qcE1r0WbU3v3JSIF17Jlbsnv81kLE0M_uI8xFwqV5s0,6972
 astraSDK/clusters.py,sha256=GIFDwGJBeXeYgMkNd5lFjmGZrDYWjrzqos9YYot5X2k,10776
-astraSDK/common.py,sha256=V1fCdMbvgioMuXLcImsXAa8BTrQwMtXi5rzbNJiAQ0o,14197
+astraSDK/common.py,sha256=oX6W4yKhK54iXzJfZIzRBmTtDUO8-Fdf1CuPx-RQXxE,14439
 astraSDK/credentials.py,sha256=tmvbJ9YwiqUhP0WKcSIysRYSB9gkCwXyVhYeKXB8xiA,9115
 astraSDK/entitlements.py,sha256=cWfWWEG-3i1aZbpKxD9adNaIcY50Ezm5Ykszu_sfp2A,2663
 astraSDK/groups.py,sha256=YoGysVgQGkJLw7VKUZBdBx8lC1B-9rNFqvFhrKdVRCc,7958
 astraSDK/hooks.py,sha256=7ato-tpUjzm2p8EWybGLVRhKnqvEOJpdRVGIqUuxp0c,7162
-astraSDK/k8s.py,sha256=-_uRkwVOl_sA3qdNeS1sWf3E2VXYHbrsuLF2vFjJqS8,44673
+astraSDK/k8s.py,sha256=rH4LAb1Q8aQgh_0qCBV1ahUZsEMD2kwhdeAe3qUbj3c,45202
 astraSDK/namespaces.py,sha256=NExkodJpRKHPbDlpAxcCcmp5vGaHV8JFrCXi02LQwFQ,5458
 astraSDK/notifications.py,sha256=cnurpqSBXwRL-vTNxp6SYAl-xz7qzJnLT6w8kwBo4r4,3576
 astraSDK/protections.py,sha256=qQSqm-uFBbO6TReLH-8hC0e5ZRFSBLmuhYxK8EZVdRE,8803
 astraSDK/replications.py,sha256=1sFZtKDZ1k_0Y2f7V71ZZzoNP1vkR-3Xk8ESHB7j4gQ,9735
 astraSDK/rolebindings.py,sha256=C_fTyegWZ1XLaajIzI_ftybpkLEsPMnCmyn4mNn3g1M,5757
 astraSDK/scripts.py,sha256=AHMjcDhE5am8PhbUhALh7W22h2lSFe99qDRHTasGjtQ,7090
 astraSDK/settings.py,sha256=FjLCGalV_CVq_aQXixAPTe0GDCNYYV3NopLtVlk0_80,9821
@@ -24,31 +24,31 @@
 astraSDK/storageclasses.py,sha256=YKMkLFqALreDcUPs1xQzzsadzLZPaLXmuwuJbKoMlXk,5023
 astraSDK/users.py,sha256=nuUS9llQ8I75XEjkRlWvFaai9Kg_VAIO9U7UK7xeKfo,9007
 tkSrc/__init__.py,sha256=bEBPw__Mr4AQFYM-nje4IiKl3_0ljSg_WvdfKItXS20,883
 tkSrc/choices.py,sha256=2F379AD9Uon06MS0MK3YDIDaccaul_CelaVsnJey2_M,31449
 tkSrc/classes.py,sha256=a7CZwV9WgT4eNytrPQiAtmR_EMUQH7N7OyW-EhIbGU0,3962
 tkSrc/clone.py,sha256=BEBC8-lFODegWluIkA3OoY8YVnaOwqZ2S8veyqARNjk,24645
 tkSrc/copy.py,sha256=sIiVt1gE4IJVJmwxXiHlhj-jKmYFrYSxdx3COSGG534,2011
-tkSrc/create.py,sha256=pD61qjwrVvTsk4ko4jGo0mTk__4JnF2YXcekc_uJK3k,27618
+tkSrc/create.py,sha256=-6mh9ribFPhluNuxAxs_SVPbZdbgqCLQH0TAlzjMbH4,29615
 tkSrc/deploy.py,sha256=VDBMHvkVSPX1UU3yZqIh8MkLyqE0NPAy3E_vyd9xIbA,10646
 tkSrc/destroy.py,sha256=kBMvuLjTCKTgxnjG7P0lQaWdpGktMIYP5ElXqFClzMM,9791
-tkSrc/helpers.py,sha256=UlZMP9948hjKqbBlFBCRBwqwXtAXHEJMPHnGaIxKHV8,26802
+tkSrc/helpers.py,sha256=3npJ1jdtr6ycAqIuQf_6mvpibbmSlTdTYSdqDKeqR5s,26842
 tkSrc/ipr.py,sha256=fxJWqGVHCffaynh9udAq-7p262-XH55UstIU_yRSPLQ,4964
 tkSrc/list.py,sha256=qy43Uh-rdTFGnlBtGZpJfgTp3DYHcJim0WCBL1pkCEY,19364
 tkSrc/manage.py,sha256=UCkbzcFlTUpqDRIG7rzfTWmTEmMoSgwwmiEOL0f1_FQ,17049
-tkSrc/parser.py,sha256=zbNamUCurQsOhGUb0zg70CdrzKWp-GV60Bh4nFX0mHM,79092
+tkSrc/parser.py,sha256=c2oI6I8Rsiv8DrTZlGQV9TR3IzPfONR8QbhRD2eMaoM,79300
 tkSrc/unmanage.py,sha256=rrpHGXOQPBGYKkHUTTKMy8CnAMRhpBu_EzVEWionIo4,7187
 tkSrc/update.py,sha256=rUu9mkIsbHTUNtj0YeOxv0nP4fG8zx7s-jlLFNfxKzU,10304
 tkSrc/templates/jinja/app.jinja,sha256=6hkzd1kb3M2NWv1fOHERBacuIZ6Y4f-ymJthwPWHaF8,446
 tkSrc/templates/jinja/appVault.jinja,sha256=pJccPuk1Co6oGvwqYwy0kHGoLGtrmKqLMewYLovSYcU,532
 tkSrc/templates/jinja/backup.jinja,sha256=0m1Z-plkxS8xIa8QgmnnR5eNaLxHQkM1EJwgTGKOPF0,406
 tkSrc/templates/jinja/hook.jinja,sha256=shg7mtmw-pxyQPvc1ApJBk9h1ra33X5zWY6QXVnemE0,374
 tkSrc/templates/jinja/ipr.jinja,sha256=o24Gd86lkZicpwrlRRxz2asvQBDzGGpv8q7XGeNKO9A,277
 tkSrc/templates/jinja/protection.jinja,sha256=W2kXOkrkSLoHuAJJY3RFesc0HF_LSyuJ5dFBBMiwE-U,417
 tkSrc/templates/jinja/restore.jinja,sha256=yofEKvIBF5dwBVbdjIlLBoMk99JR9h97HzUmBbYaNw0,584
 tkSrc/templates/jinja/snapshot.jinja,sha256=kyEShlXwosIr7jYbywD-VcuaezhI2HpXYvVDleC7KzU,533
-actoolkit-3.0.0b4.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
-actoolkit-3.0.0b4.dist-info/METADATA,sha256=bduAvP7sw690rV1kKy3OMEvu7Rx61Sx6Y9nFDZvkG-U,9193
-actoolkit-3.0.0b4.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-actoolkit-3.0.0b4.dist-info/entry_points.txt,sha256=MdrJm8ktNHa01CEY7q5irB9JDPT_qg6hVpZWUhbKXWU,43
-actoolkit-3.0.0b4.dist-info/top_level.txt,sha256=wWyEWMBpCvR7Kv5mt_hBl4SEOLoVTV_9blXZhzBu7Y8,23
-actoolkit-3.0.0b4.dist-info/RECORD,,
+actoolkit-3.0.1b1.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
+actoolkit-3.0.1b1.dist-info/METADATA,sha256=DraFdHRW33fXdsKTiO9I2cq-tH0RS4G_IqDTHkuoCGg,9193
+actoolkit-3.0.1b1.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+actoolkit-3.0.1b1.dist-info/entry_points.txt,sha256=MdrJm8ktNHa01CEY7q5irB9JDPT_qg6hVpZWUhbKXWU,43
+actoolkit-3.0.1b1.dist-info/top_level.txt,sha256=wWyEWMBpCvR7Kv5mt_hBl4SEOLoVTV_9blXZhzBu7Y8,23
+actoolkit-3.0.1b1.dist-info/RECORD,,
```

