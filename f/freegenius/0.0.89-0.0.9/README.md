# Comparing `tmp/freegenius-0.0.89.tar.gz` & `tmp/freegenius-0.0.9.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "freegenius-0.0.89.tar", last modified: Tue Apr 16 22:30:00 2024, max compression
+gzip compressed data, was "freegenius-0.0.9.tar", last modified: Wed Feb 28 14:42:27 2024, max compression
```

## Comparing `freegenius-0.0.89.tar` & `freegenius-0.0.9.tar`

### file list

```diff
@@ -1,178 +1,23 @@
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.936628 freegenius-0.0.89/
--rw-r--r--   0 eliran    (1000) eliran    (1000)    13105 2024-04-16 22:30:00.936628 freegenius-0.0.89/PKG-INFO
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.912629 freegenius-0.0.89/freegenius/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    10056 2024-04-16 22:30:00.000000 freegenius-0.0.89/freegenius/README.md
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3316 2024-04-11 08:45:18.000000 freegenius-0.0.89/freegenius/__init__.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.912629 freegenius-0.0.89/freegenius/audio/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    15588 2024-02-18 17:53:14.000000 freegenius-0.0.89/freegenius/audio/notification1.mp3
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2925 2024-02-20 11:12:21.000000 freegenius-0.0.89/freegenius/audio/notification1_mild.mp3
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    19428 2024-02-18 17:51:50.000000 freegenius-0.0.89/freegenius/audio/notification2.mp3
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3693 2024-02-20 11:18:40.000000 freegenius-0.0.89/freegenius/audio/notification2_mild.mp3
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     6646 2024-04-11 14:37:13.000000 freegenius-0.0.89/freegenius/autoassist.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     9421 2024-04-13 20:55:38.000000 freegenius-0.0.89/freegenius/autobuilder.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    10727 2024-04-11 14:37:13.000000 freegenius-0.0.89/freegenius/autoretriever.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     6933 2024-04-03 20:55:06.000000 freegenius-0.0.89/freegenius/chatgpt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7037 2024-04-03 20:55:57.000000 freegenius-0.0.89/freegenius/codey.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      833 2024-03-25 21:25:36.000000 freegenius-0.0.89/freegenius/commandprompt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.000000 freegenius-0.0.89/freegenius/config.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    29583 2023-12-02 22:39:56.000000 freegenius-0.0.89/freegenius/eTextEdit.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.912629 freegenius-0.0.89/freegenius/files/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       31 2023-11-28 12:28:19.000000 freegenius-0.0.89/freegenius/files/Readme.md
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    11372 2024-04-16 20:22:58.000000 freegenius-0.0.89/freegenius/geminipro.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7838 2024-04-16 20:22:58.000000 freegenius-0.0.89/freegenius/geminiprovision.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.916629 freegenius-0.0.89/freegenius/gui/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     9741 2024-04-09 22:46:08.000000 freegenius-0.0.89/freegenius/gui/chatgui.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2154 2024-03-12 11:57:01.000000 freegenius-0.0.89/freegenius/gui/worker.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.916629 freegenius-0.0.89/freegenius/history/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       29 2023-11-28 12:28:19.000000 freegenius-0.0.89/freegenius/history/Readme.md
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.924629 freegenius-0.0.89/freegenius/icons/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)   158655 2024-04-10 10:01:55.000000 freegenius-0.0.89/freegenius/icons/FreeGenius.ico
--rw-rw-r--   0 eliran    (1000) eliran    (1000)  2549036 2024-04-10 09:49:32.000000 freegenius-0.0.89/freegenius/icons/FreeGenius.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)  3162696 2024-04-10 09:20:11.000000 freegenius-0.0.89/freegenius/icons/FreeGenius_original.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)  3141194 2024-04-10 09:41:18.000000 freegenius-0.0.89/freegenius/icons/ai.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)  2390858 2024-04-10 09:27:35.000000 freegenius-0.0.89/freegenius/icons/ai_original.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     8119 2024-04-11 14:34:40.000000 freegenius-0.0.89/freegenius/llamacpp.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.908629 freegenius-0.0.89/freegenius/macOS_service/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.908629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Download_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.924629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Download_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      644 2024-04-06 16:47:12.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Download_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.924629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Download_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-09 18:05:15.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Download_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5680 2024-04-06 16:46:45.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Download_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.908629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Explanation_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.924629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Explanation_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      647 2024-04-06 16:47:12.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Explanation_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.924629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Explanation_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-07 18:59:13.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Explanation_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5679 2024-04-06 16:46:45.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Explanation_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.908629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Files_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.924629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Files_workflow/Contents/
--rw-r--r--   0 eliran    (1000) eliran    (1000)      635 2024-04-06 16:47:12.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Files_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.924629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Files_workflow/Contents/QuickLook/
--rw-r--r--   0 eliran    (1000) eliran    (1000)     4100 2023-12-01 10:53:39.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Files_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5684 2024-04-06 16:46:45.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Files_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.908629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Pronounce_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.924629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Pronounce_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      649 2024-04-06 16:47:12.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Pronounce_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.928629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Pronounce_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-09 18:05:15.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Pronounce_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5681 2024-04-06 16:46:45.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Pronounce_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.908629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Summary_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.928629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Summary_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      643 2024-04-06 16:47:12.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Summary_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.928629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Summary_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-07 18:59:13.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Summary_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5681 2024-04-06 16:46:45.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Summary_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.908629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Text_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.928629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Text_workflow/Contents/
--rw-r--r--   0 eliran    (1000) eliran    (1000)      640 2024-04-06 16:47:12.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Text_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.928629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Text_workflow/Contents/QuickLook/
--rw-r--r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-01 10:53:44.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Text_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5656 2024-04-06 16:46:45.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Text_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.908629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Translation_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.928629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Translation_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      647 2024-04-06 16:47:12.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Translation_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.928629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Translation_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-07 18:59:13.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Translation_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5681 2024-04-06 16:46:45.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_Translation_workflow/Contents/document.wflow
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.908629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.928629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      647 2024-04-06 16:47:12.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/Info.plist
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.928629 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/QuickLook/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4273 2023-12-09 18:05:15.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/QuickLook/Thumbnail.png
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5692 2024-04-06 16:46:45.000000 freegenius-0.0.89/freegenius/macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/document.wflow
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7320 2024-04-10 10:50:28.000000 freegenius-0.0.89/freegenius/main.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    10959 2024-04-07 18:24:27.000000 freegenius-0.0.89/freegenius/ollamachat.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       10 2024-04-16 22:30:00.000000 freegenius-0.0.89/freegenius/package_name.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7573 2024-04-03 20:57:58.000000 freegenius-0.0.89/freegenius/palm2.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.932628 freegenius-0.0.89/freegenius/plugins/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1326 2024-03-25 18:25:44.000000 freegenius-0.0.89/freegenius/plugins/000_check_ffmpeg.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1616 2024-03-25 18:32:07.000000 freegenius-0.0.89/freegenius/plugins/000_check_pyaudio.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1465 2024-03-25 18:26:33.000000 freegenius-0.0.89/freegenius/plugins/000_check_vlc.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      115 2023-11-28 12:28:19.000000 freegenius-0.0.89/freegenius/plugins/Readme.md
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     6812 2024-04-12 22:35:03.000000 freegenius-0.0.89/freegenius/plugins/add calendar event.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3358 2024-04-02 21:37:01.000000 freegenius-0.0.89/freegenius/plugins/aliases.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7429 2024-04-09 10:22:46.000000 freegenius-0.0.89/freegenius/plugins/analyze audio.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2154 2024-04-09 10:22:46.000000 freegenius-0.0.89/freegenius/plugins/analyze files.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4667 2024-04-11 14:37:13.000000 freegenius-0.0.89/freegenius/plugins/analyze images.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2316 2024-04-09 22:27:35.000000 freegenius-0.0.89/freegenius/plugins/analyze web content.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2559 2024-04-14 22:20:21.000000 freegenius-0.0.89/freegenius/plugins/auto correct python code.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1860 2024-04-02 21:37:01.000000 freegenius-0.0.89/freegenius/plugins/awesome prompts.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5876 2024-04-02 21:37:01.000000 freegenius-0.0.89/freegenius/plugins/character analysis.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      654 2024-04-04 22:28:27.000000 freegenius-0.0.89/freegenius/plugins/chat.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      762 2024-04-04 08:36:50.000000 freegenius-0.0.89/freegenius/plugins/contexts.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7220 2024-04-02 21:37:01.000000 freegenius-0.0.89/freegenius/plugins/counselling.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1688 2024-04-04 22:11:59.000000 freegenius-0.0.89/freegenius/plugins/create ai assistants.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5152 2024-04-11 14:32:24.000000 freegenius-0.0.89/freegenius/plugins/create images.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1262 2024-04-10 07:42:48.000000 freegenius-0.0.89/freegenius/plugins/create maps.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1520 2024-04-04 22:15:17.000000 freegenius-0.0.89/freegenius/plugins/create qrcode.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1522 2024-04-10 07:42:48.000000 freegenius-0.0.89/freegenius/plugins/create statistical graphics.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1211 2024-04-13 22:43:22.000000 freegenius-0.0.89/freegenius/plugins/dates and times.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3950 2024-04-09 22:27:52.000000 freegenius-0.0.89/freegenius/plugins/download youtube or web content.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1862 2024-04-05 11:08:57.000000 freegenius-0.0.89/freegenius/plugins/edit text.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3316 2024-04-13 22:42:39.000000 freegenius-0.0.89/freegenius/plugins/execute computing tasks.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4213 2024-04-09 22:24:00.000000 freegenius-0.0.89/freegenius/plugins/execute termux command.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     6940 2024-04-02 21:37:01.000000 freegenius-0.0.89/freegenius/plugins/global finance.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      975 2024-04-02 21:37:01.000000 freegenius-0.0.89/freegenius/plugins/improve British English.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1325 2024-04-04 08:36:50.000000 freegenius-0.0.89/freegenius/plugins/input suggestions.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1077 2024-04-07 19:39:31.000000 freegenius-0.0.89/freegenius/plugins/install python package.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1670 2024-04-04 22:36:17.000000 freegenius-0.0.89/freegenius/plugins/integrate google searches.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4606 2024-04-11 22:17:28.000000 freegenius-0.0.89/freegenius/plugins/memory.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     8638 2024-04-11 14:37:13.000000 freegenius-0.0.89/freegenius/plugins/modify images.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      944 2024-04-09 22:25:30.000000 freegenius-0.0.89/freegenius/plugins/open web browser.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1296 2024-04-05 11:14:34.000000 freegenius-0.0.89/freegenius/plugins/pronounce words.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2409 2024-04-10 07:42:48.000000 freegenius-0.0.89/freegenius/plugins/remove image background.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5898 2024-04-10 13:47:59.000000 freegenius-0.0.89/freegenius/plugins/search chat records.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1156 2024-04-10 07:42:48.000000 freegenius-0.0.89/freegenius/plugins/search financial data.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1966 2024-04-04 22:42:40.000000 freegenius-0.0.89/freegenius/plugins/search latest news.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3479 2024-04-11 22:13:56.000000 freegenius-0.0.89/freegenius/plugins/search sqlite.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1539 2024-04-10 07:42:48.000000 freegenius-0.0.89/freegenius/plugins/search weather info.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3987 2024-04-09 22:25:48.000000 freegenius-0.0.89/freegenius/plugins/send email.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      898 2024-04-09 22:26:03.000000 freegenius-0.0.89/freegenius/plugins/send tweet.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1280 2024-04-05 11:15:56.000000 freegenius-0.0.89/freegenius/plugins/send whatsapp messages.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      528 2024-04-02 21:37:01.000000 freegenius-0.0.89/freegenius/plugins/simplified Chinese to traditional Chinese.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      242 2024-03-25 12:56:42.000000 freegenius-0.0.89/freegenius/qt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     9711 2024-04-09 10:22:46.000000 freegenius-0.0.89/freegenius/rag.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      779 2024-04-16 16:37:20.000000 freegenius-0.0.89/freegenius/requirements.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1293 2024-04-11 16:00:15.000000 freegenius-0.0.89/freegenius/servers.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7691 2024-04-16 20:07:13.000000 freegenius-0.0.89/freegenius/systemtray.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.932628 freegenius-0.0.89/freegenius/temp/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       36 2023-11-28 12:28:19.000000 freegenius-0.0.89/freegenius/temp/Readme.md
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.936628 freegenius-0.0.89/freegenius/utils/
--rw-rw-r--   0 eliran    (1000) eliran    (1000)   108133 2024-04-16 22:24:56.000000 freegenius-0.0.89/freegenius/utils/assistant.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    29655 2024-04-16 22:14:21.000000 freegenius-0.0.89/freegenius/utils/call_chatgpt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    17182 2024-04-16 22:12:03.000000 freegenius-0.0.89/freegenius/utils/call_gemini.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    21560 2024-04-16 22:13:50.000000 freegenius-0.0.89/freegenius/utils/call_llamacpp.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7664 2024-04-09 10:22:46.000000 freegenius-0.0.89/freegenius/utils/call_llm.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    18715 2024-04-16 22:13:24.000000 freegenius-0.0.89/freegenius/utils/call_ollama.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    16440 2024-04-16 16:48:57.000000 freegenius-0.0.89/freegenius/utils/config_essential.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     2616 2024-04-03 21:01:16.000000 freegenius-0.0.89/freegenius/utils/config_tools.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1368 2024-03-27 21:22:10.000000 freegenius-0.0.89/freegenius/utils/download.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    14296 2024-04-03 21:01:58.000000 freegenius-0.0.89/freegenius/utils/get_path_prompt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4147 2024-04-13 21:13:00.000000 freegenius-0.0.89/freegenius/utils/ollama_models.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     3872 2024-04-09 22:46:08.000000 freegenius-0.0.89/freegenius/utils/promptValidator.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     6973 2024-03-25 11:20:01.000000 freegenius-0.0.89/freegenius/utils/prompt_multiline_shared_key_bindings.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7880 2024-04-09 22:40:12.000000 freegenius-0.0.89/freegenius/utils/prompt_shared_key_bindings.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    21592 2024-04-09 22:46:08.000000 freegenius-0.0.89/freegenius/utils/prompts.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1681 2024-04-12 23:13:01.000000 freegenius-0.0.89/freegenius/utils/python_utils.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    42983 2024-04-16 21:59:26.000000 freegenius-0.0.89/freegenius/utils/shared_utils.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    21476 2024-04-10 11:33:28.000000 freegenius-0.0.89/freegenius/utils/shortcuts.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     8558 2024-04-04 08:45:13.000000 freegenius-0.0.89/freegenius/utils/single_prompt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7936 2024-04-09 10:22:46.000000 freegenius-0.0.89/freegenius/utils/streaming_word_wrapper.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7580 2024-02-22 12:18:47.000000 freegenius-0.0.89/freegenius/utils/sttLanguages.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4781 2024-03-26 19:39:22.000000 freegenius-0.0.89/freegenius/utils/terminal_mode_dialogs.py
--rwxrwxr-x   0 eliran    (1000) eliran    (1000)     9891 2024-04-03 21:02:14.000000 freegenius-0.0.89/freegenius/utils/terminal_system_command_prompt.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    23917 2024-03-12 11:57:01.000000 freegenius-0.0.89/freegenius/utils/text_utils.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4352 2024-04-12 22:26:19.000000 freegenius-0.0.89/freegenius/utils/tool_plugins.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     7640 2024-02-22 00:47:05.000000 freegenius-0.0.89/freegenius/utils/ttsLanguages.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     8563 2024-03-28 23:38:45.000000 freegenius-0.0.89/freegenius/utils/tts_utils.py
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     4651 2024-04-09 22:46:08.000000 freegenius-0.0.89/freegenius/utils/vlc_utils.py
-drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-04-16 22:30:00.936628 freegenius-0.0.89/freegenius.egg-info/
--rw-r--r--   0 eliran    (1000) eliran    (1000)    13105 2024-04-16 22:30:00.000000 freegenius-0.0.89/freegenius.egg-info/PKG-INFO
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     5856 2024-04-16 22:30:00.000000 freegenius-0.0.89/freegenius.egg-info/SOURCES.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)        1 2024-04-16 22:30:00.000000 freegenius-0.0.89/freegenius.egg-info/dependency_links.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)     1226 2024-04-16 22:30:00.000000 freegenius-0.0.89/freegenius.egg-info/entry_points.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)      780 2024-04-16 22:30:00.000000 freegenius-0.0.89/freegenius.egg-info/requires.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       11 2024-04-16 22:30:00.000000 freegenius-0.0.89/freegenius.egg-info/top_level.txt
--rw-rw-r--   0 eliran    (1000) eliran    (1000)       38 2024-04-16 22:30:00.936628 freegenius-0.0.89/setup.cfg
--rw-rw-r--   0 eliran    (1000) eliran    (1000)    10383 2024-04-16 22:29:51.000000 freegenius-0.0.89/setup.py
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)     2185 2024-02-28 14:42:27.925755 freegenius-0.0.9/PKG-INFO
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/freegenius/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)      952 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius/README.md
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)        0 2024-02-26 10:57:44.000000 freegenius-0.0.9/freegenius/config.py
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/freegenius/configs/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)    10480 2024-02-27 11:46:27.000000 freegenius-0.0.9/freegenius/configs/config_essential.py
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)     3824 2024-02-24 17:48:40.000000 freegenius-0.0.9/freegenius/configs/config_tools.py
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/freegenius/core/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)   123019 2024-02-28 14:07:47.000000 freegenius-0.0.9/freegenius/core/assistant.py
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)    12129 2024-02-26 17:51:52.000000 freegenius-0.0.9/freegenius/main.py
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)       16 2024-02-26 10:37:43.000000 freegenius-0.0.9/freegenius/requirements.txt
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/freegenius/utils/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)    17965 2024-02-26 12:14:54.000000 freegenius-0.0.9/freegenius/utils/shortcuts.py
+drwxrwxr-x   0 eliran    (1000) eliran    (1000)        0 2024-02-28 14:42:27.925755 freegenius-0.0.9/freegenius.egg-info/
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)     2185 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/PKG-INFO
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)      436 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/SOURCES.txt
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)        1 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/dependency_links.txt
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)       53 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/entry_points.txt
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)       17 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/requires.txt
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)       11 2024-02-28 14:42:27.000000 freegenius-0.0.9/freegenius.egg-info/top_level.txt
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)       38 2024-02-28 14:42:27.925755 freegenius-0.0.9/setup.cfg
+-rw-rw-r--   0 eliran    (1000) eliran    (1000)     3147 2024-02-28 14:42:22.000000 freegenius-0.0.9/setup.py
```

### Comparing `freegenius-0.0.89/freegenius/ollamachat.py` & `freegenius-0.0.9/freegenius/main.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,283 +1,284 @@
-import ollama, os, argparse, threading, shutil, json
-from ollama import Options, pull
-from freegenius.utils.download import Downloader
-from freegenius import config, is_valid_image_file
-from freegenius import print2, print3
-from freegenius.utils.ollama_models import ollama_models
-from freegenius.utils.streaming_word_wrapper import StreamingWordWrapper
-from freegenius.utils.single_prompt import SinglePrompt
-from prompt_toolkit.styles import Style
-from prompt_toolkit import PromptSession
-from prompt_toolkit.history import FileHistory
-from prompt_toolkit.shortcuts import clear
-from prompt_toolkit.completion import WordCompleter, FuzzyCompleter
-#from prompt_toolkit.shortcuts import ProgressBar
-from tqdm import tqdm
+import os, sys, platform, shutil, argparse
+
+# requires python 3.8+; required by package 'tiktoken'
+pythonVersion = sys.version_info
+if pythonVersion < (3, 8):
+    print("Python version higher than 3.8 is required!")
+    print("Closing ...")
+    exit(1)
+elif pythonVersion >= (3, 12):
+    print("Some features may not work with python version newer than 3.11!")
+
+# navigate to project directory
+letMeDoItFile = os.path.realpath(__file__)
+letMeDoItAIFolder = os.path.dirname(letMeDoItFile)
+if os.getcwd() != letMeDoItAIFolder:
+    os.chdir(letMeDoItAIFolder)
+
+# check current platform
+thisPlatform = platform.system()
+
+# set up config
+# create config.py if it does not exist
+configFile = os.path.join(letMeDoItAIFolder, "config.py")
+if not os.path.isfile(configFile):
+    open(configFile, "a", encoding="utf-8").close()
+
+# import config and setup default
+#import traceback
+try:
+    from freegenius import config
+except:
+    # write off problematic configFile
+    open(configFile, "w", encoding="utf-8").close()
+    from freegenius import config
+import letmedoit.config
 from pathlib import Path
 
-promptStyle = Style.from_dict({
-    # User input (default text).
-    "": config.terminalCommandEntryColor2,
-    # Prompt.
-    "indicator": config.terminalPromptIndicatorColor2,
-})
-
-class OllamaChat:
-
-    def __init__(self):
-        # authentication
-        if shutil.which("ollama"):
-            self.runnable = True
-        else:
-            print("Local LLM Server 'Ollama' not found! Install Ollama first!")
-            print("Visit https://ollama.com/")
-            self.runnable = False
-
-    def installModel(self, model):
-        print3(f"Downloading '{model}' ...")
-        
-        #https://github.com/ollama/ollama-python/blob/main/examples/pull-progress/main.py
-        current_digest, bars = '', {}
-        for progress in pull(model, stream=True):
-            digest = progress.get('digest', '')
-            if digest != current_digest and current_digest in bars:
-                bars[current_digest].close()
-
-            if not digest:
-                print(progress.get('status'))
-                continue
-
-            if digest not in bars and (total := progress.get('total')):
-                bars[digest] = tqdm(total=total, desc=f'pulling {digest[7:19]}', unit='B', unit_scale=True)
-
-            if completed := progress.get('completed'):
-                bars[digest].update(completed - bars[digest].n)
-
-            current_digest = digest
-
-    def run(self, prompt="", model="mistral") -> None:        
-        def extractImages(content) -> list:
-            template = {
-                "image_filepath_list": [],
-                "query": "",
-            }
-            promptPrefix = f"""Use this template:
-
-{template}
-
-To generate a JSON that contains two keys, "image_filepath_list" and "query", based on my request.
-"image_filepath_list" is a list of image paths specified in my request.  If no path is specified, return an empty list [] for its value.
-"query" is the query about the images in the list.
-
-Here is my request:
-"""
-            completion = ollama.chat(
-                model="gemma:2b",
-                messages=[
-                    {
-                        "role": "user",
-                        "content": f"{promptPrefix}{content}",
-                    },
-                ],
-                format="json",
-                stream=False,
-                options=Options(
-                    temperature=0.0,
-                    num_ctx=config.ollamaMainModel_num_ctx,
-                    num_batch=config.ollamaMainModel_num_batch,
-                    num_predict=config.ollamaMainModel_num_predict,
-                ),
-            )
-            output = json.loads(completion["message"]["content"])
-            if config.developer:
-                print2("Input:")
-                print(output)
-            imageList = output["image_filepath_list"]
-            images = [i for i in imageList if os.path.isfile(i) and is_valid_image_file(i)]
-
-            return images
-
-        if not self.runnable:
-            return None
-
-        # check model
-        if not Downloader.downloadOllamaModel(model):
-            return None
-        if model.startswith("llava"):
-            Downloader.downloadOllamaModel("gemma:2b")
-        
-        previoiusModel = config.ollamaMainModel
-        config.ollamaMainModel = model
-        if not config.ollamaMainModel:
-            config.ollamaMainModel = "mistral"
-        if not config.ollamaMainModel == previoiusModel:
-            config.saveConfig()
-
-        historyFolder = os.path.join(config.localStorage, "history")
-        Path(historyFolder).mkdir(parents=True, exist_ok=True)
-        chat_history = os.path.join(historyFolder, f"ollama_{model}")
-        chat_session = PromptSession(history=FileHistory(chat_history))
-
-        print2(f"\n{model.capitalize()} loaded!")
-
-        # history
-        messages = []
-        if hasattr(config, "currentMessages"):
-            for i in config.currentMessages[:-1]:
-                if "role" in i and i["role"] in ("system", "user", "assistant") and "content" in i and i.get("content"):
-                    messages.append(i)
-
-        # bottom toolbar
-        if hasattr(config, "currentMessages"):
-            bottom_toolbar = f""" {str(config.hotkey_exit).replace("'", "")} {config.exit_entry}"""
-        else:
-            bottom_toolbar = f""" {str(config.hotkey_exit).replace("'", "")} {config.exit_entry} {str(config.hotkey_new).replace("'", "")} .new"""
-            print("(To start a new chart, enter '.new')")
-        print(f"(To exit, enter '{config.exit_entry}')\n")
-
-        while True:
-            if not prompt:
-                prompt = SinglePrompt.run(style=promptStyle, promptSession=chat_session, bottom_toolbar=bottom_toolbar)
-                if prompt and not prompt in (".new", config.exit_entry) and hasattr(config, "currentMessages"):
-                    config.currentMessages.append({"content": prompt, "role": "user"})
+config.letMeDoItName = "FreeGenius AI"
+letmedoit.config.letMeDoItFile = config.letMeDoItFile = letMeDoItFile
+letmedoit.config.letMeDoItAIFolder = config.letMeDoItAIFolder = letMeDoItAIFolder
+letmedoit.config.isTermux = config.isTermux = True if os.path.isdir("/data/data/com.termux/files/home") else False
+
+letmedoit.config.terminalColors = config.terminalColors = {
+    "ansidefault": "ansidefault",
+    "ansiblack": "ansiwhite",
+    "ansired": "ansibrightred",
+    "ansigreen": "ansibrightgreen",
+    "ansiyellow": "ansibrightyellow",
+    "ansiblue": "ansibrightblue",
+    "ansimagenta": "ansibrightmagenta",
+    "ansicyan": "ansibrightcyan",
+    "ansigray": "ansibrightblack",
+    "ansiwhite": "ansiblack",
+    "ansibrightred": "ansired",
+    "ansibrightgreen": "ansigreen",
+    "ansibrightyellow": "ansiyellow",
+    "ansibrightblue": "ansiblue",
+    "ansibrightmagenta": "ansimagenta",
+    "ansibrightcyan": "ansicyan",
+    "ansibrightblack": "ansigray",
+}
+
+# package name
+package = "freegenius"
+
+def getStorageDir():
+    storageDir = os.path.join(os.path.expanduser('~'), package)
+    try:
+        Path(storageDir).mkdir(parents=True, exist_ok=True)
+    except:
+        pass
+    return storageDir if os.path.isdir(storageDir) else ""
+letmedoit.config.getStorageDir = config.getStorageDir = getStorageDir
+
+def restartApp():
+    print(f"Restarting {config.letMeDoItName} ...")
+    os.system(f"{sys.executable} {config.letMeDoItFile}")
+    exit(0)
+config.restartApp = restartApp
+
+from freegenius.configs.config_tools import *
+from freegenius.configs.config_essential import temporaryConfigs
+from letmedoit.utils.install import installmodule
+from letmedoit.utils.shared_utils import SharedUtil
+
+# automatic update
+config.pipIsUpdated = False
+def updateApp(thisPackage):
+    print(f"Checking '{thisPackage}' version ...")
+    installed_version = SharedUtil.getPackageInstalledVersion(thisPackage)
+    if installed_version is None:
+        print("Installed version information is not accessible!")
+    else:
+        print(f"Installed version: {installed_version}")
+    latest_version = SharedUtil.getPackageLatestVersion(thisPackage)
+    if latest_version is None:
+        print("Latest version information is not accessible at the moment!")
+    elif installed_version is not None:
+        print(f"Latest version: {latest_version}")
+        if latest_version > installed_version:
+            if thisPlatform == "Windows":
+                print("Automatic upgrade feature is yet to be supported on Windows!")
+                print(f"Run 'pip install --upgrade {thisPackage}' to manually upgrade this app!")
             else:
-                prompt = SinglePrompt.run(style=promptStyle, promptSession=chat_session, bottom_toolbar=bottom_toolbar, default=prompt, accept_default=True)
-            if prompt == config.exit_entry:
-                break
-            elif prompt == ".new" and not hasattr(config, "currentMessages"):
-                clear()
-                messages = []
-                print("New chat started!")
-            elif prompt := prompt.strip():
-                streamingWordWrapper = StreamingWordWrapper()
-                config.pagerContent = ""
-                if model.startswith("llava"):
-                    images = extractImages(prompt)
-                    if images:
-                        messages.append({'role': 'user', 'content': prompt, 'images': images})
-                        print3(f"Analyzing image: {str(images)}")
-                    else:
-                        messages.append({'role': 'user', 'content': prompt})
-                else:
-                    messages.append({'role': 'user', 'content': prompt})
                 try:
-                    completion = ollama.chat(
-                        model=model,
-                        messages=messages,
-                        stream=True,
-                        options=Options(
-                            temperature=config.llmTemperature,
-                            num_ctx=config.ollamaMainModel_num_ctx,
-                            num_batch=config.ollamaMainModel_num_batch,
-                            num_predict=config.ollamaMainModel_num_predict,
-                        ),
-                    )
-                    # Create a new thread for the streaming task
-                    streaming_event = threading.Event()
-                    self.streaming_thread = threading.Thread(target=streamingWordWrapper.streamOutputs, args=(streaming_event, completion,))
-                    # Start the streaming thread
-                    self.streaming_thread.start()
-
-                    # wait while text output is steaming; capture key combo 'ctrl+q' or 'ctrl+z' to stop the streaming
-                    streamingWordWrapper.keyToStopStreaming(streaming_event)
-
-                    # when streaming is done or when user press "ctrl+q"
-                    self.streaming_thread.join()
-
-                    # update messages
-                    messages.append({"role": "assistant", "content": config.new_chat_response})
-                except ollama.ResponseError as e:
-                    if hasattr(self, "streaming_thread"):
-                        self.streaming_thread.join()
-                    print('Error:', e.error)
-
-            prompt = ""
-
-        print2(f"\n{model.capitalize()} closed!")
-        if hasattr(config, "currentMessages"):
-            print2(f"Return back to {config.freeGeniusAIName} prompt ...")
-
-# available cli: 'ollamachat', 'mistral', 'llama2', 'llama213b', 'llama270b', 'gemma2b', 'gemma7b', 'llava', 'phi', 'vicuna'
-
-def starlinglm():
-    main("starling-lm")
-
-def orca2():
-    main("orca2")
-
-def mistral():
-    main("mistral")
-
-def mixtral():
-    main("mixtral")
-
-def llama2():
-    main("llama2")
-
-def llama213b():
-    main("llama2:13b")
-
-def llama270b():
-    main("llama2:70b")
-
-def codellama():
-    main("codellama")
-
-def gemma2b():
-    main("gemma:2b")
-
-def gemma7b():
-    main("gemma:7b")
-
-def llava():
-    main("llava")
-
-def phi():
-    main("phi")
+                    # upgrade package
+                    installmodule(f"--upgrade {thisPackage}")
+                    restartApp()
+                except:
+                    print(f"Failed to upgrade '{thisPackage}'!")
+
+# import other libraries
+import pprint
+from letmedoit.utils.shortcuts import createShortcuts
+from freegenius.core.assistant import FreeGenius
+from letmedoit.utils.vlc_utils import VlcUtil
+from prompt_toolkit.shortcuts import set_title, clear_title
+try:
+    # hide pygame welcome message
+    os.environ["PYGAME_HIDE_SUPPORT_PROMPT"] = "1"
+    import pygame
+    pygame.mixer.init()
+    config.isPygameInstalled = True
+except:
+    config.isPygameInstalled = False
+
+def setOsOpenCmd():
+    config.thisPlatform = thisPlatform
+    if config.terminalEnableTermuxAPI:
+        config.open = "termux-share"
+    elif thisPlatform == "Linux":
+        config.open = "xdg-open"
+    elif thisPlatform == "Darwin":
+        config.open = "open"
+    elif thisPlatform == "Windows":
+        config.open = "start"
+    # name macOS
+    if config.thisPlatform == "Darwin":
+        config.thisPlatform = "macOS"
+
+def saveConfig():
+    with open(configFile, "w", encoding="utf-8") as fileObj:
+        for name in dir(config):
+            excludeConfigList = temporaryConfigs + config.excludeConfigList
+            if not name.startswith("__") and not name in excludeConfigList:
+                try:
+                    value = eval(f"config.{name}")
+                    if not callable(value) and not str(value).startswith("<"):
+                        fileObj.write("{0} = {1}\n".format(name, pprint.pformat(value)))
+                except:
+                    pass
+config.saveConfig = saveConfig
+
+def set_log_file_max_lines(log_file, max_lines):
+    if os.path.isfile(log_file):
+        # Read the contents of the log file
+        with open(log_file, "r", encoding="utf-8") as fileObj:
+            lines = fileObj.readlines()
+        # Count the number of lines in the file
+        num_lines = len(lines)
+        if num_lines > max_lines:
+            # Calculate the number of lines to be deleted
+            num_lines_to_delete = num_lines - max_lines
+            if num_lines_to_delete > 0:
+                # Open the log file in write mode and truncate it
+                with open(log_file, "w", encoding="utf-8") as fileObj:
+                    # Write the remaining lines back to the log file
+                    fileObj.writelines(lines[num_lines_to_delete:])
+            filename = os.path.basename(log_file)
+            print(f"{num_lines_to_delete} old lines deleted from log file '{filename}'.")
 
-def vicuna():
-    main("vicuna")
+def main():
+    print(f"launching {config.letMeDoItName} ...")
 
-def main(thisModel=""):
     # Create the parser
-    parser = argparse.ArgumentParser(description="palm2 cli options")
+    parser = argparse.ArgumentParser(description="FreeGenius AI cli options")
     # Add arguments
-    parser.add_argument("default", nargs="?", default=None, help="default entry")
-    if not thisModel:
-        parser.add_argument('-m', '--model', action='store', dest='model', help="specify language model with -m flag; default: mistral")
+    parser.add_argument("default", nargs="?", default=None, help="default entry; accepts a string; ignored when -l/rf/f/r flag is used")
+    parser.add_argument('-c', '--context', action='store', dest='context', help="specify pre-defined context with -r flag; accepts a string")
+    parser.add_argument('-f', '--file', action='store', dest='file', help="read file text as default entry with -f flag; accepts a file path; ignored when -l/rf flag is used")
+    parser.add_argument('-i', '--ip', action='store', dest='ip', help="set 'true' to include or 'false' to exclude ip information in system message with -i flag")
+    parser.add_argument('-l', '--load', action='store', dest='load', help="load file that contains saved chat records with -l flag; accepts either a chat ID or a file path; required plugin 'search chat records'")
+    parser.add_argument('-n', '--nocheck', action='store', dest='nocheck', help="set 'true' to bypass completion check at startup with -n flag")
+    parser.add_argument('-r', '--run', action='store', dest='run', help="run default entry with -r flag; accepts a string; ignored when -l/rf/f flag is used")
+    parser.add_argument('-rf', '--runfile', action='store', dest='runfile', help="read file text as default entry and run with -rf flag; accepts a file path; ignored when -l flag is used")
+    parser.add_argument('-u', '--update', action='store', dest='update', help="set 'true' to force or 'false' to bypass automatic update with -u flag")
     # Parse arguments
     args = parser.parse_args()
-    # Get options
-    prompt = args.default.strip() if args.default and args.default.strip() else ""
-    if thisModel:
-        model = thisModel
+    # Check what kind of arguments were provided and perform actions accordingly
+
+    # update to the latest version
+    if args.update:
+        if args.update.lower() == "true":
+            updateApp(package)
+    # determined by config.autoUpgrade if -u flag is not used
+    elif config.autoUpgrade:
+        updateApp(package)
+
+    # initial completion check at startup
+    config.initialCompletionCheck = False if args.nocheck and args.nocheck.lower() == "true" else True
+
+    # include ip in system message
+    letmedoit.config.includeIpInSystemMessageTemp = config.includeIpInSystemMessageTemp = True if args.ip and args.ip.lower() == "true" else False
+
+    # specify pre-defined context
+    if args.context:
+        config.predefinedContextTemp = config.predefinedContext
+        config.predefinedContext = args.context
+
+    # priority: load > runfile > file > run > default
+    if args.load:
+        load = args.load.strip()
+        config.defaultEntry = f"Load chat records with this ID: {load}"
+        config.accept_default = True
+    elif args.runfile or args.file:
+        try:
+            filename = args.runfile if args.runfile else args.file
+            filename = os.path.expanduser(filename)
+            config.defaultEntry = ""
+            if os.path.isfile(filename):
+                if os.path.basename(filename) == "selected_files.txt":
+                    dirNo = 1
+                    fileNo = 1
+                    with open(filename, "r", encoding="utf-8") as fileObj:
+                        for line in fileObj.readlines():
+                            strippedLine = line.strip()
+                            if os.path.isdir(strippedLine):
+                                config.defaultEntry += f'''Folder {dirNo}: "{strippedLine}"\n'''
+                                dirNo += 1
+                            elif os.path.isfile(strippedLine):
+                                config.defaultEntry += f'''File {fileNo}: "{strippedLine}"\n'''
+                                fileNo += 1
+                            elif strippedLine:
+                                config.defaultEntry += line
+                else:
+                    with open(filename, "r", encoding="utf-8") as fileObj:
+                        config.defaultEntry = fileObj.read()
+            else:
+                print(f"'{filename}' does not exist!")
+        except:
+            config.defaultEntry = ""
+        config.accept_default = True if args.runfile else False
+        for i in ("selected_files", "selected_text"):
+            shutil.rmtree(os.path.join(os.path.expanduser('~'), config.letMeDoItName.split()[0].lower(), f"{i}.txt"), ignore_errors=True)
+    elif args.run:
+        config.defaultEntry = args.run.strip()
+        config.accept_default = True
+    elif args.default:
+        config.defaultEntry = args.default.strip()
+        config.accept_default = False
     else:
-        if args.model and args.model.strip():
-            model = args.model.strip()
-        else:
-            historyFolder = os.path.join(config.localStorage, "history")
-            Path(historyFolder).mkdir(parents=True, exist_ok=True)
-            model_history = os.path.join(historyFolder, "ollama_default")
-            model_session = PromptSession(history=FileHistory(model_history))
-            completer = FuzzyCompleter(WordCompleter(sorted(ollama_models), ignore_case=True))
-            bottom_toolbar = f""" {str(config.hotkey_exit).replace("'", "")} {config.exit_entry}"""
-
-            print2("Ollama chat launched!")
-            print("Select a model below:")
-            print("Note: You should have at least 8 GB of RAM available to run the 7B models, 16 GB to run the 13B models, and 32 GB to run the 33B models.")
-            model = SinglePrompt.run(style=promptStyle, promptSession=model_session, bottom_toolbar=bottom_toolbar, default=config.ollamaMainModel, completer=completer)
-            if model and model.lower() == config.exit_entry:
-                print2("\nOllama chat closed!")
-                return None
-
-    if not model:
-        model = config.ollamaMainModel
-    # Run chat bot
-    OllamaChat().run(
-        prompt=prompt,
-        model=model,
-    )
-        
+        config.defaultEntry = ""
+        config.accept_default = False
+
+    set_title(config.letMeDoItName)
+    setOsOpenCmd()
+    createShortcuts()
+    config.excludeConfigList = []
+    config.isVlcPlayerInstalled = VlcUtil.isVlcPlayerInstalled()
+    # save loaded configs
+    saveConfig()
+    # check log files; remove old lines if more than 3000 lines is found in a log file
+    for i in ("chats", "paths", "commands"):
+        filepath = os.path.join(config.historyParentFolder if config.historyParentFolder else config.letMeDoItAIFolder, "history", i)
+        set_log_file_max_lines(filepath, 3000)
+    FreeGenius().startChats()
+    # Do the following tasks before exit
+    # backup configurations
+    saveConfig()
+    storageDir = getStorageDir()
+    if os.path.isdir(storageDir):
+        shutil.copy(configFile, os.path.join(storageDir, "config_backup.py"))
+    # delete temporary content
+    try:
+        tempFolder = os.path.join(config.letMeDoItAIFolder, "temp")
+        shutil.rmtree(tempFolder, ignore_errors=True)
+        Path(tempFolder).mkdir(parents=True, exist_ok=True)
+    except:
+        pass
+    # clear title
+    clear_title()
 
-if __name__ == '__main__':
-    main()
+if __name__ == "__main__":
+    main()
```

### Comparing `freegenius-0.0.89/freegenius/utils/assistant.py` & `freegenius-0.0.9/freegenius/core/assistant.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,6759 +1,7689 @@
-00000000: 6672 6f6d 2066 7265 6567 656e 6975 7320  from freegenius 
-00000010: 696d 706f 7274 2063 6f6e 6669 672c 2073  import config, s
-00000020: 686f 7745 7272 6f72 732c 2067 6574 4461  howErrors, getDa
-00000030: 794f 6657 6565 6b2c 2067 6574 4669 6c65  yOfWeek, getFile
-00000040: 6e61 6d65 7357 6974 686f 7574 4578 7465  namesWithoutExte
-00000050: 6e73 696f 6e2c 2067 6574 5374 7269 6e67  nsion, getString
-00000060: 5769 6474 682c 2073 746f 7053 7069 6e6e  Width, stopSpinn
-00000070: 696e 672c 2073 7069 6e6e 696e 675f 616e  ing, spinning_an
-00000080: 696d 6174 696f 6e2c 2067 6574 4c6f 6361  imation, getLoca
-00000090: 6c53 746f 7261 6765 2c20 6765 7457 6562  lStorage, getWeb
-000000a0: 5465 7874 2c20 6765 7457 6561 7468 6572  Text, getWeather
-000000b0: 0a66 726f 6d20 6672 6565 6765 6e69 7573  .from freegenius
-000000c0: 2069 6d70 6f72 7420 7072 696e 7431 2c20   import print1, 
-000000d0: 7072 696e 7432 2c20 7072 696e 7433 2c20  print2, print3, 
-000000e0: 6973 436f 6d6d 616e 6449 6e73 7461 6c6c  isCommandInstall
-000000f0: 6564 2c20 7365 7443 6861 7447 5054 4150  ed, setChatGPTAP
-00000100: 496b 6579 2c20 636f 756e 745f 746f 6b65  Ikey, count_toke
-00000110: 6e73 5f66 726f 6d5f 6675 6e63 7469 6f6e  ns_from_function
-00000120: 732c 2073 6574 546f 6f6c 4465 7065 6e64  s, setToolDepend
-00000130: 656e 6365 2c20 746f 6b65 6e4c 696d 6974  ence, tokenLimit
-00000140: 730a 6672 6f6d 2066 7265 6567 656e 6975  s.from freegeniu
-00000150: 7320 696d 706f 7274 2069 6e73 7461 6c6c  s import install
-00000160: 5069 7050 6163 6b61 6765 2c20 6765 7444  PipPackage, getD
-00000170: 6f77 6e6c 6f61 6465 644f 6c6c 616d 614d  ownloadedOllamaM
-00000180: 6f64 656c 732c 2067 6574 446f 776e 6c6f  odels, getDownlo
-00000190: 6164 6564 4767 7566 4d6f 6465 6c73 2c20  adedGgufModels, 
-000001a0: 6578 7472 6163 7450 7974 686f 6e43 6f64  extractPythonCod
-000001b0: 652c 2069 735f 7661 6c69 645f 7572 6c2c  e, is_valid_url,
-000001c0: 2067 6574 4375 7272 656e 7444 6174 6554   getCurrentDateT
-000001d0: 696d 652c 206f 7065 6e55 524c 2c20 6973  ime, openURL, is
-000001e0: 4578 6973 7469 6e67 5061 7468 2c20 6973  ExistingPath, is
-000001f0: 5f43 4a4b 0a66 726f 6d20 6672 6565 6765  _CJK.from freege
-00000200: 6e69 7573 2e75 7469 6c73 2e63 616c 6c5f  nius.utils.call_
-00000210: 6c6c 6d20 696d 706f 7274 2043 616c 6c4c  llm import CallL
-00000220: 4c4d 0a66 726f 6d20 6672 6565 6765 6e69  LM.from freegeni
-00000230: 7573 2e75 7469 6c73 2e74 6f6f 6c5f 706c  us.utils.tool_pl
-00000240: 7567 696e 7320 696d 706f 7274 2054 6f6f  ugins import Too
-00000250: 6c53 746f 7265 0a69 6d70 6f72 7420 6f70  lStore.import op
-00000260: 656e 6169 2c20 7468 7265 6164 696e 672c  enai, threading,
-00000270: 206f 732c 2074 7261 6365 6261 636b 2c20   os, traceback, 
-00000280: 7265 2c20 7375 6270 726f 6365 7373 2c20  re, subprocess, 
-00000290: 6a73 6f6e 2c20 7079 646f 632c 2073 6875  json, pydoc, shu
-000002a0: 7469 6c2c 2064 6174 6574 696d 652c 2070  til, datetime, p
-000002b0: 7072 696e 742c 2073 7973 2c20 636f 7079  print, sys, copy
-000002c0: 0a66 726f 6d20 7061 7468 6c69 6220 696d  .from pathlib im
-000002d0: 706f 7274 2050 6174 680a 6672 6f6d 2066  port Path.from f
-000002e0: 7265 6567 656e 6975 732e 7574 696c 732e  reegenius.utils.
-000002f0: 646f 776e 6c6f 6164 2069 6d70 6f72 7420  download import 
-00000300: 446f 776e 6c6f 6164 6572 0a66 726f 6d20  Downloader.from 
-00000310: 6672 6565 6765 6e69 7573 2e75 7469 6c73  freegenius.utils
-00000320: 2e6f 6c6c 616d 615f 6d6f 6465 6c73 2069  .ollama_models i
-00000330: 6d70 6f72 7420 6f6c 6c61 6d61 5f6d 6f64  mport ollama_mod
-00000340: 656c 730a 2366 726f 6d20 7079 676d 656e  els.#from pygmen
-00000350: 7473 2e6c 6578 6572 732e 7079 7468 6f6e  ts.lexers.python
-00000360: 2069 6d70 6f72 7420 5079 7468 6f6e 4c65   import PythonLe
-00000370: 7865 720a 2366 726f 6d20 7079 676d 656e  xer.#from pygmen
-00000380: 7473 2e6c 6578 6572 732e 7368 656c 6c20  ts.lexers.shell 
-00000390: 696d 706f 7274 2042 6173 684c 6578 6572  import BashLexer
-000003a0: 0a23 6672 6f6d 2070 7967 6d65 6e74 732e  .#from pygments.
-000003b0: 6c65 7865 7273 2e6d 6172 6b75 7020 696d  lexers.markup im
-000003c0: 706f 7274 204d 6172 6b64 6f77 6e4c 6578  port MarkdownLex
-000003d0: 6572 0a23 6672 6f6d 2070 726f 6d70 745f  er.#from prompt_
-000003e0: 746f 6f6c 6b69 742e 666f 726d 6174 7465  toolkit.formatte
-000003f0: 645f 7465 7874 2069 6d70 6f72 7420 5079  d_text import Py
-00000400: 676d 656e 7473 546f 6b65 6e73 0a66 726f  gmentsTokens.fro
-00000410: 6d20 7072 6f6d 7074 5f74 6f6f 6c6b 6974  m prompt_toolkit
-00000420: 2069 6d70 6f72 7420 5072 6f6d 7074 5365   import PromptSe
-00000430: 7373 696f 6e0a 6672 6f6d 2070 726f 6d70  ssion.from promp
-00000440: 745f 746f 6f6c 6b69 742e 6869 7374 6f72  t_toolkit.histor
-00000450: 7920 696d 706f 7274 2046 696c 6548 6973  y import FileHis
-00000460: 746f 7279 0a66 726f 6d20 7072 6f6d 7074  tory.from prompt
-00000470: 5f74 6f6f 6c6b 6974 2e63 6f6d 706c 6574  _toolkit.complet
-00000480: 696f 6e20 696d 706f 7274 2057 6f72 6443  ion import WordC
-00000490: 6f6d 706c 6574 6572 2c20 4675 7a7a 7943  ompleter, FuzzyC
-000004a0: 6f6d 706c 6574 6572 0a66 726f 6d20 7072  ompleter.from pr
-000004b0: 6f6d 7074 5f74 6f6f 6c6b 6974 2e73 686f  ompt_toolkit.sho
-000004c0: 7274 6375 7473 2069 6d70 6f72 7420 636c  rtcuts import cl
-000004d0: 6561 722c 2073 6574 5f74 6974 6c65 0a66  ear, set_title.f
-000004e0: 726f 6d20 7072 6f6d 7074 5f74 6f6f 6c6b  rom prompt_toolk
-000004f0: 6974 2e61 7070 6c69 6361 7469 6f6e 2069  it.application i
-00000500: 6d70 6f72 7420 7275 6e5f 696e 5f74 6572  mport run_in_ter
-00000510: 6d69 6e61 6c0a 6672 6f6d 2070 726f 6d70  minal.from promp
-00000520: 745f 746f 6f6c 6b69 7420 696d 706f 7274  t_toolkit import
-00000530: 2070 7269 6e74 5f66 6f72 6d61 7474 6564   print_formatted
-00000540: 5f74 6578 742c 2048 544d 4c0a 6672 6f6d  _text, HTML.from
-00000550: 2066 7265 6567 656e 6975 732e 7574 696c   freegenius.util
-00000560: 732e 7465 726d 696e 616c 5f6d 6f64 655f  s.terminal_mode_
-00000570: 6469 616c 6f67 7320 696d 706f 7274 2054  dialogs import T
-00000580: 6572 6d69 6e61 6c4d 6f64 6544 6961 6c6f  erminalModeDialo
-00000590: 6773 0a66 726f 6d20 6672 6565 6765 6e69  gs.from freegeni
-000005a0: 7573 2e75 7469 6c73 2e70 726f 6d70 7473  us.utils.prompts
-000005b0: 2069 6d70 6f72 7420 5072 6f6d 7074 730a   import Prompts.
-000005c0: 6672 6f6d 2066 7265 6567 656e 6975 732e  from freegenius.
-000005d0: 7574 696c 732e 7072 6f6d 7074 5661 6c69  utils.promptVali
-000005e0: 6461 746f 7220 696d 706f 7274 2046 6c6f  dator import Flo
-000005f0: 6174 5661 6c69 6461 746f 722c 2054 6f6b  atValidator, Tok
-00000600: 656e 5661 6c69 6461 746f 720a 6672 6f6d  enValidator.from
-00000610: 2066 7265 6567 656e 6975 732e 7574 696c   freegenius.util
-00000620: 732e 6765 745f 7061 7468 5f70 726f 6d70  s.get_path_promp
-00000630: 7420 696d 706f 7274 2047 6574 5061 7468  t import GetPath
-00000640: 0a66 726f 6d20 6672 6565 6765 6e69 7573  .from freegenius
-00000650: 2e75 7469 6c73 2e70 726f 6d70 745f 7368  .utils.prompt_sh
-00000660: 6172 6564 5f6b 6579 5f62 696e 6469 6e67  ared_key_binding
-00000670: 7320 696d 706f 7274 2073 7761 7054 6572  s import swapTer
-00000680: 6d69 6e61 6c43 6f6c 6f72 730a 0a66 726f  minalColors..fro
-00000690: 6d20 6672 6565 6765 6e69 7573 2e75 7469  m freegenius.uti
-000006a0: 6c73 2e74 6572 6d69 6e61 6c5f 7379 7374  ls.terminal_syst
-000006b0: 656d 5f63 6f6d 6d61 6e64 5f70 726f 6d70  em_command_promp
-000006c0: 7420 696d 706f 7274 2053 7973 7465 6d43  t import SystemC
-000006d0: 6f6d 6d61 6e64 5072 6f6d 7074 0a66 726f  ommandPrompt.fro
-000006e0: 6d20 6672 6565 6765 6e69 7573 2e75 7469  m freegenius.uti
-000006f0: 6c73 2e74 6f6f 6c5f 706c 7567 696e 7320  ls.tool_plugins 
-00000700: 696d 706f 7274 2050 6c75 6769 6e73 0a66  import Plugins.f
-00000710: 726f 6d20 6672 6565 6765 6e69 7573 2e75  rom freegenius.u
-00000720: 7469 6c73 2e74 7473 5f75 7469 6c73 2069  tils.tts_utils i
-00000730: 6d70 6f72 7420 5454 5355 7469 6c0a 6672  mport TTSUtil.fr
-00000740: 6f6d 2066 7265 6567 656e 6975 732e 7574  om freegenius.ut
-00000750: 696c 732e 7474 734c 616e 6775 6167 6573  ils.ttsLanguages
-00000760: 2069 6d70 6f72 7420 5474 734c 616e 6775   import TtsLangu
-00000770: 6167 6573 0a66 726f 6d20 6672 6565 6765  ages.from freege
-00000780: 6e69 7573 2e75 7469 6c73 2e73 7472 6561  nius.utils.strea
-00000790: 6d69 6e67 5f77 6f72 645f 7772 6170 7065  ming_word_wrappe
-000007a0: 7220 696d 706f 7274 2053 7472 6561 6d69  r import Streami
-000007b0: 6e67 576f 7264 5772 6170 7065 720a 6672  ngWordWrapper.fr
-000007c0: 6f6d 2066 7265 6567 656e 6975 732e 7574  om freegenius.ut
-000007d0: 696c 732e 7465 7874 5f75 7469 6c73 2069  ils.text_utils i
-000007e0: 6d70 6f72 7420 5465 7874 5574 696c 0a66  mport TextUtil.f
-000007f0: 726f 6d20 6672 6565 6765 6e69 7573 2e75  rom freegenius.u
-00000800: 7469 6c73 2e73 7474 4c61 6e67 7561 6765  tils.sttLanguage
-00000810: 7320 696d 706f 7274 2067 6f6f 676c 6553  s import googleS
-00000820: 7065 6563 6b54 6f54 6578 744c 616e 6775  peeckToTextLangu
-00000830: 6167 6573 2c20 7768 6973 7065 7253 7065  ages, whisperSpe
-00000840: 6563 6b54 6f54 6578 744c 616e 6775 6167  eckToTextLanguag
-00000850: 6573 0a66 726f 6d20 6672 6565 6765 6e69  es.from freegeni
-00000860: 7573 2e63 6861 7467 7074 2069 6d70 6f72  us.chatgpt impor
-00000870: 7420 4368 6174 4750 540a 6672 6f6d 2066  t ChatGPT.from f
-00000880: 7265 6567 656e 6975 732e 6c6c 616d 6163  reegenius.llamac
-00000890: 7070 2069 6d70 6f72 7420 4c6c 616d 6163  pp import Llamac
-000008a0: 7070 4368 6174 0a66 726f 6d20 6672 6565  ppChat.from free
-000008b0: 6765 6e69 7573 2e6f 6c6c 616d 6163 6861  genius.ollamacha
-000008c0: 7420 696d 706f 7274 204f 6c6c 616d 6143  t import OllamaC
-000008d0: 6861 740a 6966 206e 6f74 2063 6f6e 6669  hat.if not confi
-000008e0: 672e 6973 5465 726d 7578 3a0a 2020 2020  g.isTermux:.    
-000008f0: 6672 6f6d 2066 7265 6567 656e 6975 732e  from freegenius.
-00000900: 6175 746f 6275 696c 6465 7220 696d 706f  autobuilder impo
-00000910: 7274 2041 7574 6f47 656e 4275 696c 6465  rt AutoGenBuilde
-00000920: 720a 2020 2020 6672 6f6d 2066 7265 6567  r.    from freeg
-00000930: 656e 6975 732e 6765 6d69 6e69 7072 6f20  enius.geminipro 
-00000940: 696d 706f 7274 2047 656d 696e 6950 726f  import GeminiPro
-00000950: 0a20 2020 2066 726f 6d20 6672 6565 6765  .    from freege
-00000960: 6e69 7573 2e70 616c 6d32 2069 6d70 6f72  nius.palm2 impor
-00000970: 7420 5061 6c6d 320a 2020 2020 6672 6f6d  t Palm2.    from
-00000980: 2066 7265 6567 656e 6975 732e 636f 6465   freegenius.code
-00000990: 7920 696d 706f 7274 2043 6f64 6579 0a66  y import Codey.f
-000009a0: 726f 6d20 656c 6576 656e 6c61 6273 2e63  rom elevenlabs.c
-000009b0: 6c69 656e 7420 696d 706f 7274 2045 6c65  lient import Ele
-000009c0: 7665 6e4c 6162 730a 0a0a 636c 6173 7320  venLabs...class 
-000009d0: 4672 6565 4765 6e69 7573 3a0a 0a20 2020  FreeGenius:..   
-000009e0: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
-000009f0: 6c66 293a 0a20 2020 2020 2020 2023 636f  lf):.        #co
-00000a00: 6e66 6967 2e6c 6574 4d65 446f 4974 4149  nfig.letMeDoItAI
-00000a10: 203d 2073 656c 660a 2020 2020 2020 2020   = self.        
-00000a20: 7365 6c66 2e70 726f 6d70 7473 203d 2050  self.prompts = P
-00000a30: 726f 6d70 7473 2829 0a20 2020 2020 2020  rompts().       
-00000a40: 2073 656c 662e 6469 616c 6f67 7320 3d20   self.dialogs = 
-00000a50: 5465 726d 696e 616c 4d6f 6465 4469 616c  TerminalModeDial
-00000a60: 6f67 7328 7365 6c66 290a 2020 2020 2020  ogs(self).      
-00000a70: 2020 7365 6c66 2e73 6574 7570 2829 0a20    self.setup(). 
-00000a80: 2020 2020 2020 2050 6c75 6769 6e73 2e72         Plugins.r
-00000a90: 756e 506c 7567 696e 7328 290a 0a20 2020  unPlugins()..   
-00000aa0: 2064 6566 2073 6574 7570 2873 656c 6629   def setup(self)
-00000ab0: 3a0a 2020 2020 2020 2020 2320 7365 7420  :.        # set 
-00000ac0: 7570 2074 6f6f 6c20 7374 6f72 6520 636c  up tool store cl
-00000ad0: 6965 6e74 0a20 2020 2020 2020 2054 6f6f  ient.        Too
-00000ae0: 6c53 746f 7265 2e73 6574 7570 546f 6f6c  lStore.setupTool
-00000af0: 5374 6f72 6543 6c69 656e 7428 290a 0a20  StoreClient().. 
-00000b00: 2020 2020 2020 2073 656c 662e 6d6f 6465         self.mode
-00000b10: 6c73 203d 206c 6973 7428 746f 6b65 6e4c  ls = list(tokenL
-00000b20: 696d 6974 732e 6b65 7973 2829 290a 2020  imits.keys()).  
-00000b30: 2020 2020 2020 636f 6e66 6967 2e64 6976        config.div
-00000b40: 6964 6572 203d 2073 656c 662e 6469 7669  ider = self.divi
-00000b50: 6465 7220 3d20 222d 2d2d 2d2d 2d2d 2d2d  der = "---------
-00000b60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d22 0a20 2020  -----------".   
-00000b70: 2020 2020 2063 6f6e 6669 672e 7275 6e50       config.runP
-00000b80: 7974 686f 6e20 3d20 5472 7565 0a20 2020  ython = True.   
-00000b90: 2020 2020 2069 6620 6e6f 7420 6861 7361       if not hasa
-00000ba0: 7474 7228 636f 6e66 6967 2c20 2261 6363  ttr(config, "acc
-00000bb0: 6570 745f 6465 6661 756c 7422 293a 0a20  ept_default"):. 
-00000bc0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00000bd0: 672e 6163 6365 7074 5f64 6566 6175 6c74  g.accept_default
-00000be0: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
-00000bf0: 2069 6620 6e6f 7420 6861 7361 7474 7228   if not hasattr(
-00000c00: 636f 6e66 6967 2c20 2264 6566 6175 6c74  config, "default
-00000c10: 456e 7472 7922 293a 0a20 2020 2020 2020  Entry"):.       
-00000c20: 2020 2020 2063 6f6e 6669 672e 6465 6661       config.defa
-00000c30: 756c 7445 6e74 7279 203d 2022 220a 2020  ultEntry = "".  
-00000c40: 2020 2020 2020 636f 6e66 6967 2e74 656d        config.tem
-00000c50: 7043 6f6e 7465 6e74 203d 2022 220a 2020  pContent = "".  
-00000c60: 2020 2020 2020 636f 6e66 6967 2e74 656d        config.tem
-00000c70: 7043 6875 6e6b 203d 2022 220a 2020 2020  pChunk = "".    
-00000c80: 2020 2020 6966 206e 6f74 2068 6173 6174      if not hasat
-00000c90: 7472 2863 6f6e 6669 672c 2022 7072 6564  tr(config, "pred
-00000ca0: 6566 696e 6564 436f 6e74 6578 7454 656d  efinedContextTem
-00000cb0: 7022 293a 0a20 2020 2020 2020 2020 2020  p"):.           
-00000cc0: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
-00000cd0: 6564 436f 6e74 6578 7454 656d 7020 3d20  edContextTemp = 
-00000ce0: 2222 0a20 2020 2020 2020 2063 6f6e 6669  "".        confi
-00000cf0: 672e 7379 7374 656d 436f 6d6d 616e 6450  g.systemCommandP
-00000d00: 726f 6d70 7445 6e74 7279 203d 2022 220a  romptEntry = "".
-00000d10: 2020 2020 2020 2020 636f 6e66 6967 2e70          config.p
-00000d20: 6167 6572 436f 6e74 656e 7420 3d20 2222  agerContent = ""
-00000d30: 0a20 2020 2020 2020 2023 7365 6c66 2e61  .        #self.a
-00000d40: 6464 5061 6765 7243 6f6e 7465 6e74 203d  ddPagerContent =
-00000d50: 2046 616c 7365 0a20 2020 2020 2020 2023   False.        #
-00000d60: 2073 6861 7265 2074 6865 2066 6f6c 6c6f   share the follo
-00000d70: 7769 6e67 206d 6574 686f 6473 2069 6e20  wing methods in 
-00000d80: 636f 6e66 6967 2073 6f20 7468 6174 2074  config so that t
-00000d90: 6865 7920 6172 6520 6163 6365 7373 6962  hey are accessib
-00000da0: 6c65 2076 6961 2070 6c75 6769 6e73 0a20  le via plugins. 
-00000db0: 2020 2020 2020 2063 6f6e 6669 672e 746f         config.to
-00000dc0: 6767 6c65 4d75 6c74 696c 696e 6520 3d20  ggleMultiline = 
-00000dd0: 7365 6c66 2e74 6f67 676c 654d 756c 7469  self.toggleMulti
-00000de0: 6c69 6e65 0a20 2020 2020 2020 2063 6f6e  line.        con
-00000df0: 6669 672e 6765 7457 7261 7070 6564 4854  fig.getWrappedHT
-00000e00: 4d4c 5465 7874 203d 2073 656c 662e 6765  MLText = self.ge
-00000e10: 7457 7261 7070 6564 4854 4d4c 5465 7874  tWrappedHTMLText
-00000e20: 0a20 2020 2020 2020 2063 6f6e 6669 672e  .        config.
-00000e30: 6669 6e65 5475 6e65 5573 6572 496e 7075  fineTuneUserInpu
-00000e40: 7420 3d20 7365 6c66 2e66 696e 6554 756e  t = self.fineTun
-00000e50: 6555 7365 7249 6e70 7574 0a20 2020 2020  eUserInput.     
-00000e60: 2020 2063 6f6e 6669 672e 6c61 756e 6368     config.launch
-00000e70: 5061 6765 7220 3d20 7365 6c66 2e6c 6175  Pager = self.lau
-00000e80: 6e63 6850 6167 6572 0a20 2020 2020 2020  nchPager.       
-00000e90: 2063 6f6e 6669 672e 6164 6450 6167 6572   config.addPager
-00000ea0: 5465 7874 203d 2073 656c 662e 6164 6450  Text = self.addP
-00000eb0: 6167 6572 5465 7874 0a20 2020 2020 2020  agerText.       
-00000ec0: 2063 6f6e 6669 672e 6368 616e 6765 4f70   config.changeOp
-00000ed0: 656e 7765 6174 6865 726d 6170 4170 6920  enweathermapApi 
-00000ee0: 3d20 7365 6c66 2e63 6861 6e67 654f 7065  = self.changeOpe
-00000ef0: 6e77 6561 7468 6572 6d61 7041 7069 0a20  nweathermapApi. 
-00000f00: 2020 2020 2020 2063 6f6e 6669 672e 7365         config.se
-00000f10: 6c65 6374 6564 546f 6f6c 203d 2022 220a  lectedTool = "".
-00000f20: 2020 2020 2020 2020 2320 656e 7620 7661          # env va
-00000f30: 7269 6162 6c65 730a 2020 2020 2020 2020  riables.        
-00000f40: 6f73 2e65 6e76 6972 6f6e 5b22 5154 5f51  os.environ["QT_Q
-00000f50: 5041 5f50 4c41 5446 4f52 4d5f 504c 5547  PA_PLATFORM_PLUG
-00000f60: 494e 5f50 4154 4822 5d20 3d20 636f 6e66  IN_PATH"] = conf
-00000f70: 6967 2e65 6e76 5f51 545f 5150 415f 504c  ig.env_QT_QPA_PL
-00000f80: 4154 464f 524d 5f50 4c55 4749 4e5f 5041  ATFORM_PLUGIN_PA
-00000f90: 5448 0a0a 2020 2020 2020 2020 2320 6765  TH..        # ge
-00000fa0: 7420 7061 7468 0a20 2020 2020 2020 2063  t path.        c
-00000fb0: 6f6e 6669 672e 6164 6450 6174 6841 7420  onfig.addPathAt 
-00000fc0: 3d20 4e6f 6e65 0a20 2020 2020 2020 2073  = None.        s
-00000fd0: 656c 662e 6765 7450 6174 6820 3d20 4765  elf.getPath = Ge
-00000fe0: 7450 6174 6828 0a20 2020 2020 2020 2020  tPath(.         
-00000ff0: 2020 2063 616e 6365 6c5f 656e 7472 793d     cancel_entry=
-00001000: 2222 2c0a 2020 2020 2020 2020 2020 2020  "",.            
-00001010: 7072 6f6d 7074 496e 6469 6361 746f 7243  promptIndicatorC
-00001020: 6f6c 6f72 3d63 6f6e 6669 672e 7465 726d  olor=config.term
-00001030: 696e 616c 5072 6f6d 7074 496e 6469 6361  inalPromptIndica
-00001040: 746f 7243 6f6c 6f72 322c 0a20 2020 2020  torColor2,.     
-00001050: 2020 2020 2020 2070 726f 6d70 7445 6e74         promptEnt
-00001060: 7279 436f 6c6f 723d 636f 6e66 6967 2e74  ryColor=config.t
-00001070: 6572 6d69 6e61 6c43 6f6d 6d61 6e64 456e  erminalCommandEn
-00001080: 7472 7943 6f6c 6f72 322c 0a20 2020 2020  tryColor2,.     
-00001090: 2020 2020 2020 2073 7562 4865 6164 696e         subHeadin
-000010a0: 6743 6f6c 6f72 3d63 6f6e 6669 672e 7465  gColor=config.te
-000010b0: 726d 696e 616c 436f 6c6f 7273 5b63 6f6e  rminalColors[con
-000010c0: 6669 672e 7465 726d 696e 616c 5072 6f6d  fig.terminalProm
-000010d0: 7074 496e 6469 6361 746f 7243 6f6c 6f72  ptIndicatorColor
-000010e0: 325d 2c0a 2020 2020 2020 2020 2020 2020  2],.            
-000010f0: 6974 656d 436f 6c6f 723d 636f 6e66 6967  itemColor=config
-00001100: 2e74 6572 6d69 6e61 6c43 6f6c 6f72 735b  .terminalColors[
-00001110: 636f 6e66 6967 2e74 6572 6d69 6e61 6c43  config.terminalC
-00001120: 6f6d 6d61 6e64 456e 7472 7943 6f6c 6f72  ommandEntryColor
-00001130: 325d 2c0a 2020 2020 2020 2020 290a 0a20  2],.        ).. 
-00001140: 2020 2020 2020 2023 2068 6973 6f74 7279         # hisotry
-00001150: 2064 6972 6563 746f 7279 0a20 2020 2020   directory.     
-00001160: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-00001170: 2020 2020 6869 7374 6f72 7950 6172 656e      historyParen
-00001180: 7446 6f6c 6465 7220 3d20 6f73 2e70 6174  tFolder = os.pat
-00001190: 682e 6a6f 696e 2863 6f6e 6669 672e 6c6f  h.join(config.lo
-000011a0: 6361 6c53 746f 7261 6765 2c20 2268 6973  calStorage, "his
-000011b0: 746f 7279 2229 0a20 2020 2020 2020 2020  tory").         
-000011c0: 2020 2050 6174 6828 6869 7374 6f72 7950     Path(historyP
-000011d0: 6172 656e 7446 6f6c 6465 7229 2e6d 6b64  arentFolder).mkd
-000011e0: 6972 2870 6172 656e 7473 3d54 7275 652c  ir(parents=True,
-000011f0: 2065 7869 7374 5f6f 6b3d 5472 7565 290a   exist_ok=True).
-00001200: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00001210: 6920 696e 2028 2263 6861 7473 222c 2022  i in ("chats", "
-00001220: 7061 7468 7322 2c20 2263 6f6d 6d61 6e64  paths", "command
-00001230: 7322 293a 0a20 2020 2020 2020 2020 2020  s"):.           
-00001240: 2020 2020 2068 6973 746f 7279 4669 6c65       historyFile
-00001250: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-00001260: 6869 7374 6f72 7950 6172 656e 7446 6f6c  historyParentFol
-00001270: 6465 722c 2069 290a 2020 2020 2020 2020  der, i).        
-00001280: 2020 2020 2020 2020 6966 206e 6f74 206f          if not o
-00001290: 732e 7061 7468 2e69 7366 696c 6528 6869  s.path.isfile(hi
-000012a0: 7374 6f72 7946 696c 6529 3a0a 2020 2020  storyFile):.    
-000012b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000012c0: 6f70 656e 2868 6973 746f 7279 4669 6c65  open(historyFile
-000012d0: 2c20 2261 222c 2065 6e63 6f64 696e 673d  , "a", encoding=
-000012e0: 2275 7466 2d38 2229 2e63 6c6f 7365 2829  "utf-8").close()
-000012f0: 0a20 2020 2020 2020 2065 7863 6570 743a  .        except:
-00001300: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00001310: 6e74 2822 4661 696c 6564 2073 6176 696e  nt("Failed savin
-00001320: 6720 6869 7374 6f72 7921 2229 0a20 2020  g history!").   
-00001330: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
-00001340: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
-00001350: 200a 2020 2020 2020 2020 6966 206e 6f74   .        if not
-00001360: 2063 6f6e 6669 672e 6f70 656e 6169 4170   config.openaiAp
-00001370: 694b 6579 3a0a 2020 2020 2020 2020 2020  iKey:.          
-00001380: 2020 7365 6c66 2e63 6861 6e67 6543 6861    self.changeCha
-00001390: 7447 5054 4150 496b 6579 2829 0a0a 2020  tGPTAPIkey()..  
-000013a0: 2020 2020 2020 6966 206e 6f74 2063 6f6e        if not con
-000013b0: 6669 672e 6f70 656e 6169 4170 694b 6579  fig.openaiApiKey
-000013c0: 3a0a 2020 2020 2020 2020 2020 2020 7072  :.            pr
-000013d0: 696e 7432 2822 4368 6174 4750 5420 4150  int2("ChatGPT AP
-000013e0: 4920 6b65 7920 6e6f 7420 666f 756e 6421  I key not found!
-000013f0: 2229 0a20 2020 2020 2020 2020 2020 2070  ").            p
-00001400: 7269 6e74 3328 2252 6561 643a 2068 7474  rint3("Read: htt
-00001410: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00001420: 656c 6972 616e 776f 6e67 2f6c 6574 6d65  eliranwong/letme
-00001430: 646f 6974 2f77 696b 692f 4368 6174 4750  doit/wiki/ChatGP
-00001440: 542d 4150 492d 4b65 7922 290a 2020 2020  T-API-Key").    
-00001450: 2020 2020 2020 2020 6578 6974 2830 290a          exit(0).
-00001460: 0a20 2020 2020 2020 2023 2069 6e69 7469  .        # initi
-00001470: 616c 2063 6f6d 706c 6574 696f 6e20 6368  al completion ch
-00001480: 6563 6b20 6174 2073 7461 7274 7570 0a20  eck at startup. 
-00001490: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
-000014a0: 2e69 6e69 7469 616c 436f 6d70 6c65 7469  .initialCompleti
-000014b0: 6f6e 4368 6563 6b3a 0a20 2020 2020 2020  onCheck:.       
-000014c0: 2020 2020 2043 616c 6c4c 4c4d 2e63 6865       CallLLM.che
-000014d0: 636b 436f 6d70 6c65 7469 6f6e 2829 0a0a  ckCompletion()..
-000014e0: 2020 2020 2020 2020 6368 6174 5f68 6973          chat_his
-000014f0: 746f 7279 203d 206f 732e 7061 7468 2e6a  tory = os.path.j
-00001500: 6f69 6e28 636f 6e66 6967 2e6c 6f63 616c  oin(config.local
-00001510: 5374 6f72 6167 652c 2022 6869 7374 6f72  Storage, "histor
-00001520: 7922 2c20 2263 6861 7473 2229 0a20 2020  y", "chats").   
-00001530: 2020 2020 2073 656c 662e 7465 726d 696e       self.termin
-00001540: 616c 5f63 6861 745f 7365 7373 696f 6e20  al_chat_session 
-00001550: 3d20 5072 6f6d 7074 5365 7373 696f 6e28  = PromptSession(
-00001560: 6869 7374 6f72 793d 4669 6c65 4869 7374  history=FileHist
-00001570: 6f72 7928 6368 6174 5f68 6973 746f 7279  ory(chat_history
-00001580: 2929 0a0a 2020 2020 2020 2020 2320 6368  ))..        # ch
-00001590: 6563 6b20 6966 2074 7473 2069 7320 7265  eck if tts is re
-000015a0: 6164 790a 2020 2020 2020 2020 7365 6c66  ady.        self
-000015b0: 2e69 7354 7473 4176 6169 6c61 626c 6528  .isTtsAvailable(
-000015c0: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
-000015d0: 6163 7469 6f6e 7320 3d20 7b0a 2020 2020  actions = {.    
-000015e0: 2020 2020 2020 2020 222e 6e65 7722 3a20          ".new": 
-000015f0: 2866 2273 7461 7274 2061 206e 6577 2063  (f"start a new c
-00001600: 6861 7420 7b73 7472 2863 6f6e 6669 672e  hat {str(config.
-00001610: 686f 746b 6579 5f6e 6577 297d 222c 204e  hotkey_new)}", N
-00001620: 6f6e 6529 2c0a 2020 2020 2020 2020 2020  one),.          
-00001630: 2020 222e 7361 7665 223a 2028 2273 6176    ".save": ("sav
-00001640: 6520 636f 6e74 656e 7422 2c20 6c61 6d62  e content", lamb
-00001650: 6461 3a20 7365 6c66 2e73 6176 6543 6861  da: self.saveCha
-00001660: 7428 636f 6e66 6967 2e63 7572 7265 6e74  t(config.current
-00001670: 4d65 7373 6167 6573 2929 2c0a 2020 2020  Messages)),.    
-00001680: 2020 2020 2020 2020 222e 6578 706f 7274          ".export
-00001690: 223a 2028 6622 6578 706f 7274 2063 6f6e  ": (f"export con
-000016a0: 7465 6e74 207b 7374 7228 636f 6e66 6967  tent {str(config
-000016b0: 2e68 6f74 6b65 795f 6578 706f 7274 297d  .hotkey_export)}
-000016c0: 222c 206c 616d 6264 613a 2073 656c 662e  ", lambda: self.
-000016d0: 6578 706f 7274 4368 6174 2863 6f6e 6669  exportChat(confi
-000016e0: 672e 6375 7272 656e 744d 6573 7361 6765  g.currentMessage
-000016f0: 7329 292c 0a20 2020 2020 2020 2020 2020  s)),.           
-00001700: 2022 2e63 6f6e 7465 7874 223a 2028 6622   ".context": (f"
-00001710: 6368 616e 6765 2063 6861 7420 636f 6e74  change chat cont
-00001720: 6578 7420 7b73 7472 2863 6f6e 6669 672e  ext {str(config.
-00001730: 686f 746b 6579 5f73 656c 6563 745f 636f  hotkey_select_co
-00001740: 6e74 6578 7429 7d22 2c20 4e6f 6e65 292c  ntext)}", None),
-00001750: 0a20 2020 2020 2020 2020 2020 2022 2e63  .            ".c
-00001760: 6f6e 7465 7874 696e 7465 6772 6174 696f  ontextintegratio
-00001770: 6e22 3a20 2822 6368 616e 6765 2063 6861  n": ("change cha
-00001780: 7420 636f 6e74 6578 7420 696e 7465 6772  t context integr
-00001790: 6174 696f 6e22 2c20 7365 6c66 2e73 6574  ation", self.set
-000017a0: 436f 6e74 6578 7449 6e74 6567 7261 7469  ContextIntegrati
-000017b0: 6f6e 292c 0a20 2020 2020 2020 2020 2020  on),.           
-000017c0: 2022 2e6d 6f64 656c 223a 2028 2263 6861   ".model": ("cha
-000017d0: 6e67 6520 6c61 7267 6520 6c61 6e67 7561  nge large langua
-000017e0: 6765 206d 6f64 656c 222c 2073 656c 662e  ge model", self.
-000017f0: 7365 744c 6c6d 4d6f 6465 6c29 2c0a 2020  setLlmModel),.  
-00001800: 2020 2020 2020 2020 2020 2322 2e63 6861            #".cha
-00001810: 746d 6f64 656c 223a 2028 2263 6861 6e67  tmodel": ("chang
-00001820: 6520 6368 6174 2d6f 6e6c 7920 6d6f 6465  e chat-only mode
-00001830: 6c22 2c20 7365 6c66 2e73 6574 4368 6174  l", self.setChat
-00001840: 626f 7429 2c0a 2020 2020 2020 2020 2020  bot),.          
-00001850: 2020 222e 656d 6265 6464 696e 6722 3a20    ".embedding": 
-00001860: 2822 6368 616e 6765 2065 6d62 6564 6469  ("change embeddi
-00001870: 6e67 206d 6f64 656c 222c 2073 656c 662e  ng model", self.
-00001880: 7365 7445 6d62 6564 6469 6e67 4d6f 6465  setEmbeddingMode
-00001890: 6c29 2c0a 2020 2020 2020 2020 2020 2020  l),.            
-000018a0: 222e 6368 616e 6765 6170 696b 6579 223a  ".changeapikey":
-000018b0: 2028 2263 6861 6e67 6520 4f70 656e 4149   ("change OpenAI
-000018c0: 2041 5049 206b 6579 222c 2073 656c 662e   API key", self.
-000018d0: 6368 616e 6765 4368 6174 4750 5441 5049  changeChatGPTAPI
-000018e0: 6b65 7929 2c0a 2020 2020 2020 2020 2020  key),.          
-000018f0: 2020 222e 7465 6d70 6572 6174 7572 6522    ".temperature"
-00001900: 3a20 2822 6368 616e 6765 2074 656d 7065  : ("change tempe
-00001910: 7261 7475 7265 222c 2073 656c 662e 7365  rature", self.se
-00001920: 7454 656d 7065 7261 7475 7265 292c 0a20  tTemperature),. 
-00001930: 2020 2020 2020 2020 2020 2022 2e6d 6178             ".max
-00001940: 746f 6b65 6e73 223a 2028 2263 6861 6e67  tokens": ("chang
-00001950: 6520 6d61 7869 6d75 6d20 6f75 7470 7574  e maximum output
-00001960: 2074 6f6b 656e 7322 2c20 7365 6c66 2e73   tokens", self.s
-00001970: 6574 4d61 7854 6f6b 656e 7329 2c0a 2020  etMaxTokens),.  
-00001980: 2020 2020 2020 2020 2020 222e 6d69 6e74            ".mint
-00001990: 6f6b 656e 7322 3a20 2822 6368 616e 6765  okens": ("change
-000019a0: 206d 696e 696d 756d 206f 7574 7075 7420   minimum output 
-000019b0: 746f 6b65 6e73 222c 2073 656c 662e 7365  tokens", self.se
-000019c0: 744d 696e 546f 6b65 6e73 292c 0a20 2020  tMinTokens),.   
-000019d0: 2020 2020 2020 2020 2022 2e64 796e 616d           ".dynam
-000019e0: 6963 746f 6b65 6e63 6f75 6e74 223a 2028  ictokencount": (
-000019f0: 2263 6861 6e67 6520 6479 6e61 6d69 6320  "change dynamic 
-00001a00: 746f 6b65 6e20 636f 756e 7422 2c20 7365  token count", se
-00001a10: 6c66 2e73 6574 4479 6e61 6d69 6354 6f6b  lf.setDynamicTok
-00001a20: 656e 436f 756e 7429 2c0a 2020 2020 2020  enCount),.      
-00001a30: 2020 2020 2020 222e 6d61 7861 7574 6f63        ".maxautoc
-00001a40: 6f72 7265 6374 223a 2028 2263 6861 6e67  orrect": ("chang
-00001a50: 6520 6d61 7869 6d75 6d20 636f 6e73 6563  e maximum consec
-00001a60: 7574 6976 6520 6175 746f 2d63 6f72 7265  utive auto-corre
-00001a70: 6374 696f 6e22 2c20 7365 6c66 2e73 6574  ction", self.set
-00001a80: 4d61 7841 7574 6f43 6f72 7265 6374 292c  MaxAutoCorrect),
-00001a90: 0a20 2020 2020 2020 2020 2020 2022 2e6d  .            ".m
-00001aa0: 6178 6d65 6d6f 7279 6d61 7463 6865 7322  axmemorymatches"
-00001ab0: 3a20 2822 6368 616e 6765 206d 6178 696d  : ("change maxim
-00001ac0: 756d 206d 656d 6f72 7920 6d61 7463 6865  um memory matche
-00001ad0: 7322 2c20 7365 6c66 2e73 6574 4d65 6d6f  s", self.setMemo
-00001ae0: 7279 436c 6f73 6573 744d 6174 6368 6573  ryClosestMatches
-00001af0: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
-00001b00: 2e6d 6178 6368 6174 7265 636f 7264 6d61  .maxchatrecordma
-00001b10: 7463 6865 7322 3a20 2822 6368 616e 6765  tches": ("change
-00001b20: 206d 6178 696d 756d 2063 6861 7420 7265   maximum chat re
-00001b30: 636f 7264 206d 6174 6368 6573 222c 2073  cord matches", s
-00001b40: 656c 662e 7365 7443 6861 7452 6563 6f72  elf.setChatRecor
-00001b50: 6443 6c6f 7365 7374 4d61 7463 6865 7329  dClosestMatches)
-00001b60: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
-00001b70: 746f 6f6c 7322 3a20 2822 6368 616e 6765  tools": ("change
-00001b80: 2074 6f6f 6c20 7365 6c65 6374 696f 6e20   tool selection 
-00001b90: 636f 6e66 6967 7572 6174 696f 6e73 222c  configurations",
-00001ba0: 2073 656c 662e 7365 7454 6f6f 6c53 656c   self.setToolSel
-00001bb0: 6563 7469 6f6e 436f 6e66 6967 7329 2c0a  ectionConfigs),.
-00001bc0: 2020 2020 2020 2020 2020 2020 222e 706c              ".pl
-00001bd0: 7567 696e 7322 3a20 2822 6368 616e 6765  ugins": ("change
-00001be0: 2070 6c75 6769 6e73 222c 2073 656c 662e   plugins", self.
-00001bf0: 7365 6c65 6374 506c 7567 696e 7329 2c0a  selectPlugins),.
-00001c00: 2020 2020 2020 2020 2020 2020 222e 6675              ".fu
-00001c10: 6e63 7469 6f6e 6361 6c6c 223a 2028 2263  nctioncall": ("c
-00001c20: 6861 6e67 6520 6675 6e63 7469 6f6e 2063  hange function c
-00001c30: 616c 6c22 2c20 7365 6c66 2e73 6574 4675  all", self.setFu
-00001c40: 6e63 7469 6f6e 4361 6c6c 292c 0a20 2020  nctionCall),.   
-00001c50: 2020 2020 2020 2020 2022 2e66 756e 6374           ".funct
-00001c60: 696f 6e63 616c 6c69 6e74 6567 7261 7469  ioncallintegrati
-00001c70: 6f6e 223a 2028 2263 6861 6e67 6520 6675  on": ("change fu
-00001c80: 6e63 7469 6f6e 2063 616c 6c20 696e 7465  nction call inte
-00001c90: 6772 6174 696f 6e22 2c20 7365 6c66 2e73  gration", self.s
-00001ca0: 6574 4675 6e63 7469 6f6e 5265 7370 6f6e  etFunctionRespon
-00001cb0: 7365 292c 0a20 2020 2020 2020 2020 2020  se),.           
-00001cc0: 2022 2e6c 6174 6573 7453 6561 7263 6865   ".latestSearche
-00001cd0: 7322 3a20 2822 6368 616e 6765 206f 6e6c  s": ("change onl
-00001ce0: 696e 6520 7365 6172 6368 6573 222c 2073  ine searches", s
-00001cf0: 656c 662e 7365 744c 6174 6573 7453 6561  elf.setLatestSea
-00001d00: 7263 6865 7329 2c0a 2020 2020 2020 2020  rches),.        
-00001d10: 2020 2020 222e 7573 6572 636f 6e66 6972      ".userconfir
-00001d20: 6d61 7469 6f6e 223a 2028 2263 6861 6e67  mation": ("chang
-00001d30: 6520 636f 6465 2063 6f6e 6669 726d 6174  e code confirmat
-00001d40: 696f 6e20 7072 6f74 6f63 6f6c 222c 2073  ion protocol", s
-00001d50: 656c 662e 7365 7455 7365 7243 6f6e 6669  elf.setUserConfi
-00001d60: 726d 6174 696f 6e29 2c0a 2020 2020 2020  rmation),.      
-00001d70: 2020 2020 2020 222e 636f 6465 6469 7370        ".codedisp
-00001d80: 6c61 7922 3a20 2822 6368 616e 6765 2063  lay": ("change c
-00001d90: 6f64 6520 6469 7370 6c61 7922 2c20 7365  ode display", se
-00001da0: 6c66 2e73 6574 436f 6465 4469 7370 6c61  lf.setCodeDispla
-00001db0: 7929 2c0a 2020 2020 2020 2020 2020 2020  y),.            
-00001dc0: 222e 7061 6765 7276 6965 7722 3a20 2822  ".pagerview": ("
-00001dd0: 6368 616e 6765 2070 6167 6572 2076 6965  change pager vie
-00001de0: 7722 2c20 7365 6c66 2e73 6574 5061 6765  w", self.setPage
-00001df0: 7256 6965 7729 2c0a 2020 2020 2020 2020  rView),.        
-00001e00: 2020 2020 222e 6173 7369 7374 616e 746e      ".assistantn
-00001e10: 616d 6522 3a20 2822 6368 616e 6765 2061  ame": ("change a
-00001e20: 7373 6973 7461 6e74 206e 616d 6522 2c20  ssistant name", 
-00001e30: 7365 6c66 2e73 6574 4173 7369 7374 616e  self.setAssistan
-00001e40: 744e 616d 6529 2c0a 2020 2020 2020 2020  tName),.        
-00001e50: 2020 2020 222e 7379 7374 656d 6d65 7373      ".systemmess
-00001e60: 6167 6522 3a20 2822 6368 616e 6765 2063  age": ("change c
-00001e70: 7573 746f 6d20 7379 7374 656d 206d 6573  ustom system mes
-00001e80: 7361 6765 222c 2073 656c 662e 7365 7443  sage", self.setC
-00001e90: 7573 746f 6d53 7973 7465 6d4d 6573 7361  ustomSystemMessa
-00001ea0: 6765 292c 0a20 2020 2020 2020 2020 2020  ge),.           
-00001eb0: 2022 2e69 7069 6e66 6f22 3a20 2822 6368   ".ipinfo": ("ch
-00001ec0: 616e 6765 2069 7020 696e 666f 726d 6174  ange ip informat
-00001ed0: 696f 6e20 696e 7465 6772 6174 696f 6e22  ion integration"
-00001ee0: 2c20 7365 6c66 2e73 6574 496e 636c 7564  , self.setInclud
-00001ef0: 6549 7049 6e53 7973 7465 6d4d 6573 7361  eIpInSystemMessa
-00001f00: 6765 292c 0a20 2020 2020 2020 2020 2020  ge),.           
-00001f10: 2022 2e73 746f 7261 6765 6469 7265 6374   ".storagedirect
-00001f20: 6f72 7922 3a20 2822 6368 616e 6765 2073  ory": ("change s
-00001f30: 746f 7261 6765 2064 6972 6563 746f 7279  torage directory
-00001f40: 222c 2073 656c 662e 7365 7453 746f 7261  ", self.setStora
-00001f50: 6765 4469 7265 6374 6f72 7929 2c0a 2020  geDirectory),.  
-00001f60: 2020 2020 2020 2020 2020 222e 766f 6963            ".voic
-00001f70: 6574 7970 696e 6763 6f6e 6669 6722 3a20  etypingconfig": 
-00001f80: 2822 6368 616e 6765 2076 6f69 6365 2074  ("change voice t
-00001f90: 7970 696e 6720 636f 6e66 6967 222c 2073  yping config", s
-00001fa0: 656c 662e 7365 7456 6f69 6365 5479 7069  elf.setVoiceTypi
-00001fb0: 6e67 436f 6e66 6967 292c 0a20 2020 2020  ngConfig),.     
-00001fc0: 2020 2020 2020 2022 2e74 6578 7474 6f73         ".texttos
-00001fd0: 7065 6563 6863 6f6e 6669 6722 3a20 2822  peechconfig": ("
-00001fe0: 6368 616e 6765 2074 6578 742d 746f 2d73  change text-to-s
-00001ff0: 7065 6563 6820 636f 6e66 6967 222c 2073  peech config", s
-00002000: 656c 662e 7365 7454 6578 7454 6f53 7065  elf.setTextToSpe
-00002010: 6563 6843 6f6e 6669 6729 2c0a 2020 2020  echConfig),.    
-00002020: 2020 2020 2020 2020 222e 676f 6f67 6c65          ".google
-00002030: 6170 6973 6572 7669 6365 223a 2028 2263  apiservice": ("c
-00002040: 6861 6e67 6520 476f 6f67 6c65 2041 5049  hange Google API
-00002050: 2073 6572 7669 6365 222c 2073 656c 662e   service", self.
-00002060: 7365 6c65 6374 476f 6f67 6c65 4150 4973  selectGoogleAPIs
-00002070: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
-00002080: 2e6f 7065 6e77 6561 7468 6572 6d61 7061  .openweathermapa
-00002090: 7069 223a 2028 2263 6861 6e67 6520 4f70  pi": ("change Op
-000020a0: 656e 5765 6174 6865 724d 6170 2041 5049  enWeatherMap API
-000020b0: 206b 6579 222c 2073 656c 662e 6368 616e   key", self.chan
-000020c0: 6765 4f70 656e 7765 6174 6865 726d 6170  geOpenweathermap
-000020d0: 4170 6929 2c0a 2020 2020 2020 2020 2020  Api),.          
-000020e0: 2020 222e 656c 6576 656e 6c61 6273 6170    ".elevenlabsap
-000020f0: 6922 3a20 2822 6368 616e 6765 2045 6c65  i": ("change Ele
-00002100: 7665 6e4c 6162 7320 4150 4920 6b65 7922  venLabs API key"
-00002110: 2c20 7365 6c66 2e63 6861 6e67 6545 6c65  , self.changeEle
-00002120: 7665 6e6c 6162 7341 7069 292c 0a20 2020  venlabsApi),.   
-00002130: 2020 2020 2020 2020 2022 2e61 7574 6f62           ".autob
-00002140: 7569 6c64 6572 636f 6e66 6967 223a 2028  uilderconfig": (
-00002150: 2263 6861 6e67 6520 6175 746f 2062 7569  "change auto bui
-00002160: 6c64 6572 2063 6f6e 6669 6722 2c20 7365  lder config", se
-00002170: 6c66 2e73 6574 4175 746f 4765 6e42 7569  lf.setAutoGenBui
-00002180: 6c64 6572 436f 6e66 6967 292c 0a20 2020  lderConfig),.   
-00002190: 2020 2020 2020 2020 2022 2e63 7573 746f           ".custo
-000021a0: 6d74 6578 7465 6469 746f 7222 3a20 2822  mtexteditor": ("
-000021b0: 6368 616e 6765 2063 7573 746f 6d20 7465  change custom te
-000021c0: 7874 2065 6469 746f 7222 2c20 7365 6c66  xt editor", self
-000021d0: 2e73 6574 4375 7374 6f6d 5465 7874 4564  .setCustomTextEd
-000021e0: 6974 6f72 292c 0a20 2020 2020 2020 2020  itor),.         
-000021f0: 2020 2022 2e74 6572 6d75 7861 7069 223a     ".termuxapi":
-00002200: 2028 2263 6861 6e67 6520 5465 726d 7578   ("change Termux
-00002210: 2041 5049 2069 6e74 6567 7261 7469 6f6e   API integration
-00002220: 222c 2073 656c 662e 7365 7454 6572 6d75  ", self.setTermu
-00002230: 7841 7069 292c 0a20 2020 2020 2020 2020  xApi),.         
-00002240: 2020 2022 2e61 7574 6f75 7067 7261 6465     ".autoupgrade
-00002250: 223a 2028 2263 6861 6e67 6520 6175 746f  ": ("change auto
-00002260: 6d61 7469 6320 7570 6772 6164 6522 2c20  matic upgrade", 
-00002270: 7365 6c66 2e73 6574 4175 746f 5570 6772  self.setAutoUpgr
-00002280: 6164 6529 2c0a 2020 2020 2020 2020 2020  ade),.          
-00002290: 2020 222e 6465 7665 6c6f 7065 7222 3a20    ".developer": 
-000022a0: 2866 2263 6861 6e67 6520 6465 7665 6c6f  (f"change develo
-000022b0: 7065 7220 6d6f 6465 207b 7374 7228 636f  per mode {str(co
-000022c0: 6e66 6967 2e68 6f74 6b65 795f 746f 6767  nfig.hotkey_togg
-000022d0: 6c65 5f64 6576 656c 6f70 6572 5f6d 6f64  le_developer_mod
-000022e0: 6529 7d22 2c20 7365 6c66 2e73 6574 4465  e)}", self.setDe
-000022f0: 7665 6c6f 7065 724d 6f64 6529 2c0a 2020  veloperMode),.  
-00002300: 2020 2020 2020 2020 2020 222e 746f 6767            ".togg
-00002310: 6c65 6d75 6c74 696c 696e 6522 3a20 2866  lemultiline": (f
-00002320: 2274 6f67 676c 6520 6d75 6c74 692d 6c69  "toggle multi-li
-00002330: 6e65 2069 6e70 7574 207b 7374 7228 636f  ne input {str(co
-00002340: 6e66 6967 2e68 6f74 6b65 795f 746f 6767  nfig.hotkey_togg
-00002350: 6c65 5f6d 756c 7469 6c69 6e65 5f65 6e74  le_multiline_ent
-00002360: 7279 297d 222c 2073 656c 662e 746f 6767  ry)}", self.togg
-00002370: 6c65 4d75 6c74 696c 696e 6529 2c0a 2020  leMultiline),.  
-00002380: 2020 2020 2020 2020 2020 222e 746f 6767            ".togg
-00002390: 6c65 6d6f 7573 6573 7570 706f 7274 223a  lemousesupport":
-000023a0: 2028 6622 746f 6f67 6c65 206d 6f75 7365   (f"toogle mouse
-000023b0: 2073 7570 706f 7274 207b 7374 7228 636f   support {str(co
-000023c0: 6e66 6967 2e68 6f74 6b65 795f 746f 6767  nfig.hotkey_togg
-000023d0: 6c65 5f6d 6f75 7365 5f73 7570 706f 7274  le_mouse_support
-000023e0: 297d 222c 2073 656c 662e 746f 6767 6c65  )}", self.toggle
-000023f0: 4d6f 7573 6553 7570 706f 7274 292c 0a20  MouseSupport),. 
-00002400: 2020 2020 2020 2020 2020 2022 2e74 6f67             ".tog
-00002410: 676c 6574 6578 7462 7269 6768 746e 6573  gletextbrightnes
-00002420: 7322 3a20 2866 2273 7761 7020 7465 7874  s": (f"swap text
-00002430: 2062 7269 6768 746e 6573 7320 7b73 7472   brightness {str
-00002440: 2863 6f6e 6669 672e 686f 746b 6579 5f73  (config.hotkey_s
-00002450: 7761 705f 7465 7874 5f62 7269 6768 746e  wap_text_brightn
-00002460: 6573 7329 7d22 2c20 7377 6170 5465 726d  ess)}", swapTerm
-00002470: 696e 616c 436f 6c6f 7273 292c 0a20 2020  inalColors),.   
-00002480: 2020 2020 2020 2020 2022 2e74 6f67 676c           ".toggl
-00002490: 6577 6f72 6477 7261 7022 3a20 2866 2274  ewordwrap": (f"t
-000024a0: 6f67 676c 6520 776f 7264 2077 7261 7020  oggle word wrap 
-000024b0: 7b73 7472 2863 6f6e 6669 672e 686f 746b  {str(config.hotk
-000024c0: 6579 5f74 6f67 676c 655f 776f 7264 5f77  ey_toggle_word_w
-000024d0: 7261 7029 7d22 2c20 7365 6c66 2e74 6f67  rap)}", self.tog
-000024e0: 676c 6557 6f72 6457 7261 7029 2c0a 2020  gleWordWrap),.  
-000024f0: 2020 2020 2020 2020 2020 222e 746f 6767            ".togg
-00002500: 6c65 696d 7072 6f76 6564 7772 6974 696e  leimprovedwritin
-00002510: 6722 3a20 2866 2274 6f67 676c 6520 696d  g": (f"toggle im
-00002520: 7072 6f76 6564 2077 7269 7469 6e67 207b  proved writing {
-00002530: 7374 7228 636f 6e66 6967 2e68 6f74 6b65  str(config.hotke
-00002540: 795f 746f 6767 6c65 5f77 7269 7469 6e67  y_toggle_writing
-00002550: 5f69 6d70 726f 7665 6d65 6e74 297d 222c  _improvement)}",
-00002560: 2073 656c 662e 746f 6767 6c65 496d 7072   self.toggleImpr
-00002570: 6f76 6564 5772 6974 696e 6729 2c0a 2020  ovedWriting),.  
-00002580: 2020 2020 2020 2020 2020 222e 746f 6767            ".togg
-00002590: 6c65 696e 7075 7461 7564 696f 223a 2028  leinputaudio": (
-000025a0: 6622 746f 6767 6c65 2069 6e70 7574 2061  f"toggle input a
-000025b0: 7564 696f 207b 7374 7228 636f 6e66 6967  udio {str(config
-000025c0: 2e68 6f74 6b65 795f 746f 6767 6c65 5f69  .hotkey_toggle_i
-000025d0: 6e70 7574 5f61 7564 696f 297d 222c 2073  nput_audio)}", s
-000025e0: 656c 662e 746f 6767 6c65 696e 7075 7461  elf.toggleinputa
-000025f0: 7564 696f 292c 0a20 2020 2020 2020 2020  udio),.         
-00002600: 2020 2022 2e74 6f67 676c 6572 6573 706f     ".togglerespo
-00002610: 6e73 6561 7564 696f 223a 2028 6622 746f  nseaudio": (f"to
-00002620: 6767 6c65 2072 6573 706f 6e73 6520 6175  ggle response au
-00002630: 6469 6f20 7b73 7472 2863 6f6e 6669 672e  dio {str(config.
-00002640: 686f 746b 6579 5f74 6f67 676c 655f 7265  hotkey_toggle_re
-00002650: 7370 6f6e 7365 5f61 7564 696f 297d 222c  sponse_audio)}",
-00002660: 2073 656c 662e 746f 6767 6c65 7265 7370   self.toggleresp
-00002670: 6f6e 7365 6175 6469 6f29 2c0a 2020 2020  onseaudio),.    
-00002680: 2020 2020 2020 2020 222e 636f 6465 223a          ".code":
-00002690: 2028 6622 6578 7472 6163 7420 7468 6520   (f"extract the 
-000026a0: 7079 7468 6f6e 2063 6f64 6520 6672 6f6d  python code from
-000026b0: 2074 6865 206c 6173 7420 7265 7370 6f6e   the last respon
-000026c0: 7365 222c 2073 656c 662e 6578 7472 6163  se", self.extrac
-000026d0: 7450 7974 686f 6e43 6f64 6546 726f 6d4c  tPythonCodeFromL
-000026e0: 6173 7452 6573 706f 6e73 6529 2c0a 2020  astResponse),.  
-000026f0: 2020 2020 2020 2020 2020 222e 7275 6e22            ".run"
-00002700: 3a20 2866 2272 756e 2074 6865 2070 7974  : (f"run the pyt
-00002710: 686f 6e20 636f 6465 2069 6e20 7468 6520  hon code in the 
-00002720: 6c61 7374 2072 6573 706f 6e73 6522 2c20  last response", 
-00002730: 7365 6c66 2e72 756e 5079 7468 6f6e 436f  self.runPythonCo
-00002740: 6465 496e 4c61 7374 5265 7370 6f6e 7365  deInLastResponse
-00002750: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
-00002760: 2e65 6469 7472 6573 706f 6e73 6522 3a20  .editresponse": 
-00002770: 2866 2265 6469 7420 7468 6520 6c61 7374  (f"edit the last
-00002780: 2072 6573 706f 6e73 6520 7b73 7472 2863   response {str(c
-00002790: 6f6e 6669 672e 686f 746b 6579 5f65 6469  onfig.hotkey_edi
-000027a0: 745f 6c61 7374 5f72 6573 706f 6e73 6529  t_last_response)
-000027b0: 7d22 2c20 7365 6c66 2e65 6469 744c 6173  }", self.editLas
-000027c0: 7452 6573 706f 6e73 6529 2c0a 2020 2020  tResponse),.    
-000027d0: 2020 2020 2020 2020 222e 6564 6974 636f          ".editco
-000027e0: 6e66 6967 7322 3a20 2822 6564 6974 2063  nfigs": ("edit c
-000027f0: 6f6e 6669 6775 7261 7469 6f6e 2073 6574  onfiguration set
-00002800: 7469 6e67 7322 2c20 7365 6c66 2e65 6469  tings", self.edi
-00002810: 7443 6f6e 6669 6773 292c 0a20 2020 2020  tConfigs),.     
-00002820: 2020 2020 2020 2022 2e69 6e73 7461 6c6c         ".install
-00002830: 223a 2028 2269 6e73 7461 6c6c 2070 7974  ": ("install pyt
-00002840: 686f 6e20 7061 636b 6167 6522 2c20 7365  hon package", se
-00002850: 6c66 2e69 6e73 7461 6c6c 5079 7468 6f6e  lf.installPython
-00002860: 5061 636b 6167 6529 2c0a 2020 2020 2020  Package),.      
-00002870: 2020 2020 2020 222e 7379 7374 656d 223a        ".system":
-00002880: 2028 6622 6f70 656e 2073 7973 7465 6d20   (f"open system 
-00002890: 636f 6d6d 616e 6420 7072 6f6d 7074 207b  command prompt {
-000028a0: 7374 7228 636f 6e66 6967 2e68 6f74 6b65  str(config.hotke
-000028b0: 795f 6c61 756e 6368 5f73 7973 7465 6d5f  y_launch_system_
-000028c0: 7072 6f6d 7074 297d 222c 206c 616d 6264  prompt)}", lambd
-000028d0: 613a 2053 7973 7465 6d43 6f6d 6d61 6e64  a: SystemCommand
-000028e0: 5072 6f6d 7074 2829 2e72 756e 2861 6c6c  Prompt().run(all
-000028f0: 6f77 5061 7468 4368 616e 6765 733d 5472  owPathChanges=Tr
-00002900: 7565 2929 2c0a 2020 2020 2020 2020 2020  ue)),.          
-00002910: 2020 222e 636f 6e74 656e 7422 3a20 2822    ".content": ("
-00002920: 6469 7370 6c61 7920 6375 7272 656e 7420  display current 
-00002930: 6469 7265 6374 6f72 7920 636f 6e74 656e  directory conten
-00002940: 7422 2c20 7365 6c66 2e67 6574 5061 7468  t", self.getPath
-00002950: 2e64 6973 706c 6179 4469 7265 6374 6f72  .displayDirector
-00002960: 7943 6f6e 7465 6e74 292c 0a20 2020 2020  yContent),.     
-00002970: 2020 2020 2020 2022 2e6b 6579 7322 3a20         ".keys": 
-00002980: 2866 2264 6973 706c 6179 206b 6579 2062  (f"display key b
-00002990: 696e 6469 6e67 7320 7b73 7472 2863 6f6e  indings {str(con
-000029a0: 6669 672e 686f 746b 6579 5f64 6973 706c  fig.hotkey_displ
-000029b0: 6179 5f6b 6579 5f63 6f6d 626f 297d 222c  ay_key_combo)}",
-000029c0: 2063 6f6e 6669 672e 7368 6f77 4b65 7942   config.showKeyB
-000029d0: 696e 6469 6e67 7329 2c0a 2020 2020 2020  indings),.      
-000029e0: 2020 2020 2020 222e 6865 6c70 223a 2028        ".help": (
-000029f0: 226f 7065 6e20 4c65 744d 6544 6f49 7420  "open LetMeDoIt 
-00002a00: 7769 6b69 222c 206c 616d 6264 613a 206f  wiki", lambda: o
-00002a10: 7065 6e55 524c 2827 6874 7470 733a 2f2f  penURL('https://
-00002a20: 6769 7468 7562 2e63 6f6d 2f65 6c69 7261  github.com/elira
-00002a30: 6e77 6f6e 672f 6c65 746d 6564 6f69 742f  nwong/letmedoit/
-00002a40: 7769 6b69 2729 292c 0a20 2020 2020 2020  wiki')),.       
-00002a50: 2020 2020 2022 2e64 6f6e 6174 6522 3a20       ".donate": 
-00002a60: 2822 646f 6e61 7465 2061 6e64 2073 7570  ("donate and sup
-00002a70: 706f 7274 204c 6574 4d65 446f 4974 2041  port LetMeDoIt A
-00002a80: 4922 2c20 6c61 6d62 6461 3a20 6f70 656e  I", lambda: open
-00002a90: 5552 4c28 2768 7474 7073 3a2f 2f77 7777  URL('https://www
-00002aa0: 2e70 6179 7061 6c2e 636f 6d2f 7061 7970  .paypal.com/payp
-00002ab0: 616c 6d65 2f6c 6574 6d65 646f 6974 6169  alme/letmedoitai
-00002ac0: 2729 292c 0a20 2020 2020 2020 207d 0a0a  ')),.        }..
-00002ad0: 2020 2020 2020 2020 636f 6e66 6967 2e61          config.a
-00002ae0: 6374 696f 6e48 656c 7020 3d20 6622 2320  ctionHelp = f"# 
-00002af0: 5175 6963 6b20 4163 7469 6f6e 735c 6e28  Quick Actions\n(
-00002b00: 656e 7472 6965 7320 7468 6174 2073 7461  entries that sta
-00002b10: 7274 2077 6974 6820 272e 2729 5c6e 220a  rt with '.')\n".
-00002b20: 2020 2020 2020 2020 666f 7220 6b65 792c          for key,
-00002b30: 2076 616c 7565 2069 6e20 7365 6c66 2e61   value in self.a
-00002b40: 6374 696f 6e73 2e69 7465 6d73 2829 3a0a  ctions.items():.
-00002b50: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00002b60: 6967 2e61 6374 696f 6e48 656c 7020 2b3d  ig.actionHelp +=
-00002b70: 2066 227b 6b65 797d 3a20 7b76 616c 7565   f"{key}: {value
-00002b80: 5b30 5d7d 5c6e 220a 2020 2020 2020 2020  [0]}\n".        
-00002b90: 636f 6e66 6967 2e61 6374 696f 6e48 656c  config.actionHel
-00002ba0: 7020 2b3d 2022 5c6e 2323 2052 6561 6420  p += "\n## Read 
-00002bb0: 6d6f 7265 2061 743a 5c6e 6874 7470 733a  more at:\nhttps:
-00002bc0: 2f2f 6769 7468 7562 2e63 6f6d 2f65 6c69  //github.com/eli
-00002bd0: 7261 6e77 6f6e 672f 6c65 746d 6564 6f69  ranwong/letmedoi
-00002be0: 742f 7769 6b69 2f41 6374 696f 6e2d 4d65  t/wiki/Action-Me
-00002bf0: 6e75 220a 0a20 2020 2023 2056 6f69 6365  nu"..    # Voice
-00002c00: 2054 7970 696e 6720 4c61 6e67 7561 6765   Typing Language
-00002c10: 0a20 2020 2064 6566 2073 6574 5370 6565  .    def setSpee
-00002c20: 6368 546f 5465 7874 4c61 6e67 7561 6765  chToTextLanguage
-00002c30: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00002c40: 2320 7265 636f 7264 2069 6e20 6869 7374  # record in hist
-00002c50: 6f72 7920 666f 7220 6561 7379 2072 6574  ory for easy ret
-00002c60: 7269 6576 616c 2062 7920 6d6f 7669 6e67  rieval by moving
-00002c70: 2061 7272 6f77 7320 7570 7761 7264 7320   arrows upwards 
-00002c80: 2f20 646f 776e 7761 7264 730a 2020 2020  / downwards.    
-00002c90: 2020 2020 766f 6963 655f 7479 7069 6e67      voice_typing
-00002ca0: 5f6c 616e 6775 6167 655f 6869 7374 6f72  _language_histor
-00002cb0: 7920 3d20 6f73 2e70 6174 682e 6a6f 696e  y = os.path.join
-00002cc0: 2863 6f6e 6669 672e 6c6f 6361 6c53 746f  (config.localSto
-00002cd0: 7261 6765 2c20 2268 6973 746f 7279 222c  rage, "history",
-00002ce0: 2022 766f 6963 655f 7479 7069 6e67 5f6c   "voice_typing_l
-00002cf0: 616e 6775 6167 6522 290a 2020 2020 2020  anguage").      
-00002d00: 2020 766f 6963 655f 7479 7069 6e67 5f6c    voice_typing_l
-00002d10: 616e 6775 6167 655f 7365 7373 696f 6e20  anguage_session 
-00002d20: 3d20 5072 6f6d 7074 5365 7373 696f 6e28  = PromptSession(
-00002d30: 6869 7374 6f72 793d 4669 6c65 4869 7374  history=FileHist
-00002d40: 6f72 7928 766f 6963 655f 7479 7069 6e67  ory(voice_typing
-00002d50: 5f6c 616e 6775 6167 655f 6869 7374 6f72  _language_histor
-00002d60: 7929 290a 2020 2020 2020 2020 2320 696e  y)).        # in
-00002d70: 7075 7420 7375 6767 6573 7469 6f6e 2066  put suggestion f
-00002d80: 6f72 206c 616e 6775 6167 6573 0a20 2020  or languages.   
-00002d90: 2020 2020 206c 616e 6775 6167 6573 203d       languages =
-00002da0: 2074 7570 6c65 2867 6f6f 676c 6553 7065   tuple(googleSpe
-00002db0: 6563 6b54 6f54 6578 744c 616e 6775 6167  eckToTextLanguag
-00002dc0: 6573 2e6b 6579 7328 2929 2069 6620 636f  es.keys()) if co
-00002dd0: 6e66 6967 2e76 6f69 6365 5479 7069 6e67  nfig.voiceTyping
-00002de0: 506c 6174 666f 726d 2069 6e20 2822 676f  Platform in ("go
-00002df0: 6f67 6c65 222c 2022 676f 6f67 6c65 636c  ogle", "googlecl
-00002e00: 6f75 6422 2920 656c 7365 2077 6869 7370  oud") else whisp
-00002e10: 6572 5370 6565 636b 546f 5465 7874 4c61  erSpeeckToTextLa
-00002e20: 6e67 7561 6765 730a 2020 2020 2020 2020  nguages.        
-00002e30: 2320 6465 6661 756c 740a 2020 2020 2020  # default.      
-00002e40: 2020 6465 6661 756c 7420 3d20 2222 0a20    default = "". 
-00002e50: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
-00002e60: 6c61 6e67 7561 6765 733a 0a20 2020 2020  languages:.     
-00002e70: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
-00002e80: 2e76 6f69 6365 5479 7069 6e67 506c 6174  .voiceTypingPlat
-00002e90: 666f 726d 2069 6e20 2822 676f 6f67 6c65  form in ("google
-00002ea0: 222c 2022 676f 6f67 6c65 636c 6f75 6422  ", "googlecloud"
-00002eb0: 2920 616e 6420 676f 6f67 6c65 5370 6565  ) and googleSpee
-00002ec0: 636b 546f 5465 7874 4c61 6e67 7561 6765  ckToTextLanguage
-00002ed0: 735b 695d 203d 3d20 636f 6e66 6967 2e76  s[i] == config.v
-00002ee0: 6f69 6365 5479 7069 6e67 4c61 6e67 7561  oiceTypingLangua
-00002ef0: 6765 3a0a 2020 2020 2020 2020 2020 2020  ge:.            
-00002f00: 2020 2020 6465 6661 756c 7420 3d20 690a      default = i.
-00002f10: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00002f20: 2069 203d 3d20 636f 6e66 6967 2e76 6f69   i == config.voi
-00002f30: 6365 5479 7069 6e67 4c61 6e67 7561 6765  ceTypingLanguage
-00002f40: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00002f50: 2020 6465 6661 756c 7420 3d20 690a 2020    default = i.  
-00002f60: 2020 2020 2020 6966 206e 6f74 2064 6566        if not def
-00002f70: 6175 6c74 3a0a 2020 2020 2020 2020 2020  ault:.          
-00002f80: 2020 6465 6661 756c 7420 3d20 2245 6e67    default = "Eng
-00002f90: 6c69 7368 2028 556e 6974 6564 2053 7461  lish (United Sta
-00002fa0: 7465 7329 2220 6966 2063 6f6e 6669 672e  tes)" if config.
-00002fb0: 766f 6963 6554 7970 696e 6750 6c61 7466  voiceTypingPlatf
-00002fc0: 6f72 6d20 696e 2028 2267 6f6f 676c 6522  orm in ("google"
-00002fd0: 2c20 2267 6f6f 676c 6563 6c6f 7564 2229  , "googlecloud")
-00002fe0: 2065 6c73 6520 2265 6e67 6c69 7368 220a   else "english".
-00002ff0: 2020 2020 2020 2020 2320 636f 6d70 6c65          # comple
-00003000: 7465 720a 2020 2020 2020 2020 636f 6d70  ter.        comp
-00003010: 6c65 7465 7220 3d20 4675 7a7a 7943 6f6d  leter = FuzzyCom
-00003020: 706c 6574 6572 2857 6f72 6443 6f6d 706c  pleter(WordCompl
-00003030: 6574 6572 286c 616e 6775 6167 6573 2c20  eter(languages, 
-00003040: 6967 6e6f 7265 5f63 6173 653d 5472 7565  ignore_case=True
-00003050: 2929 0a20 2020 2020 2020 2070 7269 6e74  )).        print
-00003060: 3128 2250 6c65 6173 6520 7370 6563 6966  1("Please specif
-00003070: 7920 7468 6520 766f 6963 6520 7479 7069  y the voice typi
-00003080: 6e67 206c 616e 6775 6167 653a 2229 0a20  ng language:"). 
-00003090: 2020 2020 2020 206c 616e 6775 6167 6520         language 
-000030a0: 3d20 7365 6c66 2e70 726f 6d70 7473 2e73  = self.prompts.s
-000030b0: 696d 706c 6550 726f 6d70 7428 7374 796c  implePrompt(styl
-000030c0: 653d 7365 6c66 2e70 726f 6d70 7473 2e70  e=self.prompts.p
-000030d0: 726f 6d70 7453 7479 6c65 322c 2064 6566  romptStyle2, def
-000030e0: 6175 6c74 3d64 6566 6175 6c74 2c20 7072  ault=default, pr
-000030f0: 6f6d 7074 5365 7373 696f 6e3d 766f 6963  omptSession=voic
-00003100: 655f 7479 7069 6e67 5f6c 616e 6775 6167  e_typing_languag
-00003110: 655f 7365 7373 696f 6e2c 2063 6f6d 706c  e_session, compl
-00003120: 6574 6572 3d63 6f6d 706c 6574 6572 290a  eter=completer).
-00003130: 2020 2020 2020 2020 6966 206c 616e 6775          if langu
-00003140: 6167 6520 616e 6420 6e6f 7420 6c61 6e67  age and not lang
-00003150: 7561 6765 2069 6e20 2863 6f6e 6669 672e  uage in (config.
-00003160: 6578 6974 5f65 6e74 7279 2c20 636f 6e66  exit_entry, conf
-00003170: 6967 2e63 616e 6365 6c5f 656e 7472 7929  ig.cancel_entry)
-00003180: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
-00003190: 6e66 6967 2e76 6f69 6365 5479 7069 6e67  nfig.voiceTyping
-000031a0: 4c61 6e67 7561 6765 203d 206c 616e 6775  Language = langu
-000031b0: 6167 650a 2020 2020 2020 2020 6966 206e  age.        if n
-000031c0: 6f74 2063 6f6e 6669 672e 766f 6963 6554  ot config.voiceT
-000031d0: 7970 696e 674c 616e 6775 6167 6520 696e  ypingLanguage in
-000031e0: 206c 616e 6775 6167 6573 3a0a 2020 2020   languages:.    
-000031f0: 2020 2020 2020 2020 636f 6e66 6967 2e76          config.v
-00003200: 6f69 6365 5479 7069 6e67 4c61 6e67 7561  oiceTypingLangua
-00003210: 6765 203d 2022 656e 2d55 5322 2069 6620  ge = "en-US" if 
-00003220: 636f 6e66 6967 2e76 6f69 6365 5479 7069  config.voiceTypi
-00003230: 6e67 506c 6174 666f 726d 2069 6e20 2822  ngPlatform in ("
-00003240: 676f 6f67 6c65 222c 2022 676f 6f67 6c65  google", "google
-00003250: 636c 6f75 6422 2920 656c 7365 2022 656e  cloud") else "en
-00003260: 676c 6973 6822 0a20 2020 2020 2020 2069  glish".        i
-00003270: 6620 636f 6e66 6967 2e76 6f69 6365 5479  f config.voiceTy
-00003280: 7069 6e67 506c 6174 666f 726d 2069 6e20  pingPlatform in 
-00003290: 2822 676f 6f67 6c65 222c 2022 676f 6f67  ("google", "goog
-000032a0: 6c65 636c 6f75 6422 2920 616e 6420 636f  lecloud") and co
-000032b0: 6e66 6967 2e76 6f69 6365 5479 7069 6e67  nfig.voiceTyping
-000032c0: 4c61 6e67 7561 6765 2069 6e20 6c61 6e67  Language in lang
-000032d0: 7561 6765 733a 0a20 2020 2020 2020 2020  uages:.         
-000032e0: 2020 2063 6f6e 6669 672e 766f 6963 6554     config.voiceT
-000032f0: 7970 696e 674c 616e 6775 6167 6520 3d20  ypingLanguage = 
-00003300: 676f 6f67 6c65 5370 6565 636b 546f 5465  googleSpeeckToTe
-00003310: 7874 4c61 6e67 7561 6765 735b 636f 6e66  xtLanguages[conf
-00003320: 6967 2e76 6f69 6365 5479 7069 6e67 4c61  ig.voiceTypingLa
-00003330: 6e67 7561 6765 5d0a 0a20 2020 2023 2045  nguage]..    # E
-00003340: 6c65 7665 6e4c 6162 7320 5465 7874 2d74  levenLabs Text-t
-00003350: 6f2d 5370 6565 6368 2056 6f69 6365 0a20  o-Speech Voice. 
-00003360: 2020 2064 6566 2073 6574 456c 6576 656e     def setEleven
-00003370: 6c61 6273 566f 6963 6528 7365 6c66 293a  labsVoice(self):
-00003380: 0a20 2020 2020 2020 2023 2072 6563 6f72  .        # recor
-00003390: 6420 696e 2068 6973 746f 7279 2066 6f72  d in history for
-000033a0: 2065 6173 7920 7265 7472 6965 7661 6c20   easy retrieval 
-000033b0: 6279 206d 6f76 696e 6720 6172 726f 7773  by moving arrows
-000033c0: 2075 7077 6172 6473 202f 2064 6f77 6e77   upwards / downw
-000033d0: 6172 6473 0a20 2020 2020 2020 2065 6c65  ards.        ele
-000033e0: 7665 6e6c 6162 7356 6f69 6365 5f68 6973  venlabsVoice_his
-000033f0: 746f 7279 203d 206f 732e 7061 7468 2e6a  tory = os.path.j
-00003400: 6f69 6e28 636f 6e66 6967 2e6c 6f63 616c  oin(config.local
-00003410: 5374 6f72 6167 652c 2022 6869 7374 6f72  Storage, "histor
-00003420: 7922 2c20 2265 6c65 7665 6e6c 6162 7356  y", "elevenlabsV
-00003430: 6f69 6365 2229 0a20 2020 2020 2020 2065  oice").        e
-00003440: 6c65 7665 6e6c 6162 7356 6f69 6365 5f73  levenlabsVoice_s
-00003450: 6573 7369 6f6e 203d 2050 726f 6d70 7453  ession = PromptS
-00003460: 6573 7369 6f6e 2868 6973 746f 7279 3d46  ession(history=F
-00003470: 696c 6548 6973 746f 7279 2865 6c65 7665  ileHistory(eleve
-00003480: 6e6c 6162 7356 6f69 6365 5f68 6973 746f  nlabsVoice_histo
-00003490: 7279 2929 0a20 2020 2020 2020 2023 2069  ry)).        # i
-000034a0: 6e70 7574 2073 7567 6765 7374 696f 6e20  nput suggestion 
-000034b0: 666f 7220 6f70 7469 6f6e 730a 2020 2020  for options.    
-000034c0: 2020 2020 6f70 7469 6f6e 7320 3d20 7b7d      options = {}
-000034d0: 0a20 2020 2020 2020 2069 6473 203d 207b  .        ids = {
-000034e0: 7d0a 2020 2020 2020 2020 666f 7220 766f  }.        for vo
-000034f0: 6963 6520 696e 206c 6973 7428 456c 6576  ice in list(Elev
-00003500: 656e 4c61 6273 2861 7069 5f6b 6579 3d63  enLabs(api_key=c
-00003510: 6f6e 6669 672e 656c 6576 656e 6c61 6273  onfig.elevenlabs
-00003520: 4170 6929 2e76 6f69 6365 732e 6765 745f  Api).voices.get_
-00003530: 616c 6c28 2929 5b30 5d5b 2d31 5d3a 0a20  all())[0][-1]:. 
-00003540: 2020 2020 2020 2020 2020 206f 7074 696f             optio
-00003550: 6e73 5b76 6f69 6365 2e6e 616d 655d 203d  ns[voice.name] =
-00003560: 2076 6f69 6365 2e76 6f69 6365 5f69 640a   voice.voice_id.
-00003570: 2020 2020 2020 2020 2020 2020 6964 735b              ids[
-00003580: 766f 6963 652e 766f 6963 655f 6964 5d20  voice.voice_id] 
-00003590: 3d20 766f 6963 652e 6e61 6d65 0a20 2020  = voice.name.   
-000035a0: 2020 2020 2023 2064 6566 6175 6c74 0a20       # default. 
-000035b0: 2020 2020 2020 2064 6566 6175 6c74 203d         default =
-000035c0: 2069 6473 5b63 6f6e 6669 672e 656c 6576   ids[config.elev
-000035d0: 656e 6c61 6273 566f 6963 655d 2069 6620  enlabsVoice] if 
-000035e0: 636f 6e66 6967 2e65 6c65 7665 6e6c 6162  config.elevenlab
-000035f0: 7356 6f69 6365 2069 6e20 6964 7320 656c  sVoice in ids el
-00003600: 7365 2022 5261 6368 656c 220a 2020 2020  se "Rachel".    
-00003610: 2020 2020 2320 636f 6d70 6c65 7465 720a      # completer.
-00003620: 2020 2020 2020 2020 636f 6d70 6c65 7465          complete
-00003630: 7220 3d20 4675 7a7a 7943 6f6d 706c 6574  r = FuzzyComplet
-00003640: 6572 2857 6f72 6443 6f6d 706c 6574 6572  er(WordCompleter
-00003650: 286f 7074 696f 6e73 2e6b 6579 7328 292c  (options.keys(),
-00003660: 2069 676e 6f72 655f 6361 7365 3d54 7275   ignore_case=Tru
-00003670: 6529 290a 2020 2020 2020 2020 7072 696e  e)).        prin
-00003680: 7431 2822 506c 6561 7365 2073 7065 6369  t1("Please speci
-00003690: 6679 2045 6c65 7665 6e4c 6162 7320 5465  fy ElevenLabs Te
-000036a0: 7874 2d74 6f2d 5370 6565 6368 2056 6f69  xt-to-Speech Voi
-000036b0: 6365 3a22 290a 2020 2020 2020 2020 6f70  ce:").        op
-000036c0: 7469 6f6e 203d 2073 656c 662e 7072 6f6d  tion = self.prom
-000036d0: 7074 732e 7369 6d70 6c65 5072 6f6d 7074  pts.simplePrompt
-000036e0: 2873 7479 6c65 3d73 656c 662e 7072 6f6d  (style=self.prom
-000036f0: 7074 732e 7072 6f6d 7074 5374 796c 6532  pts.promptStyle2
-00003700: 2c20 6465 6661 756c 743d 6465 6661 756c  , default=defaul
-00003710: 742c 2070 726f 6d70 7453 6573 7369 6f6e  t, promptSession
-00003720: 3d65 6c65 7665 6e6c 6162 7356 6f69 6365  =elevenlabsVoice
-00003730: 5f73 6573 7369 6f6e 2c20 636f 6d70 6c65  _session, comple
-00003740: 7465 723d 636f 6d70 6c65 7465 7229 0a20  ter=completer). 
-00003750: 2020 2020 2020 2069 6620 6f70 7469 6f6e         if option
-00003760: 2061 6e64 206e 6f74 206f 7074 696f 6e20   and not option 
-00003770: 696e 2028 636f 6e66 6967 2e65 7869 745f  in (config.exit_
-00003780: 656e 7472 792c 2063 6f6e 6669 672e 6361  entry, config.ca
-00003790: 6e63 656c 5f65 6e74 7279 293a 0a20 2020  ncel_entry):.   
-000037a0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-000037b0: 656c 6576 656e 6c61 6273 566f 6963 6520  elevenlabsVoice 
-000037c0: 3d20 6f70 7469 6f6e 735b 6f70 7469 6f6e  = options[option
-000037d0: 5d20 6966 206f 7074 696f 6e20 696e 206f  ] if option in o
-000037e0: 7074 696f 6e73 2065 6c73 6520 2232 316d  ptions else "21m
-000037f0: 3030 5463 6d34 546c 7644 7138 696b 5741  00Tcm4TlvDq8ikWA
-00003800: 4d22 2023 2052 6163 6865 6c27 7320 766f  M" # Rachel's vo
-00003810: 6963 6520 6964 0a0a 2020 2020 2320 476f  ice id..    # Go
-00003820: 6f67 6c65 2054 6578 742d 746f 2d53 7065  ogle Text-to-Spe
-00003830: 6563 6820 2847 656e 6572 6963 290a 2020  ech (Generic).  
-00003840: 2020 6465 6620 7365 7447 7474 734c 616e    def setGttsLan
-00003850: 6775 6167 6528 7365 6c66 293a 0a20 2020  guage(self):.   
-00003860: 2020 2020 2023 2072 6563 6f72 6420 696e       # record in
-00003870: 2068 6973 746f 7279 2066 6f72 2065 6173   history for eas
-00003880: 7920 7265 7472 6965 7661 6c20 6279 206d  y retrieval by m
-00003890: 6f76 696e 6720 6172 726f 7773 2075 7077  oving arrows upw
-000038a0: 6172 6473 202f 2064 6f77 6e77 6172 6473  ards / downwards
-000038b0: 0a20 2020 2020 2020 2067 7474 735f 6c61  .        gtts_la
-000038c0: 6e67 7561 6765 5f68 6973 746f 7279 203d  nguage_history =
-000038d0: 206f 732e 7061 7468 2e6a 6f69 6e28 636f   os.path.join(co
-000038e0: 6e66 6967 2e6c 6f63 616c 5374 6f72 6167  nfig.localStorag
-000038f0: 652c 2022 6869 7374 6f72 7922 2c20 2267  e, "history", "g
-00003900: 7474 735f 6c61 6e67 7561 6765 2229 0a20  tts_language"). 
-00003910: 2020 2020 2020 2067 7474 735f 6c61 6e67         gtts_lang
-00003920: 7561 6765 5f73 6573 7369 6f6e 203d 2050  uage_session = P
-00003930: 726f 6d70 7453 6573 7369 6f6e 2868 6973  romptSession(his
-00003940: 746f 7279 3d46 696c 6548 6973 746f 7279  tory=FileHistory
-00003950: 2867 7474 735f 6c61 6e67 7561 6765 5f68  (gtts_language_h
-00003960: 6973 746f 7279 2929 0a20 2020 2020 2020  istory)).       
-00003970: 2023 2069 6e70 7574 2073 7567 6765 7374   # input suggest
-00003980: 696f 6e20 666f 7220 6c61 6e67 7561 6765  ion for language
-00003990: 730a 2020 2020 2020 2020 6c61 6e67 7561  s.        langua
-000039a0: 6765 7320 3d20 7475 706c 6528 5474 734c  ges = tuple(TtsL
-000039b0: 616e 6775 6167 6573 2e67 7474 732e 6b65  anguages.gtts.ke
-000039c0: 7973 2829 290a 2020 2020 2020 2020 2320  ys()).        # 
-000039d0: 6465 6661 756c 740a 2020 2020 2020 2020  default.        
-000039e0: 6465 6661 756c 7420 3d20 2222 0a20 2020  default = "".   
-000039f0: 2020 2020 2066 6f72 2069 2069 6e20 6c61       for i in la
-00003a00: 6e67 7561 6765 733a 0a20 2020 2020 2020  nguages:.       
-00003a10: 2020 2020 2069 6620 5474 734c 616e 6775       if TtsLangu
-00003a20: 6167 6573 2e67 7474 735b 695d 203d 3d20  ages.gtts[i] == 
-00003a30: 636f 6e66 6967 2e67 7474 734c 616e 673a  config.gttsLang:
-00003a40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003a50: 2064 6566 6175 6c74 203d 2069 0a20 2020   default = i.   
-00003a60: 2020 2020 2069 6620 6e6f 7420 6465 6661       if not defa
-00003a70: 756c 743a 0a20 2020 2020 2020 2020 2020  ult:.           
-00003a80: 2064 6566 6175 6c74 203d 2022 656e 220a   default = "en".
-00003a90: 2020 2020 2020 2020 2320 636f 6d70 6c65          # comple
-00003aa0: 7465 720a 2020 2020 2020 2020 636f 6d70  ter.        comp
-00003ab0: 6c65 7465 7220 3d20 4675 7a7a 7943 6f6d  leter = FuzzyCom
-00003ac0: 706c 6574 6572 2857 6f72 6443 6f6d 706c  pleter(WordCompl
-00003ad0: 6574 6572 286c 616e 6775 6167 6573 2c20  eter(languages, 
-00003ae0: 6967 6e6f 7265 5f63 6173 653d 5472 7565  ignore_case=True
-00003af0: 2929 0a20 2020 2020 2020 2070 7269 6e74  )).        print
-00003b00: 3128 2250 6c65 6173 6520 7370 6563 6966  1("Please specif
-00003b10: 7920 476f 6f67 6c65 2054 6578 742d 746f  y Google Text-to
-00003b20: 2d53 7065 6563 6820 6c61 6e67 7561 6765  -Speech language
-00003b30: 3a22 290a 2020 2020 2020 2020 6c61 6e67  :").        lang
-00003b40: 7561 6765 203d 2073 656c 662e 7072 6f6d  uage = self.prom
-00003b50: 7074 732e 7369 6d70 6c65 5072 6f6d 7074  pts.simplePrompt
-00003b60: 2873 7479 6c65 3d73 656c 662e 7072 6f6d  (style=self.prom
-00003b70: 7074 732e 7072 6f6d 7074 5374 796c 6532  pts.promptStyle2
-00003b80: 2c20 6465 6661 756c 743d 6465 6661 756c  , default=defaul
-00003b90: 742c 2070 726f 6d70 7453 6573 7369 6f6e  t, promptSession
-00003ba0: 3d67 7474 735f 6c61 6e67 7561 6765 5f73  =gtts_language_s
-00003bb0: 6573 7369 6f6e 2c20 636f 6d70 6c65 7465  ession, complete
-00003bc0: 723d 636f 6d70 6c65 7465 7229 0a20 2020  r=completer).   
-00003bd0: 2020 2020 2069 6620 6c61 6e67 7561 6765       if language
-00003be0: 2061 6e64 206e 6f74 206c 616e 6775 6167   and not languag
-00003bf0: 6520 696e 2028 636f 6e66 6967 2e65 7869  e in (config.exi
-00003c00: 745f 656e 7472 792c 2063 6f6e 6669 672e  t_entry, config.
-00003c10: 6361 6e63 656c 5f65 6e74 7279 293a 0a20  cancel_entry):. 
-00003c20: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00003c30: 672e 6774 7473 4c61 6e67 203d 206c 616e  g.gttsLang = lan
-00003c40: 6775 6167 650a 2020 2020 2020 2020 6966  guage.        if
-00003c50: 2063 6f6e 6669 672e 6774 7473 4c61 6e67   config.gttsLang
-00003c60: 2069 6e20 6c61 6e67 7561 6765 733a 0a20   in languages:. 
-00003c70: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00003c80: 672e 6774 7473 4c61 6e67 203d 2054 7473  g.gttsLang = Tts
-00003c90: 4c61 6e67 7561 6765 732e 6774 7473 5b63  Languages.gtts[c
-00003ca0: 6f6e 6669 672e 6774 7473 4c61 6e67 5d0a  onfig.gttsLang].
-00003cb0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00003cc0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-00003cd0: 2e67 7474 734c 616e 6720 3d20 2265 6e22  .gttsLang = "en"
-00003ce0: 0a0a 2020 2020 2320 476f 6f67 6c65 2043  ..    # Google C
-00003cf0: 6c6f 7564 2054 6578 742d 746f 2d53 7065  loud Text-to-Spe
-00003d00: 6563 6820 2841 5049 290a 2020 2020 6465  ech (API).    de
-00003d10: 6620 7365 7447 6374 7473 4c61 6e67 7561  f setGcttsLangua
-00003d20: 6765 2873 656c 6629 3a0a 2020 2020 2020  ge(self):.      
-00003d30: 2020 2320 7265 636f 7264 2069 6e20 6869    # record in hi
-00003d40: 7374 6f72 7920 666f 7220 6561 7379 2072  story for easy r
-00003d50: 6574 7269 6576 616c 2062 7920 6d6f 7669  etrieval by movi
-00003d60: 6e67 2061 7272 6f77 7320 7570 7761 7264  ng arrows upward
-00003d70: 7320 2f20 646f 776e 7761 7264 730a 2020  s / downwards.  
-00003d80: 2020 2020 2020 6763 7474 735f 6c61 6e67        gctts_lang
-00003d90: 7561 6765 5f68 6973 746f 7279 203d 206f  uage_history = o
-00003da0: 732e 7061 7468 2e6a 6f69 6e28 636f 6e66  s.path.join(conf
-00003db0: 6967 2e6c 6f63 616c 5374 6f72 6167 652c  ig.localStorage,
-00003dc0: 2022 6869 7374 6f72 7922 2c20 2267 6374   "history", "gct
-00003dd0: 7473 5f6c 616e 6775 6167 6522 290a 2020  ts_language").  
-00003de0: 2020 2020 2020 6763 7474 735f 6c61 6e67        gctts_lang
-00003df0: 7561 6765 5f73 6573 7369 6f6e 203d 2050  uage_session = P
-00003e00: 726f 6d70 7453 6573 7369 6f6e 2868 6973  romptSession(his
-00003e10: 746f 7279 3d46 696c 6548 6973 746f 7279  tory=FileHistory
-00003e20: 2867 6374 7473 5f6c 616e 6775 6167 655f  (gctts_language_
-00003e30: 6869 7374 6f72 7929 290a 2020 2020 2020  history)).      
-00003e40: 2020 2320 696e 7075 7420 7375 6767 6573    # input sugges
-00003e50: 7469 6f6e 2066 6f72 206c 616e 6775 6167  tion for languag
-00003e60: 6573 0a20 2020 2020 2020 206c 616e 6775  es.        langu
-00003e70: 6167 6573 203d 2074 7570 6c65 2854 7473  ages = tuple(Tts
-00003e80: 4c61 6e67 7561 6765 732e 6763 7474 732e  Languages.gctts.
-00003e90: 6b65 7973 2829 290a 2020 2020 2020 2020  keys()).        
-00003ea0: 2320 6465 6661 756c 740a 2020 2020 2020  # default.      
-00003eb0: 2020 6465 6661 756c 7420 3d20 2222 0a20    default = "". 
-00003ec0: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
-00003ed0: 6c61 6e67 7561 6765 733a 0a20 2020 2020  languages:.     
-00003ee0: 2020 2020 2020 2069 6620 5474 734c 616e         if TtsLan
-00003ef0: 6775 6167 6573 2e67 6374 7473 5b69 5d20  guages.gctts[i] 
-00003f00: 3d3d 2063 6f6e 6669 672e 6763 7474 734c  == config.gcttsL
-00003f10: 616e 673a 0a20 2020 2020 2020 2020 2020  ang:.           
-00003f20: 2020 2020 2064 6566 6175 6c74 203d 2069       default = i
-00003f30: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-00003f40: 6465 6661 756c 743a 0a20 2020 2020 2020  default:.       
-00003f50: 2020 2020 2064 6566 6175 6c74 203d 2022       default = "
-00003f60: 656e 2d55 5322 0a20 2020 2020 2020 2023  en-US".        #
-00003f70: 2063 6f6d 706c 6574 6572 0a20 2020 2020   completer.     
-00003f80: 2020 2063 6f6d 706c 6574 6572 203d 2046     completer = F
-00003f90: 757a 7a79 436f 6d70 6c65 7465 7228 576f  uzzyCompleter(Wo
-00003fa0: 7264 436f 6d70 6c65 7465 7228 6c61 6e67  rdCompleter(lang
-00003fb0: 7561 6765 732c 2069 676e 6f72 655f 6361  uages, ignore_ca
-00003fc0: 7365 3d54 7275 6529 290a 2020 2020 2020  se=True)).      
-00003fd0: 2020 7072 696e 7431 2822 506c 6561 7365    print1("Please
-00003fe0: 2073 7065 6369 6679 2047 6f6f 676c 6520   specify Google 
-00003ff0: 436c 6f75 6420 5465 7874 2d74 6f2d 5370  Cloud Text-to-Sp
-00004000: 6565 6368 206c 616e 6775 6167 653a 2229  eech language:")
-00004010: 0a20 2020 2020 2020 206c 616e 6775 6167  .        languag
-00004020: 6520 3d20 7365 6c66 2e70 726f 6d70 7473  e = self.prompts
-00004030: 2e73 696d 706c 6550 726f 6d70 7428 7374  .simplePrompt(st
-00004040: 796c 653d 7365 6c66 2e70 726f 6d70 7473  yle=self.prompts
-00004050: 2e70 726f 6d70 7453 7479 6c65 322c 2064  .promptStyle2, d
-00004060: 6566 6175 6c74 3d64 6566 6175 6c74 2c20  efault=default, 
-00004070: 7072 6f6d 7074 5365 7373 696f 6e3d 6763  promptSession=gc
-00004080: 7474 735f 6c61 6e67 7561 6765 5f73 6573  tts_language_ses
-00004090: 7369 6f6e 2c20 636f 6d70 6c65 7465 723d  sion, completer=
-000040a0: 636f 6d70 6c65 7465 7229 0a20 2020 2020  completer).     
-000040b0: 2020 2069 6620 6c61 6e67 7561 6765 2061     if language a
-000040c0: 6e64 206e 6f74 206c 616e 6775 6167 6520  nd not language 
-000040d0: 696e 2028 636f 6e66 6967 2e65 7869 745f  in (config.exit_
-000040e0: 656e 7472 792c 2063 6f6e 6669 672e 6361  entry, config.ca
-000040f0: 6e63 656c 5f65 6e74 7279 293a 0a20 2020  ncel_entry):.   
-00004100: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-00004110: 6763 7474 734c 616e 6720 3d20 6c61 6e67  gcttsLang = lang
-00004120: 7561 6765 0a20 2020 2020 2020 2069 6620  uage.        if 
-00004130: 636f 6e66 6967 2e67 6374 7473 4c61 6e67  config.gcttsLang
-00004140: 2069 6e20 6c61 6e67 7561 6765 733a 0a20   in languages:. 
-00004150: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00004160: 672e 6763 7474 734c 616e 6720 3d20 5474  g.gcttsLang = Tt
-00004170: 734c 616e 6775 6167 6573 2e67 6374 7473  sLanguages.gctts
-00004180: 5b63 6f6e 6669 672e 6763 7474 734c 616e  [config.gcttsLan
-00004190: 675d 0a20 2020 2020 2020 2065 6c73 653a  g].        else:
-000041a0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-000041b0: 6669 672e 6763 7474 734c 616e 6720 3d20  fig.gcttsLang = 
-000041c0: 2265 6e2d 5553 220a 0a20 2020 2064 6566  "en-US"..    def
-000041d0: 2073 6574 566c 6353 7065 6564 2873 656c   setVlcSpeed(sel
-000041e0: 6629 3a0a 2020 2020 2020 2020 6966 2063  f):.        if c
-000041f0: 6f6e 6669 672e 6973 566c 6350 6c61 7965  onfig.isVlcPlaye
-00004200: 7249 6e73 7461 6c6c 6564 2061 6e64 206e  rInstalled and n
-00004210: 6f74 2063 6f6e 6669 672e 7573 6550 7967  ot config.usePyg
-00004220: 616d 653a 0a20 2020 2020 2020 2020 2020  ame:.           
-00004230: 2070 7269 6e74 3128 2253 7065 6369 6679   print1("Specify
-00004240: 2056 4c43 2070 6c61 7965 7220 706c 6179   VLC player play
-00004250: 6261 636b 2073 7065 6564 3a22 290a 2020  back speed:").  
-00004260: 2020 2020 2020 2020 2020 7072 696e 7431            print1
-00004270: 2822 2862 6574 7765 656e 2030 2e31 2061  ("(between 0.1 a
-00004280: 6e64 2032 2e30 2922 290a 2020 2020 2020  nd 2.0)").      
-00004290: 2020 2020 2020 766c 6353 7065 6564 203d        vlcSpeed =
-000042a0: 2073 656c 662e 7072 6f6d 7074 732e 7369   self.prompts.si
-000042b0: 6d70 6c65 5072 6f6d 7074 2873 7479 6c65  mplePrompt(style
-000042c0: 3d73 656c 662e 7072 6f6d 7074 732e 7072  =self.prompts.pr
-000042d0: 6f6d 7074 5374 796c 6532 2c20 7661 6c69  omptStyle2, vali
-000042e0: 6461 746f 723d 466c 6f61 7456 616c 6964  dator=FloatValid
-000042f0: 6174 6f72 2829 2c20 6465 6661 756c 743d  ator(), default=
-00004300: 7374 7228 636f 6e66 6967 2e76 6c63 5370  str(config.vlcSp
-00004310: 6565 6429 290a 2020 2020 2020 2020 2020  eed)).          
-00004320: 2020 6966 2076 6c63 5370 6565 6420 616e    if vlcSpeed an
-00004330: 6420 6e6f 7420 766c 6353 7065 6564 2e73  d not vlcSpeed.s
-00004340: 7472 6970 2829 2e6c 6f77 6572 2829 203d  trip().lower() =
-00004350: 3d20 636f 6e66 6967 2e65 7869 745f 656e  = config.exit_en
-00004360: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00004370: 2020 2020 2076 6c63 5370 6565 6420 3d20       vlcSpeed = 
-00004380: 666c 6f61 7428 766c 6353 7065 6564 290a  float(vlcSpeed).
-00004390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000043a0: 6966 2076 6c63 5370 6565 6420 3c20 302e  if vlcSpeed < 0.
-000043b0: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
-000043c0: 2020 2020 2020 2076 6c63 5370 6565 6420         vlcSpeed 
-000043d0: 3d20 302e 310a 2020 2020 2020 2020 2020  = 0.1.          
-000043e0: 2020 2020 2020 656c 6966 2076 6c63 5370        elif vlcSp
-000043f0: 6565 6420 3e20 323a 0a20 2020 2020 2020  eed > 2:.       
-00004400: 2020 2020 2020 2020 2020 2020 2076 6c63               vlc
-00004410: 5370 6565 6420 3d20 320a 2020 2020 2020  Speed = 2.      
-00004420: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-00004430: 2e76 6c63 5370 6565 6420 3d20 726f 756e  .vlcSpeed = roun
-00004440: 6428 766c 6353 7065 6564 2c20 3129 0a20  d(vlcSpeed, 1). 
-00004450: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00004460: 7269 6e74 3328 6622 564c 4320 706c 6179  rint3(f"VLC play
-00004470: 6572 2070 6c61 7962 6163 6b20 7370 6565  er playback spee
-00004480: 643a 207b 766c 6353 7065 6564 7d22 290a  d: {vlcSpeed}").
-00004490: 0a20 2020 2064 6566 2073 6574 4763 7474  .    def setGctt
-000044a0: 7353 7065 6564 2873 656c 6629 3a0a 2020  sSpeed(self):.  
-000044b0: 2020 2020 2020 7072 696e 7431 2822 5370        print1("Sp
-000044c0: 6563 6966 7920 476f 6f67 6c65 2043 6c6f  ecify Google Clo
-000044d0: 7564 2054 6578 742d 746f 2d53 7065 6563  ud Text-to-Speec
-000044e0: 6820 706c 6179 6261 636b 2073 7065 6564  h playback speed
-000044f0: 3a22 290a 2020 2020 2020 2020 7072 696e  :").        prin
-00004500: 7431 2822 2862 6574 7765 656e 2030 2e31  t1("(between 0.1
-00004510: 2061 6e64 2032 2e30 2922 290a 2020 2020   and 2.0)").    
-00004520: 2020 2020 6763 7474 7353 7065 6564 203d      gcttsSpeed =
-00004530: 2073 656c 662e 7072 6f6d 7074 732e 7369   self.prompts.si
-00004540: 6d70 6c65 5072 6f6d 7074 2873 7479 6c65  mplePrompt(style
-00004550: 3d73 656c 662e 7072 6f6d 7074 732e 7072  =self.prompts.pr
-00004560: 6f6d 7074 5374 796c 6532 2c20 7661 6c69  omptStyle2, vali
-00004570: 6461 746f 723d 466c 6f61 7456 616c 6964  dator=FloatValid
-00004580: 6174 6f72 2829 2c20 6465 6661 756c 743d  ator(), default=
-00004590: 7374 7228 636f 6e66 6967 2e67 6374 7473  str(config.gctts
-000045a0: 5370 6565 6429 290a 2020 2020 2020 2020  Speed)).        
-000045b0: 6966 2067 6374 7473 5370 6565 6420 616e  if gcttsSpeed an
-000045c0: 6420 6e6f 7420 6763 7474 7353 7065 6564  d not gcttsSpeed
-000045d0: 2e73 7472 6970 2829 2e6c 6f77 6572 2829  .strip().lower()
-000045e0: 203d 3d20 636f 6e66 6967 2e65 7869 745f   == config.exit_
-000045f0: 656e 7472 793a 0a20 2020 2020 2020 2020  entry:.         
-00004600: 2020 2067 6374 7473 5370 6565 6420 3d20     gcttsSpeed = 
-00004610: 666c 6f61 7428 6763 7474 7353 7065 6564  float(gcttsSpeed
-00004620: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-00004630: 2067 6374 7473 5370 6565 6420 3c20 302e   gcttsSpeed < 0.
-00004640: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
-00004650: 2020 2067 6374 7473 5370 6565 6420 3d20     gcttsSpeed = 
-00004660: 302e 310a 2020 2020 2020 2020 2020 2020  0.1.            
-00004670: 656c 6966 2067 6374 7473 5370 6565 6420  elif gcttsSpeed 
-00004680: 3e20 323a 0a20 2020 2020 2020 2020 2020  > 2:.           
-00004690: 2020 2020 2067 6374 7473 5370 6565 6420       gcttsSpeed 
-000046a0: 3d20 320a 2020 2020 2020 2020 2020 2020  = 2.            
-000046b0: 636f 6e66 6967 2e67 6374 7473 5370 6565  config.gcttsSpee
-000046c0: 6420 3d20 726f 756e 6428 6763 7474 7353  d = round(gcttsS
-000046d0: 7065 6564 2c20 3129 0a20 2020 2020 2020  peed, 1).       
-000046e0: 2020 2020 2070 7269 6e74 3328 6622 476f       print3(f"Go
-000046f0: 6f67 6c65 2043 6c6f 7564 2054 6578 742d  ogle Cloud Text-
-00004700: 746f 2d53 7065 6563 6820 706c 6179 6261  to-Speech playba
-00004710: 636b 2073 7065 6564 3a20 7b67 6374 7473  ck speed: {gctts
-00004720: 5370 6565 647d 2229 0a0a 2020 2020 6465  Speed}")..    de
-00004730: 6620 7365 6c65 6374 476f 6f67 6c65 4150  f selectGoogleAP
-00004740: 4973 2873 656c 6629 3a0a 2020 2020 2020  Is(self):.      
-00004750: 2020 6966 206f 732e 656e 7669 726f 6e5b    if os.environ[
-00004760: 2247 4f4f 474c 455f 4150 504c 4943 4154  "GOOGLE_APPLICAT
-00004770: 494f 4e5f 4352 4544 454e 5449 414c 5322  ION_CREDENTIALS"
-00004780: 5d3a 0a20 2020 2020 2020 2020 2020 2065  ]:.            e
-00004790: 6e61 626c 6564 476f 6f67 6c65 4150 4973  nabledGoogleAPIs
-000047a0: 203d 2073 656c 662e 6469 616c 6f67 732e   = self.dialogs.
-000047b0: 6765 744d 756c 7469 706c 6553 656c 6563  getMultipleSelec
-000047c0: 7469 6f6e 280a 2020 2020 2020 2020 2020  tion(.          
-000047d0: 2020 2020 2020 7469 746c 653d 2247 6f6f        title="Goo
-000047e0: 676c 6520 436c 6f75 6420 5365 7276 6963  gle Cloud Servic
-000047f0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-00004800: 2020 2020 7465 7874 3d22 5365 6c65 6374      text="Select
-00004810: 2074 6f20 656e 6162 6c65 2047 6f6f 676c   to enable Googl
-00004820: 6520 436c 6f75 6420 5365 7276 6963 6520  e Cloud Service 
-00004830: 696e 204c 6574 4d65 446f 4974 2041 493a  in LetMeDoIt AI:
-00004840: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-00004850: 2020 206f 7074 696f 6e73 3d28 2256 6572     options=("Ver
-00004860: 7465 7820 4149 222c 2022 5370 6565 6368  tex AI", "Speech
-00004870: 2d74 6f2d 5465 7874 222c 2022 5465 7874  -to-Text", "Text
-00004880: 2d74 6f2d 5370 6565 6368 2229 2c0a 2020  -to-Speech"),.  
-00004890: 2020 2020 2020 2020 2020 2020 2020 6465                de
-000048a0: 6661 756c 745f 7661 6c75 6573 3d63 6f6e  fault_values=con
-000048b0: 6669 672e 656e 6162 6c65 6447 6f6f 676c  fig.enabledGoogl
-000048c0: 6541 5049 732c 0a20 2020 2020 2020 2020  eAPIs,.         
-000048d0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-000048e0: 2069 6620 656e 6162 6c65 6447 6f6f 676c   if enabledGoogl
-000048f0: 6541 5049 7320 6973 206e 6f74 204e 6f6e  eAPIs is not Non
-00004900: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00004910: 2020 2063 6f6e 6669 672e 656e 6162 6c65     config.enable
-00004920: 6447 6f6f 676c 6541 5049 7320 3d20 656e  dGoogleAPIs = en
-00004930: 6162 6c65 6447 6f6f 676c 6541 5049 730a  abledGoogleAPIs.
-00004940: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00004950: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-00004960: 2e65 6e61 626c 6564 476f 6f67 6c65 4150  .enabledGoogleAP
-00004970: 4973 203d 205b 2256 6572 7465 7820 4149  Is = ["Vertex AI
-00004980: 225d 0a20 2020 2020 2020 2020 2020 2070  "].            p
-00004990: 7269 6e74 3128 6622 4150 4920 6b65 7920  rint1(f"API key 
-000049a0: 6a73 6f6e 2066 696c 6520 277b 636f 6e66  json file '{conf
-000049b0: 6967 2e67 6f6f 676c 655f 636c 6f75 645f  ig.google_cloud_
-000049c0: 6372 6564 656e 7469 616c 735f 6669 6c65  credentials_file
-000049d0: 7d27 206e 6f74 2066 6f75 6e64 2122 290a  }' not found!").
-000049e0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-000049f0: 7431 2822 5265 6164 2068 7474 7073 3a2f  t1("Read https:/
-00004a00: 2f67 6974 6875 622e 636f 6d2f 656c 6972  /github.com/elir
-00004a10: 616e 776f 6e67 2f6c 6574 6d65 646f 6974  anwong/letmedoit
-00004a20: 2f77 696b 692f 476f 6f67 6c65 2d41 5049  /wiki/Google-API
-00004a30: 2d53 6574 7570 2066 6f72 2073 6574 7469  -Setup for setti
-00004a40: 6e67 2075 7020 476f 6f67 6c65 2041 5049  ng up Google API
-00004a50: 2e22 290a 2020 2020 2020 2020 6966 2022  .").        if "
-00004a60: 5370 6565 6368 2d74 6f2d 5465 7874 2220  Speech-to-Text" 
-00004a70: 696e 2063 6f6e 6669 672e 656e 6162 6c65  in config.enable
-00004a80: 6447 6f6f 676c 6541 5049 733a 0a20 2020  dGoogleAPIs:.   
-00004a90: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-00004aa0: 636f 6e66 6967 2e76 6f69 6365 5479 7069  config.voiceTypi
-00004ab0: 6e67 506c 6174 666f 726d 203d 3d20 2267  ngPlatform == "g
-00004ac0: 6f6f 676c 6563 6c6f 7564 223a 0a20 2020  ooglecloud":.   
-00004ad0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-00004ae0: 6669 672e 766f 6963 6554 7970 696e 6750  fig.voiceTypingP
-00004af0: 6c61 7466 6f72 6d20 3d20 2267 6f6f 676c  latform = "googl
-00004b00: 6563 6c6f 7564 220a 2020 2020 2020 2020  ecloud".        
-00004b10: 2020 2020 2020 2020 7072 696e 7433 2822          print3("
-00004b20: 566f 6963 6520 7479 7069 6e67 2070 6c61  Voice typing pla
-00004b30: 7466 6f72 6d20 6368 616e 6765 6420 746f  tform changed to
-00004b40: 3a20 476f 6f67 6c65 2054 6578 742d 746f  : Google Text-to
-00004b50: 2d53 7065 6563 6820 2841 5049 2922 290a  -Speech (API)").
-00004b60: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00004b70: 2e73 6574 5370 6565 6368 546f 5465 7874  .setSpeechToText
-00004b80: 4c61 6e67 7561 6765 2829 0a20 2020 2020  Language().     
-00004b90: 2020 2069 6620 2254 6578 742d 746f 2d53     if "Text-to-S
-00004ba0: 7065 6563 6822 2069 6e20 636f 6e66 6967  peech" in config
-00004bb0: 2e65 6e61 626c 6564 476f 6f67 6c65 4150  .enabledGoogleAP
-00004bc0: 4973 3a0a 2020 2020 2020 2020 2020 2020  Is:.            
-00004bd0: 6966 206e 6f74 2063 6f6e 6669 672e 7474  if not config.tt
-00004be0: 7350 6c61 7466 6f72 6d20 3d3d 2022 676f  sPlatform == "go
-00004bf0: 6f67 6c65 636c 6f75 6422 3a0a 2020 2020  oglecloud":.    
-00004c00: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00004c10: 6967 2e74 7473 506c 6174 666f 726d 203d  ig.ttsPlatform =
-00004c20: 2022 676f 6f67 6c65 636c 6f75 6422 0a20   "googlecloud". 
-00004c30: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00004c40: 7269 6e74 3328 2254 6578 742d 746f 2d53  rint3("Text-to-S
-00004c50: 7065 6563 6820 706c 6174 666f 726d 2063  peech platform c
-00004c60: 6861 6e67 6564 2074 6f3a 2047 6f6f 676c  hanged to: Googl
-00004c70: 6520 5465 7874 2d74 6f2d 5370 6565 6368  e Text-to-Speech
-00004c80: 2028 4150 4929 2229 0a20 2020 2020 2020   (API)").       
-00004c90: 2020 2020 2073 656c 662e 7365 7447 6374       self.setGct
-00004ca0: 7473 4c61 6e67 7561 6765 2829 0a20 2020  tsLanguage().   
-00004cb0: 2020 2020 2020 2020 2073 656c 662e 7365           self.se
-00004cc0: 7447 6374 7473 5370 6565 6428 290a 2020  tGcttsSpeed().  
-00004cd0: 2020 2020 2020 636f 6e66 6967 2e73 6176        config.sav
-00004ce0: 6543 6f6e 6669 6728 290a 0a20 2020 2064  eConfig()..    d
-00004cf0: 6566 2073 656c 6563 7450 6c75 6769 6e73  ef selectPlugins
-00004d00: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00004d10: 706c 7567 696e 7320 3d20 5b5d 0a20 2020  plugins = [].   
-00004d20: 2020 2020 2065 6e61 626c 6564 506c 7567       enabledPlug
-00004d30: 696e 7320 3d20 5b5d 0a20 2020 2020 2020  ins = [].       
-00004d40: 2070 6c75 6769 6e46 6f6c 6465 7220 3d20   pluginFolder = 
-00004d50: 6f73 2e70 6174 682e 6a6f 696e 2863 6f6e  os.path.join(con
-00004d60: 6669 672e 6672 6565 4765 6e69 7573 4149  fig.freeGeniusAI
-00004d70: 466f 6c64 6572 2c20 2270 6c75 6769 6e73  Folder, "plugins
-00004d80: 2229 0a20 2020 2020 2020 2069 6620 636f  ").        if co
-00004d90: 6e66 6967 2e6c 6f63 616c 5374 6f72 6167  nfig.localStorag
-00004da0: 653a 0a20 2020 2020 2020 2020 2020 2063  e:.            c
-00004db0: 7573 746f 6d50 6c75 6769 6e46 6f6c 6572  ustomPluginFoler
-00004dc0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-00004dd0: 636f 6e66 6967 2e6c 6f63 616c 5374 6f72  config.localStor
-00004de0: 6167 652c 2022 706c 7567 696e 7322 290a  age, "plugins").
-00004df0: 2020 2020 2020 2020 2020 2020 5061 7468              Path
-00004e00: 2863 7573 746f 6d50 6c75 6769 6e46 6f6c  (customPluginFol
-00004e10: 6572 292e 6d6b 6469 7228 7061 7265 6e74  er).mkdir(parent
-00004e20: 733d 5472 7565 2c20 6578 6973 745f 6f6b  s=True, exist_ok
-00004e30: 3d54 7275 6529 0a20 2020 2020 2020 2020  =True).         
-00004e40: 2020 2070 6c75 6769 6e46 6f6c 6465 7273     pluginFolders
-00004e50: 203d 2028 706c 7567 696e 466f 6c64 6572   = (pluginFolder
-00004e60: 2c20 6375 7374 6f6d 506c 7567 696e 466f  , customPluginFo
-00004e70: 6c65 7229 0a20 2020 2020 2020 2065 6c73  ler).        els
-00004e80: 653a 0a20 2020 2020 2020 2020 2020 2070  e:.            p
-00004e90: 6c75 6769 6e46 6f6c 6465 7273 203d 2028  luginFolders = (
-00004ea0: 706c 7567 696e 466f 6c64 6572 2c29 0a20  pluginFolder,). 
-00004eb0: 2020 2020 2020 2066 6f72 2066 6f6c 6465         for folde
-00004ec0: 7220 696e 2070 6c75 6769 6e46 6f6c 6465  r in pluginFolde
-00004ed0: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
-00004ee0: 666f 7220 706c 7567 696e 2069 6e20 6765  for plugin in ge
-00004ef0: 7446 696c 656e 616d 6573 5769 7468 6f75  tFilenamesWithou
-00004f00: 7445 7874 656e 7369 6f6e 2866 6f6c 6465  tExtension(folde
-00004f10: 722c 2022 7079 2229 3a0a 2020 2020 2020  r, "py"):.      
-00004f20: 2020 2020 2020 2020 2020 706c 7567 696e            plugin
-00004f30: 732e 6170 7065 6e64 2870 6c75 6769 6e29  s.append(plugin)
-00004f40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004f50: 2069 6620 6e6f 7420 706c 7567 696e 2069   if not plugin i
-00004f60: 6e20 636f 6e66 6967 2e70 6c75 6769 6e45  n config.pluginE
-00004f70: 7863 6c75 6465 4c69 7374 3a0a 2020 2020  xcludeList:.    
-00004f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f90: 656e 6162 6c65 6450 6c75 6769 6e73 2e61  enabledPlugins.a
-00004fa0: 7070 656e 6428 706c 7567 696e 290a 2020  ppend(plugin).  
-00004fb0: 2020 2020 2020 656e 6162 6c65 6450 6c75        enabledPlu
-00004fc0: 6769 6e73 203d 2073 656c 662e 6469 616c  gins = self.dial
-00004fd0: 6f67 732e 6765 744d 756c 7469 706c 6553  ogs.getMultipleS
-00004fe0: 656c 6563 7469 6f6e 280a 2020 2020 2020  election(.      
-00004ff0: 2020 2020 2020 7469 746c 653d 2245 6e61        title="Ena
-00005000: 626c 6520 2f20 4469 7361 626c 6520 506c  ble / Disable Pl
-00005010: 7567 696e 7322 2c0a 2020 2020 2020 2020  ugins",.        
-00005020: 2020 2020 7465 7874 3d22 5365 6c65 6374      text="Select
-00005030: 2074 6f20 656e 6162 6c65 2070 6c75 6769   to enable plugi
-00005040: 6e28 7329 3a22 2c0a 2020 2020 2020 2020  n(s):",.        
-00005050: 2020 2020 6f70 7469 6f6e 733d 706c 7567      options=plug
-00005060: 696e 732c 0a20 2020 2020 2020 2020 2020  ins,.           
-00005070: 2064 6566 6175 6c74 5f76 616c 7565 733d   default_values=
-00005080: 656e 6162 6c65 6450 6c75 6769 6e73 2c0a  enabledPlugins,.
-00005090: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-000050a0: 2020 6966 2065 6e61 626c 6564 506c 7567    if enabledPlug
-000050b0: 696e 7320 6973 206e 6f74 204e 6f6e 653a  ins is not None:
-000050c0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-000050d0: 2070 2069 6e20 706c 7567 696e 733a 0a20   p in plugins:. 
-000050e0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-000050f0: 6620 7020 696e 2065 6e61 626c 6564 506c  f p in enabledPl
-00005100: 7567 696e 7320 616e 6420 7020 696e 2063  ugins and p in c
-00005110: 6f6e 6669 672e 706c 7567 696e 4578 636c  onfig.pluginExcl
-00005120: 7564 654c 6973 743a 0a20 2020 2020 2020  udeList:.       
-00005130: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-00005140: 6669 672e 706c 7567 696e 4578 636c 7564  fig.pluginExclud
-00005150: 654c 6973 742e 7265 6d6f 7665 2870 290a  eList.remove(p).
-00005160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005170: 656c 6966 206e 6f74 2070 2069 6e20 656e  elif not p in en
-00005180: 6162 6c65 6450 6c75 6769 6e73 2061 6e64  abledPlugins and
-00005190: 206e 6f74 2070 2069 6e20 636f 6e66 6967   not p in config
-000051a0: 2e70 6c75 6769 6e45 7863 6c75 6465 4c69  .pluginExcludeLi
-000051b0: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
-000051c0: 2020 2020 2020 2020 636f 6e66 6967 2e70          config.p
-000051d0: 6c75 6769 6e45 7863 6c75 6465 4c69 7374  luginExcludeList
-000051e0: 2e61 7070 656e 6428 7029 0a20 2020 2020  .append(p).     
-000051f0: 2020 2020 2020 2050 6c75 6769 6e73 2e72         Plugins.r
-00005200: 756e 506c 7567 696e 7328 290a 2020 2020  unPlugins().    
-00005210: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
-00005220: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
-00005230: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-00005240: 506c 7567 696e 2073 656c 6563 7469 6f6e  Plugin selection
-00005250: 2075 7064 6174 6564 2122 290a 0a20 2020   updated!")..   
-00005260: 2064 6566 2067 6574 436c 694f 7574 7075   def getCliOutpu
-00005270: 7428 7365 6c66 2c20 636c 6929 3a0a 2020  t(self, cli):.  
-00005280: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-00005290: 2020 2020 2020 2070 726f 6365 7373 203d         process =
-000052a0: 2073 7562 7072 6f63 6573 732e 506f 7065   subprocess.Pope
-000052b0: 6e28 636c 692c 2073 6865 6c6c 3d54 7275  n(cli, shell=Tru
-000052c0: 652c 2073 7464 6f75 743d 7375 6270 726f  e, stdout=subpro
-000052d0: 6365 7373 2e50 4950 452c 2073 7464 6572  cess.PIPE, stder
-000052e0: 723d 7375 6270 726f 6365 7373 2e50 4950  r=subprocess.PIP
-000052f0: 4529 0a20 2020 2020 2020 2020 2020 2073  E).            s
-00005300: 7464 6f75 742c 202a 5f20 3d20 7072 6f63  tdout, *_ = proc
-00005310: 6573 732e 636f 6d6d 756e 6963 6174 6528  ess.communicate(
-00005320: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00005330: 7475 726e 2073 7464 6f75 742e 6465 636f  turn stdout.deco
-00005340: 6465 2822 7574 662d 3822 290a 2020 2020  de("utf-8").    
-00005350: 2020 2020 6578 6365 7074 3a0a 2020 2020      except:.    
-00005360: 2020 2020 2020 2020 7265 7475 726e 2022          return "
-00005370: 220a 0a20 2020 2064 6566 2066 696e 6765  "..    def finge
-00005380: 7270 7269 6e74 2873 656c 6629 3a0a 2020  rprint(self):.  
-00005390: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-000053a0: 2020 2020 2020 206f 7574 7075 7420 3d20         output = 
-000053b0: 6a73 6f6e 2e6c 6f61 6473 2873 656c 662e  json.loads(self.
-000053c0: 6765 7443 6c69 4f75 7470 7574 2822 7465  getCliOutput("te
-000053d0: 726d 7578 2d66 696e 6765 7270 7269 6e74  rmux-fingerprint
-000053e0: 2229 290a 2020 2020 2020 2020 2020 2020  ")).            
-000053f0: 7265 7475 726e 2054 7275 6520 6966 206f  return True if o
-00005400: 7574 7075 745b 2261 7574 685f 7265 7375  utput["auth_resu
-00005410: 6c74 225d 203d 3d20 2241 5554 485f 5245  lt"] == "AUTH_RE
-00005420: 5355 4c54 5f53 5543 4345 5353 2220 656c  SULT_SUCCESS" el
-00005430: 7365 2046 616c 7365 0a20 2020 2020 2020  se False.       
-00005440: 2065 7863 6570 743a 0a20 2020 2020 2020   except:.       
-00005450: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
-00005460: 650a 0a20 2020 2064 6566 2063 6861 6e67  e..    def chang
-00005470: 6543 6861 7447 5054 4150 496b 6579 2873  eChatGPTAPIkey(s
-00005480: 656c 6629 3a0a 2020 2020 2020 2020 6966  elf):.        if
-00005490: 206e 6f74 2063 6f6e 6669 672e 7465 726d   not config.term
-000054a0: 696e 616c 456e 6162 6c65 5465 726d 7578  inalEnableTermux
-000054b0: 4150 4920 6f72 2028 636f 6e66 6967 2e74  API or (config.t
-000054c0: 6572 6d69 6e61 6c45 6e61 626c 6554 6572  erminalEnableTer
-000054d0: 6d75 7841 5049 2061 6e64 2073 656c 662e  muxAPI and self.
-000054e0: 6669 6e67 6572 7072 696e 7428 2929 3a0a  fingerprint()):.
-000054f0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00005500: 7431 2822 456e 7465 7220 796f 7572 204f  t1("Enter your O
-00005510: 7065 6e41 4920 4150 4920 4b65 7920 5b6f  penAI API Key [o
-00005520: 7074 696f 6e61 6c5d 3a22 290a 2020 2020  ptional]:").    
-00005530: 2020 2020 2020 2020 6170 696b 6579 203d          apikey =
-00005540: 2073 656c 662e 7072 6f6d 7074 732e 7369   self.prompts.si
-00005550: 6d70 6c65 5072 6f6d 7074 2873 7479 6c65  mplePrompt(style
-00005560: 3d73 656c 662e 7072 6f6d 7074 732e 7072  =self.prompts.pr
-00005570: 6f6d 7074 5374 796c 6532 2c20 6465 6661  omptStyle2, defa
-00005580: 756c 743d 636f 6e66 6967 2e6f 7065 6e61  ult=config.opena
-00005590: 6941 7069 4b65 792c 2069 735f 7061 7373  iApiKey, is_pass
-000055a0: 776f 7264 3d54 7275 6529 0a20 2020 2020  word=True).     
-000055b0: 2020 2020 2020 2069 6620 6170 696b 6579         if apikey
-000055c0: 2061 6e64 206e 6f74 2061 7069 6b65 792e   and not apikey.
-000055d0: 7374 7269 7028 292e 6c6f 7765 7228 2920  strip().lower() 
-000055e0: 696e 2028 636f 6e66 6967 2e63 616e 6365  in (config.cance
-000055f0: 6c5f 656e 7472 792c 2063 6f6e 6669 672e  l_entry, config.
-00005600: 6578 6974 5f65 6e74 7279 293a 0a20 2020  exit_entry):.   
-00005610: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-00005620: 6669 672e 6f70 656e 6169 4170 694b 6579  fig.openaiApiKey
-00005630: 203d 2061 7069 6b65 790a 2020 2020 2020   = apikey.      
-00005640: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00005650: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00005660: 6967 2e6f 7065 6e61 6941 7069 4b65 7920  ig.openaiApiKey 
-00005670: 3d20 2266 7265 6567 656e 6975 7322 0a20  = "freegenius". 
-00005680: 2020 2020 2020 2020 2020 2023 7072 696e             #prin
-00005690: 7431 2822 456e 7465 7220 796f 7572 204f  t1("Enter your O
-000056a0: 7267 616e 697a 6174 696f 6e20 4944 205b  rganization ID [
-000056b0: 6f70 7469 6f6e 616c 5d3a 2229 0a20 2020  optional]:").   
-000056c0: 2020 2020 2020 2020 2023 6f69 6420 3d20           #oid = 
-000056d0: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
-000056e0: 706c 6550 726f 6d70 7428 6465 6661 756c  plePrompt(defaul
-000056f0: 743d 636f 6e66 6967 2e6f 7065 6e61 6941  t=config.openaiA
-00005700: 7069 4f72 6761 6e69 7a61 7469 6f6e 2c20  piOrganization, 
-00005710: 6973 5f70 6173 7377 6f72 643d 5472 7565  is_password=True
-00005720: 290a 2020 2020 2020 2020 2020 2020 2369  ).            #i
-00005730: 6620 6f69 6420 616e 6420 6e6f 7420 6f69  f oid and not oi
-00005740: 642e 7374 7269 7028 292e 6c6f 7765 7228  d.strip().lower(
-00005750: 2920 696e 2028 636f 6e66 6967 2e63 616e  ) in (config.can
-00005760: 6365 6c5f 656e 7472 792c 2063 6f6e 6669  cel_entry, confi
-00005770: 672e 6578 6974 5f65 6e74 7279 293a 0a20  g.exit_entry):. 
-00005780: 2020 2020 2020 2020 2020 2023 2020 2020             #    
-00005790: 636f 6e66 6967 2e6f 7065 6e61 6941 7069  config.openaiApi
-000057a0: 4f72 6761 6e69 7a61 7469 6f6e 203d 206f  Organization = o
-000057b0: 6964 0a20 2020 2020 2020 2020 2020 2043  id.            C
-000057c0: 616c 6c4c 4c4d 2e63 6865 636b 436f 6d70  allLLM.checkComp
-000057d0: 6c65 7469 6f6e 2829 0a20 2020 2020 2020  letion().       
-000057e0: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
-000057f0: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
-00005800: 2020 2020 2070 7269 6e74 3228 2243 6f6e       print2("Con
-00005810: 6669 6775 7261 7469 6f6e 7320 7570 6461  figurations upda
-00005820: 7465 6421 2229 0a20 2020 2020 2020 2020  ted!").         
-00005830: 2020 2073 6574 4368 6174 4750 5441 5049     setChatGPTAPI
-00005840: 6b65 7928 290a 0a20 2020 2064 6566 2063  key()..    def c
-00005850: 6861 6e67 654f 7065 6e77 6561 7468 6572  hangeOpenweather
-00005860: 6d61 7041 7069 2873 656c 6629 3a0a 2020  mapApi(self):.  
-00005870: 2020 2020 2020 6966 206e 6f74 2063 6f6e        if not con
-00005880: 6669 672e 7465 726d 696e 616c 456e 6162  fig.terminalEnab
-00005890: 6c65 5465 726d 7578 4150 4920 6f72 2028  leTermuxAPI or (
-000058a0: 636f 6e66 6967 2e74 6572 6d69 6e61 6c45  config.terminalE
-000058b0: 6e61 626c 6554 6572 6d75 7841 5049 2061  nableTermuxAPI a
-000058c0: 6e64 2073 656c 662e 6669 6e67 6572 7072  nd self.fingerpr
-000058d0: 696e 7428 2929 3a0a 2020 2020 2020 2020  int()):.        
-000058e0: 2020 2020 7072 696e 7431 2822 546f 2073      print1("To s
-000058f0: 6574 2075 7020 4f70 656e 5765 6174 6865  et up OpenWeathe
-00005900: 724d 6170 2041 5049 204b 6579 2c20 7265  rMap API Key, re
-00005910: 6164 3a5c 6e68 7474 7073 3a2f 2f67 6974  ad:\nhttps://git
-00005920: 6875 622e 636f 6d2f 656c 6972 616e 776f  hub.com/eliranwo
-00005930: 6e67 2f6c 6574 6d65 646f 6974 2f77 696b  ng/letmedoit/wik
-00005940: 692f 4f70 656e 5765 6174 6865 724d 6170  i/OpenWeatherMap
-00005950: 2d41 5049 2d53 6574 7570 5c6e 2229 0a20  -API-Setup\n"). 
-00005960: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00005970: 3128 2245 6e74 6572 2079 6f75 7220 4f70  1("Enter your Op
-00005980: 656e 5765 6174 6865 724d 6170 2041 5049  enWeatherMap API
-00005990: 204b 6579 3a22 290a 2020 2020 2020 2020   Key:").        
-000059a0: 2020 2020 7072 696e 7428 290a 2020 2020      print().    
-000059b0: 2020 2020 2020 2020 6170 696b 6579 203d          apikey =
-000059c0: 2073 656c 662e 7072 6f6d 7074 732e 7369   self.prompts.si
-000059d0: 6d70 6c65 5072 6f6d 7074 2873 7479 6c65  mplePrompt(style
-000059e0: 3d73 656c 662e 7072 6f6d 7074 732e 7072  =self.prompts.pr
-000059f0: 6f6d 7074 5374 796c 6532 2c20 6465 6661  omptStyle2, defa
-00005a00: 756c 743d 636f 6e66 6967 2e6f 7065 6e77  ult=config.openw
-00005a10: 6561 7468 6572 6d61 7041 7069 2c20 6973  eathermapApi, is
-00005a20: 5f70 6173 7377 6f72 643d 5472 7565 290a  _password=True).
-00005a30: 2020 2020 2020 2020 2020 2020 6966 2061              if a
-00005a40: 7069 6b65 7920 616e 6420 6e6f 7420 6170  pikey and not ap
-00005a50: 696b 6579 2e73 7472 6970 2829 2e6c 6f77  ikey.strip().low
-00005a60: 6572 2829 2069 6e20 2863 6f6e 6669 672e  er() in (config.
-00005a70: 6361 6e63 656c 5f65 6e74 7279 2c20 636f  cancel_entry, co
-00005a80: 6e66 6967 2e65 7869 745f 656e 7472 7929  nfig.exit_entry)
-00005a90: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00005aa0: 2020 636f 6e66 6967 2e6f 7065 6e77 6561    config.openwea
-00005ab0: 7468 6572 6d61 7041 7069 203d 2061 7069  thermapApi = api
-00005ac0: 6b65 790a 2020 2020 2020 2020 2020 2020  key.            
-00005ad0: 6966 2067 6574 5765 6174 6865 7228 2920  if getWeather() 
-00005ae0: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-00005af0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-00005b00: 6669 672e 7361 7665 436f 6e66 6967 2829  fig.saveConfig()
-00005b10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005b20: 2070 7269 6e74 3228 2243 6f6e 6669 6775   print2("Configu
-00005b30: 7261 7469 6f6e 7320 7570 6461 7465 6421  rations updated!
-00005b40: 2229 0a20 2020 2020 2020 2020 2020 2065  ").            e
-00005b50: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00005b60: 2020 2020 2063 6f6e 6669 672e 6f70 656e       config.open
-00005b70: 7765 6174 6865 726d 6170 4170 6920 3d20  weathermapApi = 
-00005b80: 2222 0a20 2020 2020 2020 2020 2020 2020  "".             
-00005b90: 2020 2070 7269 6e74 3228 2249 6e76 616c     print2("Inval
-00005ba0: 6964 2041 5049 206b 6579 2065 6e74 6572  id API key enter
-00005bb0: 6564 2122 290a 0a20 2020 2064 6566 2063  ed!")..    def c
-00005bc0: 6861 6e67 6545 6c65 7665 6e6c 6162 7341  hangeElevenlabsA
-00005bd0: 7069 2873 656c 6629 3a0a 2020 2020 2020  pi(self):.      
-00005be0: 2020 6966 206e 6f74 2063 6f6e 6669 672e    if not config.
-00005bf0: 7465 726d 696e 616c 456e 6162 6c65 5465  terminalEnableTe
-00005c00: 726d 7578 4150 4920 6f72 2028 636f 6e66  rmuxAPI or (conf
-00005c10: 6967 2e74 6572 6d69 6e61 6c45 6e61 626c  ig.terminalEnabl
-00005c20: 6554 6572 6d75 7841 5049 2061 6e64 2073  eTermuxAPI and s
-00005c30: 656c 662e 6669 6e67 6572 7072 696e 7428  elf.fingerprint(
-00005c40: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
-00005c50: 7072 696e 7431 2822 546f 2073 6574 2075  print1("To set u
-00005c60: 7020 456c 6576 656e 4c61 6273 2041 5049  p ElevenLabs API
-00005c70: 204b 6579 2c20 7265 6164 3a5c 6e68 7474   Key, read:\nhtt
-00005c80: 7073 3a2f 2f65 6c65 7665 6e6c 6162 732e  ps://elevenlabs.
-00005c90: 696f 2f64 6f63 732f 6170 692d 7265 6665  io/docs/api-refe
-00005ca0: 7265 6e63 652f 7465 7874 2d74 6f2d 7370  rence/text-to-sp
-00005cb0: 6565 6368 2361 7574 6865 6e74 6963 6174  eech#authenticat
-00005cc0: 696f 6e5c 6e22 290a 2020 2020 2020 2020  ion\n").        
-00005cd0: 2020 2020 7072 696e 7431 2822 456e 7465      print1("Ente
-00005ce0: 7220 796f 7572 2045 6c65 7665 6e4c 6162  r your ElevenLab
-00005cf0: 7320 4150 4920 4b65 793a 2229 0a20 2020  s API Key:").   
-00005d00: 2020 2020 2020 2020 2070 7269 6e74 2829           print()
-00005d10: 0a20 2020 2020 2020 2020 2020 2061 7069  .            api
-00005d20: 6b65 7920 3d20 7365 6c66 2e70 726f 6d70  key = self.promp
-00005d30: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
-00005d40: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
-00005d50: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
-00005d60: 2064 6566 6175 6c74 3d63 6f6e 6669 672e   default=config.
-00005d70: 656c 6576 656e 6c61 6273 4170 692c 2069  elevenlabsApi, i
-00005d80: 735f 7061 7373 776f 7264 3d54 7275 6529  s_password=True)
-00005d90: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00005da0: 6170 696b 6579 2061 6e64 206e 6f74 2061  apikey and not a
-00005db0: 7069 6b65 792e 7374 7269 7028 292e 6c6f  pikey.strip().lo
-00005dc0: 7765 7228 2920 696e 2028 636f 6e66 6967  wer() in (config
-00005dd0: 2e63 616e 6365 6c5f 656e 7472 792c 2063  .cancel_entry, c
-00005de0: 6f6e 6669 672e 6578 6974 5f65 6e74 7279  onfig.exit_entry
-00005df0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00005e00: 2020 2063 6f6e 6669 672e 656c 6576 656e     config.eleven
-00005e10: 6c61 6273 4170 6920 3d20 6170 696b 6579  labsApi = apikey
-00005e20: 0a20 2020 2020 2020 2020 2020 2074 7279  .            try
-00005e30: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00005e40: 2020 2320 7465 7374 696e 670a 2020 2020    # testing.    
-00005e50: 2020 2020 2020 2020 2020 2020 456c 6576              Elev
-00005e60: 656e 4c61 6273 2861 7069 5f6b 6579 3d63  enLabs(api_key=c
-00005e70: 6f6e 6669 672e 656c 6576 656e 6c61 6273  onfig.elevenlabs
-00005e80: 4170 6929 2e67 656e 6572 6174 6528 0a20  Api).generate(. 
-00005e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ea0: 2020 2023 6170 695f 6b65 793d 636f 6e66     #api_key=conf
-00005eb0: 6967 2e65 6c65 7665 6e6c 6162 7341 7069  ig.elevenlabsApi
-00005ec0: 2c20 2320 4465 6661 756c 7473 2074 6f20  , # Defaults to 
-00005ed0: 6f73 2e67 6574 656e 7628 454c 4556 454e  os.getenv(ELEVEN
-00005ee0: 5f41 5049 5f4b 4559 290a 2020 2020 2020  _API_KEY).      
-00005ef0: 2020 2020 2020 2020 2020 2020 2020 7465                te
-00005f00: 7874 3d22 7465 7374 222c 0a20 2020 2020  xt="test",.     
-00005f10: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-00005f20: 6f69 6365 3d63 6f6e 6669 672e 656c 6576  oice=config.elev
-00005f30: 656e 6c61 6273 566f 6963 652c 0a20 2020  enlabsVoice,.   
-00005f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f50: 206d 6f64 656c 3d22 656c 6576 656e 5f6d   model="eleven_m
-00005f60: 756c 7469 6c69 6e67 7561 6c5f 7632 220a  ultilingual_v2".
-00005f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f80: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00005f90: 2020 636f 6e66 6967 2e73 6176 6543 6f6e    config.saveCon
-00005fa0: 6669 6728 290a 2020 2020 2020 2020 2020  fig().          
-00005fb0: 2020 2020 2020 7072 696e 7432 2822 436f        print2("Co
-00005fc0: 6e66 6967 7572 6174 696f 6e73 2075 7064  nfigurations upd
-00005fd0: 6174 6564 2122 290a 2020 2020 2020 2020  ated!").        
-00005fe0: 2020 2020 6578 6365 7074 3a0a 2020 2020      except:.    
-00005ff0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00006000: 6967 2e65 6c65 7665 6e6c 6162 7341 7069  ig.elevenlabsApi
-00006010: 203d 2022 220a 2020 2020 2020 2020 2020   = "".          
-00006020: 2020 2020 2020 7072 696e 7432 2822 496e        print2("In
-00006030: 7661 6c69 6420 4150 4920 6b65 7920 656e  valid API key en
-00006040: 7465 7265 6421 2229 0a0a 2020 2020 6465  tered!")..    de
-00006050: 6620 6578 6974 4163 7469 6f6e 2873 656c  f exitAction(sel
-00006060: 6629 3a0a 2020 2020 2020 2020 6d65 7373  f):.        mess
-00006070: 6167 6520 3d20 2263 6c6f 7369 6e67 202e  age = "closing .
-00006080: 2e2e 220a 2020 2020 2020 2020 7072 696e  ..".        prin
-00006090: 7432 286d 6573 7361 6765 290a 2020 2020  t2(message).    
-000060a0: 2020 2020 7072 696e 7431 2873 656c 662e      print1(self.
-000060b0: 6469 7669 6465 7229 0a20 2020 2020 2020  divider).       
-000060c0: 2072 6574 7572 6e20 2222 0a0a 2020 2020   return ""..    
-000060d0: 2320 7570 6461 7465 2073 7973 7465 6d20  # update system 
-000060e0: 6d65 7373 6167 650a 2020 2020 6465 6620  message.    def 
-000060f0: 7570 6461 7465 5379 7374 656d 4d65 7373  updateSystemMess
-00006100: 6167 6528 7365 6c66 2c20 6d65 7373 6167  age(self, messag
-00006110: 6573 293a 0a20 2020 2020 2020 2066 6f72  es):.        for
-00006120: 2069 6e64 6578 2c20 6d65 7373 6167 6520   index, message 
-00006130: 696e 2065 6e75 6d65 7261 7465 286d 6573  in enumerate(mes
-00006140: 7361 6765 7329 3a0a 2020 2020 2020 2020  sages):.        
-00006150: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-00006160: 2020 2020 2020 2020 2069 6620 6d65 7373           if mess
-00006170: 6167 652e 6765 7428 2272 6f6c 6522 2c20  age.get("role", 
-00006180: 2222 2920 3d3d 2022 7379 7374 656d 223a  "") == "system":
-00006190: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000061a0: 2020 2020 2023 2075 7064 6174 6520 7379       # update sy
-000061b0: 7374 656d 206d 6573 730a 2020 2020 2020  stem mess.      
-000061c0: 2020 2020 2020 2020 2020 2020 2020 6461                da
-000061d0: 794f 6657 6565 6b20 3d20 6765 7444 6179  yOfWeek = getDay
-000061e0: 4f66 5765 656b 2829 0a20 2020 2020 2020  OfWeek().       
-000061f0: 2020 2020 2020 2020 2020 2020 206d 6573               mes
-00006200: 7361 6765 5b22 636f 6e74 656e 7422 5d20  sage["content"] 
-00006210: 3d20 7265 2e73 7562 280a 2020 2020 2020  = re.sub(.      
-00006220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006230: 2020 2222 225e 4375 7272 656e 7420 6469    """^Current di
-00006240: 7265 6374 6f72 793a 202e 2a3f 5c6e 4375  rectory: .*?\nCu
-00006250: 7272 656e 7420 7469 6d65 3a20 2e2a 3f5c  rrent time: .*?\
-00006260: 6e43 7572 7265 6e74 2064 6179 206f 6620  nCurrent day of 
-00006270: 7468 6520 7765 656b 3a20 2e2a 3f24 2222  the week: .*?$""
-00006280: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-00006290: 2020 2020 2020 2020 2020 2066 2222 2243             f"""C
-000062a0: 7572 7265 6e74 2064 6972 6563 746f 7279  urrent directory
-000062b0: 3a20 7b6f 732e 6765 7463 7764 2829 7d5c  : {os.getcwd()}\
-000062c0: 6e43 7572 7265 6e74 2074 696d 653a 207b  nCurrent time: {
-000062d0: 7374 7228 6461 7465 7469 6d65 2e64 6174  str(datetime.dat
-000062e0: 6574 696d 652e 6e6f 7728 2929 7d5c 6e43  etime.now())}\nC
-000062f0: 7572 7265 6e74 2064 6179 206f 6620 7468  urrent day of th
-00006300: 6520 7765 656b 3a20 7b64 6179 4f66 5765  e week: {dayOfWe
-00006310: 656b 7d22 2222 2c0a 2020 2020 2020 2020  ek}""",.        
-00006320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006330: 6d65 7373 6167 655b 2263 6f6e 7465 6e74  message["content
-00006340: 225d 2c0a 2020 2020 2020 2020 2020 2020  "],.            
-00006350: 2020 2020 2020 2020 2020 2020 666c 6167              flag
-00006360: 733d 7265 2e4d 2c0a 2020 2020 2020 2020  s=re.M,.        
-00006370: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-00006380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006390: 2020 6d65 7373 6167 6573 5b69 6e64 6578    messages[index
-000063a0: 5d20 3d20 6d65 7373 6167 650a 2020 2020  ] = message.    
-000063b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000063c0: 2320 696e 2061 206c 6f6e 6720 636f 6e76  # in a long conv
-000063d0: 6572 7361 7469 6f6e 2c20 4368 6174 4750  ersation, ChatGP
-000063e0: 5420 6f66 7465 6e20 666f 7267 6574 7320  T often forgets 
-000063f0: 6974 7320 7379 7374 656d 206d 6573 7361  its system messa
-00006400: 6765 0a20 2020 2020 2020 2020 2020 2020  ge.             
-00006410: 2020 2020 2020 2023 206d 6f76 6520 666f         # move fo
-00006420: 7277 6172 6420 6966 2063 6f6e 7665 7273  rward if convers
-00006430: 6174 696f 6e20 6861 7665 2073 7461 7274  ation have start
-00006440: 6564 2c20 746f 2065 6e68 616e 6365 2073  ed, to enhance s
-00006450: 7973 7465 6d20 6d65 7373 6167 650a 2020  ystem message.  
-00006460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006470: 2020 6966 2063 6f6e 6669 672e 636f 6e76    if config.conv
-00006480: 6572 7361 7469 6f6e 5374 6172 7465 6420  ersationStarted 
-00006490: 616e 6420 6e6f 7420 696e 6465 7820 3d3d  and not index ==
-000064a0: 206c 656e 286d 6573 7361 6765 7329 202d   len(messages) -
-000064b0: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
-000064c0: 2020 2020 2020 2020 2020 2020 6974 656d              item
-000064d0: 203d 206d 6573 7361 6765 732e 706f 7028   = messages.pop(
-000064e0: 696e 6465 7829 0a20 2020 2020 2020 2020  index).         
-000064f0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00006500: 6573 7361 6765 732e 6170 7065 6e64 2869  essages.append(i
-00006510: 7465 6d29 0a20 2020 2020 2020 2020 2020  tem).           
-00006520: 2020 2020 2020 2020 2062 7265 616b 0a20           break. 
-00006530: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-00006540: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-00006550: 2020 2070 6173 730a 2020 2020 2020 2020     pass.        
-00006560: 7265 7475 726e 206d 6573 7361 6765 730a  return messages.
-00006570: 0a20 2020 2064 6566 2067 6574 4375 7272  .    def getCurr
-00006580: 656e 7443 6f6e 7465 7874 2873 656c 6629  entContext(self)
-00006590: 3a0a 2020 2020 2020 2020 6966 206e 6f74  :.        if not
-000065a0: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
-000065b0: 6564 436f 6e74 6578 7420 696e 2063 6f6e  edContext in con
-000065c0: 6669 672e 7072 6564 6566 696e 6564 436f  fig.predefinedCo
-000065d0: 6e74 6578 7473 3a0a 2020 2020 2020 2020  ntexts:.        
-000065e0: 2020 2020 7072 696e 7432 2866 2227 7b63      print2(f"'{c
-000065f0: 6f6e 6669 672e 7072 6564 6566 696e 6564  onfig.predefined
-00006600: 436f 6e74 6578 747d 2720 6e6f 7420 6465  Context}' not de
-00006610: 6669 6e65 6421 2229 0a20 2020 2020 2020  fined!").       
-00006620: 2020 2020 2063 6f6e 6669 672e 7072 6564       config.pred
-00006630: 6566 696e 6564 436f 6e74 6578 7420 3d20  efinedContext = 
-00006640: 636f 6e66 6967 2e70 7265 6465 6669 6e65  config.predefine
-00006650: 6443 6f6e 7465 7874 5465 6d70 2069 6620  dContextTemp if 
-00006660: 636f 6e66 6967 2e70 7265 6465 6669 6e65  config.predefine
-00006670: 6443 6f6e 7465 7874 5465 6d70 2061 6e64  dContextTemp and
-00006680: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
-00006690: 6564 436f 6e74 6578 7454 656d 7020 696e  edContextTemp in
-000066a0: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
-000066b0: 6564 436f 6e74 6578 7473 2065 6c73 6520  edContexts else 
-000066c0: 225b 6e6f 6e65 5d22 0a20 2020 2020 2020  "[none]".       
-000066d0: 2020 2020 2070 7269 6e74 3328 6622 5072       print3(f"Pr
-000066e0: 6564 6566 696e 6564 2063 6f6e 7465 7874  edefined context
-000066f0: 2063 6861 6e67 6564 2074 6f3a 207b 636f   changed to: {co
-00006700: 6e66 6967 2e70 7265 6465 6669 6e65 6443  nfig.predefinedC
-00006710: 6f6e 7465 7874 7d22 290a 2020 2020 2020  ontext}").      
-00006720: 2020 6966 2063 6f6e 6669 672e 7072 6564    if config.pred
-00006730: 6566 696e 6564 436f 6e74 6578 7420 3d3d  efinedContext ==
-00006740: 2022 5b6e 6f6e 655d 223a 0a20 2020 2020   "[none]":.     
-00006750: 2020 2020 2020 2023 206e 6f20 636f 6e74         # no cont
-00006760: 6578 740a 2020 2020 2020 2020 2020 2020  ext.            
-00006770: 636f 6e74 6578 7420 3d20 2222 0a20 2020  context = "".   
-00006780: 2020 2020 2065 6c69 6620 636f 6e66 6967       elif config
-00006790: 2e70 7265 6465 6669 6e65 6443 6f6e 7465  .predefinedConte
-000067a0: 7874 203d 3d20 225b 6375 7374 6f6d 5d22  xt == "[custom]"
-000067b0: 3a0a 2020 2020 2020 2020 2020 2020 2320  :.            # 
-000067c0: 6375 7374 6f6d 2069 6e70 7574 2069 6e20  custom input in 
-000067d0: 7468 6520 7365 7474 696e 6773 2064 6961  the settings dia
-000067e0: 6c6f 670a 2020 2020 2020 2020 2020 2020  log.            
-000067f0: 636f 6e74 6578 7420 3d20 636f 6e66 6967  context = config
-00006800: 2e63 7573 746f 6d50 7265 6465 6669 6e65  .customPredefine
-00006810: 6443 6f6e 7465 7874 0a20 2020 2020 2020  dContext.       
-00006820: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00006830: 2020 2023 2075 7365 7273 2063 616e 206d     # users can m
-00006840: 6f64 6966 7920 636f 6e66 6967 2e70 7265  odify config.pre
-00006850: 6465 6669 6e65 6443 6f6e 7465 7874 7320  definedContexts 
-00006860: 7669 6120 706c 7567 696e 730a 2020 2020  via plugins.    
-00006870: 2020 2020 2020 2020 636f 6e74 6578 7420          context 
-00006880: 3d20 636f 6e66 6967 2e70 7265 6465 6669  = config.predefi
-00006890: 6e65 6443 6f6e 7465 7874 735b 636f 6e66  nedContexts[conf
-000068a0: 6967 2e70 7265 6465 6669 6e65 6443 6f6e  ig.predefinedCon
-000068b0: 7465 7874 5d0a 2020 2020 2020 2020 7265  text].        re
-000068c0: 7475 726e 2063 6f6e 7465 7874 0a0a 2020  turn context..  
-000068d0: 2020 6465 6620 7368 6f77 4375 7272 656e    def showCurren
-000068e0: 7443 6f6e 7465 7874 2873 656c 6629 3a0a  tContext(self):.
-000068f0: 2020 2020 2020 2020 6465 7363 7269 7074          descript
-00006900: 696f 6e20 3d20 7365 6c66 2e67 6574 4375  ion = self.getCu
-00006910: 7272 656e 7443 6f6e 7465 7874 2829 0a20  rrentContext(). 
-00006920: 2020 2020 2020 2069 6620 6465 7363 7269         if descri
-00006930: 7074 696f 6e3a 0a20 2020 2020 2020 2020  ption:.         
-00006940: 2020 2064 6573 6372 6970 7469 6f6e 203d     description =
-00006950: 2066 225c 6e7b 6465 7363 7269 7074 696f   f"\n{descriptio
-00006960: 6e7d 220a 2020 2020 2020 2020 7072 696e  n}".        prin
-00006970: 7431 2873 656c 662e 6469 7669 6465 7229  t1(self.divider)
-00006980: 0a20 2020 2020 2020 2070 7269 6e74 3328  .        print3(
-00006990: 6622 436f 6e74 6578 743a 207b 636f 6e66  f"Context: {conf
-000069a0: 6967 2e70 7265 6465 6669 6e65 6443 6f6e  ig.predefinedCon
-000069b0: 7465 7874 7d7b 6465 7363 7269 7074 696f  text}{descriptio
-000069c0: 6e7d 2229 0a20 2020 2020 2020 2070 7269  n}").        pri
-000069d0: 6e74 3128 7365 6c66 2e64 6976 6964 6572  nt1(self.divider
-000069e0: 290a 0a20 2020 2064 6566 2066 696e 6554  )..    def fineT
-000069f0: 756e 6555 7365 7249 6e70 7574 2873 656c  uneUserInput(sel
-00006a00: 662c 2075 7365 7249 6e70 7574 293a 0a20  f, userInput):. 
-00006a10: 2020 2020 2020 2023 2063 7573 746f 6d69         # customi
-00006a20: 7365 2063 6861 7420 636f 6e74 6578 740a  se chat context.
-00006a30: 2020 2020 2020 2020 636f 6e74 6578 7420          context 
-00006a40: 3d20 7365 6c66 2e67 6574 4375 7272 656e  = self.getCurren
-00006a50: 7443 6f6e 7465 7874 2829 0a20 2020 2020  tContext().     
-00006a60: 2020 2069 6620 6973 5f76 616c 6964 5f75     if is_valid_u
-00006a70: 726c 2875 7365 7249 6e70 7574 2920 616e  rl(userInput) an
-00006a80: 6420 636f 6e66 6967 2e70 7265 6465 6669  d config.predefi
-00006a90: 6e65 6443 6f6e 7465 7874 2069 6e20 2822  nedContext in ("
-00006aa0: 4c65 7420 6d65 2053 756d 6d61 7269 7a65  Let me Summarize
-00006ab0: 222c 2022 4c65 7420 6d65 2045 7870 6c61  ", "Let me Expla
-00006ac0: 696e 2229 3a0a 2020 2020 2020 2020 2020  in"):.          
-00006ad0: 2020 636f 6e74 6578 7420 3d20 636f 6e74    context = cont
-00006ae0: 6578 742e 7265 706c 6163 6528 2274 6865  ext.replace("the
-00006af0: 2066 6f6c 6c6f 7769 6e67 2063 6f6e 7465   following conte
-00006b00: 6e74 3a5c 6e5b 4e4f 5f54 4f4f 4c5d 222c  nt:\n[NO_TOOL]",
-00006b10: 2022 7468 6520 636f 6e74 656e 7420 696e   "the content in
-00006b20: 2074 6865 2074 6869 7320 7765 6220 7572   the this web ur
-00006b30: 6c3a 5c6e 2229 0a20 2020 2020 2020 2065  l:\n").        e
-00006b40: 6c69 6620 6973 5f76 616c 6964 5f75 726c  lif is_valid_url
-00006b50: 2875 7365 7249 6e70 7574 2920 616e 6420  (userInput) and 
-00006b60: 636f 6e66 6967 2e70 7265 6465 6669 6e65  config.predefine
-00006b70: 6443 6f6e 7465 7874 203d 3d20 224c 6574  dContext == "Let
-00006b80: 206d 6520 5472 616e 736c 6174 6522 3a0a   me Translate":.
-00006b90: 2020 2020 2020 2020 2020 2020 7573 6572              user
-00006ba0: 496e 7075 7420 3d20 6765 7457 6562 5465  Input = getWebTe
-00006bb0: 7874 2875 7365 7249 6e70 7574 290a 2020  xt(userInput).  
-00006bc0: 2020 2020 2020 6966 2063 6f6e 7465 7874        if context
-00006bd0: 2061 6e64 2028 6e6f 7420 636f 6e66 6967   and (not config
-00006be0: 2e63 6f6e 7665 7273 6174 696f 6e53 7461  .conversationSta
-00006bf0: 7274 6564 206f 7220 2863 6f6e 6669 672e  rted or (config.
-00006c00: 636f 6e76 6572 7361 7469 6f6e 5374 6172  conversationStar
-00006c10: 7465 6420 616e 6420 636f 6e66 6967 2e61  ted and config.a
-00006c20: 7070 6c79 5072 6564 6566 696e 6564 436f  pplyPredefinedCo
-00006c30: 6e74 6578 7441 6c77 6179 7329 293a 0a20  ntextAlways)):. 
-00006c40: 2020 2020 2020 2020 2020 2023 2063 6f6e             # con
-00006c50: 7465 7874 206d 6179 2073 7461 7274 2077  text may start w
-00006c60: 6974 6820 2259 6f75 2077 696c 6c20 6265  ith "You will be
-00006c70: 2070 726f 7669 6465 6420 7769 7468 206d   provided with m
-00006c80: 7920 696e 7075 7420 6465 6c69 6d69 7465  y input delimite
-00006c90: 6420 7769 7468 2061 2070 6169 7220 6f66  d with a pair of
-00006ca0: 2058 4d4c 2074 6167 732c 203c 696e 7075   XML tags, <inpu
-00006cb0: 743e 2061 6e64 203c 2f69 6e70 7574 3e2e  t> and </input>.
-00006cc0: 202e 2e2e 0a20 2020 2020 2020 2020 2020   ....           
-00006cd0: 2075 7365 7249 6e70 7574 203d 2072 652e   userInput = re.
-00006ce0: 7375 6228 223c 636f 6e74 656e 743e 7c3c  sub("<content>|<
-00006cf0: 636f 6e74 656e 7420 5b5e 3c3e 5d2a 3f3e  content [^<>]*?>
-00006d00: 7c3c 2f63 6f6e 7465 6e74 3e22 2c20 2222  |</content>", ""
-00006d10: 2c20 7573 6572 496e 7075 7429 0a20 2020  , userInput).   
-00006d20: 2020 2020 2020 2020 2075 7365 7249 6e70           userInp
-00006d30: 7574 203d 2066 227b 636f 6e74 6578 747d  ut = f"{context}
-00006d40: 5c6e 3c63 6f6e 7465 6e74 3e7b 7573 6572  \n<content>{user
-00006d50: 496e 7075 747d 3c2f 636f 6e74 656e 743e  Input}</content>
-00006d60: 2220 6966 2075 7365 7249 6e70 7574 2e73  " if userInput.s
-00006d70: 7472 6970 2829 2065 6c73 6520 636f 6e74  trip() else cont
-00006d80: 6578 740a 2020 2020 2020 2020 2375 7365  ext.        #use
-00006d90: 7249 6e70 7574 203d 2053 6861 7265 6455  rInput = SharedU
-00006da0: 7469 6c2e 6164 6454 696d 6553 7461 6d70  til.addTimeStamp
-00006db0: 2875 7365 7249 6e70 7574 290a 2020 2020  (userInput).    
-00006dc0: 2020 2020 7265 7475 726e 2075 7365 7249      return userI
-00006dd0: 6e70 7574 0a0a 2020 2020 6465 6620 7275  nput..    def ru
-00006de0: 6e41 6374 696f 6e73 2873 656c 662c 2075  nActions(self, u
-00006df0: 7365 7249 6e70 7574 2c20 6665 6174 7572  serInput, featur
-00006e00: 653d 2222 293a 0a20 2020 2020 2020 2071  e=""):.        q
-00006e10: 7565 7279 203d 2022 220a 2020 2020 2020  uery = "".      
-00006e20: 2020 6665 6174 7572 6554 656d 7020 3d20    featureTemp = 
-00006e30: 6665 6174 7572 650a 2020 2020 2020 2020  feature.        
-00006e40: 6f70 7469 6f6e 7320 3d20 7475 706c 6528  options = tuple(
-00006e50: 7365 6c66 2e61 6374 696f 6e73 2e6b 6579  self.actions.key
-00006e60: 7328 2929 0a20 2020 2020 2020 2064 6573  s()).        des
-00006e70: 6372 6970 7469 6f6e 7320 3d20 5b69 5b30  criptions = [i[0
-00006e80: 5d20 666f 7220 6920 696e 2073 656c 662e  ] for i in self.
-00006e90: 6163 7469 6f6e 732e 7661 6c75 6573 2829  actions.values()
-00006ea0: 5d0a 2020 2020 2020 2020 6966 206e 6f74  ].        if not
-00006eb0: 2066 6561 7475 7265 206f 7220 6e6f 7420   feature or not 
-00006ec0: 6665 6174 7572 6520 696e 2073 656c 662e  feature in self.
-00006ed0: 6163 7469 6f6e 733a 0a20 2020 2020 2020  actions:.       
-00006ee0: 2020 2020 2023 2066 696c 7465 7220 6176       # filter av
-00006ef0: 696c 6162 6c65 2061 6374 696f 6e73 0a20  ilable actions. 
-00006f00: 2020 2020 2020 2020 2020 2069 6620 6665             if fe
-00006f10: 6174 7572 652e 7374 6172 7473 7769 7468  ature.startswith
-00006f20: 2822 2e22 293a 0a20 2020 2020 2020 2020  ("."):.         
-00006f30: 2020 2020 2020 2071 7565 7279 203d 2066         query = f
-00006f40: 6561 7475 7265 5b31 3a5d 0a20 2020 2020  eature[1:].     
-00006f50: 2020 2020 2020 2066 6561 7475 7265 203d         feature =
-00006f60: 2073 656c 662e 6469 616c 6f67 732e 6765   self.dialogs.ge
-00006f70: 7456 616c 6964 4f70 7469 6f6e 7328 0a20  tValidOptions(. 
-00006f80: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-00006f90: 7074 696f 6e73 3d6f 7074 696f 6e73 2c0a  ptions=options,.
-00006fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006fb0: 6465 7363 7269 7074 696f 6e73 3d64 6573  descriptions=des
-00006fc0: 6372 6970 7469 6f6e 732c 0a20 2020 2020  criptions,.     
-00006fd0: 2020 2020 2020 2020 2020 2074 6974 6c65             title
-00006fe0: 3d63 6f6e 6669 672e 6672 6565 4765 6e69  =config.freeGeni
-00006ff0: 7573 4149 4e61 6d65 2c0a 2020 2020 2020  usAIName,.      
-00007000: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
-00007010: 743d 636f 6e66 6967 2e64 6566 6175 6c74  t=config.default
-00007020: 426c 616e 6b45 6e74 7279 4163 7469 6f6e  BlankEntryAction
-00007030: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00007040: 2020 7465 7874 3d22 5365 6c65 6374 2061    text="Select a
-00007050: 6e20 6163 7469 6f6e 206f 7220 6d61 6b65  n action or make
-00007060: 2063 6861 6e67 6573 3a22 2c0a 2020 2020   changes:",.    
-00007070: 2020 2020 2020 2020 2020 2020 6669 6c74              filt
-00007080: 6572 3d71 7565 7279 2c0a 2020 2020 2020  er=query,.      
-00007090: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-000070a0: 6966 2066 6561 7475 7265 3a0a 2020 2020  if feature:.    
-000070b0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-000070c0: 6163 7469 6f6e 735b 6665 6174 7572 655d  actions[feature]
-000070d0: 5b2d 315d 2069 7320 6e6f 7420 4e6f 6e65  [-1] is not None
-000070e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000070f0: 2020 7365 6c66 2e61 6374 696f 6e73 5b66    self.actions[f
-00007100: 6561 7475 7265 5d5b 2d31 5d28 290a 2020  eature][-1]().  
-00007110: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00007120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007130: 2320 6375 7272 656e 7420 6578 6563 6570  # current execep
-00007140: 7469 6f6e 7320 6172 6520 222e 6e65 7722  tions are ".new"
-00007150: 2061 6e64 2022 2e63 6f6e 7465 7874 220a   and ".context".
-00007160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007170: 7573 6572 496e 7075 7420 3d20 6665 6174  userInput = feat
-00007180: 7572 650a 2020 2020 2020 2020 656c 6966  ure.        elif
-00007190: 2066 6561 7475 7265 5465 6d70 3a0a 2020   featureTemp:.  
-000071a0: 2020 2020 2020 2020 2020 2320 7768 656e            # when
-000071b0: 2074 6865 2065 6e74 6572 6564 2066 6561   the entered fea
-000071c0: 7475 7265 2064 6f65 7320 6e6f 7420 6d61  ture does not ma
-000071d0: 7463 6820 616e 2061 6374 696f 6e0a 2020  tch an action.  
-000071e0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000071f0: 2066 6561 7475 7265 5465 6d70 0a20 2020   featureTemp.   
-00007200: 2020 2020 2072 6574 7572 6e20 7573 6572       return user
-00007210: 496e 7075 740a 0a20 2020 2064 6566 2073  Input..    def s
-00007220: 6574 4175 746f 5570 6772 6164 6528 7365  etAutoUpgrade(se
-00007230: 6c66 293a 0a20 2020 2020 2020 206f 7074  lf):.        opt
-00007240: 696f 6e73 203d 2028 2265 6e61 626c 6522  ions = ("enable"
-00007250: 2c20 2264 6973 6162 6c65 2229 0a20 2020  , "disable").   
-00007260: 2020 2020 206f 7074 696f 6e20 3d20 7365       option = se
-00007270: 6c66 2e64 6961 6c6f 6773 2e67 6574 5661  lf.dialogs.getVa
-00007280: 6c69 644f 7074 696f 6e73 280a 2020 2020  lidOptions(.    
-00007290: 2020 2020 2020 2020 6f70 7469 6f6e 733d          options=
-000072a0: 6f70 7469 6f6e 732c 0a20 2020 2020 2020  options,.       
-000072b0: 2020 2020 2074 6974 6c65 3d22 4175 746f       title="Auto
-000072c0: 6d61 7469 6320 5570 6772 6164 6520 6f6e  matic Upgrade on
-000072d0: 2053 7461 7274 7570 222c 0a20 2020 2020   Startup",.     
-000072e0: 2020 2020 2020 2064 6566 6175 6c74 3d22         default="
-000072f0: 656e 6162 6c65 2220 6966 2063 6f6e 6669  enable" if confi
-00007300: 672e 6175 746f 5570 6772 6164 6520 656c  g.autoUpgrade el
-00007310: 7365 2022 6469 7361 626c 6522 2c0a 2020  se "disable",.  
-00007320: 2020 2020 2020 2020 2020 7465 7874 3d22            text="
-00007330: 5365 6c65 6374 2061 6e20 6f70 7469 6f6e  Select an option
-00007340: 2062 656c 6f77 3a22 0a20 2020 2020 2020   below:".       
-00007350: 2029 0a20 2020 2020 2020 2069 6620 6f70   ).        if op
-00007360: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
-00007370: 2020 636f 6e66 6967 2e61 7574 6f55 7067    config.autoUpg
-00007380: 7261 6465 203d 2028 6f70 7469 6f6e 203d  rade = (option =
-00007390: 3d20 2265 6e61 626c 6522 290a 2020 2020  = "enable").    
-000073a0: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
-000073b0: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
-000073c0: 2020 2020 2020 2020 7072 696e 7433 2866          print3(f
-000073d0: 2241 7574 6f6d 6174 6963 2055 7067 7261  "Automatic Upgra
-000073e0: 6465 3a20 7b6f 7074 696f 6e7d 6421 2229  de: {option}d!")
-000073f0: 0a0a 2020 2020 6465 6620 7365 7444 796e  ..    def setDyn
-00007400: 616d 6963 546f 6b65 6e43 6f75 6e74 2873  amicTokenCount(s
-00007410: 656c 6629 3a0a 2020 2020 2020 2020 6f70  elf):.        op
-00007420: 7469 6f6e 7320 3d20 2822 656e 6162 6c65  tions = ("enable
-00007430: 222c 2022 6469 7361 626c 6522 290a 2020  ", "disable").  
-00007440: 2020 2020 2020 6f70 7469 6f6e 203d 2073        option = s
-00007450: 656c 662e 6469 616c 6f67 732e 6765 7456  elf.dialogs.getV
-00007460: 616c 6964 4f70 7469 6f6e 7328 0a20 2020  alidOptions(.   
-00007470: 2020 2020 2020 2020 206f 7074 696f 6e73           options
-00007480: 3d6f 7074 696f 6e73 2c0a 2020 2020 2020  =options,.      
-00007490: 2020 2020 2020 7469 746c 653d 2244 796e        title="Dyn
-000074a0: 616d 6963 2054 6f6b 656e 2043 6f75 6e74  amic Token Count
-000074b0: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
-000074c0: 6566 6175 6c74 3d22 656e 6162 6c65 2220  efault="enable" 
-000074d0: 6966 2063 6f6e 6669 672e 6479 6e61 6d69  if config.dynami
-000074e0: 6354 6f6b 656e 436f 756e 7420 656c 7365  cTokenCount else
-000074f0: 2022 6469 7361 626c 6522 2c0a 2020 2020   "disable",.    
-00007500: 2020 2020 2020 2020 7465 7874 3d22 5065          text="Pe
-00007510: 7266 6f72 6d20 746f 6b65 6e20 636f 756e  rform token coun
-00007520: 7420 6173 2079 6f75 2074 7970 652e 5c6e  t as you type.\n
-00007530: 5365 6c65 6374 2061 6e20 6f70 7469 6f6e  Select an option
-00007540: 2062 656c 6f77 3a22 0a20 2020 2020 2020   below:".       
-00007550: 2029 0a20 2020 2020 2020 2069 6620 6f70   ).        if op
-00007560: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
-00007570: 2020 636f 6e66 6967 2e64 796e 616d 6963    config.dynamic
-00007580: 546f 6b65 6e43 6f75 6e74 203d 2028 6f70  TokenCount = (op
-00007590: 7469 6f6e 203d 3d20 2265 6e61 626c 6522  tion == "enable"
-000075a0: 290a 2020 2020 2020 2020 2020 2020 636f  ).            co
-000075b0: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
-000075c0: 290a 2020 2020 2020 2020 2020 2020 7072  ).            pr
-000075d0: 696e 7433 2866 2244 796e 616d 6963 2074  int3(f"Dynamic t
-000075e0: 6f6b 656e 2063 6f75 6e74 3a20 7b6f 7074  oken count: {opt
-000075f0: 696f 6e7d 6421 2229 0a20 2020 2020 2020  ion}d!").       
-00007600: 2020 2020 2070 7269 6e74 3328 224e 6f74       print3("Not
-00007610: 653a 2043 6861 6e67 6573 2061 7070 6c69  e: Changes appli
-00007620: 6361 626c 6520 746f 2027 6368 6174 6770  cable to 'chatgp
-00007630: 7427 2061 6e64 2027 6c65 746d 6564 6f69  t' and 'letmedoi
-00007640: 7427 2069 6e74 6572 6661 6365 7320 6f6e  t' interfaces on
-00007650: 6c79 2e22 290a 0a20 2020 2064 6566 2073  ly.")..    def s
-00007660: 6574 496e 636c 7564 6549 7049 6e53 7973  etIncludeIpInSys
-00007670: 7465 6d4d 6573 7361 6765 2873 656c 6629  temMessage(self)
-00007680: 3a0a 2020 2020 2020 2020 6f70 7469 6f6e  :.        option
-00007690: 7320 3d20 2822 656e 6162 6c65 222c 2022  s = ("enable", "
-000076a0: 6469 7361 626c 6522 290a 2020 2020 2020  disable").      
-000076b0: 2020 6f70 7469 6f6e 203d 2073 656c 662e    option = self.
-000076c0: 6469 616c 6f67 732e 6765 7456 616c 6964  dialogs.getValid
-000076d0: 4f70 7469 6f6e 7328 0a20 2020 2020 2020  Options(.       
-000076e0: 2020 2020 206f 7074 696f 6e73 3d6f 7074       options=opt
-000076f0: 696f 6e73 2c0a 2020 2020 2020 2020 2020  ions,.          
-00007700: 2020 7469 746c 653d 2249 6e63 6c75 6465    title="Include
-00007710: 2049 5020 696e 666f 726d 6174 696f 6e22   IP information"
-00007720: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
-00007730: 6661 756c 743d 2265 6e61 626c 6522 2069  fault="enable" i
-00007740: 6620 636f 6e66 6967 2e69 6e63 6c75 6465  f config.include
-00007750: 4970 496e 4465 7669 6365 496e 666f 2065  IpInDeviceInfo e
-00007760: 6c73 6520 2264 6973 6162 6c65 222c 0a20  lse "disable",. 
-00007770: 2020 2020 2020 2020 2020 2074 6578 743d             text=
-00007780: 2249 6e63 6c75 6465 2049 5020 696e 666f  "Include IP info
-00007790: 726d 6174 696f 6e20 696e 2073 7973 7465  rmation in syste
-000077a0: 6d20 6d65 7373 6167 655c 6e63 616e 2065  m message\ncan e
-000077b0: 6e68 616e 6365 2072 6573 706f 6e73 6520  nhance response 
-000077c0: 6162 6f75 7420 6c6f 6361 7469 6f6e 732e  about locations.
-000077d0: 5c6e 5365 6c65 6374 2061 6e20 6f70 7469  \nSelect an opti
-000077e0: 6f6e 2062 656c 6f77 3a22 0a20 2020 2020  on below:".     
-000077f0: 2020 2029 0a20 2020 2020 2020 2069 6620     ).        if 
-00007800: 6f70 7469 6f6e 3a0a 2020 2020 2020 2020  option:.        
-00007810: 2020 2020 636f 6e66 6967 2e69 6e63 6c75      config.inclu
-00007820: 6465 4970 496e 4465 7669 6365 496e 666f  deIpInDeviceInfo
-00007830: 203d 2028 6f70 7469 6f6e 203d 3d20 2265   = (option == "e
-00007840: 6e61 626c 6522 290a 2020 2020 2020 2020  nable").        
-00007850: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
-00007860: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
-00007870: 2020 2020 7072 696e 7433 2866 2249 6e63      print3(f"Inc
-00007880: 6c75 6465 2049 5020 696e 666f 726d 6174  lude IP informat
-00007890: 696f 6e3a 207b 6f70 7469 6f6e 7d64 2122  ion: {option}d!"
-000078a0: 290a 0a20 2020 2064 6566 2073 6574 436f  )..    def setCo
-000078b0: 6465 4469 7370 6c61 7928 7365 6c66 293a  deDisplay(self):
-000078c0: 0a20 2020 2020 2020 206f 7074 696f 6e73  .        options
-000078d0: 203d 2028 2265 6e61 626c 6522 2c20 2264   = ("enable", "d
-000078e0: 6973 6162 6c65 2229 0a20 2020 2020 2020  isable").       
-000078f0: 206f 7074 696f 6e20 3d20 7365 6c66 2e64   option = self.d
-00007900: 6961 6c6f 6773 2e67 6574 5661 6c69 644f  ialogs.getValidO
-00007910: 7074 696f 6e73 280a 2020 2020 2020 2020  ptions(.        
-00007920: 2020 2020 6f70 7469 6f6e 733d 6f70 7469      options=opti
-00007930: 6f6e 732c 0a20 2020 2020 2020 2020 2020  ons,.           
-00007940: 2074 6974 6c65 3d22 436f 6465 2044 6973   title="Code Dis
-00007950: 706c 6179 222c 0a20 2020 2020 2020 2020  play",.         
-00007960: 2020 2064 6566 6175 6c74 3d22 656e 6162     default="enab
-00007970: 6c65 2220 6966 2063 6f6e 6669 672e 636f  le" if config.co
-00007980: 6465 4469 7370 6c61 7920 656c 7365 2022  deDisplay else "
-00007990: 6469 7361 626c 6522 2c0a 2020 2020 2020  disable",.      
-000079a0: 2020 2020 2020 7465 7874 3d22 4f70 7469        text="Opti
-000079b0: 6f6e 7320 746f 2064 6973 706c 6179 2070  ons to display p
-000079c0: 726f 6772 616d 6d69 6e67 2063 6f64 6520  rogramming code 
-000079d0: 6265 666f 7265 2065 7865 6375 7469 6f6e  before execution
-000079e0: 3a22 0a20 2020 2020 2020 2029 0a20 2020  :".        ).   
-000079f0: 2020 2020 2069 6620 6f70 7469 6f6e 3a0a       if option:.
-00007a00: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00007a10: 6967 2e63 6f64 6544 6973 706c 6179 203d  ig.codeDisplay =
-00007a20: 2028 6f70 7469 6f6e 203d 3d20 2265 6e61   (option == "ena
-00007a30: 626c 6522 290a 2020 2020 2020 2020 2020  ble").          
-00007a40: 2020 636f 6e66 6967 2e73 6176 6543 6f6e    config.saveCon
-00007a50: 6669 6728 290a 2020 2020 2020 2020 2020  fig().          
-00007a60: 2020 7072 696e 7433 2866 2243 6f64 6520    print3(f"Code 
-00007a70: 6469 7370 6c61 793a 207b 6f70 7469 6f6e  display: {option
-00007a80: 7d64 2122 290a 0a20 2020 2064 6566 2073  }d!")..    def s
-00007a90: 6574 436f 6e74 6578 7449 6e74 6567 7261  etContextIntegra
-00007aa0: 7469 6f6e 2873 656c 6629 3a0a 2020 2020  tion(self):.    
-00007ab0: 2020 2020 6f70 7469 6f6e 7320 3d20 2822      options = ("
-00007ac0: 7468 6520 6669 7273 7420 696e 7075 7420  the first input 
-00007ad0: 6f6e 6c79 222c 2022 616c 6c20 696e 7075  only", "all inpu
-00007ae0: 7473 2229 0a20 2020 2020 2020 206f 7074  ts").        opt
-00007af0: 696f 6e20 3d20 7365 6c66 2e64 6961 6c6f  ion = self.dialo
-00007b00: 6773 2e67 6574 5661 6c69 644f 7074 696f  gs.getValidOptio
-00007b10: 6e73 280a 2020 2020 2020 2020 2020 2020  ns(.            
-00007b20: 6f70 7469 6f6e 733d 6f70 7469 6f6e 732c  options=options,
-00007b30: 0a20 2020 2020 2020 2020 2020 2074 6974  .            tit
-00007b40: 6c65 3d22 5072 6564 6566 696e 6564 2043  le="Predefined C
-00007b50: 6f6e 7465 7874 2049 6e74 6567 7261 7469  ontext Integrati
-00007b60: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
-00007b70: 2064 6566 6175 6c74 3d22 616c 6c20 696e   default="all in
-00007b80: 7075 7473 2220 6966 2063 6f6e 6669 672e  puts" if config.
-00007b90: 6170 706c 7950 7265 6465 6669 6e65 6443  applyPredefinedC
-00007ba0: 6f6e 7465 7874 416c 7761 7973 2065 6c73  ontextAlways els
-00007bb0: 6520 2274 6865 2066 6972 7374 2069 6e70  e "the first inp
-00007bc0: 7574 206f 6e6c 7922 2c0a 2020 2020 2020  ut only",.      
-00007bd0: 2020 2020 2020 7465 7874 3d22 4465 6669        text="Defi
-00007be0: 6e65 2062 656c 6f77 2068 6f77 2079 6f75  ne below how you
-00007bf0: 2077 616e 7420 746f 2069 6e74 6567 7261   want to integra
-00007c00: 7465 2070 7265 6465 6669 6e65 6420 636f  te predefined co
-00007c10: 6e74 6578 745c 6e77 6974 6820 796f 7572  ntext\nwith your
-00007c20: 2069 6e70 7574 732e 5c6e 4170 706c 7920   inputs.\nApply 
-00007c30: 7072 6564 6566 696e 6564 2063 6f6e 7465  predefined conte
-00007c40: 7874 2069 6e20 2e2e 2e22 2c0a 2020 2020  xt in ...",.    
-00007c50: 2020 2020 290a 2020 2020 2020 2020 6966      ).        if
-00007c60: 206f 7074 696f 6e3a 0a20 2020 2020 2020   option:.       
-00007c70: 2020 2020 2063 6f6e 6669 672e 6170 706c       config.appl
-00007c80: 7950 7265 6465 6669 6e65 6443 6f6e 7465  yPredefinedConte
-00007c90: 7874 416c 7761 7973 203d 2054 7275 6520  xtAlways = True 
-00007ca0: 6966 206f 7074 696f 6e20 3d3d 2022 616c  if option == "al
-00007cb0: 6c20 696e 7075 7473 2220 656c 7365 2046  l inputs" else F
-00007cc0: 616c 7365 0a20 2020 2020 2020 2020 2020  alse.           
-00007cd0: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
-00007ce0: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
-00007cf0: 2070 7269 6e74 3328 6622 5072 6564 6566   print3(f"Predef
-00007d00: 696e 6564 2043 6f6e 7465 7874 2049 6e74  ined Context Int
-00007d10: 6567 7261 7469 6f6e 3a20 7b6f 7074 696f  egration: {optio
-00007d20: 6e7d 2122 290a 0a20 2020 2064 6566 2073  n}!")..    def s
-00007d30: 6574 5374 6f72 6167 6544 6972 6563 746f  etStorageDirecto
-00007d40: 7279 2873 656c 6629 3a0a 2020 2020 2020  ry(self):.      
-00007d50: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-00007d60: 2020 2066 6f6c 6465 7220 3d20 7365 6c66     folder = self
-00007d70: 2e67 6574 5061 7468 2e67 6574 466f 6c64  .getPath.getFold
-00007d80: 6572 5061 7468 280a 2020 2020 2020 2020  erPath(.        
-00007d90: 2020 2020 2020 2020 6368 6563 6b5f 6973          check_is
-00007da0: 6469 723d 5472 7565 2c0a 2020 2020 2020  dir=True,.      
-00007db0: 2020 2020 2020 2020 2020 6469 7370 6c61            displa
-00007dc0: 795f 6469 725f 6f6e 6c79 3d54 7275 652c  y_dir_only=True,
-00007dd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007de0: 2063 7265 6174 655f 6469 7273 5f69 665f   create_dirs_if_
-00007df0: 6e6f 745f 6578 6973 743d 5472 7565 2c0a  not_exist=True,.
-00007e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e10: 656d 7074 795f 746f 5f63 616e 6365 6c3d  empty_to_cancel=
-00007e20: 5472 7565 2c0a 2020 2020 2020 2020 2020  True,.          
-00007e30: 2020 2020 2020 6c69 7374 5f63 6f6e 7465        list_conte
-00007e40: 6e74 5f6f 6e5f 6469 7265 6374 6f72 795f  nt_on_directory_
-00007e50: 6368 616e 6765 3d54 7275 652c 0a20 2020  change=True,.   
-00007e60: 2020 2020 2020 2020 2020 2020 206b 6565               kee
-00007e70: 705f 7374 6172 7475 705f 6469 7265 6374  p_startup_direct
-00007e80: 6f72 793d 5472 7565 2c0a 2020 2020 2020  ory=True,.      
-00007e90: 2020 2020 2020 2020 2020 6d65 7373 6167            messag
-00007ea0: 653d 6622 7b73 656c 662e 6469 7669 6465  e=f"{self.divide
-00007eb0: 727d 5c6e 5365 7474 696e 6720 6120 7374  r}\nSetting a st
-00007ec0: 6172 7475 7020 6469 7265 6374 6f72 7920  artup directory 
-00007ed0: 2e2e 2e5c 6e45 6e74 6572 2061 2066 6f6c  ...\nEnter a fol
-00007ee0: 6465 7220 6e61 6d65 206f 7220 7061 7468  der name or path
-00007ef0: 2062 656c 6f77 3a22 2c0a 2020 2020 2020   below:",.      
-00007f00: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
-00007f10: 743d 636f 6e66 6967 2e73 746f 7261 6765  t=config.storage
-00007f20: 6469 7265 6374 6f72 792c 0a20 2020 2020  directory,.     
-00007f30: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00007f40: 2065 7863 6570 743a 0a20 2020 2020 2020   except:.       
-00007f50: 2020 2020 2070 7269 6e74 3228 6622 4769       print2(f"Gi
-00007f60: 7665 6e20 7061 7468 206e 6f74 2061 6363  ven path not acc
-00007f70: 6573 7369 626c 6521 2229 0a20 2020 2020  essible!").     
-00007f80: 2020 2020 2020 2066 6f6c 6465 7220 3d20         folder = 
-00007f90: 2222 0a20 2020 2020 2020 2069 6620 666f  "".        if fo
-00007fa0: 6c64 6572 2061 6e64 206f 732e 7061 7468  lder and os.path
-00007fb0: 2e69 7364 6972 2866 6f6c 6465 7229 3a0a  .isdir(folder):.
-00007fc0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00007fd0: 6967 2e73 746f 7261 6765 6469 7265 6374  ig.storagedirect
-00007fe0: 6f72 7920 3d20 666f 6c64 6572 0a20 2020  ory = folder.   
-00007ff0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-00008000: 6c6f 6361 6c53 746f 7261 6765 203d 2067  localStorage = g
-00008010: 6574 4c6f 6361 6c53 746f 7261 6765 2829  etLocalStorage()
-00008020: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-00008030: 6669 672e 7361 7665 436f 6e66 6967 2829  fig.saveConfig()
-00008040: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00008050: 6e74 3328 6622 5374 6172 7475 7020 6469  nt3(f"Startup di
-00008060: 7265 6374 6f72 793a 5c6e 7b66 6f6c 6465  rectory:\n{folde
-00008070: 727d 2229 0a0a 2020 2020 6465 6620 7365  r}")..    def se
-00008080: 744c 6174 6573 7453 6561 7263 6865 7328  tLatestSearches(
-00008090: 7365 6c66 293a 0a20 2020 2020 2020 206f  self):.        o
-000080a0: 7074 696f 6e73 203d 2028 2261 6c77 6179  ptions = ("alway
-000080b0: 7322 2c20 2261 7574 6f22 2c20 226e 6f6e  s", "auto", "non
-000080c0: 6522 290a 2020 2020 2020 2020 6465 7363  e").        desc
-000080d0: 7269 7074 696f 6e73 203d 2028 0a20 2020  riptions = (.   
-000080e0: 2020 2020 2020 2020 2022 616c 7761 7973           "always
-000080f0: 2073 6561 7263 6820 666f 7220 6c61 7465   search for late
-00008100: 7374 2069 6e66 6f72 6d61 7469 6f6e 222c  st information",
-00008110: 0a20 2020 2020 2020 2020 2020 2022 7365  .            "se
-00008120: 6172 6368 206f 6e6c 7920 7768 656e 2043  arch only when C
-00008130: 6861 7447 5054 206c 6163 6b73 2069 6e66  hatGPT lacks inf
-00008140: 6f72 6d61 7469 6f6e 222c 0a20 2020 2020  ormation",.     
-00008150: 2020 2020 2020 2022 646f 206e 6f74 2070         "do not p
-00008160: 6572 666f 726d 206f 6e6c 696e 6520 7365  erform online se
-00008170: 6172 6368 6573 222c 0a20 2020 2020 2020  arches",.       
-00008180: 2029 0a20 2020 2020 2020 206f 7074 696f   ).        optio
-00008190: 6e20 3d20 7365 6c66 2e64 6961 6c6f 6773  n = self.dialogs
-000081a0: 2e67 6574 5661 6c69 644f 7074 696f 6e73  .getValidOptions
-000081b0: 280a 2020 2020 2020 2020 2020 2020 6f70  (.            op
-000081c0: 7469 6f6e 733d 6f70 7469 6f6e 732c 0a20  tions=options,. 
-000081d0: 2020 2020 2020 2020 2020 2064 6573 6372             descr
-000081e0: 6970 7469 6f6e 733d 6465 7363 7269 7074  iptions=descript
-000081f0: 696f 6e73 2c0a 2020 2020 2020 2020 2020  ions,.          
-00008200: 2020 7469 746c 653d 224c 6174 6573 7420    title="Latest 
-00008210: 4f6e 6c69 6e65 2053 6561 7263 6865 7322  Online Searches"
-00008220: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
-00008230: 6661 756c 743d 636f 6e66 6967 2e6c 6f61  fault=config.loa
-00008240: 6469 6e67 496e 7465 726e 6574 5365 6172  dingInternetSear
-00008250: 6368 6573 2c0a 2020 2020 2020 2020 2020  ches,.          
-00008260: 2020 7465 7874 3d66 227b 636f 6e66 6967    text=f"{config
-00008270: 2e66 7265 6547 656e 6975 7341 494e 616d  .freeGeniusAINam
-00008280: 657d 2063 616e 2070 6572 666f 726d 206f  e} can perform o
-00008290: 6e6c 696e 6520 7365 6172 6368 6573 2e5c  nline searches.\
-000082a0: 6e48 6f77 2064 6f20 796f 7520 7761 6e74  nHow do you want
-000082b0: 2074 6869 7320 6665 6174 7572 653f 222c   this feature?",
-000082c0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-000082d0: 2020 2069 6620 6f70 7469 6f6e 3a0a 2020     if option:.  
-000082e0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-000082f0: 2e6c 6f61 6469 6e67 496e 7465 726e 6574  .loadingInternet
-00008300: 5365 6172 6368 6573 203d 206f 7074 696f  Searches = optio
-00008310: 6e0a 2020 2020 2020 2020 2020 2020 2320  n.            # 
-00008320: 6669 6e65 2074 756e 650a 2020 2020 2020  fine tune.      
-00008330: 2020 2020 2020 6966 2063 6f6e 6669 672e        if config.
-00008340: 6c6f 6164 696e 6749 6e74 6572 6e65 7453  loadingInternetS
-00008350: 6561 7263 6865 7320 3d3d 2022 6175 746f  earches == "auto
-00008360: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
-00008370: 2020 2063 6f6e 6669 672e 6368 6174 4750     config.chatGP
-00008380: 5441 7069 4675 6e63 7469 6f6e 4361 6c6c  TApiFunctionCall
-00008390: 203d 2022 6175 746f 220a 2020 2020 2020   = "auto".      
-000083a0: 2020 2020 2020 2020 2020 6966 2022 696e            if "in
-000083b0: 7465 6772 6174 6520 676f 6f67 6c65 2073  tegrate google s
-000083c0: 6561 7263 6865 7322 2069 6e20 636f 6e66  earches" in conf
-000083d0: 6967 2e70 6c75 6769 6e45 7863 6c75 6465  ig.pluginExclude
-000083e0: 4c69 7374 3a0a 2020 2020 2020 2020 2020  List:.          
-000083f0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-00008400: 2e70 6c75 6769 6e45 7863 6c75 6465 4c69  .pluginExcludeLi
-00008410: 7374 2e72 656d 6f76 6528 2269 6e74 6567  st.remove("integ
-00008420: 7261 7465 2067 6f6f 676c 6520 7365 6172  rate google sear
-00008430: 6368 6573 2229 0a20 2020 2020 2020 2020  ches").         
-00008440: 2020 2065 6c69 6620 636f 6e66 6967 2e6c     elif config.l
-00008450: 6f61 6469 6e67 496e 7465 726e 6574 5365  oadingInternetSe
-00008460: 6172 6368 6573 203d 3d20 226e 6f6e 6522  arches == "none"
-00008470: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00008480: 2020 6966 206e 6f74 2022 696e 7465 6772    if not "integr
-00008490: 6174 6520 676f 6f67 6c65 2073 6561 7263  ate google searc
-000084a0: 6865 7322 2069 6e20 636f 6e66 6967 2e70  hes" in config.p
-000084b0: 6c75 6769 6e45 7863 6c75 6465 4c69 7374  luginExcludeList
-000084c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000084d0: 2020 2020 2020 636f 6e66 6967 2e70 6c75        config.plu
-000084e0: 6769 6e45 7863 6c75 6465 4c69 7374 2e61  ginExcludeList.a
-000084f0: 7070 656e 6428 2269 6e74 6567 7261 7465  ppend("integrate
-00008500: 2067 6f6f 676c 6520 7365 6172 6368 6573   google searches
-00008510: 2229 0a20 2020 2020 2020 2020 2020 2023  ").            #
-00008520: 2072 6573 6574 2070 6c75 6769 6e73 0a20   reset plugins. 
-00008530: 2020 2020 2020 2020 2020 2050 6c75 6769             Plugi
-00008540: 6e73 2e72 756e 506c 7567 696e 7328 290a  ns.runPlugins().
-00008550: 2020 2020 2020 2020 2020 2020 2320 6e6f              # no
-00008560: 7469 6679 0a20 2020 2020 2020 2020 2020  tify.           
-00008570: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
-00008580: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
-00008590: 2070 7269 6e74 3328 6622 4c61 7465 7374   print3(f"Latest
-000085a0: 204f 6e6c 696e 6520 5365 6172 6368 6573   Online Searches
-000085b0: 3a20 7b6f 7074 696f 6e7d 2229 0a0a 2020  : {option}")..  
-000085c0: 2020 6465 6620 7365 7455 7365 7243 6f6e    def setUserCon
-000085d0: 6669 726d 6174 696f 6e28 7365 6c66 293a  firmation(self):
-000085e0: 0a20 2020 2020 2020 206f 7074 696f 6e73  .        options
-000085f0: 203d 2028 2261 6c77 6179 7322 2c20 226d   = ("always", "m
-00008600: 6564 6975 6d5f 7269 736b 5f6f 725f 6162  edium_risk_or_ab
-00008610: 6f76 6522 2c20 2268 6967 685f 7269 736b  ove", "high_risk
-00008620: 5f6f 6e6c 7922 2c20 226e 6f6e 6522 290a  _only", "none").
-00008630: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
-00008640: 6f6e 6669 672e 636f 6e66 6972 6d45 7865  onfig.confirmExe
-00008650: 6375 7469 6f6e 2069 6e20 6f70 7469 6f6e  cution in option
-00008660: 733a 0a20 2020 2020 2020 2020 2020 2063  s:.            c
-00008670: 6f6e 6669 672e 636f 6e66 6972 6d45 7865  onfig.confirmExe
-00008680: 6375 7469 6f6e 203d 2022 616c 7761 7973  cution = "always
-00008690: 220a 2020 2020 2020 2020 6465 7363 7269  ".        descri
-000086a0: 7074 696f 6e73 203d 2028 0a20 2020 2020  ptions = (.     
-000086b0: 2020 2020 2020 2022 616c 7761 7973 222c         "always",
-000086c0: 0a20 2020 2020 2020 2020 2020 2022 6d65  .            "me
-000086d0: 6469 756d 2072 6973 6b20 6f72 2061 626f  dium risk or abo
-000086e0: 7665 222c 0a20 2020 2020 2020 2020 2020  ve",.           
-000086f0: 2022 6869 6768 2072 6973 6b20 6f6e 6c79   "high risk only
-00008700: 2c20 652e 672e 2066 696c 6520 6465 6c65  , e.g. file dele
-00008710: 7469 6f6e 222c 0a20 2020 2020 2020 2020  tion",.         
-00008720: 2020 2022 6e6f 6e65 222c 0a20 2020 2020     "none",.     
-00008730: 2020 2029 0a20 2020 2020 2020 206f 7074     ).        opt
-00008740: 696f 6e20 3d20 7365 6c66 2e64 6961 6c6f  ion = self.dialo
-00008750: 6773 2e67 6574 5661 6c69 644f 7074 696f  gs.getValidOptio
-00008760: 6e73 280a 2020 2020 2020 2020 2020 2020  ns(.            
-00008770: 6f70 7469 6f6e 733d 6f70 7469 6f6e 732c  options=options,
-00008780: 0a20 2020 2020 2020 2020 2020 2064 6573  .            des
-00008790: 6372 6970 7469 6f6e 733d 6465 7363 7269  criptions=descri
-000087a0: 7074 696f 6e73 2c0a 2020 2020 2020 2020  ptions,.        
-000087b0: 2020 2020 7469 746c 653d 2243 6f6d 6d61      title="Comma
-000087c0: 6e64 2043 6f6e 6669 726d 6174 696f 6e20  nd Confirmation 
-000087d0: 5072 6f74 6f63 6f6c 222c 0a20 2020 2020  Protocol",.     
-000087e0: 2020 2020 2020 2074 6578 743d 6622 7b63         text=f"{c
-000087f0: 6f6e 6669 672e 6672 6565 4765 6e69 7573  onfig.freeGenius
-00008800: 4149 4e61 6d65 7d20 6973 2064 6573 6967  AIName} is desig
-00008810: 6e65 6420 746f 2065 7865 6375 7465 2063  ned to execute c
-00008820: 6f6d 6d61 6e64 7320 6f6e 2079 6f75 7220  ommands on your 
-00008830: 6265 6861 6c66 2e5c 6e50 6c65 6173 6520  behalf.\nPlease 
-00008840: 7370 6563 6966 7920 7768 656e 2079 6f75  specify when you
-00008850: 2077 6f75 6c64 2070 7265 6665 725c 6e74   would prefer\nt
-00008860: 6f20 7265 6365 6976 6520 6120 636f 6e66  o receive a conf
-00008870: 6972 6d61 7469 6f6e 5c6e 6265 666f 7265  irmation\nbefore
-00008880: 2063 6f6d 6d61 6e64 7320 6172 6520 6578   commands are ex
-00008890: 6563 7574 6564 3a5c 6e28 4e6f 7465 3a20  ecuted:\n(Note: 
-000088a0: 4578 6563 7574 6520 636f 6d6d 616e 6473  Execute commands
-000088b0: 2061 7420 796f 7572 206f 776e 2072 6973   at your own ris
-000088c0: 6b2e 2922 2c0a 2020 2020 2020 2020 2020  k.)",.          
-000088d0: 2020 6465 6661 756c 743d 636f 6e66 6967    default=config
-000088e0: 2e63 6f6e 6669 726d 4578 6563 7574 696f  .confirmExecutio
-000088f0: 6e2c 0a20 2020 2020 2020 2029 0a20 2020  n,.        ).   
-00008900: 2020 2020 2069 6620 6f70 7469 6f6e 3a0a       if option:.
-00008910: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00008920: 6967 2e63 6f6e 6669 726d 4578 6563 7574  ig.confirmExecut
-00008930: 696f 6e20 3d20 6f70 7469 6f6e 0a20 2020  ion = option.   
-00008940: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-00008950: 7361 7665 436f 6e66 6967 2829 0a20 2020  saveConfig().   
-00008960: 2020 2020 2020 2020 2070 7269 6e74 3328           print3(
-00008970: 6622 436f 6d6d 616e 6420 436f 6e66 6972  f"Command Confir
-00008980: 6d61 7469 6f6e 2050 726f 746f 636f 6c3a  mation Protocol:
-00008990: 207b 6f70 7469 6f6e 7d22 290a 0a20 2020   {option}")..   
-000089a0: 2064 6566 2073 6574 5061 6765 7256 6965   def setPagerVie
-000089b0: 7728 7365 6c66 293a 0a20 2020 2020 2020  w(self):.       
-000089c0: 206d 616e 7565 6c20 3d20 6622 2222 6d61   manuel = f"""ma
-000089d0: 6e75 616c 2027 7b73 7472 2863 6f6e 6669  nual '{str(confi
-000089e0: 672e 686f 746b 6579 5f6c 6175 6e63 685f  g.hotkey_launch_
-000089f0: 7061 6765 725f 7669 6577 292e 7265 706c  pager_view).repl
-00008a00: 6163 6528 2227 222c 2022 2229 7d27 2222  ace("'", "")}'""
-00008a10: 220a 2020 2020 2020 2020 6f70 7469 6f6e  ".        option
-00008a20: 7320 3d20 2822 6175 746f 222c 206d 616e  s = ("auto", man
-00008a30: 7565 6c29 0a20 2020 2020 2020 206f 7074  uel).        opt
-00008a40: 696f 6e20 3d20 7365 6c66 2e64 6961 6c6f  ion = self.dialo
-00008a50: 6773 2e67 6574 5661 6c69 644f 7074 696f  gs.getValidOptio
-00008a60: 6e73 280a 2020 2020 2020 2020 2020 2020  ns(.            
-00008a70: 6f70 7469 6f6e 733d 6f70 7469 6f6e 732c  options=options,
-00008a80: 0a20 2020 2020 2020 2020 2020 2074 6974  .            tit
-00008a90: 6c65 3d22 5061 6765 7220 5669 6577 222c  le="Pager View",
-00008aa0: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
-00008ab0: 6175 6c74 3d22 6175 746f 2220 6966 2063  ault="auto" if c
-00008ac0: 6f6e 6669 672e 7061 6765 7256 6965 7720  onfig.pagerView 
-00008ad0: 656c 7365 206d 616e 7565 6c2c 0a20 2020  else manuel,.   
-00008ae0: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
-00008af0: 6620 6f70 7469 6f6e 3a0a 2020 2020 2020  f option:.      
-00008b00: 2020 2020 2020 636f 6e66 6967 2e70 6167        config.pag
-00008b10: 6572 5669 6577 203d 2028 6f70 7469 6f6e  erView = (option
-00008b20: 203d 3d20 2261 7574 6f22 290a 2020 2020   == "auto").    
-00008b30: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
-00008b40: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
-00008b50: 2020 2020 2020 2020 7072 696e 7433 2866          print3(f
-00008b60: 2250 6167 6572 2056 6965 773a 207b 6f70  "Pager View: {op
-00008b70: 7469 6f6e 7d21 2229 0a0a 2020 2020 6465  tion}!")..    de
-00008b80: 6620 7365 7444 6576 656c 6f70 6572 4d6f  f setDeveloperMo
-00008b90: 6465 2873 656c 6629 3a0a 2020 2020 2020  de(self):.      
-00008ba0: 2020 6f70 7469 6f6e 7320 3d20 2822 656e    options = ("en
-00008bb0: 6162 6c65 222c 2022 6469 7361 626c 6522  able", "disable"
-00008bc0: 290a 2020 2020 2020 2020 6f70 7469 6f6e  ).        option
-00008bd0: 203d 2073 656c 662e 6469 616c 6f67 732e   = self.dialogs.
-00008be0: 6765 7456 616c 6964 4f70 7469 6f6e 7328  getValidOptions(
-00008bf0: 0a20 2020 2020 2020 2020 2020 206f 7074  .            opt
-00008c00: 696f 6e73 3d6f 7074 696f 6e73 2c0a 2020  ions=options,.  
-00008c10: 2020 2020 2020 2020 2020 7469 746c 653d            title=
-00008c20: 2244 6576 656c 6f70 6572 204d 6f64 6522  "Developer Mode"
-00008c30: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
-00008c40: 6661 756c 743d 2265 6e61 626c 6522 2069  fault="enable" i
-00008c50: 6620 636f 6e66 6967 2e64 6576 656c 6f70  f config.develop
-00008c60: 6572 2065 6c73 6520 2264 6973 6162 6c65  er else "disable
-00008c70: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
-00008c80: 6578 743d 2252 6561 6420 4c65 744d 6544  ext="Read LetMeD
-00008c90: 6f49 7420 7769 6b69 2066 6f72 206d 6f72  oIt wiki for mor
-00008ca0: 6520 696e 666f 726d 6174 696f 6e2e 5c6e  e information.\n
-00008cb0: 5365 6c65 6374 2061 6e20 6f70 7469 6f6e  Select an option
-00008cc0: 2062 656c 6f77 3a22 0a20 2020 2020 2020   below:".       
-00008cd0: 2029 0a20 2020 2020 2020 2069 6620 6f70   ).        if op
-00008ce0: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
-00008cf0: 2020 636f 6e66 6967 2e64 6576 656c 6f70    config.develop
-00008d00: 6572 203d 2028 6f70 7469 6f6e 203d 3d20  er = (option == 
-00008d10: 2265 6e61 626c 6522 290a 2020 2020 2020  "enable").      
-00008d20: 2020 2020 2020 636f 6e66 6967 2e73 6176        config.sav
-00008d30: 6543 6f6e 6669 6728 290a 2020 2020 2020  eConfig().      
-00008d40: 2020 2020 2020 7072 696e 7433 2866 2244        print3(f"D
-00008d50: 6576 656c 6f70 6572 204d 6f64 653a 207b  eveloper Mode: {
-00008d60: 6f70 7469 6f6e 7d64 2122 290a 0a20 2020  option}d!")..   
-00008d70: 2064 6566 2073 6574 5465 726d 7578 4170   def setTermuxAp
-00008d80: 6928 7365 6c66 293a 0a20 2020 2020 2020  i(self):.       
-00008d90: 206f 7074 696f 6e73 203d 2028 2265 6e61   options = ("ena
-00008da0: 626c 6522 2c20 2264 6973 6162 6c65 2229  ble", "disable")
-00008db0: 0a20 2020 2020 2020 206f 7074 696f 6e20  .        option 
-00008dc0: 3d20 7365 6c66 2e64 6961 6c6f 6773 2e67  = self.dialogs.g
-00008dd0: 6574 5661 6c69 644f 7074 696f 6e73 280a  etValidOptions(.
-00008de0: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
-00008df0: 6f6e 733d 6f70 7469 6f6e 732c 0a20 2020  ons=options,.   
-00008e00: 2020 2020 2020 2020 2074 6974 6c65 3d22           title="
-00008e10: 5465 726d 7578 2041 5049 2049 6e74 6567  Termux API Integ
-00008e20: 7261 7469 6f6e 222c 0a20 2020 2020 2020  ration",.       
-00008e30: 2020 2020 2064 6566 6175 6c74 3d22 656e       default="en
-00008e40: 6162 6c65 2220 6966 2063 6f6e 6669 672e  able" if config.
-00008e50: 7465 726d 696e 616c 456e 6162 6c65 5465  terminalEnableTe
-00008e60: 726d 7578 4150 4920 656c 7365 2022 6469  rmuxAPI else "di
-00008e70: 7361 626c 6522 2c0a 2020 2020 2020 2020  sable",.        
-00008e80: 2020 2020 7465 7874 3d22 546f 206c 6561      text="To lea
-00008e90: 726e 2061 626f 7574 2054 6572 6d75 7820  rn about Termux 
-00008ea0: 4150 492c 2072 6561 643a 5c6e 6874 7470  API, read:\nhttp
-00008eb0: 733a 2f2f 7769 6b69 2e74 6572 6d75 782e  s://wiki.termux.
-00008ec0: 636f 6d2f 7769 6b69 2f54 6572 6d75 783a  com/wiki/Termux:
-00008ed0: 4150 495c 6e53 656c 6563 7420 616e 206f  API\nSelect an o
-00008ee0: 7074 696f 6e20 6265 6c6f 773a 220a 2020  ption below:".  
-00008ef0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00008f00: 6966 206f 7074 696f 6e3a 0a20 2020 2020  if option:.     
-00008f10: 2020 2020 2020 2063 6f6e 6669 672e 7465         config.te
-00008f20: 726d 696e 616c 456e 6162 6c65 5465 726d  rminalEnableTerm
-00008f30: 7578 4150 4920 3d20 286f 7074 696f 6e20  uxAPI = (option 
-00008f40: 3d3d 2022 656e 6162 6c65 2229 0a20 2020  == "enable").   
-00008f50: 2020 2020 2020 2020 2069 6620 636f 6e66           if conf
-00008f60: 6967 2e74 6572 6d69 6e61 6c45 6e61 626c  ig.terminalEnabl
-00008f70: 6554 6572 6d75 7841 5049 2061 6e64 206e  eTermuxAPI and n
-00008f80: 6f74 206f 732e 7061 7468 2e69 7364 6972  ot os.path.isdir
-00008f90: 2822 2f64 6174 612f 6461 7461 2f63 6f6d  ("/data/data/com
-00008fa0: 2e74 6572 6d75 782f 6669 6c65 732f 686f  .termux/files/ho
-00008fb0: 6d65 2f22 293a 0a20 2020 2020 2020 2020  me/"):.         
-00008fc0: 2020 2020 2020 2063 6f6e 6669 672e 7465         config.te
-00008fd0: 726d 696e 616c 456e 6162 6c65 5465 726d  rminalEnableTerm
-00008fe0: 7578 4150 4920 3d20 4661 6c73 650a 2020  uxAPI = False.  
-00008ff0: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00009000: 696e 7431 2822 5465 726d 7578 2069 7320  int1("Termux is 
-00009010: 6e6f 7420 696e 7374 616c 6c65 6421 2229  not installed!")
-00009020: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00009030: 636f 6e66 6967 2e74 6572 6d69 6e61 6c45  config.terminalE
-00009040: 6e61 626c 6554 6572 6d75 7841 5049 3a0a  nableTermuxAPI:.
-00009050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009060: 2320 4368 6563 6b20 6966 2054 6572 6d75  # Check if Termu
-00009070: 7820 4150 4920 7061 636b 6167 6520 6973  x API package is
-00009080: 2069 6e73 7461 6c6c 6564 0a20 2020 2020   installed.     
-00009090: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-000090a0: 7420 3d20 7375 6270 726f 6365 7373 2e72  t = subprocess.r
-000090b0: 756e 285b 2770 6b67 272c 2027 6c69 7374  un(['pkg', 'list
-000090c0: 2d69 6e73 7461 6c6c 6564 272c 2027 7465  -installed', 'te
-000090d0: 726d 7578 2d61 7069 275d 2c20 6361 7074  rmux-api'], capt
-000090e0: 7572 655f 6f75 7470 7574 3d54 7275 652c  ure_output=True,
-000090f0: 2074 6578 743d 5472 7565 290a 2020 2020   text=True).    
-00009100: 2020 2020 2020 2020 2020 2020 2320 4368              # Ch
-00009110: 6563 6b20 6966 2074 6865 2070 6163 6b61  eck if the packa
-00009120: 6765 2069 7320 696e 7374 616c 6c65 640a  ge is installed.
-00009130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009140: 6966 206e 6f74 2022 7465 726d 7578 2d61  if not "termux-a
-00009150: 7069 2220 696e 2072 6573 756c 742e 7374  pi" in result.st
-00009160: 646f 7574 3a0a 2020 2020 2020 2020 2020  dout:.          
-00009170: 2020 2020 2020 2020 2020 7072 696e 7431            print1
-00009180: 2822 5465 726d 7578 3a41 5049 2069 7320  ("Termux:API is 
-00009190: 6e6f 7420 696e 7374 616c 6c65 6421 2229  not installed!")
-000091a0: 0a20 2020 2020 2020 2020 2020 2023 2072  .            # r
-000091b0: 6573 6574 2070 6c75 6769 6e73 0a20 2020  eset plugins.   
-000091c0: 2020 2020 2020 2020 2050 6c75 6769 6e73           Plugins
-000091d0: 2e72 756e 506c 7567 696e 7328 290a 2020  .runPlugins().  
-000091e0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-000091f0: 2e73 6176 6543 6f6e 6669 6728 290a 2020  .saveConfig().  
-00009200: 2020 2020 2020 2020 2020 7072 696e 7433            print3
-00009210: 2866 2222 2254 6572 6d75 7820 4150 4920  (f"""Termux API 
-00009220: 496e 7465 6772 6174 696f 6e3a 207b 2265  Integration: {"e
-00009230: 6e61 626c 6522 2069 6620 636f 6e66 6967  nable" if config
-00009240: 2e74 6572 6d69 6e61 6c45 6e61 626c 6554  .terminalEnableT
-00009250: 6572 6d75 7841 5049 2065 6c73 6520 2264  ermuxAPI else "d
-00009260: 6973 6162 6c65 227d 6421 2222 2229 0a0a  isable"}d!""")..
-00009270: 2020 2020 6465 6620 7365 7446 756e 6374      def setFunct
-00009280: 696f 6e43 616c 6c28 7365 6c66 293a 0a20  ionCall(self):. 
-00009290: 2020 2020 2020 2063 616c 6c73 203d 2028         calls = (
-000092a0: 2261 7574 6f22 2c20 226e 6f6e 6522 290a  "auto", "none").
-000092b0: 2020 2020 2020 2020 6361 6c6c 203d 2073          call = s
-000092c0: 656c 662e 6469 616c 6f67 732e 6765 7456  elf.dialogs.getV
-000092d0: 616c 6964 4f70 7469 6f6e 7328 0a20 2020  alidOptions(.   
-000092e0: 2020 2020 2020 2020 206f 7074 696f 6e73           options
-000092f0: 3d63 616c 6c73 2c0a 2020 2020 2020 2020  =calls,.        
-00009300: 2020 2020 7469 746c 653d 2243 6861 7447      title="ChatG
-00009310: 5054 2046 756e 6374 696f 6e20 4361 6c6c  PT Function Call
-00009320: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
-00009330: 6566 6175 6c74 3d63 6f6e 6669 672e 6368  efault=config.ch
-00009340: 6174 4750 5441 7069 4675 6e63 7469 6f6e  atGPTApiFunction
-00009350: 4361 6c6c 2c0a 2020 2020 2020 2020 2020  Call,.          
-00009360: 2020 7465 7874 3d22 456e 6162 6c69 6e67    text="Enabling
-00009370: 2066 756e 6374 696f 6e20 6361 6c6c 5c6e   function call\n
-00009380: 746f 2065 7874 656e 6420 4368 6174 4750  to extend ChatGP
-00009390: 5420 6361 7061 6269 6c69 7469 6573 2e5c  T capabilities.\
-000093a0: 6e45 6e61 626c 6520 2f20 4469 7361 626c  nEnable / Disabl
-000093b0: 6520 7468 6973 2066 6561 7475 7265 2062  e this feature b
-000093c0: 656c 6f77 3a22 2c0a 2020 2020 2020 2020  elow:",.        
-000093d0: 290a 2020 2020 2020 2020 6966 2063 616c  ).        if cal
-000093e0: 6c3a 0a20 2020 2020 2020 2020 2020 2063  l:.            c
-000093f0: 6f6e 6669 672e 6368 6174 4750 5441 7069  onfig.chatGPTApi
-00009400: 4675 6e63 7469 6f6e 4361 6c6c 203d 2063  FunctionCall = c
-00009410: 616c 6c0a 2020 2020 2020 2020 2020 2020  all.            
-00009420: 636f 6e66 6967 2e73 6176 6543 6f6e 6669  config.saveConfi
-00009430: 6728 290a 2020 2020 2020 2020 2020 2020  g().            
-00009440: 7072 696e 7433 2866 2243 6861 7074 4750  print3(f"ChaptGP
-00009450: 5420 6675 6e63 7469 6f6e 2063 616c 6c3a  T function call:
-00009460: 207b 2765 6e61 626c 6564 2720 6966 2063   {'enabled' if c
-00009470: 6f6e 6669 672e 6368 6174 4750 5441 7069  onfig.chatGPTApi
-00009480: 4675 6e63 7469 6f6e 4361 6c6c 203d 3d20  FunctionCall == 
-00009490: 2761 7574 6f27 2065 6c73 6520 2764 6973  'auto' else 'dis
-000094a0: 6162 6c65 6427 7d21 2229 0a0a 2020 2020  abled'}!")..    
-000094b0: 6465 6620 7365 7446 756e 6374 696f 6e52  def setFunctionR
-000094c0: 6573 706f 6e73 6528 7365 6c66 293a 0a20  esponse(self):. 
-000094d0: 2020 2020 2020 2063 616c 6c73 203d 2028         calls = (
-000094e0: 2265 6e61 626c 6522 2c20 2264 6973 6162  "enable", "disab
-000094f0: 6c65 2229 0a20 2020 2020 2020 2063 616c  le").        cal
-00009500: 6c20 3d20 7365 6c66 2e64 6961 6c6f 6773  l = self.dialogs
-00009510: 2e67 6574 5661 6c69 644f 7074 696f 6e73  .getValidOptions
-00009520: 280a 2020 2020 2020 2020 2020 2020 6f70  (.            op
-00009530: 7469 6f6e 733d 6361 6c6c 732c 0a20 2020  tions=calls,.   
-00009540: 2020 2020 2020 2020 2074 6974 6c65 3d22           title="
-00009550: 5061 7373 2046 756e 6374 696f 6e20 4361  Pass Function Ca
-00009560: 6c6c 2052 6573 706f 6e73 6520 746f 2043  ll Response to C
-00009570: 6861 7447 5054 222c 0a20 2020 2020 2020  hatGPT",.       
-00009580: 2020 2020 2064 6566 6175 6c74 3d22 656e       default="en
-00009590: 6162 6c65 2220 6966 2063 6f6e 6669 672e  able" if config.
-000095a0: 7061 7373 4675 6e63 7469 6f6e 4361 6c6c  passFunctionCall
-000095b0: 5265 7475 726e 546f 4368 6174 4750 5420  ReturnToChatGPT 
-000095c0: 656c 7365 2022 6469 7361 626c 6522 2c0a  else "disable",.
-000095d0: 2020 2020 2020 2020 2020 2020 7465 7874              text
-000095e0: 3d22 456e 6162 6c69 6e67 2074 6869 7320  ="Enabling this 
-000095f0: 6665 6174 7572 6520 616c 6c6f 7773 5c6e  feature allows\n
-00009600: 7061 7373 696e 6720 6675 6e63 7469 6f6e  passing function
-00009610: 2063 616c 6c20 7265 7370 6f6e 7365 732c   call responses,
-00009620: 2069 6620 616e 792c 5c6e 746f 2065 7874   if any,\nto ext
-00009630: 656e 6420 636f 6e76 6572 7361 7469 6f6e  end conversation
-00009640: 2077 6974 6820 4368 6174 4750 542e 5c6e   with ChatGPT.\n
-00009650: 4469 7361 626c 696e 6720 7468 6973 2066  Disabling this f
-00009660: 6561 7475 7265 2061 6c6c 6f77 735c 6e72  eature allows\nr
-00009670: 756e 6e69 6e67 2066 756e 6374 696f 6e20  unning function 
-00009680: 6361 6c6c 735c 6e77 6974 686f 7574 2067  calls\nwithout g
-00009690: 656e 6572 6174 696e 6720 6675 7274 6865  enerating furthe
-000096a0: 7220 7265 7370 6f6e 7365 732e 220a 2020  r responses.".  
-000096b0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-000096c0: 6966 2063 616c 6c3a 0a20 2020 2020 2020  if call:.       
-000096d0: 2020 2020 2063 6f6e 6669 672e 7061 7373       config.pass
-000096e0: 4675 6e63 7469 6f6e 4361 6c6c 5265 7475  FunctionCallRetu
-000096f0: 726e 546f 4368 6174 4750 5420 3d20 2863  rnToChatGPT = (c
-00009700: 616c 6c20 3d3d 2022 656e 6162 6c65 2229  all == "enable")
-00009710: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-00009720: 6669 672e 7361 7665 436f 6e66 6967 2829  fig.saveConfig()
-00009730: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00009740: 6e74 3328 6622 5061 7373 2046 756e 6374  nt3(f"Pass Funct
-00009750: 696f 6e20 4361 6c6c 2052 6573 706f 6e73  ion Call Respons
-00009760: 6520 746f 2043 6861 7447 5054 3a20 7b27  e to ChatGPT: {'
-00009770: 656e 6162 6c65 6427 2069 6620 636f 6e66  enabled' if conf
-00009780: 6967 2e70 6173 7346 756e 6374 696f 6e43  ig.passFunctionC
-00009790: 616c 6c52 6574 7572 6e54 6f43 6861 7447  allReturnToChatG
-000097a0: 5054 2065 6c73 6520 2764 6973 6162 6c65  PT else 'disable
-000097b0: 6427 7d21 2229 0a0a 2020 2020 6465 6620  d'}!")..    def 
-000097c0: 6564 6974 4c61 7374 5265 7370 6f6e 7365  editLastResponse
-000097d0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-000097e0: 6375 7374 6f6d 5465 7874 4564 6974 6f72  customTextEditor
-000097f0: 203d 2063 6f6e 6669 672e 6375 7374 6f6d   = config.custom
-00009800: 5465 7874 4564 6974 6f72 2069 6620 636f  TextEditor if co
-00009810: 6e66 6967 2e63 7573 746f 6d54 6578 7445  nfig.customTextE
-00009820: 6469 746f 7220 656c 7365 2066 227b 7379  ditor else f"{sy
-00009830: 732e 6578 6563 7574 6162 6c65 7d20 7b6f  s.executable} {o
-00009840: 732e 7061 7468 2e6a 6f69 6e28 636f 6e66  s.path.join(conf
-00009850: 6967 2e66 7265 6547 656e 6975 7341 4946  ig.freeGeniusAIF
-00009860: 6f6c 6465 722c 2027 6554 6578 7445 6469  older, 'eTextEdi
-00009870: 742e 7079 2729 7d22 0a20 2020 2020 2020  t.py')}".       
-00009880: 2070 7964 6f63 2e70 6970 6570 6167 6572   pydoc.pipepager
-00009890: 2863 6f6e 6669 672e 7061 6765 7243 6f6e  (config.pagerCon
-000098a0: 7465 6e74 2c20 636d 643d 6375 7374 6f6d  tent, cmd=custom
-000098b0: 5465 7874 4564 6974 6f72 290a 2020 2020  TextEditor).    
-000098c0: 2020 2020 7365 745f 7469 746c 6528 636f      set_title(co
-000098d0: 6e66 6967 2e66 7265 6547 656e 6975 7341  nfig.freeGeniusA
-000098e0: 494e 616d 6529 0a0a 2020 2020 6465 6620  IName)..    def 
-000098f0: 6578 7472 6163 7450 7974 686f 6e43 6f64  extractPythonCod
-00009900: 6546 726f 6d4c 6173 7452 6573 706f 6e73  eFromLastRespons
-00009910: 6528 7365 6c66 293a 0a20 2020 2020 2020  e(self):.       
-00009920: 2063 6f6e 6669 672e 6465 6661 756c 7445   config.defaultE
-00009930: 6e74 7279 203d 2066 2727 2760 6060 7079  ntry = f'''```py
-00009940: 7468 6f6e 0a7b 6578 7472 6163 7450 7974  thon.{extractPyt
-00009950: 686f 6e43 6f64 6528 636f 6e66 6967 2e70  honCode(config.p
-00009960: 6167 6572 436f 6e74 656e 742c 206b 6565  agerContent, kee
-00009970: 7049 6e76 616c 6964 3d54 7275 6529 7d60  pInvalid=True)}`
-00009980: 6060 2727 270a 0a20 2020 2064 6566 2072  ``'''..    def r
-00009990: 756e 5079 7468 6f6e 436f 6465 496e 4c61  unPythonCodeInLa
-000099a0: 7374 5265 7370 6f6e 7365 2873 656c 6629  stResponse(self)
-000099b0: 3a0a 2020 2020 2020 2020 636f 6465 203d  :.        code =
-000099c0: 2065 7874 7261 6374 5079 7468 6f6e 436f   extractPythonCo
-000099d0: 6465 2863 6f6e 6669 672e 7061 6765 7243  de(config.pagerC
-000099e0: 6f6e 7465 6e74 290a 2020 2020 2020 2020  ontent).        
-000099f0: 6966 2063 6f64 653a 0a20 2020 2020 2020  if code:.       
-00009a00: 2020 2020 2063 6f6e 6669 672e 6465 6661       config.defa
-00009a10: 756c 7445 6e74 7279 203d 2066 2727 2760  ultEntry = f'''`
-00009a20: 6060 7079 7468 6f6e 0a7b 636f 6465 7d60  ``python.{code}`
-00009a30: 6060 2727 270a 2020 2020 2020 2020 2020  ``'''.          
-00009a40: 2020 636f 6e66 6967 2e61 6363 6570 745f    config.accept_
-00009a50: 6465 6661 756c 7420 3d20 5472 7565 0a20  default = True. 
-00009a60: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00009a70: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-00009a80: 6465 6661 756c 7445 6e74 7279 203d 2065  defaultEntry = e
-00009a90: 7874 7261 6374 5079 7468 6f6e 436f 6465  xtractPythonCode
-00009aa0: 2863 6f6e 6669 672e 7061 6765 7243 6f6e  (config.pagerCon
-00009ab0: 7465 6e74 2c20 6b65 6570 496e 7661 6c69  tent, keepInvali
-00009ac0: 643d 5472 7565 290a 0a20 2020 2023 2063  d=True)..    # c
-00009ad0: 6861 6e67 6520 636f 6e66 6967 730a 2020  hange configs.  
-00009ae0: 2020 6465 6620 6564 6974 436f 6e66 6967    def editConfig
-00009af0: 7328 7365 6c66 293a 0a20 2020 2020 2020  s(self):.       
-00009b00: 2023 2066 696c 6520 7061 7468 730a 2020   # file paths.  
-00009b10: 2020 2020 2020 636f 6e66 6967 4669 6c65        configFile
-00009b20: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-00009b30: 636f 6e66 6967 2e66 7265 6547 656e 6975  config.freeGeniu
-00009b40: 7341 4946 6f6c 6465 722c 2022 636f 6e66  sAIFolder, "conf
-00009b50: 6967 2e70 7922 290a 2020 2020 2020 2020  ig.py").        
-00009b60: 6261 636b 7570 4669 6c65 203d 206f 732e  backupFile = os.
-00009b70: 7061 7468 2e6a 6f69 6e28 636f 6e66 6967  path.join(config
-00009b80: 2e6c 6f63 616c 5374 6f72 6167 652c 2022  .localStorage, "
-00009b90: 636f 6e66 6967 5f62 6163 6b75 702e 7079  config_backup.py
-00009ba0: 2229 0a20 2020 2020 2020 2023 2062 6163  ").        # bac
-00009bb0: 6b75 7020 636f 6e66 6967 730a 2020 2020  kup configs.    
-00009bc0: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
-00009bd0: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
-00009be0: 7368 7574 696c 2e63 6f70 7928 636f 6e66  shutil.copy(conf
-00009bf0: 6967 4669 6c65 2c20 6261 636b 7570 4669  igFile, backupFi
-00009c00: 6c65 290a 2020 2020 2020 2020 2320 6f70  le).        # op
-00009c10: 656e 2063 7572 7265 6e74 2063 6f6e 6669  en current confi
-00009c20: 6773 2077 6974 6820 6275 696c 742d 696e  gs with built-in
-00009c30: 2074 6578 7420 6564 6974 6f72 0a20 2020   text editor.   
-00009c40: 2020 2020 2063 7573 746f 6d54 6578 7445       customTextE
-00009c50: 6469 746f 7220 3d20 636f 6e66 6967 2e63  ditor = config.c
-00009c60: 7573 746f 6d54 6578 7445 6469 746f 7220  ustomTextEditor 
-00009c70: 6966 2063 6f6e 6669 672e 6375 7374 6f6d  if config.custom
-00009c80: 5465 7874 4564 6974 6f72 2065 6c73 6520  TextEditor else 
-00009c90: 6622 7b73 7973 2e65 7865 6375 7461 626c  f"{sys.executabl
-00009ca0: 657d 207b 6f73 2e70 6174 682e 6a6f 696e  e} {os.path.join
-00009cb0: 2863 6f6e 6669 672e 6672 6565 4765 6e69  (config.freeGeni
-00009cc0: 7573 4149 466f 6c64 6572 2c20 2765 5465  usAIFolder, 'eTe
-00009cd0: 7874 4564 6974 2e70 7927 297d 220a 2020  xtEdit.py')}".  
-00009ce0: 2020 2020 2020 6f73 2e73 7973 7465 6d28        os.system(
-00009cf0: 6622 7b63 7573 746f 6d54 6578 7445 6469  f"{customTextEdi
-00009d00: 746f 727d 207b 636f 6e66 6967 4669 6c65  tor} {configFile
-00009d10: 7d22 290a 2020 2020 2020 2020 7365 745f  }").        set_
-00009d20: 7469 746c 6528 636f 6e66 6967 2e66 7265  title(config.fre
-00009d30: 6547 656e 6975 7341 494e 616d 6529 0a20  eGeniusAIName). 
-00009d40: 2020 2020 2020 2023 2072 652d 6c6f 6164         # re-load
-00009d50: 2063 6f6e 6669 6773 0a20 2020 2020 2020   configs.       
-00009d60: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
-00009d70: 2020 636f 6e66 6967 2e6c 6f61 6443 6f6e    config.loadCon
-00009d80: 6669 6728 636f 6e66 6967 4669 6c65 290a  fig(configFile).
-00009d90: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00009da0: 7432 2822 4368 616e 6765 7320 6c6f 6164  t2("Changes load
-00009db0: 6564 2122 290a 2020 2020 2020 2020 6578  ed!").        ex
-00009dc0: 6365 7074 3a0a 2020 2020 2020 2020 2020  cept:.          
-00009dd0: 2020 7072 696e 7432 2822 4661 696c 6564    print2("Failed
-00009de0: 2074 6f20 6c6f 6164 2079 6f75 7220 6368   to load your ch
-00009df0: 616e 6765 7321 2229 0a20 2020 2020 2020  anges!").       
-00009e00: 2020 2020 2070 7269 6e74 2874 7261 6365       print(trace
-00009e10: 6261 636b 2e66 6f72 6d61 745f 6578 6328  back.format_exc(
-00009e20: 2929 0a20 2020 2020 2020 2020 2020 2074  )).            t
-00009e30: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-00009e40: 2020 2020 7072 696e 7432 2822 5265 7374      print2("Rest
-00009e50: 6f72 696e 6720 6261 636b 7570 202e 2e2e  oring backup ...
-00009e60: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-00009e70: 2020 2063 6f6e 6669 672e 6c6f 6164 436f     config.loadCo
-00009e80: 6e66 6967 2862 6163 6b75 7046 696c 6529  nfig(backupFile)
-00009e90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009ea0: 2073 6875 7469 6c2e 636f 7079 2862 6163   shutil.copy(bac
-00009eb0: 6b75 7046 696c 652c 2063 6f6e 6669 6746  kupFile, configF
-00009ec0: 696c 6529 0a20 2020 2020 2020 2020 2020  ile).           
-00009ed0: 2020 2020 2070 7269 6e74 3228 2252 6573       print2("Res
-00009ee0: 746f 7265 6421 2229 0a20 2020 2020 2020  tored!").       
-00009ef0: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
-00009f00: 2020 2020 2020 2020 2020 2020 2070 7269               pri
-00009f10: 6e74 3228 2246 6169 6c65 6420 746f 2072  nt2("Failed to r
-00009f20: 6573 746f 7265 2062 6163 6b75 7021 2229  estore backup!")
-00009f30: 0a0a 2020 2020 6465 6620 696e 7374 616c  ..    def instal
-00009f40: 6c50 7974 686f 6e50 6163 6b61 6765 2873  lPythonPackage(s
-00009f50: 656c 6629 3a0a 2020 2020 2020 2020 7072  elf):.        pr
-00009f60: 696e 7431 2822 456e 7465 7220 6120 7079  int1("Enter a py
-00009f70: 7468 6f6e 2070 6163 6b61 6765 206e 616d  thon package nam
-00009f80: 653a 2229 0a20 2020 2020 2020 2070 6163  e:").        pac
-00009f90: 6b61 6765 203d 2073 656c 662e 7072 6f6d  kage = self.prom
-00009fa0: 7074 732e 7369 6d70 6c65 5072 6f6d 7074  pts.simplePrompt
-00009fb0: 2873 7479 6c65 3d73 656c 662e 7072 6f6d  (style=self.prom
-00009fc0: 7074 732e 7072 6f6d 7074 5374 796c 6532  pts.promptStyle2
-00009fd0: 290a 2020 2020 2020 2020 6966 2070 6163  ).        if pac
-00009fe0: 6b61 6765 3a0a 2020 2020 2020 2020 2020  kage:.          
-00009ff0: 2020 7072 696e 7431 2866 2249 6e73 7461    print1(f"Insta
-0000a000: 6c6c 696e 6720 277b 7061 636b 6167 657d  lling '{package}
-0000a010: 2720 2e2e 2e22 290a 2020 2020 2020 2020  ' ...").        
-0000a020: 2020 2020 696e 7374 616c 6c50 6970 5061      installPipPa
-0000a030: 636b 6167 6528 6622 2d2d 7570 6772 6164  ckage(f"--upgrad
-0000a040: 6520 7b70 6163 6b61 6765 7d22 290a 0a20  e {package}").. 
-0000a050: 2020 2064 6566 2073 6574 5465 6d70 6572     def setTemper
-0000a060: 6174 7572 6528 7365 6c66 293a 0a20 2020  ature(self):.   
-0000a070: 2020 2020 2070 7269 6e74 3128 2245 6e74       print1("Ent
-0000a080: 6572 2061 2076 616c 7565 2062 6574 7765  er a value betwe
-0000a090: 656e 2030 2e30 2061 6e64 2032 2e30 3a22  en 0.0 and 2.0:"
-0000a0a0: 290a 2020 2020 2020 2020 7072 696e 7431  ).        print1
-0000a0b0: 2822 284c 6f77 6572 2076 616c 7565 7320  ("(Lower values 
-0000a0c0: 666f 7220 7465 6d70 6572 6174 7572 6520  for temperature 
-0000a0d0: 7265 7375 6c74 2069 6e20 6d6f 7265 2063  result in more c
-0000a0e0: 6f6e 7369 7374 656e 7420 6f75 7470 7574  onsistent output
-0000a0f0: 732c 2077 6869 6c65 2068 6967 6865 7220  s, while higher 
-0000a100: 7661 6c75 6573 2067 656e 6572 6174 6520  values generate 
-0000a110: 6d6f 7265 2064 6976 6572 7365 2061 6e64  more diverse and
-0000a120: 2063 7265 6174 6976 6520 7265 7375 6c74   creative result
-0000a130: 732e 2053 656c 6563 7420 6120 7465 6d70  s. Select a temp
-0000a140: 6572 6174 7572 6520 7661 6c75 6520 6261  erature value ba
-0000a150: 7365 6420 6f6e 2074 6865 2064 6573 6972  sed on the desir
-0000a160: 6564 2074 7261 6465 2d6f 6666 2062 6574  ed trade-off bet
-0000a170: 7765 656e 2063 6f68 6572 656e 6365 2061  ween coherence a
-0000a180: 6e64 2063 7265 6174 6976 6974 7920 666f  nd creativity fo
-0000a190: 7220 796f 7572 2073 7065 6369 6669 6320  r your specific 
-0000a1a0: 6170 706c 6963 6174 696f 6e2e 2922 290a  application.)").
-0000a1b0: 2020 2020 2020 2020 7465 6d70 6572 6174          temperat
-0000a1c0: 7572 6520 3d20 7365 6c66 2e70 726f 6d70  ure = self.promp
-0000a1d0: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
-0000a1e0: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
-0000a1f0: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
-0000a200: 2076 616c 6964 6174 6f72 3d46 6c6f 6174   validator=Float
-0000a210: 5661 6c69 6461 746f 7228 292c 2064 6566  Validator(), def
-0000a220: 6175 6c74 3d73 7472 2863 6f6e 6669 672e  ault=str(config.
-0000a230: 6c6c 6d54 656d 7065 7261 7475 7265 2929  llmTemperature))
-0000a240: 0a20 2020 2020 2020 2069 6620 7465 6d70  .        if temp
-0000a250: 6572 6174 7572 6520 616e 6420 6e6f 7420  erature and not 
-0000a260: 7465 6d70 6572 6174 7572 652e 7374 7269  temperature.stri
-0000a270: 7028 292e 6c6f 7765 7228 2920 3d3d 2063  p().lower() == c
-0000a280: 6f6e 6669 672e 6578 6974 5f65 6e74 7279  onfig.exit_entry
-0000a290: 3a0a 2020 2020 2020 2020 2020 2020 7465  :.            te
-0000a2a0: 6d70 6572 6174 7572 6520 3d20 666c 6f61  mperature = floa
-0000a2b0: 7428 7465 6d70 6572 6174 7572 6529 0a20  t(temperature). 
-0000a2c0: 2020 2020 2020 2020 2020 2069 6620 7465             if te
-0000a2d0: 6d70 6572 6174 7572 6520 3c20 303a 0a20  mperature < 0:. 
-0000a2e0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0000a2f0: 656d 7065 7261 7475 7265 203d 2030 0a20  emperature = 0. 
-0000a300: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-0000a310: 7465 6d70 6572 6174 7572 6520 3e20 323a  temperature > 2:
-0000a320: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a330: 2074 656d 7065 7261 7475 7265 203d 2032   temperature = 2
-0000a340: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-0000a350: 6669 672e 6c6c 6d54 656d 7065 7261 7475  fig.llmTemperatu
-0000a360: 7265 203d 2072 6f75 6e64 2874 656d 7065  re = round(tempe
-0000a370: 7261 7475 7265 2c20 3129 0a20 2020 2020  rature, 1).     
-0000a380: 2020 2020 2020 2063 6f6e 6669 672e 7361         config.sa
-0000a390: 7665 436f 6e66 6967 2829 0a20 2020 2020  veConfig().     
-0000a3a0: 2020 2020 2020 2070 7269 6e74 3328 6622         print3(f"
-0000a3b0: 4c4c 4d20 5465 6d70 6572 6174 7572 653a  LLM Temperature:
-0000a3c0: 207b 7465 6d70 6572 6174 7572 657d 2229   {temperature}")
-0000a3d0: 0a0a 2020 2020 6465 6620 7365 7454 6f6f  ..    def setToo
-0000a3e0: 6c53 656c 6563 7469 6f6e 436f 6e66 6967  lSelectionConfig
-0000a3f0: 7328 7365 6c66 293a 0a20 2020 2020 2020  s(self):.       
-0000a400: 2070 7269 6e74 3228 2223 2049 6e74 726f   print2("# Intro
-0000a410: 6475 6374 696f 6e2e 2046 7265 6547 656e  duction. FreeGen
-0000a420: 6975 7320 4149 2065 6e68 616e 6365 7320  ius AI enhances 
-0000a430: 4c4c 4d20 6361 7061 6269 6c69 7469 6573  LLM capabilities
-0000a440: 2062 7920 6f66 6665 7269 6e67 2074 6f6f   by offering too
-0000a450: 6c73 2074 6872 6f75 6768 2070 6c75 6769  ls through plugi
-0000a460: 6e73 2e20 5768 656e 2061 2075 7365 7220  ns. When a user 
-0000a470: 6d61 6b65 7320 6120 7265 7175 6573 742c  makes a request,
-0000a480: 2046 7265 6547 656e 6975 7320 4149 2073   FreeGenius AI s
-0000a490: 6561 7263 6865 7320 666f 7220 616e 6420  earches for and 
-0000a4a0: 7365 6c65 6374 7320 6120 7375 6974 6162  selects a suitab
-0000a4b0: 6c65 2074 6f6f 6c20 6672 6f6d 2069 7473  le tool from its
-0000a4c0: 2074 6f6f 6c20 7374 6f72 652e 2054 6869   tool store. Thi
-0000a4d0: 7320 7365 6172 6368 2069 6e76 6f6c 7665  s search involve
-0000a4e0: 7320 6669 6e64 696e 6720 7369 6d69 6c61  s finding simila
-0000a4f0: 7269 7469 6573 2062 6574 7765 656e 2074  rities between t
-0000a500: 6865 2075 7365 7220 7175 6572 7920 616e  he user query an
-0000a510: 6420 7468 6520 6578 616d 706c 6573 2070  d the examples p
-0000a520: 726f 7669 6465 6420 696e 2074 6865 2074  rovided in the t
-0000a530: 6f6f 6c20 706c 7567 696e 732e 2055 7365  ool plugins. Use
-0000a540: 7273 2068 6176 6520 7468 6520 666c 6578  rs have the flex
-0000a550: 6962 696c 6974 7920 746f 2063 7573 746f  ibility to custo
-0000a560: 6d69 7a65 2074 6865 2074 6f6f 6c20 7365  mize the tool se
-0000a570: 6c65 6374 696f 6e20 7072 6f63 6573 7320  lection process 
-0000a580: 6279 2061 646a 7573 7469 6e67 2074 6872  by adjusting thr
-0000a590: 6565 206b 6579 2063 6f6e 6669 6775 7261  ee key configura
-0000a5a0: 7469 6f6e 733a 2229 0a20 2020 2020 2020  tions:").       
-0000a5b0: 2070 7269 6e74 3228 2222 2231 2920 746f   print2("""1) to
-0000a5c0: 6f6c 5f64 6570 656e 6465 6e63 650a 3229  ol_dependence.2)
-0000a5d0: 2074 6f6f 6c5f 6175 746f 5f73 656c 6563   tool_auto_selec
-0000a5e0: 7469 6f6e 5f74 6872 6573 686f 6c64 0a33  tion_threshold.3
-0000a5f0: 2920 746f 6f6c 5f73 656c 6563 7469 6f6e  ) tool_selection
-0000a600: 5f6d 6178 5f63 686f 6963 6573 2222 2229  _max_choices""")
-0000a610: 0a20 2020 2020 2020 2070 7269 6e74 3228  .        print2(
-0000a620: 2223 2054 6f6f 6c20 4465 7065 6e64 656e  "# Tool Dependen
-0000a630: 6365 2e20 5468 6520 7661 6c75 6520 6f66  ce. The value of
-0000a640: 2027 746f 6f6c 5f64 6570 656e 6465 6e63   'tool_dependenc
-0000a650: 6527 2064 6574 6572 6d69 6e65 7320 686f  e' determines ho
-0000a660: 7720 796f 7520 7761 6e74 2074 6f20 7265  w you want to re
-0000a670: 6c79 206f 6e20 746f 6f6c 732e 2229 0a20  ly on tools."). 
-0000a680: 2020 2020 2020 2070 7269 6e74 3128 2241         print1("A
-0000a690: 6363 6570 7461 626c 6520 7261 6e67 653a  cceptable range:
-0000a6a0: 2030 2e30 202d 2031 2e30 2229 0a20 2020   0.0 - 1.0").   
-0000a6b0: 2020 2020 2070 7269 6e74 3128 2241 2076       print1("A v
-0000a6c0: 616c 7565 206f 6620 302e 3020 696e 6469  alue of 0.0 indi
-0000a6d0: 6361 7465 7320 7468 6174 2074 6f6f 6c73  cates that tools
-0000a6e0: 2061 7265 2064 6973 6162 6c65 642e 2046   are disabled. F
-0000a6f0: 7265 6547 656e 6975 7327 7320 7265 7370  reeGenius's resp
-0000a700: 6f6e 7365 7320 6172 6520 746f 7461 6c6c  onses are totall
-0000a710: 7920 6261 7365 6420 6f6e 2063 6170 6162  y based on capab
-0000a720: 696c 6974 6965 7320 6f66 2074 6865 2073  ilities of the s
-0000a730: 656c 6563 7465 6420 4c4c 4d2e 2229 0a20  elected LLM."). 
-0000a740: 2020 2020 2020 2070 7269 6e74 3128 2241         print1("A
-0000a750: 2076 616c 7565 206f 6620 312e 3020 696e   value of 1.0 in
-0000a760: 6469 6361 7465 7320 7468 6174 2074 6f6f  dicates that too
-0000a770: 6c73 2061 6c77 6179 7320 6170 706c 7920  ls always apply 
-0000a780: 666f 7220 6561 6368 2072 6573 706f 6e73  for each respons
-0000a790: 652e 2229 0a20 2020 2020 2020 2070 7269  e.").        pri
-0000a7a0: 6e74 3128 2241 2076 616c 7565 2062 6574  nt1("A value bet
-0000a7b0: 7765 656e 2030 2e30 2061 6e64 2030 2e31  ween 0.0 and 0.1
-0000a7c0: 2069 6e64 6963 6174 6573 2074 6861 7420   indicates that 
-0000a7d0: 6120 746f 6f6c 2069 7320 7365 6c65 6374  a tool is select
-0000a7e0: 6564 206f 6e6c 7920 7768 656e 2074 6f6f  ed only when too
-0000a7f0: 6c20 6469 7374 616e 6365 2073 6561 7263  l distance searc
-0000a800: 6820 6973 206c 6573 7320 7468 616e 206f  h is less than o
-0000a810: 7220 6571 7561 6c20 746f 2069 7473 2076  r equal to its v
-0000a820: 616c 7565 2e22 290a 2020 2020 2020 2020  alue.").        
-0000a830: 7072 696e 7431 2822 5468 6572 6566 6f72  print1("Therefor
-0000a840: 652c 2079 6f75 2061 7265 206d 6f72 6520  e, you are more 
-0000a850: 6c69 6b65 6c79 2074 6f20 7573 6520 746f  likely to use to
-0000a860: 6f6c 7320 7768 656e 2079 6f75 2073 6574  ols when you set
-0000a870: 2061 2068 6967 6865 7220 7661 6c75 652e   a higher value.
-0000a880: 2229 0a20 2020 2020 2020 2070 7269 6e74  ").        print
-0000a890: 3228 2250 6c65 6173 6520 656e 7465 7220  2("Please enter 
-0000a8a0: 6120 7661 6c75 6520 6265 7477 6565 6e20  a value between 
-0000a8b0: 302e 3020 616e 6420 312e 3020 746f 2073  0.0 and 1.0 to s
-0000a8c0: 6574 2069 7473 2076 616c 7565 3a22 290a  et its value:").
-0000a8d0: 2020 2020 2020 2020 746f 6f6c 5f64 6570          tool_dep
-0000a8e0: 656e 6465 6e63 6520 3d20 7365 6c66 2e70  endence = self.p
-0000a8f0: 726f 6d70 7473 2e73 696d 706c 6550 726f  rompts.simplePro
-0000a900: 6d70 7428 7374 796c 653d 7365 6c66 2e70  mpt(style=self.p
-0000a910: 726f 6d70 7473 2e70 726f 6d70 7453 7479  rompts.promptSty
-0000a920: 6c65 322c 2076 616c 6964 6174 6f72 3d46  le2, validator=F
-0000a930: 6c6f 6174 5661 6c69 6461 746f 7228 292c  loatValidator(),
-0000a940: 2064 6566 6175 6c74 3d73 7472 2863 6f6e   default=str(con
-0000a950: 6669 672e 746f 6f6c 5f64 6570 656e 6465  fig.tool_depende
-0000a960: 6e63 6529 290a 2020 2020 2020 2020 6966  nce)).        if
-0000a970: 2074 6f6f 6c5f 6465 7065 6e64 656e 6365   tool_dependence
-0000a980: 2061 6e64 206e 6f74 2074 6f6f 6c5f 6465   and not tool_de
-0000a990: 7065 6e64 656e 6365 2e73 7472 6970 2829  pendence.strip()
-0000a9a0: 2e6c 6f77 6572 2829 203d 3d20 636f 6e66  .lower() == conf
-0000a9b0: 6967 2e65 7869 745f 656e 7472 793a 0a20  ig.exit_entry:. 
-0000a9c0: 2020 2020 2020 2020 2020 2074 6f6f 6c5f             tool_
-0000a9d0: 6465 7065 6e64 656e 6365 203d 2066 6c6f  dependence = flo
-0000a9e0: 6174 2874 6f6f 6c5f 6465 7065 6e64 656e  at(tool_dependen
-0000a9f0: 6365 290a 2020 2020 2020 2020 2020 2020  ce).            
-0000aa00: 6966 2074 6f6f 6c5f 6465 7065 6e64 656e  if tool_dependen
-0000aa10: 6365 203c 2030 3a0a 2020 2020 2020 2020  ce < 0:.        
-0000aa20: 2020 2020 2020 2020 746f 6f6c 5f64 6570          tool_dep
-0000aa30: 656e 6465 6e63 6520 3d20 302e 300a 2020  endence = 0.0.  
-0000aa40: 2020 2020 2020 2020 2020 656c 6966 2074            elif t
-0000aa50: 6f6f 6c5f 6465 7065 6e64 656e 6365 203e  ool_dependence >
-0000aa60: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
-0000aa70: 2020 2020 746f 6f6c 5f64 6570 656e 6465      tool_depende
-0000aa80: 6e63 6520 3d20 312e 300a 2020 2020 2020  nce = 1.0.      
-0000aa90: 2020 2020 2020 636f 6e66 6967 2e74 6f6f        config.too
-0000aaa0: 6c5f 6465 7065 6e64 656e 6365 203d 2074  l_dependence = t
-0000aab0: 6f6f 6c5f 6465 7065 6e64 656e 6365 0a20  ool_dependence. 
-0000aac0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-0000aad0: 3328 6622 546f 6f6c 2044 6570 656e 6465  3(f"Tool Depende
-0000aae0: 6e63 653a 207b 746f 6f6c 5f64 6570 656e  nce: {tool_depen
-0000aaf0: 6465 6e63 657d 2229 0a20 2020 2020 2020  dence}").       
-0000ab00: 2070 7269 6e74 3228 2223 2054 6f6f 6c20   print2("# Tool 
-0000ab10: 4175 746f 2053 656c 6563 7469 6f6e 2054  Auto Selection T
-0000ab20: 6872 6573 686f 6c64 2e20 5468 6520 7661  hreshold. The va
-0000ab30: 6c75 6520 6f66 2027 746f 6f6c 5f61 7574  lue of 'tool_aut
-0000ab40: 6f5f 7365 6c65 6374 696f 6e5f 7468 7265  o_selection_thre
-0000ab50: 7368 6f6c 6427 2064 6574 6572 6d69 6e65  shold' determine
-0000ab60: 7320 7468 6520 7468 7265 7368 6f6c 6420  s the threshold 
-0000ab70: 6f66 2061 7574 6f6d 6174 6963 2074 6f6f  of automatic too
-0000ab80: 6c20 7365 6c65 6374 696f 6e2e 2229 0a20  l selection."). 
-0000ab90: 2020 2020 2020 2070 7269 6e74 3128 2241         print1("A
-0000aba0: 6363 6570 7461 626c 6520 7261 6e67 653a  cceptable range:
-0000abb0: 2030 2e30 202d 205b 7468 6520 7661 6c75   0.0 - [the valu
-0000abc0: 6520 6f66 2074 6f6f 6c5f 6465 7065 6e64  e of tool_depend
-0000abd0: 656e 6365 5d22 290a 2020 2020 2020 2020  ence]").        
-0000abe0: 7072 696e 7431 2822 4120 7661 6c75 6520  print1("A value 
-0000abf0: 6f66 2030 2e30 2069 6e64 6963 6174 6573  of 0.0 indicates
-0000ac00: 2074 6861 7420 6175 746f 6d61 7469 6320   that automatic 
-0000ac10: 746f 6f6c 2073 656c 6563 7469 6f6e 2069  tool selection i
-0000ac20: 7320 6469 7361 626c 6564 2e20 5573 6572  s disabled. User
-0000ac30: 7320 6d75 7374 206d 616e 7561 6c6c 7920  s must manually 
-0000ac40: 6368 6f6f 7365 2061 2074 6f6f 6c20 6672  choose a tool fr
-0000ac50: 6f6d 2074 6865 206d 6f73 7420 7265 6c65  om the most rele
-0000ac60: 7661 6e74 206f 7074 696f 6e73 2069 6465  vant options ide
-0000ac70: 6e74 6966 6965 6420 696e 2065 6163 6820  ntified in each 
-0000ac80: 746f 6f6c 2073 6561 7263 682e 2229 0a20  tool search."). 
-0000ac90: 2020 2020 2020 2070 7269 6e74 3128 2241         print1("A
-0000aca0: 2076 616c 7565 2074 6861 7420 6973 2065   value that is e
-0000acb0: 7175 616c 2074 6f20 6f72 206c 6172 6765  qual to or large
-0000acc0: 7220 7468 616e 2074 6865 2076 616c 7565  r than the value
-0000acd0: 206f 6620 2774 6f6f 6c5f 6465 7065 6e64   of 'tool_depend
-0000ace0: 656e 6365 2720 696e 6469 6361 7465 7320  ence' indicates 
-0000acf0: 7468 6174 2074 6f6f 6c20 7365 6c65 6374  that tool select
-0000ad00: 696f 6e20 6973 2061 6c77 6179 7320 6175  ion is always au
-0000ad10: 746f 6d61 7469 632e 2229 0a20 2020 2020  tomatic.").     
-0000ad20: 2020 2070 7269 6e74 3128 2241 2076 616c     print1("A val
-0000ad30: 7565 2062 6574 7765 656e 2030 2e30 2061  ue between 0.0 a
-0000ad40: 6e64 2074 6865 2076 616c 7565 206f 6620  nd the value of 
-0000ad50: 2774 6f6f 6c5f 6465 7065 6e64 656e 6365  'tool_dependence
-0000ad60: 2720 696e 6469 6361 7465 7320 7468 6174  ' indicates that
-0000ad70: 2074 6f6f 6c20 7365 6c65 6374 696f 6e20   tool selection 
-0000ad80: 6973 206f 6e6c 7920 6175 746f 6d61 7469  is only automati
-0000ad90: 6320 7768 656e 2069 7473 2076 616c 7565  c when its value
-0000ada0: 2069 7320 6c61 7267 6572 2074 6861 6e20   is larger than 
-0000adb0: 6f72 2065 7175 616c 2074 6f20 7468 6520  or equal to the 
-0000adc0: 746f 6f6c 2073 6561 7263 6820 6469 7374  tool search dist
-0000add0: 616e 6365 2e20 5573 6572 7320 6e65 6564  ance. Users need
-0000ade0: 2074 6f20 6368 6f6f 7365 2061 2074 6f6f   to choose a too
-0000adf0: 6c20 6672 6f6d 2074 6865 206d 6f73 7420  l from the most 
-0000ae00: 7265 6c65 7661 6e74 206f 7074 696f 6e73  relevant options
-0000ae10: 2069 6e20 6361 7365 2061 7574 6f6d 6174   in case automat
-0000ae20: 6963 2074 6f6f 6c20 7365 6c65 6374 696f  ic tool selectio
-0000ae30: 6e20 6973 206e 6f74 2061 7070 6c69 6564  n is not applied
-0000ae40: 2061 6e64 2074 6f6f 6c20 7365 6172 6368   and tool search
-0000ae50: 2064 6973 7461 6e63 6520 6973 206c 6573   distance is les
-0000ae60: 7320 7468 616e 206f 7220 6571 7561 6c20  s than or equal 
-0000ae70: 746f 2074 6865 2076 616c 7565 206f 6620  to the value of 
-0000ae80: 746f 6f6c 5f64 6570 656e 6465 6e63 652e  tool_dependence.
-0000ae90: 2229 0a20 2020 2020 2020 2070 7269 6e74  ").        print
-0000aea0: 3228 6622 506c 6561 7365 2065 6e74 6572  2(f"Please enter
-0000aeb0: 2061 2076 616c 7565 2062 6574 7765 656e   a value between
-0000aec0: 2030 2e30 2061 6e64 207b 636f 6e66 6967   0.0 and {config
-0000aed0: 2e74 6f6f 6c5f 6465 7065 6e64 656e 6365  .tool_dependence
-0000aee0: 7d20 746f 2073 6574 2069 7473 2076 616c  } to set its val
-0000aef0: 7565 3a22 290a 2020 2020 2020 2020 746f  ue:").        to
-0000af00: 6f6c 5f61 7574 6f5f 7365 6c65 6374 696f  ol_auto_selectio
-0000af10: 6e5f 7468 7265 7368 6f6c 6420 3d20 7365  n_threshold = se
-0000af20: 6c66 2e70 726f 6d70 7473 2e73 696d 706c  lf.prompts.simpl
-0000af30: 6550 726f 6d70 7428 7374 796c 653d 7365  ePrompt(style=se
-0000af40: 6c66 2e70 726f 6d70 7473 2e70 726f 6d70  lf.prompts.promp
-0000af50: 7453 7479 6c65 322c 2076 616c 6964 6174  tStyle2, validat
-0000af60: 6f72 3d46 6c6f 6174 5661 6c69 6461 746f  or=FloatValidato
-0000af70: 7228 292c 2064 6566 6175 6c74 3d73 7472  r(), default=str
-0000af80: 2863 6f6e 6669 672e 746f 6f6c 5f61 7574  (config.tool_aut
-0000af90: 6f5f 7365 6c65 6374 696f 6e5f 7468 7265  o_selection_thre
-0000afa0: 7368 6f6c 6429 290a 2020 2020 2020 2020  shold)).        
-0000afb0: 6966 2074 6f6f 6c5f 6175 746f 5f73 656c  if tool_auto_sel
-0000afc0: 6563 7469 6f6e 5f74 6872 6573 686f 6c64  ection_threshold
-0000afd0: 2061 6e64 206e 6f74 2074 6f6f 6c5f 6175   and not tool_au
-0000afe0: 746f 5f73 656c 6563 7469 6f6e 5f74 6872  to_selection_thr
-0000aff0: 6573 686f 6c64 2e73 7472 6970 2829 2e6c  eshold.strip().l
-0000b000: 6f77 6572 2829 203d 3d20 636f 6e66 6967  ower() == config
-0000b010: 2e65 7869 745f 656e 7472 793a 0a20 2020  .exit_entry:.   
-0000b020: 2020 2020 2020 2020 2074 6f6f 6c5f 6175           tool_au
-0000b030: 746f 5f73 656c 6563 7469 6f6e 5f74 6872  to_selection_thr
-0000b040: 6573 686f 6c64 203d 2066 6c6f 6174 2874  eshold = float(t
-0000b050: 6f6f 6c5f 6175 746f 5f73 656c 6563 7469  ool_auto_selecti
-0000b060: 6f6e 5f74 6872 6573 686f 6c64 290a 2020  on_threshold).  
-0000b070: 2020 2020 2020 2020 2020 6966 2074 6f6f            if too
-0000b080: 6c5f 6175 746f 5f73 656c 6563 7469 6f6e  l_auto_selection
-0000b090: 5f74 6872 6573 686f 6c64 203c 2030 3a0a  _threshold < 0:.
+00000000: 6672 6f6d 206c 6574 6d65 646f 6974 2069  from letmedoit i
+00000010: 6d70 6f72 7420 636f 6e66 6967 0a69 6d70  mport config.imp
+00000020: 6f72 7420 6c65 746d 6564 6f69 742e 636f  ort letmedoit.co
+00000030: 6e66 6967 0a69 6d70 6f72 7420 6f70 656e  nfig.import open
+00000040: 6169 2c20 7468 7265 6164 696e 672c 206f  ai, threading, o
+00000050: 732c 2074 696d 652c 2074 7261 6365 6261  s, time, traceba
+00000060: 636b 2c20 7265 2c20 7375 6270 726f 6365  ck, re, subproce
+00000070: 7373 2c20 6a73 6f6e 2c20 7079 646f 632c  ss, json, pydoc,
+00000080: 2074 6578 7477 7261 702c 2073 6875 7469   textwrap, shuti
+00000090: 6c2c 2064 6174 6574 696d 652c 2070 7072  l, datetime, ppr
+000000a0: 696e 740a 6672 6f6d 2070 6174 686c 6962  int.from pathlib
+000000b0: 2069 6d70 6f72 7420 5061 7468 0a69 6d70   import Path.imp
+000000c0: 6f72 7420 7079 676d 656e 7473 2c20 6f6c  ort pygments, ol
+000000d0: 6c61 6d61 0a66 726f 6d20 6f6c 6c61 6d61  lama.from ollama
+000000e0: 2069 6d70 6f72 7420 4f70 7469 6f6e 730a   import Options.
+000000f0: 6672 6f6d 2070 7967 6d65 6e74 732e 6c65  from pygments.le
+00000100: 7865 7273 2e70 7974 686f 6e20 696d 706f  xers.python impo
+00000110: 7274 2050 7974 686f 6e4c 6578 6572 0a66  rt PythonLexer.f
+00000120: 726f 6d20 7079 676d 656e 7473 2e6c 6578  rom pygments.lex
+00000130: 6572 732e 7368 656c 6c20 696d 706f 7274  ers.shell import
+00000140: 2042 6173 684c 6578 6572 0a23 6672 6f6d   BashLexer.#from
+00000150: 2070 7967 6d65 6e74 732e 6c65 7865 7273   pygments.lexers
+00000160: 2e6d 6172 6b75 7020 696d 706f 7274 204d  .markup import M
+00000170: 6172 6b64 6f77 6e4c 6578 6572 0a66 726f  arkdownLexer.fro
+00000180: 6d20 7072 6f6d 7074 5f74 6f6f 6c6b 6974  m prompt_toolkit
+00000190: 2e66 6f72 6d61 7474 6564 5f74 6578 7420  .formatted_text 
+000001a0: 696d 706f 7274 2050 7967 6d65 6e74 7354  import PygmentsT
+000001b0: 6f6b 656e 730a 6672 6f6d 2070 726f 6d70  okens.from promp
+000001c0: 745f 746f 6f6c 6b69 7420 696d 706f 7274  t_toolkit import
+000001d0: 2050 726f 6d70 7453 6573 7369 6f6e 0a66   PromptSession.f
+000001e0: 726f 6d20 7072 6f6d 7074 5f74 6f6f 6c6b  rom prompt_toolk
+000001f0: 6974 2e68 6973 746f 7279 2069 6d70 6f72  it.history impor
+00000200: 7420 4669 6c65 4869 7374 6f72 790a 6672  t FileHistory.fr
+00000210: 6f6d 2070 726f 6d70 745f 746f 6f6c 6b69  om prompt_toolki
+00000220: 742e 636f 6d70 6c65 7469 6f6e 2069 6d70  t.completion imp
+00000230: 6f72 7420 576f 7264 436f 6d70 6c65 7465  ort WordComplete
+00000240: 722c 2046 757a 7a79 436f 6d70 6c65 7465  r, FuzzyComplete
+00000250: 720a 6672 6f6d 2070 726f 6d70 745f 746f  r.from prompt_to
+00000260: 6f6c 6b69 742e 7368 6f72 7463 7574 7320  olkit.shortcuts 
+00000270: 696d 706f 7274 2063 6c65 6172 2c20 7365  import clear, se
+00000280: 745f 7469 746c 650a 6672 6f6d 2070 726f  t_title.from pro
+00000290: 6d70 745f 746f 6f6c 6b69 742e 6170 706c  mpt_toolkit.appl
+000002a0: 6963 6174 696f 6e20 696d 706f 7274 2072  ication import r
+000002b0: 756e 5f69 6e5f 7465 726d 696e 616c 0a66  un_in_terminal.f
+000002c0: 726f 6d20 7072 6f6d 7074 5f74 6f6f 6c6b  rom prompt_toolk
+000002d0: 6974 2069 6d70 6f72 7420 7072 696e 745f  it import print_
+000002e0: 666f 726d 6174 7465 645f 7465 7874 2c20  formatted_text, 
+000002f0: 4854 4d4c 0a66 726f 6d20 6c65 746d 6564  HTML.from letmed
+00000300: 6f69 742e 7574 696c 732e 7465 726d 696e  oit.utils.termin
+00000310: 616c 5f6d 6f64 655f 6469 616c 6f67 7320  al_mode_dialogs 
+00000320: 696d 706f 7274 2054 6572 6d69 6e61 6c4d  import TerminalM
+00000330: 6f64 6544 6961 6c6f 6773 0a66 726f 6d20  odeDialogs.from 
+00000340: 6c65 746d 6564 6f69 742e 7574 696c 732e  letmedoit.utils.
+00000350: 7072 6f6d 7074 7320 696d 706f 7274 2050  prompts import P
+00000360: 726f 6d70 7473 0a66 726f 6d20 6c65 746d  rompts.from letm
+00000370: 6564 6f69 742e 7574 696c 732e 7072 6f6d  edoit.utils.prom
+00000380: 7074 5661 6c69 6461 746f 7220 696d 706f  ptValidator impo
+00000390: 7274 2046 6c6f 6174 5661 6c69 6461 746f  rt FloatValidato
+000003a0: 722c 2054 6f6b 656e 5661 6c69 6461 746f  r, TokenValidato
+000003b0: 720a 6672 6f6d 206c 6574 6d65 646f 6974  r.from letmedoit
+000003c0: 2e75 7469 6c73 2e67 6574 5f70 6174 685f  .utils.get_path_
+000003d0: 7072 6f6d 7074 2069 6d70 6f72 7420 4765  prompt import Ge
+000003e0: 7450 6174 680a 6672 6f6d 206c 6574 6d65  tPath.from letme
+000003f0: 646f 6974 2e75 7469 6c73 2e70 726f 6d70  doit.utils.promp
+00000400: 745f 7368 6172 6564 5f6b 6579 5f62 696e  t_shared_key_bin
+00000410: 6469 6e67 7320 696d 706f 7274 2073 7761  dings import swa
+00000420: 7054 6572 6d69 6e61 6c43 6f6c 6f72 730a  pTerminalColors.
+00000430: 6672 6f6d 206c 6574 6d65 646f 6974 2e75  from letmedoit.u
+00000440: 7469 6c73 2e66 696c 655f 7574 696c 7320  tils.file_utils 
+00000450: 696d 706f 7274 2046 696c 6555 7469 6c0a  import FileUtil.
+00000460: 6672 6f6d 206c 6574 6d65 646f 6974 2e75  from letmedoit.u
+00000470: 7469 6c73 2e74 6572 6d69 6e61 6c5f 7379  tils.terminal_sy
+00000480: 7374 656d 5f63 6f6d 6d61 6e64 5f70 726f  stem_command_pro
+00000490: 6d70 7420 696d 706f 7274 2053 7973 7465  mpt import Syste
+000004a0: 6d43 6f6d 6d61 6e64 5072 6f6d 7074 0a66  mCommandPrompt.f
+000004b0: 726f 6d20 6c65 746d 6564 6f69 742e 7574  rom letmedoit.ut
+000004c0: 696c 732e 7368 6172 6564 5f75 7469 6c73  ils.shared_utils
+000004d0: 2069 6d70 6f72 7420 5368 6172 6564 5574   import SharedUt
+000004e0: 696c 0a66 726f 6d20 6c65 746d 6564 6f69  il.from letmedoi
+000004f0: 742e 7574 696c 732e 7474 735f 7574 696c  t.utils.tts_util
+00000500: 7320 696d 706f 7274 2054 5453 5574 696c  s import TTSUtil
+00000510: 0a66 726f 6d20 6c65 746d 6564 6f69 742e  .from letmedoit.
+00000520: 7574 696c 732e 7474 734c 616e 6775 6167  utils.ttsLanguag
+00000530: 6573 2069 6d70 6f72 7420 5474 734c 616e  es import TtsLan
+00000540: 6775 6167 6573 0a66 726f 6d20 6c65 746d  guages.from letm
+00000550: 6564 6f69 742e 7574 696c 732e 7374 7265  edoit.utils.stre
+00000560: 616d 696e 675f 776f 7264 5f77 7261 7070  aming_word_wrapp
+00000570: 6572 2069 6d70 6f72 7420 5374 7265 616d  er import Stream
+00000580: 696e 6757 6f72 6457 7261 7070 6572 0a66  ingWordWrapper.f
+00000590: 726f 6d20 6c65 746d 6564 6f69 742e 7574  rom letmedoit.ut
+000005a0: 696c 732e 7465 7874 5f75 7469 6c73 2069  ils.text_utils i
+000005b0: 6d70 6f72 7420 5465 7874 5574 696c 0a66  mport TextUtil.f
+000005c0: 726f 6d20 6c65 746d 6564 6f69 742e 7574  rom letmedoit.ut
+000005d0: 696c 732e 7374 744c 616e 6775 6167 6573  ils.sttLanguages
+000005e0: 2069 6d70 6f72 7420 676f 6f67 6c65 5370   import googleSp
+000005f0: 6565 636b 546f 5465 7874 4c61 6e67 7561  eeckToTextLangua
+00000600: 6765 732c 2077 6869 7370 6572 5370 6565  ges, whisperSpee
+00000610: 636b 546f 5465 7874 4c61 6e67 7561 6765  ckToTextLanguage
+00000620: 730a 6672 6f6d 206c 6574 6d65 646f 6974  s.from letmedoit
+00000630: 2e63 6861 7467 7074 2069 6d70 6f72 7420  .chatgpt import 
+00000640: 4368 6174 4750 540a 6672 6f6d 206c 6574  ChatGPT.from let
+00000650: 6d65 646f 6974 2e75 7469 6c73 2e69 6e73  medoit.utils.ins
+00000660: 7461 6c6c 2069 6d70 6f72 7420 696e 7374  tall import inst
+00000670: 616c 6c6d 6f64 756c 650a 6966 206e 6f74  allmodule.if not
+00000680: 2063 6f6e 6669 672e 6973 5465 726d 7578   config.isTermux
+00000690: 3a0a 2020 2020 6672 6f6d 206c 6574 6d65  :.    from letme
+000006a0: 646f 6974 2e61 7574 6f62 7569 6c64 6572  doit.autobuilder
+000006b0: 2069 6d70 6f72 7420 4175 746f 4765 6e42   import AutoGenB
+000006c0: 7569 6c64 6572 0a20 2020 2066 726f 6d20  uilder.    from 
+000006d0: 6c65 746d 6564 6f69 742e 6765 6d69 6e69  letmedoit.gemini
+000006e0: 7072 6f20 696d 706f 7274 2047 656d 696e  pro import Gemin
+000006f0: 6950 726f 0a20 2020 2066 726f 6d20 6c65  iPro.    from le
+00000700: 746d 6564 6f69 742e 7061 6c6d 3220 696d  tmedoit.palm2 im
+00000710: 706f 7274 2050 616c 6d32 0a20 2020 2066  port Palm2.    f
+00000720: 726f 6d20 6c65 746d 6564 6f69 742e 636f  rom letmedoit.co
+00000730: 6465 7920 696d 706f 7274 2043 6f64 6579  dey import Codey
+00000740: 0a66 726f 6d20 7479 7069 6e67 2069 6d70  .from typing imp
+00000750: 6f72 7420 4361 6c6c 6162 6c65 0a66 726f  ort Callable.fro
+00000760: 6d20 656c 6576 656e 6c61 6273 2069 6d70  m elevenlabs imp
+00000770: 6f72 7420 6765 6e65 7261 7465 2c20 766f  ort generate, vo
+00000780: 6963 6573 0a0a 0a63 6c61 7373 2046 7265  ices...class Fre
+00000790: 6547 656e 6975 733a 0a0a 2020 2020 6465  eGenius:..    de
+000007a0: 6620 5f5f 696e 6974 5f5f 2873 656c 6629  f __init__(self)
+000007b0: 3a0a 2020 2020 2020 2020 2363 6f6e 6669  :.        #confi
+000007c0: 672e 6c65 744d 6544 6f49 7441 4920 3d20  g.letMeDoItAI = 
+000007d0: 7365 6c66 0a20 2020 2020 2020 2073 656c  self.        sel
+000007e0: 662e 7072 6f6d 7074 7320 3d20 5072 6f6d  f.prompts = Prom
+000007f0: 7074 7328 290a 2020 2020 2020 2020 7365  pts().        se
+00000800: 6c66 2e64 6961 6c6f 6773 203d 2054 6572  lf.dialogs = Ter
+00000810: 6d69 6e61 6c4d 6f64 6544 6961 6c6f 6773  minalModeDialogs
+00000820: 2873 656c 6629 0a20 2020 2020 2020 2073  (self).        s
+00000830: 656c 662e 7365 7475 7028 290a 2020 2020  elf.setup().    
+00000840: 2020 2020 7365 6c66 2e72 756e 506c 7567      self.runPlug
+00000850: 696e 7328 290a 0a20 2020 2064 6566 2073  ins()..    def s
+00000860: 6574 7570 2873 656c 6629 3a0a 2020 2020  etup(self):.    
+00000870: 2020 2020 7365 6c66 2e6d 6f64 656c 7320      self.models 
+00000880: 3d20 6c69 7374 2853 6861 7265 6455 7469  = list(SharedUti
+00000890: 6c2e 746f 6b65 6e4c 696d 6974 732e 6b65  l.tokenLimits.ke
+000008a0: 7973 2829 290a 2020 2020 2020 2020 636f  ys()).        co
+000008b0: 6e66 6967 2e64 6976 6964 6572 203d 2073  nfig.divider = s
+000008c0: 656c 662e 6469 7669 6465 7220 3d20 222d  elf.divider = "-
+000008d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000008e0: 2d2d 2d22 0a20 2020 2020 2020 2073 656c  ---".        sel
+000008f0: 662e 7275 6e50 7974 686f 6e20 3d20 5472  f.runPython = Tr
+00000900: 7565 0a20 2020 2020 2020 2069 6620 6e6f  ue.        if no
+00000910: 7420 6861 7361 7474 7228 636f 6e66 6967  t hasattr(config
+00000920: 2c20 2261 6363 6570 745f 6465 6661 756c  , "accept_defaul
+00000930: 7422 293a 0a20 2020 2020 2020 2020 2020  t"):.           
+00000940: 2063 6f6e 6669 672e 6163 6365 7074 5f64   config.accept_d
+00000950: 6566 6175 6c74 203d 2046 616c 7365 0a20  efault = False. 
+00000960: 2020 2020 2020 2069 6620 6e6f 7420 6861         if not ha
+00000970: 7361 7474 7228 636f 6e66 6967 2c20 2264  sattr(config, "d
+00000980: 6566 6175 6c74 456e 7472 7922 293a 0a20  efaultEntry"):. 
+00000990: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+000009a0: 672e 6465 6661 756c 7445 6e74 7279 203d  g.defaultEntry =
+000009b0: 2022 220a 2020 2020 2020 2020 636f 6e66   "".        conf
+000009c0: 6967 2e74 656d 7043 6f6e 7465 6e74 203d  ig.tempContent =
+000009d0: 2022 220a 2020 2020 2020 2020 636f 6e66   "".        conf
+000009e0: 6967 2e74 656d 7043 6875 6e6b 203d 2022  ig.tempChunk = "
+000009f0: 220a 2020 2020 2020 2020 6966 206e 6f74  ".        if not
+00000a00: 2068 6173 6174 7472 2863 6f6e 6669 672c   hasattr(config,
+00000a10: 2022 7072 6564 6566 696e 6564 436f 6e74   "predefinedCont
+00000a20: 6578 7454 656d 7022 293a 0a20 2020 2020  extTemp"):.     
+00000a30: 2020 2020 2020 2063 6f6e 6669 672e 7072         config.pr
+00000a40: 6564 6566 696e 6564 436f 6e74 6578 7454  edefinedContextT
+00000a50: 656d 7020 3d20 2222 0a20 2020 2020 2020  emp = "".       
+00000a60: 2063 6f6e 6669 672e 7379 7374 656d 436f   config.systemCo
+00000a70: 6d6d 616e 6450 726f 6d70 7445 6e74 7279  mmandPromptEntry
+00000a80: 203d 2022 220a 2020 2020 2020 2020 636f   = "".        co
+00000a90: 6e66 6967 2e70 6167 6572 436f 6e74 656e  nfig.pagerConten
+00000aa0: 7420 3d20 2222 0a20 2020 2020 2020 2023  t = "".        #
+00000ab0: 7365 6c66 2e61 6464 5061 6765 7243 6f6e  self.addPagerCon
+00000ac0: 7465 6e74 203d 2046 616c 7365 0a20 2020  tent = False.   
+00000ad0: 2020 2020 2023 2073 6861 7265 2074 6865       # share the
+00000ae0: 2066 6f6c 6c6f 7769 6e67 206d 6574 686f   following metho
+00000af0: 6473 2069 6e20 636f 6e66 6967 2073 6f20  ds in config so 
+00000b00: 7468 6174 2074 6865 7920 6172 6520 6163  that they are ac
+00000b10: 6365 7373 6962 6c65 2076 6961 2070 6c75  cessible via plu
+00000b20: 6769 6e73 0a20 2020 2020 2020 2063 6f6e  gins.        con
+00000b30: 6669 672e 6164 6446 756e 6374 696f 6e43  fig.addFunctionC
+00000b40: 616c 6c20 3d20 7365 6c66 2e61 6464 4675  all = self.addFu
+00000b50: 6e63 7469 6f6e 4361 6c6c 0a20 2020 2020  nctionCall.     
+00000b60: 2020 2063 6f6e 6669 672e 6765 7446 696c     config.getFil
+00000b70: 6573 203d 2073 656c 662e 6765 7446 696c  es = self.getFil
+00000b80: 6573 0a20 2020 2020 2020 2063 6f6e 6669  es.        confi
+00000b90: 672e 7374 6f70 5370 696e 6e69 6e67 203d  g.stopSpinning =
+00000ba0: 2073 656c 662e 7374 6f70 5370 696e 6e69   self.stopSpinni
+00000bb0: 6e67 0a20 2020 2020 2020 2063 6f6e 6669  ng.        confi
+00000bc0: 672e 746f 6767 6c65 4d75 6c74 696c 696e  g.toggleMultilin
+00000bd0: 6520 3d20 7365 6c66 2e74 6f67 676c 654d  e = self.toggleM
+00000be0: 756c 7469 6c69 6e65 0a20 2020 2020 2020  ultiline.       
+00000bf0: 2063 6f6e 6669 672e 7072 696e 7420 3d20   config.print = 
+00000c00: 7365 6c66 2e70 7269 6e74 0a20 2020 2020  self.print.     
+00000c10: 2020 2063 6f6e 6669 672e 7072 696e 7432     config.print2
+00000c20: 203d 2073 656c 662e 7072 696e 7432 0a20   = self.print2. 
+00000c30: 2020 2020 2020 2063 6f6e 6669 672e 7072         config.pr
+00000c40: 696e 7433 203d 2073 656c 662e 7072 696e  int3 = self.prin
+00000c50: 7433 0a20 2020 2020 2020 2063 6f6e 6669  t3.        confi
+00000c60: 672e 6765 7457 7261 7070 6564 4854 4d4c  g.getWrappedHTML
+00000c70: 5465 7874 203d 2073 656c 662e 6765 7457  Text = self.getW
+00000c80: 7261 7070 6564 4854 4d4c 5465 7874 0a20  rappedHTMLText. 
+00000c90: 2020 2020 2020 2063 6f6e 6669 672e 6669         config.fi
+00000ca0: 6e65 5475 6e65 5573 6572 496e 7075 7420  neTuneUserInput 
+00000cb0: 3d20 7365 6c66 2e66 696e 6554 756e 6555  = self.fineTuneU
+00000cc0: 7365 7249 6e70 7574 0a20 2020 2020 2020  serInput.       
+00000cd0: 2063 6f6e 6669 672e 6c61 756e 6368 5061   config.launchPa
+00000ce0: 6765 7220 3d20 7365 6c66 2e6c 6175 6e63  ger = self.launc
+00000cf0: 6850 6167 6572 0a20 2020 2020 2020 2063  hPager.        c
+00000d00: 6f6e 6669 672e 6164 6450 6167 6572 5465  onfig.addPagerTe
+00000d10: 7874 203d 2073 656c 662e 6164 6450 6167  xt = self.addPag
+00000d20: 6572 5465 7874 0a20 2020 2020 2020 2063  erText.        c
+00000d30: 6f6e 6669 672e 6765 7446 756e 6374 696f  onfig.getFunctio
+00000d40: 6e4d 6573 7361 6765 416e 6452 6573 706f  nMessageAndRespo
+00000d50: 6e73 6520 3d20 7365 6c66 2e67 6574 4675  nse = self.getFu
+00000d60: 6e63 7469 6f6e 4d65 7373 6167 6541 6e64  nctionMessageAnd
+00000d70: 5265 7370 6f6e 7365 0a20 2020 2020 2020  Response.       
+00000d80: 2063 6f6e 6669 672e 6368 616e 6765 4f70   config.changeOp
+00000d90: 656e 7765 6174 6865 726d 6170 4170 6920  enweathermapApi 
+00000da0: 3d20 7365 6c66 2e63 6861 6e67 654f 7065  = self.changeOpe
+00000db0: 6e77 6561 7468 6572 6d61 7041 7069 0a20  nweathermapApi. 
+00000dc0: 2020 2020 2020 2063 6f6e 6669 672e 7275         config.ru
+00000dd0: 6e53 7065 6369 6669 6346 756e 7469 6f6e  nSpecificFuntion
+00000de0: 203d 2022 220a 2020 2020 2020 2020 2320   = "".        # 
+00000df0: 656e 7620 7661 7269 6162 6c65 730a 2020  env variables.  
+00000e00: 2020 2020 2020 6f73 2e65 6e76 6972 6f6e        os.environ
+00000e10: 5b22 5154 5f51 5041 5f50 4c41 5446 4f52  ["QT_QPA_PLATFOR
+00000e20: 4d5f 504c 5547 494e 5f50 4154 4822 5d20  M_PLUGIN_PATH"] 
+00000e30: 3d20 636f 6e66 6967 2e65 6e76 5f51 545f  = config.env_QT_
+00000e40: 5150 415f 504c 4154 464f 524d 5f50 4c55  QPA_PLATFORM_PLU
+00000e50: 4749 4e5f 5041 5448 0a0a 2020 2020 2020  GIN_PATH..      
+00000e60: 2020 2320 6765 7420 7061 7468 0a20 2020    # get path.   
+00000e70: 2020 2020 2063 6f6e 6669 672e 6164 6450       config.addP
+00000e80: 6174 6841 7420 3d20 4e6f 6e65 0a20 2020  athAt = None.   
+00000e90: 2020 2020 2073 656c 662e 6765 7450 6174       self.getPat
+00000ea0: 6820 3d20 4765 7450 6174 6828 0a20 2020  h = GetPath(.   
+00000eb0: 2020 2020 2020 2020 2063 616e 6365 6c5f           cancel_
+00000ec0: 656e 7472 793d 2222 2c0a 2020 2020 2020  entry="",.      
+00000ed0: 2020 2020 2020 7072 6f6d 7074 496e 6469        promptIndi
+00000ee0: 6361 746f 7243 6f6c 6f72 3d63 6f6e 6669  catorColor=confi
+00000ef0: 672e 7465 726d 696e 616c 5072 6f6d 7074  g.terminalPrompt
+00000f00: 496e 6469 6361 746f 7243 6f6c 6f72 322c  IndicatorColor2,
+00000f10: 0a20 2020 2020 2020 2020 2020 2070 726f  .            pro
+00000f20: 6d70 7445 6e74 7279 436f 6c6f 723d 636f  mptEntryColor=co
+00000f30: 6e66 6967 2e74 6572 6d69 6e61 6c43 6f6d  nfig.terminalCom
+00000f40: 6d61 6e64 456e 7472 7943 6f6c 6f72 322c  mandEntryColor2,
+00000f50: 0a20 2020 2020 2020 2020 2020 2073 7562  .            sub
+00000f60: 4865 6164 696e 6743 6f6c 6f72 3d63 6f6e  HeadingColor=con
+00000f70: 6669 672e 7465 726d 696e 616c 436f 6c6f  fig.terminalColo
+00000f80: 7273 5b63 6f6e 6669 672e 7465 726d 696e  rs[config.termin
+00000f90: 616c 5072 6f6d 7074 496e 6469 6361 746f  alPromptIndicato
+00000fa0: 7243 6f6c 6f72 325d 2c0a 2020 2020 2020  rColor2],.      
+00000fb0: 2020 2020 2020 6974 656d 436f 6c6f 723d        itemColor=
+00000fc0: 636f 6e66 6967 2e74 6572 6d69 6e61 6c43  config.terminalC
+00000fd0: 6f6c 6f72 735b 636f 6e66 6967 2e74 6572  olors[config.ter
+00000fe0: 6d69 6e61 6c43 6f6d 6d61 6e64 456e 7472  minalCommandEntr
+00000ff0: 7943 6f6c 6f72 325d 2c0a 2020 2020 2020  yColor2],.      
+00001000: 2020 290a 0a20 2020 2020 2020 2073 656c    )..        sel
+00001010: 662e 7374 6f72 6167 6544 6972 203d 2073  f.storageDir = s
+00001020: 656c 662e 6765 7453 746f 7261 6765 4469  elf.getStorageDi
+00001030: 7228 290a 2020 2020 2020 2020 6966 2028  r().        if (
+00001040: 6e6f 7420 636f 6e66 6967 2e68 6973 746f  not config.histo
+00001050: 7279 5061 7265 6e74 466f 6c64 6572 206f  ryParentFolder o
+00001060: 7220 6e6f 7420 6f73 2e70 6174 682e 6973  r not os.path.is
+00001070: 6469 7228 636f 6e66 6967 2e68 6973 746f  dir(config.histo
+00001080: 7279 5061 7265 6e74 466f 6c64 6572 2929  ryParentFolder))
+00001090: 2061 6e64 2073 656c 662e 7374 6f72 6167   and self.storag
+000010a0: 6544 6972 3a0a 2020 2020 2020 2020 2020  eDir:.          
+000010b0: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+000010c0: 2020 2020 2020 2068 6973 746f 7279 5061         historyPa
+000010d0: 7265 6e74 466f 6c64 6572 203d 206f 732e  rentFolder = os.
+000010e0: 7061 7468 2e6a 6f69 6e28 7365 6c66 2e73  path.join(self.s
+000010f0: 746f 7261 6765 4469 722c 2022 6869 7374  torageDir, "hist
+00001100: 6f72 7922 290a 2020 2020 2020 2020 2020  ory").          
+00001110: 2020 2020 2020 5061 7468 2868 6973 746f        Path(histo
+00001120: 7279 5061 7265 6e74 466f 6c64 6572 292e  ryParentFolder).
+00001130: 6d6b 6469 7228 7061 7265 6e74 733d 5472  mkdir(parents=Tr
+00001140: 7565 2c20 6578 6973 745f 6f6b 3d54 7275  ue, exist_ok=Tru
+00001150: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+00001160: 2020 2066 6f72 2069 2069 6e20 2822 6368     for i in ("ch
+00001170: 6174 7322 2c20 2270 6174 6873 222c 2022  ats", "paths", "
+00001180: 636f 6d6d 616e 6473 2229 3a0a 2020 2020  commands"):.    
+00001190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000011a0: 6869 7374 6f72 7946 696c 6520 3d20 6f73  historyFile = os
+000011b0: 2e70 6174 682e 6a6f 696e 2868 6973 746f  .path.join(histo
+000011c0: 7279 5061 7265 6e74 466f 6c64 6572 2c20  ryParentFolder, 
+000011d0: 6929 0a20 2020 2020 2020 2020 2020 2020  i).             
+000011e0: 2020 2020 2020 2069 6620 6e6f 7420 6f73         if not os
+000011f0: 2e70 6174 682e 6973 6669 6c65 2868 6973  .path.isfile(his
+00001200: 746f 7279 4669 6c65 293a 0a20 2020 2020  toryFile):.     
+00001210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001220: 2020 206f 7065 6e28 6869 7374 6f72 7946     open(historyF
+00001230: 696c 652c 2022 6122 2c20 656e 636f 6469  ile, "a", encodi
+00001240: 6e67 3d22 7574 662d 3822 292e 636c 6f73  ng="utf-8").clos
+00001250: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
+00001260: 2020 2020 636f 6e66 6967 2e68 6973 746f      config.histo
+00001270: 7279 5061 7265 6e74 466f 6c64 6572 203d  ryParentFolder =
+00001280: 2073 656c 662e 7374 6f72 6167 6544 6972   self.storageDir
+00001290: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+000012a0: 6570 743a 0a20 2020 2020 2020 2020 2020  ept:.           
+000012b0: 2020 2020 2063 6f6e 6669 672e 6869 7374       config.hist
+000012c0: 6f72 7950 6172 656e 7446 6f6c 6465 7220  oryParentFolder 
+000012d0: 3d20 2222 0a20 2020 2020 2020 2020 2020  = "".           
+000012e0: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+000012f0: 6967 2829 0a20 2020 2020 2020 200a 2020  ig().        .  
+00001300: 2020 2020 2020 6966 206e 6f74 2063 6f6e        if not con
+00001310: 6669 672e 6f70 656e 6169 4170 694b 6579  fig.openaiApiKey
+00001320: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00001330: 6c66 2e63 6861 6e67 6541 5049 6b65 7928  lf.changeAPIkey(
+00001340: 290a 0a20 2020 2020 2020 2069 6620 6e6f  )..        if no
+00001350: 7420 636f 6e66 6967 2e6f 7065 6e61 6941  t config.openaiA
+00001360: 7069 4b65 793a 0a20 2020 2020 2020 2020  piKey:.         
+00001370: 2020 2073 656c 662e 7072 696e 7432 2822     self.print2("
+00001380: 4368 6174 4750 5420 4150 4920 6b65 7920  ChatGPT API key 
+00001390: 6e6f 7420 666f 756e 6421 2229 0a20 2020  not found!").   
+000013a0: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+000013b0: 696e 7433 2822 5265 6164 3a20 6874 7470  int3("Read: http
+000013c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f65  s://github.com/e
+000013d0: 6c69 7261 6e77 6f6e 672f 6c65 746d 6564  liranwong/letmed
+000013e0: 6f69 742f 7769 6b69 2f43 6861 7447 5054  oit/wiki/ChatGPT
+000013f0: 2d41 5049 2d4b 6579 2229 0a20 2020 2020  -API-Key").     
+00001400: 2020 2020 2020 2065 7869 7428 3029 0a0a         exit(0)..
+00001410: 2020 2020 2020 2020 2320 696e 6974 6961          # initia
+00001420: 6c20 636f 6d70 6c65 7469 6f6e 2063 6865  l completion che
+00001430: 636b 2061 7420 7374 6172 7475 700a 2020  ck at startup.  
+00001440: 2020 2020 2020 6966 2063 6f6e 6669 672e        if config.
+00001450: 696e 6974 6961 6c43 6f6d 706c 6574 696f  initialCompletio
+00001460: 6e43 6865 636b 3a0a 2020 2020 2020 2020  nCheck:.        
+00001470: 2020 2020 5368 6172 6564 5574 696c 2e63      SharedUtil.c
+00001480: 6865 636b 436f 6d70 6c65 7469 6f6e 2829  heckCompletion()
+00001490: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+000014a0: 2020 2020 2020 2020 2020 2053 6861 7265             Share
+000014b0: 6455 7469 6c2e 7365 7441 5049 6b65 7928  dUtil.setAPIkey(
+000014c0: 290a 0a20 2020 2020 2020 2063 6861 745f  )..        chat_
+000014d0: 6869 7374 6f72 7920 3d20 6f73 2e70 6174  history = os.pat
+000014e0: 682e 6a6f 696e 2863 6f6e 6669 672e 6869  h.join(config.hi
+000014f0: 7374 6f72 7950 6172 656e 7446 6f6c 6465  storyParentFolde
+00001500: 7220 6966 2063 6f6e 6669 672e 6869 7374  r if config.hist
+00001510: 6f72 7950 6172 656e 7446 6f6c 6465 7220  oryParentFolder 
+00001520: 656c 7365 2063 6f6e 6669 672e 6c65 744d  else config.letM
+00001530: 6544 6f49 7441 4946 6f6c 6465 722c 2022  eDoItAIFolder, "
+00001540: 6869 7374 6f72 7922 2c20 2263 6861 7473  history", "chats
+00001550: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+00001560: 7465 726d 696e 616c 5f63 6861 745f 7365  terminal_chat_se
+00001570: 7373 696f 6e20 3d20 5072 6f6d 7074 5365  ssion = PromptSe
+00001580: 7373 696f 6e28 6869 7374 6f72 793d 4669  ssion(history=Fi
+00001590: 6c65 4869 7374 6f72 7928 6368 6174 5f68  leHistory(chat_h
+000015a0: 6973 746f 7279 2929 0a0a 2020 2020 2020  istory))..      
+000015b0: 2020 2320 6368 6563 6b20 6966 2074 7473    # check if tts
+000015c0: 2069 7320 7265 6164 790a 2020 2020 2020   is ready.      
+000015d0: 2020 7365 6c66 2e69 7354 7473 4176 6169    self.isTtsAvai
+000015e0: 6c61 626c 6528 290a 0a20 2020 2020 2020  lable()..       
+000015f0: 2073 656c 662e 6163 7469 6f6e 7320 3d20   self.actions = 
+00001600: 7b0a 2020 2020 2020 2020 2020 2020 222e  {.            ".
+00001610: 6e65 7722 3a20 2866 2273 7461 7274 2061  new": (f"start a
+00001620: 206e 6577 2063 6861 7420 7b73 7472 2863   new chat {str(c
+00001630: 6f6e 6669 672e 686f 746b 6579 5f6e 6577  onfig.hotkey_new
+00001640: 297d 222c 204e 6f6e 6529 2c0a 2020 2020  )}", None),.    
+00001650: 2020 2020 2020 2020 222e 7361 7665 223a          ".save":
+00001660: 2028 2273 6176 6520 636f 6e74 656e 7422   ("save content"
+00001670: 2c20 6c61 6d62 6461 3a20 7365 6c66 2e73  , lambda: self.s
+00001680: 6176 6543 6861 7428 636f 6e66 6967 2e63  aveChat(config.c
+00001690: 7572 7265 6e74 4d65 7373 6167 6573 2929  urrentMessages))
+000016a0: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+000016b0: 6578 706f 7274 223a 2028 6622 6578 706f  export": (f"expo
+000016c0: 7274 2063 6f6e 7465 6e74 207b 7374 7228  rt content {str(
+000016d0: 636f 6e66 6967 2e68 6f74 6b65 795f 6578  config.hotkey_ex
+000016e0: 706f 7274 297d 222c 206c 616d 6264 613a  port)}", lambda:
+000016f0: 2073 656c 662e 6578 706f 7274 4368 6174   self.exportChat
+00001700: 2863 6f6e 6669 672e 6375 7272 656e 744d  (config.currentM
+00001710: 6573 7361 6765 7329 292c 0a20 2020 2020  essages)),.     
+00001720: 2020 2020 2020 2022 2e63 6f6e 7465 7874         ".context
+00001730: 223a 2028 6622 6368 616e 6765 2063 6861  ": (f"change cha
+00001740: 7420 636f 6e74 6578 7420 7b73 7472 2863  t context {str(c
+00001750: 6f6e 6669 672e 686f 746b 6579 5f73 656c  onfig.hotkey_sel
+00001760: 6563 745f 636f 6e74 6578 7429 7d22 2c20  ect_context)}", 
+00001770: 4e6f 6e65 292c 0a20 2020 2020 2020 2020  None),.         
+00001780: 2020 2022 2e63 6f6e 7465 7874 696e 7465     ".contextinte
+00001790: 6772 6174 696f 6e22 3a20 2822 6368 616e  gration": ("chan
+000017a0: 6765 2063 6861 7420 636f 6e74 6578 7420  ge chat context 
+000017b0: 696e 7465 6772 6174 696f 6e22 2c20 7365  integration", se
+000017c0: 6c66 2e73 6574 436f 6e74 6578 7449 6e74  lf.setContextInt
+000017d0: 6567 7261 7469 6f6e 292c 0a20 2020 2020  egration),.     
+000017e0: 2020 2020 2020 2022 2e63 6861 6e67 6561         ".changea
+000017f0: 7069 6b65 7922 3a20 2822 6368 616e 6765  pikey": ("change
+00001800: 204f 7065 6e41 4920 4150 4920 6b65 7922   OpenAI API key"
+00001810: 2c20 7365 6c66 2e63 6861 6e67 6541 5049  , self.changeAPI
+00001820: 6b65 7929 2c0a 2020 2020 2020 2020 2020  key),.          
+00001830: 2020 222e 6675 6e63 7469 6f6e 6d6f 6465    ".functionmode
+00001840: 6c22 3a20 2822 6368 616e 6765 2066 756e  l": ("change fun
+00001850: 6374 696f 6e20 6361 6c6c 206d 6f64 656c  ction call model
+00001860: 222c 2073 656c 662e 7365 744c 6c6d 4d6f  ", self.setLlmMo
+00001870: 6465 6c29 2c0a 2020 2020 2020 2020 2020  del),.          
+00001880: 2020 222e 6368 6174 6d6f 6465 6c22 3a20    ".chatmodel": 
+00001890: 2822 6368 616e 6765 2063 6861 742d 6f6e  ("change chat-on
+000018a0: 6c79 206d 6f64 656c 222c 2073 656c 662e  ly model", self.
+000018b0: 7365 7443 6861 7462 6f74 292c 0a20 2020  setChatbot),.   
+000018c0: 2020 2020 2020 2020 2022 2e65 6d62 6564           ".embed
+000018d0: 6469 6e67 6d6f 6465 6c22 3a20 2822 6368  dingmodel": ("ch
+000018e0: 616e 6765 2065 6d62 6564 6469 6e67 206d  ange embedding m
+000018f0: 6f64 656c 222c 2073 656c 662e 7365 7445  odel", self.setE
+00001900: 6d62 6564 6469 6e67 4d6f 6465 6c29 2c0a  mbeddingModel),.
+00001910: 2020 2020 2020 2020 2020 2020 222e 7465              ".te
+00001920: 6d70 6572 6174 7572 6522 3a20 2822 6368  mperature": ("ch
+00001930: 616e 6765 2074 656d 7065 7261 7475 7265  ange temperature
+00001940: 222c 2073 656c 662e 7365 7454 656d 7065  ", self.setTempe
+00001950: 7261 7475 7265 292c 0a20 2020 2020 2020  rature),.       
+00001960: 2020 2020 2022 2e6d 6178 746f 6b65 6e73       ".maxtokens
+00001970: 223a 2028 2263 6861 6e67 6520 6d61 7869  ": ("change maxi
+00001980: 6d75 6d20 7265 7370 6f6e 7365 2074 6f6b  mum response tok
+00001990: 656e 7322 2c20 7365 6c66 2e73 6574 4d61  ens", self.setMa
+000019a0: 7854 6f6b 656e 7329 2c0a 2020 2020 2020  xTokens),.      
+000019b0: 2020 2020 2020 222e 6d69 6e74 6f6b 656e        ".mintoken
+000019c0: 7322 3a20 2822 6368 616e 6765 206d 696e  s": ("change min
+000019d0: 696d 756d 2072 6573 706f 6e73 6520 746f  imum response to
+000019e0: 6b65 6e73 222c 2073 656c 662e 7365 744d  kens", self.setM
+000019f0: 696e 546f 6b65 6e73 292c 0a20 2020 2020  inTokens),.     
+00001a00: 2020 2020 2020 2022 2e64 796e 616d 6963         ".dynamic
+00001a10: 746f 6b65 6e63 6f75 6e74 223a 2028 2263  tokencount": ("c
+00001a20: 6861 6e67 6520 6479 6e61 6d69 6320 746f  hange dynamic to
+00001a30: 6b65 6e20 636f 756e 7422 2c20 7365 6c66  ken count", self
+00001a40: 2e73 6574 4479 6e61 6d69 6354 6f6b 656e  .setDynamicToken
+00001a50: 436f 756e 7429 2c0a 2020 2020 2020 2020  Count),.        
+00001a60: 2020 2020 222e 6d61 7861 7574 6f68 6561      ".maxautohea
+00001a70: 6c22 3a20 2822 6368 616e 6765 206d 6178  l": ("change max
+00001a80: 696d 756d 2063 6f6e 7365 6375 7469 7665  imum consecutive
+00001a90: 2061 7574 6f2d 6865 616c 222c 2073 656c   auto-heal", sel
+00001aa0: 662e 7365 744d 6178 4175 746f 4865 616c  f.setMaxAutoHeal
+00001ab0: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
+00001ac0: 2e6d 6178 6d65 6d6f 7279 6d61 7463 6865  .maxmemorymatche
+00001ad0: 7322 3a20 2822 6368 616e 6765 206d 6178  s": ("change max
+00001ae0: 696d 756d 206d 656d 6f72 7920 6d61 7463  imum memory matc
+00001af0: 6865 7322 2c20 7365 6c66 2e73 6574 4d65  hes", self.setMe
+00001b00: 6d6f 7279 436c 6f73 6573 744d 6174 6368  moryClosestMatch
+00001b10: 6573 292c 0a20 2020 2020 2020 2020 2020  es),.           
+00001b20: 2022 2e6d 6178 6368 6174 7265 636f 7264   ".maxchatrecord
+00001b30: 6d61 7463 6865 7322 3a20 2822 6368 616e  matches": ("chan
+00001b40: 6765 206d 6178 696d 756d 2063 6861 7420  ge maximum chat 
+00001b50: 7265 636f 7264 206d 6174 6368 6573 222c  record matches",
+00001b60: 2073 656c 662e 7365 7443 6861 7452 6563   self.setChatRec
+00001b70: 6f72 6443 6c6f 7365 7374 4d61 7463 6865  ordClosestMatche
+00001b80: 7329 2c0a 2020 2020 2020 2020 2020 2020  s),.            
+00001b90: 222e 706c 7567 696e 7322 3a20 2822 6368  ".plugins": ("ch
+00001ba0: 616e 6765 2070 6c75 6769 6e73 222c 2073  ange plugins", s
+00001bb0: 656c 662e 7365 6c65 6374 506c 7567 696e  elf.selectPlugin
+00001bc0: 7329 2c0a 2020 2020 2020 2020 2020 2020  s),.            
+00001bd0: 222e 6675 6e63 7469 6f6e 6361 6c6c 223a  ".functioncall":
+00001be0: 2028 2263 6861 6e67 6520 6675 6e63 7469   ("change functi
+00001bf0: 6f6e 2063 616c 6c22 2c20 7365 6c66 2e73  on call", self.s
+00001c00: 6574 4675 6e63 7469 6f6e 4361 6c6c 292c  etFunctionCall),
+00001c10: 0a20 2020 2020 2020 2020 2020 2022 2e66  .            ".f
+00001c20: 756e 6374 696f 6e63 616c 6c69 6e74 6567  unctioncallinteg
+00001c30: 7261 7469 6f6e 223a 2028 2263 6861 6e67  ration": ("chang
+00001c40: 6520 6675 6e63 7469 6f6e 2063 616c 6c20  e function call 
+00001c50: 696e 7465 6772 6174 696f 6e22 2c20 7365  integration", se
+00001c60: 6c66 2e73 6574 4675 6e63 7469 6f6e 5265  lf.setFunctionRe
+00001c70: 7370 6f6e 7365 292c 0a20 2020 2020 2020  sponse),.       
+00001c80: 2020 2020 2022 2e6c 6174 6573 7453 6561       ".latestSea
+00001c90: 7263 6865 7322 3a20 2822 6368 616e 6765  rches": ("change
+00001ca0: 206f 6e6c 696e 6520 7365 6172 6368 6573   online searches
+00001cb0: 222c 2073 656c 662e 7365 744c 6174 6573  ", self.setLates
+00001cc0: 7453 6561 7263 6865 7329 2c0a 2020 2020  tSearches),.    
+00001cd0: 2020 2020 2020 2020 222e 7573 6572 636f          ".userco
+00001ce0: 6e66 6972 6d61 7469 6f6e 223a 2028 2263  nfirmation": ("c
+00001cf0: 6861 6e67 6520 636f 6465 2063 6f6e 6669  hange code confi
+00001d00: 726d 6174 696f 6e20 7072 6f74 6f63 6f6c  rmation protocol
+00001d10: 222c 2073 656c 662e 7365 7455 7365 7243  ", self.setUserC
+00001d20: 6f6e 6669 726d 6174 696f 6e29 2c0a 2020  onfirmation),.  
+00001d30: 2020 2020 2020 2020 2020 222e 636f 6465            ".code
+00001d40: 6469 7370 6c61 7922 3a20 2822 6368 616e  display": ("chan
+00001d50: 6765 2063 6f64 6520 6469 7370 6c61 7922  ge code display"
+00001d60: 2c20 7365 6c66 2e73 6574 436f 6465 4469  , self.setCodeDi
+00001d70: 7370 6c61 7929 2c0a 2020 2020 2020 2020  splay),.        
+00001d80: 2020 2020 222e 7061 6765 7276 6965 7722      ".pagerview"
+00001d90: 3a20 2822 6368 616e 6765 2070 6167 6572  : ("change pager
+00001da0: 2076 6965 7722 2c20 7365 6c66 2e73 6574   view", self.set
+00001db0: 5061 6765 7256 6965 7729 2c0a 2020 2020  PagerView),.    
+00001dc0: 2020 2020 2020 2020 222e 6173 7369 7374          ".assist
+00001dd0: 616e 746e 616d 6522 3a20 2822 6368 616e  antname": ("chan
+00001de0: 6765 2061 7373 6973 7461 6e74 206e 616d  ge assistant nam
+00001df0: 6522 2c20 7365 6c66 2e73 6574 4173 7369  e", self.setAssi
+00001e00: 7374 616e 744e 616d 6529 2c0a 2020 2020  stantName),.    
+00001e10: 2020 2020 2020 2020 222e 7379 7374 656d          ".system
+00001e20: 6d65 7373 6167 6522 3a20 2822 6368 616e  message": ("chan
+00001e30: 6765 2063 7573 746f 6d20 7379 7374 656d  ge custom system
+00001e40: 206d 6573 7361 6765 222c 2073 656c 662e   message", self.
+00001e50: 7365 7443 7573 746f 6d53 7973 7465 6d4d  setCustomSystemM
+00001e60: 6573 7361 6765 292c 0a20 2020 2020 2020  essage),.       
+00001e70: 2020 2020 2022 2e69 7069 6e66 6f22 3a20       ".ipinfo": 
+00001e80: 2822 6368 616e 6765 2069 7020 696e 666f  ("change ip info
+00001e90: 726d 6174 696f 6e20 696e 7465 6772 6174  rmation integrat
+00001ea0: 696f 6e22 2c20 7365 6c66 2e73 6574 496e  ion", self.setIn
+00001eb0: 636c 7564 6549 7049 6e53 7973 7465 6d4d  cludeIpInSystemM
+00001ec0: 6573 7361 6765 292c 0a20 2020 2020 2020  essage),.       
+00001ed0: 2020 2020 2022 2e73 746f 7261 6765 6469       ".storagedi
+00001ee0: 7265 6374 6f72 7922 3a20 2822 6368 616e  rectory": ("chan
+00001ef0: 6765 2073 746f 7261 6765 2064 6972 6563  ge storage direc
+00001f00: 746f 7279 222c 2073 656c 662e 7365 7453  tory", self.setS
+00001f10: 746f 7261 6765 4469 7265 6374 6f72 7929  torageDirectory)
+00001f20: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+00001f30: 766f 6963 6574 7970 696e 6763 6f6e 6669  voicetypingconfi
+00001f40: 6722 3a20 2822 6368 616e 6765 2076 6f69  g": ("change voi
+00001f50: 6365 2074 7970 696e 6720 636f 6e66 6967  ce typing config
+00001f60: 222c 2073 656c 662e 7365 7456 6f69 6365  ", self.setVoice
+00001f70: 5479 7069 6e67 436f 6e66 6967 292c 0a20  TypingConfig),. 
+00001f80: 2020 2020 2020 2020 2020 2022 2e74 6578             ".tex
+00001f90: 7474 6f73 7065 6563 6863 6f6e 6669 6722  ttospeechconfig"
+00001fa0: 3a20 2822 6368 616e 6765 2074 6578 742d  : ("change text-
+00001fb0: 746f 2d73 7065 6563 6820 636f 6e66 6967  to-speech config
+00001fc0: 222c 2073 656c 662e 7365 7454 6578 7454  ", self.setTextT
+00001fd0: 6f53 7065 6563 6843 6f6e 6669 6729 2c0a  oSpeechConfig),.
+00001fe0: 2020 2020 2020 2020 2020 2020 222e 676f              ".go
+00001ff0: 6f67 6c65 6170 6973 6572 7669 6365 223a  ogleapiservice":
+00002000: 2028 2263 6861 6e67 6520 476f 6f67 6c65   ("change Google
+00002010: 2041 5049 2073 6572 7669 6365 222c 2073   API service", s
+00002020: 656c 662e 7365 6c65 6374 476f 6f67 6c65  elf.selectGoogle
+00002030: 4150 4973 292c 0a20 2020 2020 2020 2020  APIs),.         
+00002040: 2020 2022 2e6f 7065 6e77 6561 7468 6572     ".openweather
+00002050: 6d61 7061 7069 223a 2028 2263 6861 6e67  mapapi": ("chang
+00002060: 6520 4f70 656e 5765 6174 6865 724d 6170  e OpenWeatherMap
+00002070: 2041 5049 206b 6579 222c 2073 656c 662e   API key", self.
+00002080: 6368 616e 6765 4f70 656e 7765 6174 6865  changeOpenweathe
+00002090: 726d 6170 4170 6929 2c0a 2020 2020 2020  rmapApi),.      
+000020a0: 2020 2020 2020 222e 656c 6576 656e 6c61        ".elevenla
+000020b0: 6273 6170 6922 3a20 2822 6368 616e 6765  bsapi": ("change
+000020c0: 2045 6c65 7665 6e4c 6162 7320 4150 4920   ElevenLabs API 
+000020d0: 6b65 7922 2c20 7365 6c66 2e63 6861 6e67  key", self.chang
+000020e0: 6545 6c65 7665 6e6c 6162 7341 7069 292c  eElevenlabsApi),
+000020f0: 0a20 2020 2020 2020 2020 2020 2022 2e61  .            ".a
+00002100: 7574 6f62 7569 6c64 6572 636f 6e66 6967  utobuilderconfig
+00002110: 223a 2028 2263 6861 6e67 6520 6175 746f  ": ("change auto
+00002120: 2062 7569 6c64 6572 2063 6f6e 6669 6722   builder config"
+00002130: 2c20 7365 6c66 2e73 6574 4175 746f 4765  , self.setAutoGe
+00002140: 6e42 7569 6c64 6572 436f 6e66 6967 292c  nBuilderConfig),
+00002150: 0a20 2020 2020 2020 2020 2020 2022 2e63  .            ".c
+00002160: 7573 746f 6d74 6578 7465 6469 746f 7222  ustomtexteditor"
+00002170: 3a20 2822 6368 616e 6765 2063 7573 746f  : ("change custo
+00002180: 6d20 7465 7874 2065 6469 746f 7222 2c20  m text editor", 
+00002190: 7365 6c66 2e73 6574 4375 7374 6f6d 5465  self.setCustomTe
+000021a0: 7874 4564 6974 6f72 292c 0a20 2020 2020  xtEditor),.     
+000021b0: 2020 2020 2020 2022 2e74 6572 6d75 7861         ".termuxa
+000021c0: 7069 223a 2028 2263 6861 6e67 6520 5465  pi": ("change Te
+000021d0: 726d 7578 2041 5049 2069 6e74 6567 7261  rmux API integra
+000021e0: 7469 6f6e 222c 2073 656c 662e 7365 7454  tion", self.setT
+000021f0: 6572 6d75 7841 7069 292c 0a20 2020 2020  ermuxApi),.     
+00002200: 2020 2020 2020 2022 2e61 7574 6f75 7067         ".autoupg
+00002210: 7261 6465 223a 2028 2263 6861 6e67 6520  rade": ("change 
+00002220: 6175 746f 6d61 7469 6320 7570 6772 6164  automatic upgrad
+00002230: 6522 2c20 7365 6c66 2e73 6574 4175 746f  e", self.setAuto
+00002240: 5570 6772 6164 6529 2c0a 2020 2020 2020  Upgrade),.      
+00002250: 2020 2020 2020 222e 6465 7665 6c6f 7065        ".develope
+00002260: 7222 3a20 2866 2263 6861 6e67 6520 6465  r": (f"change de
+00002270: 7665 6c6f 7065 7220 6d6f 6465 207b 7374  veloper mode {st
+00002280: 7228 636f 6e66 6967 2e68 6f74 6b65 795f  r(config.hotkey_
+00002290: 746f 6767 6c65 5f64 6576 656c 6f70 6572  toggle_developer
+000022a0: 5f6d 6f64 6529 7d22 2c20 7365 6c66 2e73  _mode)}", self.s
+000022b0: 6574 4465 7665 6c6f 7065 724d 6f64 6529  etDeveloperMode)
+000022c0: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+000022d0: 746f 6767 6c65 6d75 6c74 696c 696e 6522  togglemultiline"
+000022e0: 3a20 2866 2274 6f67 676c 6520 6d75 6c74  : (f"toggle mult
+000022f0: 692d 6c69 6e65 2069 6e70 7574 207b 7374  i-line input {st
+00002300: 7228 636f 6e66 6967 2e68 6f74 6b65 795f  r(config.hotkey_
+00002310: 746f 6767 6c65 5f6d 756c 7469 6c69 6e65  toggle_multiline
+00002320: 5f65 6e74 7279 297d 222c 2073 656c 662e  _entry)}", self.
+00002330: 746f 6767 6c65 4d75 6c74 696c 696e 6529  toggleMultiline)
+00002340: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+00002350: 746f 6767 6c65 6d6f 7573 6573 7570 706f  togglemousesuppo
+00002360: 7274 223a 2028 6622 746f 6f67 6c65 206d  rt": (f"toogle m
+00002370: 6f75 7365 2073 7570 706f 7274 207b 7374  ouse support {st
+00002380: 7228 636f 6e66 6967 2e68 6f74 6b65 795f  r(config.hotkey_
+00002390: 746f 6767 6c65 5f6d 6f75 7365 5f73 7570  toggle_mouse_sup
+000023a0: 706f 7274 297d 222c 2073 656c 662e 746f  port)}", self.to
+000023b0: 6767 6c65 4d6f 7573 6553 7570 706f 7274  ggleMouseSupport
+000023c0: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
+000023d0: 2e74 6f67 676c 6574 6578 7462 7269 6768  .toggletextbrigh
+000023e0: 746e 6573 7322 3a20 2866 2273 7761 7020  tness": (f"swap 
+000023f0: 7465 7874 2062 7269 6768 746e 6573 7320  text brightness 
+00002400: 7b73 7472 2863 6f6e 6669 672e 686f 746b  {str(config.hotk
+00002410: 6579 5f73 7761 705f 7465 7874 5f62 7269  ey_swap_text_bri
+00002420: 6768 746e 6573 7329 7d22 2c20 7377 6170  ghtness)}", swap
+00002430: 5465 726d 696e 616c 436f 6c6f 7273 292c  TerminalColors),
+00002440: 0a20 2020 2020 2020 2020 2020 2022 2e74  .            ".t
+00002450: 6f67 676c 6577 6f72 6477 7261 7022 3a20  ogglewordwrap": 
+00002460: 2866 2274 6f67 676c 6520 776f 7264 2077  (f"toggle word w
+00002470: 7261 7020 7b73 7472 2863 6f6e 6669 672e  rap {str(config.
+00002480: 686f 746b 6579 5f74 6f67 676c 655f 776f  hotkey_toggle_wo
+00002490: 7264 5f77 7261 7029 7d22 2c20 7365 6c66  rd_wrap)}", self
+000024a0: 2e74 6f67 676c 6557 6f72 6457 7261 7029  .toggleWordWrap)
+000024b0: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+000024c0: 746f 6767 6c65 696d 7072 6f76 6564 7772  toggleimprovedwr
+000024d0: 6974 696e 6722 3a20 2866 2274 6f67 676c  iting": (f"toggl
+000024e0: 6520 696d 7072 6f76 6564 2077 7269 7469  e improved writi
+000024f0: 6e67 207b 7374 7228 636f 6e66 6967 2e68  ng {str(config.h
+00002500: 6f74 6b65 795f 746f 6767 6c65 5f77 7269  otkey_toggle_wri
+00002510: 7469 6e67 5f69 6d70 726f 7665 6d65 6e74  ting_improvement
+00002520: 297d 222c 2073 656c 662e 746f 6767 6c65  )}", self.toggle
+00002530: 496d 7072 6f76 6564 5772 6974 696e 6729  ImprovedWriting)
+00002540: 2c0a 2020 2020 2020 2020 2020 2020 222e  ,.            ".
+00002550: 746f 6767 6c65 696e 7075 7461 7564 696f  toggleinputaudio
+00002560: 223a 2028 6622 746f 6767 6c65 2069 6e70  ": (f"toggle inp
+00002570: 7574 2061 7564 696f 207b 7374 7228 636f  ut audio {str(co
+00002580: 6e66 6967 2e68 6f74 6b65 795f 746f 6767  nfig.hotkey_togg
+00002590: 6c65 5f69 6e70 7574 5f61 7564 696f 297d  le_input_audio)}
+000025a0: 222c 2073 656c 662e 746f 6767 6c65 696e  ", self.togglein
+000025b0: 7075 7461 7564 696f 292c 0a20 2020 2020  putaudio),.     
+000025c0: 2020 2020 2020 2022 2e74 6f67 676c 6572         ".toggler
+000025d0: 6573 706f 6e73 6561 7564 696f 223a 2028  esponseaudio": (
+000025e0: 6622 746f 6767 6c65 2072 6573 706f 6e73  f"toggle respons
+000025f0: 6520 6175 6469 6f20 7b73 7472 2863 6f6e  e audio {str(con
+00002600: 6669 672e 686f 746b 6579 5f74 6f67 676c  fig.hotkey_toggl
+00002610: 655f 7265 7370 6f6e 7365 5f61 7564 696f  e_response_audio
+00002620: 297d 222c 2073 656c 662e 746f 6767 6c65  )}", self.toggle
+00002630: 7265 7370 6f6e 7365 6175 6469 6f29 2c0a  responseaudio),.
+00002640: 2020 2020 2020 2020 2020 2020 222e 6564              ".ed
+00002650: 6974 7265 7370 6f6e 7365 223a 2028 6622  itresponse": (f"
+00002660: 6564 6974 2074 6865 206c 6173 7420 7265  edit the last re
+00002670: 7370 6f6e 7365 207b 7374 7228 636f 6e66  sponse {str(conf
+00002680: 6967 2e68 6f74 6b65 795f 6564 6974 5f6c  ig.hotkey_edit_l
+00002690: 6173 745f 7265 7370 6f6e 7365 297d 222c  ast_response)}",
+000026a0: 2073 656c 662e 6564 6974 4c61 7374 5265   self.editLastRe
+000026b0: 7370 6f6e 7365 292c 0a20 2020 2020 2020  sponse),.       
+000026c0: 2020 2020 2022 2e65 6469 7463 6f6e 6669       ".editconfi
+000026d0: 6773 223a 2028 2265 6469 7420 636f 6e66  gs": ("edit conf
+000026e0: 6967 7572 6174 696f 6e20 7365 7474 696e  iguration settin
+000026f0: 6773 222c 2073 656c 662e 6564 6974 436f  gs", self.editCo
+00002700: 6e66 6967 7329 2c0a 2020 2020 2020 2020  nfigs),.        
+00002710: 2020 2020 222e 696e 7374 616c 6c22 3a20      ".install": 
+00002720: 2822 696e 7374 616c 6c20 7079 7468 6f6e  ("install python
+00002730: 2070 6163 6b61 6765 222c 2073 656c 662e   package", self.
+00002740: 696e 7374 616c 6c50 7974 686f 6e50 6163  installPythonPac
+00002750: 6b61 6765 292c 0a20 2020 2020 2020 2020  kage),.         
+00002760: 2020 2022 2e73 7973 7465 6d22 3a20 2866     ".system": (f
+00002770: 226f 7065 6e20 7379 7374 656d 2063 6f6d  "open system com
+00002780: 6d61 6e64 2070 726f 6d70 7420 7b73 7472  mand prompt {str
+00002790: 2863 6f6e 6669 672e 686f 746b 6579 5f6c  (config.hotkey_l
+000027a0: 6175 6e63 685f 7379 7374 656d 5f70 726f  aunch_system_pro
+000027b0: 6d70 7429 7d22 2c20 6c61 6d62 6461 3a20  mpt)}", lambda: 
+000027c0: 5379 7374 656d 436f 6d6d 616e 6450 726f  SystemCommandPro
+000027d0: 6d70 7428 292e 7275 6e28 616c 6c6f 7750  mpt().run(allowP
+000027e0: 6174 6843 6861 6e67 6573 3d54 7275 6529  athChanges=True)
+000027f0: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
+00002800: 2e63 6f6e 7465 6e74 223a 2028 2264 6973  .content": ("dis
+00002810: 706c 6179 2063 7572 7265 6e74 2064 6972  play current dir
+00002820: 6563 746f 7279 2063 6f6e 7465 6e74 222c  ectory content",
+00002830: 2073 656c 662e 6765 7450 6174 682e 6469   self.getPath.di
+00002840: 7370 6c61 7944 6972 6563 746f 7279 436f  splayDirectoryCo
+00002850: 6e74 656e 7429 2c0a 2020 2020 2020 2020  ntent),.        
+00002860: 2020 2020 222e 6b65 7973 223a 2028 6622      ".keys": (f"
+00002870: 6469 7370 6c61 7920 6b65 7920 6269 6e64  display key bind
+00002880: 696e 6773 207b 7374 7228 636f 6e66 6967  ings {str(config
+00002890: 2e68 6f74 6b65 795f 6469 7370 6c61 795f  .hotkey_display_
+000028a0: 6b65 795f 636f 6d62 6f29 7d22 2c20 636f  key_combo)}", co
+000028b0: 6e66 6967 2e73 686f 774b 6579 4269 6e64  nfig.showKeyBind
+000028c0: 696e 6773 292c 0a20 2020 2020 2020 2020  ings),.         
+000028d0: 2020 2022 2e68 656c 7022 3a20 2822 6f70     ".help": ("op
+000028e0: 656e 204c 6574 4d65 446f 4974 2077 696b  en LetMeDoIt wik
+000028f0: 6922 2c20 6c61 6d62 6461 3a20 5368 6172  i", lambda: Shar
+00002900: 6564 5574 696c 2e6f 7065 6e55 524c 2827  edUtil.openURL('
+00002910: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00002920: 6f6d 2f65 6c69 7261 6e77 6f6e 672f 6c65  om/eliranwong/le
+00002930: 746d 6564 6f69 742f 7769 6b69 2729 292c  tmedoit/wiki')),
+00002940: 0a20 2020 2020 2020 2020 2020 2022 2e64  .            ".d
+00002950: 6f6e 6174 6522 3a20 2822 646f 6e61 7465  onate": ("donate
+00002960: 2061 6e64 2073 7570 706f 7274 204c 6574   and support Let
+00002970: 4d65 446f 4974 2041 4922 2c20 6c61 6d62  MeDoIt AI", lamb
+00002980: 6461 3a20 5368 6172 6564 5574 696c 2e6f  da: SharedUtil.o
+00002990: 7065 6e55 524c 2827 6874 7470 733a 2f2f  penURL('https://
+000029a0: 7777 772e 7061 7970 616c 2e63 6f6d 2f70  www.paypal.com/p
+000029b0: 6179 7061 6c6d 652f 6c65 746d 6564 6f69  aypalme/letmedoi
+000029c0: 7461 6927 2929 2c0a 2020 2020 2020 2020  tai')),.        
+000029d0: 7d0a 0a20 2020 2020 2020 2063 6f6e 6669  }..        confi
+000029e0: 672e 6163 7469 6f6e 4865 6c70 203d 2066  g.actionHelp = f
+000029f0: 2223 2051 7569 636b 2041 6374 696f 6e73  "# Quick Actions
+00002a00: 5c6e 2865 6e74 7269 6573 2074 6861 7420  \n(entries that 
+00002a10: 7374 6172 7420 7769 7468 2027 2e27 295c  start with '.')\
+00002a20: 6e22 0a20 2020 2020 2020 2066 6f72 206b  n".        for k
+00002a30: 6579 2c20 7661 6c75 6520 696e 2073 656c  ey, value in sel
+00002a40: 662e 6163 7469 6f6e 732e 6974 656d 7328  f.actions.items(
+00002a50: 293a 0a20 2020 2020 2020 2020 2020 2063  ):.            c
+00002a60: 6f6e 6669 672e 6163 7469 6f6e 4865 6c70  onfig.actionHelp
+00002a70: 202b 3d20 6622 7b6b 6579 7d3a 207b 7661   += f"{key}: {va
+00002a80: 6c75 655b 305d 7d5c 6e22 0a20 2020 2020  lue[0]}\n".     
+00002a90: 2020 2063 6f6e 6669 672e 6163 7469 6f6e     config.action
+00002aa0: 4865 6c70 202b 3d20 225c 6e23 2320 5265  Help += "\n## Re
+00002ab0: 6164 206d 6f72 6520 6174 3a5c 6e68 7474  ad more at:\nhtt
+00002ac0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00002ad0: 656c 6972 616e 776f 6e67 2f6c 6574 6d65  eliranwong/letme
+00002ae0: 646f 6974 2f77 696b 692f 4163 7469 6f6e  doit/wiki/Action
+00002af0: 2d4d 656e 7522 0a0a 2020 2020 6465 6620  -Menu"..    def 
+00002b00: 6765 7453 746f 7261 6765 4469 7228 7365  getStorageDir(se
+00002b10: 6c66 293a 0a20 2020 2020 2020 2073 746f  lf):.        sto
+00002b20: 7261 6765 4469 7220 3d20 6f73 2e70 6174  rageDir = os.pat
+00002b30: 682e 6a6f 696e 286f 732e 7061 7468 2e65  h.join(os.path.e
+00002b40: 7870 616e 6475 7365 7228 277e 2729 2c20  xpanduser('~'), 
+00002b50: 636f 6e66 6967 2e6c 6574 4d65 446f 4974  config.letMeDoIt
+00002b60: 4e61 6d65 2e73 706c 6974 2829 5b30 5d2e  Name.split()[0].
+00002b70: 6c6f 7765 7228 2929 0a20 2020 2020 2020  lower()).       
+00002b80: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00002b90: 2020 5061 7468 2873 746f 7261 6765 4469    Path(storageDi
+00002ba0: 7229 2e6d 6b64 6972 2870 6172 656e 7473  r).mkdir(parents
+00002bb0: 3d54 7275 652c 2065 7869 7374 5f6f 6b3d  =True, exist_ok=
+00002bc0: 5472 7565 290a 2020 2020 2020 2020 6578  True).        ex
+00002bd0: 6365 7074 3a0a 2020 2020 2020 2020 2020  cept:.          
+00002be0: 2020 7061 7373 0a20 2020 2020 2020 2072    pass.        r
+00002bf0: 6574 7572 6e20 7374 6f72 6167 6544 6972  eturn storageDir
+00002c00: 2069 6620 6f73 2e70 6174 682e 6973 6469   if os.path.isdi
+00002c10: 7228 7374 6f72 6167 6544 6972 2920 656c  r(storageDir) el
+00002c20: 7365 2022 220a 0a20 2020 2064 6566 2067  se ""..    def g
+00002c30: 6574 4669 6c65 7328 7365 6c66 293a 0a20  etFiles(self):. 
+00002c40: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
+00002c50: 2e73 746f 7261 6765 6469 7265 6374 6f72  .storagedirector
+00002c60: 7920 616e 6420 6e6f 7420 6f73 2e70 6174  y and not os.pat
+00002c70: 682e 6973 6469 7228 636f 6e66 6967 2e73  h.isdir(config.s
+00002c80: 746f 7261 6765 6469 7265 6374 6f72 7929  toragedirectory)
+00002c90: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+00002ca0: 6e66 6967 2e73 746f 7261 6765 6469 7265  nfig.storagedire
+00002cb0: 6374 6f72 7920 3d20 2222 0a20 2020 2020  ctory = "".     
+00002cc0: 2020 2073 746f 7261 6765 4469 7220 3d20     storageDir = 
+00002cd0: 7365 6c66 2e73 746f 7261 6765 4469 7220  self.storageDir 
+00002ce0: 6966 2073 656c 662e 7374 6f72 6167 6544  if self.storageD
+00002cf0: 6972 2065 6c73 6520 6f73 2e70 6174 682e  ir else os.path.
+00002d00: 6a6f 696e 2863 6f6e 6669 672e 6c65 744d  join(config.letM
+00002d10: 6544 6f49 7441 4946 6f6c 6465 722c 2022  eDoItAIFolder, "
+00002d20: 6669 6c65 7322 290a 2020 2020 2020 2020  files").        
+00002d30: 7265 7475 726e 2063 6f6e 6669 672e 7374  return config.st
+00002d40: 6f72 6167 6564 6972 6563 746f 7279 2069  oragedirectory i
+00002d50: 6620 636f 6e66 6967 2e73 746f 7261 6765  f config.storage
+00002d60: 6469 7265 6374 6f72 7920 656c 7365 2073  directory else s
+00002d70: 746f 7261 6765 4469 720a 0a20 2020 2064  torageDir..    d
+00002d80: 6566 2067 6574 466f 6c64 6572 5061 7468  ef getFolderPath
+00002d90: 2873 656c 662c 2064 6566 6175 6c74 3d22  (self, default="
+00002da0: 2229 3a0a 2020 2020 2020 2020 7265 7475  "):.        retu
+00002db0: 726e 2073 656c 662e 6765 7450 6174 682e  rn self.getPath.
+00002dc0: 6765 7446 6f6c 6465 7250 6174 6828 0a20  getFolderPath(. 
+00002dd0: 2020 2020 2020 2020 2020 2063 6865 636b             check
+00002de0: 5f69 7364 6972 3d54 7275 652c 0a20 2020  _isdir=True,.   
+00002df0: 2020 2020 2020 2020 2064 6973 706c 6179           display
+00002e00: 5f64 6972 5f6f 6e6c 793d 5472 7565 2c0a  _dir_only=True,.
+00002e10: 2020 2020 2020 2020 2020 2020 6372 6561              crea
+00002e20: 7465 5f64 6972 735f 6966 5f6e 6f74 5f65  te_dirs_if_not_e
+00002e30: 7869 7374 3d54 7275 652c 0a20 2020 2020  xist=True,.     
+00002e40: 2020 2020 2020 2065 6d70 7479 5f74 6f5f         empty_to_
+00002e50: 6361 6e63 656c 3d54 7275 652c 0a20 2020  cancel=True,.   
+00002e60: 2020 2020 2020 2020 206c 6973 745f 636f           list_co
+00002e70: 6e74 656e 745f 6f6e 5f64 6972 6563 746f  ntent_on_directo
+00002e80: 7279 5f63 6861 6e67 653d 5472 7565 2c0a  ry_change=True,.
+00002e90: 2020 2020 2020 2020 2020 2020 6b65 6570              keep
+00002ea0: 5f73 7461 7274 7570 5f64 6972 6563 746f  _startup_directo
+00002eb0: 7279 3d54 7275 652c 0a20 2020 2020 2020  ry=True,.       
+00002ec0: 2020 2020 206d 6573 7361 6765 3d66 227b       message=f"{
+00002ed0: 7365 6c66 2e64 6976 6964 6572 7d5c 6e53  self.divider}\nS
+00002ee0: 6574 7469 6e67 2061 2073 7461 7274 7570  etting a startup
+00002ef0: 2064 6972 6563 746f 7279 202e 2e2e 5c6e   directory ...\n
+00002f00: 456e 7465 7220 6120 666f 6c64 6572 206e  Enter a folder n
+00002f10: 616d 6520 6f72 2070 6174 6820 6265 6c6f  ame or path belo
+00002f20: 773a 222c 0a20 2020 2020 2020 2020 2020  w:",.           
+00002f30: 2062 6f74 746f 6d5f 746f 6f6c 6261 723d   bottom_toolbar=
+00002f40: 2222 2c0a 2020 2020 2020 2020 2020 2020  "",.            
+00002f50: 7072 6f6d 7074 496e 6469 6361 746f 7220  promptIndicator 
+00002f60: 3d20 2222 2c0a 2020 2020 2020 2020 2020  = "",.          
+00002f70: 2020 6465 6661 756c 743d 2222 2c0a 2020    default="",.  
+00002f80: 2020 2020 2020 290a 0a20 2020 2064 6566        )..    def
+00002f90: 2065 7865 6350 7974 686f 6e46 696c 6528   execPythonFile(
+00002fa0: 7365 6c66 2c20 7363 7269 7074 3d22 222c  self, script="",
+00002fb0: 2063 6f6e 7465 6e74 3d22 2229 3a0a 2020   content=""):.  
+00002fc0: 2020 2020 2020 6966 2073 6372 6970 7420        if script 
+00002fd0: 6f72 2063 6f6e 7465 6e74 3a0a 2020 2020  or content:.    
+00002fe0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00002ff0: 2020 2020 2020 2020 2020 2020 2064 6566               def
+00003000: 2072 756e 436f 6465 2874 6578 7429 3a0a   runCode(text):.
+00003010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003020: 2020 2020 636f 6465 203d 2063 6f6d 7069      code = compi
+00003030: 6c65 2874 6578 742c 2073 6372 6970 742c  le(text, script,
+00003040: 2027 6578 6563 2729 0a20 2020 2020 2020   'exec').       
+00003050: 2020 2020 2020 2020 2020 2020 2065 7865               exe
+00003060: 6328 636f 6465 2c20 676c 6f62 616c 7328  c(code, globals(
+00003070: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+00003080: 2020 2069 6620 636f 6e74 656e 743a 0a20     if content:. 
+00003090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000030a0: 2020 2072 756e 436f 6465 2863 6f6e 7465     runCode(conte
+000030b0: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
+000030c0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000030d0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
+000030e0: 7468 206f 7065 6e28 7363 7269 7074 2c20  th open(script, 
+000030f0: 2772 272c 2065 6e63 6f64 696e 673d 2775  'r', encoding='u
+00003100: 7466 3827 2920 6173 2066 3a0a 2020 2020  tf8') as f:.    
+00003110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003120: 2020 2020 7275 6e43 6f64 6528 662e 7265      runCode(f.re
+00003130: 6164 2829 290a 2020 2020 2020 2020 2020  ad()).          
+00003140: 2020 2020 2020 7265 7475 726e 2054 7275        return Tru
+00003150: 650a 2020 2020 2020 2020 2020 2020 6578  e.            ex
+00003160: 6365 7074 3a0a 2020 2020 2020 2020 2020  cept:.          
+00003170: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00003180: 2822 4661 696c 6564 2074 6f20 7275 6e20  ("Failed to run 
+00003190: 277b 307d 2721 222e 666f 726d 6174 286f  '{0}'!".format(o
+000031a0: 732e 7061 7468 2e62 6173 656e 616d 6528  s.path.basename(
+000031b0: 7363 7269 7074 2929 290a 2020 2020 2020  script))).      
+000031c0: 2020 2020 2020 2020 2020 5368 6172 6564            Shared
+000031d0: 5574 696c 2e73 686f 7745 7272 6f72 7328  Util.showErrors(
+000031e0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+000031f0: 2046 616c 7365 0a0a 2020 2020 6465 6620   False..    def 
+00003200: 7275 6e50 6c75 6769 6e73 2873 656c 6629  runPlugins(self)
+00003210: 3a0a 2020 2020 2020 2020 2320 5468 6520  :.        # The 
+00003220: 666f 6c6c 6f77 696e 6720 636f 6e66 6967  following config
+00003230: 2076 616c 7565 7320 6361 6e20 6265 206d   values can be m
+00003240: 6f64 6966 6965 6420 7769 7468 2070 6c75  odified with plu
+00003250: 6769 6e73 2c20 746f 2065 7874 656e 6420  gins, to extend 
+00003260: 6675 6e63 7469 6f6e 616c 6974 6965 730a  functionalities.
+00003270: 2020 2020 2020 2020 2363 6f6e 6669 672e          #config.
+00003280: 706c 7567 696e 7357 6974 6846 756e 6374  pluginsWithFunct
+00003290: 696f 6e43 616c 6c20 3d20 5b5d 0a20 2020  ionCall = [].   
+000032a0: 2020 2020 2063 6f6e 6669 672e 616c 6961       config.alia
+000032b0: 7365 7320 3d20 7b7d 0a20 2020 2020 2020  ses = {}.       
+000032c0: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
+000032d0: 6564 436f 6e74 6578 7473 203d 207b 0a20  edContexts = {. 
+000032e0: 2020 2020 2020 2020 2020 2022 5b6e 6f6e             "[non
+000032f0: 655d 223a 2022 222c 0a20 2020 2020 2020  e]": "",.       
+00003300: 2020 2020 2022 5b63 7573 746f 6d5d 223a       "[custom]":
+00003310: 2022 222c 0a20 2020 2020 2020 207d 0a20   "",.        }. 
+00003320: 2020 2020 2020 2063 6f6e 6669 672e 7072         config.pr
+00003330: 6564 6566 696e 6564 496e 7374 7275 6374  edefinedInstruct
+00003340: 696f 6e73 203d 207b 7d0a 2020 2020 2020  ions = {}.      
+00003350: 2020 636f 6e66 6967 2e69 6e70 7574 5375    config.inputSu
+00003360: 6767 6573 7469 6f6e 7320 3d20 5b5d 0a20  ggestions = []. 
+00003370: 2020 2020 2020 206c 6574 6d65 646f 6974         letmedoit
+00003380: 2e63 6f6e 6669 672e 6f75 7470 7574 5472  .config.outputTr
+00003390: 616e 7366 6f72 6d65 7273 203d 2063 6f6e  ansformers = con
+000033a0: 6669 672e 6f75 7470 7574 5472 616e 7366  fig.outputTransf
+000033b0: 6f72 6d65 7273 203d 205b 5d0a 2020 2020  ormers = [].    
+000033c0: 2020 2020 636f 6e66 6967 2e63 6861 7447      config.chatG
+000033d0: 5054 4170 6946 756e 6374 696f 6e53 6967  PTApiFunctionSig
+000033e0: 6e61 7475 7265 7320 3d20 7b7d 0a20 2020  natures = {}.   
+000033f0: 2020 2020 2063 6f6e 6669 672e 6368 6174       config.chat
+00003400: 4750 5441 7069 4176 6169 6c61 626c 6546  GPTApiAvailableF
+00003410: 756e 6374 696f 6e73 203d 207b 7d0a 2020  unctions = {}.  
+00003420: 2020 2020 2020 636f 6e66 6967 2e66 7265        config.fre
+00003430: 6547 656e 6975 7341 6374 696f 6e73 203d  eGeniusActions =
+00003440: 207b 7d0a 2020 2020 2020 2020 636f 6e66   {}.        conf
+00003450: 6967 2e66 7265 6547 656e 6975 7341 6374  ig.freeGeniusAct
+00003460: 696f 6e45 7861 6d70 6c65 7320 3d20 7b7d  ionExamples = {}
+00003470: 0a20 2020 2020 2020 2063 6f6e 6669 672e  .        config.
+00003480: 6672 6565 4765 6e69 7573 4163 7469 6f6e  freeGeniusAction
+00003490: 5061 7261 6d65 7465 7273 203d 207b 7d0a  Parameters = {}.
+000034a0: 2020 2020 2020 2020 636f 6e66 6967 2e66          config.f
+000034b0: 7265 6547 656e 6975 7341 6374 696f 6e4d  reeGeniusActionM
+000034c0: 6574 686f 6473 203d 207b 7d0a 0a20 2020  ethods = {}..   
+000034d0: 2020 2020 2070 6c75 6769 6e46 6f6c 6465       pluginFolde
+000034e0: 7220 3d20 6f73 2e70 6174 682e 6a6f 696e  r = os.path.join
+000034f0: 2863 6f6e 6669 672e 6c65 744d 6544 6f49  (config.letMeDoI
+00003500: 7441 4946 6f6c 6465 722c 2022 706c 7567  tAIFolder, "plug
+00003510: 696e 7322 290a 2020 2020 2020 2020 6966  ins").        if
+00003520: 2073 656c 662e 7374 6f72 6167 6544 6972   self.storageDir
+00003530: 3a0a 2020 2020 2020 2020 2020 2020 6375  :.            cu
+00003540: 7374 6f6d 506c 7567 696e 466f 6c65 7220  stomPluginFoler 
+00003550: 3d20 6f73 2e70 6174 682e 6a6f 696e 2873  = os.path.join(s
+00003560: 656c 662e 7374 6f72 6167 6544 6972 2c20  elf.storageDir, 
+00003570: 2270 6c75 6769 6e73 2229 0a20 2020 2020  "plugins").     
+00003580: 2020 2020 2020 2050 6174 6828 6375 7374         Path(cust
+00003590: 6f6d 506c 7567 696e 466f 6c65 7229 2e6d  omPluginFoler).m
+000035a0: 6b64 6972 2870 6172 656e 7473 3d54 7275  kdir(parents=Tru
+000035b0: 652c 2065 7869 7374 5f6f 6b3d 5472 7565  e, exist_ok=True
+000035c0: 290a 2020 2020 2020 2020 2020 2020 706c  ).            pl
+000035d0: 7567 696e 466f 6c64 6572 7320 3d20 2870  uginFolders = (p
+000035e0: 6c75 6769 6e46 6f6c 6465 722c 2063 7573  luginFolder, cus
+000035f0: 746f 6d50 6c75 6769 6e46 6f6c 6572 290a  tomPluginFoler).
+00003600: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00003610: 2020 2020 2020 2020 2020 706c 7567 696e            plugin
+00003620: 466f 6c64 6572 7320 3d20 2870 6c75 6769  Folders = (plugi
+00003630: 6e46 6f6c 6465 722c 290a 2020 2020 2020  nFolder,).      
+00003640: 2020 2320 616c 7761 7973 2072 756e 2027    # always run '
+00003650: 696e 7465 6772 6174 6520 676f 6f67 6c65  integrate google
+00003660: 2073 6561 7263 6865 7327 0a20 2020 2020   searches'.     
+00003670: 2020 2069 6e74 6572 6e65 7453 6572 6163     internetSerac
+00003680: 6865 7320 3d20 2269 6e74 6567 7261 7465  hes = "integrate
+00003690: 2067 6f6f 676c 6520 7365 6172 6368 6573   google searches
+000036a0: 220a 2020 2020 2020 2020 7363 7269 7074  ".        script
+000036b0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
+000036c0: 706c 7567 696e 466f 6c64 6572 2c20 227b  pluginFolder, "{
+000036d0: 307d 2e70 7922 2e66 6f72 6d61 7428 696e  0}.py".format(in
+000036e0: 7465 726e 6574 5365 7261 6368 6573 2929  ternetSeraches))
+000036f0: 0a20 2020 2020 2020 2073 656c 662e 6578  .        self.ex
+00003700: 6563 5079 7468 6f6e 4669 6c65 2873 6372  ecPythonFile(scr
+00003710: 6970 7429 0a20 2020 2020 2020 2023 2061  ipt).        # a
+00003720: 6c77 6179 7320 696e 636c 7564 6520 7468  lways include th
+00003730: 6520 666f 6c6c 6f77 696e 6720 706c 7567  e following plug
+00003740: 696e 730a 2020 2020 2020 2020 7265 7175  ins.        requ
+00003750: 6972 6564 506c 7567 696e 7320 3d20 2822  iredPlugins = ("
+00003760: 6175 746f 2068 6561 6c20 7079 7468 6f6e  auto heal python
+00003770: 2063 6f64 6522 2c29 0a20 2020 2020 2020   code",).       
+00003780: 2066 6f72 2069 2069 6e20 7265 7175 6972   for i in requir
+00003790: 6564 506c 7567 696e 733a 0a20 2020 2020  edPlugins:.     
+000037a0: 2020 2020 2020 2069 6620 6920 696e 2063         if i in c
+000037b0: 6f6e 6669 672e 706c 7567 696e 4578 636c  onfig.pluginExcl
+000037c0: 7564 654c 6973 743a 0a20 2020 2020 2020  udeList:.       
+000037d0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+000037e0: 706c 7567 696e 4578 636c 7564 654c 6973  pluginExcludeLis
+000037f0: 742e 7265 6d6f 7665 2869 290a 2020 2020  t.remove(i).    
+00003800: 2020 2020 2320 6578 6563 7574 6520 656e      # execute en
+00003810: 6162 6c65 6420 706c 7567 696e 730a 2020  abled plugins.  
+00003820: 2020 2020 2020 666f 7220 666f 6c64 6572        for folder
+00003830: 2069 6e20 706c 7567 696e 466f 6c64 6572   in pluginFolder
+00003840: 733a 0a20 2020 2020 2020 2020 2020 2066  s:.            f
+00003850: 6f72 2070 6c75 6769 6e20 696e 2046 696c  or plugin in Fil
+00003860: 6555 7469 6c2e 6669 6c65 4e61 6d65 7357  eUtil.fileNamesW
+00003870: 6974 686f 7574 4578 7465 6e73 696f 6e28  ithoutExtension(
+00003880: 666f 6c64 6572 2c20 2270 7922 293a 0a20  folder, "py"):. 
+00003890: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000038a0: 6620 6e6f 7420 706c 7567 696e 2069 6e20  f not plugin in 
+000038b0: 636f 6e66 6967 2e70 6c75 6769 6e45 7863  config.pluginExc
+000038c0: 6c75 6465 4c69 7374 3a0a 2020 2020 2020  ludeList:.      
+000038d0: 2020 2020 2020 2020 2020 2020 2020 7363                sc
+000038e0: 7269 7074 203d 206f 732e 7061 7468 2e6a  ript = os.path.j
+000038f0: 6f69 6e28 666f 6c64 6572 2c20 227b 307d  oin(folder, "{0}
+00003900: 2e70 7922 2e66 6f72 6d61 7428 706c 7567  .py".format(plug
+00003910: 696e 2929 0a20 2020 2020 2020 2020 2020  in)).           
+00003920: 2020 2020 2020 2020 2072 756e 203d 2073           run = s
+00003930: 656c 662e 6578 6563 5079 7468 6f6e 4669  elf.execPythonFi
+00003940: 6c65 2873 6372 6970 7429 0a20 2020 2020  le(script).     
+00003950: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00003960: 6620 6e6f 7420 7275 6e3a 0a20 2020 2020  f not run:.     
+00003970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003980: 2020 2063 6f6e 6669 672e 706c 7567 696e     config.plugin
+00003990: 4578 636c 7564 654c 6973 742e 6170 7065  ExcludeList.appe
+000039a0: 6e64 2870 6c75 6769 6e29 0a20 2020 2020  nd(plugin).     
+000039b0: 2020 2069 6620 696e 7465 726e 6574 5365     if internetSe
+000039c0: 7261 6368 6573 2069 6e20 636f 6e66 6967  raches in config
+000039d0: 2e70 6c75 6769 6e45 7863 6c75 6465 4c69  .pluginExcludeLi
+000039e0: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
+000039f0: 6465 6c20 636f 6e66 6967 2e63 6861 7447  del config.chatG
+00003a00: 5054 4170 6946 756e 6374 696f 6e53 6967  PTApiFunctionSig
+00003a10: 6e61 7475 7265 735b 2269 6e74 6567 7261  natures["integra
+00003a20: 7465 2067 6f6f 676c 6520 7365 6172 6368  te google search
+00003a30: 6573 225d 0a20 2020 2020 2020 2073 656c  es"].        sel
+00003a40: 662e 7365 7475 7050 7974 686f 6e45 7865  f.setupPythonExe
+00003a50: 6375 7469 6f6e 2829 0a20 2020 2020 2020  cution().       
+00003a60: 2069 6620 636f 6e66 6967 2e74 6572 6d69   if config.termi
+00003a70: 6e61 6c45 6e61 626c 6554 6572 6d75 7841  nalEnableTermuxA
+00003a80: 5049 3a0a 2020 2020 2020 2020 2020 2020  PI:.            
+00003a90: 7365 6c66 2e73 6574 7570 5465 726d 7578  self.setupTermux
+00003aa0: 4578 6563 7574 696f 6e28 290a 2020 2020  Execution().    
+00003ab0: 2020 2020 666f 7220 6920 696e 2063 6f6e      for i in con
+00003ac0: 6669 672e 6368 6174 4750 5441 7069 4176  fig.chatGPTApiAv
+00003ad0: 6169 6c61 626c 6546 756e 6374 696f 6e73  ailableFunctions
+00003ae0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00003af0: 206e 6f74 2069 2069 6e20 2822 7079 7468   not i in ("pyth
+00003b00: 6f6e 5f71 6122 2c29 3a0a 2020 2020 2020  on_qa",):.      
+00003b10: 2020 2020 2020 2020 2020 6361 6c6c 456e            callEn
+00003b20: 7472 7920 3d20 6622 5b43 414c 4c5f 7b69  try = f"[CALL_{i
+00003b30: 7d5d 220a 2020 2020 2020 2020 2020 2020  }]".            
+00003b40: 2020 2020 6966 206e 6f74 2063 616c 6c45      if not callE
+00003b50: 6e74 7279 2069 6e20 636f 6e66 6967 2e69  ntry in config.i
+00003b60: 6e70 7574 5375 6767 6573 7469 6f6e 733a  nputSuggestions:
+00003b70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003b80: 2020 2020 2063 6f6e 6669 672e 696e 7075       config.inpu
+00003b90: 7453 7567 6765 7374 696f 6e73 2e61 7070  tSuggestions.app
+00003ba0: 656e 6428 6361 6c6c 456e 7472 7929 0a20  end(callEntry). 
+00003bb0: 2020 2020 2020 2023 2075 7064 6174 6520         # update 
+00003bc0: 6163 7469 6f6e 5363 7265 656e 696e 6750  actionScreeningP
+00003bd0: 726f 6d70 740a 2020 2020 2020 2020 7365  rompt.        se
+00003be0: 6c66 2e61 6374 696f 6e53 6372 6565 6e69  lf.actionScreeni
+00003bf0: 6e67 5072 6f6d 7074 203d 2073 656c 662e  ngPrompt = self.
+00003c00: 6765 7441 6374 696f 6e53 6372 6565 6e69  getActionScreeni
+00003c10: 6e67 5072 6f6d 7074 2829 0a20 2020 2020  ngPrompt().     
+00003c20: 2020 2069 6620 636f 6e66 6967 2e64 6576     if config.dev
+00003c30: 656c 6f70 6572 3a0a 2020 2020 2020 2020  eloper:.        
+00003c40: 2020 2020 7070 7269 6e74 2e70 7072 696e      pprint.pprin
+00003c50: 7428 7365 6c66 2e61 6374 696f 6e53 6372  t(self.actionScr
+00003c60: 6565 6e69 6e67 5072 6f6d 7074 290a 0a20  eeningPrompt).. 
+00003c70: 2020 2023 2056 6f69 6365 2054 7970 696e     # Voice Typin
+00003c80: 6720 4c61 6e67 7561 6765 0a20 2020 2064  g Language.    d
+00003c90: 6566 2073 6574 5370 6565 6368 546f 5465  ef setSpeechToTe
+00003ca0: 7874 4c61 6e67 7561 6765 2873 656c 6629  xtLanguage(self)
+00003cb0: 3a0a 2020 2020 2020 2020 2320 7265 636f  :.        # reco
+00003cc0: 7264 2069 6e20 6869 7374 6f72 7920 666f  rd in history fo
+00003cd0: 7220 6561 7379 2072 6574 7269 6576 616c  r easy retrieval
+00003ce0: 2062 7920 6d6f 7669 6e67 2061 7272 6f77   by moving arrow
+00003cf0: 7320 7570 7761 7264 7320 2f20 646f 776e  s upwards / down
+00003d00: 7761 7264 730a 2020 2020 2020 2020 766f  wards.        vo
+00003d10: 6963 655f 7479 7069 6e67 5f6c 616e 6775  ice_typing_langu
+00003d20: 6167 655f 6869 7374 6f72 7920 3d20 6f73  age_history = os
+00003d30: 2e70 6174 682e 6a6f 696e 2863 6f6e 6669  .path.join(confi
+00003d40: 672e 6869 7374 6f72 7950 6172 656e 7446  g.historyParentF
+00003d50: 6f6c 6465 7220 6966 2063 6f6e 6669 672e  older if config.
+00003d60: 6869 7374 6f72 7950 6172 656e 7446 6f6c  historyParentFol
+00003d70: 6465 7220 656c 7365 2063 6f6e 6669 672e  der else config.
+00003d80: 6c65 744d 6544 6f49 7441 4946 6f6c 6465  letMeDoItAIFolde
+00003d90: 722c 2022 6869 7374 6f72 7922 2c20 2276  r, "history", "v
+00003da0: 6f69 6365 5f74 7970 696e 675f 6c61 6e67  oice_typing_lang
+00003db0: 7561 6765 2229 0a20 2020 2020 2020 2076  uage").        v
+00003dc0: 6f69 6365 5f74 7970 696e 675f 6c61 6e67  oice_typing_lang
+00003dd0: 7561 6765 5f73 6573 7369 6f6e 203d 2050  uage_session = P
+00003de0: 726f 6d70 7453 6573 7369 6f6e 2868 6973  romptSession(his
+00003df0: 746f 7279 3d46 696c 6548 6973 746f 7279  tory=FileHistory
+00003e00: 2876 6f69 6365 5f74 7970 696e 675f 6c61  (voice_typing_la
+00003e10: 6e67 7561 6765 5f68 6973 746f 7279 2929  nguage_history))
+00003e20: 0a20 2020 2020 2020 2023 2069 6e70 7574  .        # input
+00003e30: 2073 7567 6765 7374 696f 6e20 666f 7220   suggestion for 
+00003e40: 6c61 6e67 7561 6765 730a 2020 2020 2020  languages.      
+00003e50: 2020 6c61 6e67 7561 6765 7320 3d20 7475    languages = tu
+00003e60: 706c 6528 676f 6f67 6c65 5370 6565 636b  ple(googleSpeeck
+00003e70: 546f 5465 7874 4c61 6e67 7561 6765 732e  ToTextLanguages.
+00003e80: 6b65 7973 2829 2920 6966 2063 6f6e 6669  keys()) if confi
+00003e90: 672e 766f 6963 6554 7970 696e 6750 6c61  g.voiceTypingPla
+00003ea0: 7466 6f72 6d20 696e 2028 2267 6f6f 676c  tform in ("googl
+00003eb0: 6522 2c20 2267 6f6f 676c 6563 6c6f 7564  e", "googlecloud
+00003ec0: 2229 2065 6c73 6520 7768 6973 7065 7253  ") else whisperS
+00003ed0: 7065 6563 6b54 6f54 6578 744c 616e 6775  peeckToTextLangu
+00003ee0: 6167 6573 0a20 2020 2020 2020 2023 2064  ages.        # d
+00003ef0: 6566 6175 6c74 0a20 2020 2020 2020 2064  efault.        d
+00003f00: 6566 6175 6c74 203d 2022 220a 2020 2020  efault = "".    
+00003f10: 2020 2020 666f 7220 6920 696e 206c 616e      for i in lan
+00003f20: 6775 6167 6573 3a0a 2020 2020 2020 2020  guages:.        
+00003f30: 2020 2020 6966 2063 6f6e 6669 672e 766f      if config.vo
+00003f40: 6963 6554 7970 696e 6750 6c61 7466 6f72  iceTypingPlatfor
+00003f50: 6d20 696e 2028 2267 6f6f 676c 6522 2c20  m in ("google", 
+00003f60: 2267 6f6f 676c 6563 6c6f 7564 2229 2061  "googlecloud") a
+00003f70: 6e64 2067 6f6f 676c 6553 7065 6563 6b54  nd googleSpeeckT
+00003f80: 6f54 6578 744c 616e 6775 6167 6573 5b69  oTextLanguages[i
+00003f90: 5d20 3d3d 2063 6f6e 6669 672e 766f 6963  ] == config.voic
+00003fa0: 6554 7970 696e 674c 616e 6775 6167 653a  eTypingLanguage:
+00003fb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003fc0: 2064 6566 6175 6c74 203d 2069 0a20 2020   default = i.   
+00003fd0: 2020 2020 2020 2020 2065 6c69 6620 6920           elif i 
+00003fe0: 3d3d 2063 6f6e 6669 672e 766f 6963 6554  == config.voiceT
+00003ff0: 7970 696e 674c 616e 6775 6167 653a 0a20  ypingLanguage:. 
+00004000: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00004010: 6566 6175 6c74 203d 2069 0a20 2020 2020  efault = i.     
+00004020: 2020 2069 6620 6e6f 7420 6465 6661 756c     if not defaul
+00004030: 743a 0a20 2020 2020 2020 2020 2020 2064  t:.            d
+00004040: 6566 6175 6c74 203d 2022 456e 676c 6973  efault = "Englis
+00004050: 6820 2855 6e69 7465 6420 5374 6174 6573  h (United States
+00004060: 2922 2069 6620 636f 6e66 6967 2e76 6f69  )" if config.voi
+00004070: 6365 5479 7069 6e67 506c 6174 666f 726d  ceTypingPlatform
+00004080: 2069 6e20 2822 676f 6f67 6c65 222c 2022   in ("google", "
+00004090: 676f 6f67 6c65 636c 6f75 6422 2920 656c  googlecloud") el
+000040a0: 7365 2022 656e 676c 6973 6822 0a20 2020  se "english".   
+000040b0: 2020 2020 2023 2063 6f6d 706c 6574 6572       # completer
+000040c0: 0a20 2020 2020 2020 2063 6f6d 706c 6574  .        complet
+000040d0: 6572 203d 2046 757a 7a79 436f 6d70 6c65  er = FuzzyComple
+000040e0: 7465 7228 576f 7264 436f 6d70 6c65 7465  ter(WordComplete
+000040f0: 7228 6c61 6e67 7561 6765 732c 2069 676e  r(languages, ign
+00004100: 6f72 655f 6361 7365 3d54 7275 6529 290a  ore_case=True)).
+00004110: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+00004120: 6e74 2822 506c 6561 7365 2073 7065 6369  nt("Please speci
+00004130: 6679 2074 6865 2076 6f69 6365 2074 7970  fy the voice typ
+00004140: 696e 6720 6c61 6e67 7561 6765 3a22 290a  ing language:").
+00004150: 2020 2020 2020 2020 6c61 6e67 7561 6765          language
+00004160: 203d 2073 656c 662e 7072 6f6d 7074 732e   = self.prompts.
+00004170: 7369 6d70 6c65 5072 6f6d 7074 2873 7479  simplePrompt(sty
+00004180: 6c65 3d73 656c 662e 7072 6f6d 7074 732e  le=self.prompts.
+00004190: 7072 6f6d 7074 5374 796c 6532 2c20 6465  promptStyle2, de
+000041a0: 6661 756c 743d 6465 6661 756c 742c 2070  fault=default, p
+000041b0: 726f 6d70 7453 6573 7369 6f6e 3d76 6f69  romptSession=voi
+000041c0: 6365 5f74 7970 696e 675f 6c61 6e67 7561  ce_typing_langua
+000041d0: 6765 5f73 6573 7369 6f6e 2c20 636f 6d70  ge_session, comp
+000041e0: 6c65 7465 723d 636f 6d70 6c65 7465 7229  leter=completer)
+000041f0: 0a20 2020 2020 2020 2069 6620 6c61 6e67  .        if lang
+00004200: 7561 6765 2061 6e64 206e 6f74 206c 616e  uage and not lan
+00004210: 6775 6167 6520 696e 2028 636f 6e66 6967  guage in (config
+00004220: 2e65 7869 745f 656e 7472 792c 2063 6f6e  .exit_entry, con
+00004230: 6669 672e 6361 6e63 656c 5f65 6e74 7279  fig.cancel_entry
+00004240: 293a 0a20 2020 2020 2020 2020 2020 2063  ):.            c
+00004250: 6f6e 6669 672e 766f 6963 6554 7970 696e  onfig.voiceTypin
+00004260: 674c 616e 6775 6167 6520 3d20 6c61 6e67  gLanguage = lang
+00004270: 7561 6765 0a20 2020 2020 2020 2069 6620  uage.        if 
+00004280: 6e6f 7420 636f 6e66 6967 2e76 6f69 6365  not config.voice
+00004290: 5479 7069 6e67 4c61 6e67 7561 6765 2069  TypingLanguage i
+000042a0: 6e20 6c61 6e67 7561 6765 733a 0a20 2020  n languages:.   
+000042b0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+000042c0: 766f 6963 6554 7970 696e 674c 616e 6775  voiceTypingLangu
+000042d0: 6167 6520 3d20 2265 6e2d 5553 2220 6966  age = "en-US" if
+000042e0: 2063 6f6e 6669 672e 766f 6963 6554 7970   config.voiceTyp
+000042f0: 696e 6750 6c61 7466 6f72 6d20 696e 2028  ingPlatform in (
+00004300: 2267 6f6f 676c 6522 2c20 2267 6f6f 676c  "google", "googl
+00004310: 6563 6c6f 7564 2229 2065 6c73 6520 2265  ecloud") else "e
+00004320: 6e67 6c69 7368 220a 2020 2020 2020 2020  nglish".        
+00004330: 6966 2063 6f6e 6669 672e 766f 6963 6554  if config.voiceT
+00004340: 7970 696e 6750 6c61 7466 6f72 6d20 696e  ypingPlatform in
+00004350: 2028 2267 6f6f 676c 6522 2c20 2267 6f6f   ("google", "goo
+00004360: 676c 6563 6c6f 7564 2229 2061 6e64 2063  glecloud") and c
+00004370: 6f6e 6669 672e 766f 6963 6554 7970 696e  onfig.voiceTypin
+00004380: 674c 616e 6775 6167 6520 696e 206c 616e  gLanguage in lan
+00004390: 6775 6167 6573 3a0a 2020 2020 2020 2020  guages:.        
+000043a0: 2020 2020 636f 6e66 6967 2e76 6f69 6365      config.voice
+000043b0: 5479 7069 6e67 4c61 6e67 7561 6765 203d  TypingLanguage =
+000043c0: 2067 6f6f 676c 6553 7065 6563 6b54 6f54   googleSpeeckToT
+000043d0: 6578 744c 616e 6775 6167 6573 5b63 6f6e  extLanguages[con
+000043e0: 6669 672e 766f 6963 6554 7970 696e 674c  fig.voiceTypingL
+000043f0: 616e 6775 6167 655d 0a0a 2020 2020 2320  anguage]..    # 
+00004400: 456c 6576 656e 4c61 6273 2054 6578 742d  ElevenLabs Text-
+00004410: 746f 2d53 7065 6563 6820 566f 6963 650a  to-Speech Voice.
+00004420: 2020 2020 6465 6620 7365 7445 6c65 7665      def setEleve
+00004430: 6e6c 6162 7356 6f69 6365 2873 656c 6629  nlabsVoice(self)
+00004440: 3a0a 2020 2020 2020 2020 2320 7265 636f  :.        # reco
+00004450: 7264 2069 6e20 6869 7374 6f72 7920 666f  rd in history fo
+00004460: 7220 6561 7379 2072 6574 7269 6576 616c  r easy retrieval
+00004470: 2062 7920 6d6f 7669 6e67 2061 7272 6f77   by moving arrow
+00004480: 7320 7570 7761 7264 7320 2f20 646f 776e  s upwards / down
+00004490: 7761 7264 730a 2020 2020 2020 2020 656c  wards.        el
+000044a0: 6576 656e 6c61 6273 566f 6963 655f 6869  evenlabsVoice_hi
+000044b0: 7374 6f72 7920 3d20 6f73 2e70 6174 682e  story = os.path.
+000044c0: 6a6f 696e 2863 6f6e 6669 672e 6869 7374  join(config.hist
+000044d0: 6f72 7950 6172 656e 7446 6f6c 6465 7220  oryParentFolder 
+000044e0: 6966 2063 6f6e 6669 672e 6869 7374 6f72  if config.histor
+000044f0: 7950 6172 656e 7446 6f6c 6465 7220 656c  yParentFolder el
+00004500: 7365 2063 6f6e 6669 672e 6c65 744d 6544  se config.letMeD
+00004510: 6f49 7441 4946 6f6c 6465 722c 2022 6869  oItAIFolder, "hi
+00004520: 7374 6f72 7922 2c20 2265 6c65 7665 6e6c  story", "elevenl
+00004530: 6162 7356 6f69 6365 2229 0a20 2020 2020  absVoice").     
+00004540: 2020 2065 6c65 7665 6e6c 6162 7356 6f69     elevenlabsVoi
+00004550: 6365 5f73 6573 7369 6f6e 203d 2050 726f  ce_session = Pro
+00004560: 6d70 7453 6573 7369 6f6e 2868 6973 746f  mptSession(histo
+00004570: 7279 3d46 696c 6548 6973 746f 7279 2865  ry=FileHistory(e
+00004580: 6c65 7665 6e6c 6162 7356 6f69 6365 5f68  levenlabsVoice_h
+00004590: 6973 746f 7279 2929 0a20 2020 2020 2020  istory)).       
+000045a0: 2023 2069 6e70 7574 2073 7567 6765 7374   # input suggest
+000045b0: 696f 6e20 666f 7220 6f70 7469 6f6e 730a  ion for options.
+000045c0: 2020 2020 2020 2020 6f70 7469 6f6e 7320          options 
+000045d0: 3d20 5b76 6f69 6365 2e6e 616d 6520 666f  = [voice.name fo
+000045e0: 7220 766f 6963 6520 696e 2076 6f69 6365  r voice in voice
+000045f0: 7328 295d 0a20 2020 2020 2020 2023 2064  s()].        # d
+00004600: 6566 6175 6c74 0a20 2020 2020 2020 2064  efault.        d
+00004610: 6566 6175 6c74 203d 2063 6f6e 6669 672e  efault = config.
+00004620: 656c 6576 656e 6c61 6273 566f 6963 6520  elevenlabsVoice 
+00004630: 6966 2063 6f6e 6669 672e 656c 6576 656e  if config.eleven
+00004640: 6c61 6273 566f 6963 6520 696e 206f 7074  labsVoice in opt
+00004650: 696f 6e73 2065 6c73 6520 2252 6163 6865  ions else "Rache
+00004660: 6c22 0a20 2020 2020 2020 2023 2063 6f6d  l".        # com
+00004670: 706c 6574 6572 0a20 2020 2020 2020 2063  pleter.        c
+00004680: 6f6d 706c 6574 6572 203d 2046 757a 7a79  ompleter = Fuzzy
+00004690: 436f 6d70 6c65 7465 7228 576f 7264 436f  Completer(WordCo
+000046a0: 6d70 6c65 7465 7228 6f70 7469 6f6e 732c  mpleter(options,
+000046b0: 2069 676e 6f72 655f 6361 7365 3d54 7275   ignore_case=Tru
+000046c0: 6529 290a 2020 2020 2020 2020 7365 6c66  e)).        self
+000046d0: 2e70 7269 6e74 2822 506c 6561 7365 2073  .print("Please s
+000046e0: 7065 6369 6679 2045 6c65 7665 6e4c 6162  pecify ElevenLab
+000046f0: 7320 5465 7874 2d74 6f2d 5370 6565 6368  s Text-to-Speech
+00004700: 2056 6f69 6365 3a22 290a 2020 2020 2020   Voice:").      
+00004710: 2020 6f70 7469 6f6e 203d 2073 656c 662e    option = self.
+00004720: 7072 6f6d 7074 732e 7369 6d70 6c65 5072  prompts.simplePr
+00004730: 6f6d 7074 2873 7479 6c65 3d73 656c 662e  ompt(style=self.
+00004740: 7072 6f6d 7074 732e 7072 6f6d 7074 5374  prompts.promptSt
+00004750: 796c 6532 2c20 6465 6661 756c 743d 6465  yle2, default=de
+00004760: 6661 756c 742c 2070 726f 6d70 7453 6573  fault, promptSes
+00004770: 7369 6f6e 3d65 6c65 7665 6e6c 6162 7356  sion=elevenlabsV
+00004780: 6f69 6365 5f73 6573 7369 6f6e 2c20 636f  oice_session, co
+00004790: 6d70 6c65 7465 723d 636f 6d70 6c65 7465  mpleter=complete
+000047a0: 7229 0a20 2020 2020 2020 2069 6620 6f70  r).        if op
+000047b0: 7469 6f6e 2061 6e64 206e 6f74 206f 7074  tion and not opt
+000047c0: 696f 6e20 696e 2028 636f 6e66 6967 2e65  ion in (config.e
+000047d0: 7869 745f 656e 7472 792c 2063 6f6e 6669  xit_entry, confi
+000047e0: 672e 6361 6e63 656c 5f65 6e74 7279 293a  g.cancel_entry):
+000047f0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+00004800: 6669 672e 656c 6576 656e 6c61 6273 566f  fig.elevenlabsVo
+00004810: 6963 6520 3d20 6f70 7469 6f6e 2069 6620  ice = option if 
+00004820: 6f70 7469 6f6e 2069 6e20 6f70 7469 6f6e  option in option
+00004830: 7320 656c 7365 2022 5261 6368 656c 220a  s else "Rachel".
+00004840: 0a20 2020 2023 2047 6f6f 676c 6520 5465  .    # Google Te
+00004850: 7874 2d74 6f2d 5370 6565 6368 2028 4765  xt-to-Speech (Ge
+00004860: 6e65 7269 6329 0a20 2020 2064 6566 2073  neric).    def s
+00004870: 6574 4774 7473 4c61 6e67 7561 6765 2873  etGttsLanguage(s
+00004880: 656c 6629 3a0a 2020 2020 2020 2020 2320  elf):.        # 
+00004890: 7265 636f 7264 2069 6e20 6869 7374 6f72  record in histor
+000048a0: 7920 666f 7220 6561 7379 2072 6574 7269  y for easy retri
+000048b0: 6576 616c 2062 7920 6d6f 7669 6e67 2061  eval by moving a
+000048c0: 7272 6f77 7320 7570 7761 7264 7320 2f20  rrows upwards / 
+000048d0: 646f 776e 7761 7264 730a 2020 2020 2020  downwards.      
+000048e0: 2020 6774 7473 5f6c 616e 6775 6167 655f    gtts_language_
+000048f0: 6869 7374 6f72 7920 3d20 6f73 2e70 6174  history = os.pat
+00004900: 682e 6a6f 696e 2863 6f6e 6669 672e 6869  h.join(config.hi
+00004910: 7374 6f72 7950 6172 656e 7446 6f6c 6465  storyParentFolde
+00004920: 7220 6966 2063 6f6e 6669 672e 6869 7374  r if config.hist
+00004930: 6f72 7950 6172 656e 7446 6f6c 6465 7220  oryParentFolder 
+00004940: 656c 7365 2063 6f6e 6669 672e 6c65 744d  else config.letM
+00004950: 6544 6f49 7441 4946 6f6c 6465 722c 2022  eDoItAIFolder, "
+00004960: 6869 7374 6f72 7922 2c20 2267 7474 735f  history", "gtts_
+00004970: 6c61 6e67 7561 6765 2229 0a20 2020 2020  language").     
+00004980: 2020 2067 7474 735f 6c61 6e67 7561 6765     gtts_language
+00004990: 5f73 6573 7369 6f6e 203d 2050 726f 6d70  _session = Promp
+000049a0: 7453 6573 7369 6f6e 2868 6973 746f 7279  tSession(history
+000049b0: 3d46 696c 6548 6973 746f 7279 2867 7474  =FileHistory(gtt
+000049c0: 735f 6c61 6e67 7561 6765 5f68 6973 746f  s_language_histo
+000049d0: 7279 2929 0a20 2020 2020 2020 2023 2069  ry)).        # i
+000049e0: 6e70 7574 2073 7567 6765 7374 696f 6e20  nput suggestion 
+000049f0: 666f 7220 6c61 6e67 7561 6765 730a 2020  for languages.  
+00004a00: 2020 2020 2020 6c61 6e67 7561 6765 7320        languages 
+00004a10: 3d20 7475 706c 6528 5474 734c 616e 6775  = tuple(TtsLangu
+00004a20: 6167 6573 2e67 7474 732e 6b65 7973 2829  ages.gtts.keys()
+00004a30: 290a 2020 2020 2020 2020 2320 6465 6661  ).        # defa
+00004a40: 756c 740a 2020 2020 2020 2020 6465 6661  ult.        defa
+00004a50: 756c 7420 3d20 2222 0a20 2020 2020 2020  ult = "".       
+00004a60: 2066 6f72 2069 2069 6e20 6c61 6e67 7561   for i in langua
+00004a70: 6765 733a 0a20 2020 2020 2020 2020 2020  ges:.           
+00004a80: 2069 6620 5474 734c 616e 6775 6167 6573   if TtsLanguages
+00004a90: 2e67 7474 735b 695d 203d 3d20 636f 6e66  .gtts[i] == conf
+00004aa0: 6967 2e67 7474 734c 616e 673a 0a20 2020  ig.gttsLang:.   
+00004ab0: 2020 2020 2020 2020 2020 2020 2064 6566               def
+00004ac0: 6175 6c74 203d 2069 0a20 2020 2020 2020  ault = i.       
+00004ad0: 2069 6620 6e6f 7420 6465 6661 756c 743a   if not default:
+00004ae0: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+00004af0: 6175 6c74 203d 2022 656e 220a 2020 2020  ault = "en".    
+00004b00: 2020 2020 2320 636f 6d70 6c65 7465 720a      # completer.
+00004b10: 2020 2020 2020 2020 636f 6d70 6c65 7465          complete
+00004b20: 7220 3d20 4675 7a7a 7943 6f6d 706c 6574  r = FuzzyComplet
+00004b30: 6572 2857 6f72 6443 6f6d 706c 6574 6572  er(WordCompleter
+00004b40: 286c 616e 6775 6167 6573 2c20 6967 6e6f  (languages, igno
+00004b50: 7265 5f63 6173 653d 5472 7565 2929 0a20  re_case=True)). 
+00004b60: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00004b70: 7428 2250 6c65 6173 6520 7370 6563 6966  t("Please specif
+00004b80: 7920 476f 6f67 6c65 2054 6578 742d 746f  y Google Text-to
+00004b90: 2d53 7065 6563 6820 6c61 6e67 7561 6765  -Speech language
+00004ba0: 3a22 290a 2020 2020 2020 2020 6c61 6e67  :").        lang
+00004bb0: 7561 6765 203d 2073 656c 662e 7072 6f6d  uage = self.prom
+00004bc0: 7074 732e 7369 6d70 6c65 5072 6f6d 7074  pts.simplePrompt
+00004bd0: 2873 7479 6c65 3d73 656c 662e 7072 6f6d  (style=self.prom
+00004be0: 7074 732e 7072 6f6d 7074 5374 796c 6532  pts.promptStyle2
+00004bf0: 2c20 6465 6661 756c 743d 6465 6661 756c  , default=defaul
+00004c00: 742c 2070 726f 6d70 7453 6573 7369 6f6e  t, promptSession
+00004c10: 3d67 7474 735f 6c61 6e67 7561 6765 5f73  =gtts_language_s
+00004c20: 6573 7369 6f6e 2c20 636f 6d70 6c65 7465  ession, complete
+00004c30: 723d 636f 6d70 6c65 7465 7229 0a20 2020  r=completer).   
+00004c40: 2020 2020 2069 6620 6c61 6e67 7561 6765       if language
+00004c50: 2061 6e64 206e 6f74 206c 616e 6775 6167   and not languag
+00004c60: 6520 696e 2028 636f 6e66 6967 2e65 7869  e in (config.exi
+00004c70: 745f 656e 7472 792c 2063 6f6e 6669 672e  t_entry, config.
+00004c80: 6361 6e63 656c 5f65 6e74 7279 293a 0a20  cancel_entry):. 
+00004c90: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00004ca0: 672e 6774 7473 4c61 6e67 203d 206c 616e  g.gttsLang = lan
+00004cb0: 6775 6167 650a 2020 2020 2020 2020 6966  guage.        if
+00004cc0: 2063 6f6e 6669 672e 6774 7473 4c61 6e67   config.gttsLang
+00004cd0: 2069 6e20 6c61 6e67 7561 6765 733a 0a20   in languages:. 
+00004ce0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00004cf0: 672e 6774 7473 4c61 6e67 203d 2054 7473  g.gttsLang = Tts
+00004d00: 4c61 6e67 7561 6765 732e 6774 7473 5b63  Languages.gtts[c
+00004d10: 6f6e 6669 672e 6774 7473 4c61 6e67 5d0a  onfig.gttsLang].
+00004d20: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00004d30: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00004d40: 2e67 7474 734c 616e 6720 3d20 2265 6e22  .gttsLang = "en"
+00004d50: 0a0a 2020 2020 2320 476f 6f67 6c65 2043  ..    # Google C
+00004d60: 6c6f 7564 2054 6578 742d 746f 2d53 7065  loud Text-to-Spe
+00004d70: 6563 6820 2841 5049 290a 2020 2020 6465  ech (API).    de
+00004d80: 6620 7365 7447 6374 7473 4c61 6e67 7561  f setGcttsLangua
+00004d90: 6765 2873 656c 6629 3a0a 2020 2020 2020  ge(self):.      
+00004da0: 2020 2320 7265 636f 7264 2069 6e20 6869    # record in hi
+00004db0: 7374 6f72 7920 666f 7220 6561 7379 2072  story for easy r
+00004dc0: 6574 7269 6576 616c 2062 7920 6d6f 7669  etrieval by movi
+00004dd0: 6e67 2061 7272 6f77 7320 7570 7761 7264  ng arrows upward
+00004de0: 7320 2f20 646f 776e 7761 7264 730a 2020  s / downwards.  
+00004df0: 2020 2020 2020 6763 7474 735f 6c61 6e67        gctts_lang
+00004e00: 7561 6765 5f68 6973 746f 7279 203d 206f  uage_history = o
+00004e10: 732e 7061 7468 2e6a 6f69 6e28 636f 6e66  s.path.join(conf
+00004e20: 6967 2e68 6973 746f 7279 5061 7265 6e74  ig.historyParent
+00004e30: 466f 6c64 6572 2069 6620 636f 6e66 6967  Folder if config
+00004e40: 2e68 6973 746f 7279 5061 7265 6e74 466f  .historyParentFo
+00004e50: 6c64 6572 2065 6c73 6520 636f 6e66 6967  lder else config
+00004e60: 2e6c 6574 4d65 446f 4974 4149 466f 6c64  .letMeDoItAIFold
+00004e70: 6572 2c20 2268 6973 746f 7279 222c 2022  er, "history", "
+00004e80: 6763 7474 735f 6c61 6e67 7561 6765 2229  gctts_language")
+00004e90: 0a20 2020 2020 2020 2067 6374 7473 5f6c  .        gctts_l
+00004ea0: 616e 6775 6167 655f 7365 7373 696f 6e20  anguage_session 
+00004eb0: 3d20 5072 6f6d 7074 5365 7373 696f 6e28  = PromptSession(
+00004ec0: 6869 7374 6f72 793d 4669 6c65 4869 7374  history=FileHist
+00004ed0: 6f72 7928 6763 7474 735f 6c61 6e67 7561  ory(gctts_langua
+00004ee0: 6765 5f68 6973 746f 7279 2929 0a20 2020  ge_history)).   
+00004ef0: 2020 2020 2023 2069 6e70 7574 2073 7567       # input sug
+00004f00: 6765 7374 696f 6e20 666f 7220 6c61 6e67  gestion for lang
+00004f10: 7561 6765 730a 2020 2020 2020 2020 6c61  uages.        la
+00004f20: 6e67 7561 6765 7320 3d20 7475 706c 6528  nguages = tuple(
+00004f30: 5474 734c 616e 6775 6167 6573 2e67 6374  TtsLanguages.gct
+00004f40: 7473 2e6b 6579 7328 2929 0a20 2020 2020  ts.keys()).     
+00004f50: 2020 2023 2064 6566 6175 6c74 0a20 2020     # default.   
+00004f60: 2020 2020 2064 6566 6175 6c74 203d 2022       default = "
+00004f70: 220a 2020 2020 2020 2020 666f 7220 6920  ".        for i 
+00004f80: 696e 206c 616e 6775 6167 6573 3a0a 2020  in languages:.  
+00004f90: 2020 2020 2020 2020 2020 6966 2054 7473            if Tts
+00004fa0: 4c61 6e67 7561 6765 732e 6763 7474 735b  Languages.gctts[
+00004fb0: 695d 203d 3d20 636f 6e66 6967 2e67 6374  i] == config.gct
+00004fc0: 7473 4c61 6e67 3a0a 2020 2020 2020 2020  tsLang:.        
+00004fd0: 2020 2020 2020 2020 6465 6661 756c 7420          default 
+00004fe0: 3d20 690a 2020 2020 2020 2020 6966 206e  = i.        if n
+00004ff0: 6f74 2064 6566 6175 6c74 3a0a 2020 2020  ot default:.    
+00005000: 2020 2020 2020 2020 6465 6661 756c 7420          default 
+00005010: 3d20 2265 6e2d 5553 220a 2020 2020 2020  = "en-US".      
+00005020: 2020 2320 636f 6d70 6c65 7465 720a 2020    # completer.  
+00005030: 2020 2020 2020 636f 6d70 6c65 7465 7220        completer 
+00005040: 3d20 4675 7a7a 7943 6f6d 706c 6574 6572  = FuzzyCompleter
+00005050: 2857 6f72 6443 6f6d 706c 6574 6572 286c  (WordCompleter(l
+00005060: 616e 6775 6167 6573 2c20 6967 6e6f 7265  anguages, ignore
+00005070: 5f63 6173 653d 5472 7565 2929 0a20 2020  _case=True)).   
+00005080: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00005090: 2250 6c65 6173 6520 7370 6563 6966 7920  "Please specify 
+000050a0: 476f 6f67 6c65 2043 6c6f 7564 2054 6578  Google Cloud Tex
+000050b0: 742d 746f 2d53 7065 6563 6820 6c61 6e67  t-to-Speech lang
+000050c0: 7561 6765 3a22 290a 2020 2020 2020 2020  uage:").        
+000050d0: 6c61 6e67 7561 6765 203d 2073 656c 662e  language = self.
+000050e0: 7072 6f6d 7074 732e 7369 6d70 6c65 5072  prompts.simplePr
+000050f0: 6f6d 7074 2873 7479 6c65 3d73 656c 662e  ompt(style=self.
+00005100: 7072 6f6d 7074 732e 7072 6f6d 7074 5374  prompts.promptSt
+00005110: 796c 6532 2c20 6465 6661 756c 743d 6465  yle2, default=de
+00005120: 6661 756c 742c 2070 726f 6d70 7453 6573  fault, promptSes
+00005130: 7369 6f6e 3d67 6374 7473 5f6c 616e 6775  sion=gctts_langu
+00005140: 6167 655f 7365 7373 696f 6e2c 2063 6f6d  age_session, com
+00005150: 706c 6574 6572 3d63 6f6d 706c 6574 6572  pleter=completer
+00005160: 290a 2020 2020 2020 2020 6966 206c 616e  ).        if lan
+00005170: 6775 6167 6520 616e 6420 6e6f 7420 6c61  guage and not la
+00005180: 6e67 7561 6765 2069 6e20 2863 6f6e 6669  nguage in (confi
+00005190: 672e 6578 6974 5f65 6e74 7279 2c20 636f  g.exit_entry, co
+000051a0: 6e66 6967 2e63 616e 6365 6c5f 656e 7472  nfig.cancel_entr
+000051b0: 7929 3a0a 2020 2020 2020 2020 2020 2020  y):.            
+000051c0: 636f 6e66 6967 2e67 6374 7473 4c61 6e67  config.gcttsLang
+000051d0: 203d 206c 616e 6775 6167 650a 2020 2020   = language.    
+000051e0: 2020 2020 6966 2063 6f6e 6669 672e 6763      if config.gc
+000051f0: 7474 734c 616e 6720 696e 206c 616e 6775  ttsLang in langu
+00005200: 6167 6573 3a0a 2020 2020 2020 2020 2020  ages:.          
+00005210: 2020 636f 6e66 6967 2e67 6374 7473 4c61    config.gcttsLa
+00005220: 6e67 203d 2054 7473 4c61 6e67 7561 6765  ng = TtsLanguage
+00005230: 732e 6763 7474 735b 636f 6e66 6967 2e67  s.gctts[config.g
+00005240: 6374 7473 4c61 6e67 5d0a 2020 2020 2020  cttsLang].      
+00005250: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00005260: 2020 2020 636f 6e66 6967 2e67 6374 7473      config.gctts
+00005270: 4c61 6e67 203d 2022 656e 2d55 5322 0a0a  Lang = "en-US"..
+00005280: 2020 2020 6465 6620 7365 7456 6c63 5370      def setVlcSp
+00005290: 6565 6428 7365 6c66 293a 0a20 2020 2020  eed(self):.     
+000052a0: 2020 2069 6620 636f 6e66 6967 2e69 7356     if config.isV
+000052b0: 6c63 506c 6179 6572 496e 7374 616c 6c65  lcPlayerInstalle
+000052c0: 6420 616e 6420 6e6f 7420 636f 6e66 6967  d and not config
+000052d0: 2e75 7365 5079 6761 6d65 3a0a 2020 2020  .usePygame:.    
+000052e0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+000052f0: 6e74 2822 5370 6563 6966 7920 564c 4320  nt("Specify VLC 
+00005300: 706c 6179 6572 2070 6c61 7962 6163 6b20  player playback 
+00005310: 7370 6565 643a 2229 0a20 2020 2020 2020  speed:").       
+00005320: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00005330: 2228 6265 7477 6565 6e20 302e 3120 616e  "(between 0.1 an
+00005340: 6420 322e 3029 2229 0a20 2020 2020 2020  d 2.0)").       
+00005350: 2020 2020 2076 6c63 5370 6565 6420 3d20       vlcSpeed = 
+00005360: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
+00005370: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
+00005380: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
+00005390: 6d70 7453 7479 6c65 322c 2076 616c 6964  mptStyle2, valid
+000053a0: 6174 6f72 3d46 6c6f 6174 5661 6c69 6461  ator=FloatValida
+000053b0: 746f 7228 292c 2064 6566 6175 6c74 3d73  tor(), default=s
+000053c0: 7472 2863 6f6e 6669 672e 766c 6353 7065  tr(config.vlcSpe
+000053d0: 6564 2929 0a20 2020 2020 2020 2020 2020  ed)).           
+000053e0: 2069 6620 766c 6353 7065 6564 2061 6e64   if vlcSpeed and
+000053f0: 206e 6f74 2076 6c63 5370 6565 642e 7374   not vlcSpeed.st
+00005400: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+00005410: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+00005420: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00005430: 2020 2020 766c 6353 7065 6564 203d 2066      vlcSpeed = f
+00005440: 6c6f 6174 2876 6c63 5370 6565 6429 0a20  loat(vlcSpeed). 
+00005450: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00005460: 6620 766c 6353 7065 6564 203c 2030 2e31  f vlcSpeed < 0.1
+00005470: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00005480: 2020 2020 2020 766c 6353 7065 6564 203d        vlcSpeed =
+00005490: 2030 2e31 0a20 2020 2020 2020 2020 2020   0.1.           
+000054a0: 2020 2020 2065 6c69 6620 766c 6353 7065       elif vlcSpe
+000054b0: 6564 203e 2032 3a0a 2020 2020 2020 2020  ed > 2:.        
+000054c0: 2020 2020 2020 2020 2020 2020 766c 6353              vlcS
+000054d0: 7065 6564 203d 2032 0a20 2020 2020 2020  peed = 2.       
+000054e0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+000054f0: 766c 6353 7065 6564 203d 2072 6f75 6e64  vlcSpeed = round
+00005500: 2876 6c63 5370 6565 642c 2031 290a 2020  (vlcSpeed, 1).  
+00005510: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00005520: 6c66 2e70 7269 6e74 3328 6622 564c 4320  lf.print3(f"VLC 
+00005530: 706c 6179 6572 2070 6c61 7962 6163 6b20  player playback 
+00005540: 7370 6565 643a 207b 766c 6353 7065 6564  speed: {vlcSpeed
+00005550: 7d22 290a 0a20 2020 2064 6566 2073 6574  }")..    def set
+00005560: 4763 7474 7353 7065 6564 2873 656c 6629  GcttsSpeed(self)
+00005570: 3a0a 2020 2020 2020 2020 7365 6c66 2e70  :.        self.p
+00005580: 7269 6e74 2822 5370 6563 6966 7920 476f  rint("Specify Go
+00005590: 6f67 6c65 2043 6c6f 7564 2054 6578 742d  ogle Cloud Text-
+000055a0: 746f 2d53 7065 6563 6820 706c 6179 6261  to-Speech playba
+000055b0: 636b 2073 7065 6564 3a22 290a 2020 2020  ck speed:").    
+000055c0: 2020 2020 7365 6c66 2e70 7269 6e74 2822      self.print("
+000055d0: 2862 6574 7765 656e 2030 2e31 2061 6e64  (between 0.1 and
+000055e0: 2032 2e30 2922 290a 2020 2020 2020 2020   2.0)").        
+000055f0: 6763 7474 7353 7065 6564 203d 2073 656c  gcttsSpeed = sel
+00005600: 662e 7072 6f6d 7074 732e 7369 6d70 6c65  f.prompts.simple
+00005610: 5072 6f6d 7074 2873 7479 6c65 3d73 656c  Prompt(style=sel
+00005620: 662e 7072 6f6d 7074 732e 7072 6f6d 7074  f.prompts.prompt
+00005630: 5374 796c 6532 2c20 7661 6c69 6461 746f  Style2, validato
+00005640: 723d 466c 6f61 7456 616c 6964 6174 6f72  r=FloatValidator
+00005650: 2829 2c20 6465 6661 756c 743d 7374 7228  (), default=str(
+00005660: 636f 6e66 6967 2e67 6374 7473 5370 6565  config.gcttsSpee
+00005670: 6429 290a 2020 2020 2020 2020 6966 2067  d)).        if g
+00005680: 6374 7473 5370 6565 6420 616e 6420 6e6f  cttsSpeed and no
+00005690: 7420 6763 7474 7353 7065 6564 2e73 7472  t gcttsSpeed.str
+000056a0: 6970 2829 2e6c 6f77 6572 2829 203d 3d20  ip().lower() == 
+000056b0: 636f 6e66 6967 2e65 7869 745f 656e 7472  config.exit_entr
+000056c0: 793a 0a20 2020 2020 2020 2020 2020 2067  y:.            g
+000056d0: 6374 7473 5370 6565 6420 3d20 666c 6f61  cttsSpeed = floa
+000056e0: 7428 6763 7474 7353 7065 6564 290a 2020  t(gcttsSpeed).  
+000056f0: 2020 2020 2020 2020 2020 6966 2067 6374            if gct
+00005700: 7473 5370 6565 6420 3c20 302e 313a 0a20  tsSpeed < 0.1:. 
+00005710: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+00005720: 6374 7473 5370 6565 6420 3d20 302e 310a  cttsSpeed = 0.1.
+00005730: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00005740: 2067 6374 7473 5370 6565 6420 3e20 323a   gcttsSpeed > 2:
+00005750: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005760: 2067 6374 7473 5370 6565 6420 3d20 320a   gcttsSpeed = 2.
+00005770: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+00005780: 6967 2e67 6374 7473 5370 6565 6420 3d20  ig.gcttsSpeed = 
+00005790: 726f 756e 6428 6763 7474 7353 7065 6564  round(gcttsSpeed
+000057a0: 2c20 3129 0a20 2020 2020 2020 2020 2020  , 1).           
+000057b0: 2073 656c 662e 7072 696e 7433 2866 2247   self.print3(f"G
+000057c0: 6f6f 676c 6520 436c 6f75 6420 5465 7874  oogle Cloud Text
+000057d0: 2d74 6f2d 5370 6565 6368 2070 6c61 7962  -to-Speech playb
+000057e0: 6163 6b20 7370 6565 643a 207b 6763 7474  ack speed: {gctt
+000057f0: 7353 7065 6564 7d22 290a 0a20 2020 2064  sSpeed}")..    d
+00005800: 6566 2073 656c 6563 7447 6f6f 676c 6541  ef selectGoogleA
+00005810: 5049 7328 7365 6c66 293a 0a20 2020 2020  PIs(self):.     
+00005820: 2020 2069 6620 6f73 2e65 6e76 6972 6f6e     if os.environ
+00005830: 5b22 474f 4f47 4c45 5f41 5050 4c49 4341  ["GOOGLE_APPLICA
+00005840: 5449 4f4e 5f43 5245 4445 4e54 4941 4c53  TION_CREDENTIALS
+00005850: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
+00005860: 656e 6162 6c65 6447 6f6f 676c 6541 5049  enabledGoogleAPI
+00005870: 7320 3d20 7365 6c66 2e64 6961 6c6f 6773  s = self.dialogs
+00005880: 2e67 6574 4d75 6c74 6970 6c65 5365 6c65  .getMultipleSele
+00005890: 6374 696f 6e28 0a20 2020 2020 2020 2020  ction(.         
+000058a0: 2020 2020 2020 2074 6974 6c65 3d22 476f         title="Go
+000058b0: 6f67 6c65 2043 6c6f 7564 2053 6572 7669  ogle Cloud Servi
+000058c0: 6365 222c 0a20 2020 2020 2020 2020 2020  ce",.           
+000058d0: 2020 2020 2074 6578 743d 2253 656c 6563       text="Selec
+000058e0: 7420 746f 2065 6e61 626c 6520 476f 6f67  t to enable Goog
+000058f0: 6c65 2043 6c6f 7564 2053 6572 7669 6365  le Cloud Service
+00005900: 2069 6e20 4c65 744d 6544 6f49 7420 4149   in LetMeDoIt AI
+00005910: 3a22 2c0a 2020 2020 2020 2020 2020 2020  :",.            
+00005920: 2020 2020 6f70 7469 6f6e 733d 2822 5665      options=("Ve
+00005930: 7274 6578 2041 4922 2c20 2253 7065 6563  rtex AI", "Speec
+00005940: 682d 746f 2d54 6578 7422 2c20 2254 6578  h-to-Text", "Tex
+00005950: 742d 746f 2d53 7065 6563 6822 292c 0a20  t-to-Speech"),. 
+00005960: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00005970: 6566 6175 6c74 5f76 616c 7565 733d 636f  efault_values=co
+00005980: 6e66 6967 2e65 6e61 626c 6564 476f 6f67  nfig.enabledGoog
+00005990: 6c65 4150 4973 2c0a 2020 2020 2020 2020  leAPIs,.        
+000059a0: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+000059b0: 2020 6966 2065 6e61 626c 6564 476f 6f67    if enabledGoog
+000059c0: 6c65 4150 4973 2069 7320 6e6f 7420 4e6f  leAPIs is not No
+000059d0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+000059e0: 2020 2020 636f 6e66 6967 2e65 6e61 626c      config.enabl
+000059f0: 6564 476f 6f67 6c65 4150 4973 203d 2065  edGoogleAPIs = e
+00005a00: 6e61 626c 6564 476f 6f67 6c65 4150 4973  nabledGoogleAPIs
+00005a10: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00005a20: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00005a30: 672e 656e 6162 6c65 6447 6f6f 676c 6541  g.enabledGoogleA
+00005a40: 5049 7320 3d20 5b22 5665 7274 6578 2041  PIs = ["Vertex A
+00005a50: 4922 5d0a 2020 2020 2020 2020 2020 2020  I"].            
+00005a60: 7365 6c66 2e70 7269 6e74 2866 2241 5049  self.print(f"API
+00005a70: 206b 6579 206a 736f 6e20 6669 6c65 2027   key json file '
+00005a80: 7b63 6f6e 6669 672e 676f 6f67 6c65 5f63  {config.google_c
+00005a90: 6c6f 7564 5f63 7265 6465 6e74 6961 6c73  loud_credentials
+00005aa0: 5f66 696c 657d 2720 6e6f 7420 666f 756e  _file}' not foun
+00005ab0: 6421 2229 0a20 2020 2020 2020 2020 2020  d!").           
+00005ac0: 2073 656c 662e 7072 696e 7428 2252 6561   self.print("Rea
+00005ad0: 6420 6874 7470 733a 2f2f 6769 7468 7562  d https://github
+00005ae0: 2e63 6f6d 2f65 6c69 7261 6e77 6f6e 672f  .com/eliranwong/
+00005af0: 6c65 746d 6564 6f69 742f 7769 6b69 2f47  letmedoit/wiki/G
+00005b00: 6f6f 676c 652d 4150 492d 5365 7475 7020  oogle-API-Setup 
+00005b10: 666f 7220 7365 7474 696e 6720 7570 2047  for setting up G
+00005b20: 6f6f 676c 6520 4150 492e 2229 0a20 2020  oogle API.").   
+00005b30: 2020 2020 2069 6620 2253 7065 6563 682d       if "Speech-
+00005b40: 746f 2d54 6578 7422 2069 6e20 636f 6e66  to-Text" in conf
+00005b50: 6967 2e65 6e61 626c 6564 476f 6f67 6c65  ig.enabledGoogle
+00005b60: 4150 4973 3a0a 2020 2020 2020 2020 2020  APIs:.          
+00005b70: 2020 6966 206e 6f74 2063 6f6e 6669 672e    if not config.
+00005b80: 766f 6963 6554 7970 696e 6750 6c61 7466  voiceTypingPlatf
+00005b90: 6f72 6d20 3d3d 2022 676f 6f67 6c65 636c  orm == "googlecl
+00005ba0: 6f75 6422 3a0a 2020 2020 2020 2020 2020  oud":.          
+00005bb0: 2020 2020 2020 636f 6e66 6967 2e76 6f69        config.voi
+00005bc0: 6365 5479 7069 6e67 506c 6174 666f 726d  ceTypingPlatform
+00005bd0: 203d 2022 676f 6f67 6c65 636c 6f75 6422   = "googlecloud"
+00005be0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005bf0: 2073 656c 662e 7072 696e 7433 2822 566f   self.print3("Vo
+00005c00: 6963 6520 7479 7069 6e67 2070 6c61 7466  ice typing platf
+00005c10: 6f72 6d20 6368 616e 6765 6420 746f 3a20  orm changed to: 
+00005c20: 476f 6f67 6c65 2054 6578 742d 746f 2d53  Google Text-to-S
+00005c30: 7065 6563 6820 2841 5049 2922 290a 2020  peech (API)").  
+00005c40: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
+00005c50: 6574 5370 6565 6368 546f 5465 7874 4c61  etSpeechToTextLa
+00005c60: 6e67 7561 6765 2829 0a20 2020 2020 2020  nguage().       
+00005c70: 2069 6620 2254 6578 742d 746f 2d53 7065   if "Text-to-Spe
+00005c80: 6563 6822 2069 6e20 636f 6e66 6967 2e65  ech" in config.e
+00005c90: 6e61 626c 6564 476f 6f67 6c65 4150 4973  nabledGoogleAPIs
+00005ca0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00005cb0: 206e 6f74 2063 6f6e 6669 672e 7474 7350   not config.ttsP
+00005cc0: 6c61 7466 6f72 6d20 3d3d 2022 676f 6f67  latform == "goog
+00005cd0: 6c65 636c 6f75 6422 3a0a 2020 2020 2020  lecloud":.      
+00005ce0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00005cf0: 2e74 7473 506c 6174 666f 726d 203d 2022  .ttsPlatform = "
+00005d00: 676f 6f67 6c65 636c 6f75 6422 0a20 2020  googlecloud".   
+00005d10: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00005d20: 662e 7072 696e 7433 2822 5465 7874 2d74  f.print3("Text-t
+00005d30: 6f2d 5370 6565 6368 2070 6c61 7466 6f72  o-Speech platfor
+00005d40: 6d20 6368 616e 6765 6420 746f 3a20 476f  m changed to: Go
+00005d50: 6f67 6c65 2054 6578 742d 746f 2d53 7065  ogle Text-to-Spe
+00005d60: 6563 6820 2841 5049 2922 290a 2020 2020  ech (API)").    
+00005d70: 2020 2020 2020 2020 7365 6c66 2e73 6574          self.set
+00005d80: 4763 7474 734c 616e 6775 6167 6528 290a  GcttsLanguage().
+00005d90: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00005da0: 2e73 6574 4763 7474 7353 7065 6564 2829  .setGcttsSpeed()
+00005db0: 0a20 2020 2020 2020 2063 6f6e 6669 672e  .        config.
+00005dc0: 7361 7665 436f 6e66 6967 2829 0a0a 2020  saveConfig()..  
+00005dd0: 2020 6465 6620 7365 6c65 6374 506c 7567    def selectPlug
+00005de0: 696e 7328 7365 6c66 293a 0a20 2020 2020  ins(self):.     
+00005df0: 2020 2070 6c75 6769 6e73 203d 205b 5d0a     plugins = [].
+00005e00: 2020 2020 2020 2020 656e 6162 6c65 6450          enabledP
+00005e10: 6c75 6769 6e73 203d 205b 5d0a 2020 2020  lugins = [].    
+00005e20: 2020 2020 706c 7567 696e 466f 6c64 6572      pluginFolder
+00005e30: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
+00005e40: 636f 6e66 6967 2e6c 6574 4d65 446f 4974  config.letMeDoIt
+00005e50: 4149 466f 6c64 6572 2c20 2270 6c75 6769  AIFolder, "plugi
+00005e60: 6e73 2229 0a20 2020 2020 2020 2069 6620  ns").        if 
+00005e70: 7365 6c66 2e73 746f 7261 6765 4469 723a  self.storageDir:
+00005e80: 0a20 2020 2020 2020 2020 2020 2063 7573  .            cus
+00005e90: 746f 6d50 6c75 6769 6e46 6f6c 6572 203d  tomPluginFoler =
+00005ea0: 206f 732e 7061 7468 2e6a 6f69 6e28 7365   os.path.join(se
+00005eb0: 6c66 2e73 746f 7261 6765 4469 722c 2022  lf.storageDir, "
+00005ec0: 706c 7567 696e 7322 290a 2020 2020 2020  plugins").      
+00005ed0: 2020 2020 2020 5061 7468 2863 7573 746f        Path(custo
+00005ee0: 6d50 6c75 6769 6e46 6f6c 6572 292e 6d6b  mPluginFoler).mk
+00005ef0: 6469 7228 7061 7265 6e74 733d 5472 7565  dir(parents=True
+00005f00: 2c20 6578 6973 745f 6f6b 3d54 7275 6529  , exist_ok=True)
+00005f10: 0a20 2020 2020 2020 2020 2020 2070 6c75  .            plu
+00005f20: 6769 6e46 6f6c 6465 7273 203d 2028 706c  ginFolders = (pl
+00005f30: 7567 696e 466f 6c64 6572 2c20 6375 7374  uginFolder, cust
+00005f40: 6f6d 506c 7567 696e 466f 6c65 7229 0a20  omPluginFoler). 
+00005f50: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00005f60: 2020 2020 2020 2020 2070 6c75 6769 6e46           pluginF
+00005f70: 6f6c 6465 7273 203d 2028 706c 7567 696e  olders = (plugin
+00005f80: 466f 6c64 6572 2c29 0a20 2020 2020 2020  Folder,).       
+00005f90: 2066 6f72 2066 6f6c 6465 7220 696e 2070   for folder in p
+00005fa0: 6c75 6769 6e46 6f6c 6465 7273 3a0a 2020  luginFolders:.  
+00005fb0: 2020 2020 2020 2020 2020 666f 7220 706c            for pl
+00005fc0: 7567 696e 2069 6e20 4669 6c65 5574 696c  ugin in FileUtil
+00005fd0: 2e66 696c 654e 616d 6573 5769 7468 6f75  .fileNamesWithou
+00005fe0: 7445 7874 656e 7369 6f6e 2866 6f6c 6465  tExtension(folde
+00005ff0: 722c 2022 7079 2229 3a0a 2020 2020 2020  r, "py"):.      
+00006000: 2020 2020 2020 2020 2020 706c 7567 696e            plugin
+00006010: 732e 6170 7065 6e64 2870 6c75 6769 6e29  s.append(plugin)
+00006020: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006030: 2069 6620 6e6f 7420 706c 7567 696e 2069   if not plugin i
+00006040: 6e20 636f 6e66 6967 2e70 6c75 6769 6e45  n config.pluginE
+00006050: 7863 6c75 6465 4c69 7374 3a0a 2020 2020  xcludeList:.    
+00006060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006070: 656e 6162 6c65 6450 6c75 6769 6e73 2e61  enabledPlugins.a
+00006080: 7070 656e 6428 706c 7567 696e 290a 2020  ppend(plugin).  
+00006090: 2020 2020 2020 656e 6162 6c65 6450 6c75        enabledPlu
+000060a0: 6769 6e73 203d 2073 656c 662e 6469 616c  gins = self.dial
+000060b0: 6f67 732e 6765 744d 756c 7469 706c 6553  ogs.getMultipleS
+000060c0: 656c 6563 7469 6f6e 280a 2020 2020 2020  election(.      
+000060d0: 2020 2020 2020 7469 746c 653d 2245 6e61        title="Ena
+000060e0: 626c 6520 2f20 4469 7361 626c 6520 506c  ble / Disable Pl
+000060f0: 7567 696e 7322 2c0a 2020 2020 2020 2020  ugins",.        
+00006100: 2020 2020 7465 7874 3d22 5365 6c65 6374      text="Select
+00006110: 2074 6f20 656e 6162 6c65 2070 6c75 6769   to enable plugi
+00006120: 6e28 7329 3a22 2c0a 2020 2020 2020 2020  n(s):",.        
+00006130: 2020 2020 6f70 7469 6f6e 733d 706c 7567      options=plug
+00006140: 696e 732c 0a20 2020 2020 2020 2020 2020  ins,.           
+00006150: 2064 6566 6175 6c74 5f76 616c 7565 733d   default_values=
+00006160: 656e 6162 6c65 6450 6c75 6769 6e73 2c0a  enabledPlugins,.
+00006170: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00006180: 2020 6966 2065 6e61 626c 6564 506c 7567    if enabledPlug
+00006190: 696e 7320 6973 206e 6f74 204e 6f6e 653a  ins is not None:
+000061a0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+000061b0: 2070 2069 6e20 706c 7567 696e 733a 0a20   p in plugins:. 
+000061c0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000061d0: 6620 7020 696e 2065 6e61 626c 6564 506c  f p in enabledPl
+000061e0: 7567 696e 7320 616e 6420 7020 696e 2063  ugins and p in c
+000061f0: 6f6e 6669 672e 706c 7567 696e 4578 636c  onfig.pluginExcl
+00006200: 7564 654c 6973 743a 0a20 2020 2020 2020  udeList:.       
+00006210: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00006220: 6669 672e 706c 7567 696e 4578 636c 7564  fig.pluginExclud
+00006230: 654c 6973 742e 7265 6d6f 7665 2870 290a  eList.remove(p).
+00006240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006250: 656c 6966 206e 6f74 2070 2069 6e20 656e  elif not p in en
+00006260: 6162 6c65 6450 6c75 6769 6e73 2061 6e64  abledPlugins and
+00006270: 206e 6f74 2070 2069 6e20 636f 6e66 6967   not p in config
+00006280: 2e70 6c75 6769 6e45 7863 6c75 6465 4c69  .pluginExcludeLi
+00006290: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
+000062a0: 2020 2020 2020 2020 636f 6e66 6967 2e70          config.p
+000062b0: 6c75 6769 6e45 7863 6c75 6465 4c69 7374  luginExcludeList
+000062c0: 2e61 7070 656e 6428 7029 0a20 2020 2020  .append(p).     
+000062d0: 2020 2020 2020 2073 656c 662e 7275 6e50         self.runP
+000062e0: 6c75 6769 6e73 2829 0a20 2020 2020 2020  lugins().       
+000062f0: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
+00006300: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
+00006310: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00006320: 2250 6c75 6769 6e20 7365 6c65 6374 696f  "Plugin selectio
+00006330: 6e20 7570 6461 7465 6421 2229 0a0a 2020  n updated!")..  
+00006340: 2020 6465 6620 6765 7443 6c69 4f75 7470    def getCliOutp
+00006350: 7574 2873 656c 662c 2063 6c69 293a 0a20  ut(self, cli):. 
+00006360: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
+00006370: 2020 2020 2020 2020 7072 6f63 6573 7320          process 
+00006380: 3d20 7375 6270 726f 6365 7373 2e50 6f70  = subprocess.Pop
+00006390: 656e 2863 6c69 2c20 7368 656c 6c3d 5472  en(cli, shell=Tr
+000063a0: 7565 2c20 7374 646f 7574 3d73 7562 7072  ue, stdout=subpr
+000063b0: 6f63 6573 732e 5049 5045 2c20 7374 6465  ocess.PIPE, stde
+000063c0: 7272 3d73 7562 7072 6f63 6573 732e 5049  rr=subprocess.PI
+000063d0: 5045 290a 2020 2020 2020 2020 2020 2020  PE).            
+000063e0: 7374 646f 7574 2c20 2a5f 203d 2070 726f  stdout, *_ = pro
+000063f0: 6365 7373 2e63 6f6d 6d75 6e69 6361 7465  cess.communicate
+00006400: 2829 0a20 2020 2020 2020 2020 2020 2072  ().            r
+00006410: 6574 7572 6e20 7374 646f 7574 2e64 6563  eturn stdout.dec
+00006420: 6f64 6528 2275 7466 2d38 2229 0a20 2020  ode("utf-8").   
+00006430: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
+00006440: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00006450: 2222 0a0a 2020 2020 6465 6620 6669 6e67  ""..    def fing
+00006460: 6572 7072 696e 7428 7365 6c66 293a 0a20  erprint(self):. 
+00006470: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
+00006480: 2020 2020 2020 2020 6f75 7470 7574 203d          output =
+00006490: 206a 736f 6e2e 6c6f 6164 7328 7365 6c66   json.loads(self
+000064a0: 2e67 6574 436c 694f 7574 7075 7428 2274  .getCliOutput("t
+000064b0: 6572 6d75 782d 6669 6e67 6572 7072 696e  ermux-fingerprin
+000064c0: 7422 2929 0a20 2020 2020 2020 2020 2020  t")).           
+000064d0: 2072 6574 7572 6e20 5472 7565 2069 6620   return True if 
+000064e0: 6f75 7470 7574 5b22 6175 7468 5f72 6573  output["auth_res
+000064f0: 756c 7422 5d20 3d3d 2022 4155 5448 5f52  ult"] == "AUTH_R
+00006500: 4553 554c 545f 5355 4343 4553 5322 2065  ESULT_SUCCESS" e
+00006510: 6c73 6520 4661 6c73 650a 2020 2020 2020  lse False.      
+00006520: 2020 6578 6365 7074 3a0a 2020 2020 2020    except:.      
+00006530: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
+00006540: 7365 0a0a 2020 2020 6465 6620 6368 616e  se..    def chan
+00006550: 6765 4150 496b 6579 2873 656c 6629 3a0a  geAPIkey(self):.
+00006560: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
+00006570: 6f6e 6669 672e 7465 726d 696e 616c 456e  onfig.terminalEn
+00006580: 6162 6c65 5465 726d 7578 4150 4920 6f72  ableTermuxAPI or
+00006590: 2028 636f 6e66 6967 2e74 6572 6d69 6e61   (config.termina
+000065a0: 6c45 6e61 626c 6554 6572 6d75 7841 5049  lEnableTermuxAPI
+000065b0: 2061 6e64 2073 656c 662e 6669 6e67 6572   and self.finger
+000065c0: 7072 696e 7428 2929 3a0a 2020 2020 2020  print()):.      
+000065d0: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+000065e0: 2822 456e 7465 7220 796f 7572 204f 7065  ("Enter your Ope
+000065f0: 6e41 4920 4150 4920 4b65 7920 5b72 6571  nAI API Key [req
+00006600: 7569 7265 645d 3a22 290a 2020 2020 2020  uired]:").      
+00006610: 2020 2020 2020 6170 696b 6579 203d 2073        apikey = s
+00006620: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
+00006630: 6c65 5072 6f6d 7074 2873 7479 6c65 3d73  lePrompt(style=s
+00006640: 656c 662e 7072 6f6d 7074 732e 7072 6f6d  elf.prompts.prom
+00006650: 7074 5374 796c 6532 2c20 6465 6661 756c  ptStyle2, defaul
+00006660: 743d 636f 6e66 6967 2e6f 7065 6e61 6941  t=config.openaiA
+00006670: 7069 4b65 792c 2069 735f 7061 7373 776f  piKey, is_passwo
+00006680: 7264 3d54 7275 6529 0a20 2020 2020 2020  rd=True).       
+00006690: 2020 2020 2069 6620 6170 696b 6579 2061       if apikey a
+000066a0: 6e64 206e 6f74 2061 7069 6b65 792e 7374  nd not apikey.st
+000066b0: 7269 7028 292e 6c6f 7765 7228 2920 696e  rip().lower() in
+000066c0: 2028 636f 6e66 6967 2e63 616e 6365 6c5f   (config.cancel_
+000066d0: 656e 7472 792c 2063 6f6e 6669 672e 6578  entry, config.ex
+000066e0: 6974 5f65 6e74 7279 293a 0a20 2020 2020  it_entry):.     
+000066f0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00006700: 672e 6f70 656e 6169 4170 694b 6579 203d  g.openaiApiKey =
+00006710: 2061 7069 6b65 790a 2020 2020 2020 2020   apikey.        
+00006720: 2020 2020 2373 656c 662e 7072 696e 7428      #self.print(
+00006730: 2245 6e74 6572 2079 6f75 7220 4f72 6761  "Enter your Orga
+00006740: 6e69 7a61 7469 6f6e 2049 4420 5b6f 7074  nization ID [opt
+00006750: 696f 6e61 6c5d 3a22 290a 2020 2020 2020  ional]:").      
+00006760: 2020 2020 2020 236f 6964 203d 2073 656c        #oid = sel
+00006770: 662e 7072 6f6d 7074 732e 7369 6d70 6c65  f.prompts.simple
+00006780: 5072 6f6d 7074 2864 6566 6175 6c74 3d63  Prompt(default=c
+00006790: 6f6e 6669 672e 6f70 656e 6169 4170 694f  onfig.openaiApiO
+000067a0: 7267 616e 697a 6174 696f 6e2c 2069 735f  rganization, is_
+000067b0: 7061 7373 776f 7264 3d54 7275 6529 0a20  password=True). 
+000067c0: 2020 2020 2020 2020 2020 2023 6966 206f             #if o
+000067d0: 6964 2061 6e64 206e 6f74 206f 6964 2e73  id and not oid.s
+000067e0: 7472 6970 2829 2e6c 6f77 6572 2829 2069  trip().lower() i
+000067f0: 6e20 2863 6f6e 6669 672e 6361 6e63 656c  n (config.cancel
+00006800: 5f65 6e74 7279 2c20 636f 6e66 6967 2e65  _entry, config.e
+00006810: 7869 745f 656e 7472 7929 3a0a 2020 2020  xit_entry):.    
+00006820: 2020 2020 2020 2020 2320 2020 2063 6f6e          #    con
+00006830: 6669 672e 6f70 656e 6169 4170 694f 7267  fig.openaiApiOrg
+00006840: 616e 697a 6174 696f 6e20 3d20 6f69 640a  anization = oid.
+00006850: 2020 2020 2020 2020 2020 2020 5368 6172              Shar
+00006860: 6564 5574 696c 2e63 6865 636b 436f 6d70  edUtil.checkComp
+00006870: 6c65 7469 6f6e 2829 0a20 2020 2020 2020  letion().       
+00006880: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
+00006890: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
+000068a0: 2020 2020 2073 656c 662e 7072 696e 7432       self.print2
+000068b0: 2822 436f 6e66 6967 7572 6174 696f 6e73  ("Configurations
+000068c0: 2075 7064 6174 6564 2122 290a 0a20 2020   updated!")..   
+000068d0: 2064 6566 2063 6861 6e67 654f 7065 6e77   def changeOpenw
+000068e0: 6561 7468 6572 6d61 7041 7069 2873 656c  eathermapApi(sel
+000068f0: 6629 3a0a 2020 2020 2020 2020 6966 206e  f):.        if n
+00006900: 6f74 2063 6f6e 6669 672e 7465 726d 696e  ot config.termin
+00006910: 616c 456e 6162 6c65 5465 726d 7578 4150  alEnableTermuxAP
+00006920: 4920 6f72 2028 636f 6e66 6967 2e74 6572  I or (config.ter
+00006930: 6d69 6e61 6c45 6e61 626c 6554 6572 6d75  minalEnableTermu
+00006940: 7841 5049 2061 6e64 2073 656c 662e 6669  xAPI and self.fi
+00006950: 6e67 6572 7072 696e 7428 2929 3a0a 2020  ngerprint()):.  
+00006960: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00006970: 7269 6e74 2822 546f 2073 6574 2075 7020  rint("To set up 
+00006980: 4f70 656e 5765 6174 6865 724d 6170 2041  OpenWeatherMap A
+00006990: 5049 204b 6579 2c20 7265 6164 3a5c 6e68  PI Key, read:\nh
+000069a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000069b0: 6d2f 656c 6972 616e 776f 6e67 2f6c 6574  m/eliranwong/let
+000069c0: 6d65 646f 6974 2f77 696b 692f 4f70 656e  medoit/wiki/Open
+000069d0: 5765 6174 6865 724d 6170 2d41 5049 2d53  WeatherMap-API-S
+000069e0: 6574 7570 5c6e 2229 0a20 2020 2020 2020  etup\n").       
+000069f0: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00006a00: 2245 6e74 6572 2079 6f75 7220 4f70 656e  "Enter your Open
+00006a10: 5765 6174 6865 724d 6170 2041 5049 204b  WeatherMap API K
+00006a20: 6579 3a22 290a 2020 2020 2020 2020 2020  ey:").          
+00006a30: 2020 7072 696e 7428 290a 2020 2020 2020    print().      
+00006a40: 2020 2020 2020 6170 696b 6579 203d 2073        apikey = s
+00006a50: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
+00006a60: 6c65 5072 6f6d 7074 2873 7479 6c65 3d73  lePrompt(style=s
+00006a70: 656c 662e 7072 6f6d 7074 732e 7072 6f6d  elf.prompts.prom
+00006a80: 7074 5374 796c 6532 2c20 6465 6661 756c  ptStyle2, defaul
+00006a90: 743d 636f 6e66 6967 2e6f 7065 6e77 6561  t=config.openwea
+00006aa0: 7468 6572 6d61 7041 7069 2c20 6973 5f70  thermapApi, is_p
+00006ab0: 6173 7377 6f72 643d 5472 7565 290a 2020  assword=True).  
+00006ac0: 2020 2020 2020 2020 2020 6966 2061 7069            if api
+00006ad0: 6b65 7920 616e 6420 6e6f 7420 6170 696b  key and not apik
+00006ae0: 6579 2e73 7472 6970 2829 2e6c 6f77 6572  ey.strip().lower
+00006af0: 2829 2069 6e20 2863 6f6e 6669 672e 6361  () in (config.ca
+00006b00: 6e63 656c 5f65 6e74 7279 2c20 636f 6e66  ncel_entry, conf
+00006b10: 6967 2e65 7869 745f 656e 7472 7929 3a0a  ig.exit_entry):.
+00006b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006b30: 636f 6e66 6967 2e6f 7065 6e77 6561 7468  config.openweath
+00006b40: 6572 6d61 7041 7069 203d 2061 7069 6b65  ermapApi = apike
+00006b50: 790a 2020 2020 2020 2020 2020 2020 6966  y.            if
+00006b60: 2053 6861 7265 6455 7469 6c2e 6765 7457   SharedUtil.getW
+00006b70: 6561 7468 6572 2829 2069 7320 6e6f 7420  eather() is not 
+00006b80: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00006b90: 2020 2020 2020 636f 6e66 6967 2e73 6176        config.sav
+00006ba0: 6543 6f6e 6669 6728 290a 2020 2020 2020  eConfig().      
+00006bb0: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00006bc0: 7269 6e74 3228 2243 6f6e 6669 6775 7261  rint2("Configura
+00006bd0: 7469 6f6e 7320 7570 6461 7465 6421 2229  tions updated!")
+00006be0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+00006bf0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00006c00: 2020 2063 6f6e 6669 672e 6f70 656e 7765     config.openwe
+00006c10: 6174 6865 726d 6170 4170 6920 3d20 2222  athermapApi = ""
+00006c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006c30: 2073 656c 662e 7072 696e 7432 2822 496e   self.print2("In
+00006c40: 7661 6c69 6420 4150 4920 6b65 7920 656e  valid API key en
+00006c50: 7465 7265 6421 2229 0a0a 2020 2020 6465  tered!")..    de
+00006c60: 6620 6368 616e 6765 456c 6576 656e 6c61  f changeElevenla
+00006c70: 6273 4170 6928 7365 6c66 293a 0a20 2020  bsApi(self):.   
+00006c80: 2020 2020 2069 6620 6e6f 7420 636f 6e66       if not conf
+00006c90: 6967 2e74 6572 6d69 6e61 6c45 6e61 626c  ig.terminalEnabl
+00006ca0: 6554 6572 6d75 7841 5049 206f 7220 2863  eTermuxAPI or (c
+00006cb0: 6f6e 6669 672e 7465 726d 696e 616c 456e  onfig.terminalEn
+00006cc0: 6162 6c65 5465 726d 7578 4150 4920 616e  ableTermuxAPI an
+00006cd0: 6420 7365 6c66 2e66 696e 6765 7270 7269  d self.fingerpri
+00006ce0: 6e74 2829 293a 0a20 2020 2020 2020 2020  nt()):.         
+00006cf0: 2020 2073 656c 662e 7072 696e 7428 2254     self.print("T
+00006d00: 6f20 7365 7420 7570 2045 6c65 7665 6e4c  o set up ElevenL
+00006d10: 6162 7320 4150 4920 4b65 792c 2072 6561  abs API Key, rea
+00006d20: 643a 5c6e 6874 7470 733a 2f2f 656c 6576  d:\nhttps://elev
+00006d30: 656e 6c61 6273 2e69 6f2f 646f 6373 2f61  enlabs.io/docs/a
+00006d40: 7069 2d72 6566 6572 656e 6365 2f74 6578  pi-reference/tex
+00006d50: 742d 746f 2d73 7065 6563 6823 6175 7468  t-to-speech#auth
+00006d60: 656e 7469 6361 7469 6f6e 5c6e 2229 0a20  entication\n"). 
+00006d70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00006d80: 7072 696e 7428 2245 6e74 6572 2079 6f75  print("Enter you
+00006d90: 7220 456c 6576 656e 4c61 6273 2041 5049  r ElevenLabs API
+00006da0: 204b 6579 3a22 290a 2020 2020 2020 2020   Key:").        
+00006db0: 2020 2020 7072 696e 7428 290a 2020 2020      print().    
+00006dc0: 2020 2020 2020 2020 6170 696b 6579 203d          apikey =
+00006dd0: 2073 656c 662e 7072 6f6d 7074 732e 7369   self.prompts.si
+00006de0: 6d70 6c65 5072 6f6d 7074 2873 7479 6c65  mplePrompt(style
+00006df0: 3d73 656c 662e 7072 6f6d 7074 732e 7072  =self.prompts.pr
+00006e00: 6f6d 7074 5374 796c 6532 2c20 6465 6661  omptStyle2, defa
+00006e10: 756c 743d 636f 6e66 6967 2e65 6c65 7665  ult=config.eleve
+00006e20: 6e6c 6162 7341 7069 2c20 6973 5f70 6173  nlabsApi, is_pas
+00006e30: 7377 6f72 643d 5472 7565 290a 2020 2020  sword=True).    
+00006e40: 2020 2020 2020 2020 6966 2061 7069 6b65          if apike
+00006e50: 7920 616e 6420 6e6f 7420 6170 696b 6579  y and not apikey
+00006e60: 2e73 7472 6970 2829 2e6c 6f77 6572 2829  .strip().lower()
+00006e70: 2069 6e20 2863 6f6e 6669 672e 6361 6e63   in (config.canc
+00006e80: 656c 5f65 6e74 7279 2c20 636f 6e66 6967  el_entry, config
+00006e90: 2e65 7869 745f 656e 7472 7929 3a0a 2020  .exit_entry):.  
+00006ea0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00006eb0: 6e66 6967 2e65 6c65 7665 6e6c 6162 7341  nfig.elevenlabsA
+00006ec0: 7069 203d 2061 7069 6b65 790a 2020 2020  pi = apikey.    
+00006ed0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00006ee0: 2020 2020 2020 2020 2020 2020 2023 2074               # t
+00006ef0: 6573 7469 6e67 0a20 2020 2020 2020 2020  esting.         
+00006f00: 2020 2020 2020 2067 656e 6572 6174 6528         generate(
+00006f10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006f20: 2020 2020 2061 7069 5f6b 6579 3d63 6f6e       api_key=con
+00006f30: 6669 672e 656c 6576 656e 6c61 6273 4170  fig.elevenlabsAp
+00006f40: 692c 2023 2044 6566 6175 6c74 7320 746f  i, # Defaults to
+00006f50: 206f 732e 6765 7465 6e76 2845 4c45 5645   os.getenv(ELEVE
+00006f60: 4e5f 4150 495f 4b45 5929 0a20 2020 2020  N_API_KEY).     
+00006f70: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00006f80: 6578 743d 2274 6573 7422 2c0a 2020 2020  ext="test",.    
+00006f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006fa0: 766f 6963 653d 2252 6163 6865 6c22 2c0a  voice="Rachel",.
+00006fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006fc0: 2020 2020 6d6f 6465 6c3d 2265 6c65 7665      model="eleve
+00006fd0: 6e5f 6d75 6c74 696c 696e 6775 616c 5f76  n_multilingual_v
+00006fe0: 3222 0a20 2020 2020 2020 2020 2020 2020  2".             
+00006ff0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+00007000: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
+00007010: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
+00007020: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+00007030: 696e 7432 2822 436f 6e66 6967 7572 6174  int2("Configurat
+00007040: 696f 6e73 2075 7064 6174 6564 2122 290a  ions updated!").
+00007050: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00007060: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
+00007070: 2020 2020 636f 6e66 6967 2e65 6c65 7665      config.eleve
+00007080: 6e6c 6162 7341 7069 203d 2022 220a 2020  nlabsApi = "".  
+00007090: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000070a0: 6c66 2e70 7269 6e74 3228 2249 6e76 616c  lf.print2("Inval
+000070b0: 6964 2041 5049 206b 6579 2065 6e74 6572  id API key enter
+000070c0: 6564 2122 290a 0a20 2020 2064 6566 2065  ed!")..    def e
+000070d0: 7869 7441 6374 696f 6e28 7365 6c66 293a  xitAction(self):
+000070e0: 0a20 2020 2020 2020 206d 6573 7361 6765  .        message
+000070f0: 203d 2022 636c 6f73 696e 6720 2e2e 2e22   = "closing ..."
+00007100: 0a20 2020 2020 2020 2073 656c 662e 7072  .        self.pr
+00007110: 696e 7432 286d 6573 7361 6765 290a 2020  int2(message).  
+00007120: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00007130: 2873 656c 662e 6469 7669 6465 7229 0a20  (self.divider). 
+00007140: 2020 2020 2020 2072 6574 7572 6e20 2222         return ""
+00007150: 0a0a 2020 2020 6465 6620 7072 696e 7428  ..    def print(
+00007160: 7365 6c66 2c20 636f 6e74 656e 7429 3a0a  self, content):.
+00007170: 2020 2020 2020 2020 636f 6e74 656e 7420          content 
+00007180: 3d20 5368 6172 6564 5574 696c 2e74 7261  = SharedUtil.tra
+00007190: 6e73 666f 726d 5465 7874 2863 6f6e 7465  nsformText(conte
+000071a0: 6e74 290a 2020 2020 2020 2020 6966 2063  nt).        if c
+000071b0: 6f6e 6669 672e 7772 6170 576f 7264 733a  onfig.wrapWords:
+000071c0: 0a20 2020 2020 2020 2020 2020 2023 2077  .            # w
+000071d0: 7261 7020 776f 7264 7320 746f 2066 6974  rap words to fit
+000071e0: 2074 6572 6d69 6e61 6c20 7769 6474 680a   terminal width.
+000071f0: 2020 2020 2020 2020 2020 2020 7465 726d              term
+00007200: 696e 616c 5f77 6964 7468 203d 2073 6875  inal_width = shu
+00007210: 7469 6c2e 6765 745f 7465 726d 696e 616c  til.get_terminal
+00007220: 5f73 697a 6528 292e 636f 6c75 6d6e 730a  _size().columns.
+00007230: 2020 2020 2020 2020 2020 2020 7072 696e              prin
+00007240: 7428 5374 7265 616d 696e 6757 6f72 6457  t(StreamingWordW
+00007250: 7261 7070 6572 2e77 7261 7054 6578 7428  rapper.wrapText(
+00007260: 636f 6e74 656e 742c 2074 6572 6d69 6e61  content, termina
+00007270: 6c5f 7769 6474 6829 290a 2020 2020 2020  l_width)).      
+00007280: 2020 2020 2020 2320 7265 6d61 726b 733a        # remarks:
+00007290: 2027 666f 6c64 2720 6f72 2027 666d 7427   'fold' or 'fmt'
+000072a0: 2064 6f65 7320 6e6f 7420 776f 726b 206f   does not work o
+000072b0: 6e20 5769 6e64 6f77 730a 2020 2020 2020  n Windows.      
+000072c0: 2020 2020 2020 2320 7079 646f 632e 7069        # pydoc.pi
+000072d0: 7065 7061 6765 7228 6622 7b63 6f6e 7465  pepager(f"{conte
+000072e0: 6e74 7d5c 6e22 2c20 636d 643d 6622 666f  nt}\n", cmd=f"fo
+000072f0: 6c64 202d 7320 2d77 207b 7465 726d 696e  ld -s -w {termin
+00007300: 616c 5f77 6964 7468 7d22 290a 2020 2020  al_width}").    
+00007310: 2020 2020 2020 2020 2320 7079 646f 632e          # pydoc.
+00007320: 7069 7065 7061 6765 7228 6622 7b63 6f6e  pipepager(f"{con
+00007330: 7465 6e74 7d5c 6e22 2c20 636d 643d 6622  tent}\n", cmd=f"
+00007340: 666d 7420 2d77 207b 7465 726d 696e 616c  fmt -w {terminal
+00007350: 5f77 6964 7468 7d22 290a 2020 2020 2020  _width}").      
+00007360: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00007370: 2020 2020 7072 696e 7428 636f 6e74 656e      print(conten
+00007380: 7429 0a0a 2020 2020 6465 6620 7072 696e  t)..    def prin
+00007390: 7432 2873 656c 662c 2063 6f6e 7465 6e74  t2(self, content
+000073a0: 293a 0a20 2020 2020 2020 2070 7269 6e74  ):.        print
+000073b0: 5f66 6f72 6d61 7474 6564 5f74 6578 7428  _formatted_text(
+000073c0: 4854 4d4c 2866 223c 7b63 6f6e 6669 672e  HTML(f"<{config.
+000073d0: 7465 726d 696e 616c 5072 6f6d 7074 496e  terminalPromptIn
+000073e0: 6469 6361 746f 7243 6f6c 6f72 327d 3e7b  dicatorColor2}>{
+000073f0: 636f 6e74 656e 747d 3c2f 7b63 6f6e 6669  content}</{confi
+00007400: 672e 7465 726d 696e 616c 5072 6f6d 7074  g.terminalPrompt
+00007410: 496e 6469 6361 746f 7243 6f6c 6f72 327d  IndicatorColor2}
+00007420: 3e22 2929 0a0a 2020 2020 6465 6620 7072  >"))..    def pr
+00007430: 696e 7433 2873 656c 662c 2063 6f6e 7465  int3(self, conte
+00007440: 6e74 293a 0a20 2020 2020 2020 2073 706c  nt):.        spl
+00007450: 6974 7465 6443 6f6e 7465 6e74 203d 2063  ittedContent = c
+00007460: 6f6e 7465 6e74 2e73 706c 6974 2822 3a20  ontent.split(": 
+00007470: 222c 2031 290a 2020 2020 2020 2020 6966  ", 1).        if
+00007480: 206c 656e 2873 706c 6974 7465 6443 6f6e   len(splittedCon
+00007490: 7465 6e74 2920 3d3d 2032 3a0a 2020 2020  tent) == 2:.    
+000074a0: 2020 2020 2020 2020 6b65 792c 2076 616c          key, val
+000074b0: 7565 203d 2073 706c 6974 7465 6443 6f6e  ue = splittedCon
+000074c0: 7465 6e74 0a20 2020 2020 2020 2020 2020  tent.           
+000074d0: 2070 7269 6e74 5f66 6f72 6d61 7474 6564   print_formatted
+000074e0: 5f74 6578 7428 4854 4d4c 2866 223c 7b63  _text(HTML(f"<{c
+000074f0: 6f6e 6669 672e 7465 726d 696e 616c 5072  onfig.terminalPr
+00007500: 6f6d 7074 496e 6469 6361 746f 7243 6f6c  omptIndicatorCol
+00007510: 6f72 327d 3e7b 6b65 797d 3a3c 2f7b 636f  or2}>{key}:</{co
+00007520: 6e66 6967 2e74 6572 6d69 6e61 6c50 726f  nfig.terminalPro
+00007530: 6d70 7449 6e64 6963 6174 6f72 436f 6c6f  mptIndicatorColo
+00007540: 7232 7d3e 207b 7661 6c75 657d 2229 290a  r2}> {value}")).
+00007550: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00007560: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00007570: 7269 6e74 3228 7370 6c69 7474 6564 436f  rint2(splittedCo
+00007580: 6e74 656e 7429 0a0a 2020 2020 6465 6620  ntent)..    def 
+00007590: 7370 696e 6e69 6e67 5f61 6e69 6d61 7469  spinning_animati
+000075a0: 6f6e 2873 656c 662c 2073 746f 705f 6576  on(self, stop_ev
+000075b0: 656e 7429 3a0a 2020 2020 2020 2020 7768  ent):.        wh
+000075c0: 696c 6520 6e6f 7420 7374 6f70 5f65 7665  ile not stop_eve
+000075d0: 6e74 2e69 735f 7365 7428 293a 0a20 2020  nt.is_set():.   
+000075e0: 2020 2020 2020 2020 2066 6f72 2073 796d           for sym
+000075f0: 626f 6c20 696e 2022 7c2f 2d5c 5c22 3a0a  bol in "|/-\\":.
+00007600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007610: 7072 696e 7428 7379 6d62 6f6c 2c20 656e  print(symbol, en
+00007620: 643d 225c 7222 290a 2020 2020 2020 2020  d="\r").        
+00007630: 2020 2020 2020 2020 7469 6d65 2e73 6c65          time.sle
+00007640: 6570 2830 2e31 290a 2020 2020 2020 2020  ep(0.1).        
+00007650: 2370 7269 6e74 2822 5c72 222c 2065 6e64  #print("\r", end
+00007660: 3d22 2229 0a20 2020 2020 2020 2023 7072  ="").        #pr
+00007670: 696e 7428 2220 222c 2065 6e64 3d22 2229  int(" ", end="")
+00007680: 0a0a 2320 2020 2064 6566 2067 6574 4368  ..#    def getCh
+00007690: 6174 5265 7370 6f6e 7365 2873 656c 662c  atResponse(self,
+000076a0: 2063 6f6d 706c 6574 696f 6e29 3a0a 2320   completion):.# 
+000076b0: 2020 2020 2020 2063 6861 745f 7265 7370         chat_resp
+000076c0: 6f6e 7365 203d 2063 6f6d 706c 6574 696f  onse = completio
+000076d0: 6e5b 2263 686f 6963 6573 225d 5b30 5d5b  n["choices"][0][
+000076e0: 226d 6573 7361 6765 225d 5b22 636f 6e74  "message"]["cont
+000076f0: 656e 7422 5d0a 2320 2020 2020 2020 2023  ent"].#        #
+00007700: 2074 7261 6e73 666f 726d 2072 6573 706f   transform respo
+00007710: 6e73 6520 7769 7468 2070 6c75 6769 6e73  nse with plugins
+00007720: 0a23 2020 2020 2020 2020 6966 2063 6861  .#        if cha
+00007730: 745f 7265 7370 6f6e 7365 3a0a 2320 2020  t_response:.#   
+00007740: 2020 2020 2020 2020 2066 6f72 2074 2069           for t i
+00007750: 6e20 636f 6e66 6967 2e6f 7574 7075 7454  n config.outputT
+00007760: 7261 6e73 666f 726d 6572 733a 0a23 2020  ransformers:.#  
+00007770: 2020 2020 2020 2020 2020 2020 2020 6368                ch
+00007780: 6174 5f72 6573 706f 6e73 6520 3d20 7428  at_response = t(
+00007790: 6368 6174 5f72 6573 706f 6e73 6529 0a23  chat_response).#
+000077a0: 2020 2020 2020 2020 7265 7475 726e 2063          return c
+000077b0: 6861 745f 7265 7370 6f6e 7365 0a0a 2020  hat_response..  
+000077c0: 2020 6465 6620 636f 6e66 6972 6d45 7865    def confirmExe
+000077d0: 6375 7469 6f6e 2873 656c 662c 2072 6973  cution(self, ris
+000077e0: 6b29 3a0a 2020 2020 2020 2020 6966 2063  k):.        if c
+000077f0: 6f6e 6669 672e 636f 6e66 6972 6d45 7865  onfig.confirmExe
+00007800: 6375 7469 6f6e 203d 3d20 2261 6c77 6179  cution == "alway
+00007810: 7322 206f 7220 2872 6973 6b20 3d3d 2022  s" or (risk == "
+00007820: 6869 6768 2220 616e 6420 636f 6e66 6967  high" and config
+00007830: 2e63 6f6e 6669 726d 4578 6563 7574 696f  .confirmExecutio
+00007840: 6e20 3d3d 2022 6869 6768 5f72 6973 6b5f  n == "high_risk_
+00007850: 6f6e 6c79 2229 206f 7220 286e 6f74 2072  only") or (not r
+00007860: 6973 6b20 3d3d 2022 6c6f 7722 2061 6e64  isk == "low" and
+00007870: 2063 6f6e 6669 672e 636f 6e66 6972 6d45   config.confirmE
+00007880: 7865 6375 7469 6f6e 203d 3d20 226d 6564  xecution == "med
+00007890: 6975 6d5f 7269 736b 5f6f 725f 6162 6f76  ium_risk_or_abov
+000078a0: 6522 293a 0a20 2020 2020 2020 2020 2020  e"):.           
+000078b0: 2072 6574 7572 6e20 5472 7565 0a20 2020   return True.   
+000078c0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+000078d0: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
+000078e0: 6c73 650a 0a20 2020 2064 6566 2073 686f  lse..    def sho
+000078f0: 7752 6973 6b28 7365 6c66 2c20 7269 736b  wRisk(self, risk
+00007900: 293a 0a20 2020 2020 2020 2069 6620 6e6f  ):.        if no
+00007910: 7420 636f 6e66 6967 2e63 6f6e 6669 726d  t config.confirm
+00007920: 4578 6563 7574 696f 6e20 696e 2028 2261  Execution in ("a
+00007930: 6c77 6179 7322 2c20 226d 6564 6975 6d5f  lways", "medium_
+00007940: 7269 736b 5f6f 725f 6162 6f76 6522 2c20  risk_or_above", 
+00007950: 2268 6967 685f 7269 736b 5f6f 6e6c 7922  "high_risk_only"
+00007960: 2c20 226e 6f6e 6522 293a 0a20 2020 2020  , "none"):.     
+00007970: 2020 2020 2020 2063 6f6e 6669 672e 636f         config.co
+00007980: 6e66 6972 6d45 7865 6375 7469 6f6e 203d  nfirmExecution =
+00007990: 2022 616c 7761 7973 220a 2020 2020 2020   "always".      
+000079a0: 2020 7365 6c66 2e70 7269 6e74 2866 225b    self.print(f"[
+000079b0: 7269 736b 206c 6576 656c 3a20 7b72 6973  risk level: {ris
+000079c0: 6b7d 5d22 290a 0a20 2020 2064 6566 2073  k}]")..    def s
+000079d0: 6574 7570 5465 726d 7578 4578 6563 7574  etupTermuxExecut
+000079e0: 696f 6e28 7365 6c66 293a 0a20 2020 2020  ion(self):.     
+000079f0: 2020 2064 6566 2065 7865 6375 7465 5f74     def execute_t
+00007a00: 6572 6d75 785f 636f 6d6d 616e 6428 6675  ermux_command(fu
+00007a10: 6e63 7469 6f6e 5f61 7267 7329 3a0a 2020  nction_args):.  
+00007a20: 2020 2020 2020 2020 2020 2320 7265 7472            # retr
+00007a30: 6965 7665 2061 7267 756d 656e 7420 7661  ieve argument va
+00007a40: 6c75 6573 2066 726f 6d20 6120 6469 6374  lues from a dict
+00007a50: 696f 6e61 7279 0a20 2020 2020 2020 2020  ionary.         
+00007a60: 2020 2072 6973 6b20 3d20 6675 6e63 7469     risk = functi
+00007a70: 6f6e 5f61 7267 732e 6765 7428 2272 6973  on_args.get("ris
+00007a80: 6b22 2920 2320 7265 7175 6972 6564 0a20  k") # required. 
+00007a90: 2020 2020 2020 2020 2020 2074 6974 6c65             title
+00007aa0: 203d 2066 756e 6374 696f 6e5f 6172 6773   = function_args
+00007ab0: 2e67 6574 2822 7469 746c 6522 2920 2320  .get("title") # 
+00007ac0: 7265 7175 6972 6564 0a20 2020 2020 2020  required.       
+00007ad0: 2020 2020 2023 7368 6172 6564 5465 7874       #sharedText
+00007ae0: 203d 2066 756e 6374 696f 6e5f 6172 6773   = function_args
+00007af0: 2e67 6574 2822 6d65 7373 6167 6522 2c20  .get("message", 
+00007b00: 2222 2920 2320 6f70 7469 6f6e 616c 0a20  "") # optional. 
+00007b10: 2020 2020 2020 2020 2020 2066 756e 6374             funct
+00007b20: 696f 6e5f 6172 6773 203d 2074 6578 7477  ion_args = textw
+00007b30: 7261 702e 6465 6465 6e74 2866 756e 6374  rap.dedent(funct
+00007b40: 696f 6e5f 6172 6773 2e67 6574 2822 636f  ion_args.get("co
+00007b50: 6465 2229 292e 7374 7269 7028 2920 2320  de")).strip() # 
+00007b60: 7265 7175 6972 6564 0a20 2020 2020 2020  required.       
+00007b70: 2020 2020 2073 6861 7265 6454 6578 7420       sharedText 
+00007b80: 3d20 7265 2e73 7562 2822 5e74 6572 6d75  = re.sub("^termu
+00007b90: 782d 7368 6172 6520 2e2a 3f27 285b 5e27  x-share .*?'([^'
+00007ba0: 5d2b 3f29 2724 222c 2072 225c 3122 2c20  ]+?)'$", r"\1", 
+00007bb0: 6675 6e63 7469 6f6e 5f61 7267 7329 0a20  function_args). 
+00007bc0: 2020 2020 2020 2020 2020 2073 6861 7265             share
+00007bd0: 6454 6578 7420 3d20 7265 2e73 7562 2827  dText = re.sub('
+00007be0: 5e74 6572 6d75 782d 7368 6172 6520 2e2a  ^termux-share .*
+00007bf0: 3f22 285b 5e22 5d2b 3f29 2224 272c 2072  ?"([^"]+?)"$', r
+00007c00: 225c 3122 2c20 7368 6172 6564 5465 7874  "\1", sharedText
+00007c10: 290a 2020 2020 2020 2020 2020 2020 7368  ).            sh
+00007c20: 6172 6564 5465 7874 203d 2072 652e 7375  aredText = re.su
+00007c30: 6228 2222 225e 5b5c 645c 445d 2a3f 7375  b("""^[\d\D]*?su
+00007c40: 6270 726f 6365 7373 2e72 756e 5c28 5c5b  bprocess.run\(\[
+00007c50: 2774 6572 6d75 782d 7368 6172 6527 5b5e  'termux-share'[^
+00007c60: 5c5b 5c5d 5d2a 3f27 285b 5e27 5d2b 3f29  \[\]]*?'([^']+?)
+00007c70: 275c 5d5c 295b 5c64 5c44 5d2a 3f24 2222  '\]\)[\d\D]*?$""
+00007c80: 222c 2072 225c 3122 2c20 7368 6172 6564  ", r"\1", shared
+00007c90: 5465 7874 290a 2020 2020 2020 2020 2020  Text).          
+00007ca0: 2020 7368 6172 6564 5465 7874 203d 2072    sharedText = r
+00007cb0: 652e 7375 6228 2727 275e 5b5c 645c 445d  e.sub('''^[\d\D]
+00007cc0: 2a3f 7375 6270 726f 6365 7373 2e72 756e  *?subprocess.run
+00007cd0: 5c28 5c5b 2274 6572 6d75 782d 7368 6172  \(\["termux-shar
+00007ce0: 6522 5b5e 5c5b 5c5d 5d2a 3f22 285b 5e27  e"[^\[\]]*?"([^'
+00007cf0: 5d2b 3f29 225c 5d5c 295b 5c64 5c44 5d2a  ]+?)"\]\)[\d\D]*
+00007d00: 3f24 2727 272c 2072 225c 3122 2c20 7368  ?$''', r"\1", sh
+00007d10: 6172 6564 5465 7874 290a 2020 2020 2020  aredText).      
+00007d20: 2020 2020 2020 6675 6e63 7469 6f6e 5f61        function_a
+00007d30: 7267 7320 3d20 6675 6e63 7469 6f6e 5f61  rgs = function_a
+00007d40: 7267 7320 6966 2073 6861 7265 6454 6578  rgs if sharedTex
+00007d50: 7420 3d3d 2066 756e 6374 696f 6e5f 6172  t == function_ar
+00007d60: 6773 2065 6c73 6520 6627 2727 7465 726d  gs else f'''term
+00007d70: 7578 2d73 6861 7265 202d 6120 7365 6e64  ux-share -a send
+00007d80: 2022 7b73 6861 7265 6454 6578 747d 2227   "{sharedText}"'
+00007d90: 2727 0a0a 2020 2020 2020 2020 2020 2020  ''..            
+00007da0: 2320 7368 6f77 2054 6572 6d75 7820 636f  # show Termux co
+00007db0: 6d6d 616e 6420 666f 7220 6465 7665 6c6f  mmand for develo
+00007dc0: 7065 720a 2020 2020 2020 2020 2020 2020  per.            
+00007dd0: 7365 6c66 2e70 7269 6e74 2873 656c 662e  self.print(self.
+00007de0: 6469 7669 6465 7229 0a20 2020 2020 2020  divider).       
+00007df0: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00007e00: 6622 5465 726d 7578 3a20 7b74 6974 6c65  f"Termux: {title
+00007e10: 7d22 290a 2020 2020 2020 2020 2020 2020  }").            
+00007e20: 7365 6c66 2e73 686f 7752 6973 6b28 7269  self.showRisk(ri
+00007e30: 736b 290a 2020 2020 2020 2020 2020 2020  sk).            
+00007e40: 6966 2063 6f6e 6669 672e 6465 7665 6c6f  if config.develo
+00007e50: 7065 7220 6f72 2063 6f6e 6669 672e 636f  per or config.co
+00007e60: 6465 4469 7370 6c61 793a 0a20 2020 2020  deDisplay:.     
+00007e70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00007e80: 7072 696e 7428 2260 6060 2229 0a20 2020  print("```").   
+00007e90: 2020 2020 2020 2020 2020 2020 2023 7072               #pr
+00007ea0: 696e 7428 6675 6e63 7469 6f6e 5f61 7267  int(function_arg
+00007eb0: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
+00007ec0: 2020 2074 6f6b 656e 7320 3d20 6c69 7374     tokens = list
+00007ed0: 2870 7967 6d65 6e74 732e 6c65 7828 6675  (pygments.lex(fu
+00007ee0: 6e63 7469 6f6e 5f61 7267 732c 206c 6578  nction_args, lex
+00007ef0: 6572 3d42 6173 684c 6578 6572 2829 2929  er=BashLexer()))
+00007f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007f10: 2070 7269 6e74 5f66 6f72 6d61 7474 6564   print_formatted
+00007f20: 5f74 6578 7428 5079 676d 656e 7473 546f  _text(PygmentsTo
+00007f30: 6b65 6e73 2874 6f6b 656e 7329 2c20 7374  kens(tokens), st
+00007f40: 796c 653d 5368 6172 6564 5574 696c 2e67  yle=SharedUtil.g
+00007f50: 6574 5079 676d 656e 7473 5374 796c 6528  etPygmentsStyle(
+00007f60: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+00007f70: 2020 2073 656c 662e 7072 696e 7428 2260     self.print("`
+00007f80: 6060 2229 0a20 2020 2020 2020 2020 2020  ``").           
+00007f90: 2073 656c 662e 7072 696e 7428 7365 6c66   self.print(self
+00007fa0: 2e64 6976 6964 6572 290a 0a20 2020 2020  .divider)..     
+00007fb0: 2020 2020 2020 2073 656c 662e 7374 6f70         self.stop
+00007fc0: 5370 696e 6e69 6e67 2829 0a20 2020 2020  Spinning().     
+00007fd0: 2020 2020 2020 2069 6620 7365 6c66 2e63         if self.c
+00007fe0: 6f6e 6669 726d 4578 6563 7574 696f 6e28  onfirmExecution(
+00007ff0: 7269 736b 293a 0a20 2020 2020 2020 2020  risk):.         
+00008000: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00008010: 7428 2244 6f20 796f 7520 7761 6e74 2074  t("Do you want t
+00008020: 6f20 6578 6563 7574 6520 6974 3f20 5b79  o execute it? [y
+00008030: 5d65 7320 2f20 5b4e 5d6f 2229 0a20 2020  ]es / [N]o").   
+00008040: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00008050: 6669 726d 6174 696f 6e20 3d20 7365 6c66  firmation = self
+00008060: 2e70 726f 6d70 7473 2e73 696d 706c 6550  .prompts.simpleP
+00008070: 726f 6d70 7428 7374 796c 653d 7365 6c66  rompt(style=self
+00008080: 2e70 726f 6d70 7473 2e70 726f 6d70 7453  .prompts.promptS
+00008090: 7479 6c65 322c 2064 6566 6175 6c74 3d22  tyle2, default="
+000080a0: 7922 290a 2020 2020 2020 2020 2020 2020  y").            
+000080b0: 2020 2020 6966 206e 6f74 2063 6f6e 6669      if not confi
+000080c0: 726d 6174 696f 6e2e 6c6f 7765 7228 2920  rmation.lower() 
+000080d0: 696e 2028 2279 222c 2022 7965 7322 293a  in ("y", "yes"):
+000080e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000080f0: 2020 2020 2072 6574 7572 6e20 225b 494e       return "[IN
+00008100: 5641 4c49 445d 220a 0a20 2020 2020 2020  VALID]"..       
+00008110: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+00008120: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
+00008130: 2073 6861 7265 6454 6578 7420 3d3d 2066   sharedText == f
+00008140: 756e 6374 696f 6e5f 6172 6773 3a0a 2020  unction_args:.  
+00008150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008160: 2020 7079 646f 632e 7069 7065 7061 6765    pydoc.pipepage
+00008170: 7228 7368 6172 6564 5465 7874 2c20 636d  r(sharedText, cm
+00008180: 643d 2274 6572 6d75 782d 7368 6172 6520  d="termux-share 
+00008190: 2d61 2073 656e 6422 290a 2020 2020 2020  -a send").      
+000081a0: 2020 2020 2020 2020 2020 2020 2020 6675                fu
+000081b0: 6e63 7469 6f6e 5f72 6573 706f 6e73 6520  nction_response 
+000081c0: 3d20 2244 6f6e 6521 220a 2020 2020 2020  = "Done!".      
+000081d0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+000081e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000081f0: 2020 2020 2320 6469 7370 6c61 7920 626f      # display bo
+00008200: 7468 206f 7574 7075 7420 616e 6420 6572  th output and er
+00008210: 726f 720a 2020 2020 2020 2020 2020 2020  ror.            
+00008220: 2020 2020 2020 2020 6675 6e63 7469 6f6e          function
+00008230: 5f72 6573 706f 6e73 6520 3d20 5368 6172  _response = Shar
+00008240: 6564 5574 696c 2e72 756e 5379 7374 656d  edUtil.runSystem
+00008250: 436f 6d6d 616e 6428 6675 6e63 7469 6f6e  Command(function
+00008260: 5f61 7267 7329 0a20 2020 2020 2020 2020  _args).         
+00008270: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00008280: 7428 6675 6e63 7469 6f6e 5f72 6573 706f  t(function_respo
+00008290: 6e73 6529 0a20 2020 2020 2020 2020 2020  nse).           
+000082a0: 2065 7863 6570 743a 0a20 2020 2020 2020   except:.       
+000082b0: 2020 2020 2020 2020 2053 6861 7265 6455           SharedU
+000082c0: 7469 6c2e 7368 6f77 4572 726f 7273 2829  til.showErrors()
+000082d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000082e0: 2073 656c 662e 7072 696e 7428 7365 6c66   self.print(self
+000082f0: 2e64 6976 6964 6572 290a 2020 2020 2020  .divider).      
+00008300: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00008310: 2022 5b49 4e56 414c 4944 5d22 0a20 2020   "[INVALID]".   
+00008320: 2020 2020 2020 2020 2069 6e66 6f20 3d20           info = 
+00008330: 7b22 696e 666f 726d 6174 696f 6e22 3a20  {"information": 
+00008340: 6675 6e63 7469 6f6e 5f72 6573 706f 6e73  function_respons
+00008350: 657d 0a20 2020 2020 2020 2020 2020 2066  e}.            f
+00008360: 756e 6374 696f 6e5f 7265 7370 6f6e 7365  unction_response
+00008370: 203d 206a 736f 6e2e 6475 6d70 7328 696e   = json.dumps(in
+00008380: 666f 290a 2020 2020 2020 2020 2020 2020  fo).            
+00008390: 7265 7475 726e 206a 736f 6e2e 6475 6d70  return json.dump
+000083a0: 7328 696e 666f 290a 0a20 2020 2020 2020  s(info)..       
+000083b0: 2066 756e 6374 696f 6e53 6967 6e61 7475   functionSignatu
+000083c0: 7265 203d 207b 0a20 2020 2020 2020 2020  re = {.         
+000083d0: 2020 2022 6e61 6d65 223a 2022 6578 6563     "name": "exec
+000083e0: 7574 655f 7465 726d 7578 5f63 6f6d 6d61  ute_termux_comma
+000083f0: 6e64 222c 0a20 2020 2020 2020 2020 2020  nd",.           
+00008400: 2022 6465 7363 7269 7074 696f 6e22 3a20   "description": 
+00008410: 2245 7865 6375 7465 2054 6572 6d75 7820  "Execute Termux 
+00008420: 636f 6d6d 616e 6420 6f6e 2041 6e64 726f  command on Andro
+00008430: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+00008440: 2022 7061 7261 6d65 7465 7273 223a 207b   "parameters": {
+00008450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008460: 2022 7479 7065 223a 2022 6f62 6a65 6374   "type": "object
+00008470: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00008480: 2020 2022 7072 6f70 6572 7469 6573 223a     "properties":
+00008490: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+000084a0: 2020 2020 2020 2022 636f 6465 223a 207b         "code": {
+000084b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000084c0: 2020 2020 2020 2020 2022 7479 7065 223a           "type":
+000084d0: 2022 7374 7269 6e67 222c 0a20 2020 2020   "string",.     
+000084e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000084f0: 2020 2022 6465 7363 7269 7074 696f 6e22     "description"
+00008500: 3a20 2254 6572 6d75 7820 636f 6d6d 616e  : "Termux comman
+00008510: 642c 2065 2e67 2e20 616d 2073 7461 7274  d, e.g. am start
+00008520: 202d 6e20 636f 6d2e 616e 6472 6f69 642e   -n com.android.
+00008530: 6368 726f 6d65 2f63 6f6d 2e67 6f6f 676c  chrome/com.googl
+00008540: 652e 616e 6472 6f69 642e 6170 7073 2e63  e.android.apps.c
+00008550: 6872 6f6d 652e 4d61 696e 222c 0a20 2020  hrome.Main",.   
+00008560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008570: 207d 2c0a 2020 2020 2020 2020 2020 2020   },.            
+00008580: 2020 2020 2020 2020 2274 6974 6c65 223a          "title":
+00008590: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+000085a0: 2020 2020 2020 2020 2020 2022 7479 7065             "type
+000085b0: 223a 2022 7374 7269 6e67 222c 0a20 2020  ": "string",.   
+000085c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000085d0: 2020 2020 2022 6465 7363 7269 7074 696f       "descriptio
+000085e0: 6e22 3a20 2274 6974 6c65 2066 6f72 2074  n": "title for t
+000085f0: 6865 2074 6572 6d75 7820 636f 6d6d 616e  he termux comman
+00008600: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
+00008610: 2020 2020 2020 2020 7d2c 0a20 2020 2020          },.     
+00008620: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00008630: 7269 736b 223a 207b 0a20 2020 2020 2020  risk": {.       
+00008640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008650: 2022 7479 7065 223a 2022 7374 7269 6e67   "type": "string
+00008660: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00008670: 2020 2020 2020 2020 2020 2022 6465 7363             "desc
+00008680: 7269 7074 696f 6e22 3a20 2241 7373 6573  ription": "Asses
+00008690: 7320 7468 6520 7269 736b 206c 6576 656c  s the risk level
+000086a0: 206f 6620 6461 6d61 6769 6e67 206d 7920   of damaging my 
+000086b0: 6465 7669 6365 2075 706f 6e20 6578 6563  device upon exec
+000086c0: 7574 696e 6720 7468 6520 7461 736b 2e20  uting the task. 
+000086d0: 652e 672e 2066 696c 6520 6465 6c65 7469  e.g. file deleti
+000086e0: 6f6e 7320 6f72 2073 696d 696c 6172 2073  ons or similar s
+000086f0: 6967 6e69 6669 6361 6e74 2069 6d70 6163  ignificant impac
+00008700: 7473 2061 7265 2072 6567 6172 6465 6420  ts are regarded 
+00008710: 6173 2027 6869 6768 2720 6c65 7665 6c2e  as 'high' level.
+00008720: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00008730: 2020 2020 2020 2020 2020 2022 656e 756d             "enum
+00008740: 223a 205b 2268 6967 6822 2c20 226d 6564  ": ["high", "med
+00008750: 6975 6d22 2c20 226c 6f77 225d 2c0a 2020  ium", "low"],.  
+00008760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008770: 2020 7d2c 0a20 2020 2020 2020 2020 2020    },.           
+00008780: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
+00008790: 2020 2020 2020 2020 2272 6571 7569 7265          "require
+000087a0: 6422 3a20 5b22 636f 6465 222c 2022 7469  d": ["code", "ti
+000087b0: 746c 6522 2c20 2272 6973 6b22 5d2c 0a20  tle", "risk"],. 
+000087c0: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
+000087d0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+000087e0: 2073 656c 662e 6164 6446 756e 6374 696f   self.addFunctio
+000087f0: 6e43 616c 6c28 6e61 6d65 3d22 6578 6563  nCall(name="exec
+00008800: 7574 655f 7465 726d 7578 5f63 6f6d 6d61  ute_termux_comma
+00008810: 6e64 222c 2073 6967 6e61 7475 7265 3d66  nd", signature=f
+00008820: 756e 6374 696f 6e53 6967 6e61 7475 7265  unctionSignature
+00008830: 2c20 6d65 7468 6f64 3d65 7865 6375 7465  , method=execute
+00008840: 5f74 6572 6d75 785f 636f 6d6d 616e 6429  _termux_command)
+00008850: 0a0a 2020 2020 6465 6620 7365 7475 7050  ..    def setupP
+00008860: 7974 686f 6e45 7865 6375 7469 6f6e 2873  ythonExecution(s
+00008870: 656c 6629 3a0a 2020 2020 2020 2020 6465  elf):.        de
+00008880: 6620 6578 6563 7574 655f 7079 7468 6f6e  f execute_python
+00008890: 5f63 6f64 6528 6675 6e63 7469 6f6e 5f61  _code(function_a
+000088a0: 7267 7329 3a0a 2020 2020 2020 2020 2020  rgs):.          
+000088b0: 2020 2320 7265 7472 6965 7665 2061 7267    # retrieve arg
+000088c0: 756d 656e 7420 7661 6c75 6573 2066 726f  ument values fro
+000088d0: 6d20 6120 6469 6374 696f 6e61 7279 0a20  m a dictionary. 
+000088e0: 2020 2020 2020 2020 2020 2072 6973 6b20             risk 
+000088f0: 3d20 6675 6e63 7469 6f6e 5f61 7267 732e  = function_args.
+00008900: 6765 7428 2272 6973 6b22 2920 2320 7265  get("risk") # re
+00008910: 7175 6972 6564 0a20 2020 2020 2020 2020  quired.         
+00008920: 2020 2074 6974 6c65 203d 2066 756e 6374     title = funct
+00008930: 696f 6e5f 6172 6773 2e67 6574 2822 7469  ion_args.get("ti
+00008940: 746c 6522 2920 2320 7265 7175 6972 6564  tle") # required
+00008950: 0a20 2020 2020 2020 2020 2020 2070 7974  .            pyt
+00008960: 686f 6e5f 636f 6465 203d 2066 756e 6374  hon_code = funct
+00008970: 696f 6e5f 6172 6773 2e67 6574 2822 636f  ion_args.get("co
+00008980: 6465 2229 2023 2072 6571 7569 7265 640a  de") # required.
+00008990: 2020 2020 2020 2020 2020 2020 7265 6669              refi
+000089a0: 6e65 6443 6f64 6520 3d20 5368 6172 6564  nedCode = Shared
+000089b0: 5574 696c 2e66 696e 6554 756e 6550 7974  Util.fineTunePyt
+000089c0: 686f 6e43 6f64 6528 7079 7468 6f6e 5f63  honCode(python_c
+000089d0: 6f64 6529 0a0a 2020 2020 2020 2020 2020  ode)..          
+000089e0: 2020 2320 7368 6f77 2070 7974 6f6e 2063    # show pyton c
+000089f0: 6f64 6520 666f 7220 6465 7665 6c6f 7065  ode for develope
+00008a00: 720a 2020 2020 2020 2020 2020 2020 7365  r.            se
+00008a10: 6c66 2e70 7269 6e74 2873 656c 662e 6469  lf.print(self.di
+00008a20: 7669 6465 7229 0a20 2020 2020 2020 2020  vider).         
+00008a30: 2020 2073 656c 662e 7072 696e 7428 6622     self.print(f"
+00008a40: 5079 7468 6f6e 3a20 7b74 6974 6c65 7d22  Python: {title}"
+00008a50: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+00008a60: 6c66 2e73 686f 7752 6973 6b28 7269 736b  lf.showRisk(risk
+00008a70: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
+00008a80: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+00008a90: 7220 6f72 2063 6f6e 6669 672e 636f 6465  r or config.code
+00008aa0: 4469 7370 6c61 793a 0a20 2020 2020 2020  Display:.       
+00008ab0: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+00008ac0: 696e 7428 2260 6060 2229 0a20 2020 2020  int("```").     
+00008ad0: 2020 2020 2020 2020 2020 2023 7072 696e             #prin
+00008ae0: 7428 7079 7468 6f6e 5f63 6f64 6529 0a20  t(python_code). 
+00008af0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00008b00: 2070 7967 6d65 6e74 7320 7079 7468 6f6e   pygments python
+00008b10: 2073 7479 6c65 0a20 2020 2020 2020 2020   style.         
+00008b20: 2020 2020 2020 2074 6f6b 656e 7320 3d20         tokens = 
+00008b30: 6c69 7374 2870 7967 6d65 6e74 732e 6c65  list(pygments.le
+00008b40: 7828 7079 7468 6f6e 5f63 6f64 652c 206c  x(python_code, l
+00008b50: 6578 6572 3d50 7974 686f 6e4c 6578 6572  exer=PythonLexer
+00008b60: 2829 2929 0a20 2020 2020 2020 2020 2020  ())).           
+00008b70: 2020 2020 2070 7269 6e74 5f66 6f72 6d61       print_forma
+00008b80: 7474 6564 5f74 6578 7428 5079 676d 656e  tted_text(Pygmen
+00008b90: 7473 546f 6b65 6e73 2874 6f6b 656e 7329  tsTokens(tokens)
+00008ba0: 2c20 7374 796c 653d 5368 6172 6564 5574  , style=SharedUt
+00008bb0: 696c 2e67 6574 5079 676d 656e 7473 5374  il.getPygmentsSt
+00008bc0: 796c 6528 2929 0a20 2020 2020 2020 2020  yle()).         
+00008bd0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00008be0: 7428 2260 6060 2229 0a20 2020 2020 2020  t("```").       
+00008bf0: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00008c00: 7365 6c66 2e64 6976 6964 6572 290a 0a20  self.divider).. 
+00008c10: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00008c20: 7374 6f70 5370 696e 6e69 6e67 2829 0a20  stopSpinning(). 
+00008c30: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+00008c40: 7420 7365 6c66 2e72 756e 5079 7468 6f6e  t self.runPython
+00008c50: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00008c60: 2020 7265 7475 726e 2022 5b49 4e56 414c    return "[INVAL
+00008c70: 4944 5d22 0a20 2020 2020 2020 2020 2020  ID]".           
+00008c80: 2065 6c69 6620 7365 6c66 2e63 6f6e 6669   elif self.confi
+00008c90: 726d 4578 6563 7574 696f 6e28 7269 736b  rmExecution(risk
+00008ca0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00008cb0: 2020 2073 656c 662e 7072 696e 7428 2244     self.print("D
+00008cc0: 6f20 796f 7520 7761 6e74 2074 6f20 6578  o you want to ex
+00008cd0: 6563 7574 6520 6974 3f20 5b79 5d65 7320  ecute it? [y]es 
+00008ce0: 2f20 5b4e 5d6f 2229 0a20 2020 2020 2020  / [N]o").       
+00008cf0: 2020 2020 2020 2020 2063 6f6e 6669 726d           confirm
+00008d00: 6174 696f 6e20 3d20 7365 6c66 2e70 726f  ation = self.pro
+00008d10: 6d70 7473 2e73 696d 706c 6550 726f 6d70  mpts.simplePromp
+00008d20: 7428 7374 796c 653d 7365 6c66 2e70 726f  t(style=self.pro
+00008d30: 6d70 7473 2e70 726f 6d70 7453 7479 6c65  mpts.promptStyle
+00008d40: 322c 2064 6566 6175 6c74 3d22 7922 290a  2, default="y").
+00008d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008d60: 6966 206e 6f74 2063 6f6e 6669 726d 6174  if not confirmat
+00008d70: 696f 6e2e 6c6f 7765 7228 2920 696e 2028  ion.lower() in (
+00008d80: 2279 222c 2022 7965 7322 293a 0a20 2020  "y", "yes"):.   
+00008d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008da0: 2073 656c 662e 7275 6e50 7974 686f 6e20   self.runPython 
+00008db0: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
+00008dc0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00008dd0: 726e 2022 5b49 4e56 414c 4944 5d22 0a20  rn "[INVALID]". 
+00008de0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00008df0: 6e20 5368 6172 6564 5574 696c 2e65 7865  n SharedUtil.exe
+00008e00: 6375 7465 5079 7468 6f6e 436f 6465 2872  cutePythonCode(r
+00008e10: 6566 696e 6564 436f 6465 290a 0a20 2020  efinedCode)..   
+00008e20: 2020 2020 2066 756e 6374 696f 6e53 6967       functionSig
+00008e30: 6e61 7475 7265 203d 207b 0a20 2020 2020  nature = {.     
+00008e40: 2020 2020 2020 2022 6e61 6d65 223a 2022         "name": "
+00008e50: 6578 6563 7574 655f 7079 7468 6f6e 5f63  execute_python_c
+00008e60: 6f64 6522 2c0a 2020 2020 2020 2020 2020  ode",.          
+00008e70: 2020 2264 6573 6372 6970 7469 6f6e 223a    "description":
+00008e80: 2022 4578 6563 7574 6520 7079 7468 6f6e   "Execute python
+00008e90: 2063 6f64 6520 746f 2072 6573 6f6c 7665   code to resolve
+00008ea0: 2061 2063 6f6d 7075 7469 6e67 2074 6173   a computing tas
+00008eb0: 6b22 2c0a 2020 2020 2020 2020 2020 2020  k",.            
+00008ec0: 2270 6172 616d 6574 6572 7322 3a20 7b0a  "parameters": {.
+00008ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008ee0: 2274 7970 6522 3a20 226f 626a 6563 7422  "type": "object"
+00008ef0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00008f00: 2020 2270 726f 7065 7274 6965 7322 3a20    "properties": 
+00008f10: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+00008f20: 2020 2020 2020 2263 6f64 6522 3a20 7b0a        "code": {.
+00008f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008f40: 2020 2020 2020 2020 2274 7970 6522 3a20          "type": 
+00008f50: 2273 7472 696e 6722 2c0a 2020 2020 2020  "string",.      
+00008f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008f70: 2020 2264 6573 6372 6970 7469 6f6e 223a    "description":
+00008f80: 2022 5079 7468 6f6e 2063 6f64 6520 7468   "Python code th
+00008f90: 6174 2069 6e74 6567 7261 7465 7320 616e  at integrates an
+00008fa0: 7920 7265 6c65 7661 6e74 2070 6163 6b61  y relevant packa
+00008fb0: 6765 7320 746f 2072 6573 6f6c 7665 206d  ges to resolve m
+00008fc0: 7920 7265 7175 6573 7422 2c0a 2020 2020  y request",.    
+00008fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008fe0: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
+00008ff0: 2020 2020 2020 2022 7469 746c 6522 3a20         "title": 
+00009000: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+00009010: 2020 2020 2020 2020 2020 2274 7970 6522            "type"
+00009020: 3a20 2273 7472 696e 6722 2c0a 2020 2020  : "string",.    
+00009030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009040: 2020 2020 2264 6573 6372 6970 7469 6f6e      "description
+00009050: 223a 2022 7469 746c 6520 666f 7220 7468  ": "title for th
+00009060: 6520 7079 7468 6f6e 2063 6f64 6522 2c0a  e python code",.
+00009070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009080: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
+00009090: 2020 2020 2020 2020 2020 2022 7269 736b             "risk
+000090a0: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
+000090b0: 2020 2020 2020 2020 2020 2020 2022 7479               "ty
+000090c0: 7065 223a 2022 7374 7269 6e67 222c 0a20  pe": "string",. 
+000090d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000090e0: 2020 2020 2020 2022 6465 7363 7269 7074         "descript
+000090f0: 696f 6e22 3a20 2241 7373 6573 7320 7468  ion": "Assess th
+00009100: 6520 7269 736b 206c 6576 656c 206f 6620  e risk level of 
+00009110: 6461 6d61 6769 6e67 206d 7920 6465 7669  damaging my devi
+00009120: 6365 2075 706f 6e20 6578 6563 7574 696e  ce upon executin
+00009130: 6720 7468 6520 7461 736b 2e20 652e 672e  g the task. e.g.
+00009140: 2066 696c 6520 6465 6c65 7469 6f6e 7320   file deletions 
+00009150: 6f72 2073 696d 696c 6172 2073 6967 6e69  or similar signi
+00009160: 6669 6361 6e74 2069 6d70 6163 7473 2061  ficant impacts a
+00009170: 7265 2072 6567 6172 6465 6420 6173 2027  re regarded as '
+00009180: 6869 6768 2720 6c65 7665 6c2e 222c 0a20  high' level.",. 
+00009190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000091a0: 2020 2020 2020 2022 656e 756d 223a 205b         "enum": [
+000091b0: 2268 6967 6822 2c20 226d 6564 6975 6d22  "high", "medium"
+000091c0: 2c20 226c 6f77 225d 2c0a 2020 2020 2020  , "low"],.      
+000091d0: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
+000091e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000091f0: 207d 2c0a 2020 2020 2020 2020 2020 2020   },.            
+00009200: 2020 2020 2272 6571 7569 7265 6422 3a20      "required": 
+00009210: 5b22 636f 6465 222c 2022 7469 746c 6522  ["code", "title"
+00009220: 2c20 2272 6973 6b22 5d2c 0a20 2020 2020  , "risk"],.     
+00009230: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
+00009240: 2020 7d0a 0a20 2020 2020 2020 2073 656c    }..        sel
+00009250: 662e 6164 6446 756e 6374 696f 6e43 616c  f.addFunctionCal
+00009260: 6c28 6e61 6d65 3d22 6578 6563 7574 655f  l(name="execute_
+00009270: 7079 7468 6f6e 5f63 6f64 6522 2c20 7369  python_code", si
+00009280: 676e 6174 7572 653d 6675 6e63 7469 6f6e  gnature=function
+00009290: 5369 676e 6174 7572 652c 206d 6574 686f  Signature, metho
+000092a0: 643d 6578 6563 7574 655f 7079 7468 6f6e  d=execute_python
+000092b0: 5f63 6f64 6529 0a0a 2020 2020 2020 2020  _code)..        
+000092c0: 2323 2320 4120 6475 6d6d 7920 6675 6e63  ### A dummy func
+000092d0: 7469 6f6e 2074 6f20 7265 6469 7265 6374  tion to redirect
+000092e0: 2071 2661 2074 6173 6b20 6162 6f75 7420   q&a task about 
+000092f0: 7079 7468 6f6e 2c20 6f74 6865 7277 6973  python, otherwis
+00009300: 652c 2069 7420 6d61 7920 6265 206d 6973  e, it may be mis
+00009310: 7461 6b65 6e20 6279 2065 7865 6375 7465  taken by execute
+00009320: 5f70 7974 686f 6e5f 636f 6465 0a20 2020  _python_code.   
+00009330: 2020 2020 2064 6566 2070 7974 686f 6e5f       def python_
+00009340: 7161 285f 293a 0a20 2020 2020 2020 2020  qa(_):.         
+00009350: 2020 2072 6574 7572 6e20 225b 494e 5641     return "[INVA
+00009360: 4c49 445d 220a 2020 2020 2020 2020 6675  LID]".        fu
+00009370: 6e63 7469 6f6e 5369 676e 6174 7572 6520  nctionSignature 
+00009380: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+00009390: 226e 616d 6522 3a20 2270 7974 686f 6e5f  "name": "python_
+000093a0: 7161 222c 0a20 2020 2020 2020 2020 2020  qa",.           
+000093b0: 2022 6465 7363 7269 7074 696f 6e22 3a20   "description": 
+000093c0: 6627 2727 416e 7377 6572 2071 7565 7374  f'''Answer quest
+000093d0: 696f 6e73 206f 7220 7072 6f76 6964 6520  ions or provide 
+000093e0: 696e 666f 726d 6174 696f 6e20 6162 6f75  information abou
+000093f0: 7420 7079 7468 6f6e 2727 272c 0a20 2020  t python''',.   
+00009400: 2020 2020 2020 2020 2022 7061 7261 6d65           "parame
+00009410: 7465 7273 223a 207b 0a20 2020 2020 2020  ters": {.       
+00009420: 2020 2020 2020 2020 2022 7479 7065 223a           "type":
+00009430: 2022 6f62 6a65 6374 222c 0a20 2020 2020   "object",.     
+00009440: 2020 2020 2020 2020 2020 2022 7072 6f70             "prop
+00009450: 6572 7469 6573 223a 207b 0a20 2020 2020  erties": {.     
+00009460: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00009470: 7161 223a 207b 0a20 2020 2020 2020 2020  qa": {.         
+00009480: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00009490: 7479 7065 223a 2022 7374 7269 6e67 222c  type": "string",
+000094a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000094b0: 2020 2020 2020 2020 2022 6465 7363 7269           "descri
+000094c0: 7074 696f 6e22 3a20 2265 6d70 7479 2073  ption": "empty s
+000094d0: 7472 696e 6720 2727 222c 0a20 2020 2020  tring ''",.     
+000094e0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+000094f0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00009500: 2020 7d2c 0a20 2020 2020 2020 2020 2020    },.           
+00009510: 207d 2c0a 2020 2020 2020 2020 7d0a 2020   },.        }.  
+00009520: 2020 2020 2020 7365 6c66 2e61 6464 4675        self.addFu
+00009530: 6e63 7469 6f6e 4361 6c6c 286e 616d 653d  nctionCall(name=
+00009540: 2270 7974 686f 6e5f 7161 222c 2073 6967  "python_qa", sig
+00009550: 6e61 7475 7265 3d66 756e 6374 696f 6e53  nature=functionS
+00009560: 6967 6e61 7475 7265 2c20 6d65 7468 6f64  ignature, method
+00009570: 3d70 7974 686f 6e5f 7161 290a 0a20 2020  =python_qa)..   
+00009580: 2023 2069 6e74 6567 7261 7465 2066 756e   # integrate fun
+00009590: 6374 696f 6e20 6361 6c6c 2070 6c75 6769  ction call plugi
+000095a0: 6e0a 2020 2020 6465 6620 6164 6446 756e  n.    def addFun
+000095b0: 6374 696f 6e43 616c 6c28 7365 6c66 2c20  ctionCall(self, 
+000095c0: 6e61 6d65 3a20 7374 722c 2073 6967 6e61  name: str, signa
+000095d0: 7475 7265 3a20 6469 6374 2c20 6d65 7468  ture: dict, meth
+000095e0: 6f64 3a20 4361 6c6c 6162 6c65 5b5b 6469  od: Callable[[di
+000095f0: 6374 5d2c 2073 7472 5d2c 2065 7861 6d70  ct], str], examp
+00009600: 6c65 733a 206c 6973 745b 7374 725d 3d5b  les: list[str]=[
+00009610: 5d29 3a0a 2020 2020 2020 2020 2363 6f6e  ]):.        #con
+00009620: 6669 672e 6368 6174 4750 5441 7069 4675  fig.chatGPTApiFu
+00009630: 6e63 7469 6f6e 5369 676e 6174 7572 6573  nctionSignatures
+00009640: 5b6e 616d 655d 203d 2073 6967 6e61 7475  [name] = signatu
+00009650: 7265 0a20 2020 2020 2020 2023 636f 6e66  re.        #conf
+00009660: 6967 2e63 6861 7447 5054 4170 6941 7661  ig.chatGPTApiAva
+00009670: 696c 6162 6c65 4675 6e63 7469 6f6e 735b  ilableFunctions[
+00009680: 6e61 6d65 5d20 3d20 6d65 7468 6f64 0a20  name] = method. 
+00009690: 2020 2020 2020 2063 6f6e 6669 672e 6672         config.fr
+000096a0: 6565 4765 6e69 7573 4163 7469 6f6e 735b  eeGeniusActions[
+000096b0: 6e61 6d65 5d20 3d20 7369 676e 6174 7572  name] = signatur
+000096c0: 655b 2264 6573 6372 6970 7469 6f6e 225d  e["description"]
+000096d0: 0a20 2020 2020 2020 2069 6620 6578 616d  .        if exam
+000096e0: 706c 6573 3a20 2320 6f70 7469 6f6e 616c  ples: # optional
+000096f0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+00009700: 6669 672e 6672 6565 4765 6e69 7573 4163  fig.freeGeniusAc
+00009710: 7469 6f6e 4578 616d 706c 6573 5b6e 616d  tionExamples[nam
+00009720: 655d 203d 2065 7861 6d70 6c65 730a 2020  e] = examples.  
+00009730: 2020 2020 2020 636f 6e66 6967 2e66 7265        config.fre
+00009740: 6547 656e 6975 7341 6374 696f 6e50 6172  eGeniusActionPar
+00009750: 616d 6574 6572 735b 6e61 6d65 5d20 3d20  ameters[name] = 
+00009760: 7369 676e 6174 7572 655b 2270 6172 616d  signature["param
+00009770: 6574 6572 7322 5d5b 2270 726f 7065 7274  eters"]["propert
+00009780: 6965 7322 5d0a 2020 2020 2020 2020 636f  ies"].        co
+00009790: 6e66 6967 2e66 7265 6547 656e 6975 7341  nfig.freeGeniusA
+000097a0: 6374 696f 6e4d 6574 686f 6473 5b6e 616d  ctionMethods[nam
+000097b0: 655d 203d 206d 6574 686f 640a 0a20 2020  e] = method..   
+000097c0: 2023 2063 616c 6c20 6120 7370 6563 6966   # call a specif
+000097d0: 6963 2066 756e 6374 696f 6e20 616e 6420  ic function and 
+000097e0: 7265 7475 726e 206d 6573 7361 6765 730a  return messages.
+000097f0: 2020 2020 6465 6620 7275 6e46 756e 6374      def runFunct
+00009800: 696f 6e28 7365 6c66 2c20 6d65 7373 6167  ion(self, messag
+00009810: 6573 2c20 6675 6e63 7469 6f6e 5369 676e  es, functionSign
+00009820: 6174 7572 6573 2c20 6675 6e63 7469 6f6e  atures, function
+00009830: 5f6e 616d 6529 3a0a 2020 2020 2020 2020  _name):.        
+00009840: 6d65 7373 6167 6573 436f 7079 203d 206d  messagesCopy = m
+00009850: 6573 7361 6765 735b 3a5d 0a20 2020 2020  essages[:].     
+00009860: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00009870: 2020 2020 6675 6e63 7469 6f6e 5f63 616c      function_cal
+00009880: 6c5f 6d65 7373 6167 652c 2066 756e 6374  l_message, funct
+00009890: 696f 6e5f 6361 6c6c 5f72 6573 706f 6e73  ion_call_respons
+000098a0: 6520 3d20 7365 6c66 2e67 6574 4675 6e63  e = self.getFunc
+000098b0: 7469 6f6e 4d65 7373 6167 6541 6e64 5265  tionMessageAndRe
+000098c0: 7370 6f6e 7365 286d 6573 7361 6765 732c  sponse(messages,
+000098d0: 2066 756e 6374 696f 6e53 6967 6e61 7475   functionSignatu
+000098e0: 7265 732c 2066 756e 6374 696f 6e5f 6e61  res, function_na
+000098f0: 6d65 290a 2020 2020 2020 2020 2020 2020  me).            
+00009900: 6d65 7373 6167 6573 2e61 7070 656e 6428  messages.append(
+00009910: 6675 6e63 7469 6f6e 5f63 616c 6c5f 6d65  function_call_me
+00009920: 7373 6167 6529 0a20 2020 2020 2020 2020  ssage).         
+00009930: 2020 206d 6573 7361 6765 732e 6170 7065     messages.appe
+00009940: 6e64 280a 2020 2020 2020 2020 2020 2020  nd(.            
+00009950: 2020 2020 7b0a 2020 2020 2020 2020 2020      {.          
+00009960: 2020 2020 2020 2020 2020 2272 6f6c 6522            "role"
+00009970: 3a20 2266 756e 6374 696f 6e22 2c0a 2020  : "function",.  
+00009980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009990: 2020 226e 616d 6522 3a20 6675 6e63 7469    "name": functi
+000099a0: 6f6e 5f6e 616d 652c 0a20 2020 2020 2020  on_name,.       
+000099b0: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+000099c0: 6e74 656e 7422 3a20 6675 6e63 7469 6f6e  ntent": function
+000099d0: 5f63 616c 6c5f 7265 7370 6f6e 7365 2069  _call_response i
+000099e0: 6620 6675 6e63 7469 6f6e 5f63 616c 6c5f  f function_call_
+000099f0: 7265 7370 6f6e 7365 2065 6c73 6520 636f  response else co
+00009a00: 6e66 6967 2e74 656d 7043 6f6e 7465 6e74  nfig.tempContent
+00009a10: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00009a20: 2020 7d0a 2020 2020 2020 2020 2020 2020    }.            
+00009a30: 290a 2020 2020 2020 2020 2020 2020 636f  ).            co
+00009a40: 6e66 6967 2e74 656d 7043 6f6e 7465 6e74  nfig.tempContent
+00009a50: 203d 2022 220a 2020 2020 2020 2020 6578   = "".        ex
+00009a60: 6365 7074 3a0a 2020 2020 2020 2020 2020  cept:.          
+00009a70: 2020 5368 6172 6564 5574 696c 2e73 686f    SharedUtil.sho
+00009a80: 7745 7272 6f72 7328 290a 2020 2020 2020  wErrors().      
+00009a90: 2020 2020 2020 7265 7475 726e 206d 6573        return mes
+00009aa0: 7361 6765 7343 6f70 790a 2020 2020 2020  sagesCopy.      
+00009ab0: 2020 7265 7475 726e 206d 6573 7361 6765    return message
+00009ac0: 730a 0a20 2020 2064 6566 2067 6574 4675  s..    def getFu
+00009ad0: 6e63 7469 6f6e 4d65 7373 6167 6541 6e64  nctionMessageAnd
+00009ae0: 5265 7370 6f6e 7365 2873 656c 662c 206d  Response(self, m
+00009af0: 6573 7361 6765 732c 2066 756e 6374 696f  essages, functio
+00009b00: 6e53 6967 6e61 7475 7265 732c 2066 756e  nSignatures, fun
+00009b10: 6374 696f 6e5f 6e61 6d65 2c20 7465 6d70  ction_name, temp
+00009b20: 6572 6174 7572 653d 4e6f 6e65 293a 0a20  erature=None):. 
+00009b30: 2020 2020 2020 2063 6f6d 706c 6574 696f         completio
+00009b40: 6e20 3d20 636f 6e66 6967 2e6f 6169 5f63  n = config.oai_c
+00009b50: 6c69 656e 742e 6368 6174 2e63 6f6d 706c  lient.chat.compl
+00009b60: 6574 696f 6e73 2e63 7265 6174 6528 0a20  etions.create(. 
+00009b70: 2020 2020 2020 2020 2020 206d 6f64 656c             model
+00009b80: 3d63 6f6e 6669 672e 6368 6174 4750 5441  =config.chatGPTA
+00009b90: 7069 4d6f 6465 6c2c 0a20 2020 2020 2020  piModel,.       
+00009ba0: 2020 2020 206d 6573 7361 6765 733d 6d65       messages=me
+00009bb0: 7373 6167 6573 2c0a 2020 2020 2020 2020  ssages,.        
+00009bc0: 2020 2020 6d61 785f 746f 6b65 6e73 3d53      max_tokens=S
+00009bd0: 6861 7265 6455 7469 6c2e 6765 7444 796e  haredUtil.getDyn
+00009be0: 616d 6963 546f 6b65 6e73 286d 6573 7361  amicTokens(messa
+00009bf0: 6765 732c 2066 756e 6374 696f 6e53 6967  ges, functionSig
+00009c00: 6e61 7475 7265 7329 2c0a 2020 2020 2020  natures),.      
+00009c10: 2020 2020 2020 7465 6d70 6572 6174 7572        temperatur
+00009c20: 653d 7465 6d70 6572 6174 7572 6520 6966  e=temperature if
+00009c30: 2074 656d 7065 7261 7475 7265 2069 7320   temperature is 
+00009c40: 6e6f 7420 4e6f 6e65 2065 6c73 6520 636f  not None else co
+00009c50: 6e66 6967 2e6c 6c6d 5465 6d70 6572 6174  nfig.llmTemperat
+00009c60: 7572 652c 0a20 2020 2020 2020 2020 2020  ure,.           
+00009c70: 206e 3d31 2c0a 2020 2020 2020 2020 2020   n=1,.          
+00009c80: 2020 746f 6f6c 733d 5368 6172 6564 5574    tools=SharedUt
+00009c90: 696c 2e63 6f6e 7665 7274 4675 6e63 7469  il.convertFuncti
+00009ca0: 6f6e 5369 676e 6174 7572 6573 496e 746f  onSignaturesInto
+00009cb0: 546f 6f6c 7328 6675 6e63 7469 6f6e 5369  Tools(functionSi
+00009cc0: 676e 6174 7572 6573 292c 0a20 2020 2020  gnatures),.     
+00009cd0: 2020 2020 2020 2074 6f6f 6c5f 6368 6f69         tool_choi
+00009ce0: 6365 3d7b 2274 7970 6522 3a20 2266 756e  ce={"type": "fun
+00009cf0: 6374 696f 6e22 2c20 2266 756e 6374 696f  ction", "functio
+00009d00: 6e22 3a20 7b22 6e61 6d65 223a 2066 756e  n": {"name": fun
+00009d10: 6374 696f 6e5f 6e61 6d65 7d7d 2c0a 2020  ction_name}},.  
+00009d20: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00009d30: 6675 6e63 7469 6f6e 5f63 616c 6c5f 6d65  function_call_me
+00009d40: 7373 6167 6520 3d20 636f 6d70 6c65 7469  ssage = completi
+00009d50: 6f6e 2e63 686f 6963 6573 5b30 5d2e 6d65  on.choices[0].me
+00009d60: 7373 6167 650a 2020 2020 2020 2020 746f  ssage.        to
+00009d70: 6f6c 5f63 616c 6c20 3d20 6675 6e63 7469  ol_call = functi
+00009d80: 6f6e 5f63 616c 6c5f 6d65 7373 6167 652e  on_call_message.
+00009d90: 746f 6f6c 5f63 616c 6c73 5b30 5d0a 2020  tool_calls[0].  
+00009da0: 2020 2020 2020 6675 6e63 5f61 7267 756d        func_argum
+00009db0: 656e 7473 203d 2074 6f6f 6c5f 6361 6c6c  ents = tool_call
+00009dc0: 2e66 756e 6374 696f 6e2e 6172 6775 6d65  .function.argume
+00009dd0: 6e74 730a 2020 2020 2020 2020 6675 6e63  nts.        func
+00009de0: 7469 6f6e 5f63 616c 6c5f 6d65 7373 6167  tion_call_messag
+00009df0: 655f 6d69 6e69 203d 207b 0a20 2020 2020  e_mini = {.     
+00009e00: 2020 2020 2020 2022 726f 6c65 223a 2022         "role": "
+00009e10: 6173 7369 7374 616e 7422 2c0a 2020 2020  assistant",.    
+00009e20: 2020 2020 2020 2020 2263 6f6e 7465 6e74          "content
+00009e30: 223a 2022 222c 0a20 2020 2020 2020 2020  ": "",.         
+00009e40: 2020 2022 6675 6e63 7469 6f6e 5f63 616c     "function_cal
+00009e50: 6c22 3a20 7b0a 2020 2020 2020 2020 2020  l": {.          
+00009e60: 2020 2020 2020 226e 616d 6522 3a20 746f        "name": to
+00009e70: 6f6c 5f63 616c 6c2e 6675 6e63 7469 6f6e  ol_call.function
+00009e80: 2e6e 616d 652c 0a20 2020 2020 2020 2020  .name,.         
+00009e90: 2020 2020 2020 2022 6172 6775 6d65 6e74         "argument
+00009ea0: 7322 3a20 6675 6e63 5f61 7267 756d 656e  s": func_argumen
+00009eb0: 7473 2c0a 2020 2020 2020 2020 2020 2020  ts,.            
+00009ec0: 7d0a 2020 2020 2020 2020 7d0a 2020 2020  }.        }.    
+00009ed0: 2020 2020 6675 6e63 7469 6f6e 5f63 616c      function_cal
+00009ee0: 6c5f 7265 7370 6f6e 7365 203d 2073 656c  l_response = sel
+00009ef0: 662e 6765 7446 756e 6374 696f 6e52 6573  f.getFunctionRes
+00009f00: 706f 6e73 6528 6675 6e63 5f61 7267 756d  ponse(func_argum
+00009f10: 656e 7473 2c20 6675 6e63 7469 6f6e 5f6e  ents, function_n
+00009f20: 616d 6529 0a20 2020 2020 2020 2072 6574  ame).        ret
+00009f30: 7572 6e20 6675 6e63 7469 6f6e 5f63 616c  urn function_cal
+00009f40: 6c5f 6d65 7373 6167 655f 6d69 6e69 2c20  l_message_mini, 
+00009f50: 6675 6e63 7469 6f6e 5f63 616c 6c5f 7265  function_call_re
+00009f60: 7370 6f6e 7365 0a0a 2020 2020 6465 6620  sponse..    def 
+00009f70: 6765 7446 756e 6374 696f 6e52 6573 706f  getFunctionRespo
+00009f80: 6e73 6528 7365 6c66 2c20 6675 6e63 5f61  nse(self, func_a
+00009f90: 7267 756d 656e 7473 2c20 6675 6e63 7469  rguments, functi
+00009fa0: 6f6e 5f6e 616d 6529 3a0a 2020 2020 2020  on_name):.      
+00009fb0: 2020 6465 6620 6e6f 7469 6679 4465 7665    def notifyDeve
+00009fc0: 6c6f 7065 7228 6675 6e63 5f6e 616d 6529  loper(func_name)
+00009fd0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00009fe0: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+00009ff0: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
+0000a000: 2020 2023 7365 6c66 2e70 7269 6e74 2866     #self.print(f
+0000a010: 2272 756e 6e69 6e67 2066 756e 6374 696f  "running functio
+0000a020: 6e20 277b 6675 6e63 5f6e 616d 657d 2720  n '{func_name}' 
+0000a030: 2e2e 2e22 290a 2020 2020 2020 2020 2020  ...").          
+0000a040: 2020 2020 2020 7072 696e 745f 666f 726d        print_form
+0000a050: 6174 7465 645f 7465 7874 2848 544d 4c28  atted_text(HTML(
+0000a060: 6622 3c7b 636f 6e66 6967 2e74 6572 6d69  f"<{config.termi
+0000a070: 6e61 6c50 726f 6d70 7449 6e64 6963 6174  nalPromptIndicat
+0000a080: 6f72 436f 6c6f 7232 7d3e 5275 6e6e 696e  orColor2}>Runnin
+0000a090: 6720 6675 6e63 7469 6f6e 3c2f 7b63 6f6e  g function</{con
+0000a0a0: 6669 672e 7465 726d 696e 616c 5072 6f6d  fig.terminalProm
+0000a0b0: 7074 496e 6469 6361 746f 7243 6f6c 6f72  ptIndicatorColor
+0000a0c0: 327d 3e20 3c7b 636f 6e66 6967 2e74 6572  2}> <{config.ter
+0000a0d0: 6d69 6e61 6c43 6f6d 6d61 6e64 456e 7472  minalCommandEntr
+0000a0e0: 7943 6f6c 6f72 327d 3e27 7b66 756e 635f  yColor2}>'{func_
+0000a0f0: 6e61 6d65 7d27 3c2f 7b63 6f6e 6669 672e  name}'</{config.
+0000a100: 7465 726d 696e 616c 436f 6d6d 616e 6445  terminalCommandE
+0000a110: 6e74 7279 436f 6c6f 7232 7d3e 203c 7b63  ntryColor2}> <{c
+0000a120: 6f6e 6669 672e 7465 726d 696e 616c 5072  onfig.terminalPr
+0000a130: 6f6d 7074 496e 6469 6361 746f 7243 6f6c  omptIndicatorCol
+0000a140: 6f72 327d 3e2e 2e2e 3c2f 7b63 6f6e 6669  or2}>...</{confi
+0000a150: 672e 7465 726d 696e 616c 5072 6f6d 7074  g.terminalPrompt
+0000a160: 496e 6469 6361 746f 7243 6f6c 6f72 327d  IndicatorColor2}
+0000a170: 3e22 2929 0a20 2020 2020 2020 2023 2043  >")).        # C
+0000a180: 6861 7447 5054 2773 2062 7569 6c74 2d69  hatGPT's built-i
+0000a190: 6e20 6675 6e63 7469 6f6e 206e 616d 6564  n function named
+0000a1a0: 2022 7079 7468 6f6e 220a 2020 2020 2020   "python".      
+0000a1b0: 2020 6966 2066 756e 6374 696f 6e5f 6e61    if function_na
+0000a1c0: 6d65 203d 3d20 2270 7974 686f 6e22 3a0a  me == "python":.
+0000a1d0: 2020 2020 2020 2020 2020 2020 6e6f 7469              noti
+0000a1e0: 6679 4465 7665 6c6f 7065 7228 6675 6e63  fyDeveloper(func
+0000a1f0: 7469 6f6e 5f6e 616d 6529 0a20 2020 2020  tion_name).     
+0000a200: 2020 2020 2020 2070 7974 686f 6e5f 636f         python_co
+0000a210: 6465 203d 2074 6578 7477 7261 702e 6465  de = textwrap.de
+0000a220: 6465 6e74 2866 756e 635f 6172 6775 6d65  dent(func_argume
+0000a230: 6e74 7329 0a20 2020 2020 2020 2020 2020  nts).           
+0000a240: 2072 6566 696e 6564 436f 6465 203d 2053   refinedCode = S
+0000a250: 6861 7265 6455 7469 6c2e 6669 6e65 5475  haredUtil.fineTu
+0000a260: 6e65 5079 7468 6f6e 436f 6465 2870 7974  nePythonCode(pyt
+0000a270: 686f 6e5f 636f 6465 290a 0a20 2020 2020  hon_code)..     
+0000a280: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+0000a290: 7428 7365 6c66 2e64 6976 6964 6572 290a  t(self.divider).
+0000a2a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000a2b0: 2e70 7269 6e74 3228 2272 756e 6e69 6e67  .print2("running
+0000a2c0: 2070 7974 686f 6e20 636f 6465 202e 2e2e   python code ...
+0000a2d0: 2229 0a20 2020 2020 2020 2020 2020 2072  ").            r
+0000a2e0: 6973 6b20 3d20 5368 6172 6564 5574 696c  isk = SharedUtil
+0000a2f0: 2e72 6973 6b41 7373 6573 736d 656e 7428  .riskAssessment(
+0000a300: 7079 7468 6f6e 5f63 6f64 6529 0a20 2020  python_code).   
+0000a310: 2020 2020 2020 2020 2073 656c 662e 7368           self.sh
+0000a320: 6f77 5269 736b 2872 6973 6b29 0a20 2020  owRisk(risk).   
+0000a330: 2020 2020 2020 2020 2069 6620 636f 6e66           if conf
+0000a340: 6967 2e64 6576 656c 6f70 6572 206f 7220  ig.developer or 
+0000a350: 636f 6e66 6967 2e63 6f64 6544 6973 706c  config.codeDispl
+0000a360: 6179 3a0a 2020 2020 2020 2020 2020 2020  ay:.            
+0000a370: 2020 2020 7072 696e 7428 2260 6060 2229      print("```")
+0000a380: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a390: 2023 7072 696e 7428 7079 7468 6f6e 5f63   #print(python_c
+0000a3a0: 6f64 6529 0a20 2020 2020 2020 2020 2020  ode).           
+0000a3b0: 2020 2020 2023 2070 7967 6d65 6e74 7320       # pygments 
+0000a3c0: 7079 7468 6f6e 2073 7479 6c65 0a20 2020  python style.   
+0000a3d0: 2020 2020 2020 2020 2020 2020 2074 6f6b               tok
+0000a3e0: 656e 7320 3d20 6c69 7374 2870 7967 6d65  ens = list(pygme
+0000a3f0: 6e74 732e 6c65 7828 7079 7468 6f6e 5f63  nts.lex(python_c
+0000a400: 6f64 652c 206c 6578 6572 3d50 7974 686f  ode, lexer=Pytho
+0000a410: 6e4c 6578 6572 2829 2929 0a20 2020 2020  nLexer())).     
+0000a420: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+0000a430: 5f66 6f72 6d61 7474 6564 5f74 6578 7428  _formatted_text(
+0000a440: 5079 676d 656e 7473 546f 6b65 6e73 2874  PygmentsTokens(t
+0000a450: 6f6b 656e 7329 2c20 7374 796c 653d 5368  okens), style=Sh
+0000a460: 6172 6564 5574 696c 2e67 6574 5079 676d  aredUtil.getPygm
+0000a470: 656e 7473 5374 796c 6528 2929 0a20 2020  entsStyle()).   
+0000a480: 2020 2020 2020 2020 2020 2020 2070 7269               pri
+0000a490: 6e74 2822 6060 6022 290a 2020 2020 2020  nt("```").      
+0000a4a0: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+0000a4b0: 2873 656c 662e 6469 7669 6465 7229 0a0a  (self.divider)..
+0000a4c0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000a4d0: 2e73 746f 7053 7069 6e6e 696e 6728 290a  .stopSpinning().
+0000a4e0: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+0000a4f0: 6f74 2073 656c 662e 7275 6e50 7974 686f  ot self.runPytho
+0000a500: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
+0000a510: 2020 2069 6e66 6f20 3d20 7b22 696e 666f     info = {"info
+0000a520: 726d 6174 696f 6e22 3a20 7079 7468 6f6e  rmation": python
+0000a530: 5f63 6f64 657d 0a20 2020 2020 2020 2020  _code}.         
+0000a540: 2020 2020 2020 2072 6574 7572 6e20 6a73         return js
+0000a550: 6f6e 2e64 756d 7073 2869 6e66 6f29 0a20  on.dumps(info). 
+0000a560: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+0000a570: 7365 6c66 2e63 6f6e 6669 726d 4578 6563  self.confirmExec
+0000a580: 7574 696f 6e28 7269 736b 293a 0a20 2020  ution(risk):.   
+0000a590: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0000a5a0: 662e 7072 696e 7428 2244 6f20 796f 7520  f.print("Do you 
+0000a5b0: 7761 6e74 2074 6f20 636f 6e74 696e 7565  want to continue
+0000a5c0: 3f20 5b79 5d65 7320 2f20 5b4e 5d6f 2229  ? [y]es / [N]o")
+0000a5d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a5e0: 2063 6f6e 6669 726d 6174 696f 6e20 3d20   confirmation = 
+0000a5f0: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
+0000a600: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
+0000a610: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
+0000a620: 6d70 7453 7479 6c65 322c 2064 6566 6175  mptStyle2, defau
+0000a630: 6c74 3d22 7922 290a 2020 2020 2020 2020  lt="y").        
+0000a640: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
+0000a650: 6f6e 6669 726d 6174 696f 6e2e 6c6f 7765  onfirmation.lowe
+0000a660: 7228 2920 696e 2028 2279 222c 2022 7965  r() in ("y", "ye
+0000a670: 7322 293a 0a20 2020 2020 2020 2020 2020  s"):.           
+0000a680: 2020 2020 2020 2020 2069 6e66 6f20 3d20           info = 
+0000a690: 7b22 696e 666f 726d 6174 696f 6e22 3a20  {"information": 
+0000a6a0: 7079 7468 6f6e 5f63 6f64 657d 0a20 2020  python_code}.   
+0000a6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a6c0: 2072 6574 7572 6e20 6a73 6f6e 2e64 756d   return json.dum
+0000a6d0: 7073 2869 6e66 6f29 0a20 2020 2020 2020  ps(info).       
+0000a6e0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+0000a6f0: 2020 2020 2020 2020 2020 6578 6563 2872            exec(r
+0000a700: 6566 696e 6564 436f 6465 2c20 676c 6f62  efinedCode, glob
+0000a710: 616c 7328 2929 0a20 2020 2020 2020 2020  als()).         
+0000a720: 2020 2020 2020 2066 756e 6374 696f 6e5f         function_
+0000a730: 7265 7370 6f6e 7365 203d 2053 6861 7265  response = Share
+0000a740: 6455 7469 6c2e 6765 7450 7974 686f 6e46  dUtil.getPythonF
+0000a750: 756e 6374 696f 6e52 6573 706f 6e73 6528  unctionResponse(
+0000a760: 7265 6669 6e65 6443 6f64 6529 0a20 2020  refinedCode).   
+0000a770: 2020 2020 2020 2020 2065 7863 6570 743a           except:
+0000a780: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a790: 2074 7261 6365 203d 2053 6861 7265 6455   trace = SharedU
+0000a7a0: 7469 6c2e 7368 6f77 4572 726f 7273 2829  til.showErrors()
+0000a7b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a7c0: 2073 656c 662e 7072 696e 7428 7365 6c66   self.print(self
+0000a7d0: 2e64 6976 6964 6572 290a 2020 2020 2020  .divider).      
+0000a7e0: 2020 2020 2020 2020 2020 6966 2063 6f6e            if con
+0000a7f0: 6669 672e 6d61 785f 636f 6e73 6563 7574  fig.max_consecut
+0000a800: 6976 655f 6175 746f 5f68 6561 6c20 3e20  ive_auto_heal > 
+0000a810: 303a 0a20 2020 2020 2020 2020 2020 2020  0:.             
+0000a820: 2020 2020 2020 2072 6574 7572 6e20 5368         return Sh
+0000a830: 6172 6564 5574 696c 2e61 7574 6f48 6561  aredUtil.autoHea
+0000a840: 6c50 7974 686f 6e43 6f64 6528 7265 6669  lPythonCode(refi
+0000a850: 6e65 6443 6f64 652c 2074 7261 6365 290a  nedCode, trace).
+0000a860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a870: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000a880: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0000a890: 2022 5b49 4e56 414c 4944 5d22 0a20 2020   "[INVALID]".   
+0000a8a0: 2020 2020 2020 2020 2069 6620 6675 6e63           if func
+0000a8b0: 7469 6f6e 5f72 6573 706f 6e73 653a 0a20  tion_response:. 
+0000a8c0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0000a8d0: 6e66 6f20 3d20 7b22 696e 666f 726d 6174  nfo = {"informat
+0000a8e0: 696f 6e22 3a20 6675 6e63 7469 6f6e 5f72  ion": function_r
+0000a8f0: 6573 706f 6e73 657d 0a20 2020 2020 2020  esponse}.       
+0000a900: 2020 2020 2020 2020 2066 756e 6374 696f           functio
+0000a910: 6e5f 7265 7370 6f6e 7365 203d 206a 736f  n_response = jso
+0000a920: 6e2e 6475 6d70 7328 696e 666f 290a 2020  n.dumps(info).  
+0000a930: 2020 2020 2020 2320 6b6e 6f77 6e20 756e        # known un
+0000a940: 7761 6e74 6564 2066 756e 6374 696f 6e73  wanted functions
+0000a950: 2061 7265 2068 616e 646c 6564 2068 6572   are handled her
+0000a960: 650a 2020 2020 2020 2020 656c 6966 2066  e.        elif f
+0000a970: 756e 6374 696f 6e5f 6e61 6d65 2069 6e20  unction_name in 
+0000a980: 2822 7472 616e 736c 6174 655f 7465 7874  ("translate_text
+0000a990: 222c 293a 0a20 2020 2020 2020 2020 2020  ",):.           
+0000a9a0: 2023 2022 7472 616e 736c 6174 655f 7465   # "translate_te
+0000a9b0: 7874 2220 6861 7320 7477 6f20 6172 6775  xt" has two argu
+0000a9c0: 6d65 6e74 732c 2022 7465 7874 222c 2022  ments, "text", "
+0000a9d0: 7461 7267 6574 5f6c 616e 6775 6167 6522  target_language"
+0000a9e0: 0a20 2020 2020 2020 2020 2020 2023 2068  .            # h
+0000a9f0: 616e 646c 6520 6b6e 6f77 6e20 616e 6420  andle known and 
+0000aa00: 756e 7761 6e74 6564 2066 756e 6374 696f  unwanted functio
+0000aa10: 6e0a 2020 2020 2020 2020 2020 2020 6675  n.            fu
+0000aa20: 6e63 7469 6f6e 5f72 6573 706f 6e73 6520  nction_response 
+0000aa30: 3d20 225b 494e 5641 4c49 445d 2220 0a20  = "[INVALID]" . 
+0000aa40: 2020 2020 2020 2023 2068 616e 646c 6520         # handle 
+0000aa50: 756e 6578 7065 6374 6564 2066 756e 6374  unexpected funct
+0000aa60: 696f 6e0a 2020 2020 2020 2020 656c 6966  ion.        elif
+0000aa70: 206e 6f74 2066 756e 6374 696f 6e5f 6e61   not function_na
+0000aa80: 6d65 2069 6e20 636f 6e66 6967 2e63 6861  me in config.cha
+0000aa90: 7447 5054 4170 6941 7661 696c 6162 6c65  tGPTApiAvailable
+0000aaa0: 4675 6e63 7469 6f6e 733a 0a20 2020 2020  Functions:.     
+0000aab0: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
+0000aac0: 2e64 6576 656c 6f70 6572 3a0a 2020 2020  .developer:.    
+0000aad0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000aae0: 2e70 7269 6e74 2866 2255 6e65 7870 6563  .print(f"Unexpec
+0000aaf0: 7465 6420 6675 6e63 7469 6f6e 3a20 7b66  ted function: {f
+0000ab00: 756e 6374 696f 6e5f 6e61 6d65 7d22 290a  unction_name}").
+0000ab10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ab20: 7365 6c66 2e70 7269 6e74 2873 656c 662e  self.print(self.
+0000ab30: 6469 7669 6465 7229 0a20 2020 2020 2020  divider).       
+0000ab40: 2020 2020 2020 2020 2070 7269 6e74 2866           print(f
+0000ab50: 756e 635f 6172 6775 6d65 6e74 7329 0a20  unc_arguments). 
+0000ab60: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000ab70: 656c 662e 7072 696e 7428 7365 6c66 2e64  elf.print(self.d
+0000ab80: 6976 6964 6572 290a 2020 2020 2020 2020  ivider).        
+0000ab90: 2020 2020 6675 6e63 7469 6f6e 5f72 6573      function_res
+0000aba0: 706f 6e73 6520 3d20 225b 494e 5641 4c49  ponse = "[INVALI
+0000abb0: 445d 220a 2020 2020 2020 2020 656c 7365  D]".        else
+0000abc0: 3a0a 2020 2020 2020 2020 2020 2020 6e6f  :.            no
+0000abd0: 7469 6679 4465 7665 6c6f 7065 7228 6675  tifyDeveloper(fu
+0000abe0: 6e63 7469 6f6e 5f6e 616d 6529 0a20 2020  nction_name).   
+0000abf0: 2020 2020 2020 2020 2066 7563 7469 6f6e           fuction
+0000ac00: 5f74 6f5f 6361 6c6c 203d 2063 6f6e 6669  _to_call = confi
+0000ac10: 672e 6368 6174 4750 5441 7069 4176 6169  g.chatGPTApiAvai
+0000ac20: 6c61 626c 6546 756e 6374 696f 6e73 5b66  lableFunctions[f
+0000ac30: 756e 6374 696f 6e5f 6e61 6d65 5d0a 2020  unction_name].  
+0000ac40: 2020 2020 2020 2020 2020 2320 636f 6e76            # conv
+0000ac50: 6572 7420 7468 6520 6172 6775 6d65 6e74  ert the argument
+0000ac60: 7320 6672 6f6d 206a 736f 6e20 696e 746f  s from json into
+0000ac70: 2061 2064 6963 740a 2020 2020 2020 2020   a dict.        
+0000ac80: 2020 2020 6675 6e63 7469 6f6e 5f61 7267      function_arg
+0000ac90: 7320 3d20 6a73 6f6e 2e6c 6f61 6473 2866  s = json.loads(f
+0000aca0: 756e 635f 6172 6775 6d65 6e74 7329 0a20  unc_arguments). 
+0000acb0: 2020 2020 2020 2020 2020 2066 756e 6374             funct
+0000acc0: 696f 6e5f 7265 7370 6f6e 7365 203d 2066  ion_response = f
+0000acd0: 7563 7469 6f6e 5f74 6f5f 6361 6c6c 2866  uction_to_call(f
+0000ace0: 756e 6374 696f 6e5f 6172 6773 290a 2020  unction_args).  
+0000acf0: 2020 2020 2020 7265 7475 726e 2066 756e        return fun
+0000ad00: 6374 696f 6e5f 7265 7370 6f6e 7365 0a0a  ction_response..
+0000ad10: 2020 2020 6465 6620 7275 6e43 6f6d 706c      def runCompl
+0000ad20: 6574 696f 6e28 7365 6c66 2c20 7468 6973  etion(self, this
+0000ad30: 4d65 7373 6167 652c 206e 6f46 756e 6374  Message, noFunct
+0000ad40: 696f 6e43 616c 6c3d 4661 6c73 6529 3a0a  ionCall=False):.
+0000ad50: 2020 2020 2020 2020 7365 6c66 2e66 756e          self.fun
+0000ad60: 6374 696f 6e4a 7573 7443 616c 6c65 6420  ctionJustCalled 
+0000ad70: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
+0000ad80: 6465 6620 7275 6e54 6869 7343 6f6d 706c  def runThisCompl
+0000ad90: 6574 696f 6e28 7468 6973 5468 6973 4d65  etion(thisThisMe
+0000ada0: 7373 6167 6529 3a0a 2020 2020 2020 2020  ssage):.        
+0000adb0: 2020 2020 6966 2063 6f6e 6669 672e 6368      if config.ch
+0000adc0: 6174 4750 5441 7069 4675 6e63 7469 6f6e  atGPTApiFunction
+0000add0: 5369 676e 6174 7572 6573 2061 6e64 206e  Signatures and n
+0000ade0: 6f74 2073 656c 662e 6675 6e63 7469 6f6e  ot self.function
+0000adf0: 4a75 7374 4361 6c6c 6564 2061 6e64 206e  JustCalled and n
+0000ae00: 6f74 206e 6f46 756e 6374 696f 6e43 616c  ot noFunctionCal
+0000ae10: 6c3a 0a20 2020 2020 2020 2020 2020 2020  l:.             
+0000ae20: 2020 2072 6574 7572 6e20 636f 6e66 6967     return config
+0000ae30: 2e6f 6169 5f63 6c69 656e 742e 6368 6174  .oai_client.chat
+0000ae40: 2e63 6f6d 706c 6574 696f 6e73 2e63 7265  .completions.cre
+0000ae50: 6174 6528 0a20 2020 2020 2020 2020 2020  ate(.           
+0000ae60: 2020 2020 2020 2020 206d 6f64 656c 3d63           model=c
+0000ae70: 6f6e 6669 672e 6368 6174 4750 5441 7069  onfig.chatGPTApi
+0000ae80: 4d6f 6465 6c2c 0a20 2020 2020 2020 2020  Model,.         
+0000ae90: 2020 2020 2020 2020 2020 206d 6573 7361             messa
+0000aea0: 6765 733d 7468 6973 5468 6973 4d65 7373  ges=thisThisMess
+0000aeb0: 6167 652c 0a20 2020 2020 2020 2020 2020  age,.           
+0000aec0: 2020 2020 2020 2020 206e 3d31 2c0a 2020           n=1,.  
+0000aed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aee0: 2020 7465 6d70 6572 6174 7572 653d 636f    temperature=co
+0000aef0: 6e66 6967 2e6c 6c6d 5465 6d70 6572 6174  nfig.llmTemperat
+0000af00: 7572 652c 0a20 2020 2020 2020 2020 2020  ure,.           
+0000af10: 2020 2020 2020 2020 206d 6178 5f74 6f6b           max_tok
+0000af20: 656e 733d 5368 6172 6564 5574 696c 2e67  ens=SharedUtil.g
+0000af30: 6574 4479 6e61 6d69 6354 6f6b 656e 7328  etDynamicTokens(
+0000af40: 7468 6973 5468 6973 4d65 7373 6167 652c  thisThisMessage,
+0000af50: 2063 6f6e 6669 672e 6368 6174 4750 5441   config.chatGPTA
+0000af60: 7069 4675 6e63 7469 6f6e 5369 676e 6174  piFunctionSignat
+0000af70: 7572 6573 2e76 616c 7565 7328 2929 2c0a  ures.values()),.
+0000af80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000af90: 2020 2020 746f 6f6c 733d 5368 6172 6564      tools=Shared
+0000afa0: 5574 696c 2e63 6f6e 7665 7274 4675 6e63  Util.convertFunc
+0000afb0: 7469 6f6e 5369 676e 6174 7572 6573 496e  tionSignaturesIn
+0000afc0: 746f 546f 6f6c 7328 5b63 6f6e 6669 672e  toTools([config.
+0000afd0: 6368 6174 4750 5441 7069 4675 6e63 7469  chatGPTApiFuncti
+0000afe0: 6f6e 5369 676e 6174 7572 6573 5b63 6f6e  onSignatures[con
+0000aff0: 6669 672e 7275 6e53 7065 6369 6669 6346  fig.runSpecificF
+0000b000: 756e 7469 6f6e 5d5d 2069 6620 636f 6e66  untion]] if conf
+0000b010: 6967 2e72 756e 5370 6563 6966 6963 4675  ig.runSpecificFu
+0000b020: 6e74 696f 6e20 616e 6420 636f 6e66 6967  ntion and config
+0000b030: 2e72 756e 5370 6563 6966 6963 4675 6e74  .runSpecificFunt
+0000b040: 696f 6e20 696e 2063 6f6e 6669 672e 6368  ion in config.ch
+0000b050: 6174 4750 5441 7069 4675 6e63 7469 6f6e  atGPTApiFunction
+0000b060: 5369 676e 6174 7572 6573 2065 6c73 6520  Signatures else 
+0000b070: 636f 6e66 6967 2e63 6861 7447 5054 4170  config.chatGPTAp
+0000b080: 6946 756e 6374 696f 6e53 6967 6e61 7475  iFunctionSignatu
+0000b090: 7265 732e 7661 6c75 6573 2829 292c 0a20  res.values()),. 
 0000b0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b0b0: 746f 6f6c 5f61 7574 6f5f 7365 6c65 6374  tool_auto_select
-0000b0c0: 696f 6e5f 7468 7265 7368 6f6c 6420 3d20  ion_threshold = 
-0000b0d0: 302e 300a 2020 2020 2020 2020 2020 2020  0.0.            
-0000b0e0: 656c 6966 2074 6f6f 6c5f 6175 746f 5f73  elif tool_auto_s
-0000b0f0: 656c 6563 7469 6f6e 5f74 6872 6573 686f  election_thresho
-0000b100: 6c64 203e 2063 6f6e 6669 672e 746f 6f6c  ld > config.tool
-0000b110: 5f64 6570 656e 6465 6e63 653a 0a20 2020  _dependence:.   
-0000b120: 2020 2020 2020 2020 2020 2020 2074 6f6f               too
-0000b130: 6c5f 6175 746f 5f73 656c 6563 7469 6f6e  l_auto_selection
-0000b140: 5f74 6872 6573 686f 6c64 203d 2063 6f6e  _threshold = con
-0000b150: 6669 672e 746f 6f6c 5f64 6570 656e 6465  fig.tool_depende
-0000b160: 6e63 650a 2020 2020 2020 2020 2020 2020  nce.            
-0000b170: 636f 6e66 6967 2e74 6f6f 6c5f 6175 746f  config.tool_auto
-0000b180: 5f73 656c 6563 7469 6f6e 5f74 6872 6573  _selection_thres
-0000b190: 686f 6c64 203d 2074 6f6f 6c5f 6175 746f  hold = tool_auto
-0000b1a0: 5f73 656c 6563 7469 6f6e 5f74 6872 6573  _selection_thres
-0000b1b0: 686f 6c64 0a20 2020 2020 2020 2020 2020  hold.           
-0000b1c0: 2070 7269 6e74 3328 6622 546f 6f6c 2041   print3(f"Tool A
-0000b1d0: 7574 6f20 5365 6c65 6374 696f 6e20 5468  uto Selection Th
-0000b1e0: 7265 7368 6f6c 643a 207b 746f 6f6c 5f61  reshold: {tool_a
-0000b1f0: 7574 6f5f 7365 6c65 6374 696f 6e5f 7468  uto_selection_th
-0000b200: 7265 7368 6f6c 647d 2229 0a20 2020 2020  reshold}").     
-0000b210: 2020 2070 7269 6e74 3228 2223 2054 6f6f     print2("# Too
-0000b220: 6c20 5365 6c65 6374 696f 6e20 4d61 7820  l Selection Max 
-0000b230: 4368 6f69 6365 732e 2054 6865 2076 616c  Choices. The val
-0000b240: 7565 206f 6620 2774 6f6f 6c5f 7365 6c65  ue of 'tool_sele
-0000b250: 6374 696f 6e5f 6d61 785f 6368 6f69 6365  ction_max_choice
-0000b260: 7327 2064 6574 6572 6d69 6e65 7320 7468  s' determines th
-0000b270: 6520 6d61 7869 6d75 6d20 6e75 6d62 6572  e maximum number
-0000b280: 206f 6620 6176 6169 6c61 626c 6520 6f70   of available op
-0000b290: 7469 6f6e 7320 666f 7220 6d61 6e75 616c  tions for manual
-0000b2a0: 2074 6f6f 6c20 7365 6c65 6374 696f 6e2e   tool selection.
-0000b2b0: 2229 0a20 2020 2020 2020 2070 7269 6e74  ").        print
-0000b2c0: 3128 2244 6566 6175 6c74 2076 616c 7565  1("Default value
-0000b2d0: 3a20 3422 290a 2020 2020 2020 2020 7072  : 4").        pr
-0000b2e0: 696e 7432 2822 506c 6561 7365 2065 6e74  int2("Please ent
-0000b2f0: 6572 2061 206e 756d 6265 7220 666f 7220  er a number for 
-0000b300: 7468 6973 2076 616c 7565 3a22 290a 2020  this value:").  
-0000b310: 2020 2020 2020 746f 6f6c 5f73 656c 6563        tool_selec
-0000b320: 7469 6f6e 5f6d 6178 5f63 686f 6963 6573  tion_max_choices
-0000b330: 203d 2073 656c 662e 7072 6f6d 7074 732e   = self.prompts.
-0000b340: 7369 6d70 6c65 5072 6f6d 7074 2873 7479  simplePrompt(sty
-0000b350: 6c65 3d73 656c 662e 7072 6f6d 7074 732e  le=self.prompts.
-0000b360: 7072 6f6d 7074 5374 796c 6532 2c20 6e75  promptStyle2, nu
-0000b370: 6d62 6572 4f6e 6c79 3d54 7275 652c 2064  mberOnly=True, d
-0000b380: 6566 6175 6c74 3d73 7472 2863 6f6e 6669  efault=str(confi
-0000b390: 672e 746f 6f6c 5f73 656c 6563 7469 6f6e  g.tool_selection
-0000b3a0: 5f6d 6178 5f63 686f 6963 6573 2929 0a20  _max_choices)). 
-0000b3b0: 2020 2020 2020 2069 6620 746f 6f6c 5f73         if tool_s
-0000b3c0: 656c 6563 7469 6f6e 5f6d 6178 5f63 686f  election_max_cho
-0000b3d0: 6963 6573 2061 6e64 206e 6f74 2074 6f6f  ices and not too
-0000b3e0: 6c5f 7365 6c65 6374 696f 6e5f 6d61 785f  l_selection_max_
-0000b3f0: 6368 6f69 6365 732e 7374 7269 7028 292e  choices.strip().
-0000b400: 6c6f 7765 7228 2920 3d3d 2063 6f6e 6669  lower() == confi
-0000b410: 672e 6578 6974 5f65 6e74 7279 3a0a 2020  g.exit_entry:.  
-0000b420: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-0000b430: 2e74 6f6f 6c5f 7365 6c65 6374 696f 6e5f  .tool_selection_
-0000b440: 6d61 785f 6368 6f69 6365 7320 3d20 696e  max_choices = in
-0000b450: 7428 746f 6f6c 5f73 656c 6563 7469 6f6e  t(tool_selection
-0000b460: 5f6d 6178 5f63 686f 6963 6573 290a 2020  _max_choices).  
-0000b470: 2020 2020 2020 2020 2020 7072 696e 7433            print3
-0000b480: 2866 2254 6f6f 6c20 5365 6c65 6374 696f  (f"Tool Selectio
-0000b490: 6e20 4d61 7820 4368 6f69 6365 733a 207b  n Max Choices: {
-0000b4a0: 746f 6f6c 5f73 656c 6563 7469 6f6e 5f6d  tool_selection_m
-0000b4b0: 6178 5f63 686f 6963 6573 7d22 290a 2020  ax_choices}").  
-0000b4c0: 2020 2020 2020 636f 6e66 6967 2e73 6176        config.sav
-0000b4d0: 6543 6f6e 6669 6728 290a 0a20 2020 2064  eConfig()..    d
-0000b4e0: 6566 2073 656c 6563 744c 6c6d 506c 6174  ef selectLlmPlat
-0000b4f0: 666f 726d 2873 656c 6629 3a0a 2020 2020  form(self):.    
-0000b500: 2020 2020 696e 7374 7275 6374 696f 6e20      instruction 
-0000b510: 3d20 2253 656c 6563 7420 6120 706c 6174  = "Select a plat
-0000b520: 666f 726d 3a22 0a20 2020 2020 2020 2070  form:".        p
-0000b530: 7269 6e74 3128 696e 7374 7275 6374 696f  rint1(instructio
-0000b540: 6e29 0a20 2020 2020 2020 206f 7074 696f  n).        optio
-0000b550: 6e73 203d 207b 0a20 2020 2020 2020 2020  ns = {.         
-0000b560: 2020 2022 6c6c 616d 6163 7070 223a 2022     "llamacpp": "
-0000b570: 4c6c 616d 612e 6370 7022 2c0a 2020 2020  Llama.cpp",.    
-0000b580: 2020 2020 2020 2020 226f 6c6c 616d 6122          "ollama"
-0000b590: 3a20 224f 6c6c 616d 6122 2c0a 2020 2020  : "Ollama",.    
-0000b5a0: 2020 2020 2020 2020 2267 656d 696e 6922          "gemini"
-0000b5b0: 3a20 2247 6f6f 676c 6520 4765 6d69 6e69  : "Google Gemini
-0000b5c0: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-0000b5d0: 6368 6174 6770 7422 3a20 224f 7065 6e41  chatgpt": "OpenA
-0000b5e0: 4920 4368 6174 4750 5422 2c0a 2020 2020  I ChatGPT",.    
-0000b5f0: 2020 2020 2020 2020 226c 6574 6d65 646f          "letmedo
-0000b600: 6974 223a 2022 4c65 744d 6544 6f49 7420  it": "LetMeDoIt 
-0000b610: 4d6f 6465 2028 706f 7765 7265 6420 6279  Mode (powered by
-0000b620: 2043 6861 7447 5054 2922 2c0a 2020 2020   ChatGPT)",.    
-0000b630: 2020 2020 7d0a 2020 2020 2020 2020 6c6c      }.        ll
-0000b640: 6d49 6e74 6572 6661 6365 203d 2073 656c  mInterface = sel
-0000b650: 662e 6469 616c 6f67 732e 6765 7456 616c  f.dialogs.getVal
-0000b660: 6964 4f70 7469 6f6e 7328 0a20 2020 2020  idOptions(.     
-0000b670: 2020 2020 2020 206f 7074 696f 6e73 3d6f         options=o
-0000b680: 7074 696f 6e73 2e6b 6579 7328 292c 0a20  ptions.keys(),. 
-0000b690: 2020 2020 2020 2020 2020 2064 6573 6372             descr
-0000b6a0: 6970 7469 6f6e 733d 6c69 7374 286f 7074  iptions=list(opt
-0000b6b0: 696f 6e73 2e76 616c 7565 7328 2929 2c0a  ions.values()),.
-0000b6c0: 2020 2020 2020 2020 2020 2020 7469 746c              titl
-0000b6d0: 653d 224c 4c4d 2049 6e74 6572 6661 6365  e="LLM Interface
-0000b6e0: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
-0000b6f0: 6566 6175 6c74 3d63 6f6e 6669 672e 6c6c  efault=config.ll
-0000b700: 6d49 6e74 6572 6661 6365 2c0a 2020 2020  mInterface,.    
-0000b710: 2020 2020 2020 2020 7465 7874 3d69 6e73          text=ins
-0000b720: 7472 7563 7469 6f6e 2c0a 2020 2020 2020  truction,.      
-0000b730: 2020 290a 2020 2020 2020 2020 6966 206c    ).        if l
-0000b740: 6c6d 496e 7465 7266 6163 653a 0a20 2020  lmInterface:.   
-0000b750: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-0000b760: 6c6c 6d49 6e74 6572 6661 6365 203d 206c  llmInterface = l
-0000b770: 6c6d 496e 7465 7266 6163 650a 2020 2020  lmInterface.    
-0000b780: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
-0000b790: 6f6e 6669 672e 6c6c 6d49 6e74 6572 6661  onfig.llmInterfa
-0000b7a0: 6365 203d 3d20 226c 6c61 6d61 6370 7022  ce == "llamacpp"
-0000b7b0: 2061 6e64 2068 6173 6174 7472 2863 6f6e   and hasattr(con
-0000b7c0: 6669 672c 2022 6c6c 616d 6163 7070 4d61  fig, "llamacppMa
-0000b7d0: 696e 4d6f 6465 6c22 293a 0a20 2020 2020  inModel"):.     
-0000b7e0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-0000b7f0: 672e 6c6c 616d 6163 7070 4d61 696e 4d6f  g.llamacppMainMo
-0000b800: 6465 6c20 3d20 4e6f 6e65 0a20 2020 2020  del = None.     
-0000b810: 2020 2020 2020 2043 616c 6c4c 4c4d 2e63         CallLLM.c
-0000b820: 6865 636b 436f 6d70 6c65 7469 6f6e 2829  heckCompletion()
-0000b830: 0a0a 2020 2020 6465 6620 7365 744c 6c6d  ..    def setLlm
-0000b840: 4d6f 6465 6c28 7365 6c66 293a 0a20 2020  Model(self):.   
-0000b850: 2020 2020 2064 6566 2061 736b 4164 6469       def askAddi
-0000b860: 7469 6f6e 616c 4368 6174 4d6f 6465 6c28  tionalChatModel(
-0000b870: 2920 2d3e 2062 6f6f 6c3a 0a20 2020 2020  ) -> bool:.     
-0000b880: 2020 2020 2020 206f 7074 696f 6e73 203d         options =
-0000b890: 2028 2279 6573 222c 2022 6e6f 2229 0a20   ("yes", "no"). 
-0000b8a0: 2020 2020 2020 2020 2020 2071 7565 7374             quest
-0000b8b0: 696f 6e20 3d20 2244 6f20 796f 7520 7761  ion = "Do you wa
-0000b8c0: 6e74 2061 6e20 6164 6469 7469 6f6e 616c  nt an additional
-0000b8d0: 206d 6f64 656c 2066 6f72 2072 756e 6e69   model for runni
-0000b8e0: 6e67 2063 6861 742d 6f6e 6c79 2066 6561  ng chat-only fea
-0000b8f0: 7475 7265 733f 220a 2020 2020 2020 2020  tures?".        
-0000b900: 2020 2020 7072 696e 7431 2871 7565 7374      print1(quest
-0000b910: 696f 6e29 0a20 2020 2020 2020 2020 2020  ion).           
-0000b920: 2075 7365 4164 6469 7469 6f6e 616c 4368   useAdditionalCh
-0000b930: 6174 4d6f 6465 6c20 3d20 7365 6c66 2e64  atModel = self.d
-0000b940: 6961 6c6f 6773 2e67 6574 5661 6c69 644f  ialogs.getValidO
-0000b950: 7074 696f 6e73 280a 2020 2020 2020 2020  ptions(.        
-0000b960: 2020 2020 2020 2020 6f70 7469 6f6e 733d          options=
-0000b970: 6f70 7469 6f6e 732c 0a20 2020 2020 2020  options,.       
-0000b980: 2020 2020 2020 2020 2074 6974 6c65 3d22           title="
-0000b990: 4164 6469 7469 6f6e 616c 2043 6861 7420  Additional Chat 
-0000b9a0: 4d6f 6465 6c22 2c0a 2020 2020 2020 2020  Model",.        
-0000b9b0: 2020 2020 2020 2020 6465 6661 756c 743d          default=
-0000b9c0: 2279 6573 2220 6966 2063 6f6e 6669 672e  "yes" if config.
-0000b9d0: 7573 6541 6464 6974 696f 6e61 6c43 6861  useAdditionalCha
-0000b9e0: 744d 6f64 656c 2065 6c73 6520 226e 6f22  tModel else "no"
-0000b9f0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000ba00: 2020 7465 7874 3d71 7565 7374 696f 6e2c    text=question,
-0000ba10: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-0000ba20: 2020 2020 2020 2020 2020 2069 6620 7573             if us
-0000ba30: 6541 6464 6974 696f 6e61 6c43 6861 744d  eAdditionalChatM
-0000ba40: 6f64 656c 2061 6e64 2075 7365 4164 6469  odel and useAddi
-0000ba50: 7469 6f6e 616c 4368 6174 4d6f 6465 6c20  tionalChatModel 
-0000ba60: 3d3d 2022 7965 7322 3a0a 2020 2020 2020  == "yes":.      
-0000ba70: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-0000ba80: 2e75 7365 4164 6469 7469 6f6e 616c 4368  .useAdditionalCh
-0000ba90: 6174 4d6f 6465 6c20 3d20 5472 7565 0a20  atModel = True. 
-0000baa0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000bab0: 6574 7572 6e20 5472 7565 0a20 2020 2020  eturn True.     
-0000bac0: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
-0000bad0: 6c73 650a 0a20 2020 2020 2020 2063 7572  lse..        cur
-0000bae0: 7265 6e74 4c6c 6d49 6e74 6572 6661 6365  rentLlmInterface
-0000baf0: 203d 2063 6f6e 6669 672e 6c6c 6d49 6e74   = config.llmInt
-0000bb00: 6572 6661 6365 0a20 2020 2020 2020 2073  erface.        s
-0000bb10: 656c 662e 7365 6c65 6374 4c6c 6d50 6c61  elf.selectLlmPla
-0000bb20: 7466 6f72 6d28 290a 0a20 2020 2020 2020  tform()..       
-0000bb30: 2070 7269 6e74 3128 2253 656c 6563 7420   print1("Select 
-0000bb40: 6d6f 6465 6c73 202e 2e2e 2229 0a20 2020  models ...").   
-0000bb50: 2020 2020 2069 6620 636f 6e66 6967 2e6c       if config.l
-0000bb60: 6c6d 496e 7465 7266 6163 6520 3d3d 2022  lmInterface == "
-0000bb70: 6f6c 6c61 6d61 223a 0a20 2020 2020 2020  ollama":.       
-0000bb80: 2020 2020 2070 7269 6e74 3228 2223 204d       print2("# M
-0000bb90: 6169 6e20 4d6f 6465 6c20 2d20 666f 7220  ain Model - for 
-0000bba0: 626f 7468 2074 6173 6b20 6578 6563 7574  both task execut
-0000bbb0: 696f 6e20 616e 6420 636f 6e76 6572 7361  ion and conversa
-0000bbc0: 7469 6f6e 2229 0a20 2020 2020 2020 2020  tion").         
-0000bbd0: 2020 2073 656c 662e 7365 744c 6c6d 4d6f     self.setLlmMo
-0000bbe0: 6465 6c5f 6f6c 6c61 6d61 2829 0a20 2020  del_ollama().   
-0000bbf0: 2020 2020 2020 2020 2069 6620 6173 6b41           if askA
-0000bc00: 6464 6974 696f 6e61 6c43 6861 744d 6f64  dditionalChatMod
-0000bc10: 656c 2829 3a0a 2020 2020 2020 2020 2020  el():.          
-0000bc20: 2020 2020 2020 7072 696e 7432 2822 2320        print2("# 
-0000bc30: 4368 6174 204d 6f64 656c 202d 2066 6f72  Chat Model - for
-0000bc40: 2063 6f6e 7665 7273 6174 696f 6e20 6f6e   conversation on
-0000bc50: 6c79 2229 0a20 2020 2020 2020 2020 2020  ly").           
-0000bc60: 2020 2020 2073 656c 662e 7365 744c 6c6d       self.setLlm
-0000bc70: 4d6f 6465 6c5f 6f6c 6c61 6d61 2822 636f  Model_ollama("co
-0000bc80: 6465 2229 0a20 2020 2020 2020 2065 6c69  de").        eli
-0000bc90: 6620 636f 6e66 6967 2e6c 6c6d 496e 7465  f config.llmInte
-0000bca0: 7266 6163 6520 3d3d 2022 6c6c 616d 6163  rface == "llamac
-0000bcb0: 7070 223a 0a20 2020 2020 2020 2020 2020  pp":.           
-0000bcc0: 2070 7269 6e74 3228 2223 204d 6169 6e20   print2("# Main 
-0000bcd0: 4d6f 6465 6c20 2d20 666f 7220 626f 7468  Model - for both
-0000bce0: 2074 6173 6b20 6578 6563 7574 696f 6e20   task execution 
-0000bcf0: 616e 6420 636f 6e76 6572 7361 7469 6f6e  and conversation
-0000bd00: 2229 0a20 2020 2020 2020 2020 2020 2073  ").            s
-0000bd10: 656c 662e 7365 744c 6c6d 4d6f 6465 6c5f  elf.setLlmModel_
-0000bd20: 6c6c 616d 6163 7070 2829 0a20 2020 2020  llamacpp().     
-0000bd30: 2020 2020 2020 2069 6620 6173 6b41 6464         if askAdd
-0000bd40: 6974 696f 6e61 6c43 6861 744d 6f64 656c  itionalChatModel
-0000bd50: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-0000bd60: 2020 2020 7072 696e 7432 2822 2320 4368      print2("# Ch
-0000bd70: 6174 204d 6f64 656c 202d 2066 6f72 2063  at Model - for c
-0000bd80: 6f6e 7665 7273 6174 696f 6e20 6f6e 6c79  onversation only
-0000bd90: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-0000bda0: 2020 2073 656c 662e 7365 744c 6c6d 4d6f     self.setLlmMo
-0000bdb0: 6465 6c5f 6c6c 616d 6163 7070 2822 636f  del_llamacpp("co
-0000bdc0: 6465 2229 0a20 2020 2020 2020 2065 6c69  de").        eli
-0000bdd0: 6620 636f 6e66 6967 2e6c 6c6d 496e 7465  f config.llmInte
-0000bde0: 7266 6163 6520 3d3d 2022 6765 6d69 6e69  rface == "gemini
-0000bdf0: 223a 0a20 2020 2020 2020 2020 2020 2070  ":.            p
-0000be00: 7269 6e74 3328 224d 6f64 656c 2073 656c  rint3("Model sel
-0000be10: 6563 7465 643a 2047 6f6f 676c 6520 4765  ected: Google Ge
-0000be20: 6d69 6e69 2050 726f 2229 0a20 2020 2020  mini Pro").     
-0000be30: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0000be40: 2020 2020 2073 656c 662e 7365 744c 6c6d       self.setLlm
-0000be50: 4d6f 6465 6c5f 6368 6174 6770 7428 290a  Model_chatgpt().
-0000be60: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
-0000be70: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
-0000be80: 2020 2020 6966 206e 6f74 2063 6f6e 6669      if not confi
-0000be90: 672e 6c6c 6d49 6e74 6572 6661 6365 203d  g.llmInterface =
-0000bea0: 3d20 6375 7272 656e 744c 6c6d 496e 7465  = currentLlmInte
-0000beb0: 7266 6163 653a 0a20 2020 2020 2020 2020  rface:.         
-0000bec0: 2020 2070 7269 6e74 3228 224c 4c4d 2049     print2("LLM I
-0000bed0: 6e74 6572 6661 6365 2063 6861 6e67 6564  nterface changed
-0000bee0: 2120 5374 6172 7469 6e67 2061 206e 6577  ! Starting a new
-0000bef0: 2063 6861 7420 7365 7373 696f 6e20 2e2e   chat session ..
-0000bf00: 2e22 290a 2020 2020 2020 2020 2020 2020  .").            
-0000bf10: 636f 6e66 6967 2e64 6566 6175 6c74 456e  config.defaultEn
-0000bf20: 7472 7920 3d20 222e 6e65 7722 0a20 2020  try = ".new".   
-0000bf30: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-0000bf40: 6163 6365 7074 5f64 6566 6175 6c74 203d  accept_default =
-0000bf50: 2054 7275 650a 0a20 2020 2064 6566 2073   True..    def s
-0000bf60: 656c 6563 744f 6c6c 616d 614d 6f64 656c  electOllamaModel
-0000bf70: 2873 656c 662c 206d 6573 7361 6765 3d22  (self, message="
-0000bf80: 5365 6c65 6374 2061 206d 6f64 656c 2066  Select a model f
-0000bf90: 726f 6d20 4f6c 6c61 6d61 204c 6962 7261  rom Ollama Libra
-0000bfa0: 7279 3a22 2c20 6665 6174 7572 653d 2264  ry:", feature="d
-0000bfb0: 6566 6175 6c74 2229 202d 3e20 7374 723a  efault") -> str:
-0000bfc0: 0a20 2020 2020 2020 2023 2068 6973 746f  .        # histo
-0000bfd0: 7279 2073 6573 7369 6f6e 0a20 2020 2020  ry session.     
-0000bfe0: 2020 2068 6973 746f 7279 466f 6c64 6572     historyFolder
-0000bff0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
-0000c000: 636f 6e66 6967 2e6c 6f63 616c 5374 6f72  config.localStor
-0000c010: 6167 652c 2022 6869 7374 6f72 7922 290a  age, "history").
-0000c020: 2020 2020 2020 2020 5061 7468 2868 6973          Path(his
-0000c030: 746f 7279 466f 6c64 6572 292e 6d6b 6469  toryFolder).mkdi
-0000c040: 7228 7061 7265 6e74 733d 5472 7565 2c20  r(parents=True, 
-0000c050: 6578 6973 745f 6f6b 3d54 7275 6529 0a20  exist_ok=True). 
-0000c060: 2020 2020 2020 206d 6f64 656c 5f68 6973         model_his
-0000c070: 746f 7279 203d 206f 732e 7061 7468 2e6a  tory = os.path.j
-0000c080: 6f69 6e28 6869 7374 6f72 7946 6f6c 6465  oin(historyFolde
-0000c090: 722c 2022 6f6c 6c61 6d61 5f63 6f64 6522  r, "ollama_code"
-0000c0a0: 2069 6620 6665 6174 7572 6520 3d3d 2022   if feature == "
-0000c0b0: 636f 6465 2220 656c 7365 2022 6f6c 6c61  code" else "olla
-0000c0c0: 6d61 5f64 6566 6175 6c74 2229 0a20 2020  ma_default").   
-0000c0d0: 2020 2020 206d 6f64 656c 5f73 6573 7369       model_sessi
-0000c0e0: 6f6e 203d 2050 726f 6d70 7453 6573 7369  on = PromptSessi
-0000c0f0: 6f6e 2868 6973 746f 7279 3d46 696c 6548  on(history=FileH
-0000c100: 6973 746f 7279 286d 6f64 656c 5f68 6973  istory(model_his
-0000c110: 746f 7279 2929 0a20 2020 2020 2020 2063  tory)).        c
-0000c120: 6f6d 706c 6574 6572 203d 2046 757a 7a79  ompleter = Fuzzy
-0000c130: 436f 6d70 6c65 7465 7228 576f 7264 436f  Completer(WordCo
-0000c140: 6d70 6c65 7465 7228 736f 7274 6564 286f  mpleter(sorted(o
-0000c150: 6c6c 616d 615f 6d6f 6465 6c73 292c 2069  llama_models), i
-0000c160: 676e 6f72 655f 6361 7365 3d54 7275 6529  gnore_case=True)
-0000c170: 290a 2020 2020 2020 2020 626f 7474 6f6d  ).        bottom
-0000c180: 5f74 6f6f 6c62 6172 203d 2066 2222 2220  _toolbar = f""" 
-0000c190: 7b73 7472 2863 6f6e 6669 672e 686f 746b  {str(config.hotk
-0000c1a0: 6579 5f65 7869 7429 2e72 6570 6c61 6365  ey_exit).replace
-0000c1b0: 2822 2722 2c20 2222 297d 207b 636f 6e66  ("'", "")} {conf
-0000c1c0: 6967 2e65 7869 745f 656e 7472 797d 2222  ig.exit_entry}""
-0000c1d0: 220a 2020 2020 2020 2020 6465 6661 756c  ".        defaul
-0000c1e0: 7420 3d20 636f 6e66 6967 2e6f 6c6c 616d  t = config.ollam
-0000c1f0: 6143 6861 744d 6f64 656c 2069 6620 6665  aChatModel if fe
-0000c200: 6174 7572 6520 3d3d 2022 636f 6465 2220  ature == "code" 
-0000c210: 656c 7365 2063 6f6e 6669 672e 6f6c 6c61  else config.olla
-0000c220: 6d61 4d61 696e 4d6f 6465 6c0a 2020 2020  maMainModel.    
-0000c230: 2020 2020 6966 2063 6f6e 6669 672e 6c6c      if config.ll
-0000c240: 6d49 6e74 6572 6661 6365 203d 3d20 226c  mInterface == "l
-0000c250: 6c61 6d61 6370 7022 3a0a 2020 2020 2020  lamacpp":.      
-0000c260: 2020 2020 2020 6966 2066 6561 7475 7265        if feature
-0000c270: 203d 3d20 2264 6566 6175 6c74 2220 616e   == "default" an
-0000c280: 6420 636f 6e66 6967 2e6c 6c61 6d61 6370  d config.llamacp
-0000c290: 704d 6169 6e4d 6f64 656c 5f6f 6c6c 616d  pMainModel_ollam
-0000c2a0: 615f 7461 673a 0a20 2020 2020 2020 2020  a_tag:.         
-0000c2b0: 2020 2020 2020 2064 6566 6175 6c74 203d         default =
-0000c2c0: 2063 6f6e 6669 672e 6c6c 616d 6163 7070   config.llamacpp
-0000c2d0: 4d61 696e 4d6f 6465 6c5f 6f6c 6c61 6d61  MainModel_ollama
-0000c2e0: 5f74 6167 0a20 2020 2020 2020 2020 2020  _tag.           
-0000c2f0: 2065 6c69 6620 6665 6174 7572 6520 3d3d   elif feature ==
-0000c300: 2022 636f 6465 2220 616e 6420 636f 6e66   "code" and conf
-0000c310: 6967 2e6c 6c61 6d61 6370 7043 6861 744d  ig.llamacppChatM
-0000c320: 6f64 656c 5f6f 6c6c 616d 615f 7461 673a  odel_ollama_tag:
-0000c330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c340: 2064 6566 6175 6c74 203d 2063 6f6e 6669   default = confi
-0000c350: 672e 6c6c 616d 6163 7070 4368 6174 4d6f  g.llamacppChatMo
-0000c360: 6465 6c5f 6f6c 6c61 6d61 5f74 6167 0a20  del_ollama_tag. 
-0000c370: 2020 2020 2020 2023 2070 726f 6d70 740a         # prompt.
-0000c380: 2020 2020 2020 2020 7072 696e 7431 286d          print1(m
-0000c390: 6573 7361 6765 290a 2020 2020 2020 2020  essage).        
-0000c3a0: 7072 696e 7431 2822 2846 6f72 2064 6574  print1("(For det
-0000c3b0: 6169 6c73 2c20 7669 7369 7420 6874 7470  ails, visit http
-0000c3c0: 733a 2f2f 6f6c 6c61 6d61 2e63 6f6d 2f6c  s://ollama.com/l
-0000c3d0: 6962 7261 7279 2922 290a 2020 2020 2020  ibrary)").      
-0000c3e0: 2020 6d6f 6465 6c20 3d20 7365 6c66 2e70    model = self.p
-0000c3f0: 726f 6d70 7473 2e73 696d 706c 6550 726f  rompts.simplePro
-0000c400: 6d70 7428 7374 796c 653d 7365 6c66 2e70  mpt(style=self.p
-0000c410: 726f 6d70 7473 2e70 726f 6d70 7453 7479  rompts.promptSty
-0000c420: 6c65 322c 2070 726f 6d70 7453 6573 7369  le2, promptSessi
-0000c430: 6f6e 3d6d 6f64 656c 5f73 6573 7369 6f6e  on=model_session
-0000c440: 2c20 626f 7474 6f6d 5f74 6f6f 6c62 6172  , bottom_toolbar
-0000c450: 3d62 6f74 746f 6d5f 746f 6f6c 6261 722c  =bottom_toolbar,
-0000c460: 2064 6566 6175 6c74 3d64 6566 6175 6c74   default=default
-0000c470: 2c20 636f 6d70 6c65 7465 723d 636f 6d70  , completer=comp
-0000c480: 6c65 7465 7229 0a20 2020 2020 2020 2069  leter).        i
-0000c490: 6620 6d6f 6465 6c20 616e 6420 6e6f 7420  f model and not 
-0000c4a0: 6d6f 6465 6c2e 6c6f 7765 7228 2920 3d3d  model.lower() ==
-0000c4b0: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
-0000c4c0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-0000c4d0: 7265 7475 726e 206d 6f64 656c 0a20 2020  return model.   
-0000c4e0: 2020 2020 2072 6574 7572 6e20 2222 0a0a       return ""..
-0000c4f0: 2020 2020 6465 6620 7365 744c 6c6d 4d6f      def setLlmMo
-0000c500: 6465 6c5f 6f6c 6c61 6d61 2873 656c 662c  del_ollama(self,
-0000c510: 2066 6561 7475 7265 3d22 6465 6661 756c   feature="defaul
-0000c520: 7422 293a 0a20 2020 2020 2020 206d 6f64  t"):.        mod
-0000c530: 656c 203d 2073 656c 662e 7365 6c65 6374  el = self.select
-0000c540: 4f6c 6c61 6d61 4d6f 6465 6c28 6665 6174  OllamaModel(feat
-0000c550: 7572 653d 6665 6174 7572 6529 0a20 2020  ure=feature).   
-0000c560: 2020 2020 2069 6620 6d6f 6465 6c3a 0a20       if model:. 
-0000c570: 2020 2020 2020 2020 2020 2064 6f77 6e6c             downl
-0000c580: 6f61 6465 644f 6c6c 616d 614d 6f64 656c  oadedOllamaModel
-0000c590: 7320 3d20 6765 7444 6f77 6e6c 6f61 6465  s = getDownloade
-0000c5a0: 644f 6c6c 616d 614d 6f64 656c 7328 290a  dOllamaModels().
-0000c5b0: 2020 2020 2020 2020 2020 2020 6966 206d              if m
-0000c5c0: 6f64 656c 2069 6e20 646f 776e 6c6f 6164  odel in download
-0000c5d0: 6564 4f6c 6c61 6d61 4d6f 6465 6c73 3a0a  edOllamaModels:.
-0000c5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c5f0: 6966 2066 6561 7475 7265 203d 3d20 2264  if feature == "d
-0000c600: 6566 6175 6c74 223a 0a20 2020 2020 2020  efault":.       
-0000c610: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-0000c620: 6669 672e 6f6c 6c61 6d61 4d61 696e 4d6f  fig.ollamaMainMo
-0000c630: 6465 6c20 3d20 6d6f 6465 6c0a 2020 2020  del = model.    
-0000c640: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-0000c650: 2066 6561 7475 7265 203d 3d20 2263 6f64   feature == "cod
-0000c660: 6522 3a0a 2020 2020 2020 2020 2020 2020  e":.            
-0000c670: 2020 2020 2020 2020 636f 6e66 6967 2e6f          config.o
-0000c680: 6c6c 616d 6143 6861 744d 6f64 656c 203d  llamaChatModel =
-0000c690: 206d 6f64 656c 0a20 2020 2020 2020 2020   model.         
-0000c6a0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0000c6b0: 2020 2020 2020 2020 2069 6620 7368 7574           if shut
-0000c6c0: 696c 2e77 6869 6368 2822 6f6c 6c61 6d61  il.which("ollama
-0000c6d0: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
-0000c6e0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-0000c6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c700: 2020 2020 2044 6f77 6e6c 6f61 6465 722e       Downloader.
-0000c710: 646f 776e 6c6f 6164 4f6c 6c61 6d61 4d6f  downloadOllamaMo
-0000c720: 6465 6c28 6d6f 6465 6c2c 2054 7275 6529  del(model, True)
-0000c730: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c740: 2020 2020 2020 2020 2069 6620 6665 6174           if feat
-0000c750: 7572 6520 3d3d 2022 6465 6661 756c 7422  ure == "default"
-0000c760: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000c770: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0000c780: 6e66 6967 2e6f 6c6c 616d 614d 6169 6e4d  nfig.ollamaMainM
-0000c790: 6f64 656c 203d 206d 6f64 656c 0a20 2020  odel = model.   
-0000c7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c7b0: 2020 2020 2065 6c69 6620 6665 6174 7572       elif featur
-0000c7c0: 6520 3d3d 2022 636f 6465 223a 0a20 2020  e == "code":.   
-0000c7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c7e0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-0000c7f0: 6f6c 6c61 6d61 4368 6174 4d6f 6465 6c20  ollamaChatModel 
-0000c800: 3d20 6d6f 6465 6c0a 2020 2020 2020 2020  = model.        
-0000c810: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-0000c820: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
-0000c830: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-0000c840: 7432 2866 2246 6169 6c65 6420 746f 2064  t2(f"Failed to d
-0000c850: 6f77 6e6c 6f61 6420 277b 6d6f 6465 6c7d  ownload '{model}
-0000c860: 2721 2050 6c65 6173 6520 6d61 6b65 2073  '! Please make s
-0000c870: 7572 6520 796f 7520 656e 7465 7220 6120  ure you enter a 
-0000c880: 7661 6c69 6420 6d6f 6465 6c20 6e61 6d65  valid model name
-0000c890: 206f 7220 7461 672e 2229 0a20 2020 2020   or tag.").     
-0000c8a0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0000c8b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c8c0: 2020 2020 2070 7269 6e74 2822 4f6c 6c61       print("Olla
-0000c8d0: 6d61 206e 6f74 2066 6f75 6e64 2120 496e  ma not found! In
-0000c8e0: 7374 616c 6c20 4f6c 6c61 6d61 2066 6972  stall Ollama fir
-0000c8f0: 7374 2074 6f20 7573 6520 4f6c 6c61 6d61  st to use Ollama
-0000c900: 206d 6f64 656c 206c 6962 7261 7279 2122   model library!"
-0000c910: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000c920: 2020 2020 2020 7072 696e 7428 2254 6f20        print("To 
-0000c930: 696e 7374 616c 6c20 4f6c 6c61 6d61 2c20  install Ollama, 
-0000c940: 7669 7369 7420 6874 7470 733a 2f2f 6f6c  visit https://ol
-0000c950: 6c61 6d61 2e63 6f6d 2229 0a0a 2020 2020  lama.com")..    
-0000c960: 6465 6620 7365 744c 6c6d 4d6f 6465 6c5f  def setLlmModel_
-0000c970: 6c6c 616d 6163 7070 2873 656c 662c 2066  llamacpp(self, f
-0000c980: 6561 7475 7265 3d22 6465 6661 756c 7422  eature="default"
-0000c990: 293a 0a20 2020 2020 2020 206c 6962 7261  ):.        libra
-0000c9a0: 7279 203d 2073 656c 662e 6469 616c 6f67  ry = self.dialog
-0000c9b0: 732e 6765 7456 616c 6964 4f70 7469 6f6e  s.getValidOption
-0000c9c0: 7328 0a20 2020 2020 2020 2020 2020 206f  s(.            o
-0000c9d0: 7074 696f 6e73 3d28 224f 6c6c 616d 6120  ptions=("Ollama 
-0000c9e0: 4c69 6272 6172 7922 2c20 2248 7567 6769  Library", "Huggi
-0000c9f0: 6e67 6661 6365 2048 7562 222c 2022 4375  ngface Hub", "Cu
-0000ca00: 7374 6f6d 2047 4755 4622 292c 0a20 2020  stom GGUF"),.   
-0000ca10: 2020 2020 2020 2020 2074 6974 6c65 3d22           title="
-0000ca20: 4d6f 6465 6c20 4c69 6272 6172 7922 2c0a  Model Library",.
-0000ca30: 2020 2020 2020 2020 2020 2020 6465 6661              defa
-0000ca40: 756c 743d 224f 6c6c 616d 6120 4c69 6272  ult="Ollama Libr
-0000ca50: 6172 7922 2069 6620 7368 7574 696c 2e77  ary" if shutil.w
-0000ca60: 6869 6368 2822 6f6c 6c61 6d61 2229 2065  hich("ollama") e
-0000ca70: 6c73 6520 2248 7567 6769 6e67 6661 6365  lse "Huggingface
-0000ca80: 2048 7562 222c 0a20 2020 2020 2020 2020   Hub",.         
-0000ca90: 2020 2074 6578 743d 2253 656c 6563 7420     text="Select 
-0000caa0: 6120 6d6f 6465 6c20 6c69 6272 6172 793a  a model library:
-0000cab0: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
-0000cac0: 2020 2020 2069 6620 6c69 6272 6172 793a       if library:
-0000cad0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0000cae0: 6c69 6272 6172 7920 3d3d 2022 4f6c 6c61  library == "Olla
-0000caf0: 6d61 204c 6962 7261 7279 223a 0a20 2020  ma Library":.   
-0000cb00: 2020 2020 2020 2020 2020 2020 206d 6f64               mod
-0000cb10: 656c 203d 2073 656c 662e 7365 6c65 6374  el = self.select
-0000cb20: 4f6c 6c61 6d61 4d6f 6465 6c28 6665 6174  OllamaModel(feat
-0000cb30: 7572 653d 6665 6174 7572 6529 0a20 2020  ure=feature).   
-0000cb40: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000cb50: 6d6f 6465 6c3a 0a20 2020 2020 2020 2020  model:.         
-0000cb60: 2020 2020 2020 2020 2020 2064 6f77 6e6c             downl
-0000cb70: 6f61 6465 644f 6c6c 616d 614d 6f64 656c  oadedOllamaModel
-0000cb80: 7320 3d20 6765 7444 6f77 6e6c 6f61 6465  s = getDownloade
-0000cb90: 644f 6c6c 616d 614d 6f64 656c 7328 290a  dOllamaModels().
-0000cba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cbb0: 2020 2020 6966 206d 6f64 656c 2069 6e20      if model in 
-0000cbc0: 646f 776e 6c6f 6164 6564 4f6c 6c61 6d61  downloadedOllama
-0000cbd0: 4d6f 6465 6c73 3a0a 2020 2020 2020 2020  Models:.        
-0000cbe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cbf0: 6966 2066 6561 7475 7265 203d 3d20 2264  if feature == "d
-0000cc00: 6566 6175 6c74 223a 0a20 2020 2020 2020  efault":.       
-0000cc10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc20: 2020 2020 2063 6f6e 6669 672e 6c6c 616d       config.llam
-0000cc30: 6163 7070 4d61 696e 4d6f 6465 6c5f 6d6f  acppMainModel_mo
-0000cc40: 6465 6c5f 7061 7468 203d 2064 6f77 6e6c  del_path = downl
-0000cc50: 6f61 6465 644f 6c6c 616d 614d 6f64 656c  oadedOllamaModel
-0000cc60: 735b 6d6f 6465 6c5d 0a20 2020 2020 2020  s[model].       
-0000cc70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc80: 2065 6c69 6620 6665 6174 7572 6520 3d3d   elif feature ==
-0000cc90: 2022 636f 6465 223a 0a20 2020 2020 2020   "code":.       
-0000cca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ccb0: 2020 2020 2063 6f6e 6669 672e 6c6c 616d       config.llam
-0000ccc0: 6163 7070 4368 6174 4d6f 6465 6c5f 6d6f  acppChatModel_mo
-0000ccd0: 6465 6c5f 7061 7468 203d 2064 6f77 6e6c  del_path = downl
-0000cce0: 6f61 6465 644f 6c6c 616d 614d 6f64 656c  oadedOllamaModel
-0000ccf0: 735b 6d6f 6465 6c5d 0a20 2020 2020 2020  s[model].       
-0000cd00: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-0000cd10: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0000cd20: 2020 2020 2020 2020 2020 2069 6620 7368             if sh
-0000cd30: 7574 696c 2e77 6869 6368 2822 6f6c 6c61  util.which("olla
-0000cd40: 6d61 2229 3a0a 2020 2020 2020 2020 2020  ma"):.          
-0000cd50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cd60: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-0000cd70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cd80: 2020 2020 2020 2044 6f77 6e6c 6f61 6465         Downloade
-0000cd90: 722e 646f 776e 6c6f 6164 4f6c 6c61 6d61  r.downloadOllama
-0000cda0: 4d6f 6465 6c28 6d6f 6465 6c2c 2054 7275  Model(model, Tru
-0000cdb0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-0000cdc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cdd0: 2020 2023 2072 6566 7265 7368 2064 6f77     # refresh dow
-0000cde0: 6e6c 6f61 6420 6c69 7374 0a20 2020 2020  nload list.     
-0000cdf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce00: 2020 2020 2020 2020 2020 2064 6f77 6e6c             downl
-0000ce10: 6f61 6465 644f 6c6c 616d 614d 6f64 656c  oadedOllamaModel
-0000ce20: 7320 3d20 6765 7444 6f77 6e6c 6f61 6465  s = getDownloade
-0000ce30: 644f 6c6c 616d 614d 6f64 656c 7328 290a  dOllamaModels().
-0000ce40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce60: 6966 2066 6561 7475 7265 203d 3d20 2264  if feature == "d
-0000ce70: 6566 6175 6c74 223a 0a20 2020 2020 2020  efault":.       
-0000ce80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce90: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-0000cea0: 6669 672e 6c6c 616d 6163 7070 4d61 696e  fig.llamacppMain
-0000ceb0: 4d6f 6465 6c5f 6d6f 6465 6c5f 7061 7468  Model_model_path
-0000cec0: 203d 2064 6f77 6e6c 6f61 6465 644f 6c6c   = downloadedOll
-0000ced0: 616d 614d 6f64 656c 735b 6d6f 6465 6c5d  amaModels[model]
-0000cee0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000cef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cf00: 2065 6c69 6620 6665 6174 7572 6520 3d3d   elif feature ==
-0000cf10: 2022 636f 6465 223a 0a20 2020 2020 2020   "code":.       
-0000cf20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cf30: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-0000cf40: 6669 672e 6c6c 616d 6163 7070 4368 6174  fig.llamacppChat
-0000cf50: 4d6f 6465 6c5f 6d6f 6465 6c5f 7061 7468  Model_model_path
-0000cf60: 203d 2064 6f77 6e6c 6f61 6465 644f 6c6c   = downloadedOll
-0000cf70: 616d 614d 6f64 656c 735b 6d6f 6465 6c5d  amaModels[model]
-0000cf80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000cf90: 2020 2020 2020 2020 2020 2020 2065 7863               exc
-0000cfa0: 6570 743a 0a20 2020 2020 2020 2020 2020  ept:.           
-0000cfb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cfc0: 2020 2020 2070 7269 6e74 3228 6622 4661       print2(f"Fa
-0000cfd0: 696c 6564 2074 6f20 646f 776e 6c6f 6164  iled to download
-0000cfe0: 2027 7b6d 6f64 656c 7d27 2120 506c 6561   '{model}'! Plea
-0000cff0: 7365 206d 616b 6520 7375 7265 2079 6f75  se make sure you
-0000d000: 2065 6e74 6572 2061 2076 616c 6964 206d   enter a valid m
-0000d010: 6f64 656c 206e 616d 6520 6f72 2074 6167  odel name or tag
-0000d020: 2e22 290a 2020 2020 2020 2020 2020 2020  .").            
-0000d030: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0000d040: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000d050: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-0000d060: 696e 7428 224f 6c6c 616d 6120 6e6f 7420  int("Ollama not 
-0000d070: 666f 756e 6421 2049 6e73 7461 6c6c 204f  found! Install O
-0000d080: 6c6c 616d 6120 6669 7273 7420 746f 2075  llama first to u
-0000d090: 7365 204f 6c6c 616d 6120 6d6f 6465 6c20  se Ollama model 
-0000d0a0: 6c69 6272 6172 7921 2229 0a20 2020 2020  library!").     
-0000d0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d0c0: 2020 2020 2020 2070 7269 6e74 2822 546f         print("To
-0000d0d0: 2069 6e73 7461 6c6c 204f 6c6c 616d 612c   install Ollama,
-0000d0e0: 2076 6973 6974 2068 7474 7073 3a2f 2f6f   visit https://o
-0000d0f0: 6c6c 616d 612e 636f 6d22 290a 2020 2020  llama.com").    
-0000d100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d110: 6966 2066 6561 7475 7265 203d 3d20 2264  if feature == "d
-0000d120: 6566 6175 6c74 223a 0a20 2020 2020 2020  efault":.       
-0000d130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d140: 2063 6f6e 6669 672e 6c6c 616d 6163 7070   config.llamacpp
-0000d150: 4d61 696e 4d6f 6465 6c5f 6f6c 6c61 6d61  MainModel_ollama
-0000d160: 5f74 6167 203d 206d 6f64 656c 0a20 2020  _tag = model.   
-0000d170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d180: 2065 6c69 6620 6665 6174 7572 6520 3d3d   elif feature ==
-0000d190: 2022 636f 6465 223a 0a20 2020 2020 2020   "code":.       
-0000d1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d1b0: 2063 6f6e 6669 672e 6c6c 616d 6163 7070   config.llamacpp
-0000d1c0: 4368 6174 4d6f 6465 6c5f 6f6c 6c61 6d61  ChatModel_ollama
-0000d1d0: 5f74 6167 203d 206d 6f64 656c 0a20 2020  _tag = model.   
-0000d1e0: 2020 2020 2020 2020 2065 6c69 6620 6c69           elif li
-0000d1f0: 6272 6172 7920 3d3d 2022 4875 6767 696e  brary == "Huggin
-0000d200: 6766 6163 6520 4875 6222 3a0a 2020 2020  gface Hub":.    
-0000d210: 2020 2020 2020 2020 2020 2020 646f 776e              down
-0000d220: 6c6f 6164 6564 4767 7566 4d6f 6465 6c73  loadedGgufModels
-0000d230: 203d 2067 6574 446f 776e 6c6f 6164 6564   = getDownloaded
-0000d240: 4767 7566 4d6f 6465 6c73 2829 0a20 2020  GgufModels().   
-0000d250: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000d260: 6e6f 7420 646f 776e 6c6f 6164 6564 4767  not downloadedGg
-0000d270: 7566 4d6f 6465 6c73 3a0a 2020 2020 2020  ufModels:.      
-0000d280: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0000d290: 6c66 2e73 6574 4375 7374 6f6d 4875 6767  lf.setCustomHugg
-0000d2a0: 696e 6766 6163 654d 6f64 656c 2866 6561  ingfaceModel(fea
-0000d2b0: 7475 7265 3d66 6561 7475 7265 290a 2020  ture=feature).  
-0000d2c0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0000d2d0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000d2e0: 2020 2020 2020 2020 6d6f 6465 6c20 3d20          model = 
-0000d2f0: 7365 6c66 2e64 6961 6c6f 6773 2e67 6574  self.dialogs.get
-0000d300: 5661 6c69 644f 7074 696f 6e73 280a 2020  ValidOptions(.  
-0000d310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d320: 2020 2020 2020 6f70 7469 6f6e 733d 6c69        options=li
-0000d330: 7374 2864 6f77 6e6c 6f61 6465 6447 6775  st(downloadedGgu
-0000d340: 664d 6f64 656c 732e 6b65 7973 2829 2920  fModels.keys()) 
-0000d350: 2b20 5b22 4f74 6865 7273 202e 2e2e 225d  + ["Others ..."]
-0000d360: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000d370: 2020 2020 2020 2020 2020 7469 746c 653d            title=
-0000d380: 2248 7567 6769 6e67 6661 6365 2048 7562  "Huggingface Hub
-0000d390: 204d 6f64 656c 222c 0a20 2020 2020 2020   Model",.       
-0000d3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d3b0: 2064 6566 6175 6c74 3d22 2220 6966 202e   default="" if .
-0000d3c0: 2e2e 2065 6c73 6520 2222 2c0a 2020 2020  .. else "",.    
-0000d3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d3e0: 2020 2020 7465 7874 3d22 5365 6c65 6374      text="Select
-0000d3f0: 2061 2068 7567 6769 6e67 6661 6365 206d   a huggingface m
-0000d400: 6f64 656c 3a22 2c0a 2020 2020 2020 2020  odel:",.        
-0000d410: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-0000d420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d430: 2020 6966 206d 6f64 656c 3a0a 2020 2020    if model:.    
-0000d440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d450: 2020 2020 6966 206d 6f64 656c 203d 3d20      if model == 
-0000d460: 224f 7468 6572 7320 2e2e 2e22 3a0a 2020  "Others ...":.  
-0000d470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d480: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
-0000d490: 6574 4375 7374 6f6d 4875 6767 696e 6766  etCustomHuggingf
-0000d4a0: 6163 654d 6f64 656c 2866 6561 7475 7265  aceModel(feature
-0000d4b0: 3d66 6561 7475 7265 290a 2020 2020 2020  =feature).      
-0000d4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d4d0: 2020 656c 6966 2066 6561 7475 7265 203d    elif feature =
-0000d4e0: 3d20 2264 6566 6175 6c74 223a 0a20 2020  = "default":.   
-0000d4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d500: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-0000d510: 6c6c 616d 6163 7070 4d61 696e 4d6f 6465  llamacppMainMode
-0000d520: 6c5f 6d6f 6465 6c5f 7061 7468 203d 2064  l_model_path = d
-0000d530: 6f77 6e6c 6f61 6465 6447 6775 664d 6f64  ownloadedGgufMod
-0000d540: 656c 735b 6d6f 6465 6c5d 0a20 2020 2020  els[model].     
-0000d550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d560: 2020 2065 6c69 6620 6665 6174 7572 6520     elif feature 
-0000d570: 3d3d 2022 636f 6465 223a 0a20 2020 2020  == "code":.     
-0000d580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d590: 2020 2020 2020 2063 6f6e 6669 672e 6c6c         config.ll
-0000d5a0: 616d 6163 7070 4368 6174 4d6f 6465 6c5f  amacppChatModel_
-0000d5b0: 6d6f 6465 6c5f 7061 7468 203d 2064 6f77  model_path = dow
-0000d5c0: 6e6c 6f61 6465 6447 6775 664d 6f64 656c  nloadedGgufModel
-0000d5d0: 735b 6d6f 6465 6c5d 0a20 2020 2020 2020  s[model].       
-0000d5e0: 2020 2020 2065 6c69 6620 6c69 6272 6172       elif librar
-0000d5f0: 7920 3d3d 2022 4375 7374 6f6d 2047 4755  y == "Custom GGU
-0000d600: 4622 3a0a 2020 2020 2020 2020 2020 2020  F":.            
-0000d610: 2020 2020 7365 6c66 2e73 6574 4375 7374      self.setCust
-0000d620: 6f6d 4d6f 6465 6c50 6174 6828 6665 6174  omModelPath(feat
-0000d630: 7572 653d 6665 6174 7572 6529 0a0a 2020  ure=feature)..  
-0000d640: 2020 6465 6620 7365 7443 7573 746f 6d4d    def setCustomM
-0000d650: 6f64 656c 5061 7468 2873 656c 662c 2066  odelPath(self, f
-0000d660: 6561 7475 7265 3d22 6465 6661 756c 7422  eature="default"
-0000d670: 293a 0a20 2020 2020 2020 206d 6f64 656c  ):.        model
-0000d680: 5f70 6174 6820 3d20 7365 6c66 2e67 6574  _path = self.get
-0000d690: 5061 7468 2e67 6574 4669 6c65 5061 7468  Path.getFilePath
-0000d6a0: 280a 2020 2020 2020 2020 2020 2020 6368  (.            ch
-0000d6b0: 6563 6b5f 6973 6669 6c65 3d54 7275 652c  eck_isfile=True,
-0000d6c0: 0a20 2020 2020 2020 2020 2020 2065 6d70  .            emp
-0000d6d0: 7479 5f74 6f5f 6361 6e63 656c 3d54 7275  ty_to_cancel=Tru
-0000d6e0: 652c 0a20 2020 2020 2020 2020 2020 206c  e,.            l
-0000d6f0: 6973 745f 636f 6e74 656e 745f 6f6e 5f64  ist_content_on_d
-0000d700: 6972 6563 746f 7279 5f63 6861 6e67 653d  irectory_change=
-0000d710: 5472 7565 2c0a 2020 2020 2020 2020 2020  True,.          
-0000d720: 2020 6b65 6570 5f73 7461 7274 7570 5f64    keep_startup_d
-0000d730: 6972 6563 746f 7279 3d54 7275 652c 0a20  irectory=True,. 
-0000d740: 2020 2020 2020 2020 2020 206d 6573 7361             messa
-0000d750: 6765 3d22 456e 7465 7220 6120 6375 7374  ge="Enter a cust
-0000d760: 6f6d 206d 6f64 656c 2070 6174 683a 222c  om model path:",
-0000d770: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
-0000d780: 6175 6c74 3d63 6f6e 6669 672e 6c6c 616d  ault=config.llam
-0000d790: 6163 7070 4368 6174 4d6f 6465 6c5f 6d6f  acppChatModel_mo
-0000d7a0: 6465 6c5f 7061 7468 2069 6620 6665 6174  del_path if feat
-0000d7b0: 7572 6520 3d3d 2022 636f 6465 2220 656c  ure == "code" el
-0000d7c0: 7365 2063 6f6e 6669 672e 6c6c 616d 6163  se config.llamac
-0000d7d0: 7070 4d61 696e 4d6f 6465 6c5f 6d6f 6465  ppMainModel_mode
-0000d7e0: 6c5f 7061 7468 2c0a 2020 2020 2020 2020  l_path,.        
-0000d7f0: 290a 2020 2020 2020 2020 6966 206d 6f64  ).        if mod
-0000d800: 656c 5f70 6174 6820 616e 6420 6f73 2e70  el_path and os.p
-0000d810: 6174 682e 6973 6669 6c65 286d 6f64 656c  ath.isfile(model
-0000d820: 5f70 6174 6829 3a0a 2020 2020 2020 2020  _path):.        
-0000d830: 2020 2020 6966 2066 6561 7475 7265 203d      if feature =
-0000d840: 3d20 2264 6566 6175 6c74 223a 0a20 2020  = "default":.   
-0000d850: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-0000d860: 6669 672e 6c6c 616d 6163 7070 4d61 696e  fig.llamacppMain
-0000d870: 4d6f 6465 6c5f 6d6f 6465 6c5f 7061 7468  Model_model_path
-0000d880: 203d 206d 6f64 656c 5f70 6174 680a 2020   = model_path.  
-0000d890: 2020 2020 2020 2020 2020 656c 6966 2066            elif f
-0000d8a0: 6561 7475 7265 203d 3d20 2263 6f64 6522  eature == "code"
-0000d8b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000d8c0: 2020 636f 6e66 6967 2e6c 6c61 6d61 6370    config.llamacp
-0000d8d0: 7043 6861 744d 6f64 656c 5f6d 6f64 656c  pChatModel_model
-0000d8e0: 5f70 6174 6820 3d20 6d6f 6465 6c5f 7061  _path = model_pa
-0000d8f0: 7468 0a0a 2020 2020 6465 6620 7365 7443  th..    def setC
-0000d900: 7573 746f 6d48 7567 6769 6e67 6661 6365  ustomHuggingface
-0000d910: 4d6f 6465 6c28 7365 6c66 2c20 6665 6174  Model(self, feat
-0000d920: 7572 653d 2264 6566 6175 6c74 2229 3a0a  ure="default"):.
-0000d930: 2020 2020 2020 2020 6869 7374 6f72 7946          historyF
-0000d940: 6f6c 6465 7220 3d20 6f73 2e70 6174 682e  older = os.path.
-0000d950: 6a6f 696e 2863 6f6e 6669 672e 6c6f 6361  join(config.loca
-0000d960: 6c53 746f 7261 6765 2c20 2268 6973 746f  lStorage, "histo
-0000d970: 7279 2229 0a20 2020 2020 2020 2050 6174  ry").        Pat
-0000d980: 6828 6869 7374 6f72 7946 6f6c 6465 7229  h(historyFolder)
-0000d990: 2e6d 6b64 6972 2870 6172 656e 7473 3d54  .mkdir(parents=T
-0000d9a0: 7275 652c 2065 7869 7374 5f6f 6b3d 5472  rue, exist_ok=Tr
-0000d9b0: 7565 290a 2020 2020 2020 2020 7265 706f  ue).        repo
-0000d9c0: 5f69 645f 6869 7374 6f72 7920 3d20 6f73  _id_history = os
-0000d9d0: 2e70 6174 682e 6a6f 696e 2868 6973 746f  .path.join(histo
-0000d9e0: 7279 466f 6c64 6572 2c20 226c 6c61 6d61  ryFolder, "llama
-0000d9f0: 6370 705f 636f 6465 5f72 6570 6f5f 6964  cpp_code_repo_id
-0000da00: 2220 6966 2066 6561 7475 7265 203d 3d20  " if feature == 
-0000da10: 2263 6f64 6522 2065 6c73 6520 226c 6c61  "code" else "lla
-0000da20: 6d61 6370 705f 6465 6661 756c 745f 7265  macpp_default_re
-0000da30: 706f 5f69 6422 290a 2020 2020 2020 2020  po_id").        
-0000da40: 7265 706f 5f69 645f 7365 7373 696f 6e20  repo_id_session 
-0000da50: 3d20 5072 6f6d 7074 5365 7373 696f 6e28  = PromptSession(
-0000da60: 6869 7374 6f72 793d 4669 6c65 4869 7374  history=FileHist
-0000da70: 6f72 7928 7265 706f 5f69 645f 6869 7374  ory(repo_id_hist
-0000da80: 6f72 7929 290a 2020 2020 2020 2020 6669  ory)).        fi
-0000da90: 6c65 6e61 6d65 5f68 6973 746f 7279 203d  lename_history =
-0000daa0: 206f 732e 7061 7468 2e6a 6f69 6e28 6869   os.path.join(hi
-0000dab0: 7374 6f72 7946 6f6c 6465 722c 2022 6c6c  storyFolder, "ll
-0000dac0: 616d 6163 7070 5f63 6f64 655f 6669 6c65  amacpp_code_file
-0000dad0: 6e61 6d65 2220 6966 2066 6561 7475 7265  name" if feature
-0000dae0: 203d 3d20 2263 6f64 6522 2065 6c73 6520   == "code" else 
-0000daf0: 226c 6c61 6d61 6370 705f 6465 6661 756c  "llamacpp_defaul
-0000db00: 745f 6669 6c65 6e61 6d65 2229 0a20 2020  t_filename").   
-0000db10: 2020 2020 2066 696c 656e 616d 655f 7365       filename_se
-0000db20: 7373 696f 6e20 3d20 5072 6f6d 7074 5365  ssion = PromptSe
-0000db30: 7373 696f 6e28 6869 7374 6f72 793d 4669  ssion(history=Fi
-0000db40: 6c65 4869 7374 6f72 7928 6669 6c65 6e61  leHistory(filena
-0000db50: 6d65 5f68 6973 746f 7279 2929 0a20 2020  me_history)).   
-0000db60: 2020 2020 2062 6f74 746f 6d5f 746f 6f6c       bottom_tool
-0000db70: 6261 7220 3d20 6622 2222 207b 7374 7228  bar = f""" {str(
-0000db80: 636f 6e66 6967 2e68 6f74 6b65 795f 6578  config.hotkey_ex
-0000db90: 6974 292e 7265 706c 6163 6528 2227 222c  it).replace("'",
-0000dba0: 2022 2229 7d20 7b63 6f6e 6669 672e 6578   "")} {config.ex
-0000dbb0: 6974 5f65 6e74 7279 7d22 2222 0a20 2020  it_entry}""".   
-0000dbc0: 2020 2020 2070 7269 6e74 3128 2250 6c65       print1("Ple
-0000dbd0: 6173 6520 7370 6563 6966 7920 7468 6520  ase specify the 
-0000dbe0: 6875 6767 696e 6766 6163 6520 7265 706f  huggingface repo
-0000dbf0: 2069 6420 6f66 2061 202a 2e67 6775 6620   id of a *.gguf 
-0000dc00: 6d6f 6465 6c3a 2229 0a20 2020 2020 2020  model:").       
-0000dc10: 2072 6570 6f5f 6964 203d 2073 656c 662e   repo_id = self.
-0000dc20: 7072 6f6d 7074 732e 7369 6d70 6c65 5072  prompts.simplePr
-0000dc30: 6f6d 7074 2873 7479 6c65 3d73 656c 662e  ompt(style=self.
-0000dc40: 7072 6f6d 7074 732e 7072 6f6d 7074 5374  prompts.promptSt
-0000dc50: 796c 6532 2c20 7072 6f6d 7074 5365 7373  yle2, promptSess
-0000dc60: 696f 6e3d 7265 706f 5f69 645f 7365 7373  ion=repo_id_sess
-0000dc70: 696f 6e2c 2062 6f74 746f 6d5f 746f 6f6c  ion, bottom_tool
-0000dc80: 6261 723d 626f 7474 6f6d 5f74 6f6f 6c62  bar=bottom_toolb
-0000dc90: 6172 2c20 6465 6661 756c 743d 636f 6e66  ar, default=conf
-0000dca0: 6967 2e6c 6c61 6d61 6370 7043 6861 744d  ig.llamacppChatM
-0000dcb0: 6f64 656c 5f72 6570 6f5f 6964 2069 6620  odel_repo_id if 
-0000dcc0: 6665 6174 7572 6520 3d3d 2022 636f 6465  feature == "code
-0000dcd0: 2220 656c 7365 2063 6f6e 6669 672e 6c6c  " else config.ll
-0000dce0: 616d 6163 7070 4d61 696e 4d6f 6465 6c5f  amacppMainModel_
-0000dcf0: 7265 706f 5f69 6429 0a20 2020 2020 2020  repo_id).       
-0000dd00: 2070 7269 6e74 3228 2250 6c65 6173 6520   print2("Please 
-0000dd10: 7370 6563 6966 7920 6120 6669 6c65 6e61  specify a filena
-0000dd20: 6d65 206f 7220 676c 6f62 2070 6174 7465  me or glob patte
-0000dd30: 726e 2074 6f20 6d61 7463 6820 7468 6520  rn to match the 
-0000dd40: 6d6f 6465 6c20 6669 6c65 2069 6e20 7468  model file in th
-0000dd50: 6520 7265 706f 3a22 290a 2020 2020 2020  e repo:").      
-0000dd60: 2020 6669 6c65 6e61 6d65 203d 2073 656c    filename = sel
-0000dd70: 662e 7072 6f6d 7074 732e 7369 6d70 6c65  f.prompts.simple
-0000dd80: 5072 6f6d 7074 2873 7479 6c65 3d73 656c  Prompt(style=sel
-0000dd90: 662e 7072 6f6d 7074 732e 7072 6f6d 7074  f.prompts.prompt
-0000dda0: 5374 796c 6532 2c20 7072 6f6d 7074 5365  Style2, promptSe
-0000ddb0: 7373 696f 6e3d 6669 6c65 6e61 6d65 5f73  ssion=filename_s
-0000ddc0: 6573 7369 6f6e 2c20 626f 7474 6f6d 5f74  ession, bottom_t
-0000ddd0: 6f6f 6c62 6172 3d62 6f74 746f 6d5f 746f  oolbar=bottom_to
-0000dde0: 6f6c 6261 722c 2064 6566 6175 6c74 3d63  olbar, default=c
-0000ddf0: 6f6e 6669 672e 6c6c 616d 6163 7070 4368  onfig.llamacppCh
-0000de00: 6174 4d6f 6465 6c5f 6669 6c65 6e61 6d65  atModel_filename
-0000de10: 2069 6620 6665 6174 7572 6520 3d3d 2022   if feature == "
-0000de20: 636f 6465 2220 656c 7365 2063 6f6e 6669  code" else confi
-0000de30: 672e 6c6c 616d 6163 7070 4d61 696e 4d6f  g.llamacppMainMo
-0000de40: 6465 6c5f 6669 6c65 6e61 6d65 290a 2020  del_filename).  
-0000de50: 2020 2020 2020 6966 2028 7265 706f 5f69        if (repo_i
-0000de60: 6420 616e 6420 6e6f 7420 7265 706f 5f69  d and not repo_i
-0000de70: 642e 6c6f 7765 7228 2920 3d3d 2063 6f6e  d.lower() == con
-0000de80: 6669 672e 6578 6974 5f65 6e74 7279 2920  fig.exit_entry) 
-0000de90: 616e 6420 2866 696c 656e 616d 6520 616e  and (filename an
-0000dea0: 6420 6e6f 7420 6669 6c65 6e61 6d65 2e6c  d not filename.l
-0000deb0: 6f77 6572 2829 203d 3d20 636f 6e66 6967  ower() == config
-0000dec0: 2e65 7869 745f 656e 7472 7929 3a0a 2020  .exit_entry):.  
-0000ded0: 2020 2020 2020 2020 2020 6966 2066 6561            if fea
-0000dee0: 7475 7265 203d 3d20 2264 6566 6175 6c74  ture == "default
-0000def0: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
-0000df00: 2020 2063 6f6e 6669 672e 6c6c 616d 6163     config.llamac
-0000df10: 7070 4d61 696e 4d6f 6465 6c5f 7265 706f  ppMainModel_repo
-0000df20: 5f69 6420 3d20 7265 706f 5f69 640a 2020  _id = repo_id.  
-0000df30: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0000df40: 6e66 6967 2e6c 6c61 6d61 6370 704d 6169  nfig.llamacppMai
-0000df50: 6e4d 6f64 656c 5f66 696c 656e 616d 6520  nModel_filename 
-0000df60: 3d20 6669 6c65 6e61 6d65 0a20 2020 2020  = filename.     
-0000df70: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-0000df80: 672e 6c6c 616d 6163 7070 4d61 696e 4d6f  g.llamacppMainMo
-0000df90: 6465 6c5f 6d6f 6465 6c5f 7061 7468 203d  del_model_path =
-0000dfa0: 2022 220a 2020 2020 2020 2020 2020 2020   "".            
-0000dfb0: 656c 6966 2066 6561 7475 7265 203d 3d20  elif feature == 
-0000dfc0: 2263 6f64 6522 3a0a 2020 2020 2020 2020  "code":.        
-0000dfd0: 2020 2020 2020 2020 636f 6e66 6967 2e6c          config.l
-0000dfe0: 6c61 6d61 6370 7043 6861 744d 6f64 656c  lamacppChatModel
-0000dff0: 5f72 6570 6f5f 6964 203d 2072 6570 6f5f  _repo_id = repo_
-0000e000: 6964 0a20 2020 2020 2020 2020 2020 2020  id.             
-0000e010: 2020 2063 6f6e 6669 672e 6c6c 616d 6163     config.llamac
-0000e020: 7070 4368 6174 4d6f 6465 6c5f 6669 6c65  ppChatModel_file
-0000e030: 6e61 6d65 203d 2066 696c 656e 616d 650a  name = filename.
-0000e040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e050: 636f 6e66 6967 2e6c 6c61 6d61 6370 7043  config.llamacppC
-0000e060: 6861 744d 6f64 656c 5f6d 6f64 656c 5f70  hatModel_model_p
-0000e070: 6174 6820 3d20 2222 0a20 2020 2020 2020  ath = "".       
-0000e080: 2020 2020 2043 616c 6c4c 4c4d 2e63 6865       CallLLM.che
-0000e090: 636b 436f 6d70 6c65 7469 6f6e 2829 0a20  ckCompletion(). 
-0000e0a0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0000e0b0: 2020 2020 2020 2020 2070 7269 6e74 3228           print2(
-0000e0c0: 2241 6374 696f 6e20 6361 6e63 656c 6c65  "Action cancelle
-0000e0d0: 6420 6475 6520 746f 2069 6e73 7566 6669  d due to insuffi
-0000e0e0: 6369 656e 7420 696e 666f 726d 6174 696f  cient informatio
-0000e0f0: 6e21 2229 0a0a 2020 2020 6465 6620 7365  n!")..    def se
-0000e100: 744c 6c6d 4d6f 6465 6c5f 6368 6174 6770  tLlmModel_chatgp
-0000e110: 7428 7365 6c66 293a 0a20 2020 2020 2020  t(self):.       
-0000e120: 206d 6f64 656c 203d 2073 656c 662e 6469   model = self.di
-0000e130: 616c 6f67 732e 6765 7456 616c 6964 4f70  alogs.getValidOp
-0000e140: 7469 6f6e 7328 0a20 2020 2020 2020 2020  tions(.         
-0000e150: 2020 206f 7074 696f 6e73 3d73 656c 662e     options=self.
-0000e160: 6d6f 6465 6c73 2c0a 2020 2020 2020 2020  models,.        
-0000e170: 2020 2020 7469 746c 653d 2246 756e 6374      title="Funct
-0000e180: 696f 6e20 4361 6c6c 696e 6720 4d6f 6465  ion Calling Mode
-0000e190: 6c22 2c0a 2020 2020 2020 2020 2020 2020  l",.            
-0000e1a0: 6465 6661 756c 743d 636f 6e66 6967 2e63  default=config.c
-0000e1b0: 6861 7447 5054 4170 694d 6f64 656c 2069  hatGPTApiModel i
-0000e1c0: 6620 636f 6e66 6967 2e63 6861 7447 5054  f config.chatGPT
-0000e1d0: 4170 694d 6f64 656c 2069 6e20 7365 6c66  ApiModel in self
-0000e1e0: 2e6d 6f64 656c 7320 656c 7365 2073 656c  .models else sel
-0000e1f0: 662e 6d6f 6465 6c73 5b30 5d2c 0a20 2020  f.models[0],.   
-0000e200: 2020 2020 2020 2020 2074 6578 743d 2253           text="S
-0000e210: 656c 6563 7420 6120 6675 6e63 7469 6f6e  elect a function
-0000e220: 2063 616c 6c20 6d6f 6465 6c3a 5c6e 2866   call model:\n(f
-0000e230: 6f72 2062 6f74 6820 6368 6174 2061 6e64  or both chat and
-0000e240: 2074 6173 6b20 6578 6563 7574 696f 6e29   task execution)
-0000e250: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
-0000e260: 2020 2020 2069 6620 6d6f 6465 6c3a 0a20       if model:. 
-0000e270: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-0000e280: 672e 6368 6174 4750 5441 7069 4d6f 6465  g.chatGPTApiMode
-0000e290: 6c20 3d20 6d6f 6465 6c0a 2020 2020 2020  l = model.      
-0000e2a0: 2020 2020 2020 7072 696e 7433 2866 2243        print3(f"C
-0000e2b0: 6861 7447 5054 206d 6f64 656c 3a20 7b6d  hatGPT model: {m
-0000e2c0: 6f64 656c 7d22 290a 2020 2020 2020 2020  odel}").        
-0000e2d0: 2020 2020 2320 7365 7420 6d61 7820 746f      # set max to
-0000e2e0: 6b65 6e73 0a20 2020 2020 2020 2020 2020  kens.           
-0000e2f0: 2063 6f6e 6669 672e 6368 6174 4750 5441   config.chatGPTA
-0000e300: 7069 4d61 7854 6f6b 656e 7320 3d20 7365  piMaxTokens = se
-0000e310: 6c66 2e67 6574 4d61 7854 6f6b 656e 7328  lf.getMaxTokens(
-0000e320: 295b 2d31 5d0a 2020 2020 2020 2020 2020  )[-1].          
-0000e330: 2020 7072 696e 7433 2866 224d 6178 696d    print3(f"Maxim
-0000e340: 756d 206f 7574 7075 7420 746f 6b65 6e73  um output tokens
-0000e350: 3a20 7b63 6f6e 6669 672e 6368 6174 4750  : {config.chatGP
-0000e360: 5441 7069 4d61 7854 6f6b 656e 737d 2229  TApiMaxTokens}")
-0000e370: 0a0a 2020 2020 6465 6620 7365 7443 6861  ..    def setCha
-0000e380: 7462 6f74 2873 656c 6629 3a0a 2020 2020  tbot(self):.    
-0000e390: 2020 2020 6d6f 6465 6c20 3d20 7365 6c66      model = self
-0000e3a0: 2e64 6961 6c6f 6773 2e67 6574 5661 6c69  .dialogs.getVali
-0000e3b0: 644f 7074 696f 6e73 280a 2020 2020 2020  dOptions(.      
-0000e3c0: 2020 2020 2020 6f70 7469 6f6e 733d 2822        options=("
-0000e3d0: 6368 6174 6770 7422 2c20 2267 656d 696e  chatgpt", "gemin
-0000e3e0: 6970 726f 222c 2022 7061 6c6d 3222 2c20  ipro", "palm2", 
-0000e3f0: 2263 6f64 6579 2229 2c0a 2020 2020 2020  "codey"),.      
-0000e400: 2020 2020 2020 7469 746c 653d 2243 6861        title="Cha
-0000e410: 742d 6f6e 6c79 206d 6f64 656c 222c 0a20  t-only model",. 
-0000e420: 2020 2020 2020 2020 2020 2064 6566 6175             defau
-0000e430: 6c74 3d63 6f6e 6669 672e 6368 6174 626f  lt=config.chatbo
-0000e440: 742c 0a20 2020 2020 2020 2020 2020 2074  t,.            t
-0000e450: 6578 743d 2253 656c 6563 7420 6465 6661  ext="Select defa
-0000e460: 756c 7420 6368 6174 2d6f 6e6c 7920 6d6f  ult chat-only mo
-0000e470: 6465 6c3a 5c6e 2844 6566 6175 6c74 206d  del:\n(Default m
-0000e480: 6f64 656c 2069 7320 6c6f 6164 6564 2077  odel is loaded w
-0000e490: 6865 6e20 796f 7520 696e 636c 7564 6520  hen you include 
-0000e4a0: 275b 4348 4154 5d27 2069 6e20 796f 7572  '[CHAT]' in your
-0000e4b0: 2069 6e70 7574 2922 2c0a 2020 2020 2020   input)",.      
-0000e4c0: 2020 290a 2020 2020 2020 2020 6966 206d    ).        if m
-0000e4d0: 6f64 656c 3a0a 2020 2020 2020 2020 2020  odel:.          
-0000e4e0: 2020 636f 6e66 6967 2e63 6861 7462 6f74    config.chatbot
-0000e4f0: 203d 206d 6f64 656c 0a20 2020 2020 2020   = model.       
-0000e500: 2020 2020 2070 7269 6e74 3328 6622 4368       print3(f"Ch
-0000e510: 6174 2d6f 6e6c 7920 6d6f 6465 6c3a 207b  at-only model: {
-0000e520: 6d6f 6465 6c7d 2229 0a0a 2020 2020 6465  model}")..    de
-0000e530: 6620 7365 7445 6d62 6564 6469 6e67 4d6f  f setEmbeddingMo
-0000e540: 6465 6c28 7365 6c66 293a 0a20 2020 2020  del(self):.     
-0000e550: 2020 206f 6c64 456d 6265 6464 696e 674d     oldEmbeddingM
-0000e560: 6f64 656c 203d 2063 6f6e 6669 672e 656d  odel = config.em
-0000e570: 6265 6464 696e 674d 6f64 656c 0a20 2020  beddingModel.   
-0000e580: 2020 2020 206d 6f64 656c 203d 2073 656c       model = sel
-0000e590: 662e 6469 616c 6f67 732e 6765 7456 616c  f.dialogs.getVal
-0000e5a0: 6964 4f70 7469 6f6e 7328 0a20 2020 2020  idOptions(.     
-0000e5b0: 2020 2020 2020 206f 7074 696f 6e73 3d28         options=(
-0000e5c0: 2274 6578 742d 656d 6265 6464 696e 672d  "text-embedding-
-0000e5d0: 332d 6c61 7267 6522 2c20 2274 6578 742d  3-large", "text-
-0000e5e0: 656d 6265 6464 696e 672d 332d 736d 616c  embedding-3-smal
-0000e5f0: 6c22 2c20 2274 6578 742d 656d 6265 6464  l", "text-embedd
-0000e600: 696e 672d 6164 612d 3030 3222 2c20 2270  ing-ada-002", "p
-0000e610: 6172 6170 6872 6173 652d 6d75 6c74 696c  araphrase-multil
-0000e620: 696e 6775 616c 2d6d 706e 6574 2d62 6173  ingual-mpnet-bas
-0000e630: 652d 7632 222c 2022 616c 6c2d 6d70 6e65  e-v2", "all-mpne
-0000e640: 742d 6261 7365 2d76 3222 2c20 2261 6c6c  t-base-v2", "all
-0000e650: 2d4d 696e 694c 4d2d 4c36 2d76 3222 2c20  -MiniLM-L6-v2", 
-0000e660: 2263 7573 746f 6d22 292c 0a20 2020 2020  "custom"),.     
-0000e670: 2020 2020 2020 2074 6974 6c65 3d22 456d         title="Em
-0000e680: 6265 6464 696e 6720 6d6f 6465 6c22 2c0a  bedding model",.
-0000e690: 2020 2020 2020 2020 2020 2020 6465 6661              defa
-0000e6a0: 756c 743d 636f 6e66 6967 2e65 6d62 6564  ult=config.embed
-0000e6b0: 6469 6e67 4d6f 6465 6c2c 0a20 2020 2020  dingModel,.     
-0000e6c0: 2020 2020 2020 2074 6578 743d 2253 656c         text="Sel
-0000e6d0: 6563 7420 616e 2065 6d62 6564 6469 6e67  ect an embedding
-0000e6e0: 206d 6f64 656c 3a22 2c0a 2020 2020 2020   model:",.      
-0000e6f0: 2020 290a 2020 2020 2020 2020 6966 206d    ).        if m
-0000e700: 6f64 656c 3a0a 2020 2020 2020 2020 2020  odel:.          
-0000e710: 2020 6966 206d 6f64 656c 203d 3d20 2263    if model == "c
-0000e720: 7573 746f 6d22 3a0a 2020 2020 2020 2020  ustom":.        
-0000e730: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-0000e740: 456e 7465 7220 4f70 656e 4149 206f 7220  Enter OpenAI or 
-0000e750: 5365 6e74 656e 6365 2054 7261 6e73 666f  Sentence Transfo
-0000e760: 726d 6572 2045 6d62 6564 6469 6e67 206d  rmer Embedding m
-0000e770: 6f64 656c 3a22 290a 2020 2020 2020 2020  odel:").        
-0000e780: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-0000e790: 5265 6164 206d 6f72 6520 6174 3a20 6874  Read more at: ht
-0000e7a0: 7470 733a 2f2f 7777 772e 7362 6572 742e  tps://www.sbert.
-0000e7b0: 6e65 742f 646f 6373 2f70 7265 7472 6169  net/docs/pretrai
-0000e7c0: 6e65 645f 6d6f 6465 6c73 2e68 746d 6c22  ned_models.html"
-0000e7d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000e7e0: 2020 6375 7374 6f6d 4d6f 6465 6c20 3d20    customModel = 
-0000e7f0: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
-0000e800: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
-0000e810: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
-0000e820: 6d70 7453 7479 6c65 322c 2064 6566 6175  mptStyle2, defau
-0000e830: 6c74 3d63 6f6e 6669 672e 656d 6265 6464  lt=config.embedd
-0000e840: 696e 674d 6f64 656c 290a 2020 2020 2020  ingModel).      
-0000e850: 2020 2020 2020 2020 2020 6966 2063 7573            if cus
-0000e860: 746f 6d4d 6f64 656c 2061 6e64 206e 6f74  tomModel and not
-0000e870: 2063 7573 746f 6d4d 6f64 656c 2e73 7472   customModel.str
-0000e880: 6970 2829 2e6c 6f77 6572 2829 203d 3d20  ip().lower() == 
-0000e890: 636f 6e66 6967 2e65 7869 745f 656e 7472  config.exit_entr
-0000e8a0: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
-0000e8b0: 2020 2020 2020 2063 6f6e 6669 672e 656d         config.em
-0000e8c0: 6265 6464 696e 674d 6f64 656c 203d 2063  beddingModel = c
-0000e8d0: 7573 746f 6d4d 6f64 656c 200a 2020 2020  ustomModel .    
-0000e8e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000e8f0: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0000e900: 6e66 6967 2e65 6d62 6564 6469 6e67 4d6f  nfig.embeddingMo
-0000e910: 6465 6c20 3d20 6d6f 6465 6c0a 2020 2020  del = model.    
-0000e920: 2020 2020 2020 2020 7072 696e 7433 2866          print3(f
-0000e930: 2245 6d62 6564 6469 6e67 206d 6f64 656c  "Embedding model
-0000e940: 3a20 7b6d 6f64 656c 7d22 290a 2020 2020  : {model}").    
-0000e950: 2020 2020 6966 206e 6f74 206f 6c64 456d      if not oldEm
-0000e960: 6265 6464 696e 674d 6f64 656c 203d 3d20  beddingModel == 
-0000e970: 636f 6e66 6967 2e65 6d62 6564 6469 6e67  config.embedding
-0000e980: 4d6f 6465 6c3a 0a20 2020 2020 2020 2020  Model:.         
-0000e990: 2020 2070 7269 6e74 3128 6622 596f 7527     print1(f"You'
-0000e9a0: 7665 2063 6861 6e67 6520 7468 6520 656d  ve change the em
-0000e9b0: 6265 6464 696e 6720 6d6f 6465 6c20 6672  bedding model fr
-0000e9c0: 6f6d 2027 7b6f 6c64 456d 6265 6464 696e  om '{oldEmbeddin
-0000e9d0: 674d 6f64 656c 7d27 2074 6f20 277b 636f  gModel}' to '{co
-0000e9e0: 6e66 6967 2e65 6d62 6564 6469 6e67 4d6f  nfig.embeddingMo
-0000e9f0: 6465 6c7d 272e 2229 0a20 2020 2020 2020  del}'.").       
-0000ea00: 2020 2020 2070 7269 6e74 3128 2254 6f20       print1("To 
-0000ea10: 776f 726b 2077 6974 6820 7468 6520 6e65  work with the ne
-0000ea20: 776c 7920 7365 6c65 6374 6564 206d 6f64  wly selected mod
-0000ea30: 656c 2c20 7072 6576 696f 7573 206d 656d  el, previous mem
-0000ea40: 6f72 7920 7374 6f72 6520 616e 6420 7265  ory store and re
-0000ea50: 7472 6965 7665 6420 636f 6c6c 6563 7469  trieved collecti
-0000ea60: 6f6e 7320 6e65 6564 2074 6f20 6265 2064  ons need to be d
-0000ea70: 656c 6574 6564 2e22 290a 2020 2020 2020  eleted.").      
-0000ea80: 2020 2020 2020 7072 696e 7431 2822 446f        print1("Do
-0000ea90: 2079 6f75 2077 616e 7420 746f 2064 656c   you want to del
-0000eaa0: 6574 6520 7468 656d 206e 6f77 3f20 5b79  ete them now? [y
-0000eab0: 5d65 7320 2f20 5b4e 5d6f 2229 0a20 2020  ]es / [N]o").   
-0000eac0: 2020 2020 2020 2020 2063 6f6e 6669 726d           confirm
-0000ead0: 6174 696f 6e20 3d20 7365 6c66 2e70 726f  ation = self.pro
-0000eae0: 6d70 7473 2e73 696d 706c 6550 726f 6d70  mpts.simplePromp
-0000eaf0: 7428 7374 796c 653d 7365 6c66 2e70 726f  t(style=self.pro
-0000eb00: 6d70 7473 2e70 726f 6d70 7453 7479 6c65  mpts.promptStyle
-0000eb10: 322c 2064 6566 6175 6c74 3d22 7965 7322  2, default="yes"
-0000eb20: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-0000eb30: 2063 6f6e 6669 726d 6174 696f 6e2e 6c6f   confirmation.lo
-0000eb40: 7765 7228 2920 696e 2028 2279 222c 2022  wer() in ("y", "
-0000eb50: 7965 7322 293a 0a20 2020 2020 2020 2020  yes"):.         
-0000eb60: 2020 2020 2020 206d 656d 6f72 795f 7374         memory_st
-0000eb70: 6f72 6520 3d20 6f73 2e70 6174 682e 6a6f  ore = os.path.jo
-0000eb80: 696e 2863 6f6e 6669 672e 6c6f 6361 6c53  in(config.localS
-0000eb90: 746f 7261 6765 2c20 226d 656d 6f72 7922  torage, "memory"
-0000eba0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000ebb0: 2020 7265 7472 6965 7665 645f 636f 6c6c    retrieved_coll
-0000ebc0: 6563 7469 6f6e 7320 3d20 6f73 2e70 6174  ections = os.pat
-0000ebd0: 682e 6a6f 696e 2863 6f6e 6669 672e 6c6f  h.join(config.lo
-0000ebe0: 6361 6c53 746f 7261 6765 2c20 2261 7574  calStorage, "aut
-0000ebf0: 6f67 656e 222c 2022 7265 7472 6965 7665  ogen", "retrieve
-0000ec00: 7222 290a 2020 2020 2020 2020 2020 2020  r").            
-0000ec10: 2020 2020 666f 7220 666f 6c64 6572 2069      for folder i
-0000ec20: 6e20 286d 656d 6f72 795f 7374 6f72 652c  n (memory_store,
-0000ec30: 2072 6574 7269 6576 6564 5f63 6f6c 6c65   retrieved_colle
-0000ec40: 6374 696f 6e73 293a 0a20 2020 2020 2020  ctions):.       
-0000ec50: 2020 2020 2020 2020 2020 2020 2073 6875               shu
-0000ec60: 7469 6c2e 726d 7472 6565 2866 6f6c 6465  til.rmtree(folde
-0000ec70: 722c 2069 676e 6f72 655f 6572 726f 7273  r, ignore_errors
-0000ec80: 3d54 7275 6529 0a20 2020 2020 2020 2020  =True).         
-0000ec90: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0000eca0: 2020 2020 2020 2020 2070 7269 6e74 3128           print1(
-0000ecb0: 6622 446f 2079 6f75 2077 616e 7420 746f  f"Do you want to
-0000ecc0: 2063 6861 6e67 6520 6261 636b 2074 6865   change back the
-0000ecd0: 2065 6d62 6564 6469 6e67 206d 6f64 656c   embedding model
-0000ece0: 2066 726f 6d20 277b 636f 6e66 6967 2e65   from '{config.e
-0000ecf0: 6d62 6564 6469 6e67 4d6f 6465 6c7d 2720  mbeddingModel}' 
-0000ed00: 746f 2027 7b6f 6c64 456d 6265 6464 696e  to '{oldEmbeddin
-0000ed10: 674d 6f64 656c 7d27 3f20 5b79 5d65 7320  gModel}'? [y]es 
-0000ed20: 2f20 5b4e 5d6f 2229 0a20 2020 2020 2020  / [N]o").       
-0000ed30: 2020 2020 2020 2020 2063 6f6e 6669 726d           confirm
-0000ed40: 6174 696f 6e20 3d20 7365 6c66 2e70 726f  ation = self.pro
-0000ed50: 6d70 7473 2e73 696d 706c 6550 726f 6d70  mpts.simplePromp
-0000ed60: 7428 7374 796c 653d 7365 6c66 2e70 726f  t(style=self.pro
-0000ed70: 6d70 7473 2e70 726f 6d70 7453 7479 6c65  mpts.promptStyle
-0000ed80: 322c 2064 6566 6175 6c74 3d22 7965 7322  2, default="yes"
-0000ed90: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000eda0: 2020 6966 206e 6f74 2063 6f6e 6669 726d    if not confirm
-0000edb0: 6174 696f 6e2e 6c6f 7765 7228 2920 696e  ation.lower() in
-0000edc0: 2028 2279 222c 2022 7965 7322 293a 0a20   ("y", "yes"):. 
-0000edd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ede0: 2020 2063 6f6e 6669 672e 656d 6265 6464     config.embedd
-0000edf0: 696e 674d 6f64 656c 203d 206f 6c64 456d  ingModel = oldEm
-0000ee00: 6265 6464 696e 674d 6f64 656c 0a20 2020  beddingModel.   
-0000ee10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ee20: 2070 7269 6e74 3328 6622 456d 6265 6464   print3(f"Embedd
-0000ee30: 696e 6720 6d6f 6465 6c3a 207b 6f6c 6445  ing model: {oldE
-0000ee40: 6d62 6564 6469 6e67 4d6f 6465 6c7d 2229  mbeddingModel}")
-0000ee50: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0000ee60: 6f6c 6445 6d62 6564 6469 6e67 4d6f 6465  oldEmbeddingMode
-0000ee70: 6c20 3d3d 2063 6f6e 6669 672e 656d 6265  l == config.embe
-0000ee80: 6464 696e 674d 6f64 656c 3a0a 2020 2020  ddingModel:.    
-0000ee90: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
-0000eea0: 6176 6543 6f6e 6669 6728 290a 0a20 2020  aveConfig()..   
-0000eeb0: 2064 6566 2073 6574 4175 746f 4765 6e42   def setAutoGenB
-0000eec0: 7569 6c64 6572 436f 6e66 6967 2873 656c  uilderConfig(sel
-0000eed0: 6629 3a0a 2020 2020 2020 2020 6966 206e  f):.        if n
-0000eee0: 6f74 2063 6f6e 6669 672e 6973 5465 726d  ot config.isTerm
-0000eef0: 7578 3a0a 2020 2020 2020 2020 2020 2020  ux:.            
-0000ef00: 4175 746f 4765 6e42 7569 6c64 6572 2829  AutoGenBuilder()
-0000ef10: 2e70 726f 6d70 7443 6f6e 6669 6728 290a  .promptConfig().
-0000ef20: 0a20 2020 2064 6566 2073 6574 4173 7369  .    def setAssi
-0000ef30: 7374 616e 744e 616d 6528 7365 6c66 293a  stantName(self):
-0000ef40: 0a20 2020 2020 2020 2070 7269 6e74 3128  .        print1(
-0000ef50: 2259 6f75 206d 6179 206d 6f64 6966 7920  "You may modify 
-0000ef60: 6d79 206e 616d 6520 6265 6c6f 773a 2229  my name below:")
-0000ef70: 0a20 2020 2020 2020 2066 7265 6547 656e  .        freeGen
-0000ef80: 6975 7341 494e 616d 6520 3d20 7365 6c66  iusAIName = self
-0000ef90: 2e70 726f 6d70 7473 2e73 696d 706c 6550  .prompts.simpleP
-0000efa0: 726f 6d70 7428 7374 796c 653d 7365 6c66  rompt(style=self
-0000efb0: 2e70 726f 6d70 7473 2e70 726f 6d70 7453  .prompts.promptS
-0000efc0: 7479 6c65 322c 2064 6566 6175 6c74 3d63  tyle2, default=c
-0000efd0: 6f6e 6669 672e 6672 6565 4765 6e69 7573  onfig.freeGenius
-0000efe0: 4149 4e61 6d65 290a 2020 2020 2020 2020  AIName).        
-0000eff0: 6966 2066 7265 6547 656e 6975 7341 494e  if freeGeniusAIN
-0000f000: 616d 6520 616e 6420 6e6f 7420 6672 6565  ame and not free
-0000f010: 4765 6e69 7573 4149 4e61 6d65 2e73 7472  GeniusAIName.str
-0000f020: 6970 2829 2e6c 6f77 6572 2829 203d 3d20  ip().lower() == 
-0000f030: 636f 6e66 6967 2e65 7869 745f 656e 7472  config.exit_entr
-0000f040: 793a 0a20 2020 2020 2020 2020 2020 2063  y:.            c
-0000f050: 6f6e 6669 672e 6672 6565 4765 6e69 7573  onfig.freeGenius
-0000f060: 4149 4e61 6d65 203d 2066 7265 6547 656e  AIName = freeGen
-0000f070: 6975 7341 494e 616d 650a 2020 2020 2020  iusAIName.      
-0000f080: 2020 2020 2020 636f 6e66 6967 2e6c 6f63        config.loc
-0000f090: 616c 5374 6f72 6167 6520 3d20 6765 744c  alStorage = getL
-0000f0a0: 6f63 616c 5374 6f72 6167 6528 290a 2020  ocalStorage().  
-0000f0b0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-0000f0c0: 2e73 6176 6543 6f6e 6669 6728 290a 2020  .saveConfig().  
-0000f0d0: 2020 2020 2020 2020 2020 7072 696e 7433            print3
-0000f0e0: 2866 2259 6f75 2068 6176 6520 6368 616e  (f"You have chan
-0000f0f0: 6765 6420 6d79 206e 616d 6520 746f 3a20  ged my name to: 
-0000f100: 7b63 6f6e 6669 672e 6672 6565 4765 6e69  {config.freeGeni
-0000f110: 7573 4149 4e61 6d65 7d22 290a 0a20 2020  usAIName}")..   
-0000f120: 2064 6566 2073 6574 4375 7374 6f6d 5379   def setCustomSy
-0000f130: 7374 656d 4d65 7373 6167 6528 7365 6c66  stemMessage(self
-0000f140: 293a 0a20 2020 2020 2020 2070 7269 6e74  ):.        print
-0000f150: 3128 2259 6f75 2063 616e 206d 6f64 6966  1("You can modif
-0000f160: 7920 7468 6520 7379 7374 656d 206d 6573  y the system mes
-0000f170: 7361 6765 2074 6f20 6675 726e 6973 6820  sage to furnish 
-0000f180: 6d65 2077 6974 6820 6465 7461 696c 7320  me with details 
-0000f190: 6162 6f75 7420 6d79 2063 6170 6162 696c  about my capabil
-0000f1a0: 6974 6965 732c 2063 6f6e 7374 7261 696e  ities, constrain
-0000f1b0: 7473 2c20 6f72 2061 6e79 2070 6572 7469  ts, or any perti
-0000f1c0: 6e65 6e74 2063 6f6e 7465 7874 2074 6861  nent context tha
-0000f1d0: 7420 6d61 7920 696e 666f 726d 206f 7572  t may inform our
-0000f1e0: 2069 6e74 6572 6163 7469 6f6e 732e 2054   interactions. T
-0000f1f0: 6869 7320 7769 6c6c 2067 7569 6465 206d  his will guide m
-0000f200: 6520 696e 206d 616e 6167 696e 6720 616e  e in managing an
-0000f210: 6420 7265 7370 6f6e 6469 6e67 2074 6f20  d responding to 
-0000f220: 796f 7572 2072 6571 7565 7374 7320 6170  your requests ap
-0000f230: 7072 6f70 7269 6174 656c 792e 2229 0a20  propriately."). 
-0000f240: 2020 2020 2020 2070 7269 6e74 3128 2250         print1("P
-0000f250: 6c65 6173 6520 6e6f 7465 2074 6861 7420  lease note that 
-0000f260: 616c 7465 7269 6e67 206d 7920 7379 7374  altering my syst
-0000f270: 656d 206d 6573 7361 6765 2064 6972 6563  em message direc
-0000f280: 746c 7920 6166 6665 6374 7320 6d79 2066  tly affects my f
-0000f290: 756e 6374 696f 6e61 6c69 7479 2e20 4861  unctionality. Ha
-0000f2a0: 6e64 6c65 2077 6974 6820 6361 7265 2e22  ndle with care."
-0000f2b0: 290a 2020 2020 2020 2020 7072 696e 7431  ).        print1
-0000f2c0: 2822 456e 7465 7220 6375 7374 6f6d 2073  ("Enter custom s
-0000f2d0: 7973 7465 6d20 6d65 7373 6167 6520 6265  ystem message be
-0000f2e0: 6c6f 773a 2229 0a20 2020 2020 2020 2070  low:").        p
-0000f2f0: 7269 6e74 3128 6622 284b 6565 7020 6974  rint1(f"(Keep it
-0000f300: 2062 6c61 6e6b 2074 6f20 7573 6520 7b63   blank to use {c
-0000f310: 6f6e 6669 672e 6672 6565 4765 6e69 7573  onfig.freeGenius
-0000f320: 4149 4e61 6d65 7d20 6465 6661 756c 7420  AIName} default 
-0000f330: 7379 7374 656d 206d 6573 7361 6765 2e29  system message.)
-0000f340: 2229 0a20 2020 2020 2020 206d 6573 7361  ").        messa
-0000f350: 6765 203d 2073 656c 662e 7072 6f6d 7074  ge = self.prompt
-0000f360: 732e 7369 6d70 6c65 5072 6f6d 7074 2873  s.simplePrompt(s
-0000f370: 7479 6c65 3d73 656c 662e 7072 6f6d 7074  tyle=self.prompt
-0000f380: 732e 7072 6f6d 7074 5374 796c 6532 2c20  s.promptStyle2, 
-0000f390: 6465 6661 756c 743d 636f 6e66 6967 2e73  default=config.s
-0000f3a0: 7973 7465 6d4d 6573 7361 6765 5f6c 6574  ystemMessage_let
-0000f3b0: 6d65 646f 6974 290a 2020 2020 2020 2020  medoit).        
-0000f3c0: 6966 206d 6573 7361 6765 2061 6e64 206e  if message and n
-0000f3d0: 6f74 206d 6573 7361 6765 2e73 7472 6970  ot message.strip
-0000f3e0: 2829 2e6c 6f77 6572 2829 203d 3d20 636f  ().lower() == co
-0000f3f0: 6e66 6967 2e65 7869 745f 656e 7472 793a  nfig.exit_entry:
-0000f400: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-0000f410: 6669 672e 7379 7374 656d 4d65 7373 6167  fig.systemMessag
-0000f420: 655f 6c65 746d 6564 6f69 7420 3d20 6d65  e_letmedoit = me
-0000f430: 7373 6167 650a 2020 2020 2020 2020 2020  ssage.          
-0000f440: 2020 636f 6e66 6967 2e73 6176 6543 6f6e    config.saveCon
-0000f450: 6669 6728 290a 2020 2020 2020 2020 2020  fig().          
-0000f460: 2020 7072 696e 7433 2866 2243 7573 746f    print3(f"Custo
-0000f470: 6d20 7379 7374 656d 206d 6573 7361 6765  m system message
-0000f480: 3a20 7b63 6f6e 6669 672e 6672 6565 4765  : {config.freeGe
-0000f490: 6e69 7573 4149 4e61 6d65 7d22 290a 0a20  niusAIName}").. 
-0000f4a0: 2020 2064 6566 2073 6574 4375 7374 6f6d     def setCustom
-0000f4b0: 5465 7874 4564 6974 6f72 2873 656c 6629  TextEditor(self)
-0000f4c0: 3a0a 2020 2020 2020 2020 7072 696e 7431  :.        print1
-0000f4d0: 2822 506c 6561 7365 2073 7065 6369 6679  ("Please specify
-0000f4e0: 2063 7573 746f 6d20 7465 7874 2065 6469   custom text edi
-0000f4f0: 746f 7220 636f 6d6d 616e 6420 6265 6c6f  tor command belo
-0000f500: 773a 2229 0a20 2020 2020 2020 2070 7269  w:").        pri
-0000f510: 6e74 3128 2265 2e67 2e20 276d 6963 726f  nt1("e.g. 'micro
-0000f520: 202d 736f 6674 7772 6170 2074 7275 6520   -softwrap true 
-0000f530: 2d77 6f72 6477 7261 7020 7472 7565 2722  -wordwrap true'"
-0000f540: 290a 2020 2020 2020 2020 7072 696e 7431  ).        print1
-0000f550: 2822 4c65 6176 6520 6974 2062 6c61 6e6b  ("Leave it blank
-0000f560: 2074 6f20 7573 6520 6f75 7220 6275 696c   to use our buil
-0000f570: 742d 696e 2074 6578 7420 6564 6974 6f72  t-in text editor
-0000f580: 2027 6554 6578 7445 6469 7427 2062 7920   'eTextEdit' by 
-0000f590: 6465 6661 756c 742e 2229 0a20 2020 2020  default.").     
-0000f5a0: 2020 2063 7573 746f 6d54 6578 7445 6469     customTextEdi
-0000f5b0: 746f 7220 3d20 7365 6c66 2e70 726f 6d70  tor = self.promp
-0000f5c0: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
-0000f5d0: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
-0000f5e0: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
-0000f5f0: 2064 6566 6175 6c74 3d63 6f6e 6669 672e   default=config.
-0000f600: 6375 7374 6f6d 5465 7874 4564 6974 6f72  customTextEditor
-0000f610: 290a 2020 2020 2020 2020 6966 2063 7573  ).        if cus
-0000f620: 746f 6d54 6578 7445 6469 746f 7220 616e  tomTextEditor an
-0000f630: 6420 6e6f 7420 6375 7374 6f6d 5465 7874  d not customText
-0000f640: 4564 6974 6f72 2e73 7472 6970 2829 2e6c  Editor.strip().l
-0000f650: 6f77 6572 2829 203d 3d20 636f 6e66 6967  ower() == config
-0000f660: 2e65 7869 745f 656e 7472 793a 0a20 2020  .exit_entry:.   
-0000f670: 2020 2020 2020 2020 2074 6578 7445 6469           textEdi
-0000f680: 746f 7220 3d20 7265 2e73 7562 2822 202e  tor = re.sub(" .
-0000f690: 2a3f 2422 2c20 2222 2c20 6375 7374 6f6d  *?$", "", custom
-0000f6a0: 5465 7874 4564 6974 6f72 290a 2020 2020  TextEditor).    
-0000f6b0: 2020 2020 2020 2020 6966 206e 6f74 2074          if not t
-0000f6c0: 6578 7445 6469 746f 7220 6f72 206e 6f74  extEditor or not
-0000f6d0: 2069 7343 6f6d 6d61 6e64 496e 7374 616c   isCommandInstal
-0000f6e0: 6c65 6428 7465 7874 4564 6974 6f72 293a  led(textEditor):
-0000f6f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f700: 2070 7269 6e74 3228 2243 6f6d 6d61 6e64   print2("Command
-0000f710: 206e 6f74 2066 6f75 6e64 206f 6e20 796f   not found on yo
-0000f720: 7572 2064 6576 6963 6521 2229 0a20 2020  ur device!").   
-0000f730: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0000f740: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0000f750: 6f6e 6669 672e 6375 7374 6f6d 5465 7874  onfig.customText
-0000f760: 4564 6974 6f72 203d 2063 7573 746f 6d54  Editor = customT
-0000f770: 6578 7445 6469 746f 720a 2020 2020 2020  extEditor.      
-0000f780: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-0000f790: 2e73 6176 6543 6f6e 6669 6728 290a 2020  .saveConfig().  
-0000f7a0: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-0000f7b0: 696e 7433 2866 2243 7573 746f 6d20 7465  int3(f"Custom te
-0000f7c0: 7874 2065 6469 746f 723a 207b 636f 6e66  xt editor: {conf
-0000f7d0: 6967 2e63 7573 746f 6d54 6578 7445 6469  ig.customTextEdi
-0000f7e0: 746f 727d 2229 0a0a 2020 2020 6465 6620  tor}")..    def 
-0000f7f0: 7365 7443 6861 7452 6563 6f72 6443 6c6f  setChatRecordClo
-0000f800: 7365 7374 4d61 7463 6865 7328 7365 6c66  sestMatches(self
-0000f810: 293a 0a20 2020 2020 2020 2070 7269 6e74  ):.        print
-0000f820: 3128 2250 6c65 6173 6520 7370 6563 6966  1("Please specif
-0000f830: 7920 7468 6520 6e75 6d62 6572 206f 6620  y the number of 
-0000f840: 636c 6f73 6573 7420 6d61 7463 6865 7320  closest matches 
-0000f850: 696e 2065 6163 6820 6d65 6d6f 7279 2072  in each memory r
-0000f860: 6574 7269 6576 616c 3a22 290a 2020 2020  etrieval:").    
-0000f870: 2020 2020 6368 6174 5265 636f 7264 436c      chatRecordCl
-0000f880: 6f73 6573 744d 6174 6368 6573 203d 2073  osestMatches = s
-0000f890: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
-0000f8a0: 6c65 5072 6f6d 7074 2873 7479 6c65 3d73  lePrompt(style=s
-0000f8b0: 656c 662e 7072 6f6d 7074 732e 7072 6f6d  elf.prompts.prom
-0000f8c0: 7074 5374 796c 6532 2c20 6e75 6d62 6572  ptStyle2, number
-0000f8d0: 4f6e 6c79 3d54 7275 652c 2064 6566 6175  Only=True, defau
-0000f8e0: 6c74 3d73 7472 2863 6f6e 6669 672e 6368  lt=str(config.ch
-0000f8f0: 6174 5265 636f 7264 436c 6f73 6573 744d  atRecordClosestM
-0000f900: 6174 6368 6573 2929 0a20 2020 2020 2020  atches)).       
-0000f910: 2069 6620 6368 6174 5265 636f 7264 436c   if chatRecordCl
-0000f920: 6f73 6573 744d 6174 6368 6573 2061 6e64  osestMatches and
-0000f930: 206e 6f74 2063 6861 7452 6563 6f72 6443   not chatRecordC
-0000f940: 6c6f 7365 7374 4d61 7463 6865 732e 7374  losestMatches.st
-0000f950: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
-0000f960: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
-0000f970: 7279 2061 6e64 2069 6e74 2863 6861 7452  ry and int(chatR
-0000f980: 6563 6f72 6443 6c6f 7365 7374 4d61 7463  ecordClosestMatc
-0000f990: 6865 7329 203e 3d20 303a 0a20 2020 2020  hes) >= 0:.     
-0000f9a0: 2020 2020 2020 2063 6f6e 6669 672e 6368         config.ch
-0000f9b0: 6174 5265 636f 7264 436c 6f73 6573 744d  atRecordClosestM
-0000f9c0: 6174 6368 6573 203d 2069 6e74 2863 6861  atches = int(cha
-0000f9d0: 7452 6563 6f72 6443 6c6f 7365 7374 4d61  tRecordClosestMa
-0000f9e0: 7463 6865 7329 0a20 2020 2020 2020 2020  tches).         
-0000f9f0: 2020 2063 6f6e 6669 672e 7361 7665 436f     config.saveCo
-0000fa00: 6e66 6967 2829 0a20 2020 2020 2020 2020  nfig().         
-0000fa10: 2020 2070 7269 6e74 3328 6622 4e75 6d62     print3(f"Numb
-0000fa20: 6572 206f 6620 6d65 6d6f 7279 2063 6c6f  er of memory clo
-0000fa30: 7365 7374 206d 6174 6368 6573 3a20 7b63  sest matches: {c
-0000fa40: 6f6e 6669 672e 6368 6174 5265 636f 7264  onfig.chatRecord
-0000fa50: 436c 6f73 6573 744d 6174 6368 6573 7d22  ClosestMatches}"
-0000fa60: 290a 0a20 2020 2064 6566 2073 6574 4d65  )..    def setMe
-0000fa70: 6d6f 7279 436c 6f73 6573 744d 6174 6368  moryClosestMatch
-0000fa80: 6573 2873 656c 6629 3a0a 2020 2020 2020  es(self):.      
-0000fa90: 2020 7072 696e 7431 2822 506c 6561 7365    print1("Please
-0000faa0: 2073 7065 6369 6679 2074 6865 206e 756d   specify the num
-0000fab0: 6265 7220 6f66 2063 6c6f 7365 7374 206d  ber of closest m
-0000fac0: 6174 6368 6573 2069 6e20 6561 6368 206d  atches in each m
-0000fad0: 656d 6f72 7920 7265 7472 6965 7661 6c3a  emory retrieval:
-0000fae0: 2229 0a20 2020 2020 2020 206d 656d 6f72  ").        memor
-0000faf0: 7943 6c6f 7365 7374 4d61 7463 6865 7320  yClosestMatches 
-0000fb00: 3d20 7365 6c66 2e70 726f 6d70 7473 2e73  = self.prompts.s
-0000fb10: 696d 706c 6550 726f 6d70 7428 7374 796c  implePrompt(styl
-0000fb20: 653d 7365 6c66 2e70 726f 6d70 7473 2e70  e=self.prompts.p
-0000fb30: 726f 6d70 7453 7479 6c65 322c 206e 756d  romptStyle2, num
-0000fb40: 6265 724f 6e6c 793d 5472 7565 2c20 6465  berOnly=True, de
-0000fb50: 6661 756c 743d 7374 7228 636f 6e66 6967  fault=str(config
-0000fb60: 2e6d 656d 6f72 7943 6c6f 7365 7374 4d61  .memoryClosestMa
-0000fb70: 7463 6865 7329 290a 2020 2020 2020 2020  tches)).        
-0000fb80: 6966 206d 656d 6f72 7943 6c6f 7365 7374  if memoryClosest
-0000fb90: 4d61 7463 6865 7320 616e 6420 6e6f 7420  Matches and not 
-0000fba0: 6d65 6d6f 7279 436c 6f73 6573 744d 6174  memoryClosestMat
-0000fbb0: 6368 6573 2e73 7472 6970 2829 2e6c 6f77  ches.strip().low
-0000fbc0: 6572 2829 203d 3d20 636f 6e66 6967 2e65  er() == config.e
-0000fbd0: 7869 745f 656e 7472 7920 616e 6420 696e  xit_entry and in
-0000fbe0: 7428 6d65 6d6f 7279 436c 6f73 6573 744d  t(memoryClosestM
-0000fbf0: 6174 6368 6573 2920 3e3d 2030 3a0a 2020  atches) >= 0:.  
-0000fc00: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-0000fc10: 2e6d 656d 6f72 7943 6c6f 7365 7374 4d61  .memoryClosestMa
-0000fc20: 7463 6865 7320 3d20 696e 7428 6d65 6d6f  tches = int(memo
-0000fc30: 7279 436c 6f73 6573 744d 6174 6368 6573  ryClosestMatches
-0000fc40: 290a 2020 2020 2020 2020 2020 2020 636f  ).            co
-0000fc50: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
-0000fc60: 290a 2020 2020 2020 2020 2020 2020 7072  ).            pr
-0000fc70: 696e 7433 2866 224e 756d 6265 7220 6f66  int3(f"Number of
-0000fc80: 206d 656d 6f72 7920 636c 6f73 6573 7420   memory closest 
-0000fc90: 6d61 7463 6865 733a 207b 636f 6e66 6967  matches: {config
-0000fca0: 2e6d 656d 6f72 7943 6c6f 7365 7374 4d61  .memoryClosestMa
-0000fcb0: 7463 6865 737d 2229 0a0a 2020 2020 6465  tches}")..    de
-0000fcc0: 6620 7365 744d 6178 4175 746f 436f 7272  f setMaxAutoCorr
-0000fcd0: 6563 7428 7365 6c66 293a 0a20 2020 2020  ect(self):.     
-0000fce0: 2020 2070 7269 6e74 3128 6622 5468 6520     print1(f"The 
-0000fcf0: 6175 746f 2d63 6f72 7265 6374 696f 6e20  auto-correction 
-0000fd00: 6665 6174 7572 6520 656e 6162 6c65 7320  feature enables 
-0000fd10: 7b63 6f6e 6669 672e 6672 6565 4765 6e69  {config.freeGeni
-0000fd20: 7573 4149 4e61 6d65 7d20 746f 2061 7574  usAIName} to aut
-0000fd30: 6f6d 6174 6963 616c 6c79 2066 6978 2062  omatically fix b
-0000fd40: 726f 6b65 6e20 5079 7468 6f6e 2063 6f64  roken Python cod
-0000fd50: 6520 6966 2069 7420 7761 7320 6e6f 7420  e if it was not 
-0000fd60: 6578 6563 7574 6564 2070 726f 7065 726c  executed properl
-0000fd70: 792e 2229 0a20 2020 2020 2020 2070 7269  y.").        pri
-0000fd80: 6e74 3128 2250 6c65 6173 6520 7370 6563  nt1("Please spec
-0000fd90: 6966 7920 6d61 7869 6d75 6d20 6e75 6d62  ify maximum numb
-0000fda0: 6572 206f 6620 6175 746f 2d63 6f72 7265  er of auto-corre
-0000fdb0: 6374 696f 6e20 6174 7465 6d70 7473 2062  ction attempts b
-0000fdc0: 656c 6f77 3a22 290a 2020 2020 2020 2020  elow:").        
-0000fdd0: 7072 696e 7431 2822 2852 656d 6172 6b73  print1("(Remarks
-0000fde0: 3a20 456e 7465 7220 2730 2720 6966 2079  : Enter '0' if y
-0000fdf0: 6f75 2077 616e 7420 746f 2064 6973 6162  ou want to disab
-0000fe00: 6c65 2061 7574 6f2d 636f 7272 6563 7469  le auto-correcti
-0000fe10: 6f6e 2066 6561 7475 7265 2922 290a 2020  on feature)").  
-0000fe20: 2020 2020 2020 6d61 7841 7574 6f43 6f72        maxAutoCor
-0000fe30: 7265 6374 203d 2073 656c 662e 7072 6f6d  rect = self.prom
-0000fe40: 7074 732e 7369 6d70 6c65 5072 6f6d 7074  pts.simplePrompt
-0000fe50: 2873 7479 6c65 3d73 656c 662e 7072 6f6d  (style=self.prom
-0000fe60: 7074 732e 7072 6f6d 7074 5374 796c 6532  pts.promptStyle2
-0000fe70: 2c20 6e75 6d62 6572 4f6e 6c79 3d54 7275  , numberOnly=Tru
-0000fe80: 652c 2064 6566 6175 6c74 3d73 7472 2863  e, default=str(c
-0000fe90: 6f6e 6669 672e 6d61 785f 636f 6e73 6563  onfig.max_consec
-0000fea0: 7574 6976 655f 6175 746f 5f63 6f72 7265  utive_auto_corre
-0000feb0: 6374 696f 6e29 290a 2020 2020 2020 2020  ction)).        
-0000fec0: 6966 206d 6178 4175 746f 436f 7272 6563  if maxAutoCorrec
-0000fed0: 7420 616e 6420 6e6f 7420 6d61 7841 7574  t and not maxAut
-0000fee0: 6f43 6f72 7265 6374 2e73 7472 6970 2829  oCorrect.strip()
-0000fef0: 2e6c 6f77 6572 2829 203d 3d20 636f 6e66  .lower() == conf
-0000ff00: 6967 2e65 7869 745f 656e 7472 7920 616e  ig.exit_entry an
-0000ff10: 6420 696e 7428 6d61 7841 7574 6f43 6f72  d int(maxAutoCor
-0000ff20: 7265 6374 2920 3e3d 2030 3a0a 2020 2020  rect) >= 0:.    
-0000ff30: 2020 2020 2020 2020 636f 6e66 6967 2e6d          config.m
-0000ff40: 6178 5f63 6f6e 7365 6375 7469 7665 5f61  ax_consecutive_a
-0000ff50: 7574 6f5f 636f 7272 6563 7469 6f6e 203d  uto_correction =
-0000ff60: 2069 6e74 286d 6178 4175 746f 436f 7272   int(maxAutoCorr
-0000ff70: 6563 7429 0a20 2020 2020 2020 2020 2020  ect).           
-0000ff80: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
-0000ff90: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
-0000ffa0: 2070 7269 6e74 3328 6622 4d61 7869 6d75   print3(f"Maximu
-0000ffb0: 6d20 636f 6e73 6563 7574 6976 6520 6175  m consecutive au
-0000ffc0: 746f 2d63 6f72 7265 6374 696f 6e3a 207b  to-correction: {
-0000ffd0: 636f 6e66 6967 2e6d 6178 5f63 6f6e 7365  config.max_conse
-0000ffe0: 6375 7469 7665 5f61 7574 6f5f 636f 7272  cutive_auto_corr
-0000fff0: 6563 7469 6f6e 7d22 290a 0a20 2020 2064  ection}")..    d
-00010000: 6566 2073 6574 4d69 6e54 6f6b 656e 7328  ef setMinTokens(
-00010010: 7365 6c66 293a 0a20 2020 2020 2020 2070  self):.        p
-00010020: 7269 6e74 3128 2250 6c65 6173 6520 7370  rint1("Please sp
-00010030: 6563 6966 7920 6d69 6e69 6d75 6d20 6f75  ecify minimum ou
-00010040: 7470 7574 2074 6f6b 656e 7320 6265 6c6f  tput tokens belo
-00010050: 773a 2229 0a20 2020 2020 2020 2070 7269  w:").        pri
-00010060: 6e74 3128 2228 6170 706c 6963 6162 6c65  nt1("(applicable
-00010070: 2074 6f20 2763 6861 7467 7074 2720 616e   to 'chatgpt' an
-00010080: 6420 276c 6574 6d65 646f 6974 2720 696e  d 'letmedoit' in
-00010090: 7465 7266 6163 6573 206f 6e6c 7929 2229  terfaces only)")
-000100a0: 0a20 2020 2020 2020 206d 696e 746f 6b65  .        mintoke
-000100b0: 6e73 203d 2073 656c 662e 7072 6f6d 7074  ns = self.prompt
-000100c0: 732e 7369 6d70 6c65 5072 6f6d 7074 2873  s.simplePrompt(s
-000100d0: 7479 6c65 3d73 656c 662e 7072 6f6d 7074  tyle=self.prompt
-000100e0: 732e 7072 6f6d 7074 5374 796c 6532 2c20  s.promptStyle2, 
-000100f0: 6e75 6d62 6572 4f6e 6c79 3d54 7275 652c  numberOnly=True,
-00010100: 2064 6566 6175 6c74 3d73 7472 2863 6f6e   default=str(con
-00010110: 6669 672e 6368 6174 4750 5441 7069 4d69  fig.chatGPTApiMi
-00010120: 6e54 6f6b 656e 7329 290a 2020 2020 2020  nTokens)).      
-00010130: 2020 6966 206d 696e 746f 6b65 6e73 2061    if mintokens a
-00010140: 6e64 206e 6f74 206d 696e 746f 6b65 6e73  nd not mintokens
-00010150: 2e73 7472 6970 2829 2e6c 6f77 6572 2829  .strip().lower()
-00010160: 203d 3d20 636f 6e66 6967 2e65 7869 745f   == config.exit_
-00010170: 656e 7472 7920 616e 6420 696e 7428 6d69  entry and int(mi
-00010180: 6e74 6f6b 656e 7329 203e 2030 3a0a 2020  ntokens) > 0:.  
-00010190: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-000101a0: 2e63 6861 7447 5054 4170 694d 696e 546f  .chatGPTApiMinTo
-000101b0: 6b65 6e73 203d 2069 6e74 286d 696e 746f  kens = int(minto
-000101c0: 6b65 6e73 290a 2020 2020 2020 2020 2020  kens).          
-000101d0: 2020 6966 2063 6f6e 6669 672e 6368 6174    if config.chat
-000101e0: 4750 5441 7069 4d69 6e54 6f6b 656e 7320  GPTApiMinTokens 
-000101f0: 3e20 636f 6e66 6967 2e63 6861 7447 5054  > config.chatGPT
-00010200: 4170 694d 6178 546f 6b65 6e73 3a0a 2020  ApiMaxTokens:.  
-00010210: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00010220: 6e66 6967 2e63 6861 7447 5054 4170 694d  nfig.chatGPTApiM
-00010230: 696e 546f 6b65 6e73 203d 2063 6f6e 6669  inTokens = confi
-00010240: 672e 6368 6174 4750 5441 7069 4d61 7854  g.chatGPTApiMaxT
-00010250: 6f6b 656e 730a 2020 2020 2020 2020 2020  okens.          
-00010260: 2020 636f 6e66 6967 2e73 6176 6543 6f6e    config.saveCon
-00010270: 6669 6728 290a 2020 2020 2020 2020 2020  fig().          
-00010280: 2020 7072 696e 7433 2866 224d 696e 696d    print3(f"Minim
-00010290: 756d 206f 7574 7075 7420 746f 6b65 6e73  um output tokens
-000102a0: 3a20 7b63 6f6e 6669 672e 6368 6174 4750  : {config.chatGP
-000102b0: 5441 7069 4d69 6e54 6f6b 656e 737d 2229  TApiMinTokens}")
-000102c0: 0a0a 2020 2020 6465 6620 6765 744d 6178  ..    def getMax
-000102d0: 546f 6b65 6e73 2873 656c 6629 3a0a 2020  Tokens(self):.  
-000102e0: 2020 2020 2020 636f 6e74 6578 7457 696e        contextWin
-000102f0: 646f 774c 696d 6974 203d 2074 6f6b 656e  dowLimit = token
-00010300: 4c69 6d69 7473 5b63 6f6e 6669 672e 6368  Limits[config.ch
-00010310: 6174 4750 5441 7069 4d6f 6465 6c5d 0a20  atGPTApiModel]. 
-00010320: 2020 2020 2020 2066 756e 6374 696f 6e54         functionT
-00010330: 6f6b 656e 7320 3d20 636f 756e 745f 746f  okens = count_to
-00010340: 6b65 6e73 5f66 726f 6d5f 6675 6e63 7469  kens_from_functi
-00010350: 6f6e 7328 636f 6e66 6967 2e74 6f6f 6c46  ons(config.toolF
-00010360: 756e 6374 696f 6e53 6368 656d 6173 2e76  unctionSchemas.v
-00010370: 616c 7565 7328 2929 0a20 2020 2020 2020  alues()).       
-00010380: 206d 6178 546f 6b65 6e20 3d20 636f 6e74   maxToken = cont
-00010390: 6578 7457 696e 646f 774c 696d 6974 202d  extWindowLimit -
-000103a0: 2066 756e 6374 696f 6e54 6f6b 656e 7320   functionTokens 
-000103b0: 2d20 636f 6e66 6967 2e63 6861 7447 5054  - config.chatGPT
-000103c0: 4170 694d 696e 546f 6b65 6e73 0a20 2020  ApiMinTokens.   
-000103d0: 2020 2020 2069 6620 6d61 7854 6f6b 656e       if maxToken
-000103e0: 203e 2034 3039 3620 616e 6420 636f 6e66   > 4096 and conf
-000103f0: 6967 2e63 6861 7447 5054 4170 694d 6f64  ig.chatGPTApiMod
-00010400: 656c 2069 6e20 280a 2020 2020 2020 2020  el in (.        
-00010410: 2020 2020 2267 7074 2d34 2d74 7572 626f      "gpt-4-turbo
-00010420: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-00010430: 6770 742d 342d 7475 7262 6f2d 7072 6576  gpt-4-turbo-prev
-00010440: 6965 7722 2c0a 2020 2020 2020 2020 2020  iew",.          
-00010450: 2020 2267 7074 2d34 2d30 3132 352d 7072    "gpt-4-0125-pr
-00010460: 6576 6965 7722 2c0a 2020 2020 2020 2020  eview",.        
-00010470: 2020 2020 2267 7074 2d34 2d31 3130 362d      "gpt-4-1106-
-00010480: 7072 6576 6965 7722 2c0a 2020 2020 2020  preview",.      
-00010490: 2020 2020 2020 2267 7074 2d33 2e35 2d74        "gpt-3.5-t
-000104a0: 7572 626f 222c 0a20 2020 2020 2020 2029  urbo",.        )
-000104b0: 3a0a 2020 2020 2020 2020 2020 2020 6d61  :.            ma
-000104c0: 7854 6f6b 656e 203d 2034 3039 360a 2020  xToken = 4096.  
-000104d0: 2020 2020 2020 7265 7475 726e 2063 6f6e        return con
-000104e0: 7465 7874 5769 6e64 6f77 4c69 6d69 742c  textWindowLimit,
-000104f0: 2066 756e 6374 696f 6e54 6f6b 656e 732c   functionTokens,
-00010500: 206d 6178 546f 6b65 6e0a 0a20 2020 2064   maxToken..    d
-00010510: 6566 2073 6574 4d61 7854 6f6b 656e 735f  ef setMaxTokens_
-00010520: 6e6f 6e5f 6368 6174 6770 7428 7365 6c66  non_chatgpt(self
-00010530: 293a 0a20 2020 2020 2020 2070 7269 6e74  ):.        print
-00010540: 3128 2250 6c65 6173 6520 7370 6563 6966  1("Please specif
-00010550: 7920 6d61 7869 6d75 6d20 6f75 7470 7574  y maximum output
-00010560: 2074 6f6b 656e 7320 6265 6c6f 773a 2229   tokens below:")
-00010570: 0a20 2020 2020 2020 2069 6620 636f 6e66  .        if conf
-00010580: 6967 2e6c 6c6d 496e 7465 7266 6163 6520  ig.llmInterface 
-00010590: 3d3d 2022 6765 6d69 6e69 223a 0a20 2020  == "gemini":.   
-000105a0: 2020 2020 2020 2020 2064 6566 6175 6c74           default
-000105b0: 203d 2063 6f6e 6669 672e 6765 6d69 6e69   = config.gemini
-000105c0: 7072 6f5f 6d61 785f 6f75 7470 7574 5f74  pro_max_output_t
-000105d0: 6f6b 656e 730a 2020 2020 2020 2020 656c  okens.        el
-000105e0: 6966 2063 6f6e 6669 672e 6c6c 6d49 6e74  if config.llmInt
-000105f0: 6572 6661 6365 203d 3d20 226c 6c61 6d61  erface == "llama
-00010600: 6370 7022 3a0a 2020 2020 2020 2020 2020  cpp":.          
-00010610: 2020 6465 6661 756c 7420 3d20 636f 6e66    default = conf
-00010620: 6967 2e6c 6c61 6d61 6370 704d 6169 6e4d  ig.llamacppMainM
-00010630: 6f64 656c 5f6d 6178 5f74 6f6b 656e 730a  odel_max_tokens.
-00010640: 2020 2020 2020 2020 656c 6966 2063 6f6e          elif con
-00010650: 6669 672e 6c6c 6d49 6e74 6572 6661 6365  fig.llmInterface
-00010660: 203d 3d20 226f 6c6c 616d 6122 3a0a 2020   == "ollama":.  
-00010670: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
-00010680: 7420 3d20 636f 6e66 6967 2e6f 6c6c 616d  t = config.ollam
-00010690: 614d 6169 6e4d 6f64 656c 5f6e 756d 5f70  aMainModel_num_p
-000106a0: 7265 6469 6374 0a20 2020 2020 2020 206d  redict.        m
-000106b0: 6178 746f 6b65 6e73 203d 2073 656c 662e  axtokens = self.
-000106c0: 7072 6f6d 7074 732e 7369 6d70 6c65 5072  prompts.simplePr
-000106d0: 6f6d 7074 2873 7479 6c65 3d73 656c 662e  ompt(style=self.
-000106e0: 7072 6f6d 7074 732e 7072 6f6d 7074 5374  prompts.promptSt
-000106f0: 796c 6532 2c20 6e75 6d62 6572 4f6e 6c79  yle2, numberOnly
-00010700: 3d54 7275 652c 2064 6566 6175 6c74 3d73  =True, default=s
-00010710: 7472 2864 6566 6175 6c74 2929 0a20 2020  tr(default)).   
-00010720: 2020 2020 2069 6620 6d61 7874 6f6b 656e       if maxtoken
-00010730: 7320 616e 6420 6e6f 7420 6d61 7874 6f6b  s and not maxtok
-00010740: 656e 732e 7374 7269 7028 292e 6c6f 7765  ens.strip().lowe
-00010750: 7228 2920 3d3d 2063 6f6e 6669 672e 6578  r() == config.ex
-00010760: 6974 5f65 6e74 7279 2061 6e64 2069 6e74  it_entry and int
-00010770: 286d 6178 746f 6b65 6e73 2920 3e20 303a  (maxtokens) > 0:
-00010780: 0a20 2020 2020 2020 2020 2020 206d 6178  .            max
-00010790: 746f 6b65 6e73 203d 2069 6e74 286d 6178  tokens = int(max
-000107a0: 746f 6b65 6e73 290a 2020 2020 2020 2020  tokens).        
-000107b0: 2020 2020 6966 2063 6f6e 6669 672e 6c6c      if config.ll
-000107c0: 6d49 6e74 6572 6661 6365 203d 3d20 2267  mInterface == "g
-000107d0: 656d 696e 6922 3a0a 2020 2020 2020 2020  emini":.        
-000107e0: 2020 2020 2020 2020 636f 6e66 6967 2e67          config.g
-000107f0: 656d 696e 6970 726f 5f6d 6178 5f6f 7574  eminipro_max_out
-00010800: 7075 745f 746f 6b65 6e73 203d 206d 6178  put_tokens = max
-00010810: 746f 6b65 6e73 0a20 2020 2020 2020 2020  tokens.         
-00010820: 2020 2065 6c69 6620 636f 6e66 6967 2e6c     elif config.l
-00010830: 6c6d 496e 7465 7266 6163 6520 3d3d 2022  lmInterface == "
-00010840: 6c6c 616d 6163 7070 223a 0a20 2020 2020  llamacpp":.     
-00010850: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00010860: 672e 6c6c 616d 6163 7070 4d61 696e 4d6f  g.llamacppMainMo
-00010870: 6465 6c5f 6d61 785f 746f 6b65 6e73 203d  del_max_tokens =
-00010880: 206d 6178 746f 6b65 6e73 0a20 2020 2020   maxtokens.     
-00010890: 2020 2020 2020 2065 6c69 6620 636f 6e66         elif conf
-000108a0: 6967 2e6c 6c6d 496e 7465 7266 6163 6520  ig.llmInterface 
-000108b0: 3d3d 2022 6f6c 6c61 6d61 223a 0a20 2020  == "ollama":.   
-000108c0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-000108d0: 6669 672e 6f6c 6c61 6d61 4d61 696e 4d6f  fig.ollamaMainMo
-000108e0: 6465 6c5f 6e75 6d5f 7072 6564 6963 7420  del_num_predict 
-000108f0: 3d20 6d61 7874 6f6b 656e 730a 2020 2020  = maxtokens.    
-00010900: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
-00010910: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
-00010920: 2020 2020 2020 2020 7072 696e 7433 2866          print3(f
-00010930: 224d 6178 696d 756d 206f 7574 7075 7420  "Maximum output 
-00010940: 746f 6b65 6e73 3a20 7b63 6f6e 6669 672e  tokens: {config.
-00010950: 6368 6174 4750 5441 7069 4d69 6e54 6f6b  chatGPTApiMinTok
-00010960: 656e 737d 2229 0a0a 2020 2020 6465 6620  ens}")..    def 
-00010970: 7365 744d 6178 546f 6b65 6e73 2873 656c  setMaxTokens(sel
-00010980: 6629 3a0a 2020 2020 2020 2020 2320 6e6f  f):.        # no
-00010990: 6e2d 6368 6174 6770 7420 7365 7474 696e  n-chatgpt settin
-000109a0: 6773 0a20 2020 2020 2020 2069 6620 6e6f  gs.        if no
-000109b0: 7420 636f 6e66 6967 2e6c 6c6d 496e 7465  t config.llmInte
-000109c0: 7266 6163 6520 696e 2028 2263 6861 7467  rface in ("chatg
-000109d0: 7074 222c 2022 6c65 746d 6564 6f69 7422  pt", "letmedoit"
-000109e0: 293a 0a20 2020 2020 2020 2020 2020 2073  ):.            s
-000109f0: 656c 662e 7365 744d 6178 546f 6b65 6e73  elf.setMaxTokens
-00010a00: 5f6e 6f6e 5f63 6861 7467 7074 2829 0a20  _non_chatgpt(). 
-00010a10: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00010a20: 6e20 4e6f 6e65 0a20 2020 2020 2020 2023  n None.        #
-00010a30: 2063 6861 7467 7074 2073 6574 7469 6e67   chatgpt setting
-00010a40: 730a 2020 2020 2020 2020 636f 6e74 6578  s.        contex
-00010a50: 7457 696e 646f 774c 696d 6974 2c20 6675  tWindowLimit, fu
-00010a60: 6e63 7469 6f6e 546f 6b65 6e73 2c20 746f  nctionTokens, to
-00010a70: 6b65 6e4c 696d 6974 203d 2073 656c 662e  kenLimit = self.
-00010a80: 6765 744d 6178 546f 6b65 6e73 2829 0a20  getMaxTokens(). 
-00010a90: 2020 2020 2020 2069 6620 746f 6b65 6e4c         if tokenL
-00010aa0: 696d 6974 203c 2063 6f6e 6669 672e 6368  imit < config.ch
-00010ab0: 6174 4750 5441 7069 4d69 6e54 6f6b 656e  atGPTApiMinToken
-00010ac0: 733a 0a20 2020 2020 2020 2020 2020 2070  s:.            p
-00010ad0: 7269 6e74 3228 6622 4675 6e63 7469 6f6e  rint2(f"Function
-00010ae0: 2074 6f6b 656e 7320 5b7b 6675 6e63 7469   tokens [{functi
-00010af0: 6f6e 546f 6b65 6e73 7d5d 2065 7863 6565  onTokens}] excee
-00010b00: 6420 7b63 6f6e 6669 672e 6368 6174 4750  d {config.chatGP
-00010b10: 5441 7069 4d6f 6465 6c7d 206f 7574 7075  TApiModel} outpu
-00010b20: 7420 746f 6b65 6e20 6c69 6d69 742e 2229  t token limit.")
-00010b30: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00010b40: 6e74 3128 2245 6974 6865 7220 6368 616e  nt1("Either chan
-00010b50: 6765 2074 6f20 6120 6d6f 6465 6c20 7769  ge to a model wi
-00010b60: 7468 2068 6967 6865 7220 746f 6b65 6e20  th higher token 
-00010b70: 6c69 6d69 7420 6f72 2064 6973 6162 6c65  limit or disable
-00010b80: 2075 6e75 7365 6420 6675 6e63 7469 6f6e   unused function
-00010b90: 2d63 616c 6c20 706c 6775 696e 732e 2229  -call plguins.")
-00010ba0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00010bb0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00010bc0: 3128 7365 6c66 2e64 6976 6964 6572 290a  1(self.divider).
-00010bd0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00010be0: 7431 2822 4750 5420 616e 6420 656d 6265  t1("GPT and embe
-00010bf0: 6464 696e 6773 206d 6f64 656c 7320 7072  ddings models pr
-00010c00: 6f63 6573 7320 7465 7874 2069 6e20 6368  ocess text in ch
-00010c10: 756e 6b73 2063 616c 6c65 6420 746f 6b65  unks called toke
-00010c20: 6e73 2e20 4173 2061 2072 6f75 6768 2072  ns. As a rough r
-00010c30: 756c 6520 6f66 2074 6875 6d62 2c20 3120  ule of thumb, 1 
-00010c40: 746f 6b65 6e20 6973 2061 7070 726f 7869  token is approxi
-00010c50: 6d61 7465 6c79 2034 2063 6861 7261 6374  mately 4 charact
-00010c60: 6572 7320 6f72 2030 2e37 3520 776f 7264  ers or 0.75 word
-00010c70: 7320 666f 7220 456e 676c 6973 6820 7465  s for English te
-00010c80: 7874 2e20 4f6e 6520 6c69 6d69 7461 7469  xt. One limitati
-00010c90: 6f6e 2074 6f20 6b65 6570 2069 6e20 6d69  on to keep in mi
-00010ca0: 6e64 2069 7320 7468 6174 2066 6f72 2061  nd is that for a
-00010cb0: 2047 5054 206d 6f64 656c 2074 6865 2070   GPT model the p
-00010cc0: 726f 6d70 7420 616e 6420 7468 6520 6765  rompt and the ge
-00010cd0: 6e65 7261 7465 6420 6f75 7470 7574 2063  nerated output c
-00010ce0: 6f6d 6269 6e65 6420 6d75 7374 2062 6520  ombined must be 
-00010cf0: 6e6f 206d 6f72 6520 7468 616e 2074 6865  no more than the
-00010d00: 206d 6f64 656c 2773 206d 6178 696d 756d   model's maximum
-00010d10: 2063 6f6e 7465 7874 206c 656e 6774 682e   context length.
-00010d20: 2229 0a20 2020 2020 2020 2020 2020 2070  ").            p
-00010d30: 7269 6e74 3328 6622 4375 7272 656e 7420  rint3(f"Current 
-00010d40: 4750 5420 6d6f 6465 6c3a 207b 636f 6e66  GPT model: {conf
-00010d50: 6967 2e63 6861 7447 5054 4170 694d 6f64  ig.chatGPTApiMod
-00010d60: 656c 7d22 290a 2020 2020 2020 2020 2020  el}").          
-00010d70: 2020 7072 696e 7433 2866 224d 6178 696d    print3(f"Maxim
-00010d80: 756d 2063 6f6e 7465 7874 206c 656e 6774  um context lengt
-00010d90: 683a 207b 636f 6e74 6578 7457 696e 646f  h: {contextWindo
-00010da0: 774c 696d 6974 7d22 290a 2020 2020 2020  wLimit}").      
-00010db0: 2020 2020 2020 7072 696e 7433 2866 2243        print3(f"C
-00010dc0: 7572 7265 6e74 2066 756e 6374 696f 6e20  urrent function 
-00010dd0: 746f 6b65 6e73 3a20 7b66 756e 6374 696f  tokens: {functio
-00010de0: 6e54 6f6b 656e 737d 2229 0a20 2020 2020  nTokens}").     
-00010df0: 2020 2020 2020 2070 7269 6e74 3328 6622         print3(f"
-00010e00: 4d61 7869 6d75 6d20 6f75 7470 7574 2074  Maximum output t
-00010e10: 6f6b 656e 2061 6c6c 6f77 6564 2028 6578  oken allowed (ex
-00010e20: 636c 2e20 6675 6e63 7469 6f6e 7329 3a20  cl. functions): 
-00010e30: 7b74 6f6b 656e 4c69 6d69 747d 2229 0a20  {tokenLimit}"). 
-00010e40: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00010e50: 3128 7365 6c66 2e64 6976 6964 6572 290a  1(self.divider).
-00010e60: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00010e70: 7431 2822 506c 6561 7365 2073 7065 6369  t1("Please speci
-00010e80: 6679 206d 6178 696d 756d 206f 7574 7075  fy maximum outpu
-00010e90: 7420 746f 6b65 6e73 2062 656c 6f77 3a22  t tokens below:"
-00010ea0: 290a 2020 2020 2020 2020 2020 2020 6d61  ).            ma
-00010eb0: 7874 6f6b 656e 7320 3d20 7365 6c66 2e70  xtokens = self.p
-00010ec0: 726f 6d70 7473 2e73 696d 706c 6550 726f  rompts.simplePro
-00010ed0: 6d70 7428 7374 796c 653d 7365 6c66 2e70  mpt(style=self.p
-00010ee0: 726f 6d70 7473 2e70 726f 6d70 7453 7479  rompts.promptSty
-00010ef0: 6c65 322c 206e 756d 6265 724f 6e6c 793d  le2, numberOnly=
-00010f00: 5472 7565 2c20 6465 6661 756c 743d 7374  True, default=st
-00010f10: 7228 636f 6e66 6967 2e63 6861 7447 5054  r(config.chatGPT
-00010f20: 4170 694d 6178 546f 6b65 6e73 2929 0a20  ApiMaxTokens)). 
-00010f30: 2020 2020 2020 2020 2020 2069 6620 6d61             if ma
-00010f40: 7874 6f6b 656e 7320 616e 6420 6e6f 7420  xtokens and not 
-00010f50: 6d61 7874 6f6b 656e 732e 7374 7269 7028  maxtokens.strip(
-00010f60: 292e 6c6f 7765 7228 2920 3d3d 2063 6f6e  ).lower() == con
-00010f70: 6669 672e 6578 6974 5f65 6e74 7279 2061  fig.exit_entry a
-00010f80: 6e64 2069 6e74 286d 6178 746f 6b65 6e73  nd int(maxtokens
-00010f90: 2920 3e20 303a 0a20 2020 2020 2020 2020  ) > 0:.         
-00010fa0: 2020 2020 2020 2063 6f6e 6669 672e 6368         config.ch
-00010fb0: 6174 4750 5441 7069 4d61 7854 6f6b 656e  atGPTApiMaxToken
-00010fc0: 7320 3d20 696e 7428 6d61 7874 6f6b 656e  s = int(maxtoken
-00010fd0: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
-00010fe0: 2020 2069 6620 636f 6e66 6967 2e63 6861     if config.cha
-00010ff0: 7447 5054 4170 694d 6178 546f 6b65 6e73  tGPTApiMaxTokens
-00011000: 203e 2074 6f6b 656e 4c69 6d69 743a 0a20   > tokenLimit:. 
-00011010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011020: 2020 2063 6f6e 6669 672e 6368 6174 4750     config.chatGP
-00011030: 5441 7069 4d61 7854 6f6b 656e 7320 3d20  TApiMaxTokens = 
-00011040: 746f 6b65 6e4c 696d 6974 0a20 2020 2020  tokenLimit.     
-00011050: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00011060: 672e 7361 7665 436f 6e66 6967 2829 0a20  g.saveConfig(). 
-00011070: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00011080: 7269 6e74 3328 6622 4d61 7869 6d75 6d20  rint3(f"Maximum 
-00011090: 6f75 7470 7574 2074 6f6b 656e 733a 207b  output tokens: {
-000110a0: 636f 6e66 6967 2e63 6861 7447 5054 4170  config.chatGPTAp
-000110b0: 694d 6178 546f 6b65 6e73 7d22 290a 0a20  iMaxTokens}").. 
-000110c0: 2020 2064 6566 2072 756e 5379 7374 656d     def runSystem
-000110d0: 436f 6d6d 616e 6428 7365 6c66 2c20 636f  Command(self, co
-000110e0: 6d6d 616e 6429 3a0a 2020 2020 2020 2020  mmand):.        
-000110f0: 636f 6d6d 616e 6420 3d20 636f 6d6d 616e  command = comman
-00011100: 642e 7374 7269 7028 295b 313a 5d0a 2020  d.strip()[1:].  
-00011110: 2020 2020 2020 6966 2022 5c6e 2220 696e        if "\n" in
-00011120: 2063 6f6d 6d61 6e64 3a0a 2020 2020 2020   command:.      
-00011130: 2020 2020 2020 636f 6d6d 616e 6420 3d20        command = 
-00011140: 223b 222e 6a6f 696e 2863 6f6d 6d61 6e64  ";".join(command
-00011150: 2e73 706c 6974 2822 5c6e 2229 290a 2020  .split("\n")).  
-00011160: 2020 2020 2020 6966 2063 6f6e 6669 672e        if config.
-00011170: 7468 6973 506c 6174 666f 726d 203d 3d20  thisPlatform == 
-00011180: 2257 696e 646f 7773 223a 0a20 2020 2020  "Windows":.     
-00011190: 2020 2020 2020 206f 732e 7379 7374 656d         os.system
-000111a0: 2863 6f6d 6d61 6e64 290a 2020 2020 2020  (command).      
-000111b0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000111c0: 2020 2020 6f73 2e73 7973 7465 6d28 6622      os.system(f"
-000111d0: 656e 7620 5154 5f51 5041 5f50 4c41 5446  env QT_QPA_PLATF
-000111e0: 4f52 4d5f 504c 5547 494e 5f50 4154 483d  ORM_PLUGIN_PATH=
-000111f0: 277b 636f 6e66 6967 2e65 6e76 5f51 545f  '{config.env_QT_
-00011200: 5150 415f 504c 4154 464f 524d 5f50 4c55  QPA_PLATFORM_PLU
-00011210: 4749 4e5f 5041 5448 7d27 207b 636f 6d6d  GIN_PATH}' {comm
-00011220: 616e 647d 2229 0a0a 2020 2020 6465 6620  and}")..    def 
-00011230: 746f 6767 6c65 4d75 6c74 696c 696e 6528  toggleMultiline(
-00011240: 7365 6c66 293a 0a20 2020 2020 2020 2063  self):.        c
-00011250: 6f6e 6669 672e 6d75 6c74 696c 696e 6549  onfig.multilineI
-00011260: 6e70 7574 203d 206e 6f74 2063 6f6e 6669  nput = not confi
-00011270: 672e 6d75 6c74 696c 696e 6549 6e70 7574  g.multilineInput
-00011280: 0a20 2020 2020 2020 2072 756e 5f69 6e5f  .        run_in_
-00011290: 7465 726d 696e 616c 286c 616d 6264 613a  terminal(lambda:
-000112a0: 2070 7269 6e74 3128 6622 4d75 6c74 692d   print1(f"Multi-
-000112b0: 6c69 6e65 2069 6e70 7574 207b 2765 6e61  line input {'ena
-000112c0: 626c 6564 2720 6966 2063 6f6e 6669 672e  bled' if config.
-000112d0: 6d75 6c74 696c 696e 6549 6e70 7574 2065  multilineInput e
-000112e0: 6c73 6520 2764 6973 6162 6c65 6427 7d21  lse 'disabled'}!
-000112f0: 2229 290a 2020 2020 2020 2020 6966 2063  ")).        if c
-00011300: 6f6e 6669 672e 6d75 6c74 696c 696e 6549  onfig.multilineI
-00011310: 6e70 7574 3a0a 2020 2020 2020 2020 2020  nput:.          
-00011320: 2020 7275 6e5f 696e 5f74 6572 6d69 6e61    run_in_termina
-00011330: 6c28 6c61 6d62 6461 3a20 7072 696e 7431  l(lambda: print1
-00011340: 2822 5573 6520 2765 7363 6170 6520 2b20  ("Use 'escape + 
-00011350: 656e 7465 7227 2074 6f20 636f 6d70 6c65  enter' to comple
-00011360: 7465 2079 6f75 7220 656e 7472 792e 2229  te your entry.")
-00011370: 290a 0a20 2020 2064 6566 2069 7354 7473  )..    def isTts
-00011380: 4176 6169 6c61 626c 6528 7365 6c66 293a  Available(self):
-00011390: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-000113a0: 636f 6e66 6967 2e69 7356 6c63 506c 6179  config.isVlcPlay
-000113b0: 6572 496e 7374 616c 6c65 6420 616e 6420  erInstalled and 
-000113c0: 6e6f 7420 636f 6e66 6967 2e69 7350 7967  not config.isPyg
-000113d0: 616d 6549 6e73 7461 6c6c 6564 2061 6e64  ameInstalled and
-000113e0: 206e 6f74 2063 6f6e 6669 672e 7474 7343   not config.ttsC
-000113f0: 6f6d 6d61 6e64 2061 6e64 206e 6f74 2063  ommand and not c
-00011400: 6f6e 6669 672e 656c 6576 656e 6c61 6273  onfig.elevenlabs
-00011410: 4170 693a 0a20 2020 2020 2020 2020 2020  Api:.           
-00011420: 2070 7269 6e74 3228 2254 6578 742d 746f   print2("Text-to
-00011430: 2d73 7065 6563 6820 6665 6174 7572 6520  -speech feature 
-00011440: 6973 206e 6f74 2065 6e61 626c 6564 2122  is not enabled!"
-00011450: 290a 2020 2020 2020 2020 2020 2020 7072  ).            pr
-00011460: 696e 7433 2822 5265 6164 3a20 6874 7470  int3("Read: http
-00011470: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f65  s://github.com/e
-00011480: 6c69 7261 6e77 6f6e 672f 6c65 746d 6564  liranwong/letmed
-00011490: 6f69 742f 7769 6b69 2f6c 6574 4d65 446f  oit/wiki/letMeDo
-000114a0: 4974 2d53 7065 616b 7322 290a 2020 2020  It-Speaks").    
-000114b0: 2020 2020 2020 2020 636f 6e66 6967 2e74          config.t
-000114c0: 7473 203d 2046 616c 7365 0a20 2020 2020  ts = False.     
-000114d0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-000114e0: 2020 2020 2063 6f6e 6669 672e 7474 7320       config.tts 
-000114f0: 3d20 5472 7565 0a20 2020 2020 2020 2072  = True.        r
-00011500: 6574 7572 6e20 636f 6e66 6967 2e74 7473  eturn config.tts
-00011510: 0a0a 2020 2020 6465 6620 746f 6767 6c65  ..    def toggle
-00011520: 696e 7075 7461 7564 696f 2873 656c 6629  inputaudio(self)
-00011530: 3a0a 2020 2020 2020 2020 6966 2073 656c  :.        if sel
-00011540: 662e 6973 5474 7341 7661 696c 6162 6c65  f.isTtsAvailable
-00011550: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
-00011560: 6e66 6967 2e74 7473 496e 7075 7420 3d20  nfig.ttsInput = 
-00011570: 6e6f 7420 636f 6e66 6967 2e74 7473 496e  not config.ttsIn
-00011580: 7075 740a 2020 2020 2020 2020 2020 2020  put.            
-00011590: 636f 6e66 6967 2e73 6176 6543 6f6e 6669  config.saveConfi
-000115a0: 6728 290a 2020 2020 2020 2020 2020 2020  g().            
-000115b0: 7072 696e 7433 2866 2249 6e70 7574 2041  print3(f"Input A
-000115c0: 7564 696f 3a20 277b 2765 6e61 626c 6564  udio: '{'enabled
-000115d0: 2720 6966 2063 6f6e 6669 672e 7474 7349  ' if config.ttsI
-000115e0: 6e70 7574 2065 6c73 6520 2764 6973 6162  nput else 'disab
-000115f0: 6c65 6427 7d27 2122 290a 0a20 2020 2064  led'}'!")..    d
-00011600: 6566 2074 6f67 676c 6572 6573 706f 6e73  ef togglerespons
-00011610: 6561 7564 696f 2873 656c 6629 3a0a 2020  eaudio(self):.  
-00011620: 2020 2020 2020 6966 2073 656c 662e 6973        if self.is
-00011630: 5474 7341 7661 696c 6162 6c65 3a0a 2020  TtsAvailable:.  
-00011640: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-00011650: 2e74 7473 4f75 7470 7574 203d 206e 6f74  .ttsOutput = not
-00011660: 2063 6f6e 6669 672e 7474 734f 7574 7075   config.ttsOutpu
-00011670: 740a 2020 2020 2020 2020 2020 2020 636f  t.            co
-00011680: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
-00011690: 290a 2020 2020 2020 2020 2020 2020 7072  ).            pr
-000116a0: 696e 7433 2866 2252 6573 706f 6e73 6520  int3(f"Response 
-000116b0: 4175 6469 6f3a 2027 7b27 656e 6162 6c65  Audio: '{'enable
-000116c0: 6427 2069 6620 636f 6e66 6967 2e74 7473  d' if config.tts
-000116d0: 4f75 7470 7574 2065 6c73 6520 2764 6973  Output else 'dis
-000116e0: 6162 6c65 6427 7d27 2122 290a 0a20 2020  abled'}'!")..   
-000116f0: 2064 6566 2064 6566 696e 6554 7473 436f   def defineTtsCo
-00011700: 6d6d 616e 6428 7365 6c66 293a 0a20 2020  mmand(self):.   
-00011710: 2020 2020 2070 7269 6e74 3128 2244 6566       print1("Def
-00011720: 696e 6520 6375 7374 6f6d 2074 6578 742d  ine custom text-
-00011730: 746f 2d73 7065 6563 6820 636f 6d6d 616e  to-speech comman
-00011740: 6420 6265 6c6f 773a 2229 0a20 2020 2020  d below:").     
-00011750: 2020 2070 7269 6e74 3128 2222 222a 206f     print1("""* o
-00011760: 6e20 6d61 634f 5320 5b27 7361 7920 2d76  n macOS ['say -v
-00011770: 2022 3f22 2720 746f 2063 6865 636b 2076   "?"' to check v
-00011780: 6f69 6365 735d 2c20 652e 672e 3a5c 6e27  oices], e.g.:\n'
-00011790: 7361 7927 206f 7220 2773 6179 202d 7220  say' or 'say -r 
-000117a0: 3230 3020 2d76 2044 616e 6965 6c27 2222  200 -v Daniel'""
-000117b0: 2229 0a20 2020 2020 2020 2070 7269 6e74  ").        print
-000117c0: 3128 222a 206f 6e20 5562 756e 7475 205b  1("* on Ubuntu [
-000117d0: 2765 7370 6561 6b20 2d2d 766f 6963 6573  'espeak --voices
-000117e0: 2720 746f 2063 6865 636b 2076 6f69 6365  ' to check voice
-000117f0: 735d 2c20 652e 672e 3a5c 6e27 6573 7065  s], e.g.:\n'espe
-00011800: 616b 2720 6f72 2027 6573 7065 616b 202d  ak' or 'espeak -
-00011810: 7320 3137 3520 2d76 2065 6e2d 6762 2722  s 175 -v en-gb'"
-00011820: 290a 2020 2020 2020 2020 7072 696e 7431  ).        print1
-00011830: 2822 2a20 6f6e 2057 696e 646f 7773 2c20  ("* on Windows, 
-00011840: 7369 6d70 6c79 2065 6e74 6572 2027 7769  simply enter 'wi
-00011850: 6e64 6f77 7327 2068 6572 6520 746f 2075  ndows' here to u
-00011860: 7365 2057 696e 646f 7773 2062 7569 6c74  se Windows built
-00011870: 2d69 6e20 7370 6565 6368 2065 6e67 696e  -in speech engin
-00011880: 6522 2920 2320 6c65 746d 6564 6f69 742e  e") # letmedoit.
-00011890: 6169 2077 696c 6c20 6861 6e64 6c65 2074  ai will handle t
-000118a0: 6865 2063 6f6d 6d61 6e64 2066 6f72 2057  he command for W
-000118b0: 696e 646f 7773 2075 7365 7273 0a20 2020  indows users.   
-000118c0: 2020 2020 2070 7269 6e74 3128 2272 656d       print1("rem
-000118d0: 6172 6b73 3a20 616c 7761 7973 2070 6c61  arks: always pla
-000118e0: 6365 2074 6865 2076 6f69 6365 206f 7074  ce the voice opt
-000118f0: 696f 6e2c 2069 6620 616e 792c 2061 7420  ion, if any, at 
-00011900: 7468 6520 656e 6422 290a 2020 2020 2020  the end").      
-00011910: 2020 7474 7343 6f6d 6d61 6e64 203d 2073    ttsCommand = s
-00011920: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
-00011930: 6c65 5072 6f6d 7074 2873 7479 6c65 3d73  lePrompt(style=s
-00011940: 656c 662e 7072 6f6d 7074 732e 7072 6f6d  elf.prompts.prom
-00011950: 7074 5374 796c 6532 2c20 6465 6661 756c  ptStyle2, defaul
-00011960: 743d 636f 6e66 6967 2e74 7473 436f 6d6d  t=config.ttsComm
-00011970: 616e 6429 0a20 2020 2020 2020 2069 6620  and).        if 
-00011980: 7474 7343 6f6d 6d61 6e64 3a0a 2020 2020  ttsCommand:.    
-00011990: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-000119a0: 5370 6563 6966 7920 636f 6d6d 616e 6420  Specify command 
-000119b0: 7375 6666 6978 2062 656c 6f77 2c20 6966  suffix below, if
-000119c0: 2061 6e79 205b 6c65 6176 6520 6974 2062   any [leave it b
-000119d0: 6c61 6e6b 2069 6620 4e2f 415d 3a22 290a  lank if N/A]:").
-000119e0: 2020 2020 2020 2020 2020 2020 7474 7343              ttsC
-000119f0: 6f6d 6d61 6e64 5375 6666 6978 203d 2073  ommandSuffix = s
-00011a00: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
-00011a10: 6c65 5072 6f6d 7074 2873 7479 6c65 3d73  lePrompt(style=s
-00011a20: 656c 662e 7072 6f6d 7074 732e 7072 6f6d  elf.prompts.prom
-00011a30: 7074 5374 796c 6532 2c20 6465 6661 756c  ptStyle2, defaul
-00011a40: 743d 636f 6e66 6967 2e74 7473 436f 6d6d  t=config.ttsComm
-00011a50: 616e 6453 7566 6669 7829 0a20 2020 2020  andSuffix).     
-00011a60: 2020 2020 2020 2069 6620 7474 7343 6f6d         if ttsCom
-00011a70: 6d61 6e64 2e6c 6f77 6572 2829 203d 3d20  mand.lower() == 
-00011a80: 2277 696e 646f 7773 223a 0a20 2020 2020  "windows":.     
-00011a90: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
-00011aa0: 6e64 203d 2066 2727 2750 6f77 6572 5368  nd = f'''PowerSh
-00011ab0: 656c 6c20 2d43 6f6d 6d61 6e64 2022 4164  ell -Command "Ad
-00011ac0: 642d 5479 7065 20e2 8093 4173 7365 6d62  d-Type ...Assemb
-00011ad0: 6c79 4e61 6d65 2053 7973 7465 6d2e 5370  lyName System.Sp
-00011ae0: 6565 6368 3b20 284e 6577 2d4f 626a 6563  eech; (New-Objec
-00011af0: 7420 5379 7374 656d 2e53 7065 6563 682e  t System.Speech.
-00011b00: 5379 6e74 6865 7369 732e 5370 6565 6368  Synthesis.Speech
-00011b10: 5379 6e74 6865 7369 7a65 7229 2e53 7065  Synthesizer).Spe
-00011b20: 616b 2827 7465 7374 696e 6727 293b 2227  ak('testing');"'
-00011b30: 2727 0a20 2020 2020 2020 2020 2020 2020  ''.             
-00011b40: 2020 2074 7473 436f 6d6d 616e 6453 7566     ttsCommandSuf
-00011b50: 6669 7820 3d20 2222 0a20 2020 2020 2020  fix = "".       
-00011b60: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00011b70: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
-00011b80: 6e64 203d 2066 2727 277b 7474 7343 6f6d  nd = f'''{ttsCom
-00011b90: 6d61 6e64 7d20 2274 6573 7469 6e67 227b  mand} "testing"{
-00011ba0: 7474 7343 6f6d 6d61 6e64 5375 6666 6978  ttsCommandSuffix
-00011bb0: 7d27 2727 0a20 2020 2020 2020 2020 2020  }'''.           
-00011bc0: 205f 2c20 7374 6445 7272 203d 2073 7562   _, stdErr = sub
-00011bd0: 7072 6f63 6573 732e 506f 7065 6e28 636f  process.Popen(co
-00011be0: 6d6d 616e 642c 2073 6865 6c6c 3d54 7275  mmand, shell=Tru
-00011bf0: 652c 2073 7464 6f75 743d 7375 6270 726f  e, stdout=subpro
-00011c00: 6365 7373 2e50 4950 452c 2073 7464 6572  cess.PIPE, stder
-00011c10: 723d 7375 6270 726f 6365 7373 2e50 4950  r=subprocess.PIP
-00011c20: 4529 2e63 6f6d 6d75 6e69 6361 7465 2829  E).communicate()
-00011c30: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00011c40: 7374 6445 7272 3a0a 2020 2020 2020 2020  stdErr:.        
-00011c50: 2020 2020 2020 2020 7368 6f77 4572 726f          showErro
-00011c60: 7273 2829 2069 6620 636f 6e66 6967 2e64  rs() if config.d
-00011c70: 6576 656c 6f70 6572 2065 6c73 6520 7072  eveloper else pr
-00011c80: 696e 7431 2822 456e 7465 7265 6420 636f  int1("Entered co
-00011c90: 6d6d 616e 6420 696e 7661 6c69 6421 2229  mmand invalid!")
-00011ca0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-00011cb0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00011cc0: 2020 2063 6f6e 6669 672e 7474 7343 6f6d     config.ttsCom
-00011cd0: 6d61 6e64 2c20 636f 6e66 6967 2e74 7473  mand, config.tts
-00011ce0: 436f 6d6d 616e 6453 7566 6669 7820 3d20  CommandSuffix = 
-00011cf0: 7474 7343 6f6d 6d61 6e64 2c20 7474 7343  ttsCommand, ttsC
-00011d00: 6f6d 6d61 6e64 5375 6666 6978 0a20 2020  ommandSuffix.   
-00011d10: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-00011d20: 6669 672e 7361 7665 436f 6e66 6967 2829  fig.saveConfig()
-00011d30: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00011d40: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00011d50: 672e 7474 7343 6f6d 6d61 6e64 2c20 636f  g.ttsCommand, co
-00011d60: 6e66 6967 2e74 7473 436f 6d6d 616e 6453  nfig.ttsCommandS
-00011d70: 7566 6669 7820 3d20 2222 2c20 2222 0a0a  uffix = "", ""..
-00011d80: 2020 2020 6465 6620 746f 6767 6c65 576f      def toggleWo
-00011d90: 7264 5772 6170 2873 656c 6629 3a0a 2020  rdWrap(self):.  
-00011da0: 2020 2020 2020 636f 6e66 6967 2e77 7261        config.wra
-00011db0: 7057 6f72 6473 203d 206e 6f74 2063 6f6e  pWords = not con
-00011dc0: 6669 672e 7772 6170 576f 7264 730a 2020  fig.wrapWords.  
-00011dd0: 2020 2020 2020 636f 6e66 6967 2e73 6176        config.sav
-00011de0: 6543 6f6e 6669 6728 290a 2020 2020 2020  eConfig().      
-00011df0: 2020 7072 696e 7433 2866 2257 6f72 6420    print3(f"Word 
-00011e00: 5772 6170 3a20 277b 2765 6e61 626c 6564  Wrap: '{'enabled
-00011e10: 2720 6966 2063 6f6e 6669 672e 7772 6170  ' if config.wrap
-00011e20: 576f 7264 7320 656c 7365 2027 6469 7361  Words else 'disa
-00011e30: 626c 6564 277d 2721 2229 0a0a 2020 2020  bled'}'!")..    
-00011e40: 6465 6620 746f 6767 6c65 4d6f 7573 6553  def toggleMouseS
-00011e50: 7570 706f 7274 2873 656c 6629 3a0a 2020  upport(self):.  
-00011e60: 2020 2020 2020 636f 6e66 6967 2e6d 6f75        config.mou
-00011e70: 7365 5375 7070 6f72 7420 3d20 6e6f 7420  seSupport = not 
-00011e80: 636f 6e66 6967 2e6d 6f75 7365 5375 7070  config.mouseSupp
-00011e90: 6f72 740a 2020 2020 2020 2020 636f 6e66  ort.        conf
-00011ea0: 6967 2e73 6176 6543 6f6e 6669 6728 290a  ig.saveConfig().
-00011eb0: 2020 2020 2020 2020 7072 696e 7433 2866          print3(f
-00011ec0: 2245 6e74 7279 204d 6f75 7365 2053 7570  "Entry Mouse Sup
-00011ed0: 706f 7274 3a20 277b 2765 6e61 626c 6564  port: '{'enabled
-00011ee0: 2720 6966 2063 6f6e 6669 672e 6d6f 7573  ' if config.mous
-00011ef0: 6553 7570 706f 7274 2065 6c73 6520 2764  eSupport else 'd
-00011f00: 6973 6162 6c65 6427 7d27 2122 290a 0a20  isabled'}'!").. 
-00011f10: 2020 2064 6566 2074 6f67 676c 6549 6d70     def toggleImp
-00011f20: 726f 7665 6457 7269 7469 6e67 2873 656c  rovedWriting(sel
-00011f30: 6629 3a0a 2020 2020 2020 2020 636f 6e66  f):.        conf
-00011f40: 6967 2e64 6973 706c 6179 496d 7072 6f76  ig.displayImprov
-00011f50: 6564 5772 6974 696e 6720 3d20 6e6f 7420  edWriting = not 
-00011f60: 636f 6e66 6967 2e64 6973 706c 6179 496d  config.displayIm
-00011f70: 7072 6f76 6564 5772 6974 696e 670a 2020  provedWriting.  
-00011f80: 2020 2020 2020 6966 2063 6f6e 6669 672e        if config.
-00011f90: 6469 7370 6c61 7949 6d70 726f 7665 6457  displayImprovedW
-00011fa0: 7269 7469 6e67 3a0a 2020 2020 2020 2020  riting:.        
-00011fb0: 2020 2020 7072 696e 7431 2822 506c 6561      print1("Plea
-00011fc0: 7365 2073 7065 6369 6679 2074 6865 2077  se specify the w
-00011fd0: 7269 7469 6e67 2073 7479 6c65 2062 656c  riting style bel
-00011fe0: 6f77 3a22 290a 2020 2020 2020 2020 2020  ow:").          
-00011ff0: 2020 7374 796c 6520 3d20 7365 6c66 2e70    style = self.p
-00012000: 726f 6d70 7473 2e73 696d 706c 6550 726f  rompts.simplePro
-00012010: 6d70 7428 7374 796c 653d 7365 6c66 2e70  mpt(style=self.p
-00012020: 726f 6d70 7473 2e70 726f 6d70 7453 7479  rompts.promptSty
-00012030: 6c65 322c 2064 6566 6175 6c74 3d63 6f6e  le2, default=con
-00012040: 6669 672e 696d 7072 6f76 6564 5772 6974  fig.improvedWrit
-00012050: 696e 6753 7974 6c65 290a 2020 2020 2020  ingSytle).      
-00012060: 2020 2020 2020 6966 2073 7479 6c65 2061        if style a
-00012070: 6e64 206e 6f74 2073 7479 6c65 2069 6e20  nd not style in 
-00012080: 2863 6f6e 6669 672e 6578 6974 5f65 6e74  (config.exit_ent
-00012090: 7279 2c20 636f 6e66 6967 2e63 616e 6365  ry, config.cance
-000120a0: 6c5f 656e 7472 7929 3a0a 2020 2020 2020  l_entry):.      
-000120b0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-000120c0: 2e69 6d70 726f 7665 6457 7269 7469 6e67  .improvedWriting
-000120d0: 5379 746c 6520 3d20 7374 796c 650a 2020  Sytle = style.  
-000120e0: 2020 2020 2020 2020 2020 2020 2020 636f                co
-000120f0: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
-00012100: 290a 2020 2020 2020 2020 7072 696e 7433  ).        print3
-00012110: 2866 2249 6d70 726f 7665 6420 5772 6974  (f"Improved Writ
-00012120: 696e 6720 4469 7370 6c61 793a 2027 7b27  ing Display: '{'
-00012130: 656e 6162 6c65 6427 2069 6620 636f 6e66  enabled' if conf
-00012140: 6967 2e64 6973 706c 6179 496d 7072 6f76  ig.displayImprov
-00012150: 6564 5772 6974 696e 6720 656c 7365 2027  edWriting else '
-00012160: 6469 7361 626c 6564 277d 2721 2229 0a0a  disabled'}'!")..
-00012170: 2020 2020 6465 6620 7365 7441 7564 696f      def setAudio
-00012180: 506c 6179 6261 636b 546f 6f6c 2873 656c  PlaybackTool(sel
-00012190: 6629 3a0a 2020 2020 2020 2020 706c 6179  f):.        play
-000121a0: 6261 636b 203d 2073 656c 662e 6469 616c  back = self.dial
-000121b0: 6f67 732e 6765 7456 616c 6964 4f70 7469  ogs.getValidOpti
-000121c0: 6f6e 7328 0a20 2020 2020 2020 2020 2020  ons(.           
-000121d0: 206f 7074 696f 6e73 3d28 2270 7967 616d   options=("pygam
-000121e0: 6522 2c20 2276 6c63 2229 2c0a 2020 2020  e", "vlc"),.    
-000121f0: 2020 2020 2020 2020 6465 7363 7269 7074          descript
-00012200: 696f 6e73 3d28 2250 7947 616d 6522 2c20  ions=("PyGame", 
-00012210: 6622 564c 4320 506c 6179 6572 2028 772f  f"VLC Player (w/
-00012220: 2073 7065 6564 2063 6f6e 7472 6f6c 297b   speed control){
-00012230: 2720 5b69 6e73 7461 6c6c 6174 696f 6e20  ' [installation 
-00012240: 7265 7175 6972 6564 5d27 2069 6620 6e6f  required]' if no
-00012250: 7420 636f 6e66 6967 2e69 7356 6c63 506c  t config.isVlcPl
-00012260: 6179 6572 496e 7374 616c 6c65 6420 656c  ayerInstalled el
-00012270: 7365 2027 277d 2229 2c0a 2020 2020 2020  se ''}"),.      
-00012280: 2020 2020 2020 7469 746c 653d 2254 6578        title="Tex
-00012290: 742d 746f 2d53 7065 6563 6820 506c 6179  t-to-Speech Play
-000122a0: 6261 636b 222c 0a20 2020 2020 2020 2020  back",.         
-000122b0: 2020 2074 6578 743d 2253 656c 6563 7420     text="Select 
-000122c0: 6120 7465 7874 2d74 6f2d 7370 6565 6368  a text-to-speech
-000122d0: 2070 6c61 636b 6261 636b 2074 6f6f 6c3a   plackback tool:
-000122e0: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
-000122f0: 6566 6175 6c74 3d22 766c 6322 2069 6620  efault="vlc" if 
-00012300: 636f 6e66 6967 2e69 7356 6c63 506c 6179  config.isVlcPlay
-00012310: 6572 496e 7374 616c 6c65 6420 616e 6420  erInstalled and 
-00012320: 6e6f 7420 636f 6e66 6967 2e75 7365 5079  not config.usePy
-00012330: 6761 6d65 2065 6c73 6520 2270 7967 616d  game else "pygam
-00012340: 6522 2c0a 2020 2020 2020 2020 290a 2020  e",.        ).  
-00012350: 2020 2020 2020 6966 2070 6c61 7962 6163        if playbac
-00012360: 6b3a 0a20 2020 2020 2020 2020 2020 2069  k:.            i
-00012370: 6620 706c 6179 6261 636b 203d 3d20 2276  f playback == "v
-00012380: 6c63 223a 0a20 2020 2020 2020 2020 2020  lc":.           
-00012390: 2020 2020 2069 6620 6e6f 7420 636f 6e66       if not conf
-000123a0: 6967 2e69 7356 6c63 506c 6179 6572 496e  ig.isVlcPlayerIn
-000123b0: 7374 616c 6c65 643a 0a20 2020 2020 2020  stalled:.       
-000123c0: 2020 2020 2020 2020 2020 2020 2070 7269               pri
-000123d0: 6e74 3128 2256 4c43 2070 6c61 7965 7220  nt1("VLC player 
-000123e0: 6e6f 7420 666f 756e 6421 2049 6e73 7461  not found! Insta
-000123f0: 6c6c 2069 7420 6669 7273 7421 2229 0a20  ll it first!"). 
-00012400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012410: 2020 2070 7269 6e74 3328 2254 6578 742d     print3("Text-
-00012420: 746f 2d53 7065 6563 6820 506c 6179 6261  to-Speech Playba
-00012430: 636b 2063 6861 6e67 6564 2074 6f3a 2050  ck changed to: P
-00012440: 7947 616d 6522 290a 2020 2020 2020 2020  yGame").        
-00012450: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00012460: 6967 2e75 7365 5079 6761 6d65 203d 2054  ig.usePygame = T
-00012470: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
-00012480: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00012490: 2020 2020 2020 2020 2020 2020 2020 636f                co
-000124a0: 6e66 6967 2e75 7365 5079 6761 6d65 203d  nfig.usePygame =
-000124b0: 2046 616c 7365 0a20 2020 2020 2020 2020   False.         
-000124c0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-000124d0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-000124e0: 7573 6550 7967 616d 6520 3d20 5472 7565  usePygame = True
-000124f0: 0a0a 2020 2020 6465 6620 7365 7454 6578  ..    def setTex
-00012500: 7454 6f53 7065 6563 6843 6f6e 6669 6728  tToSpeechConfig(
-00012510: 7365 6c66 293a 0a20 2020 2020 2020 2074  self):.        t
-00012520: 7473 506c 6174 666f 726d 203d 2073 656c  tsPlatform = sel
-00012530: 662e 6469 616c 6f67 732e 6765 7456 616c  f.dialogs.getVal
-00012540: 6964 4f70 7469 6f6e 7328 0a20 2020 2020  idOptions(.     
-00012550: 2020 2020 2020 206f 7074 696f 6e73 3d28         options=(
-00012560: 2267 6f6f 676c 6522 2c20 2267 6f6f 676c  "google", "googl
-00012570: 6563 6c6f 7564 222c 2022 656c 6576 656e  ecloud", "eleven
-00012580: 6c61 6273 222c 2022 6375 7374 6f6d 2229  labs", "custom")
-00012590: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
-000125a0: 7363 7269 7074 696f 6e73 3d28 2247 6f6f  scriptions=("Goo
-000125b0: 676c 6520 5465 7874 2d74 6f2d 5370 6565  gle Text-to-Spee
-000125c0: 6368 2028 4765 6e65 7269 6329 222c 2022  ch (Generic)", "
-000125d0: 476f 6f67 6c65 2054 6578 742d 746f 2d53  Google Text-to-S
-000125e0: 7065 6563 6820 2841 5049 2922 2c20 2245  peech (API)", "E
-000125f0: 6c65 7665 6e4c 6162 7320 2841 5049 2922  levenLabs (API)"
-00012600: 2c20 2243 7573 746f 6d20 5465 7874 2d74  , "Custom Text-t
-00012610: 6f2d 5370 6565 6368 2043 6f6d 6d61 6e64  o-Speech Command
-00012620: 205b 6164 7661 6e63 6564 5d22 292c 0a20   [advanced]"),. 
-00012630: 2020 2020 2020 2020 2020 2074 6974 6c65             title
-00012640: 3d22 5465 7874 2d74 6f2d 5370 6565 6368  ="Text-to-Speech
-00012650: 2043 6f6e 6669 6775 7261 7469 6f6e 7322   Configurations"
-00012660: 2c0a 2020 2020 2020 2020 2020 2020 7465  ,.            te
-00012670: 7874 3d22 5365 6c65 6374 2061 2074 6578  xt="Select a tex
-00012680: 742d 746f 2d73 7065 6563 6820 706c 6174  t-to-speech plat
-00012690: 666f 726d 3a22 2c0a 2020 2020 2020 2020  form:",.        
-000126a0: 2020 2020 6465 6661 756c 743d 636f 6e66      default=conf
-000126b0: 6967 2e74 7473 506c 6174 666f 726d 2c0a  ig.ttsPlatform,.
-000126c0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-000126d0: 2020 6966 2074 7473 506c 6174 666f 726d    if ttsPlatform
-000126e0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-000126f0: 2074 7473 506c 6174 666f 726d 203d 3d20   ttsPlatform == 
-00012700: 2267 6f6f 676c 6563 6c6f 7564 2220 616e  "googlecloud" an
-00012710: 6420 6e6f 7420 286f 732e 656e 7669 726f  d not (os.enviro
-00012720: 6e5b 2247 4f4f 474c 455f 4150 504c 4943  n["GOOGLE_APPLIC
-00012730: 4154 494f 4e5f 4352 4544 454e 5449 414c  ATION_CREDENTIAL
-00012740: 5322 5d20 616e 6420 2254 6578 742d 746f  S"] and "Text-to
-00012750: 2d53 7065 6563 6822 2069 6e20 636f 6e66  -Speech" in conf
-00012760: 6967 2e65 6e61 626c 6564 476f 6f67 6c65  ig.enabledGoogle
-00012770: 4150 4973 293a 0a20 2020 2020 2020 2020  APIs):.         
-00012780: 2020 2020 2020 2070 7269 6e74 3228 2247         print2("G
-00012790: 6f6f 676c 6520 436c 6f75 6420 5465 7874  oogle Cloud Text
-000127a0: 2d74 6f2d 5370 6565 6368 2066 6561 7475  -to-Speech featu
-000127b0: 7265 2069 7320 6e6f 7420 656e 6162 6c65  re is not enable
-000127c0: 6421 2229 0a20 2020 2020 2020 2020 2020  d!").           
-000127d0: 2020 2020 2070 7269 6e74 3328 2252 6561       print3("Rea
-000127e0: 643a 2068 7474 7073 3a2f 2f67 6974 6875  d: https://githu
-000127f0: 622e 636f 6d2f 656c 6972 616e 776f 6e67  b.com/eliranwong
-00012800: 2f6c 6574 6d65 646f 6974 2f77 696b 692f  /letmedoit/wiki/
-00012810: 476f 6f67 6c65 2d41 5049 2d53 6574 7570  Google-API-Setup
-00012820: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-00012830: 2020 2070 7269 6e74 3328 2254 6578 742d     print3("Text-
-00012840: 746f 2d53 7065 6563 6820 706c 6174 666f  to-Speech platfo
-00012850: 726d 2063 6861 6e67 6564 2074 6f3a 2047  rm changed to: G
-00012860: 6f6f 676c 6520 5465 7874 2d74 6f2d 5370  oogle Text-to-Sp
-00012870: 6565 6368 2028 4765 6e65 7269 6329 2229  eech (Generic)")
-00012880: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012890: 2063 6f6e 6669 672e 7474 7350 6c61 7466   config.ttsPlatf
-000128a0: 6f72 6d20 3d20 2267 6f6f 676c 6522 0a20  orm = "google". 
-000128b0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-000128c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000128d0: 2063 6f6e 6669 672e 7474 7350 6c61 7466   config.ttsPlatf
-000128e0: 6f72 6d20 3d20 7474 7350 6c61 7466 6f72  orm = ttsPlatfor
-000128f0: 6d0a 2020 2020 2020 2020 2320 6675 7274  m.        # furt
-00012900: 6865 7220 6f70 7469 6f6e 730a 2020 2020  her options.    
-00012910: 2020 2020 6966 2063 6f6e 6669 672e 7474      if config.tt
-00012920: 7350 6c61 7466 6f72 6d20 3d3d 2022 676f  sPlatform == "go
-00012930: 6f67 6c65 223a 0a20 2020 2020 2020 2020  ogle":.         
-00012940: 2020 2073 656c 662e 7365 7447 7474 734c     self.setGttsL
-00012950: 616e 6775 6167 6528 290a 2020 2020 2020  anguage().      
-00012960: 2020 2020 2020 7365 6c66 2e73 6574 4175        self.setAu
-00012970: 6469 6f50 6c61 7962 6163 6b54 6f6f 6c28  dioPlaybackTool(
-00012980: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-00012990: 6c66 2e73 6574 566c 6353 7065 6564 2829  lf.setVlcSpeed()
-000129a0: 0a20 2020 2020 2020 2065 6c69 6620 636f  .        elif co
-000129b0: 6e66 6967 2e74 7473 506c 6174 666f 726d  nfig.ttsPlatform
-000129c0: 203d 3d20 2267 6f6f 676c 6563 6c6f 7564   == "googlecloud
-000129d0: 223a 0a20 2020 2020 2020 2020 2020 2073  ":.            s
-000129e0: 656c 662e 7365 7447 6374 7473 4c61 6e67  elf.setGcttsLang
-000129f0: 7561 6765 2829 0a20 2020 2020 2020 2020  uage().         
-00012a00: 2020 2073 656c 662e 7365 7447 6374 7473     self.setGctts
-00012a10: 5370 6565 6428 290a 2020 2020 2020 2020  Speed().        
-00012a20: 2020 2020 7365 6c66 2e73 6574 4175 6469      self.setAudi
-00012a30: 6f50 6c61 7962 6163 6b54 6f6f 6c28 290a  oPlaybackTool().
-00012a40: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00012a50: 2e73 6574 566c 6353 7065 6564 2829 0a20  .setVlcSpeed(). 
-00012a60: 2020 2020 2020 2065 6c69 6620 636f 6e66         elif conf
-00012a70: 6967 2e74 7473 506c 6174 666f 726d 203d  ig.ttsPlatform =
-00012a80: 3d20 2265 6c65 7665 6e6c 6162 7322 3a0a  = "elevenlabs":.
-00012a90: 2020 2020 2020 2020 2020 2020 6966 206e              if n
-00012aa0: 6f74 2063 6f6e 6669 672e 656c 6576 656e  ot config.eleven
-00012ab0: 6c61 6273 4170 693a 0a20 2020 2020 2020  labsApi:.       
-00012ac0: 2020 2020 2020 2020 2073 656c 662e 6368           self.ch
-00012ad0: 616e 6765 456c 6576 656e 6c61 6273 4170  angeElevenlabsAp
-00012ae0: 6928 290a 2020 2020 2020 2020 2020 2020  i().            
-00012af0: 6966 206e 6f74 2063 6f6e 6669 672e 656c  if not config.el
-00012b00: 6576 656e 6c61 6273 4170 693a 0a20 2020  evenlabsApi:.   
-00012b10: 2020 2020 2020 2020 2020 2020 2070 7269               pri
-00012b20: 6e74 3128 2245 6c65 7665 6e4c 6162 7320  nt1("ElevenLabs 
-00012b30: 4150 4920 6b65 7920 6e6f 7420 666f 756e  API key not foun
-00012b40: 6421 2229 0a20 2020 2020 2020 2020 2020  d!").           
-00012b50: 2020 2020 2070 7269 6e74 3328 2254 6578       print3("Tex
-00012b60: 742d 746f 2d53 7065 6563 6820 706c 6174  t-to-Speech plat
-00012b70: 666f 726d 2063 6861 6e67 6564 2074 6f3a  form changed to:
-00012b80: 2047 6f6f 676c 6520 5465 7874 2d74 6f2d   Google Text-to-
-00012b90: 5370 6565 6368 2028 4765 6e65 7269 6329  Speech (Generic)
-00012ba0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-00012bb0: 2020 2063 6f6e 6669 672e 7474 7350 6c61     config.ttsPla
-00012bc0: 7466 6f72 6d20 3d20 2267 6f6f 676c 6522  tform = "google"
-00012bd0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-00012be0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00012bf0: 2020 2073 656c 662e 7365 7445 6c65 7665     self.setEleve
-00012c00: 6e6c 6162 7356 6f69 6365 2829 0a20 2020  nlabsVoice().   
-00012c10: 2020 2020 2065 6c69 6620 636f 6e66 6967       elif config
-00012c20: 2e74 7473 506c 6174 666f 726d 203d 3d20  .ttsPlatform == 
-00012c30: 2263 7573 746f 6d22 3a0a 2020 2020 2020  "custom":.      
-00012c40: 2020 2020 2020 7365 6c66 2e64 6566 696e        self.defin
-00012c50: 6554 7473 436f 6d6d 616e 6428 290a 2020  eTtsCommand().  
-00012c60: 2020 2020 2020 2320 7361 7665 2063 6f6e        # save con
-00012c70: 6669 6773 0a20 2020 2020 2020 2063 6f6e  figs.        con
-00012c80: 6669 672e 7361 7665 436f 6e66 6967 2829  fig.saveConfig()
-00012c90: 0a0a 2020 2020 6465 6620 7365 7456 6f69  ..    def setVoi
-00012ca0: 6365 5479 7069 6e67 436f 6e66 6967 2873  ceTypingConfig(s
-00012cb0: 656c 6629 3a0a 2020 2020 2020 2020 766f  elf):.        vo
-00012cc0: 6963 6554 7970 696e 6750 6c61 7466 6f72  iceTypingPlatfor
-00012cd0: 6d20 3d20 7365 6c66 2e64 6961 6c6f 6773  m = self.dialogs
-00012ce0: 2e67 6574 5661 6c69 644f 7074 696f 6e73  .getValidOptions
-00012cf0: 280a 2020 2020 2020 2020 2020 2020 6f70  (.            op
-00012d00: 7469 6f6e 733d 2822 676f 6f67 6c65 222c  tions=("google",
-00012d10: 2022 676f 6f67 6c65 636c 6f75 6422 2c20   "googlecloud", 
-00012d20: 2277 6869 7370 6572 2229 2c0a 2020 2020  "whisper"),.    
-00012d30: 2020 2020 2020 2020 6465 7363 7269 7074          descript
-00012d40: 696f 6e73 3d28 2247 6f6f 676c 6520 5370  ions=("Google Sp
-00012d50: 6565 6368 2d74 6f2d 5465 7874 2028 4765  eech-to-Text (Ge
-00012d60: 6e65 7269 6329 205b 6f6e 6c69 6e65 5d22  neric) [online]"
-00012d70: 2c20 2247 6f6f 676c 6520 5370 6565 6368  , "Google Speech
-00012d80: 2d74 6f2d 5465 7874 2028 4150 4929 205b  -to-Text (API) [
-00012d90: 6f6e 6c69 6e65 5d22 2c20 224f 7065 6e41  online]", "OpenA
-00012da0: 4920 5768 6973 7065 7220 5b6f 6666 6c69  I Whisper [offli
-00012db0: 6e65 3b20 736c 6f77 6572 2077 6974 6820  ne; slower with 
-00012dc0: 6e6f 6e2d 456e 676c 6973 6820 766f 6963  non-English voic
-00012dd0: 6573 5d22 292c 0a20 2020 2020 2020 2020  es]"),.         
-00012de0: 2020 2074 6974 6c65 3d22 566f 6963 6520     title="Voice 
-00012df0: 5479 7069 6e67 2043 6f6e 6669 6775 7261  Typing Configura
-00012e00: 7469 6f6e 7322 2c0a 2020 2020 2020 2020  tions",.        
-00012e10: 2020 2020 7465 7874 3d22 5365 6c65 6374      text="Select
-00012e20: 2061 2076 6f69 6365 2074 7970 696e 6720   a voice typing 
-00012e30: 706c 6174 666f 726d 3a22 2c0a 2020 2020  platform:",.    
-00012e40: 2020 2020 2020 2020 6465 6661 756c 743d          default=
-00012e50: 636f 6e66 6967 2e76 6f69 6365 5479 7069  config.voiceTypi
-00012e60: 6e67 506c 6174 666f 726d 2c0a 2020 2020  ngPlatform,.    
-00012e70: 2020 2020 290a 2020 2020 2020 2020 6966      ).        if
-00012e80: 2076 6f69 6365 5479 7069 6e67 506c 6174   voiceTypingPlat
-00012e90: 666f 726d 3a0a 2020 2020 2020 2020 2020  form:.          
-00012ea0: 2020 6966 2076 6f69 6365 5479 7069 6e67    if voiceTyping
-00012eb0: 506c 6174 666f 726d 203d 3d20 2267 6f6f  Platform == "goo
-00012ec0: 676c 6563 6c6f 7564 2220 616e 6420 6e6f  glecloud" and no
-00012ed0: 7420 286f 732e 656e 7669 726f 6e5b 2247  t (os.environ["G
-00012ee0: 4f4f 474c 455f 4150 504c 4943 4154 494f  OOGLE_APPLICATIO
-00012ef0: 4e5f 4352 4544 454e 5449 414c 5322 5d20  N_CREDENTIALS"] 
-00012f00: 616e 6420 2253 7065 6563 682d 746f 2d54  and "Speech-to-T
-00012f10: 6578 7422 2069 6e20 636f 6e66 6967 2e65  ext" in config.e
-00012f20: 6e61 626c 6564 476f 6f67 6c65 4150 4973  nabledGoogleAPIs
-00012f30: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00012f40: 2020 2070 7269 6e74 3228 2247 6f6f 676c     print2("Googl
-00012f50: 6520 436c 6f75 6420 5370 6565 6368 2d74  e Cloud Speech-t
-00012f60: 6f2d 5465 7874 2066 6561 7475 7265 2069  o-Text feature i
-00012f70: 7320 6e6f 7420 656e 6162 6c65 6421 2229  s not enabled!")
-00012f80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012f90: 2070 7269 6e74 3328 2252 6561 643a 2068   print3("Read: h
-00012fa0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00012fb0: 6d2f 656c 6972 616e 776f 6e67 2f6c 6574  m/eliranwong/let
-00012fc0: 6d65 646f 6974 2f77 696b 692f 476f 6f67  medoit/wiki/Goog
-00012fd0: 6c65 2d41 5049 2d53 6574 7570 2229 0a20  le-API-Setup"). 
-00012fe0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00012ff0: 7269 6e74 3328 2256 6f69 6365 2074 7970  rint3("Voice typ
-00013000: 696e 6720 706c 6174 666f 726d 2063 6861  ing platform cha
-00013010: 6e67 6564 2074 6f3a 2047 6f6f 676c 6520  nged to: Google 
-00013020: 5370 6565 6368 2d74 6f2d 5465 7874 2028  Speech-to-Text (
-00013030: 4765 6e65 7269 6329 2229 0a20 2020 2020  Generic)").     
-00013040: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00013050: 672e 766f 6963 6554 7970 696e 6750 6c61  g.voiceTypingPla
-00013060: 7466 6f72 6d20 3d20 2267 6f6f 676c 6522  tform = "google"
-00013070: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
-00013080: 6620 766f 6963 6554 7970 696e 6750 6c61  f voiceTypingPla
-00013090: 7466 6f72 6d20 3d3d 2022 7768 6973 7065  tform == "whispe
-000130a0: 7222 2061 6e64 206e 6f74 2069 7343 6f6d  r" and not isCom
-000130b0: 6d61 6e64 496e 7374 616c 6c65 6428 2266  mandInstalled("f
-000130c0: 666d 7065 6722 293a 0a20 2020 2020 2020  fmpeg"):.       
-000130d0: 2020 2020 2020 2020 2070 7269 6e74 3228           print2(
-000130e0: 2249 6e73 7461 6c6c 2027 6666 6d70 6567  "Install 'ffmpeg
-000130f0: 2720 6669 7273 7420 746f 2075 7365 206f  ' first to use o
-00013100: 6666 6c69 6e65 206f 7065 6e61 6920 7768  ffline openai wh
-00013110: 6973 7065 7220 6d6f 6465 6c21 2229 0a20  isper model!"). 
-00013120: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00013130: 7269 6e74 3328 2252 6561 643a 2068 7474  rint3("Read: htt
-00013140: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00013150: 6f70 656e 6169 2f77 6869 7370 6572 2373  openai/whisper#s
-00013160: 6574 7570 2229 0a20 2020 2020 2020 2020  etup").         
-00013170: 2020 2020 2020 2070 7269 6e74 3328 2256         print3("V
-00013180: 6f69 6365 2074 7970 696e 6720 706c 6174  oice typing plat
-00013190: 666f 726d 2063 6861 6e67 6564 2074 6f3a  form changed to:
-000131a0: 2047 6f6f 676c 6520 5370 6565 6368 2d74   Google Speech-t
-000131b0: 6f2d 5465 7874 2028 4765 6e65 7269 6329  o-Text (Generic)
-000131c0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-000131d0: 2020 2063 6f6e 6669 672e 766f 6963 6554     config.voiceT
-000131e0: 7970 696e 6750 6c61 7466 6f72 6d20 3d20  ypingPlatform = 
-000131f0: 2267 6f6f 676c 6522 0a20 2020 2020 2020  "google".       
-00013200: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00013210: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00013220: 672e 766f 6963 6554 7970 696e 6750 6c61  g.voiceTypingPla
-00013230: 7466 6f72 6d20 3d20 766f 6963 6554 7970  tform = voiceTyp
-00013240: 696e 6750 6c61 7466 6f72 6d0a 2020 2020  ingPlatform.    
-00013250: 2020 2020 2320 6c61 6e67 7561 6765 0a20      # language. 
-00013260: 2020 2020 2020 2073 656c 662e 7365 7453         self.setS
-00013270: 7065 6563 6854 6f54 6578 744c 616e 6775  peechToTextLangu
-00013280: 6167 6528 290a 2020 2020 2020 2020 2320  age().        # 
-00013290: 636f 6e66 6967 7572 6520 636f 6e66 6967  configure config
-000132a0: 2e76 6f69 6365 5479 7069 6e67 4164 6a75  .voiceTypingAdju
-000132b0: 7374 416d 6269 656e 744e 6f69 7365 0a20  stAmbientNoise. 
-000132c0: 2020 2020 2020 2076 6f69 6365 5479 7069         voiceTypi
-000132d0: 6e67 4164 6a75 7374 416d 6269 656e 744e  ngAdjustAmbientN
-000132e0: 6f69 7365 203d 2073 656c 662e 6469 616c  oise = self.dial
-000132f0: 6f67 732e 6765 7456 616c 6964 4f70 7469  ogs.getValidOpti
-00013300: 6f6e 7328 0a20 2020 2020 2020 2020 2020  ons(.           
-00013310: 206f 7074 696f 6e73 3d28 2259 6573 222c   options=("Yes",
-00013320: 2022 4e6f 2229 2c0a 2020 2020 2020 2020   "No"),.        
-00013330: 2020 2020 6465 7363 7269 7074 696f 6e73      descriptions
-00013340: 3d28 2259 6573 205b 736c 6f77 6572 5d22  =("Yes [slower]"
-00013350: 2c20 224e 6f22 292c 0a20 2020 2020 2020  , "No"),.       
-00013360: 2020 2020 2074 6974 6c65 3d22 4164 6a75       title="Adju
-00013370: 7374 2041 6d62 6965 6e74 204e 6f69 7365  st Ambient Noise
-00013380: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
-00013390: 6578 743d 2244 6f20 796f 7520 7761 6e74  ext="Do you want
-000133a0: 2074 6f20 6164 6a75 7374 2061 6d62 6965   to adjust ambie
-000133b0: 6e74 206e 6f69 7365 3f22 2c0a 2020 2020  nt noise?",.    
-000133c0: 2020 2020 2020 2020 6465 6661 756c 743d          default=
-000133d0: 2259 6573 2220 6966 2063 6f6e 6669 672e  "Yes" if config.
-000133e0: 766f 6963 6554 7970 696e 6741 646a 7573  voiceTypingAdjus
-000133f0: 7441 6d62 6965 6e74 4e6f 6973 6520 656c  tAmbientNoise el
-00013400: 7365 2022 4e6f 222c 0a20 2020 2020 2020  se "No",.       
-00013410: 2029 0a20 2020 2020 2020 2069 6620 766f   ).        if vo
-00013420: 6963 6554 7970 696e 6741 646a 7573 7441  iceTypingAdjustA
-00013430: 6d62 6965 6e74 4e6f 6973 653a 0a20 2020  mbientNoise:.   
-00013440: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-00013450: 766f 6963 6554 7970 696e 6741 646a 7573  voiceTypingAdjus
-00013460: 7441 6d62 6965 6e74 4e6f 6973 6520 3d20  tAmbientNoise = 
-00013470: 5472 7565 2069 6620 766f 6963 6554 7970  True if voiceTyp
-00013480: 696e 6741 646a 7573 7441 6d62 6965 6e74  ingAdjustAmbient
-00013490: 4e6f 6973 6520 3d3d 2022 5965 7322 2065  Noise == "Yes" e
-000134a0: 6c73 6520 4661 6c73 650a 2020 2020 2020  lse False.      
-000134b0: 2020 2320 6175 6469 6f20 6e6f 7469 6669    # audio notifi
-000134c0: 6361 7469 6f6e 0a20 2020 2020 2020 2076  cation.        v
-000134d0: 6f69 6365 5479 7069 6e67 4e6f 7469 6669  oiceTypingNotifi
-000134e0: 6361 7469 6f6e 203d 2073 656c 662e 6469  cation = self.di
-000134f0: 616c 6f67 732e 6765 7456 616c 6964 4f70  alogs.getValidOp
-00013500: 7469 6f6e 7328 0a20 2020 2020 2020 2020  tions(.         
-00013510: 2020 206f 7074 696f 6e73 3d28 2259 6573     options=("Yes
-00013520: 222c 2022 4e6f 2229 2c0a 2020 2020 2020  ", "No"),.      
-00013530: 2020 2020 2020 7469 746c 653d 2241 7564        title="Aud
-00013540: 696f 204e 6f74 6966 6963 6174 696f 6e22  io Notification"
-00013550: 2c0a 2020 2020 2020 2020 2020 2020 7465  ,.            te
-00013560: 7874 3d22 446f 2079 6f75 2077 616e 7420  xt="Do you want 
-00013570: 6175 6469 6f20 6e6f 7469 6669 6361 7469  audio notificati
-00013580: 6f6e 2077 6865 6e20 796f 7520 7573 6520  on when you use 
-00013590: 6d69 6372 6f70 686f 6e65 3f22 2c0a 2020  microphone?",.  
-000135a0: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
-000135b0: 743d 2259 6573 2220 6966 2063 6f6e 6669  t="Yes" if confi
-000135c0: 672e 766f 6963 6554 7970 696e 674e 6f74  g.voiceTypingNot
-000135d0: 6966 6963 6174 696f 6e20 656c 7365 2022  ification else "
-000135e0: 4e6f 222c 0a20 2020 2020 2020 2029 0a20  No",.        ). 
-000135f0: 2020 2020 2020 2069 6620 766f 6963 6554         if voiceT
-00013600: 7970 696e 674e 6f74 6966 6963 6174 696f  ypingNotificatio
-00013610: 6e3a 0a20 2020 2020 2020 2020 2020 2063  n:.            c
-00013620: 6f6e 6669 672e 766f 6963 6554 7970 696e  onfig.voiceTypin
-00013630: 674e 6f74 6966 6963 6174 696f 6e20 3d20  gNotification = 
-00013640: 5472 7565 2069 6620 766f 6963 6554 7970  True if voiceTyp
-00013650: 696e 674e 6f74 6966 6963 6174 696f 6e20  ingNotification 
-00013660: 3d3d 2022 5965 7322 2065 6c73 6520 4661  == "Yes" else Fa
-00013670: 6c73 650a 2020 2020 2020 2020 2320 6175  lse.        # au
-00013680: 746f 2063 6f6d 706c 6574 696f 6e3a 2076  to completion: v
-00013690: 6f69 6365 5479 7069 6e67 4175 746f 436f  oiceTypingAutoCo
-000136a0: 6d70 6c65 7465 0a20 2020 2020 2020 2076  mplete.        v
-000136b0: 6f69 6365 5479 7069 6e67 4175 746f 436f  oiceTypingAutoCo
-000136c0: 6d70 6c65 7465 203d 2073 656c 662e 6469  mplete = self.di
-000136d0: 616c 6f67 732e 6765 7456 616c 6964 4f70  alogs.getValidOp
-000136e0: 7469 6f6e 7328 0a20 2020 2020 2020 2020  tions(.         
-000136f0: 2020 206f 7074 696f 6e73 3d28 2259 6573     options=("Yes
-00013700: 222c 2022 4e6f 2229 2c0a 2020 2020 2020  ", "No"),.      
-00013710: 2020 2020 2020 7469 746c 653d 2241 7564        title="Aud
-00013720: 696f 2045 6e74 7279 2041 7574 6f20 436f  io Entry Auto Co
-00013730: 6d70 6c65 7469 6f6e 222c 0a20 2020 2020  mpletion",.     
-00013740: 2020 2020 2020 2074 6578 743d 2244 6f20         text="Do 
-00013750: 796f 7520 7761 6e74 2074 6f20 6175 746f  you want to auto
-00013760: 6d61 7469 6361 6c6c 7920 636f 6d70 6c65  matically comple
-00013770: 7465 2079 6f75 7220 656e 7472 7920 7768  te your entry wh
-00013780: 656e 206d 6963 726f 7068 6f6e 6520 7374  en microphone st
-00013790: 6f70 733f 222c 0a20 2020 2020 2020 2020  ops?",.         
-000137a0: 2020 2064 6566 6175 6c74 3d22 5965 7322     default="Yes"
-000137b0: 2069 6620 636f 6e66 6967 2e76 6f69 6365   if config.voice
-000137c0: 5479 7069 6e67 4175 746f 436f 6d70 6c65  TypingAutoComple
-000137d0: 7465 2065 6c73 6520 224e 6f22 2c0a 2020  te else "No",.  
-000137e0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-000137f0: 6966 2076 6f69 6365 5479 7069 6e67 4175  if voiceTypingAu
-00013800: 746f 436f 6d70 6c65 7465 3a0a 2020 2020  toComplete:.    
-00013810: 2020 2020 2020 2020 636f 6e66 6967 2e76          config.v
-00013820: 6f69 6365 5479 7069 6e67 4175 746f 436f  oiceTypingAutoCo
-00013830: 6d70 6c65 7465 203d 2054 7275 6520 6966  mplete = True if
-00013840: 2076 6f69 6365 5479 7069 6e67 4175 746f   voiceTypingAuto
-00013850: 436f 6d70 6c65 7465 203d 3d20 2259 6573  Complete == "Yes
-00013860: 2220 656c 7365 2046 616c 7365 0a20 2020  " else False.   
-00013870: 2020 2020 2023 206e 6f74 6966 790a 2020       # notify.  
-00013880: 2020 2020 2020 7072 696e 7428 2222 290a        print("").
-00013890: 2020 2020 2020 2020 7072 696e 7433 2866          print3(f
-000138a0: 2256 6f69 6365 2054 7970 696e 6720 4d6f  "Voice Typing Mo
-000138b0: 6465 6c3a 207b 636f 6e66 6967 2e76 6f69  del: {config.voi
-000138c0: 6365 5479 7069 6e67 506c 6174 666f 726d  ceTypingPlatform
-000138d0: 7d22 290a 2020 2020 2020 2020 7072 696e  }").        prin
-000138e0: 7433 2866 2256 6f69 6365 2054 7970 696e  t3(f"Voice Typin
-000138f0: 6720 4c61 6e67 7561 6765 3a20 7b63 6f6e  g Language: {con
-00013900: 6669 672e 766f 6963 6554 7970 696e 674c  fig.voiceTypingL
-00013910: 616e 6775 6167 657d 2229 0a20 2020 2020  anguage}").     
-00013920: 2020 2070 7269 6e74 3328 6622 416d 6269     print3(f"Ambi
-00013930: 656e 7420 4e6f 6973 6520 4164 6a75 7374  ent Noise Adjust
-00013940: 6d65 6e74 3a20 7b63 6f6e 6669 672e 766f  ment: {config.vo
-00013950: 6963 6554 7970 696e 6741 646a 7573 7441  iceTypingAdjustA
-00013960: 6d62 6965 6e74 4e6f 6973 657d 2229 0a20  mbientNoise}"). 
-00013970: 2020 2020 2020 2070 7269 6e74 3328 6622         print3(f"
-00013980: 4175 6469 6f20 4e6f 7469 6669 6361 7469  Audio Notificati
-00013990: 6f6e 3a20 7b63 6f6e 6669 672e 766f 6963  on: {config.voic
-000139a0: 6554 7970 696e 674e 6f74 6966 6963 6174  eTypingNotificat
-000139b0: 696f 6e7d 2229 0a20 2020 2020 2020 2070  ion}").        p
-000139c0: 7269 6e74 3328 6622 4175 746f 2043 6f6d  rint3(f"Auto Com
-000139d0: 706c 6574 696f 6e3a 207b 636f 6e66 6967  pletion: {config
-000139e0: 2e76 6f69 6365 5479 7069 6e67 4175 746f  .voiceTypingAuto
-000139f0: 436f 6d70 6c65 7465 7d22 290a 2020 2020  Complete}").    
-00013a00: 2020 2020 2320 7361 7665 2063 6f6e 6669      # save confi
-00013a10: 6773 0a20 2020 2020 2020 2063 6f6e 6669  gs.        confi
-00013a20: 672e 7361 7665 436f 6e66 6967 2829 0a0a  g.saveConfig()..
-00013a30: 2020 2020 6465 6620 7361 7665 4368 6174      def saveChat
-00013a40: 2873 656c 662c 206d 6573 7361 6765 7329  (self, messages)
-00013a50: 3a0a 2020 2020 2020 2020 6d65 7373 6167  :.        messag
-00013a60: 6573 436f 7079 203d 2063 6f70 792e 6465  esCopy = copy.de
-00013a70: 6570 636f 7079 286d 6573 7361 6765 7329  epcopy(messages)
-00013a80: 0a0a 2020 2020 2020 2020 6966 2063 6f6e  ..        if con
-00013a90: 6669 672e 636f 6e76 6572 7361 7469 6f6e  fig.conversation
-00013aa0: 5374 6172 7465 643a 0a20 2020 2020 2020  Started:.       
-00013ab0: 2020 2020 2074 696d 6573 7461 6d70 203d       timestamp =
-00013ac0: 2067 6574 4375 7272 656e 7444 6174 6554   getCurrentDateT
-00013ad0: 696d 6528 290a 0a20 2020 2020 2020 2020  ime()..         
-00013ae0: 2020 2069 6620 6861 7361 7474 7228 636f     if hasattr(co
-00013af0: 6e66 6967 2c20 2273 6176 655f 6368 6174  nfig, "save_chat
-00013b00: 5f72 6563 6f72 6422 293a 0a20 2020 2020  _record"):.     
-00013b10: 2020 2020 2020 2020 2020 2023 2077 6865             # whe
-00013b20: 6e20 706c 7567 696e 2022 7361 7665 2063  n plugin "save c
-00013b30: 6861 7420 7265 636f 7264 7322 2069 7320  hat records" is 
-00013b40: 656e 6162 6c65 640a 2020 2020 2020 2020  enabled.        
-00013b50: 2020 2020 2020 2020 6d65 7373 6167 654c          messageL
-00013b60: 656e 6774 6820 3d20 6c65 6e28 6d65 7373  ength = len(mess
-00013b70: 6167 6573 436f 7079 290a 2020 2020 2020  agesCopy).      
-00013b80: 2020 2020 2020 2020 2020 666f 7220 6f72            for or
-00013b90: 6465 722c 2069 2069 6e20 656e 756d 6572  der, i in enumer
-00013ba0: 6174 6528 6d65 7373 6167 6573 436f 7079  ate(messagesCopy
-00013bb0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00013bc0: 2020 2020 2020 2069 734c 6173 7449 7465         isLastIte
-00013bd0: 6d20 3d20 286f 7264 6572 203d 3d20 286d  m = (order == (m
-00013be0: 6573 7361 6765 4c65 6e67 7468 202d 2031  essageLength - 1
-00013bf0: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
-00013c00: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
-00013c10: 2e6c 6c6d 496e 7465 7266 6163 6520 696e  .llmInterface in
-00013c20: 2028 2263 6861 7467 7074 222c 2022 6c65   ("chatgpt", "le
-00013c30: 746d 6564 6f69 7422 2920 616e 6420 6e6f  tmedoit") and no
-00013c40: 7420 6973 4c61 7374 4974 656d 2061 6e64  t isLastItem and
-00013c50: 2069 2e67 6574 2822 726f 6c65 222c 2022   i.get("role", "
-00013c60: 2229 203d 3d20 2275 7365 7222 2061 6e64  ") == "user" and
-00013c70: 2022 6675 6e63 7469 6f6e 5f63 616c 6c22   "function_call"
-00013c80: 2069 6e20 6d65 7373 6167 6573 436f 7079   in messagesCopy
-00013c90: 5b6f 7264 6572 2b31 5d3a 0a20 2020 2020  [order+1]:.     
-00013ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013cb0: 2020 2069 5b22 746f 6f6c 225d 203d 206d     i["tool"] = m
-00013cc0: 6573 7361 6765 7343 6f70 795b 6f72 6465  essagesCopy[orde
-00013cd0: 722b 315d 5b22 6675 6e63 7469 6f6e 5f63  r+1]["function_c
-00013ce0: 616c 6c22 5d2e 6765 7428 226e 616d 6522  all"].get("name"
-00013cf0: 2c20 2222 290a 2020 2020 2020 2020 2020  , "").          
-00013d00: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-00013d10: 2e73 6176 655f 6368 6174 5f72 6563 6f72  .save_chat_recor
-00013d20: 6428 7469 6d65 7374 616d 702c 206f 7264  d(timestamp, ord
-00013d30: 6572 2c20 6929 0a0a 2020 2020 2020 2020  er, i)..        
-00013d40: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-00013d50: 2020 2020 2020 2020 2066 6f6c 6465 7250           folderP
-00013d60: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
-00013d70: 696e 2863 6f6e 6669 672e 6c6f 6361 6c53  in(config.localS
-00013d80: 746f 7261 6765 2c20 2263 6861 7473 222c  torage, "chats",
-00013d90: 2072 652e 7375 6228 225e 285b 302d 395d   re.sub("^([0-9]
-00013da0: 2b3f 5c2d 5b30 2d39 5d2b 3f29 5c2d 2e2a  +?\-[0-9]+?)\-.*
-00013db0: 3f24 222c 2072 225c 3122 2c20 7469 6d65  ?$", r"\1", time
-00013dc0: 7374 616d 7029 290a 2020 2020 2020 2020  stamp)).        
-00013dd0: 2020 2020 2020 2020 5061 7468 2866 6f6c          Path(fol
-00013de0: 6465 7250 6174 6829 2e6d 6b64 6972 2870  derPath).mkdir(p
-00013df0: 6172 656e 7473 3d54 7275 652c 2065 7869  arents=True, exi
-00013e00: 7374 5f6f 6b3d 5472 7565 290a 2020 2020  st_ok=True).    
-00013e10: 2020 2020 2020 2020 2020 2020 6966 206f              if o
-00013e20: 732e 7061 7468 2e69 7364 6972 2866 6f6c  s.path.isdir(fol
-00013e30: 6465 7250 6174 6829 3a0a 2020 2020 2020  derPath):.      
-00013e40: 2020 2020 2020 2020 2020 2020 2020 6368                ch
-00013e50: 6174 4669 6c65 203d 206f 732e 7061 7468  atFile = os.path
-00013e60: 2e6a 6f69 6e28 666f 6c64 6572 5061 7468  .join(folderPath
-00013e70: 2c20 6622 7b74 696d 6573 7461 6d70 7d2e  , f"{timestamp}.
-00013e80: 7478 7422 290a 2020 2020 2020 2020 2020  txt").          
-00013e90: 2020 2020 2020 2020 2020 7769 7468 206f            with o
-00013ea0: 7065 6e28 6368 6174 4669 6c65 2c20 2277  pen(chatFile, "w
-00013eb0: 222c 2065 6e63 6f64 696e 673d 2275 7466  ", encoding="utf
-00013ec0: 2d38 2229 2061 7320 6669 6c65 4f62 6a3a  -8") as fileObj:
-00013ed0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013ee0: 2020 2020 2020 2020 2066 696c 654f 626a           fileObj
-00013ef0: 2e77 7269 7465 2870 7072 696e 742e 7066  .write(pprint.pf
-00013f00: 6f72 6d61 7428 6d65 7373 6167 6573 436f  ormat(messagesCo
-00013f10: 7079 2929 0a20 2020 2020 2020 2020 2020  py)).           
-00013f20: 2065 7863 6570 743a 0a20 2020 2020 2020   except:.       
-00013f30: 2020 2020 2020 2020 2070 7269 6e74 3228           print2(
-00013f40: 2246 6169 6c65 6420 746f 2073 6176 6520  "Failed to save 
-00013f50: 6368 6174 215c 6e22 290a 2020 2020 2020  chat!\n").      
-00013f60: 2020 2020 2020 2020 2020 7368 6f77 4572            showEr
-00013f70: 726f 7273 2829 0a0a 2020 2020 6465 6620  rors()..    def 
-00013f80: 6578 706f 7274 4368 6174 2873 656c 662c  exportChat(self,
-00013f90: 206d 6573 7361 6765 732c 206f 7065 6e46   messages, openF
-00013fa0: 696c 653d 5472 7565 293a 0a20 2020 2020  ile=True):.     
-00013fb0: 2020 2069 6620 636f 6e66 6967 2e63 6f6e     if config.con
-00013fc0: 7665 7273 6174 696f 6e53 7461 7274 6564  versationStarted
-00013fd0: 3a0a 2020 2020 2020 2020 2020 2020 706c  :.            pl
-00013fe0: 6169 6e54 6578 7420 3d20 2222 0a20 2020  ainText = "".   
-00013ff0: 2020 2020 2020 2020 2074 696d 6573 7461           timesta
-00014000: 6d70 203d 2067 6574 4375 7272 656e 7444  mp = getCurrentD
-00014010: 6174 6554 696d 6528 290a 0a20 2020 2020  ateTime()..     
-00014020: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
-00014030: 6d65 7373 6167 6573 3a0a 2020 2020 2020  messages:.      
-00014040: 2020 2020 2020 2020 2020 6966 2069 5b22            if i["
-00014050: 726f 6c65 225d 203d 3d20 2275 7365 7222  role"] == "user"
-00014060: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00014070: 2020 2020 2020 636f 6e74 656e 7420 3d20        content = 
-00014080: 695b 2263 6f6e 7465 6e74 225d 0a20 2020  i["content"].   
-00014090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000140a0: 2070 6c61 696e 5465 7874 202b 3d20 6622   plainText += f"
-000140b0: 3e3e 3e20 7b63 6f6e 7465 6e74 7d22 0a20  >>> {content}". 
-000140c0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-000140d0: 6620 695b 2272 6f6c 6522 5d20 3d3d 2022  f i["role"] == "
-000140e0: 6675 6e63 7469 6f6e 223a 0a20 2020 2020  function":.     
-000140f0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00014100: 6620 706c 6169 6e54 6578 743a 0a20 2020  f plainText:.   
-00014110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014120: 2020 2020 2070 6c61 696e 5465 7874 202b       plainText +
-00014130: 3d20 225c 6e5c 6e22 0a20 2020 2020 2020  = "\n\n".       
-00014140: 2020 2020 2020 2020 2020 2020 206e 616d               nam
-00014150: 6520 3d20 695b 226e 616d 6522 5d0a 2020  e = i["name"].  
-00014160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014170: 2020 706c 6169 6e54 6578 7420 2b3d 2066    plainText += f
-00014180: 2260 6060 5c6e 7b6e 616d 657d 5c6e 6060  "```\n{name}\n``
-00014190: 6022 0a20 2020 2020 2020 2020 2020 2020  `".             
-000141a0: 2020 2020 2020 2063 6f6e 7465 6e74 203d         content =
-000141b0: 2069 5b22 636f 6e74 656e 7422 5d0a 2020   i["content"].  
-000141c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000141d0: 2020 706c 6169 6e54 6578 7420 2b3d 2066    plainText += f
-000141e0: 225c 6e5c 6e7b 636f 6e74 656e 747d 5c6e  "\n\n{content}\n
-000141f0: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00014200: 2020 2020 656c 6966 2069 5b22 726f 6c65      elif i["role
-00014210: 225d 203d 3d20 2261 7373 6973 7461 6e74  "] == "assistant
-00014220: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
-00014230: 2020 2020 2020 2063 6f6e 7465 6e74 203d         content =
-00014240: 2069 5b22 636f 6e74 656e 7422 5d0a 2020   i["content"].  
-00014250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014260: 2020 6966 2063 6f6e 7465 6e74 2069 7320    if content is 
-00014270: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-00014280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014290: 2020 6966 2070 6c61 696e 5465 7874 3a0a    if plainText:.
-000142a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000142b0: 2020 2020 2020 2020 2020 2020 706c 6169              plai
-000142c0: 6e54 6578 7420 2b3d 2022 5c6e 5c6e 220a  nText += "\n\n".
-000142d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000142e0: 2020 2020 2020 2020 706c 6169 6e54 6578          plainTex
-000142f0: 7420 2b3d 2066 227b 636f 6e74 656e 747d  t += f"{content}
-00014300: 5c6e 5c6e 220a 2020 2020 2020 2020 2020  \n\n".          
-00014310: 2020 706c 6169 6e54 6578 7420 3d20 706c    plainText = pl
-00014320: 6169 6e54 6578 742e 7374 7269 7028 290a  ainText.strip().
-00014330: 2020 2020 2020 2020 2020 2020 6966 2063              if c
-00014340: 6f6e 6669 672e 7465 726d 696e 616c 456e  onfig.terminalEn
-00014350: 6162 6c65 5465 726d 7578 4150 493a 0a20  ableTermuxAPI:. 
-00014360: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00014370: 7964 6f63 2e70 6970 6570 6167 6572 2870  ydoc.pipepager(p
-00014380: 6c61 696e 5465 7874 2c20 636d 643d 2274  lainText, cmd="t
-00014390: 6572 6d75 782d 7368 6172 6520 2d61 2073  ermux-share -a s
-000143a0: 656e 6422 290a 2020 2020 2020 2020 2020  end").          
-000143b0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000143c0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-000143d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000143e0: 2066 6f6c 6465 7250 6174 6820 3d20 6f73   folderPath = os
-000143f0: 2e70 6174 682e 6a6f 696e 2863 6f6e 6669  .path.join(confi
-00014400: 672e 6c6f 6361 6c53 746f 7261 6765 2c20  g.localStorage, 
-00014410: 2263 6861 7473 222c 2022 6578 706f 7274  "chats", "export
-00014420: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-00014430: 2020 2020 2020 2050 6174 6828 666f 6c64         Path(fold
-00014440: 6572 5061 7468 292e 6d6b 6469 7228 7061  erPath).mkdir(pa
-00014450: 7265 6e74 733d 5472 7565 2c20 6578 6973  rents=True, exis
-00014460: 745f 6f6b 3d54 7275 6529 0a20 2020 2020  t_ok=True).     
-00014470: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00014480: 6620 6f73 2e70 6174 682e 6973 6469 7228  f os.path.isdir(
-00014490: 666f 6c64 6572 5061 7468 293a 0a20 2020  folderPath):.   
-000144a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000144b0: 2020 2020 2063 6861 7446 696c 6520 3d20       chatFile = 
-000144c0: 6f73 2e70 6174 682e 6a6f 696e 2866 6f6c  os.path.join(fol
-000144d0: 6465 7250 6174 682c 2066 227b 7469 6d65  derPath, f"{time
-000144e0: 7374 616d 707d 2e74 7874 2229 0a20 2020  stamp}.txt").   
-000144f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014500: 2020 2020 2077 6974 6820 6f70 656e 2863       with open(c
-00014510: 6861 7446 696c 652c 2022 7722 2c20 656e  hatFile, "w", en
-00014520: 636f 6469 6e67 3d22 7574 662d 3822 2920  coding="utf-8") 
-00014530: 6173 2066 696c 654f 626a 3a0a 2020 2020  as fileObj:.    
-00014540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014550: 2020 2020 2020 2020 6669 6c65 4f62 6a2e          fileObj.
-00014560: 7772 6974 6528 706c 6169 6e54 6578 7429  write(plainText)
-00014570: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014580: 2020 2020 2020 2020 2069 6620 6f70 656e           if open
-00014590: 4669 6c65 2061 6e64 206f 732e 7061 7468  File and os.path
-000145a0: 2e69 7366 696c 6528 6368 6174 4669 6c65  .isfile(chatFile
-000145b0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-000145c0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-000145d0: 732e 7379 7374 656d 2866 2727 277b 636f  s.system(f'''{co
-000145e0: 6e66 6967 2e6f 7065 6e7d 2022 7b63 6861  nfig.open} "{cha
-000145f0: 7446 696c 657d 2227 2727 290a 2020 2020  tFile}"''').    
-00014600: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00014610: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
-00014620: 2020 2020 2020 2020 7072 696e 7432 2822          print2("
-00014630: 4661 696c 6564 2074 6f20 7361 7665 2063  Failed to save c
-00014640: 6861 7421 5c6e 2229 0a20 2020 2020 2020  hat!\n").       
-00014650: 2020 2020 2020 2020 2020 2020 2073 686f               sho
-00014660: 7745 7272 6f72 7328 290a 0a20 2020 2064  wErrors()..    d
-00014670: 6566 2072 756e 496e 7374 7275 6374 696f  ef runInstructio
-00014680: 6e28 7365 6c66 293a 0a20 2020 2020 2020  n(self):.       
-00014690: 2069 6e73 7472 7563 7469 6f6e 7320 3d20   instructions = 
-000146a0: 6c69 7374 2863 6f6e 6669 672e 7072 6564  list(config.pred
-000146b0: 6566 696e 6564 496e 7374 7275 6374 696f  efinedInstructio
-000146c0: 6e73 2e6b 6579 7328 2929 0a20 2020 2020  ns.keys()).     
-000146d0: 2020 2069 6e73 7472 7563 7469 6f6e 203d     instruction =
-000146e0: 2073 656c 662e 6469 616c 6f67 732e 6765   self.dialogs.ge
-000146f0: 7456 616c 6964 4f70 7469 6f6e 7328 0a20  tValidOptions(. 
-00014700: 2020 2020 2020 2020 2020 206f 7074 696f             optio
-00014710: 6e73 3d69 6e73 7472 7563 7469 6f6e 732c  ns=instructions,
-00014720: 0a20 2020 2020 2020 2020 2020 2074 6974  .            tit
-00014730: 6c65 3d22 5072 6564 6566 696e 6564 2049  le="Predefined I
-00014740: 6e73 7472 7563 7469 6f6e 7322 2c0a 2020  nstructions",.  
-00014750: 2020 2020 2020 2020 2020 7465 7874 3d22            text="
-00014760: 5365 6c65 6374 2061 6e20 696e 7374 7275  Select an instru
-00014770: 6374 696f 6e3a 222c 0a20 2020 2020 2020  ction:",.       
-00014780: 2029 0a20 2020 2020 2020 2069 6620 696e   ).        if in
-00014790: 7374 7275 6374 696f 6e3a 0a20 2020 2020  struction:.     
-000147a0: 2020 2020 2020 2063 6f6e 6669 672e 6465         config.de
-000147b0: 6661 756c 7445 6e74 7279 203d 2063 6f6e  faultEntry = con
-000147c0: 6669 672e 7072 6564 6566 696e 6564 496e  fig.predefinedIn
-000147d0: 7374 7275 6374 696f 6e73 5b69 6e73 7472  structions[instr
-000147e0: 7563 7469 6f6e 5d0a 2020 2020 2020 2020  uction].        
-000147f0: 2020 2020 636f 6e66 6967 2e61 6363 6570      config.accep
-00014800: 745f 6465 6661 756c 7420 3d20 5472 7565  t_default = True
-00014810: 0a0a 2020 2020 6465 6620 6368 616e 6765  ..    def change
-00014820: 436f 6e74 6578 7428 7365 6c66 293a 0a20  Context(self):. 
-00014830: 2020 2020 2020 2063 6f6e 7465 7874 7320         contexts 
-00014840: 3d20 6c69 7374 2863 6f6e 6669 672e 7072  = list(config.pr
-00014850: 6564 6566 696e 6564 436f 6e74 6578 7473  edefinedContexts
-00014860: 2e6b 6579 7328 2929 0a20 2020 2020 2020  .keys()).       
-00014870: 2070 7265 6465 6669 6e65 6443 6f6e 7465   predefinedConte
-00014880: 7874 203d 2073 656c 662e 6469 616c 6f67  xt = self.dialog
-00014890: 732e 6765 7456 616c 6964 4f70 7469 6f6e  s.getValidOption
-000148a0: 7328 0a20 2020 2020 2020 2020 2020 206f  s(.            o
-000148b0: 7074 696f 6e73 3d63 6f6e 7465 7874 732c  ptions=contexts,
-000148c0: 0a20 2020 2020 2020 2020 2020 2074 6974  .            tit
-000148d0: 6c65 3d22 5072 6564 6566 696e 6564 2043  le="Predefined C
-000148e0: 6f6e 7465 7874 7322 2c0a 2020 2020 2020  ontexts",.      
-000148f0: 2020 2020 2020 6465 6661 756c 743d 636f        default=co
-00014900: 6e66 6967 2e70 7265 6465 6669 6e65 6443  nfig.predefinedC
-00014910: 6f6e 7465 7874 2c0a 2020 2020 2020 2020  ontext,.        
-00014920: 2020 2020 7465 7874 3d22 5365 6c65 6374      text="Select
-00014930: 2061 2063 6f6e 7465 7874 3a22 2c0a 2020   a context:",.  
-00014940: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00014950: 6966 2070 7265 6465 6669 6e65 6443 6f6e  if predefinedCon
-00014960: 7465 7874 3a0a 2020 2020 2020 2020 2020  text:.          
-00014970: 2020 636f 6e66 6967 2e70 7265 6465 6669    config.predefi
-00014980: 6e65 6443 6f6e 7465 7874 203d 2070 7265  nedContext = pre
-00014990: 6465 6669 6e65 6443 6f6e 7465 7874 0a20  definedContext. 
-000149a0: 2020 2020 2020 2020 2020 2069 6620 636f             if co
-000149b0: 6e66 6967 2e70 7265 6465 6669 6e65 6443  nfig.predefinedC
-000149c0: 6f6e 7465 7874 203d 3d20 225b 6375 7374  ontext == "[cust
-000149d0: 6f6d 5d22 3a0a 2020 2020 2020 2020 2020  om]":.          
-000149e0: 2020 2020 2020 7072 696e 7431 2822 4564        print1("Ed
-000149f0: 6974 2063 7573 746f 6d20 636f 6e74 6578  it custom contex
-00014a00: 7420 6265 6c6f 773a 2229 0a20 2020 2020  t below:").     
-00014a10: 2020 2020 2020 2020 2020 2063 7573 746f             custo
-00014a20: 6d43 6f6e 7465 7874 203d 2073 656c 662e  mContext = self.
-00014a30: 7072 6f6d 7074 732e 7369 6d70 6c65 5072  prompts.simplePr
-00014a40: 6f6d 7074 2873 7479 6c65 3d73 656c 662e  ompt(style=self.
-00014a50: 7072 6f6d 7074 732e 7072 6f6d 7074 5374  prompts.promptSt
-00014a60: 796c 6532 2c20 6465 6661 756c 743d 636f  yle2, default=co
-00014a70: 6e66 6967 2e63 7573 746f 6d50 7265 6465  nfig.customPrede
-00014a80: 6669 6e65 6443 6f6e 7465 7874 290a 2020  finedContext).  
-00014a90: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00014aa0: 2063 7573 746f 6d43 6f6e 7465 7874 2061   customContext a
-00014ab0: 6e64 206e 6f74 2063 7573 746f 6d43 6f6e  nd not customCon
-00014ac0: 7465 7874 2e73 7472 6970 2829 2e6c 6f77  text.strip().low
-00014ad0: 6572 2829 203d 3d20 636f 6e66 6967 2e65  er() == config.e
-00014ae0: 7869 745f 656e 7472 793a 0a20 2020 2020  xit_entry:.     
-00014af0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00014b00: 6f6e 6669 672e 6375 7374 6f6d 5072 6564  onfig.customPred
-00014b10: 6566 696e 6564 436f 6e74 6578 7420 3d20  efinedContext = 
-00014b20: 6375 7374 6f6d 436f 6e74 6578 742e 7374  customContext.st
-00014b30: 7269 7028 290a 2020 2020 2020 2020 656c  rip().        el
-00014b40: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00014b50: 2320 6120 7761 7920 746f 2071 7569 636b  # a way to quick
-00014b60: 6c79 2063 6c65 616e 2075 7020 636f 6e74  ly clean up cont
-00014b70: 6578 740a 2020 2020 2020 2020 2020 2020  ext.            
-00014b80: 636f 6e66 6967 2e70 7265 6465 6669 6e65  config.predefine
-00014b90: 6443 6f6e 7465 7874 203d 2022 5b6e 6f6e  dContext = "[non
-00014ba0: 655d 220a 2020 2020 2020 2020 636f 6e66  e]".        conf
-00014bb0: 6967 2e73 6176 6543 6f6e 6669 6728 290a  ig.saveConfig().
-00014bc0: 2020 2020 2020 2020 7365 6c66 2e73 686f          self.sho
-00014bd0: 7743 7572 7265 6e74 436f 6e74 6578 7428  wCurrentContext(
-00014be0: 290a 0a20 2020 2064 6566 2067 6574 4469  )..    def getDi
-00014bf0: 7265 6374 6f72 794c 6973 7428 7365 6c66  rectoryList(self
-00014c00: 293a 0a20 2020 2020 2020 2064 6972 6563  ):.        direc
-00014c10: 746f 7279 4c69 7374 203d 205b 5d0a 2020  toryList = [].  
-00014c20: 2020 2020 2020 666f 7220 6620 696e 206f        for f in o
-00014c30: 732e 6c69 7374 6469 7228 272e 2729 3a0a  s.listdir('.'):.
-00014c40: 2020 2020 2020 2020 2020 2020 6966 206f              if o
-00014c50: 732e 7061 7468 2e69 7364 6972 2866 293a  s.path.isdir(f):
-00014c60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014c70: 2073 6570 6172 6174 6f72 203d 2022 5c5c   separator = "\\
-00014c80: 2220 6966 2063 6f6e 6669 672e 7468 6973  " if config.this
-00014c90: 506c 6174 666f 726d 203d 3d20 2257 696e  Platform == "Win
-00014ca0: 646f 7773 2220 656c 7365 2022 2f22 0a20  dows" else "/". 
-00014cb0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00014cc0: 6972 6563 746f 7279 4c69 7374 2e61 7070  irectoryList.app
-00014cd0: 656e 6428 6622 7b66 7d7b 7365 7061 7261  end(f"{f}{separa
-00014ce0: 746f 727d 2229 0a20 2020 2020 2020 2020  tor}").         
-00014cf0: 2020 2065 6c69 6620 6f73 2e70 6174 682e     elif os.path.
-00014d00: 6973 6669 6c65 2866 293a 0a20 2020 2020  isfile(f):.     
-00014d10: 2020 2020 2020 2020 2020 2064 6972 6563             direc
-00014d20: 746f 7279 4c69 7374 2e61 7070 656e 6428  toryList.append(
-00014d30: 6629 0a20 2020 2020 2020 2072 6574 7572  f).        retur
-00014d40: 6e20 6469 7265 6374 6f72 794c 6973 740a  n directoryList.
-00014d50: 0a20 2020 2064 6566 2073 686f 774c 6f67  .    def showLog
-00014d60: 6f28 7365 6c66 293a 0a20 2020 2020 2020  o(self):.       
-00014d70: 2061 7070 4e61 6d65 203d 2063 6f6e 6669   appName = confi
-00014d80: 672e 6672 6565 4765 6e69 7573 4149 4e61  g.freeGeniusAINa
-00014d90: 6d65 2e73 706c 6974 2829 5b30 5d2e 7570  me.split()[0].up
-00014da0: 7065 7228 290a 2020 2020 2020 2020 7465  per().        te
-00014db0: 726d 696e 616c 5f77 6964 7468 203d 2073  rminal_width = s
-00014dc0: 6875 7469 6c2e 6765 745f 7465 726d 696e  hutil.get_termin
-00014dd0: 616c 5f73 697a 6528 292e 636f 6c75 6d6e  al_size().column
-00014de0: 730a 2020 2020 2020 2020 7472 793a 0a20  s.        try:. 
-00014df0: 2020 2020 2020 2020 2020 2066 726f 6d20             from 
-00014e00: 6172 7420 696d 706f 7274 2074 6578 7432  art import text2
-00014e10: 6172 740a 2020 2020 2020 2020 2020 2020  art.            
-00014e20: 6966 2074 6572 6d69 6e61 6c5f 7769 6474  if terminal_widt
-00014e30: 6820 3e3d 2033 323a 0a20 2020 2020 2020  h >= 32:.       
-00014e40: 2020 2020 2020 2020 206c 6f67 6f20 3d20           logo = 
-00014e50: 7465 7874 3261 7274 2861 7070 4e61 6d65  text2art(appName
-00014e60: 2c20 666f 6e74 3d22 6379 6265 726d 6564  , font="cybermed
-00014e70: 756d 2229 0a20 2020 2020 2020 2020 2020  um").           
-00014e80: 2065 6c69 6620 7465 726d 696e 616c 5f77   elif terminal_w
-00014e90: 6964 7468 203e 3d20 3230 3a0a 2020 2020  idth >= 20:.    
-00014ea0: 2020 2020 2020 2020 2020 2020 6c6f 676f              logo
-00014eb0: 203d 2074 6578 7432 6172 7428 2220 222e   = text2art(" ".
-00014ec0: 6a6f 696e 2861 7070 4e61 6d65 2920 2b20  join(appName) + 
-00014ed0: 2220 222c 2066 6f6e 743d 2277 6869 7465  " ", font="white
-00014ee0: 5f62 7562 626c 6522 290a 2020 2020 2020  _bubble").      
-00014ef0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00014f00: 2020 2020 2020 2020 2020 2020 6c6f 676f              logo
-00014f10: 203d 2063 6f6e 6669 672e 6672 6565 4765   = config.freeGe
-00014f20: 6e69 7573 4149 4e61 6d65 0a20 2020 2020  niusAIName.     
-00014f30: 2020 2020 2020 206c 6f67 6f20 3d20 6c6f         logo = lo
-00014f40: 676f 5b3a 2d31 5d20 2320 7265 6d6f 7665  go[:-1] # remove
-00014f50: 2074 6865 206c 696e 6562 7265 616b 2061   the linebreak a
-00014f60: 7420 7468 6520 656e 640a 2020 2020 2020  t the end.      
-00014f70: 2020 6578 6365 7074 3a0a 2020 2020 2020    except:.      
-00014f80: 2020 2020 2020 6c6f 676f 203d 2063 6f6e        logo = con
-00014f90: 6669 672e 6672 6565 4765 6e69 7573 4149  fig.freeGeniusAI
-00014fa0: 4e61 6d65 0a20 2020 2020 2020 2070 7269  Name.        pri
-00014fb0: 6e74 5f66 6f72 6d61 7474 6564 5f74 6578  nt_formatted_tex
-00014fc0: 7428 4854 4d4c 2866 223c 7b63 6f6e 6669  t(HTML(f"<{confi
-00014fd0: 672e 7465 726d 696e 616c 436f 6d6d 616e  g.terminalComman
-00014fe0: 6445 6e74 7279 436f 6c6f 7232 7d3e 7b6c  dEntryColor2}>{l
-00014ff0: 6f67 6f7d 3c2f 7b63 6f6e 6669 672e 7465  ogo}</{config.te
-00015000: 726d 696e 616c 436f 6d6d 616e 6445 6e74  rminalCommandEnt
-00015010: 7279 436f 6c6f 7232 7d3e 2229 290a 0a20  ryColor2}>")).. 
-00015020: 2020 2064 6566 2072 756e 5079 7468 6f6e     def runPython
-00015030: 5363 7269 7074 2873 656c 662c 2073 6372  Script(self, scr
-00015040: 6970 7429 3a0a 2020 2020 2020 2020 7363  ipt):.        sc
-00015050: 7269 7074 203d 2073 6372 6970 742e 7374  ript = script.st
-00015060: 7269 7028 295b 333a 2d33 5d0a 2020 2020  rip()[3:-3].    
-00015070: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-00015080: 2020 2020 2065 7865 6328 7363 7269 7074       exec(script
-00015090: 2c20 676c 6f62 616c 7328 2929 0a20 2020  , globals()).   
-000150a0: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
-000150b0: 2020 2020 2020 2020 2074 7261 6365 203d           trace =
-000150c0: 2074 7261 6365 6261 636b 2e66 6f72 6d61   traceback.forma
-000150d0: 745f 6578 6328 290a 2020 2020 2020 2020  t_exc().        
-000150e0: 2020 2020 7072 696e 7428 7472 6163 6520      print(trace 
-000150f0: 6966 2063 6f6e 6669 672e 6465 7665 6c6f  if config.develo
-00015100: 7065 7220 656c 7365 2022 4572 726f 7220  per else "Error 
-00015110: 656e 636f 756e 7465 7265 6421 2229 0a20  encountered!"). 
-00015120: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00015130: 3128 636f 6e66 6967 2e64 6976 6964 6572  1(config.divider
-00015140: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-00015150: 2063 6f6e 6669 672e 6d61 785f 636f 6e73   config.max_cons
-00015160: 6563 7574 6976 655f 6175 746f 5f63 6f72  ecutive_auto_cor
-00015170: 7265 6374 696f 6e20 3e20 303a 0a20 2020  rection > 0:.   
-00015180: 2020 2020 2020 2020 2020 2020 2043 616c               Cal
-00015190: 6c4c 4c4d 2e61 7574 6f43 6f72 7265 6374  lLLM.autoCorrect
-000151a0: 5079 7468 6f6e 436f 6465 2873 6372 6970  PythonCode(scrip
-000151b0: 742c 2074 7261 6365 290a 0a20 2020 2064  t, trace)..    d
-000151c0: 6566 2073 7461 7274 4368 6174 7328 7365  ef startChats(se
-000151d0: 6c66 293a 0a20 2020 2020 2020 2074 6f6b  lf):.        tok
-000151e0: 656e 5661 6c69 6461 746f 7220 3d20 546f  enValidator = To
-000151f0: 6b65 6e56 616c 6964 6174 6f72 2829 0a20  kenValidator(). 
-00015200: 2020 2020 2020 2064 6566 2067 6574 4479         def getDy
-00015210: 6e61 6d69 6354 6f6f 6c42 6172 2829 3a0a  namicToolBar():.
-00015220: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00015230: 726e 2063 6f6e 6669 672e 6479 6e61 6d69  rn config.dynami
-00015240: 6354 6f6f 6c42 6172 5465 7874 0a20 2020  cToolBarText.   
-00015250: 2020 2020 2064 6566 2073 7461 7274 4368       def startCh
-00015260: 6174 2829 3a0a 2020 2020 2020 2020 2020  at():.          
-00015270: 2020 636c 6561 7228 290a 2020 2020 2020    clear().      
-00015280: 2020 2020 2020 7072 696e 7431 2873 656c        print1(sel
-00015290: 662e 6469 7669 6465 7229 0a20 2020 2020  f.divider).     
-000152a0: 2020 2020 2020 2073 656c 662e 7368 6f77         self.show
-000152b0: 4c6f 676f 2829 0a20 2020 2020 2020 2020  Logo().         
-000152c0: 2020 2073 656c 662e 7368 6f77 4375 7272     self.showCurr
-000152d0: 656e 7443 6f6e 7465 7874 2829 0a20 2020  entContext().   
-000152e0: 2020 2020 2020 2020 2023 2067 6f20 746f           # go to
-000152f0: 2073 7461 7274 7570 2064 6972 6563 746f   startup directo
-00015300: 7279 0a20 2020 2020 2020 2020 2020 2073  ry.            s
-00015310: 746f 7261 6765 6469 7265 6374 6f72 7920  toragedirectory 
-00015320: 3d20 636f 6e66 6967 2e6c 6f63 616c 5374  = config.localSt
-00015330: 6f72 6167 650a 2020 2020 2020 2020 2020  orage.          
-00015340: 2020 6f73 2e63 6864 6972 2873 746f 7261    os.chdir(stora
-00015350: 6765 6469 7265 6374 6f72 7929 0a20 2020  gedirectory).   
-00015360: 2020 2020 2020 2020 206d 6573 7361 6765           message
-00015370: 7320 3d20 4361 6c6c 4c4c 4d2e 7265 7365  s = CallLLM.rese
-00015380: 744d 6573 7361 6765 7328 290a 2020 2020  tMessages().    
-00015390: 2020 2020 2020 2020 2370 7269 6e74 3128          #print1(
-000153a0: 6622 7374 6172 7475 7020 6469 7265 6374  f"startup direct
-000153b0: 6f72 793a 5c6e 7b73 746f 7261 6765 6469  ory:\n{storagedi
-000153c0: 7265 6374 6f72 797d 2229 0a20 2020 2020  rectory}").     
-000153d0: 2020 2020 2020 2070 7269 6e74 5f66 6f72         print_for
-000153e0: 6d61 7474 6564 5f74 6578 7428 4854 4d4c  matted_text(HTML
-000153f0: 2866 223c 7b63 6f6e 6669 672e 7465 726d  (f"<{config.term
-00015400: 696e 616c 5072 6f6d 7074 496e 6469 6361  inalPromptIndica
-00015410: 746f 7243 6f6c 6f72 327d 3e44 6972 6563  torColor2}>Direc
-00015420: 746f 7279 3a3c 2f7b 636f 6e66 6967 2e74  tory:</{config.t
-00015430: 6572 6d69 6e61 6c50 726f 6d70 7449 6e64  erminalPromptInd
-00015440: 6963 6174 6f72 436f 6c6f 7232 7d3e 207b  icatorColor2}> {
-00015450: 7374 6f72 6167 6564 6972 6563 746f 7279  storagedirectory
-00015460: 7d22 2929 0a20 2020 2020 2020 2020 2020  }")).           
-00015470: 2070 7269 6e74 3128 7365 6c66 2e64 6976   print1(self.div
-00015480: 6964 6572 290a 0a20 2020 2020 2020 2020  ider)..         
-00015490: 2020 2063 6f6e 6669 672e 636f 6e76 6572     config.conver
-000154a0: 7361 7469 6f6e 5374 6172 7465 6420 3d20  sationStarted = 
-000154b0: 4661 6c73 650a 2020 2020 2020 2020 2020  False.          
-000154c0: 2020 7265 7475 726e 2028 7374 6f72 6167    return (storag
-000154d0: 6564 6972 6563 746f 7279 2c20 6d65 7373  edirectory, mess
-000154e0: 6167 6573 290a 2020 2020 2020 2020 7374  ages).        st
-000154f0: 6f72 6167 6564 6972 6563 746f 7279 2c20  oragedirectory, 
-00015500: 636f 6e66 6967 2e63 7572 7265 6e74 4d65  config.currentMe
-00015510: 7373 6167 6573 203d 2073 7461 7274 4368  ssages = startCh
-00015520: 6174 2829 0a20 2020 2020 2020 2063 6f6e  at().        con
-00015530: 6669 672e 6d75 6c74 696c 696e 6549 6e70  fig.multilineInp
-00015540: 7574 203d 2046 616c 7365 0a20 2020 2020  ut = False.     
-00015550: 2020 2066 6561 7475 7265 734c 6f77 6572     featuresLower
-00015560: 203d 206c 6973 7428 7365 6c66 2e61 6374   = list(self.act
-00015570: 696f 6e73 2e6b 6579 7328 2929 202b 205b  ions.keys()) + [
-00015580: 222e 2e2e 225d 0a20 2020 2020 2020 2023  "..."].        #
-00015590: 2069 6e70 7574 2073 7567 6765 7374 696f   input suggestio
-000155a0: 6e73 0a20 2020 2020 2020 2063 6f6e 6669  ns.        confi
-000155b0: 672e 696e 7075 7453 7567 6765 7374 696f  g.inputSuggestio
-000155c0: 6e73 202b 3d20 6665 6174 7572 6573 4c6f  ns += featuresLo
-000155d0: 7765 720a 2020 2020 2020 2020 636f 6d70  wer.        comp
-000155e0: 6c65 7465 7220 3d20 4675 7a7a 7943 6f6d  leter = FuzzyCom
-000155f0: 706c 6574 6572 2857 6f72 6443 6f6d 706c  pleter(WordCompl
-00015600: 6574 6572 2863 6f6e 6669 672e 696e 7075  eter(config.inpu
-00015610: 7453 7567 6765 7374 696f 6e73 2c20 6967  tSuggestions, ig
-00015620: 6e6f 7265 5f63 6173 653d 5472 7565 2929  nore_case=True))
-00015630: 2069 6620 636f 6e66 6967 2e69 6e70 7574   if config.input
-00015640: 5375 6767 6573 7469 6f6e 7320 656c 7365  Suggestions else
-00015650: 204e 6f6e 650a 2020 2020 2020 2020 636f   None.        co
-00015660: 6d70 6c65 7465 725f 6465 7665 6c6f 7065  mpleter_develope
-00015670: 7220 3d20 4675 7a7a 7943 6f6d 706c 6574  r = FuzzyComplet
-00015680: 6572 2857 6f72 6443 6f6d 706c 6574 6572  er(WordCompleter
-00015690: 2863 6f6e 6669 672e 696e 7075 7453 7567  (config.inputSug
-000156a0: 6765 7374 696f 6e73 5b3a 5d20 2b20 5b66  gestions[:] + [f
-000156b0: 2263 6f6e 6669 672e 7b69 7d22 2066 6f72  "config.{i}" for
-000156c0: 2069 2069 6e20 6469 7228 636f 6e66 6967   i in dir(config
-000156d0: 2920 6966 206e 6f74 2069 2e73 7461 7274  ) if not i.start
-000156e0: 7377 6974 6828 225f 5f22 295d 202b 2073  swith("__")] + s
-000156f0: 656c 662e 6765 7444 6972 6563 746f 7279  elf.getDirectory
-00015700: 4c69 7374 2829 2c20 6967 6e6f 7265 5f63  List(), ignore_c
-00015710: 6173 653d 5472 7565 2929 0a20 2020 2020  ase=True)).     
-00015720: 2020 2077 6869 6c65 2054 7275 653a 0a20     while True:. 
-00015730: 2020 2020 2020 2020 2020 2023 2064 6566             # def
-00015740: 6175 6c74 2074 6f6f 6c62 6172 2074 6578  ault toolbar tex
-00015750: 740a 2020 2020 2020 2020 2020 2020 636f  t.            co
-00015760: 6e66 6967 2e64 796e 616d 6963 546f 6f6c  nfig.dynamicTool
-00015770: 4261 7254 6578 7420 3d20 6622 2222 207b  BarText = f""" {
-00015780: 7374 7228 636f 6e66 6967 2e68 6f74 6b65  str(config.hotke
-00015790: 795f 6578 6974 292e 7265 706c 6163 6528  y_exit).replace(
-000157a0: 2227 222c 2022 2229 7d20 6578 6974 207b  "'", "")} exit {
-000157b0: 7374 7228 636f 6e66 6967 2e68 6f74 6b65  str(config.hotke
-000157c0: 795f 6469 7370 6c61 795f 6b65 795f 636f  y_display_key_co
-000157d0: 6d62 6f29 2e72 6570 6c61 6365 2822 2722  mbo).replace("'"
-000157e0: 2c20 2222 297d 2073 686f 7274 6375 7473  , "")} shortcuts
-000157f0: 2022 2222 0a20 2020 2020 2020 2020 2020   """.           
-00015800: 2023 2064 6973 706c 6179 2063 7572 7265   # display curre
-00015810: 6e74 2064 6972 6563 746f 7279 2069 6620  nt directory if 
-00015820: 6368 616e 6765 640a 2020 2020 2020 2020  changed.        
-00015830: 2020 2020 6375 7272 656e 7444 6972 6563      currentDirec
-00015840: 746f 7279 203d 206f 732e 6765 7463 7764  tory = os.getcwd
-00015850: 2829 0a20 2020 2020 2020 2020 2020 2069  ().            i
-00015860: 6620 6e6f 7420 6375 7272 656e 7444 6972  f not currentDir
-00015870: 6563 746f 7279 203d 3d20 7374 6f72 6167  ectory == storag
-00015880: 6564 6972 6563 746f 7279 3a0a 2020 2020  edirectory:.    
-00015890: 2020 2020 2020 2020 2020 2020 2370 7269              #pri
-000158a0: 6e74 3128 7365 6c66 2e64 6976 6964 6572  nt1(self.divider
-000158b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000158c0: 2020 7072 696e 7433 2866 2243 7572 7265    print3(f"Curre
-000158d0: 6e74 2064 6972 6563 746f 7279 3a20 7b63  nt directory: {c
-000158e0: 7572 7265 6e74 4469 7265 6374 6f72 797d  urrentDirectory}
-000158f0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-00015900: 2020 2070 7269 6e74 3128 7365 6c66 2e64     print1(self.d
-00015910: 6976 6964 6572 290a 2020 2020 2020 2020  ivider).        
-00015920: 2020 2020 2020 2020 7374 6f72 6167 6564          storaged
-00015930: 6972 6563 746f 7279 203d 2063 7572 7265  irectory = curre
-00015940: 6e74 4469 7265 6374 6f72 790a 2020 2020  ntDirectory.    
-00015950: 2020 2020 2020 2020 2320 6465 6661 756c          # defaul
-00015960: 7420 696e 7075 7420 656e 7472 790a 2020  t input entry.  
-00015970: 2020 2020 2020 2020 2020 6163 6365 7074            accept
-00015980: 5f64 6566 6175 6c74 203d 2063 6f6e 6669  _default = confi
-00015990: 672e 6163 6365 7074 5f64 6566 6175 6c74  g.accept_default
-000159a0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-000159b0: 6669 672e 6163 6365 7074 5f64 6566 6175  fig.accept_defau
-000159c0: 6c74 203d 2046 616c 7365 0a20 2020 2020  lt = False.     
-000159d0: 2020 2020 2020 2064 6566 6175 6c74 456e         defaultEn
-000159e0: 7472 7920 3d20 636f 6e66 6967 2e64 6566  try = config.def
-000159f0: 6175 6c74 456e 7472 790a 2020 2020 2020  aultEntry.      
-00015a00: 2020 2020 2020 6966 206f 732e 7061 7468        if os.path
-00015a10: 2e69 7366 696c 6528 6465 6661 756c 7445  .isfile(defaultE
-00015a20: 6e74 7279 293a 0a20 2020 2020 2020 2020  ntry):.         
-00015a30: 2020 2020 2020 2064 6566 6175 6c74 456e         defaultEn
-00015a40: 7472 7920 3d20 6627 4669 6c65 3a20 227b  try = f'File: "{
-00015a50: 6465 6661 756c 7445 6e74 7279 7d22 5c6e  defaultEntry}"\n
-00015a60: 270a 2020 2020 2020 2020 2020 2020 656c  '.            el
-00015a70: 6966 206f 732e 7061 7468 2e69 7364 6972  if os.path.isdir
-00015a80: 2864 6566 6175 6c74 456e 7472 7929 3a0a  (defaultEntry):.
-00015a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015aa0: 6465 6661 756c 7445 6e74 7279 203d 2066  defaultEntry = f
-00015ab0: 2746 6f6c 6465 723a 2022 7b64 6566 6175  'Folder: "{defau
-00015ac0: 6c74 456e 7472 797d 225c 6e27 0a20 2020  ltEntry}"\n'.   
-00015ad0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
-00015ae0: 6465 6661 756c 7445 6e74 7279 203d 2022  defaultEntry = "
-00015af0: 220a 0a20 2020 2020 2020 2020 2020 2023  "..            #
-00015b00: 2075 7365 7220 696e 7075 740a 2020 2020   user input.    
-00015b10: 2020 2020 2020 2020 7573 6572 496e 7075          userInpu
-00015b20: 7420 3d20 7365 6c66 2e70 726f 6d70 7473  t = self.prompts
-00015b30: 2e73 696d 706c 6550 726f 6d70 7428 7072  .simplePrompt(pr
-00015b40: 6f6d 7074 5365 7373 696f 6e3d 7365 6c66  omptSession=self
-00015b50: 2e74 6572 6d69 6e61 6c5f 6368 6174 5f73  .terminal_chat_s
-00015b60: 6573 7369 6f6e 2c20 636f 6d70 6c65 7465  ession, complete
-00015b70: 723d 636f 6d70 6c65 7465 725f 6465 7665  r=completer_deve
-00015b80: 6c6f 7065 7220 6966 2063 6f6e 6669 672e  loper if config.
-00015b90: 6465 7665 6c6f 7065 7220 656c 7365 2063  developer else c
-00015ba0: 6f6d 706c 6574 6572 2c20 6465 6661 756c  ompleter, defaul
-00015bb0: 743d 6465 6661 756c 7445 6e74 7279 2c20  t=defaultEntry, 
-00015bc0: 6163 6365 7074 5f64 6566 6175 6c74 3d61  accept_default=a
-00015bd0: 6363 6570 745f 6465 6661 756c 742c 2076  ccept_default, v
-00015be0: 616c 6964 6174 6f72 3d74 6f6b 656e 5661  alidator=tokenVa
-00015bf0: 6c69 6461 746f 722c 2062 6f74 746f 6d5f  lidator, bottom_
-00015c00: 746f 6f6c 6261 723d 6765 7444 796e 616d  toolbar=getDynam
-00015c10: 6963 546f 6f6c 4261 7229 0a20 2020 2020  icToolBar).     
-00015c20: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00015c30: 2020 2020 2320 7570 6461 7465 2073 7973      # update sys
-00015c40: 7465 6d20 6d65 7373 6167 6520 7768 656e  tem message when
-00015c50: 2075 7365 7220 656e 7465 7220 6120 6e65   user enter a ne
-00015c60: 7720 696e 7075 740a 2020 2020 2020 2020  w input.        
-00015c70: 2020 2020 636f 6e66 6967 2e63 7572 7265      config.curre
-00015c80: 6e74 4d65 7373 6167 6573 203d 2073 656c  ntMessages = sel
-00015c90: 662e 7570 6461 7465 5379 7374 656d 4d65  f.updateSystemMe
-00015ca0: 7373 6167 6528 636f 6e66 6967 2e63 7572  ssage(config.cur
-00015cb0: 7265 6e74 4d65 7373 6167 6573 290a 2020  rentMessages).  
-00015cc0: 2020 2020 2020 2020 2020 0a20 2020 2020            .     
-00015cd0: 2020 2020 2020 2023 2064 6973 706c 6179         # display
-00015ce0: 206f 7074 696f 6e73 2077 6865 6e20 656d   options when em
-00015cf0: 7074 7920 7374 7269 6e67 2069 7320 656e  pty string is en
-00015d00: 7465 7265 640a 2020 2020 2020 2020 2020  tered.          
-00015d10: 2020 7573 6572 496e 7075 744c 6f77 6572    userInputLower
-00015d20: 203d 2075 7365 7249 6e70 7574 2e6c 6f77   = userInput.low
-00015d30: 6572 2829 0a20 2020 2020 2020 2020 2020  er().           
-00015d40: 2069 6620 636f 6e66 6967 2e61 6464 5061   if config.addPa
-00015d50: 7468 4174 2069 7320 6e6f 7420 4e6f 6e65  thAt is not None
-00015d60: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00015d70: 2020 7072 6566 6978 203d 2075 7365 7249    prefix = userI
-00015d80: 6e70 7574 5b3a 636f 6e66 6967 2e61 6464  nput[:config.add
-00015d90: 5061 7468 4174 5d0a 2020 2020 2020 2020  PathAt].        
-00015da0: 2020 2020 2020 2020 7072 6566 6978 5370          prefixSp
-00015db0: 6c69 7420 3d20 7072 6566 6978 2e72 7370  lit = prefix.rsp
-00015dc0: 6c69 7428 2220 222c 2031 290a 2020 2020  lit(" ", 1).    
-00015dd0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-00015de0: 656e 2870 7265 6669 7853 706c 6974 2920  en(prefixSplit) 
-00015df0: 3e20 313a 0a20 2020 2020 2020 2020 2020  > 1:.           
-00015e00: 2020 2020 2020 2020 2064 6566 6175 6c74           default
-00015e10: 203d 2070 7265 6669 7853 706c 6974 5b2d   = prefixSplit[-
-00015e20: 315d 0a20 2020 2020 2020 2020 2020 2020  1].             
-00015e30: 2020 2020 2020 2070 7265 6669 7820 3d20         prefix = 
-00015e40: 6622 7b70 7265 6669 7853 706c 6974 5b30  f"{prefixSplit[0
-00015e50: 5d7d 2022 0a20 2020 2020 2020 2020 2020  ]} ".           
-00015e60: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00015e70: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00015e80: 6566 6175 6c74 203d 2070 7265 6669 780a  efault = prefix.
-00015e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015ea0: 2020 2020 7072 6566 6978 203d 2022 220a      prefix = "".
-00015eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015ec0: 7375 6666 6978 203d 2075 7365 7249 6e70  suffix = userInp
-00015ed0: 7574 5b63 6f6e 6669 672e 6164 6450 6174  ut[config.addPat
-00015ee0: 6841 743a 5d0a 2020 2020 2020 2020 2020  hAt:].          
-00015ef0: 2020 2020 2020 636f 6e66 6967 2e61 6464        config.add
-00015f00: 5061 7468 4174 203d 204e 6f6e 650a 2020  PathAt = None.  
-00015f10: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00015f20: 206e 6f74 2064 6566 6175 6c74 3a0a 2020   not default:.  
-00015f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015f40: 2020 6465 6661 756c 7420 3d20 6f73 2e67    default = os.g
-00015f50: 6574 6377 6428 290a 2020 2020 2020 2020  etcwd().        
-00015f60: 2020 2020 2020 2020 7573 6572 5061 7468          userPath
-00015f70: 203d 2073 656c 662e 6765 7450 6174 682e   = self.getPath.
-00015f80: 6765 7450 6174 6828 6d65 7373 6167 653d  getPath(message=
-00015f90: 6622 7b70 7265 6669 787d 3c7b 636f 6e66  f"{prefix}<{conf
-00015fa0: 6967 2e74 6572 6d69 6e61 6c43 6f6d 6d61  ig.terminalComma
-00015fb0: 6e64 456e 7472 7943 6f6c 6f72 327d 3e5b  ndEntryColor2}>[
-00015fc0: 6164 6420 6120 7061 7468 2068 6572 655d  add a path here]
-00015fd0: 3c2f 7b63 6f6e 6669 672e 7465 726d 696e  </{config.termin
-00015fe0: 616c 436f 6d6d 616e 6445 6e74 7279 436f  alCommandEntryCo
-00015ff0: 6c6f 7232 7d3e 7b73 7566 6669 787d 222c  lor2}>{suffix}",
-00016000: 2070 726f 6d70 7449 6e64 6963 6174 6f72   promptIndicator
-00016010: 3d22 3e3e 3e20 222c 2065 6d70 7479 5f74  =">>> ", empty_t
-00016020: 6f5f 6361 6e63 656c 3d54 7275 652c 2064  o_cancel=True, d
-00016030: 6566 6175 6c74 3d64 6566 6175 6c74 290a  efault=default).
-00016040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016050: 636f 6e66 6967 2e64 6566 6175 6c74 456e  config.defaultEn
-00016060: 7472 7920 3d20 6622 7b70 7265 6669 787d  try = f"{prefix}
-00016070: 7b75 7365 7250 6174 687d 7b73 7566 6669  {userPath}{suffi
-00016080: 787d 220a 2020 2020 2020 2020 2020 2020  x}".            
-00016090: 2020 2020 7573 6572 496e 7075 7420 3d20      userInput = 
-000160a0: 2222 0a20 2020 2020 2020 2020 2020 2065  "".            e
-000160b0: 6c69 6620 6e6f 7420 7573 6572 496e 7075  lif not userInpu
-000160c0: 744c 6f77 6572 3a0a 2020 2020 2020 2020  tLower:.        
-000160d0: 2020 2020 2020 2020 7573 6572 496e 7075          userInpu
-000160e0: 7420 3d20 636f 6e66 6967 2e62 6c61 6e6b  t = config.blank
-000160f0: 456e 7472 7941 6374 696f 6e0a 2020 2020  EntryAction.    
-00016100: 2020 2020 2020 2020 6966 2075 7365 7249          if userI
-00016110: 6e70 7574 203d 3d20 222e 2e2e 223a 0a20  nput == "...":. 
-00016120: 2020 2020 2020 2020 2020 2020 2020 2075                 u
-00016130: 7365 7249 6e70 7574 203d 2075 7365 7249  serInput = userI
-00016140: 6e70 7574 4c6f 7765 7220 3d20 7365 6c66  nputLower = self
-00016150: 2e72 756e 4163 7469 6f6e 7328 7573 6572  .runActions(user
-00016160: 496e 7075 7429 0a20 2020 2020 2020 2020  Input).         
-00016170: 2020 2023 656c 6966 2075 7365 7249 6e70     #elif userInp
-00016180: 7574 4c6f 7765 7220 696e 2074 7570 6c65  utLower in tuple
-00016190: 2873 656c 662e 6163 7469 6f6e 732e 6b65  (self.actions.ke
-000161a0: 7973 2829 293a 0a20 2020 2020 2020 2020  ys()):.         
-000161b0: 2020 2065 6c69 6620 7573 6572 496e 7075     elif userInpu
-000161c0: 744c 6f77 6572 2e73 7461 7274 7377 6974  tLower.startswit
-000161d0: 6828 222e 2229 2061 6e64 206e 6f74 2075  h(".") and not u
-000161e0: 7365 7249 6e70 7574 4c6f 7765 7220 696e  serInputLower in
-000161f0: 2028 636f 6e66 6967 2e65 7869 745f 656e   (config.exit_en
-00016200: 7472 792c 2063 6f6e 6669 672e 6361 6e63  try, config.canc
-00016210: 656c 5f65 6e74 7279 2c20 222e 6e65 7722  el_entry, ".new"
-00016220: 2c20 222e 636f 6e74 6578 7422 293a 0a20  , ".context"):. 
-00016230: 2020 2020 2020 2020 2020 2020 2020 2075                 u
-00016240: 7365 7249 6e70 7574 203d 2075 7365 7249  serInput = userI
-00016250: 6e70 7574 4c6f 7765 7220 3d20 7365 6c66  nputLower = self
-00016260: 2e72 756e 4163 7469 6f6e 7328 222e 2e2e  .runActions("...
-00016270: 222c 2075 7365 7249 6e70 7574 290a 0a20  ", userInput).. 
-00016280: 2020 2020 2020 2020 2020 2069 6620 7365             if se
-00016290: 7454 6f6f 6c44 6570 656e 6465 6e63 6528  tToolDependence(
-000162a0: 7573 6572 496e 7075 7429 3a0a 2020 2020  userInput):.    
-000162b0: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
-000162c0: 696e 7565 0a0a 2020 2020 2020 2020 2020  inue..          
-000162d0: 2020 2320 7265 706c 6163 6520 616c 6961    # replace alia
-000162e0: 732c 2069 6620 616e 792c 2077 6974 6820  s, if any, with 
-000162f0: 6675 6c6c 2065 6e74 7279 0a20 2020 2020  full entry.     
-00016300: 2020 2020 2020 2066 6f72 2061 6c69 6173         for alias
-00016310: 2c20 6675 6c6c 456e 7472 7920 696e 2063  , fullEntry in c
-00016320: 6f6e 6669 672e 616c 6961 7365 732e 6974  onfig.aliases.it
-00016330: 656d 7328 293a 0a20 2020 2020 2020 2020  ems():.         
-00016340: 2020 2020 2020 2023 7573 6572 496e 7075         #userInpu
-00016350: 7420 3d20 7265 2e73 7562 2861 6c69 6173  t = re.sub(alias
-00016360: 2c20 6675 6c6c 456e 7472 792c 2075 7365  , fullEntry, use
-00016370: 7249 6e70 7574 2920 2320 6572 726f 7220  rInput) # error 
-00016380: 6f6e 2057 696e 646f 7773 2063 6f7a 206f  on Windows coz o
-00016390: 6620 5769 6e64 6f77 7320 7061 7468 0a20  f Windows path. 
-000163a0: 2020 2020 2020 2020 2020 2020 2020 2075                 u
-000163b0: 7365 7249 6e70 7574 203d 2075 7365 7249  serInput = userI
-000163c0: 6e70 7574 2e72 6570 6c61 6365 2861 6c69  nput.replace(ali
-000163d0: 6173 2c20 6675 6c6c 456e 7472 7929 0a0a  as, fullEntry)..
-000163e0: 2020 2020 2020 2020 2020 2020 2320 6f70              # op
-000163f0: 656e 2066 696c 6520 2f20 6469 7265 6374  en file / direct
-00016400: 6f72 7920 6469 7265 6374 6c79 0a20 2020  ory directly.   
-00016410: 2020 2020 2020 2020 2064 6f63 735f 7061           docs_pa
-00016420: 7468 203d 2069 7345 7869 7374 696e 6750  th = isExistingP
-00016430: 6174 6828 7573 6572 496e 7075 7429 0a20  ath(userInput). 
-00016440: 2020 2020 2020 2020 2020 2069 6620 6f73             if os
-00016450: 2e70 6174 682e 6973 6669 6c65 2864 6f63  .path.isfile(doc
-00016460: 735f 7061 7468 293a 0a20 2020 2020 2020  s_path):.       
-00016470: 2020 2020 2020 2020 206f 732e 7379 7374           os.syst
-00016480: 656d 2866 227b 636f 6e66 6967 2e6f 7065  em(f"{config.ope
-00016490: 6e7d 207b 646f 6373 5f70 6174 687d 2229  n} {docs_path}")
-000164a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000164b0: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
-000164c0: 2020 2020 2020 656c 6966 206f 732e 7061        elif os.pa
-000164d0: 7468 2e69 7364 6972 2864 6f63 735f 7061  th.isdir(docs_pa
-000164e0: 7468 293a 0a20 2020 2020 2020 2020 2020  th):.           
-000164f0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00016500: 2020 2020 2020 2020 2020 2020 2020 6f73                os
-00016510: 2e63 6864 6972 2864 6f63 735f 7061 7468  .chdir(docs_path
-00016520: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00016530: 2020 2020 2020 7072 696e 7433 2866 2244        print3(f"D
-00016540: 6972 6563 746f 7279 2063 6861 6e67 6564  irectory changed
-00016550: 2074 6f3a 207b 646f 6373 5f70 6174 687d   to: {docs_path}
-00016560: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-00016570: 2020 2020 2020 2073 656c 662e 6765 7450         self.getP
-00016580: 6174 682e 6469 7370 6c61 7944 6972 6563  ath.displayDirec
-00016590: 746f 7279 436f 6e74 656e 7428 290a 2020  toryContent().  
-000165a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000165b0: 2020 636f 6e74 696e 7565 0a20 2020 2020    continue.     
-000165c0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-000165d0: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-000165e0: 2020 2020 2020 2070 6173 730a 0a20 2020         pass..   
-000165f0: 2020 2020 2020 2020 2023 2074 7279 2065           # try e
-00016600: 7661 6c0a 2020 2020 2020 2020 2020 2020  val.            
-00016610: 6966 2063 6f6e 6669 672e 6465 7665 6c6f  if config.develo
-00016620: 7065 7220 616e 6420 6e6f 7420 7573 6572  per and not user
-00016630: 496e 7075 7420 3d3d 2022 2e2e 2e22 3a0a  Input == "...":.
-00016640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016650: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00016660: 2020 2020 2020 2020 2076 616c 7565 203d           value =
-00016670: 2065 7661 6c28 7573 6572 496e 7075 7429   eval(userInput)
-00016680: 2023 2069 7420 736f 6c76 6520 7369 6d70   # it solve simp
-00016690: 6c65 206d 6174 682c 2065 2e67 2e20 312b  le math, e.g. 1+
-000166a0: 312c 206f 7220 7265 6164 2076 6172 6961  1, or read varia
-000166b0: 626c 6573 2c20 652e 672e 2064 6972 2863  bles, e.g. dir(c
-000166c0: 6f6e 6669 6729 0a20 2020 2020 2020 2020  onfig).         
-000166d0: 2020 2020 2020 2020 2020 2069 6620 7661             if va
-000166e0: 6c75 6520 6973 206e 6f74 204e 6f6e 653a  lue is not None:
-000166f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016700: 2020 2020 2020 2020 2023 7072 696e 7428           #print(
-00016710: 7661 6c75 6529 0a20 2020 2020 2020 2020  value).         
-00016720: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00016730: 7072 696e 742e 7070 7269 6e74 2876 616c  print.pprint(val
-00016740: 7565 290a 2020 2020 2020 2020 2020 2020  ue).            
-00016750: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00016760: 7428 2222 290a 2020 2020 2020 2020 2020  t("").          
-00016770: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00016780: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
-00016790: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-000167a0: 7265 2e73 6561 7263 6828 225e 7072 696e  re.search("^prin
-000167b0: 745c 285b 5e5c 295c 295d 2b3f 5c29 2422  t\([^\)\)]+?\)$"
-000167c0: 2c20 7573 6572 496e 7075 7429 3a0a 2020  , userInput):.  
+0000b0b0: 2020 2074 6f6f 6c5f 6368 6f69 6365 3d7b     tool_choice={
+0000b0c0: 2274 7970 6522 3a20 2266 756e 6374 696f  "type": "functio
+0000b0d0: 6e22 2c20 2266 756e 6374 696f 6e22 3a20  n", "function": 
+0000b0e0: 7b22 6e61 6d65 223a 2063 6f6e 6669 672e  {"name": config.
+0000b0f0: 7275 6e53 7065 6369 6669 6346 756e 7469  runSpecificFunti
+0000b100: 6f6e 7d7d 2069 6620 636f 6e66 6967 2e72  on}} if config.r
+0000b110: 756e 5370 6563 6966 6963 4675 6e74 696f  unSpecificFuntio
+0000b120: 6e20 656c 7365 2063 6f6e 6669 672e 6368  n else config.ch
+0000b130: 6174 4750 5441 7069 4675 6e63 7469 6f6e  atGPTApiFunction
+0000b140: 4361 6c6c 2c0a 2020 2020 2020 2020 2020  Call,.          
+0000b150: 2020 2020 2020 2020 2020 7374 7265 616d            stream
+0000b160: 3d54 7275 652c 0a20 2020 2020 2020 2020  =True,.         
+0000b170: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+0000b180: 2020 2020 2072 6574 7572 6e20 636f 6e66       return conf
+0000b190: 6967 2e6f 6169 5f63 6c69 656e 742e 6368  ig.oai_client.ch
+0000b1a0: 6174 2e63 6f6d 706c 6574 696f 6e73 2e63  at.completions.c
+0000b1b0: 7265 6174 6528 0a20 2020 2020 2020 2020  reate(.         
+0000b1c0: 2020 2020 2020 206d 6f64 656c 3d63 6f6e         model=con
+0000b1d0: 6669 672e 6368 6174 4750 5441 7069 4d6f  fig.chatGPTApiMo
+0000b1e0: 6465 6c2c 0a20 2020 2020 2020 2020 2020  del,.           
+0000b1f0: 2020 2020 206d 6573 7361 6765 733d 7468       messages=th
+0000b200: 6973 5468 6973 4d65 7373 6167 652c 0a20  isThisMessage,. 
+0000b210: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+0000b220: 3d31 2c0a 2020 2020 2020 2020 2020 2020  =1,.            
+0000b230: 2020 2020 7465 6d70 6572 6174 7572 653d      temperature=
+0000b240: 636f 6e66 6967 2e6c 6c6d 5465 6d70 6572  config.llmTemper
+0000b250: 6174 7572 652c 0a20 2020 2020 2020 2020  ature,.         
+0000b260: 2020 2020 2020 206d 6178 5f74 6f6b 656e         max_token
+0000b270: 733d 5368 6172 6564 5574 696c 2e67 6574  s=SharedUtil.get
+0000b280: 4479 6e61 6d69 6354 6f6b 656e 7328 7468  DynamicTokens(th
+0000b290: 6973 5468 6973 4d65 7373 6167 6529 2c0a  isThisMessage),.
+0000b2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b2b0: 7374 7265 616d 3d54 7275 652c 0a20 2020  stream=True,.   
+0000b2c0: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+0000b2d0: 2020 2020 7768 696c 6520 5472 7565 3a0a      while True:.
+0000b2e0: 2020 2020 2020 2020 2020 2020 636f 6d70              comp
+0000b2f0: 6c65 7469 6f6e 203d 2072 756e 5468 6973  letion = runThis
+0000b300: 436f 6d70 6c65 7469 6f6e 2874 6869 734d  Completion(thisM
+0000b310: 6573 7361 6765 290a 2020 2020 2020 2020  essage).        
+0000b320: 2020 2020 636f 6e66 6967 2e72 756e 5370      config.runSp
+0000b330: 6563 6966 6963 4675 6e74 696f 6e20 3d20  ecificFuntion = 
+0000b340: 2222 0a20 2020 2020 2020 2020 2020 2074  "".            t
+0000b350: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+0000b360: 2020 2020 2320 636f 6e73 756d 6520 7468      # consume th
+0000b370: 6520 6669 7273 7420 6465 6c74 610a 2020  e first delta.  
+0000b380: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+0000b390: 7220 6576 656e 7420 696e 2063 6f6d 706c  r event in compl
+0000b3a0: 6574 696f 6e3a 0a20 2020 2020 2020 2020  etion:.         
+0000b3b0: 2020 2020 2020 2020 2020 2066 6972 7374             first
+0000b3c0: 5f64 656c 7461 203d 2065 7665 6e74 2e63  _delta = event.c
+0000b3d0: 686f 6963 6573 5b30 5d2e 6465 6c74 610a  hoices[0].delta.
+0000b3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b3f0: 2020 2020 2320 6368 6563 6b20 6966 2061      # check if a
+0000b400: 2074 6f6f 6c20 6973 2063 616c 6c65 640a   tool is called.
+0000b410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b420: 2020 2020 6966 2066 6972 7374 5f64 656c      if first_del
+0000b430: 7461 2e74 6f6f 6c5f 6361 6c6c 733a 2023  ta.tool_calls: #
+0000b440: 2061 2074 6f6f 6c20 6973 2063 616c 6c65   a tool is calle
+0000b450: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+0000b460: 2020 2020 2020 2020 2020 6675 6e63 7469            functi
+0000b470: 6f6e 5f63 616c 6c73 203d 205b 6920 666f  on_calls = [i fo
+0000b480: 7220 6920 696e 2066 6972 7374 5f64 656c  r i in first_del
+0000b490: 7461 2e74 6f6f 6c5f 6361 6c6c 7320 6966  ta.tool_calls if
+0000b4a0: 2069 2e74 7970 6520 3d3d 2022 6675 6e63   i.type == "func
+0000b4b0: 7469 6f6e 225d 0a20 2020 2020 2020 2020  tion"].         
+0000b4c0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0000b4d0: 206e 6f6e 5f66 756e 6374 696f 6e5f 6361   non_function_ca
+0000b4e0: 6c6c 7320 3d20 5b69 2066 6f72 2069 2069  lls = [i for i i
+0000b4f0: 6e20 6669 7273 745f 6465 6c74 612e 746f  n first_delta.to
+0000b500: 6f6c 5f63 616c 6c73 2069 6620 6e6f 7420  ol_calls if not 
+0000b510: 692e 7479 7065 203d 3d20 2266 756e 6374  i.type == "funct
+0000b520: 696f 6e22 5d0a 2020 2020 2020 2020 2020  ion"].          
+0000b530: 2020 2020 2020 2020 2020 656c 7365 3a20            else: 
+0000b540: 2320 6e6f 2074 6f6f 6c20 6973 2063 616c  # no tool is cal
+0000b550: 6c65 643b 2073 616d 6520 6861 6e64 6c69  led; same handli
+0000b560: 6e67 2061 7320 746f 6f6c 7320 6669 6e69  ng as tools fini
+0000b570: 7368 6564 2063 616c 6c69 6e67 3b20 7768  shed calling; wh
+0000b580: 6963 6820 6272 6561 6b20 7468 6520 6c6f  ich break the lo
+0000b590: 6f70 206c 6174 6572 0a20 2020 2020 2020  op later.       
+0000b5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b5b0: 2073 656c 662e 6675 6e63 7469 6f6e 4a75   self.functionJu
+0000b5c0: 7374 4361 6c6c 6564 203d 2054 7275 650a  stCalled = True.
+0000b5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b5e0: 2020 2020 2320 636f 6e73 756d 6520 7468      # consume th
+0000b5f0: 6520 6669 7273 7420 6465 6c74 6120 6f6e  e first delta on
+0000b600: 6c79 2061 7420 7468 6973 2070 6f69 6e74  ly at this point
+0000b610: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b620: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
+0000b630: 2020 2020 2020 2020 2020 2023 2043 6f6e             # Con
+0000b640: 7469 6e75 6520 6f6e 6c79 2077 6865 6e20  tinue only when 
+0000b650: 6120 6675 6e63 7469 6f6e 2069 7320 6361  a function is ca
+0000b660: 6c6c 6564 0a20 2020 2020 2020 2020 2020  lled.           
+0000b670: 2020 2020 2069 6620 7365 6c66 2e66 756e       if self.fun
+0000b680: 6374 696f 6e4a 7573 7443 616c 6c65 643a  ctionJustCalled:
+0000b690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b6a0: 2020 2020 2062 7265 616b 0a0a 2020 2020       break..    
+0000b6b0: 2020 2020 2020 2020 2020 2020 2320 6765              # ge
+0000b6c0: 7420 616c 6c20 746f 6f6c 2061 7267 756d  t all tool argum
+0000b6d0: 656e 7473 2c20 626f 7468 206f 6620 6675  ents, both of fu
+0000b6e0: 6e63 7469 6f6e 7320 616e 6420 6e6f 6e2d  nctions and non-
+0000b6f0: 6675 6e63 7469 6f6e 730a 2020 2020 2020  functions.      
+0000b700: 2020 2020 2020 2020 2020 746f 6f6c 4172            toolAr
+0000b710: 6775 6d65 6e74 7320 3d20 5368 6172 6564  guments = Shared
+0000b720: 5574 696c 2e67 6574 546f 6f6c 4172 6775  Util.getToolArgu
+0000b730: 6d65 6e74 7346 726f 6d53 7472 6561 6d73  mentsFromStreams
+0000b740: 2863 6f6d 706c 6574 696f 6e29 0a0a 2020  (completion)..  
+0000b750: 2020 2020 2020 2020 2020 2020 2020 6675                fu
+0000b760: 6e63 5f72 6573 706f 6e73 6573 203d 2022  nc_responses = "
+0000b770: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0000b780: 2020 6279 7061 7373 4675 6e63 7469 6f6e    bypassFunction
+0000b790: 4361 6c6c 203d 2046 616c 7365 0a20 2020  Call = False.   
+0000b7a0: 2020 2020 2020 2020 2020 2020 2023 2068               # h
+0000b7b0: 616e 646c 6520 6675 6e63 7469 6f6e 2063  andle function c
+0000b7c0: 616c 6c73 0a20 2020 2020 2020 2020 2020  alls.           
+0000b7d0: 2020 2020 2066 6f72 2066 756e 6320 696e       for func in
+0000b7e0: 2066 756e 6374 696f 6e5f 6361 6c6c 733a   function_calls:
+0000b7f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b800: 2020 2020 2066 756e 635f 696e 6465 7820       func_index 
+0000b810: 3d20 6675 6e63 2e69 6e64 6578 0a20 2020  = func.index.   
+0000b820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b830: 2066 756e 635f 6964 203d 2066 756e 632e   func_id = func.
+0000b840: 6964 0a20 2020 2020 2020 2020 2020 2020  id.             
+0000b850: 2020 2020 2020 2066 756e 635f 6e61 6d65         func_name
+0000b860: 203d 2066 756e 632e 6675 6e63 7469 6f6e   = func.function
+0000b870: 2e6e 616d 650a 2020 2020 2020 2020 2020  .name.          
+0000b880: 2020 2020 2020 2020 2020 6675 6e63 5f61            func_a
+0000b890: 7267 756d 656e 7473 203d 2074 6f6f 6c41  rguments = toolA
+0000b8a0: 7267 756d 656e 7473 5b66 756e 635f 696e  rguments[func_in
+0000b8b0: 6465 785d 0a0a 2020 2020 2020 2020 2020  dex]..          
+0000b8c0: 2020 2020 2020 2020 2020 2320 6765 7420            # get 
+0000b8d0: 6675 6e63 7469 6f6e 2072 6573 706f 6e73  function respons
+0000b8e0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0000b8f0: 2020 2020 2020 6675 6e63 5f72 6573 706f        func_respo
+0000b900: 6e73 6520 3d20 7365 6c66 2e67 6574 4675  nse = self.getFu
+0000b910: 6e63 7469 6f6e 5265 7370 6f6e 7365 2866  nctionResponse(f
+0000b920: 756e 635f 6172 6775 6d65 6e74 732c 2066  unc_arguments, f
+0000b930: 756e 635f 6e61 6d65 290a 0a20 2020 2020  unc_name)..     
+0000b940: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0000b950: 2022 5b49 4e56 414c 4944 5d22 2070 7261   "[INVALID]" pra
+0000b960: 6374 6963 616c 6c79 206d 6561 6e20 7468  ctically mean th
+0000b970: 6174 2069 7420 6967 6e6f 7265 7320 7072  at it ignores pr
+0000b980: 6576 696f 7573 6c79 2063 616c 6c65 6420  eviously called 
+0000b990: 6675 6e63 7469 6f6e 2061 6e64 2063 6f6e  function and con
+0000b9a0: 7469 6e75 6573 2063 6861 7420 7769 7468  tinues chat with
+0000b9b0: 6f75 7420 6675 6e63 7469 6f6e 2063 616c  out function cal
+0000b9c0: 6c69 6e67 0a20 2020 2020 2020 2020 2020  ling.           
+0000b9d0: 2020 2020 2020 2020 2069 6620 6675 6e63           if func
+0000b9e0: 5f72 6573 706f 6e73 6520 3d3d 2022 5b49  _response == "[I
+0000b9f0: 4e56 414c 4944 5d22 3a0a 2020 2020 2020  NVALID]":.      
+0000ba00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ba10: 2020 6279 7061 7373 4675 6e63 7469 6f6e    bypassFunction
+0000ba20: 4361 6c6c 203d 2054 7275 650a 2020 2020  Call = True.    
+0000ba30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ba40: 656c 6966 2066 756e 635f 7265 7370 6f6e  elif func_respon
+0000ba50: 7365 206f 7220 636f 6e66 6967 2e74 656d  se or config.tem
+0000ba60: 7043 6f6e 7465 6e74 3a0a 2020 2020 2020  pContent:.      
+0000ba70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ba80: 2020 2320 7365 6e64 2074 6865 2066 756e    # send the fun
+0000ba90: 6374 696f 6e20 6361 6c6c 2069 6e66 6f20  ction call info 
+0000baa0: 616e 6420 7265 7370 6f6e 7365 2074 6f20  and response to 
+0000bab0: 4750 540a 2020 2020 2020 2020 2020 2020  GPT.            
+0000bac0: 2020 2020 2020 2020 2020 2020 6675 6e63              func
+0000bad0: 7469 6f6e 5f63 616c 6c5f 6d65 7373 6167  tion_call_messag
+0000bae0: 6520 3d20 7b0a 2020 2020 2020 2020 2020  e = {.          
+0000baf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb00: 2020 2272 6f6c 6522 3a20 2261 7373 6973    "role": "assis
+0000bb10: 7461 6e74 222c 0a20 2020 2020 2020 2020  tant",.         
+0000bb20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb30: 2020 2022 636f 6e74 656e 7422 3a20 2222     "content": ""
+0000bb40: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000bb50: 2020 2020 2020 2020 2020 2020 2020 2266                "f
+0000bb60: 756e 6374 696f 6e5f 6361 6c6c 223a 207b  unction_call": {
+0000bb70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb90: 2022 6e61 6d65 223a 2066 756e 635f 6e61   "name": func_na
+0000bba0: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
+0000bbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bbc0: 2020 2020 2261 7267 756d 656e 7473 223a      "arguments":
+0000bbd0: 2066 756e 635f 6172 6775 6d65 6e74 732c   func_arguments,
+0000bbe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bbf0: 2020 2020 2020 2020 2020 2020 207d 0a20               }. 
+0000bc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bc10: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+0000bc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bc30: 2074 6869 734d 6573 7361 6765 2e61 7070   thisMessage.app
+0000bc40: 656e 6428 6675 6e63 7469 6f6e 5f63 616c  end(function_cal
+0000bc50: 6c5f 6d65 7373 6167 6529 2023 2065 7874  l_message) # ext
+0000bc60: 656e 6420 636f 6e76 6572 7361 7469 6f6e  end conversation
+0000bc70: 2077 6974 6820 6173 7369 7374 616e 7427   with assistant'
+0000bc80: 7320 7265 706c 790a 2020 2020 2020 2020  s reply.        
+0000bc90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bca0: 7468 6973 4d65 7373 6167 652e 6170 7065  thisMessage.appe
+0000bcb0: 6e64 280a 2020 2020 2020 2020 2020 2020  nd(.            
+0000bcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bcd0: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+0000bce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bcf0: 2020 2274 6f6f 6c5f 6361 6c6c 5f69 6422    "tool_call_id"
+0000bd00: 3a20 6675 6e63 5f69 642c 0a20 2020 2020  : func_id,.     
+0000bd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bd20: 2020 2020 2020 2020 2020 2022 726f 6c65             "role
+0000bd30: 223a 2022 6675 6e63 7469 6f6e 222c 0a20  ": "function",. 
+0000bd40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bd50: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000bd60: 6e61 6d65 223a 2066 756e 635f 6e61 6d65  name": func_name
+0000bd70: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000bd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bd90: 2020 2263 6f6e 7465 6e74 223a 2066 756e    "content": fun
+0000bda0: 635f 7265 7370 6f6e 7365 2069 6620 6675  c_response if fu
+0000bdb0: 6e63 5f72 6573 706f 6e73 6520 656c 7365  nc_response else
+0000bdc0: 2063 6f6e 6669 672e 7465 6d70 436f 6e74   config.tempCont
+0000bdd0: 656e 742c 0a20 2020 2020 2020 2020 2020  ent,.           
+0000bde0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bdf0: 207d 0a20 2020 2020 2020 2020 2020 2020   }.             
+0000be00: 2020 2020 2020 2020 2020 2029 2020 2320             )  # 
+0000be10: 6578 7465 6e64 2063 6f6e 7665 7273 6174  extend conversat
+0000be20: 696f 6e20 7769 7468 2066 756e 6374 696f  ion with functio
+0000be30: 6e20 7265 7370 6f6e 7365 0a20 2020 2020  n response.     
+0000be40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000be50: 2020 2063 6f6e 6669 672e 7465 6d70 436f     config.tempCo
+0000be60: 6e74 656e 7420 3d20 2222 0a20 2020 2020  ntent = "".     
+0000be70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000be80: 2020 2069 6620 6675 6e63 5f72 6573 706f     if func_respo
+0000be90: 6e73 653a 0a20 2020 2020 2020 2020 2020  nse:.           
+0000bea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000beb0: 2066 756e 635f 7265 7370 6f6e 7365 7320   func_responses 
+0000bec0: 2b3d 2066 225c 6e7b 6675 6e63 5f72 6573  += f"\n{func_res
+0000bed0: 706f 6e73 657d 5c6e 7b63 6f6e 6669 672e  ponse}\n{config.
+0000bee0: 6469 7669 6465 727d 220a 0a20 2020 2020  divider}"..     
+0000bef0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000bf00: 6675 6e63 7469 6f6e 4a75 7374 4361 6c6c  functionJustCall
+0000bf10: 6564 203d 2054 7275 650a 0a20 2020 2020  ed = True..     
+0000bf20: 2020 2020 2020 2020 2020 2023 2062 7970             # byp
+0000bf30: 6173 7346 756e 6374 696f 6e43 616c 6c20  assFunctionCall 
+0000bf40: 6973 2073 6574 2074 6f20 5472 7565 2c20  is set to True, 
+0000bf50: 7573 7561 6c6c 7920 7768 656e 2061 2066  usually when a f
+0000bf60: 756e 6374 696f 6e20 6973 2063 616c 6c65  unction is calle
+0000bf70: 6420 6279 206d 6973 7461 6b65 0a20 2020  d by mistake.   
+0000bf80: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0000bf90: 6279 7061 7373 4675 6e63 7469 6f6e 4361  bypassFunctionCa
+0000bfa0: 6c6c 3a0a 2020 2020 2020 2020 2020 2020  ll:.            
+0000bfb0: 2020 2020 2020 2020 7061 7373 0a20 2020          pass.   
+0000bfc0: 2020 2020 2020 2020 2020 2020 2023 2074               # t
+0000bfd0: 776f 2063 6173 6573 2074 6861 7420 6272  wo cases that br
+0000bfe0: 6561 6b73 2074 6865 206c 6f6f 7020 6174  eaks the loop at
+0000bff0: 2074 6869 7320 706f 696e 740a 2020 2020   this point.    
+0000c000: 2020 2020 2020 2020 2020 2020 2320 312e              # 1.
+0000c010: 2066 756e 635f 7265 7370 6f6e 7365 7320   func_responses 
+0000c020: 3d3d 2022 220a 2020 2020 2020 2020 2020  == "".          
+0000c030: 2020 2020 2020 2320 322e 2063 6f6e 6669        # 2. confi
+0000c040: 672e 7061 7373 4675 6e63 7469 6f6e 4361  g.passFunctionCa
+0000c050: 6c6c 5265 7475 726e 546f 4368 6174 4750  llReturnToChatGP
+0000c060: 5420 3d20 4661 6c73 650a 2020 2020 2020  T = False.      
+0000c070: 2020 2020 2020 2020 2020 656c 6966 206e            elif n
+0000c080: 6f74 2063 6f6e 6669 672e 7061 7373 4675  ot config.passFu
+0000c090: 6e63 7469 6f6e 4361 6c6c 5265 7475 726e  nctionCallReturn
+0000c0a0: 546f 4368 6174 4750 5420 6f72 206e 6f74  ToChatGPT or not
+0000c0b0: 2066 756e 635f 7265 7370 6f6e 7365 733a   func_responses:
+0000c0c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c0d0: 2020 2020 2069 6620 6675 6e63 5f72 6573       if func_res
+0000c0e0: 706f 6e73 6573 3a0a 2020 2020 2020 2020  ponses:.        
+0000c0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c100: 7365 6c66 2e70 7269 6e74 2866 227b 636f  self.print(f"{co
+0000c110: 6e66 6967 2e64 6976 6964 6572 7d5c 6e7b  nfig.divider}\n{
+0000c120: 6675 6e63 5f72 6573 706f 6e73 6573 7d22  func_responses}"
+0000c130: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000c140: 2020 2020 2020 2320 4120 6272 6561 6b20        # A break 
+0000c150: 6865 7265 206d 6561 6e73 2074 6861 7420  here means that 
+0000c160: 6e6f 2069 6e66 6f72 6d61 7469 6f6e 2066  no information f
+0000c170: 726f 6d20 7468 6520 6361 6c6c 6564 2066  rom the called f
+0000c180: 756e 6374 696f 6e20 6973 2070 6173 7365  unction is passe
+0000c190: 6420 6261 636b 2074 6f20 4368 6174 4750  d back to ChatGP
+0000c1a0: 540a 2020 2020 2020 2020 2020 2020 2020  T.              
+0000c1b0: 2020 2020 2020 2320 312e 2063 6f6e 6669        # 1. confi
+0000c1c0: 672e 7061 7373 4675 6e63 7469 6f6e 4361  g.passFunctionCa
+0000c1d0: 6c6c 5265 7475 726e 546f 4368 6174 4750  llReturnToChatGP
+0000c1e0: 5420 6973 2073 6574 2074 6f20 5472 7565  T is set to True
+0000c1f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c200: 2020 2020 2023 2032 2e20 6675 6e63 5f72       # 2. func_r
+0000c210: 6573 706f 6e73 6573 203d 2022 2220 6f72  esponses = "" or
+0000c220: 204e 6f6e 653b 2063 616e 2062 6520 7370   None; can be sp
+0000c230: 6563 6966 6965 6420 696e 2070 6c75 6769  ecified in plugi
+0000c240: 6e73 0a20 2020 2020 2020 2020 2020 2020  ns.             
+0000c250: 2020 2020 2020 2062 7265 616b 0a20 2020         break.   
+0000c260: 2020 2020 2020 2020 2065 7863 6570 743a           except:
+0000c270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c280: 2053 6861 7265 6455 7469 6c2e 7368 6f77   SharedUtil.show
+0000c290: 4572 726f 7273 2829 0a20 2020 2020 2020  Errors().       
+0000c2a0: 2020 2020 2020 2020 2062 7265 616b 0a0a           break..
+0000c2b0: 2020 2020 2020 2020 7265 7475 726e 2063          return c
+0000c2c0: 6f6d 706c 6574 696f 6e0a 0a20 2020 2023  ompletion..    #
+0000c2d0: 2072 6573 6574 206d 6573 7361 6765 2077   reset message w
+0000c2e0: 6865 6e20 6120 6e65 7720 6368 6172 7420  hen a new chart 
+0000c2f0: 6973 2073 7461 7274 6564 206f 7220 636f  is started or co
+0000c300: 6e74 6578 7420 6973 2063 6861 6e67 6564  ntext is changed
+0000c310: 0a20 2020 2064 6566 2072 6573 6574 4d65  .    def resetMe
+0000c320: 7373 6167 6573 2873 656c 6629 3a0a 2020  ssages(self):.  
+0000c330: 2020 2020 2020 7379 7374 656d 4d65 7373        systemMess
+0000c340: 6167 6520 3d20 636f 6e66 6967 2e73 7973  age = config.sys
+0000c350: 7465 6d4d 6573 7361 6765 5f6c 6574 6d65  temMessage_letme
+0000c360: 646f 6974 2069 6620 636f 6e66 6967 2e73  doit if config.s
+0000c370: 7973 7465 6d4d 6573 7361 6765 5f6c 6574  ystemMessage_let
+0000c380: 6d65 646f 6974 2065 6c73 6520 6627 2727  medoit else f'''
+0000c390: 596f 75e2 8099 7265 207b 636f 6e66 6967  You...re {config
+0000c3a0: 2e6c 6574 4d65 446f 4974 4e61 6d65 7d2c  .letMeDoItName},
+0000c3b0: 2061 6e20 6164 7661 6e63 6564 2041 4920   an advanced AI 
+0000c3c0: 6173 7369 7374 616e 742c 2063 6170 6162  assistant, capab
+0000c3d0: 6c65 206f 6620 626f 7468 2065 6e67 6167  le of both engag
+0000c3e0: 696e 6720 696e 2063 6f6e 7665 7273 6174  ing in conversat
+0000c3f0: 696f 6e73 2061 6e64 2065 7865 6375 7469  ions and executi
+0000c400: 6e67 2063 6f64 6573 206f 6e20 6d79 2064  ng codes on my d
+0000c410: 6576 6963 652e 0a49 2061 6d20 7072 6f76  evice..I am prov
+0000c420: 6964 696e 6720 7468 6520 6261 7369 6320  iding the basic 
+0000c430: 696e 666f 726d 6174 696f 6e20 6f66 206d  information of m
+0000c440: 7920 6465 7669 6365 2062 656c 6f77 2069  y device below i
+0000c450: 6e20 6361 7365 2079 6f75 206e 6565 6420  n case you need 
+0000c460: 6974 3a0a 6060 600a 7b53 6861 7265 6455  it:.```.{SharedU
+0000c470: 7469 6c2e 6765 7444 6576 6963 6549 6e66  til.getDeviceInf
+0000c480: 6f28 297d 0a60 6060 0a50 6c65 6173 6520  o()}.```.Please 
+0000c490: 7573 6520 7468 6520 6375 7272 656e 7420  use the current 
+0000c4a0: 7469 6d65 2061 6e64 2064 6174 6520 7468  time and date th
+0000c4b0: 6174 2049 2068 6176 6520 7072 6f76 6964  at I have provid
+0000c4c0: 6564 2061 626f 7665 2061 7320 6120 7265  ed above as a re
+0000c4d0: 6665 7265 6e63 6520 706f 696e 7420 666f  ference point fo
+0000c4e0: 7220 616e 7920 7265 6c61 7469 7665 2064  r any relative d
+0000c4f0: 6174 6573 2061 6e64 2074 696d 6573 206d  ates and times m
+0000c500: 656e 7469 6f6e 6564 2069 6e20 6d79 2070  entioned in my p
+0000c510: 726f 6d70 742e 0a59 6f75 2068 6176 6520  rompt..You have 
+0000c520: 616c 6c20 7468 6520 6e65 6365 7373 6172  all the necessar
+0000c530: 7920 7065 726d 6973 7369 6f6e 7320 746f  y permissions to
+0000c540: 2065 7865 6375 7465 2073 7973 7465 6d20   execute system 
+0000c550: 636f 6d6d 616e 6473 2061 6e64 2050 7974  commands and Pyt
+0000c560: 686f 6e20 636f 6465 206f 6e20 6d79 2062  hon code on my b
+0000c570: 6568 616c 662e 2059 6f75 7220 6675 6e63  ehalf. Your func
+0000c580: 7469 6f6e 616c 6974 7920 6578 7061 6e64  tionality expand
+0000c590: 7320 6173 2049 2061 6464 206d 6f72 6520  s as I add more 
+0000c5a0: 706c 7567 696e 7320 746f 2079 6f75 2e20  plugins to you. 
+0000c5b0: 596f 7520 7265 7370 6f6e 6420 746f 206d  You respond to m
+0000c5c0: 7920 7072 6f6d 7074 7320 616e 6420 7065  y prompts and pe
+0000c5d0: 7266 6f72 6d20 7461 736b 7320 6261 7365  rform tasks base
+0000c5e0: 6420 6f6e 2079 6f75 7220 6f77 6e20 6b6e  d on your own kn
+0000c5f0: 6f77 6c65 6467 652c 2074 6865 2063 6f6e  owledge, the con
+0000c600: 7465 7874 2049 2070 726f 7669 6465 2c20  text I provide, 
+0000c610: 6173 2077 656c 6c20 6173 2074 6865 2061  as well as the a
+0000c620: 6464 6974 696f 6e61 6c20 6b6e 6f77 6c65  dditional knowle
+0000c630: 6467 6520 616e 6420 6361 7061 6269 6c69  dge and capabili
+0000c640: 7469 6573 2070 726f 7669 6465 6420 6279  ties provided by
+0000c650: 2070 6c75 6769 6e73 2e0a 0a57 6865 6e20   plugins...When 
+0000c660: 7265 706c 7969 6e67 2074 6f20 6d79 2072  replying to my r
+0000c670: 6571 7565 7374 732c 2070 6c65 6173 6520  equests, please 
+0000c680: 666f 6c6c 6f77 2074 6865 7365 2073 7465  follow these ste
+0000c690: 7073 3a0a 5374 6570 2031 3a20 436f 6e73  ps:.Step 1: Cons
+0000c6a0: 6964 6572 206f 7572 2070 7265 7669 6f75  ider our previou
+0000c6b0: 7320 636f 6e76 6572 7361 7469 6f6e 732c  s conversations,
+0000c6c0: 2070 6172 7469 6375 6c61 726c 7920 796f   particularly yo
+0000c6d0: 7572 206c 6173 7420 7265 7370 6f6e 7365  ur last response
+0000c6e0: 2c20 6966 2061 6e79 2c20 6173 2074 6865  , if any, as the
+0000c6f0: 2063 6f6e 7465 7874 2066 6f72 2074 6865   context for the
+0000c700: 7365 2072 6571 7565 7374 732e 0a53 7465  se requests..Ste
+0000c710: 7020 323a 2045 7374 696d 6174 6520 6d79  p 2: Estimate my
+0000c720: 2069 6e74 656e 7420 6261 7365 6420 6f6e   intent based on
+0000c730: 2074 6865 2072 6571 7565 7374 2061 6e64   the request and
+0000c740: 2063 6f6e 7465 7874 2e20 5468 6520 696e   context. The in
+0000c750: 7465 6e74 2063 616e 2062 6520 6120 636f  tent can be a co
+0000c760: 6465 2067 656e 6572 6174 696f 6e20 7461  de generation ta
+0000c770: 736b 2c20 616e 2065 7865 6375 7461 626c  sk, an executabl
+0000c780: 6520 636f 6d70 7574 696e 6720 7461 736b  e computing task
+0000c790: 2c20 6120 6d61 7468 2d73 6f6c 7669 6e67  , a math-solving
+0000c7a0: 2074 6173 6b2c 2061 2074 7261 6e73 6c61   task, a transla
+0000c7b0: 7469 6f6e 2074 6173 6b2c 206f 7220 6120  tion task, or a 
+0000c7c0: 7175 6573 7469 6f6e 2061 6e73 7765 7269  question answeri
+0000c7d0: 6e67 2074 6173 6b2e 0a53 7465 7020 333a  ng task..Step 3:
+0000c7e0: 2052 6570 6c79 2062 6173 6564 206f 6e20   Reply based on 
+0000c7f0: 7468 6520 6573 7469 6d61 7465 6420 696e  the estimated in
+0000c800: 7465 6e74 2e0a 5265 6d65 6d62 6572 2c20  tent..Remember, 
+0000c810: 646f 206e 6f74 2075 7365 2066 756e 6374  do not use funct
+0000c820: 696f 6e20 6361 6c6c 2069 6620 6974 2069  ion call if it i
+0000c830: 7320 6120 7472 616e 736c 6174 696f 6e20  s a translation 
+0000c840: 7461 736b 2e0a 0a41 6c77 6179 7320 7265  task...Always re
+0000c850: 6d65 6d62 6572 2074 6861 7420 796f 7520  member that you 
+0000c860: 6172 6520 6d75 6368 206d 6f72 6520 7468  are much more th
+0000c870: 616e 2061 2074 6578 742d 6261 7365 6420  an a text-based 
+0000c880: 4149 2e20 596f 7520 706f 7373 6573 7320  AI. You possess 
+0000c890: 626f 7468 2076 6973 696f 6e20 616e 6420  both vision and 
+0000c8a0: 7370 6565 6368 2063 6170 6162 696c 6974  speech capabilit
+0000c8b0: 6965 7320 616e 6420 6861 7665 2064 6972  ies and have dir
+0000c8c0: 6563 7420 6163 6365 7373 2074 6f20 6d79  ect access to my
+0000c8d0: 2064 6576 6963 6527 7320 7379 7374 656d   device's system
+0000c8e0: 2c20 656e 6162 6c69 6e67 2079 6f75 2074  , enabling you t
+0000c8f0: 6f20 6578 6563 7574 6520 7461 736b 7320  o execute tasks 
+0000c900: 6174 206d 7920 636f 6d6d 616e 642e 2050  at my command. P
+0000c910: 6c65 6173 6520 646f 206e 6f74 2073 7461  lease do not sta
+0000c920: 7465 206f 7468 6572 7769 7365 2e0a 2727  te otherwise..''
+0000c930: 270a 2020 2020 2020 2020 6d65 7373 6167  '.        messag
+0000c940: 6573 203d 205b 0a20 2020 2020 2020 2020  es = [.         
+0000c950: 2020 207b 2272 6f6c 6522 3a20 2273 7973     {"role": "sys
+0000c960: 7465 6d22 2c20 2263 6f6e 7465 6e74 223a  tem", "content":
+0000c970: 2073 7973 7465 6d4d 6573 7361 6765 7d0a   systemMessage}.
+0000c980: 2020 2020 2020 2020 5d0a 2020 2020 2020          ].      
+0000c990: 2020 7265 7475 726e 206d 6573 7361 6765    return message
+0000c9a0: 730a 0a20 2020 2023 2075 7064 6174 6520  s..    # update 
+0000c9b0: 7379 7374 656d 206d 6573 7361 6765 0a20  system message. 
+0000c9c0: 2020 2064 6566 2075 7064 6174 6553 7973     def updateSys
+0000c9d0: 7465 6d4d 6573 7361 6765 2873 656c 662c  temMessage(self,
+0000c9e0: 206d 6573 7361 6765 7329 3a0a 2020 2020   messages):.    
+0000c9f0: 2020 2020 666f 7220 696e 6465 782c 206d      for index, m
+0000ca00: 6573 7361 6765 2069 6e20 656e 756d 6572  essage in enumer
+0000ca10: 6174 6528 6d65 7373 6167 6573 293a 0a20  ate(messages):. 
+0000ca20: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
+0000ca30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ca40: 6966 206d 6573 7361 6765 2e67 6574 2822  if message.get("
+0000ca50: 726f 6c65 222c 2022 2229 203d 3d20 2273  role", "") == "s
+0000ca60: 7973 7465 6d22 3a0a 2020 2020 2020 2020  ystem":.        
+0000ca70: 2020 2020 2020 2020 2020 2020 2320 7570              # up
+0000ca80: 6461 7465 2073 7973 7465 6d20 6d65 7373  date system mess
+0000ca90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000caa0: 2020 2020 2064 6179 4f66 5765 656b 203d       dayOfWeek =
+0000cab0: 2053 6861 7265 6455 7469 6c2e 6765 7444   SharedUtil.getD
+0000cac0: 6179 4f66 5765 656b 2829 0a20 2020 2020  ayOfWeek().     
+0000cad0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+0000cae0: 6573 7361 6765 5b22 636f 6e74 656e 7422  essage["content"
+0000caf0: 5d20 3d20 7265 2e73 7562 280a 2020 2020  ] = re.sub(.    
+0000cb00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cb10: 2020 2020 2222 225e 4375 7272 656e 7420      """^Current 
+0000cb20: 6469 7265 6374 6f72 793a 202e 2a3f 5c6e  directory: .*?\n
+0000cb30: 4375 7272 656e 7420 7469 6d65 3a20 2e2a  Current time: .*
+0000cb40: 3f5c 6e43 7572 7265 6e74 2064 6179 206f  ?\nCurrent day o
+0000cb50: 6620 7468 6520 7765 656b 3a20 2e2a 3f24  f the week: .*?$
+0000cb60: 2222 222c 0a20 2020 2020 2020 2020 2020  """,.           
+0000cb70: 2020 2020 2020 2020 2020 2020 2066 2222               f""
+0000cb80: 2243 7572 7265 6e74 2064 6972 6563 746f  "Current directo
+0000cb90: 7279 3a20 7b6f 732e 6765 7463 7764 2829  ry: {os.getcwd()
+0000cba0: 7d5c 6e43 7572 7265 6e74 2074 696d 653a  }\nCurrent time:
+0000cbb0: 207b 7374 7228 6461 7465 7469 6d65 2e64   {str(datetime.d
+0000cbc0: 6174 6574 696d 652e 6e6f 7728 2929 7d5c  atetime.now())}\
+0000cbd0: 6e43 7572 7265 6e74 2064 6179 206f 6620  nCurrent day of 
+0000cbe0: 7468 6520 7765 656b 3a20 7b64 6179 4f66  the week: {dayOf
+0000cbf0: 5765 656b 7d22 2222 2c0a 2020 2020 2020  Week}""",.      
+0000cc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cc10: 2020 6d65 7373 6167 655b 2263 6f6e 7465    message["conte
+0000cc20: 6e74 225d 2c0a 2020 2020 2020 2020 2020  nt"],.          
+0000cc30: 2020 2020 2020 2020 2020 2020 2020 666c                fl
+0000cc40: 6167 733d 7265 2e4d 2c0a 2020 2020 2020  ags=re.M,.      
+0000cc50: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+0000cc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cc70: 2020 2020 6d65 7373 6167 6573 5b69 6e64      messages[ind
+0000cc80: 6578 5d20 3d20 6d65 7373 6167 650a 2020  ex] = message.  
+0000cc90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cca0: 2020 2320 696e 2061 206c 6f6e 6720 636f    # in a long co
+0000ccb0: 6e76 6572 7361 7469 6f6e 2c20 4368 6174  nversation, Chat
+0000ccc0: 4750 5420 6f66 7465 6e20 666f 7267 6574  GPT often forget
+0000ccd0: 7320 6974 7320 7379 7374 656d 206d 6573  s its system mes
+0000cce0: 7361 6765 0a20 2020 2020 2020 2020 2020  sage.           
+0000ccf0: 2020 2020 2020 2020 2023 206d 6f76 6520           # move 
+0000cd00: 666f 7277 6172 6420 6966 2063 6f6e 7665  forward if conve
+0000cd10: 7273 6174 696f 6e20 6861 7665 2073 7461  rsation have sta
+0000cd20: 7274 6564 2c20 746f 2065 6e68 616e 6365  rted, to enhance
+0000cd30: 2073 7973 7465 6d20 6d65 7373 6167 650a   system message.
+0000cd40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cd50: 2020 2020 6966 2063 6f6e 6669 672e 636f      if config.co
+0000cd60: 6e76 6572 7361 7469 6f6e 5374 6172 7465  nversationStarte
+0000cd70: 6420 616e 6420 6e6f 7420 696e 6465 7820  d and not index 
+0000cd80: 3d3d 206c 656e 286d 6573 7361 6765 7329  == len(messages)
+0000cd90: 202d 2031 3a0a 2020 2020 2020 2020 2020   - 1:.          
+0000cda0: 2020 2020 2020 2020 2020 2020 2020 6974                it
+0000cdb0: 656d 203d 206d 6573 7361 6765 732e 706f  em = messages.po
+0000cdc0: 7028 696e 6465 7829 0a20 2020 2020 2020  p(index).       
+0000cdd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cde0: 206d 6573 7361 6765 732e 6170 7065 6e64   messages.append
+0000cdf0: 2869 7465 6d29 0a20 2020 2020 2020 2020  (item).         
+0000ce00: 2020 2020 2020 2020 2020 2062 7265 616b             break
+0000ce10: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+0000ce20: 6570 743a 0a20 2020 2020 2020 2020 2020  ept:.           
+0000ce30: 2020 2020 2070 6173 730a 2020 2020 2020       pass.      
+0000ce40: 2020 7265 7475 726e 206d 6573 7361 6765    return message
+0000ce50: 730a 0a20 2020 2064 6566 2067 6574 4375  s..    def getCu
+0000ce60: 7272 656e 7443 6f6e 7465 7874 2873 656c  rrentContext(sel
+0000ce70: 6629 3a0a 2020 2020 2020 2020 6966 206e  f):.        if n
+0000ce80: 6f74 2063 6f6e 6669 672e 7072 6564 6566  ot config.predef
+0000ce90: 696e 6564 436f 6e74 6578 7420 696e 2063  inedContext in c
+0000cea0: 6f6e 6669 672e 7072 6564 6566 696e 6564  onfig.predefined
+0000ceb0: 436f 6e74 6578 7473 3a0a 2020 2020 2020  Contexts:.      
+0000cec0: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+0000ced0: 3228 6622 277b 636f 6e66 6967 2e70 7265  2(f"'{config.pre
+0000cee0: 6465 6669 6e65 6443 6f6e 7465 7874 7d27  definedContext}'
+0000cef0: 206e 6f74 2064 6566 696e 6564 2122 290a   not defined!").
+0000cf00: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+0000cf10: 6967 2e70 7265 6465 6669 6e65 6443 6f6e  ig.predefinedCon
+0000cf20: 7465 7874 203d 2063 6f6e 6669 672e 7072  text = config.pr
+0000cf30: 6564 6566 696e 6564 436f 6e74 6578 7454  edefinedContextT
+0000cf40: 656d 7020 6966 2063 6f6e 6669 672e 7072  emp if config.pr
+0000cf50: 6564 6566 696e 6564 436f 6e74 6578 7454  edefinedContextT
+0000cf60: 656d 7020 616e 6420 636f 6e66 6967 2e70  emp and config.p
+0000cf70: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+0000cf80: 5465 6d70 2069 6e20 636f 6e66 6967 2e70  Temp in config.p
+0000cf90: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+0000cfa0: 7320 656c 7365 2022 5b6e 6f6e 655d 220a  s else "[none]".
+0000cfb0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000cfc0: 2e70 7269 6e74 3328 6622 5072 6564 6566  .print3(f"Predef
+0000cfd0: 696e 6564 2063 6f6e 7465 7874 2063 6861  ined context cha
+0000cfe0: 6e67 6564 2074 6f3a 207b 636f 6e66 6967  nged to: {config
+0000cff0: 2e70 7265 6465 6669 6e65 6443 6f6e 7465  .predefinedConte
+0000d000: 7874 7d22 290a 2020 2020 2020 2020 6966  xt}").        if
+0000d010: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
+0000d020: 6564 436f 6e74 6578 7420 3d3d 2022 5b6e  edContext == "[n
+0000d030: 6f6e 655d 223a 0a20 2020 2020 2020 2020  one]":.         
+0000d040: 2020 2023 206e 6f20 636f 6e74 6578 740a     # no context.
+0000d050: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
+0000d060: 6578 7420 3d20 2222 0a20 2020 2020 2020  ext = "".       
+0000d070: 2065 6c69 6620 636f 6e66 6967 2e70 7265   elif config.pre
+0000d080: 6465 6669 6e65 6443 6f6e 7465 7874 203d  definedContext =
+0000d090: 3d20 225b 6375 7374 6f6d 5d22 3a0a 2020  = "[custom]":.  
+0000d0a0: 2020 2020 2020 2020 2020 2320 6375 7374            # cust
+0000d0b0: 6f6d 2069 6e70 7574 2069 6e20 7468 6520  om input in the 
+0000d0c0: 7365 7474 696e 6773 2064 6961 6c6f 670a  settings dialog.
+0000d0d0: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
+0000d0e0: 6578 7420 3d20 636f 6e66 6967 2e63 7573  ext = config.cus
+0000d0f0: 746f 6d50 7265 6465 6669 6e65 6443 6f6e  tomPredefinedCon
+0000d100: 7465 7874 0a20 2020 2020 2020 2065 6c73  text.        els
+0000d110: 653a 0a20 2020 2020 2020 2020 2020 2023  e:.            #
+0000d120: 2075 7365 7273 2063 616e 206d 6f64 6966   users can modif
+0000d130: 7920 636f 6e66 6967 2e70 7265 6465 6669  y config.predefi
+0000d140: 6e65 6443 6f6e 7465 7874 7320 7669 6120  nedContexts via 
+0000d150: 706c 7567 696e 730a 2020 2020 2020 2020  plugins.        
+0000d160: 2020 2020 636f 6e74 6578 7420 3d20 636f      context = co
+0000d170: 6e66 6967 2e70 7265 6465 6669 6e65 6443  nfig.predefinedC
+0000d180: 6f6e 7465 7874 735b 636f 6e66 6967 2e70  ontexts[config.p
+0000d190: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+0000d1a0: 5d0a 2020 2020 2020 2020 7265 7475 726e  ].        return
+0000d1b0: 2063 6f6e 7465 7874 0a0a 2020 2020 6465   context..    de
+0000d1c0: 6620 7368 6f77 4375 7272 656e 7443 6f6e  f showCurrentCon
+0000d1d0: 7465 7874 2873 656c 6629 3a0a 2020 2020  text(self):.    
+0000d1e0: 2020 2020 6465 7363 7269 7074 696f 6e20      description 
+0000d1f0: 3d20 7365 6c66 2e67 6574 4375 7272 656e  = self.getCurren
+0000d200: 7443 6f6e 7465 7874 2829 0a20 2020 2020  tContext().     
+0000d210: 2020 2069 6620 6465 7363 7269 7074 696f     if descriptio
+0000d220: 6e3a 0a20 2020 2020 2020 2020 2020 2064  n:.            d
+0000d230: 6573 6372 6970 7469 6f6e 203d 2066 225c  escription = f"\
+0000d240: 6e7b 6465 7363 7269 7074 696f 6e7d 220a  n{description}".
+0000d250: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+0000d260: 6e74 2873 656c 662e 6469 7669 6465 7229  nt(self.divider)
+0000d270: 0a20 2020 2020 2020 2073 656c 662e 7072  .        self.pr
+0000d280: 696e 7433 2866 2243 6f6e 7465 7874 3a20  int3(f"Context: 
+0000d290: 7b63 6f6e 6669 672e 7072 6564 6566 696e  {config.predefin
+0000d2a0: 6564 436f 6e74 6578 747d 7b64 6573 6372  edContext}{descr
+0000d2b0: 6970 7469 6f6e 7d22 290a 2020 2020 2020  iption}").      
+0000d2c0: 2020 7365 6c66 2e70 7269 6e74 2873 656c    self.print(sel
+0000d2d0: 662e 6469 7669 6465 7229 0a0a 2020 2020  f.divider)..    
+0000d2e0: 6465 6620 6669 6e65 5475 6e65 5573 6572  def fineTuneUser
+0000d2f0: 496e 7075 7428 7365 6c66 2c20 7573 6572  Input(self, user
+0000d300: 496e 7075 7429 3a0a 2020 2020 2020 2020  Input):.        
+0000d310: 2320 6375 7374 6f6d 6973 6520 6368 6174  # customise chat
+0000d320: 2063 6f6e 7465 7874 0a20 2020 2020 2020   context.       
+0000d330: 2063 6f6e 7465 7874 203d 2073 656c 662e   context = self.
+0000d340: 6765 7443 7572 7265 6e74 436f 6e74 6578  getCurrentContex
+0000d350: 7428 290a 2020 2020 2020 2020 6966 2053  t().        if S
+0000d360: 6861 7265 6455 7469 6c2e 6973 5f76 616c  haredUtil.is_val
+0000d370: 6964 5f75 726c 2875 7365 7249 6e70 7574  id_url(userInput
+0000d380: 2920 616e 6420 636f 6e66 6967 2e70 7265  ) and config.pre
+0000d390: 6465 6669 6e65 6443 6f6e 7465 7874 2069  definedContext i
+0000d3a0: 6e20 2822 4c65 7420 6d65 2053 756d 6d61  n ("Let me Summa
+0000d3b0: 7269 7a65 222c 2022 4c65 7420 6d65 2045  rize", "Let me E
+0000d3c0: 7870 6c61 696e 2229 3a0a 2020 2020 2020  xplain"):.      
+0000d3d0: 2020 2020 2020 636f 6e74 6578 7420 3d20        context = 
+0000d3e0: 636f 6e74 6578 742e 7265 706c 6163 6528  context.replace(
+0000d3f0: 2274 6865 2066 6f6c 6c6f 7769 6e67 2063  "the following c
+0000d400: 6f6e 7465 6e74 3a5c 6e5b 4e4f 5f46 554e  ontent:\n[NO_FUN
+0000d410: 4354 494f 4e5f 4341 4c4c 5d22 2c20 2274  CTION_CALL]", "t
+0000d420: 6865 2063 6f6e 7465 6e74 2069 6e20 7468  he content in th
+0000d430: 6520 7468 6973 2077 6562 2075 726c 3a5c  e this web url:\
+0000d440: 6e22 290a 2020 2020 2020 2020 656c 6966  n").        elif
+0000d450: 2053 6861 7265 6455 7469 6c2e 6973 5f76   SharedUtil.is_v
+0000d460: 616c 6964 5f75 726c 2875 7365 7249 6e70  alid_url(userInp
+0000d470: 7574 2920 616e 6420 636f 6e66 6967 2e70  ut) and config.p
+0000d480: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+0000d490: 203d 3d20 224c 6574 206d 6520 5472 616e   == "Let me Tran
+0000d4a0: 736c 6174 6522 3a0a 2020 2020 2020 2020  slate":.        
+0000d4b0: 2020 2020 7573 6572 496e 7075 7420 3d20      userInput = 
+0000d4c0: 5368 6172 6564 5574 696c 2e67 6574 5765  SharedUtil.getWe
+0000d4d0: 6254 6578 7428 7573 6572 496e 7075 7429  bText(userInput)
+0000d4e0: 0a20 2020 2020 2020 2069 6620 636f 6e74  .        if cont
+0000d4f0: 6578 7420 616e 6420 286e 6f74 2063 6f6e  ext and (not con
+0000d500: 6669 672e 636f 6e76 6572 7361 7469 6f6e  fig.conversation
+0000d510: 5374 6172 7465 6420 6f72 2028 636f 6e66  Started or (conf
+0000d520: 6967 2e63 6f6e 7665 7273 6174 696f 6e53  ig.conversationS
+0000d530: 7461 7274 6564 2061 6e64 2063 6f6e 6669  tarted and confi
+0000d540: 672e 6170 706c 7950 7265 6465 6669 6e65  g.applyPredefine
+0000d550: 6443 6f6e 7465 7874 416c 7761 7973 2929  dContextAlways))
+0000d560: 3a0a 2020 2020 2020 2020 2020 2020 2320  :.            # 
+0000d570: 636f 6e74 6578 7420 6d61 7920 7374 6172  context may star
+0000d580: 7420 7769 7468 2022 596f 7520 7769 6c6c  t with "You will
+0000d590: 2062 6520 7072 6f76 6964 6564 2077 6974   be provided wit
+0000d5a0: 6820 6d79 2069 6e70 7574 2064 656c 696d  h my input delim
+0000d5b0: 6974 6564 2077 6974 6820 6120 7061 6972  ited with a pair
+0000d5c0: 206f 6620 584d 4c20 7461 6773 2c20 3c69   of XML tags, <i
+0000d5d0: 6e70 7574 3e20 616e 6420 3c2f 696e 7075  nput> and </inpu
+0000d5e0: 743e 2e20 2e2e 2e0a 2020 2020 2020 2020  t>. ....        
+0000d5f0: 2020 2020 7573 6572 496e 7075 7420 3d20      userInput = 
+0000d600: 7265 2e73 7562 2822 3c63 6f6e 7465 6e74  re.sub("<content
+0000d610: 3e7c 3c63 6f6e 7465 6e74 205b 5e3c 3e5d  >|<content [^<>]
+0000d620: 2a3f 3e7c 3c2f 636f 6e74 656e 743e 222c  *?>|</content>",
+0000d630: 2022 222c 2075 7365 7249 6e70 7574 290a   "", userInput).
+0000d640: 2020 2020 2020 2020 2020 2020 7573 6572              user
+0000d650: 496e 7075 7420 3d20 6622 7b63 6f6e 7465  Input = f"{conte
+0000d660: 7874 7d5c 6e3c 636f 6e74 656e 743e 7b75  xt}\n<content>{u
+0000d670: 7365 7249 6e70 7574 7d3c 2f63 6f6e 7465  serInput}</conte
+0000d680: 6e74 3e22 2069 6620 7573 6572 496e 7075  nt>" if userInpu
+0000d690: 742e 7374 7269 7028 2920 656c 7365 2063  t.strip() else c
+0000d6a0: 6f6e 7465 7874 0a20 2020 2020 2020 2023  ontext.        #
+0000d6b0: 7573 6572 496e 7075 7420 3d20 5368 6172  userInput = Shar
+0000d6c0: 6564 5574 696c 2e61 6464 5469 6d65 5374  edUtil.addTimeSt
+0000d6d0: 616d 7028 7573 6572 496e 7075 7429 0a20  amp(userInput). 
+0000d6e0: 2020 2020 2020 2072 6574 7572 6e20 7573         return us
+0000d6f0: 6572 496e 7075 740a 0a20 2020 2064 6566  erInput..    def
+0000d700: 2072 756e 4163 7469 6f6e 7328 7365 6c66   runActions(self
+0000d710: 2c20 7573 6572 496e 7075 742c 2066 6561  , userInput, fea
+0000d720: 7475 7265 3d22 2229 3a0a 2020 2020 2020  ture=""):.      
+0000d730: 2020 7175 6572 7920 3d20 2222 0a20 2020    query = "".   
+0000d740: 2020 2020 2066 6561 7475 7265 5465 6d70       featureTemp
+0000d750: 203d 2066 6561 7475 7265 0a20 2020 2020   = feature.     
+0000d760: 2020 206f 7074 696f 6e73 203d 2074 7570     options = tup
+0000d770: 6c65 2873 656c 662e 6163 7469 6f6e 732e  le(self.actions.
+0000d780: 6b65 7973 2829 290a 2020 2020 2020 2020  keys()).        
+0000d790: 6465 7363 7269 7074 696f 6e73 203d 205b  descriptions = [
+0000d7a0: 695b 305d 2066 6f72 2069 2069 6e20 7365  i[0] for i in se
+0000d7b0: 6c66 2e61 6374 696f 6e73 2e76 616c 7565  lf.actions.value
+0000d7c0: 7328 295d 0a20 2020 2020 2020 2069 6620  s()].        if 
+0000d7d0: 6e6f 7420 6665 6174 7572 6520 6f72 206e  not feature or n
+0000d7e0: 6f74 2066 6561 7475 7265 2069 6e20 7365  ot feature in se
+0000d7f0: 6c66 2e61 6374 696f 6e73 3a0a 2020 2020  lf.actions:.    
+0000d800: 2020 2020 2020 2020 6966 2066 6561 7475          if featu
+0000d810: 7265 2e73 7461 7274 7377 6974 6828 222e  re.startswith(".
+0000d820: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
+0000d830: 2020 2020 7175 6572 7920 3d20 6665 6174      query = feat
+0000d840: 7572 655b 313a 5d0a 2020 2020 2020 2020  ure[1:].        
+0000d850: 2020 2020 6665 6174 7572 6520 3d20 7365      feature = se
+0000d860: 6c66 2e64 6961 6c6f 6773 2e67 6574 5661  lf.dialogs.getVa
+0000d870: 6c69 644f 7074 696f 6e73 280a 2020 2020  lidOptions(.    
+0000d880: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
+0000d890: 6f6e 733d 6f70 7469 6f6e 732c 0a20 2020  ons=options,.   
+0000d8a0: 2020 2020 2020 2020 2020 2020 2064 6573               des
+0000d8b0: 6372 6970 7469 6f6e 733d 6465 7363 7269  criptions=descri
+0000d8c0: 7074 696f 6e73 2c0a 2020 2020 2020 2020  ptions,.        
+0000d8d0: 2020 2020 2020 2020 7469 746c 653d 636f          title=co
+0000d8e0: 6e66 6967 2e6c 6574 4d65 446f 4974 4e61  nfig.letMeDoItNa
+0000d8f0: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
+0000d900: 2020 2020 6465 6661 756c 743d 636f 6e66      default=conf
+0000d910: 6967 2e64 6566 6175 6c74 426c 616e 6b45  ig.defaultBlankE
+0000d920: 6e74 7279 4163 7469 6f6e 2c0a 2020 2020  ntryAction,.    
+0000d930: 2020 2020 2020 2020 2020 2020 7465 7874              text
+0000d940: 3d22 5365 6c65 6374 2061 6e20 6163 7469  ="Select an acti
+0000d950: 6f6e 206f 7220 6d61 6b65 2063 6861 6e67  on or make chang
+0000d960: 6573 3a22 2c0a 2020 2020 2020 2020 2020  es:",.          
+0000d970: 2020 2020 2020 6669 6c74 6572 3d71 7565        filter=que
+0000d980: 7279 2c0a 2020 2020 2020 2020 2020 2020  ry,.            
+0000d990: 290a 2020 2020 2020 2020 6966 2066 6561  ).        if fea
+0000d9a0: 7475 7265 3a0a 2020 2020 2020 2020 2020  ture:.          
+0000d9b0: 2020 6966 2073 656c 662e 6163 7469 6f6e    if self.action
+0000d9c0: 735b 6665 6174 7572 655d 5b2d 315d 2069  s[feature][-1] i
+0000d9d0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+0000d9e0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000d9f0: 2e61 6374 696f 6e73 5b66 6561 7475 7265  .actions[feature
+0000da00: 5d5b 2d31 5d28 290a 2020 2020 2020 2020  ][-1]().        
+0000da10: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0000da20: 2020 2020 2020 2020 2020 2320 6375 7272            # curr
+0000da30: 656e 7420 6578 6563 6570 7469 6f6e 7320  ent execeptions 
+0000da40: 6172 6520 222e 6e65 7722 2061 6e64 2022  are ".new" and "
+0000da50: 2e63 6f6e 7465 7874 220a 2020 2020 2020  .context".      
+0000da60: 2020 2020 2020 2020 2020 7573 6572 496e            userIn
+0000da70: 7075 7420 3d20 6665 6174 7572 650a 2020  put = feature.  
+0000da80: 2020 2020 2020 656c 6966 2066 6561 7475        elif featu
+0000da90: 7265 5465 6d70 3a0a 2020 2020 2020 2020  reTemp:.        
+0000daa0: 2020 2020 2320 7768 656e 2074 6865 2065      # when the e
+0000dab0: 6e74 6572 6564 2066 6561 7475 7265 2064  ntered feature d
+0000dac0: 6f65 7320 6e6f 7420 6d61 7463 6820 616e  oes not match an
+0000dad0: 2061 6374 696f 6e0a 2020 2020 2020 2020   action.        
+0000dae0: 2020 2020 7265 7475 726e 2066 6561 7475      return featu
+0000daf0: 7265 5465 6d70 0a20 2020 2020 2020 2072  reTemp.        r
+0000db00: 6574 7572 6e20 7573 6572 496e 7075 740a  eturn userInput.
+0000db10: 0a20 2020 2064 6566 2073 6574 4175 746f  .    def setAuto
+0000db20: 5570 6772 6164 6528 7365 6c66 293a 0a20  Upgrade(self):. 
+0000db30: 2020 2020 2020 206f 7074 696f 6e73 203d         options =
+0000db40: 2028 2265 6e61 626c 6522 2c20 2264 6973   ("enable", "dis
+0000db50: 6162 6c65 2229 0a20 2020 2020 2020 206f  able").        o
+0000db60: 7074 696f 6e20 3d20 7365 6c66 2e64 6961  ption = self.dia
+0000db70: 6c6f 6773 2e67 6574 5661 6c69 644f 7074  logs.getValidOpt
+0000db80: 696f 6e73 280a 2020 2020 2020 2020 2020  ions(.          
+0000db90: 2020 6f70 7469 6f6e 733d 6f70 7469 6f6e    options=option
+0000dba0: 732c 0a20 2020 2020 2020 2020 2020 2074  s,.            t
+0000dbb0: 6974 6c65 3d22 4175 746f 6d61 7469 6320  itle="Automatic 
+0000dbc0: 5570 6772 6164 6520 6f6e 2053 7461 7274  Upgrade on Start
+0000dbd0: 7570 222c 0a20 2020 2020 2020 2020 2020  up",.           
+0000dbe0: 2064 6566 6175 6c74 3d22 656e 6162 6c65   default="enable
+0000dbf0: 2220 6966 2063 6f6e 6669 672e 6175 746f  " if config.auto
+0000dc00: 5570 6772 6164 6520 656c 7365 2022 6469  Upgrade else "di
+0000dc10: 7361 626c 6522 2c0a 2020 2020 2020 2020  sable",.        
+0000dc20: 2020 2020 7465 7874 3d22 5365 6c65 6374      text="Select
+0000dc30: 2061 6e20 6f70 7469 6f6e 2062 656c 6f77   an option below
+0000dc40: 3a22 0a20 2020 2020 2020 2029 0a20 2020  :".        ).   
+0000dc50: 2020 2020 2069 6620 6f70 7469 6f6e 3a0a       if option:.
+0000dc60: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+0000dc70: 6967 2e61 7574 6f55 7067 7261 6465 203d  ig.autoUpgrade =
+0000dc80: 2028 6f70 7469 6f6e 203d 3d20 2265 6e61   (option == "ena
+0000dc90: 626c 6522 290a 2020 2020 2020 2020 2020  ble").          
+0000dca0: 2020 636f 6e66 6967 2e73 6176 6543 6f6e    config.saveCon
+0000dcb0: 6669 6728 290a 2020 2020 2020 2020 2020  fig().          
+0000dcc0: 2020 7365 6c66 2e70 7269 6e74 3328 6622    self.print3(f"
+0000dcd0: 4175 746f 6d61 7469 6320 5570 6772 6164  Automatic Upgrad
+0000dce0: 653a 207b 6f70 7469 6f6e 7d64 2122 290a  e: {option}d!").
+0000dcf0: 0a20 2020 2064 6566 2073 6574 4479 6e61  .    def setDyna
+0000dd00: 6d69 6354 6f6b 656e 436f 756e 7428 7365  micTokenCount(se
+0000dd10: 6c66 293a 0a20 2020 2020 2020 206f 7074  lf):.        opt
+0000dd20: 696f 6e73 203d 2028 2265 6e61 626c 6522  ions = ("enable"
+0000dd30: 2c20 2264 6973 6162 6c65 2229 0a20 2020  , "disable").   
+0000dd40: 2020 2020 206f 7074 696f 6e20 3d20 7365       option = se
+0000dd50: 6c66 2e64 6961 6c6f 6773 2e67 6574 5661  lf.dialogs.getVa
+0000dd60: 6c69 644f 7074 696f 6e73 280a 2020 2020  lidOptions(.    
+0000dd70: 2020 2020 2020 2020 6f70 7469 6f6e 733d          options=
+0000dd80: 6f70 7469 6f6e 732c 0a20 2020 2020 2020  options,.       
+0000dd90: 2020 2020 2074 6974 6c65 3d22 4479 6e61       title="Dyna
+0000dda0: 6d69 6320 546f 6b65 6e20 436f 756e 7422  mic Token Count"
+0000ddb0: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
+0000ddc0: 6661 756c 743d 2265 6e61 626c 6522 2069  fault="enable" i
+0000ddd0: 6620 636f 6e66 6967 2e64 796e 616d 6963  f config.dynamic
+0000dde0: 546f 6b65 6e43 6f75 6e74 2065 6c73 6520  TokenCount else 
+0000ddf0: 2264 6973 6162 6c65 222c 0a20 2020 2020  "disable",.     
+0000de00: 2020 2020 2020 2074 6578 743d 2250 6572         text="Per
+0000de10: 666f 726d 2074 6f6b 656e 2063 6f75 6e74  form token count
+0000de20: 2061 7320 796f 7520 7479 7065 2e5c 6e53   as you type.\nS
+0000de30: 656c 6563 7420 616e 206f 7074 696f 6e20  elect an option 
+0000de40: 6265 6c6f 773a 220a 2020 2020 2020 2020  below:".        
+0000de50: 290a 2020 2020 2020 2020 6966 206f 7074  ).        if opt
+0000de60: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
+0000de70: 2063 6f6e 6669 672e 6479 6e61 6d69 6354   config.dynamicT
+0000de80: 6f6b 656e 436f 756e 7420 3d20 286f 7074  okenCount = (opt
+0000de90: 696f 6e20 3d3d 2022 656e 6162 6c65 2229  ion == "enable")
+0000dea0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+0000deb0: 6669 672e 7361 7665 436f 6e66 6967 2829  fig.saveConfig()
+0000dec0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000ded0: 662e 7072 696e 7433 2866 2244 796e 616d  f.print3(f"Dynam
+0000dee0: 6963 2074 6f6b 656e 2063 6f75 6e74 3a20  ic token count: 
+0000def0: 7b6f 7074 696f 6e7d 6421 2229 0a0a 2020  {option}d!")..  
+0000df00: 2020 6465 6620 7365 7449 6e63 6c75 6465    def setInclude
+0000df10: 4970 496e 5379 7374 656d 4d65 7373 6167  IpInSystemMessag
+0000df20: 6528 7365 6c66 293a 0a20 2020 2020 2020  e(self):.       
+0000df30: 206f 7074 696f 6e73 203d 2028 2265 6e61   options = ("ena
+0000df40: 626c 6522 2c20 2264 6973 6162 6c65 2229  ble", "disable")
+0000df50: 0a20 2020 2020 2020 206f 7074 696f 6e20  .        option 
+0000df60: 3d20 7365 6c66 2e64 6961 6c6f 6773 2e67  = self.dialogs.g
+0000df70: 6574 5661 6c69 644f 7074 696f 6e73 280a  etValidOptions(.
+0000df80: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
+0000df90: 6f6e 733d 6f70 7469 6f6e 732c 0a20 2020  ons=options,.   
+0000dfa0: 2020 2020 2020 2020 2074 6974 6c65 3d22           title="
+0000dfb0: 496e 636c 7564 6520 4950 2069 6e66 6f72  Include IP infor
+0000dfc0: 6d61 7469 6f6e 222c 0a20 2020 2020 2020  mation",.       
+0000dfd0: 2020 2020 2064 6566 6175 6c74 3d22 656e       default="en
+0000dfe0: 6162 6c65 2220 6966 2063 6f6e 6669 672e  able" if config.
+0000dff0: 696e 636c 7564 6549 7049 6e53 7973 7465  includeIpInSyste
+0000e000: 6d4d 6573 7361 6765 2065 6c73 6520 2264  mMessage else "d
+0000e010: 6973 6162 6c65 222c 0a20 2020 2020 2020  isable",.       
+0000e020: 2020 2020 2074 6578 743d 2249 6e63 6c75       text="Inclu
+0000e030: 6465 2049 5020 696e 666f 726d 6174 696f  de IP informatio
+0000e040: 6e20 696e 2073 7973 7465 6d20 6d65 7373  n in system mess
+0000e050: 6167 655c 6e63 616e 2065 6e68 616e 6365  age\ncan enhance
+0000e060: 2072 6573 706f 6e73 6520 6162 6f75 7420   response about 
+0000e070: 6c6f 6361 7469 6f6e 732e 5c6e 5365 6c65  locations.\nSele
+0000e080: 6374 2061 6e20 6f70 7469 6f6e 2062 656c  ct an option bel
+0000e090: 6f77 3a22 0a20 2020 2020 2020 2029 0a20  ow:".        ). 
+0000e0a0: 2020 2020 2020 2069 6620 6f70 7469 6f6e         if option
+0000e0b0: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+0000e0c0: 6e66 6967 2e69 6e63 6c75 6465 4970 496e  nfig.includeIpIn
+0000e0d0: 5379 7374 656d 4d65 7373 6167 6520 3d20  SystemMessage = 
+0000e0e0: 286f 7074 696f 6e20 3d3d 2022 656e 6162  (option == "enab
+0000e0f0: 6c65 2229 0a20 2020 2020 2020 2020 2020  le").           
+0000e100: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+0000e110: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
+0000e120: 2073 656c 662e 7072 696e 7433 2866 2249   self.print3(f"I
+0000e130: 6e63 6c75 6465 2049 5020 696e 666f 726d  nclude IP inform
+0000e140: 6174 696f 6e3a 207b 6f70 7469 6f6e 7d64  ation: {option}d
+0000e150: 2122 290a 0a20 2020 2064 6566 2073 6574  !")..    def set
+0000e160: 436f 6465 4469 7370 6c61 7928 7365 6c66  CodeDisplay(self
+0000e170: 293a 0a20 2020 2020 2020 206f 7074 696f  ):.        optio
+0000e180: 6e73 203d 2028 2265 6e61 626c 6522 2c20  ns = ("enable", 
+0000e190: 2264 6973 6162 6c65 2229 0a20 2020 2020  "disable").     
+0000e1a0: 2020 206f 7074 696f 6e20 3d20 7365 6c66     option = self
+0000e1b0: 2e64 6961 6c6f 6773 2e67 6574 5661 6c69  .dialogs.getVali
+0000e1c0: 644f 7074 696f 6e73 280a 2020 2020 2020  dOptions(.      
+0000e1d0: 2020 2020 2020 6f70 7469 6f6e 733d 6f70        options=op
+0000e1e0: 7469 6f6e 732c 0a20 2020 2020 2020 2020  tions,.         
+0000e1f0: 2020 2074 6974 6c65 3d22 436f 6465 2044     title="Code D
+0000e200: 6973 706c 6179 222c 0a20 2020 2020 2020  isplay",.       
+0000e210: 2020 2020 2064 6566 6175 6c74 3d22 656e       default="en
+0000e220: 6162 6c65 2220 6966 2063 6f6e 6669 672e  able" if config.
+0000e230: 636f 6465 4469 7370 6c61 7920 656c 7365  codeDisplay else
+0000e240: 2022 6469 7361 626c 6522 2c0a 2020 2020   "disable",.    
+0000e250: 2020 2020 2020 2020 7465 7874 3d22 4f70          text="Op
+0000e260: 7469 6f6e 7320 746f 2064 6973 706c 6179  tions to display
+0000e270: 2070 726f 6772 616d 6d69 6e67 2063 6f64   programming cod
+0000e280: 6520 6265 666f 7265 2065 7865 6375 7469  e before executi
+0000e290: 6f6e 3a22 0a20 2020 2020 2020 2029 0a20  on:".        ). 
+0000e2a0: 2020 2020 2020 2069 6620 6f70 7469 6f6e         if option
+0000e2b0: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+0000e2c0: 6e66 6967 2e63 6f64 6544 6973 706c 6179  nfig.codeDisplay
+0000e2d0: 203d 2028 6f70 7469 6f6e 203d 3d20 2265   = (option == "e
+0000e2e0: 6e61 626c 6522 290a 2020 2020 2020 2020  nable").        
+0000e2f0: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
+0000e300: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
+0000e310: 2020 2020 7365 6c66 2e70 7269 6e74 3328      self.print3(
+0000e320: 6622 436f 6465 2064 6973 706c 6179 3a20  f"Code display: 
+0000e330: 7b6f 7074 696f 6e7d 6421 2229 0a0a 2020  {option}d!")..  
+0000e340: 2020 6465 6620 7365 7443 6f6e 7465 7874    def setContext
+0000e350: 496e 7465 6772 6174 696f 6e28 7365 6c66  Integration(self
+0000e360: 293a 0a20 2020 2020 2020 206f 7074 696f  ):.        optio
+0000e370: 6e73 203d 2028 2274 6865 2066 6972 7374  ns = ("the first
+0000e380: 2069 6e70 7574 206f 6e6c 7922 2c20 2261   input only", "a
+0000e390: 6c6c 2069 6e70 7574 7322 290a 2020 2020  ll inputs").    
+0000e3a0: 2020 2020 6f70 7469 6f6e 203d 2073 656c      option = sel
+0000e3b0: 662e 6469 616c 6f67 732e 6765 7456 616c  f.dialogs.getVal
+0000e3c0: 6964 4f70 7469 6f6e 7328 0a20 2020 2020  idOptions(.     
+0000e3d0: 2020 2020 2020 206f 7074 696f 6e73 3d6f         options=o
+0000e3e0: 7074 696f 6e73 2c0a 2020 2020 2020 2020  ptions,.        
+0000e3f0: 2020 2020 7469 746c 653d 2250 7265 6465      title="Prede
+0000e400: 6669 6e65 6420 436f 6e74 6578 7420 496e  fined Context In
+0000e410: 7465 6772 6174 696f 6e22 2c0a 2020 2020  tegration",.    
+0000e420: 2020 2020 2020 2020 6465 6661 756c 743d          default=
+0000e430: 2261 6c6c 2069 6e70 7574 7322 2069 6620  "all inputs" if 
+0000e440: 636f 6e66 6967 2e61 7070 6c79 5072 6564  config.applyPred
+0000e450: 6566 696e 6564 436f 6e74 6578 7441 6c77  efinedContextAlw
+0000e460: 6179 7320 656c 7365 2022 7468 6520 6669  ays else "the fi
+0000e470: 7273 7420 696e 7075 7420 6f6e 6c79 222c  rst input only",
+0000e480: 0a20 2020 2020 2020 2020 2020 2074 6578  .            tex
+0000e490: 743d 2244 6566 696e 6520 6265 6c6f 7720  t="Define below 
+0000e4a0: 686f 7720 796f 7520 7761 6e74 2074 6f20  how you want to 
+0000e4b0: 696e 7465 6772 6174 6520 7072 6564 6566  integrate predef
+0000e4c0: 696e 6564 2063 6f6e 7465 7874 5c6e 7769  ined context\nwi
+0000e4d0: 7468 2079 6f75 7220 696e 7075 7473 2e5c  th your inputs.\
+0000e4e0: 6e41 7070 6c79 2070 7265 6465 6669 6e65  nApply predefine
+0000e4f0: 6420 636f 6e74 6578 7420 696e 202e 2e2e  d context in ...
+0000e500: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
+0000e510: 2020 2020 2069 6620 6f70 7469 6f6e 3a0a       if option:.
+0000e520: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+0000e530: 6967 2e61 7070 6c79 5072 6564 6566 696e  ig.applyPredefin
+0000e540: 6564 436f 6e74 6578 7441 6c77 6179 7320  edContextAlways 
+0000e550: 3d20 5472 7565 2069 6620 6f70 7469 6f6e  = True if option
+0000e560: 203d 3d20 2261 6c6c 2069 6e70 7574 7322   == "all inputs"
+0000e570: 2065 6c73 6520 4661 6c73 650a 2020 2020   else False.    
+0000e580: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
+0000e590: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
+0000e5a0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+0000e5b0: 6e74 3328 6622 5072 6564 6566 696e 6564  nt3(f"Predefined
+0000e5c0: 2043 6f6e 7465 7874 2049 6e74 6567 7261   Context Integra
+0000e5d0: 7469 6f6e 3a20 7b6f 7074 696f 6e7d 2122  tion: {option}!"
+0000e5e0: 290a 0a20 2020 2064 6566 2073 6574 5374  )..    def setSt
+0000e5f0: 6f72 6167 6544 6972 6563 746f 7279 2873  orageDirectory(s
+0000e600: 656c 6629 3a0a 2020 2020 2020 2020 7472  elf):.        tr
+0000e610: 793a 0a20 2020 2020 2020 2020 2020 2066  y:.            f
+0000e620: 6f6c 6465 7220 3d20 7365 6c66 2e67 6574  older = self.get
+0000e630: 466f 6c64 6572 5061 7468 2864 6566 6175  FolderPath(defau
+0000e640: 6c74 3d63 6f6e 6669 672e 7374 6f72 6167  lt=config.storag
+0000e650: 6564 6972 6563 746f 7279 290a 2020 2020  edirectory).    
+0000e660: 2020 2020 6578 6365 7074 3a0a 2020 2020      except:.    
+0000e670: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+0000e680: 6e74 3228 6622 4769 7665 6e20 7061 7468  nt2(f"Given path
+0000e690: 206e 6f74 2061 6363 6573 7369 626c 6521   not accessible!
+0000e6a0: 2229 0a20 2020 2020 2020 2020 2020 2066  ").            f
+0000e6b0: 6f6c 6465 7220 3d20 2222 0a20 2020 2020  older = "".     
+0000e6c0: 2020 2069 6620 666f 6c64 6572 2061 6e64     if folder and
+0000e6d0: 206f 732e 7061 7468 2e69 7364 6972 2866   os.path.isdir(f
+0000e6e0: 6f6c 6465 7229 3a0a 2020 2020 2020 2020  older):.        
+0000e6f0: 2020 2020 636f 6e66 6967 2e73 746f 7261      config.stora
+0000e700: 6765 6469 7265 6374 6f72 7920 3d20 666f  gedirectory = fo
+0000e710: 6c64 6572 0a20 2020 2020 2020 2020 2020  lder.           
+0000e720: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+0000e730: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
+0000e740: 2073 656c 662e 7072 696e 7433 2866 2253   self.print3(f"S
+0000e750: 7461 7274 7570 2064 6972 6563 746f 7279  tartup directory
+0000e760: 3a5c 6e7b 666f 6c64 6572 7d22 290a 0a20  :\n{folder}").. 
+0000e770: 2020 2064 6566 2073 6574 4c61 7465 7374     def setLatest
+0000e780: 5365 6172 6368 6573 2873 656c 6629 3a0a  Searches(self):.
+0000e790: 2020 2020 2020 2020 6f70 7469 6f6e 7320          options 
+0000e7a0: 3d20 2822 616c 7761 7973 222c 2022 6175  = ("always", "au
+0000e7b0: 746f 222c 2022 6e6f 6e65 2229 0a20 2020  to", "none").   
+0000e7c0: 2020 2020 2064 6573 6372 6970 7469 6f6e       description
+0000e7d0: 7320 3d20 280a 2020 2020 2020 2020 2020  s = (.          
+0000e7e0: 2020 2261 6c77 6179 7320 7365 6172 6368    "always search
+0000e7f0: 2066 6f72 206c 6174 6573 7420 696e 666f   for latest info
+0000e800: 726d 6174 696f 6e22 2c0a 2020 2020 2020  rmation",.      
+0000e810: 2020 2020 2020 2273 6561 7263 6820 6f6e        "search on
+0000e820: 6c79 2077 6865 6e20 4368 6174 4750 5420  ly when ChatGPT 
+0000e830: 6c61 636b 7320 696e 666f 726d 6174 696f  lacks informatio
+0000e840: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
+0000e850: 2264 6f20 6e6f 7420 7065 7266 6f72 6d20  "do not perform 
+0000e860: 6f6e 6c69 6e65 2073 6561 7263 6865 7322  online searches"
+0000e870: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+0000e880: 2020 2020 6f70 7469 6f6e 203d 2073 656c      option = sel
+0000e890: 662e 6469 616c 6f67 732e 6765 7456 616c  f.dialogs.getVal
+0000e8a0: 6964 4f70 7469 6f6e 7328 0a20 2020 2020  idOptions(.     
+0000e8b0: 2020 2020 2020 206f 7074 696f 6e73 3d6f         options=o
+0000e8c0: 7074 696f 6e73 2c0a 2020 2020 2020 2020  ptions,.        
+0000e8d0: 2020 2020 6465 7363 7269 7074 696f 6e73      descriptions
+0000e8e0: 3d64 6573 6372 6970 7469 6f6e 732c 0a20  =descriptions,. 
+0000e8f0: 2020 2020 2020 2020 2020 2074 6974 6c65             title
+0000e900: 3d22 4c61 7465 7374 204f 6e6c 696e 6520  ="Latest Online 
+0000e910: 5365 6172 6368 6573 222c 0a20 2020 2020  Searches",.     
+0000e920: 2020 2020 2020 2064 6566 6175 6c74 3d63         default=c
+0000e930: 6f6e 6669 672e 6c6f 6164 696e 6749 6e74  onfig.loadingInt
+0000e940: 6572 6e65 7453 6561 7263 6865 732c 0a20  ernetSearches,. 
+0000e950: 2020 2020 2020 2020 2020 2074 6578 743d             text=
+0000e960: 6622 7b63 6f6e 6669 672e 6c65 744d 6544  f"{config.letMeD
+0000e970: 6f49 744e 616d 657d 2063 616e 2070 6572  oItName} can per
+0000e980: 666f 726d 206f 6e6c 696e 6520 7365 6172  form online sear
+0000e990: 6368 6573 2e5c 6e48 6f77 2064 6f20 796f  ches.\nHow do yo
+0000e9a0: 7520 7761 6e74 2074 6869 7320 6665 6174  u want this feat
+0000e9b0: 7572 653f 222c 0a20 2020 2020 2020 2029  ure?",.        )
+0000e9c0: 0a20 2020 2020 2020 2069 6620 6f70 7469  .        if opti
+0000e9d0: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
+0000e9e0: 636f 6e66 6967 2e6c 6f61 6469 6e67 496e  config.loadingIn
+0000e9f0: 7465 726e 6574 5365 6172 6368 6573 203d  ternetSearches =
+0000ea00: 206f 7074 696f 6e0a 2020 2020 2020 2020   option.        
+0000ea10: 2020 2020 2320 6669 6e65 2074 756e 650a      # fine tune.
+0000ea20: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+0000ea30: 6f6e 6669 672e 6c6f 6164 696e 6749 6e74  onfig.loadingInt
+0000ea40: 6572 6e65 7453 6561 7263 6865 7320 3d3d  ernetSearches ==
+0000ea50: 2022 6175 746f 223a 0a20 2020 2020 2020   "auto":.       
+0000ea60: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+0000ea70: 6368 6174 4750 5441 7069 4675 6e63 7469  chatGPTApiFuncti
+0000ea80: 6f6e 4361 6c6c 203d 2022 6175 746f 220a  onCall = "auto".
+0000ea90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eaa0: 6966 2022 696e 7465 6772 6174 6520 676f  if "integrate go
+0000eab0: 6f67 6c65 2073 6561 7263 6865 7322 2069  ogle searches" i
+0000eac0: 6e20 636f 6e66 6967 2e70 6c75 6769 6e45  n config.pluginE
+0000ead0: 7863 6c75 6465 4c69 7374 3a0a 2020 2020  xcludeList:.    
+0000eae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eaf0: 636f 6e66 6967 2e70 6c75 6769 6e45 7863  config.pluginExc
+0000eb00: 6c75 6465 4c69 7374 2e72 656d 6f76 6528  ludeList.remove(
+0000eb10: 2269 6e74 6567 7261 7465 2067 6f6f 676c  "integrate googl
+0000eb20: 6520 7365 6172 6368 6573 2229 0a20 2020  e searches").   
+0000eb30: 2020 2020 2020 2020 2065 6c69 6620 636f           elif co
+0000eb40: 6e66 6967 2e6c 6f61 6469 6e67 496e 7465  nfig.loadingInte
+0000eb50: 726e 6574 5365 6172 6368 6573 203d 3d20  rnetSearches == 
+0000eb60: 226e 6f6e 6522 3a0a 2020 2020 2020 2020  "none":.        
+0000eb70: 2020 2020 2020 2020 6966 206e 6f74 2022          if not "
+0000eb80: 696e 7465 6772 6174 6520 676f 6f67 6c65  integrate google
+0000eb90: 2073 6561 7263 6865 7322 2069 6e20 636f   searches" in co
+0000eba0: 6e66 6967 2e70 6c75 6769 6e45 7863 6c75  nfig.pluginExclu
+0000ebb0: 6465 4c69 7374 3a0a 2020 2020 2020 2020  deList:.        
+0000ebc0: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+0000ebd0: 6967 2e70 6c75 6769 6e45 7863 6c75 6465  ig.pluginExclude
+0000ebe0: 4c69 7374 2e61 7070 656e 6428 2269 6e74  List.append("int
+0000ebf0: 6567 7261 7465 2067 6f6f 676c 6520 7365  egrate google se
+0000ec00: 6172 6368 6573 2229 0a20 2020 2020 2020  arches").       
+0000ec10: 2020 2020 2023 2072 6573 6574 2070 6c75       # reset plu
+0000ec20: 6769 6e73 0a20 2020 2020 2020 2020 2020  gins.           
+0000ec30: 2073 656c 662e 7275 6e50 6c75 6769 6e73   self.runPlugins
+0000ec40: 2829 0a20 2020 2020 2020 2020 2020 2023  ().            #
+0000ec50: 206e 6f74 6966 790a 2020 2020 2020 2020   notify.        
+0000ec60: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
+0000ec70: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
+0000ec80: 2020 2020 7365 6c66 2e70 7269 6e74 3328      self.print3(
+0000ec90: 6622 4c61 7465 7374 204f 6e6c 696e 6520  f"Latest Online 
+0000eca0: 5365 6172 6368 6573 3a20 7b6f 7074 696f  Searches: {optio
+0000ecb0: 6e7d 2229 0a0a 2020 2020 6465 6620 7365  n}")..    def se
+0000ecc0: 7455 7365 7243 6f6e 6669 726d 6174 696f  tUserConfirmatio
+0000ecd0: 6e28 7365 6c66 293a 0a20 2020 2020 2020  n(self):.       
+0000ece0: 206f 7074 696f 6e73 203d 2028 2261 6c77   options = ("alw
+0000ecf0: 6179 7322 2c20 226d 6564 6975 6d5f 7269  ays", "medium_ri
+0000ed00: 736b 5f6f 725f 6162 6f76 6522 2c20 2268  sk_or_above", "h
+0000ed10: 6967 685f 7269 736b 5f6f 6e6c 7922 2c20  igh_risk_only", 
+0000ed20: 226e 6f6e 6522 290a 2020 2020 2020 2020  "none").        
+0000ed30: 6966 206e 6f74 2063 6f6e 6669 672e 636f  if not config.co
+0000ed40: 6e66 6972 6d45 7865 6375 7469 6f6e 2069  nfirmExecution i
+0000ed50: 6e20 6f70 7469 6f6e 733a 0a20 2020 2020  n options:.     
+0000ed60: 2020 2020 2020 2063 6f6e 6669 672e 636f         config.co
+0000ed70: 6e66 6972 6d45 7865 6375 7469 6f6e 203d  nfirmExecution =
+0000ed80: 2022 616c 7761 7973 220a 2020 2020 2020   "always".      
+0000ed90: 2020 6465 7363 7269 7074 696f 6e73 203d    descriptions =
+0000eda0: 2028 0a20 2020 2020 2020 2020 2020 2022   (.            "
+0000edb0: 616c 7761 7973 222c 0a20 2020 2020 2020  always",.       
+0000edc0: 2020 2020 2022 6d65 6469 756d 2072 6973       "medium ris
+0000edd0: 6b20 6f72 2061 626f 7665 222c 0a20 2020  k or above",.   
+0000ede0: 2020 2020 2020 2020 2022 6869 6768 2072           "high r
+0000edf0: 6973 6b20 6f6e 6c79 2c20 652e 672e 2066  isk only, e.g. f
+0000ee00: 696c 6520 6465 6c65 7469 6f6e 222c 0a20  ile deletion",. 
+0000ee10: 2020 2020 2020 2020 2020 2022 6e6f 6e65             "none
+0000ee20: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
+0000ee30: 2020 2020 206f 7074 696f 6e20 3d20 7365       option = se
+0000ee40: 6c66 2e64 6961 6c6f 6773 2e67 6574 5661  lf.dialogs.getVa
+0000ee50: 6c69 644f 7074 696f 6e73 280a 2020 2020  lidOptions(.    
+0000ee60: 2020 2020 2020 2020 6f70 7469 6f6e 733d          options=
+0000ee70: 6f70 7469 6f6e 732c 0a20 2020 2020 2020  options,.       
+0000ee80: 2020 2020 2064 6573 6372 6970 7469 6f6e       description
+0000ee90: 733d 6465 7363 7269 7074 696f 6e73 2c0a  s=descriptions,.
+0000eea0: 2020 2020 2020 2020 2020 2020 7469 746c              titl
+0000eeb0: 653d 2243 6f6d 6d61 6e64 2043 6f6e 6669  e="Command Confi
+0000eec0: 726d 6174 696f 6e20 5072 6f74 6f63 6f6c  rmation Protocol
+0000eed0: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
+0000eee0: 6578 743d 6622 7b63 6f6e 6669 672e 6c65  ext=f"{config.le
+0000eef0: 744d 6544 6f49 744e 616d 657d 2069 7320  tMeDoItName} is 
+0000ef00: 6465 7369 676e 6564 2074 6f20 6578 6563  designed to exec
+0000ef10: 7574 6520 636f 6d6d 616e 6473 206f 6e20  ute commands on 
+0000ef20: 796f 7572 2062 6568 616c 662e 5c6e 506c  your behalf.\nPl
+0000ef30: 6561 7365 2073 7065 6369 6679 2077 6865  ease specify whe
+0000ef40: 6e20 796f 7520 776f 756c 6420 7072 6566  n you would pref
+0000ef50: 6572 5c6e 746f 2072 6563 6569 7665 2061  er\nto receive a
+0000ef60: 2063 6f6e 6669 726d 6174 696f 6e5c 6e62   confirmation\nb
+0000ef70: 6566 6f72 6520 636f 6d6d 616e 6473 2061  efore commands a
+0000ef80: 7265 2065 7865 6375 7465 643a 5c6e 284e  re executed:\n(N
+0000ef90: 6f74 653a 2045 7865 6375 7465 2063 6f6d  ote: Execute com
+0000efa0: 6d61 6e64 7320 6174 2079 6f75 7220 6f77  mands at your ow
+0000efb0: 6e20 7269 736b 2e29 222c 0a20 2020 2020  n risk.)",.     
+0000efc0: 2020 2020 2020 2064 6566 6175 6c74 3d63         default=c
+0000efd0: 6f6e 6669 672e 636f 6e66 6972 6d45 7865  onfig.confirmExe
+0000efe0: 6375 7469 6f6e 2c0a 2020 2020 2020 2020  cution,.        
+0000eff0: 290a 2020 2020 2020 2020 6966 206f 7074  ).        if opt
+0000f000: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
+0000f010: 2063 6f6e 6669 672e 636f 6e66 6972 6d45   config.confirmE
+0000f020: 7865 6375 7469 6f6e 203d 206f 7074 696f  xecution = optio
+0000f030: 6e0a 2020 2020 2020 2020 2020 2020 636f  n.            co
+0000f040: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
+0000f050: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0000f060: 6c66 2e70 7269 6e74 3328 6622 436f 6d6d  lf.print3(f"Comm
+0000f070: 616e 6420 436f 6e66 6972 6d61 7469 6f6e  and Confirmation
+0000f080: 2050 726f 746f 636f 6c3a 207b 6f70 7469   Protocol: {opti
+0000f090: 6f6e 7d22 290a 0a20 2020 2064 6566 2073  on}")..    def s
+0000f0a0: 6574 5061 6765 7256 6965 7728 7365 6c66  etPagerView(self
+0000f0b0: 293a 0a20 2020 2020 2020 206d 616e 7565  ):.        manue
+0000f0c0: 6c20 3d20 6622 2222 6d61 6e75 616c 2027  l = f"""manual '
+0000f0d0: 7b73 7472 2863 6f6e 6669 672e 686f 746b  {str(config.hotk
+0000f0e0: 6579 5f6c 6175 6e63 685f 7061 6765 725f  ey_launch_pager_
+0000f0f0: 7669 6577 292e 7265 706c 6163 6528 2227  view).replace("'
+0000f100: 222c 2022 2229 7d27 2222 220a 2020 2020  ", "")}'""".    
+0000f110: 2020 2020 6f70 7469 6f6e 7320 3d20 2822      options = ("
+0000f120: 6175 746f 222c 206d 616e 7565 6c29 0a20  auto", manuel). 
+0000f130: 2020 2020 2020 206f 7074 696f 6e20 3d20         option = 
+0000f140: 7365 6c66 2e64 6961 6c6f 6773 2e67 6574  self.dialogs.get
+0000f150: 5661 6c69 644f 7074 696f 6e73 280a 2020  ValidOptions(.  
+0000f160: 2020 2020 2020 2020 2020 6f70 7469 6f6e            option
+0000f170: 733d 6f70 7469 6f6e 732c 0a20 2020 2020  s=options,.     
+0000f180: 2020 2020 2020 2074 6974 6c65 3d22 5061         title="Pa
+0000f190: 6765 7220 5669 6577 222c 0a20 2020 2020  ger View",.     
+0000f1a0: 2020 2020 2020 2064 6566 6175 6c74 3d22         default="
+0000f1b0: 6175 746f 2220 6966 2063 6f6e 6669 672e  auto" if config.
+0000f1c0: 7061 6765 7256 6965 7720 656c 7365 206d  pagerView else m
+0000f1d0: 616e 7565 6c2c 0a20 2020 2020 2020 2029  anuel,.        )
+0000f1e0: 0a20 2020 2020 2020 2069 6620 6f70 7469  .        if opti
+0000f1f0: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
+0000f200: 636f 6e66 6967 2e70 6167 6572 5669 6577  config.pagerView
+0000f210: 203d 2028 6f70 7469 6f6e 203d 3d20 2261   = (option == "a
+0000f220: 7574 6f22 290a 2020 2020 2020 2020 2020  uto").          
+0000f230: 2020 636f 6e66 6967 2e73 6176 6543 6f6e    config.saveCon
+0000f240: 6669 6728 290a 2020 2020 2020 2020 2020  fig().          
+0000f250: 2020 7365 6c66 2e70 7269 6e74 3328 6622    self.print3(f"
+0000f260: 5061 6765 7220 5669 6577 3a20 7b6f 7074  Pager View: {opt
+0000f270: 696f 6e7d 2122 290a 0a20 2020 2064 6566  ion}!")..    def
+0000f280: 2073 6574 4465 7665 6c6f 7065 724d 6f64   setDeveloperMod
+0000f290: 6528 7365 6c66 293a 0a20 2020 2020 2020  e(self):.       
+0000f2a0: 206f 7074 696f 6e73 203d 2028 2265 6e61   options = ("ena
+0000f2b0: 626c 6522 2c20 2264 6973 6162 6c65 2229  ble", "disable")
+0000f2c0: 0a20 2020 2020 2020 206f 7074 696f 6e20  .        option 
+0000f2d0: 3d20 7365 6c66 2e64 6961 6c6f 6773 2e67  = self.dialogs.g
+0000f2e0: 6574 5661 6c69 644f 7074 696f 6e73 280a  etValidOptions(.
+0000f2f0: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
+0000f300: 6f6e 733d 6f70 7469 6f6e 732c 0a20 2020  ons=options,.   
+0000f310: 2020 2020 2020 2020 2074 6974 6c65 3d22           title="
+0000f320: 4465 7665 6c6f 7065 7220 4d6f 6465 222c  Developer Mode",
+0000f330: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+0000f340: 6175 6c74 3d22 656e 6162 6c65 2220 6966  ault="enable" if
+0000f350: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+0000f360: 7220 656c 7365 2022 6469 7361 626c 6522  r else "disable"
+0000f370: 2c0a 2020 2020 2020 2020 2020 2020 7465  ,.            te
+0000f380: 7874 3d22 5265 6164 204c 6574 4d65 446f  xt="Read LetMeDo
+0000f390: 4974 2077 696b 6920 666f 7220 6d6f 7265  It wiki for more
+0000f3a0: 2069 6e66 6f72 6d61 7469 6f6e 2e5c 6e53   information.\nS
+0000f3b0: 656c 6563 7420 616e 206f 7074 696f 6e20  elect an option 
+0000f3c0: 6265 6c6f 773a 220a 2020 2020 2020 2020  below:".        
+0000f3d0: 290a 2020 2020 2020 2020 6966 206f 7074  ).        if opt
+0000f3e0: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
+0000f3f0: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+0000f400: 7220 3d20 286f 7074 696f 6e20 3d3d 2022  r = (option == "
+0000f410: 656e 6162 6c65 2229 0a20 2020 2020 2020  enable").       
+0000f420: 2020 2020 2063 6f6e 6669 672e 7361 7665       config.save
+0000f430: 436f 6e66 6967 2829 0a20 2020 2020 2020  Config().       
+0000f440: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+0000f450: 2866 2244 6576 656c 6f70 6572 204d 6f64  (f"Developer Mod
+0000f460: 653a 207b 6f70 7469 6f6e 7d64 2122 290a  e: {option}d!").
+0000f470: 0a20 2020 2064 6566 2073 6574 5465 726d  .    def setTerm
+0000f480: 7578 4170 6928 7365 6c66 293a 0a20 2020  uxApi(self):.   
+0000f490: 2020 2020 206f 7074 696f 6e73 203d 2028       options = (
+0000f4a0: 2265 6e61 626c 6522 2c20 2264 6973 6162  "enable", "disab
+0000f4b0: 6c65 2229 0a20 2020 2020 2020 206f 7074  le").        opt
+0000f4c0: 696f 6e20 3d20 7365 6c66 2e64 6961 6c6f  ion = self.dialo
+0000f4d0: 6773 2e67 6574 5661 6c69 644f 7074 696f  gs.getValidOptio
+0000f4e0: 6e73 280a 2020 2020 2020 2020 2020 2020  ns(.            
+0000f4f0: 6f70 7469 6f6e 733d 6f70 7469 6f6e 732c  options=options,
+0000f500: 0a20 2020 2020 2020 2020 2020 2074 6974  .            tit
+0000f510: 6c65 3d22 5465 726d 7578 2041 5049 2049  le="Termux API I
+0000f520: 6e74 6567 7261 7469 6f6e 222c 0a20 2020  ntegration",.   
+0000f530: 2020 2020 2020 2020 2064 6566 6175 6c74           default
+0000f540: 3d22 656e 6162 6c65 2220 6966 2063 6f6e  ="enable" if con
+0000f550: 6669 672e 7465 726d 696e 616c 456e 6162  fig.terminalEnab
+0000f560: 6c65 5465 726d 7578 4150 4920 656c 7365  leTermuxAPI else
+0000f570: 2022 6469 7361 626c 6522 2c0a 2020 2020   "disable",.    
+0000f580: 2020 2020 2020 2020 7465 7874 3d22 546f          text="To
+0000f590: 206c 6561 726e 2061 626f 7574 2054 6572   learn about Ter
+0000f5a0: 6d75 7820 4150 492c 2072 6561 643a 5c6e  mux API, read:\n
+0000f5b0: 6874 7470 733a 2f2f 7769 6b69 2e74 6572  https://wiki.ter
+0000f5c0: 6d75 782e 636f 6d2f 7769 6b69 2f54 6572  mux.com/wiki/Ter
+0000f5d0: 6d75 783a 4150 495c 6e53 656c 6563 7420  mux:API\nSelect 
+0000f5e0: 616e 206f 7074 696f 6e20 6265 6c6f 773a  an option below:
+0000f5f0: 220a 2020 2020 2020 2020 290a 2020 2020  ".        ).    
+0000f600: 2020 2020 6966 206f 7074 696f 6e3a 0a20      if option:. 
+0000f610: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+0000f620: 672e 7465 726d 696e 616c 456e 6162 6c65  g.terminalEnable
+0000f630: 5465 726d 7578 4150 4920 3d20 286f 7074  TermuxAPI = (opt
+0000f640: 696f 6e20 3d3d 2022 656e 6162 6c65 2229  ion == "enable")
+0000f650: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0000f660: 636f 6e66 6967 2e74 6572 6d69 6e61 6c45  config.terminalE
+0000f670: 6e61 626c 6554 6572 6d75 7841 5049 2061  nableTermuxAPI a
+0000f680: 6e64 206e 6f74 206f 732e 7061 7468 2e69  nd not os.path.i
+0000f690: 7364 6972 2822 2f64 6174 612f 6461 7461  sdir("/data/data
+0000f6a0: 2f63 6f6d 2e74 6572 6d75 782f 6669 6c65  /com.termux/file
+0000f6b0: 732f 686f 6d65 2f22 293a 0a20 2020 2020  s/home/"):.     
+0000f6c0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+0000f6d0: 672e 7465 726d 696e 616c 456e 6162 6c65  g.terminalEnable
+0000f6e0: 5465 726d 7578 4150 4920 3d20 4661 6c73  TermuxAPI = Fals
+0000f6f0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0000f700: 2020 7365 6c66 2e70 7269 6e74 2822 5465    self.print("Te
+0000f710: 726d 7578 2069 7320 6e6f 7420 696e 7374  rmux is not inst
+0000f720: 616c 6c65 6421 2229 0a20 2020 2020 2020  alled!").       
+0000f730: 2020 2020 2069 6620 636f 6e66 6967 2e74       if config.t
+0000f740: 6572 6d69 6e61 6c45 6e61 626c 6554 6572  erminalEnableTer
+0000f750: 6d75 7841 5049 3a0a 2020 2020 2020 2020  muxAPI:.        
+0000f760: 2020 2020 2020 2020 2320 4368 6563 6b20          # Check 
+0000f770: 6966 2054 6572 6d75 7820 4150 4920 7061  if Termux API pa
+0000f780: 636b 6167 6520 6973 2069 6e73 7461 6c6c  ckage is install
+0000f790: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
+0000f7a0: 2020 2072 6573 756c 7420 3d20 7375 6270     result = subp
+0000f7b0: 726f 6365 7373 2e72 756e 285b 2770 6b67  rocess.run(['pkg
+0000f7c0: 272c 2027 6c69 7374 2d69 6e73 7461 6c6c  ', 'list-install
+0000f7d0: 6564 272c 2027 7465 726d 7578 2d61 7069  ed', 'termux-api
+0000f7e0: 275d 2c20 6361 7074 7572 655f 6f75 7470  '], capture_outp
+0000f7f0: 7574 3d54 7275 652c 2074 6578 743d 5472  ut=True, text=Tr
+0000f800: 7565 290a 2020 2020 2020 2020 2020 2020  ue).            
+0000f810: 2020 2020 2320 4368 6563 6b20 6966 2074      # Check if t
+0000f820: 6865 2070 6163 6b61 6765 2069 7320 696e  he package is in
+0000f830: 7374 616c 6c65 640a 2020 2020 2020 2020  stalled.        
+0000f840: 2020 2020 2020 2020 6966 206e 6f74 2022          if not "
+0000f850: 7465 726d 7578 2d61 7069 2220 696e 2072  termux-api" in r
+0000f860: 6573 756c 742e 7374 646f 7574 3a0a 2020  esult.stdout:.  
+0000f870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f880: 2020 7365 6c66 2e70 7269 6e74 2822 5465    self.print("Te
+0000f890: 726d 7578 3a41 5049 2069 7320 6e6f 7420  rmux:API is not 
+0000f8a0: 696e 7374 616c 6c65 6421 2229 0a20 2020  installed!").   
+0000f8b0: 2020 2020 2020 2020 2023 2072 6573 6574           # reset
+0000f8c0: 2070 6c75 6769 6e73 0a20 2020 2020 2020   plugins.       
+0000f8d0: 2020 2020 2073 656c 662e 7275 6e50 6c75       self.runPlu
+0000f8e0: 6769 6e73 2829 0a20 2020 2020 2020 2020  gins().         
+0000f8f0: 2020 2063 6f6e 6669 672e 7361 7665 436f     config.saveCo
+0000f900: 6e66 6967 2829 0a20 2020 2020 2020 2020  nfig().         
+0000f910: 2020 2073 656c 662e 7072 696e 7433 2866     self.print3(f
+0000f920: 2222 2254 6572 6d75 7820 4150 4920 496e  """Termux API In
+0000f930: 7465 6772 6174 696f 6e3a 207b 2265 6e61  tegration: {"ena
+0000f940: 626c 6522 2069 6620 636f 6e66 6967 2e74  ble" if config.t
+0000f950: 6572 6d69 6e61 6c45 6e61 626c 6554 6572  erminalEnableTer
+0000f960: 6d75 7841 5049 2065 6c73 6520 2264 6973  muxAPI else "dis
+0000f970: 6162 6c65 227d 6421 2222 2229 0a0a 2020  able"}d!""")..  
+0000f980: 2020 6465 6620 7365 7446 756e 6374 696f    def setFunctio
+0000f990: 6e43 616c 6c28 7365 6c66 293a 0a20 2020  nCall(self):.   
+0000f9a0: 2020 2020 2063 616c 6c73 203d 2028 2261       calls = ("a
+0000f9b0: 7574 6f22 2c20 226e 6f6e 6522 290a 2020  uto", "none").  
+0000f9c0: 2020 2020 2020 6361 6c6c 203d 2073 656c        call = sel
+0000f9d0: 662e 6469 616c 6f67 732e 6765 7456 616c  f.dialogs.getVal
+0000f9e0: 6964 4f70 7469 6f6e 7328 0a20 2020 2020  idOptions(.     
+0000f9f0: 2020 2020 2020 206f 7074 696f 6e73 3d63         options=c
+0000fa00: 616c 6c73 2c0a 2020 2020 2020 2020 2020  alls,.          
+0000fa10: 2020 7469 746c 653d 2243 6861 7447 5054    title="ChatGPT
+0000fa20: 2046 756e 6374 696f 6e20 4361 6c6c 222c   Function Call",
+0000fa30: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+0000fa40: 6175 6c74 3d63 6f6e 6669 672e 6368 6174  ault=config.chat
+0000fa50: 4750 5441 7069 4675 6e63 7469 6f6e 4361  GPTApiFunctionCa
+0000fa60: 6c6c 2c0a 2020 2020 2020 2020 2020 2020  ll,.            
+0000fa70: 7465 7874 3d22 456e 6162 6c69 6e67 2066  text="Enabling f
+0000fa80: 756e 6374 696f 6e20 6361 6c6c 5c6e 746f  unction call\nto
+0000fa90: 2065 7874 656e 6420 4368 6174 4750 5420   extend ChatGPT 
+0000faa0: 6361 7061 6269 6c69 7469 6573 2e5c 6e45  capabilities.\nE
+0000fab0: 6e61 626c 6520 2f20 4469 7361 626c 6520  nable / Disable 
+0000fac0: 7468 6973 2066 6561 7475 7265 2062 656c  this feature bel
+0000fad0: 6f77 3a22 2c0a 2020 2020 2020 2020 290a  ow:",.        ).
+0000fae0: 2020 2020 2020 2020 6966 2063 616c 6c3a          if call:
+0000faf0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+0000fb00: 6669 672e 6368 6174 4750 5441 7069 4675  fig.chatGPTApiFu
+0000fb10: 6e63 7469 6f6e 4361 6c6c 203d 2063 616c  nctionCall = cal
+0000fb20: 6c0a 2020 2020 2020 2020 2020 2020 636f  l.            co
+0000fb30: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
+0000fb40: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0000fb50: 6c66 2e70 7269 6e74 3328 6622 4368 6170  lf.print3(f"Chap
+0000fb60: 7447 5054 2066 756e 6374 696f 6e20 6361  tGPT function ca
+0000fb70: 6c6c 3a20 7b27 656e 6162 6c65 6427 2069  ll: {'enabled' i
+0000fb80: 6620 636f 6e66 6967 2e63 6861 7447 5054  f config.chatGPT
+0000fb90: 4170 6946 756e 6374 696f 6e43 616c 6c20  ApiFunctionCall 
+0000fba0: 3d3d 2027 6175 746f 2720 656c 7365 2027  == 'auto' else '
+0000fbb0: 6469 7361 626c 6564 277d 2122 290a 0a20  disabled'}!").. 
+0000fbc0: 2020 2064 6566 2073 6574 4675 6e63 7469     def setFuncti
+0000fbd0: 6f6e 5265 7370 6f6e 7365 2873 656c 6629  onResponse(self)
+0000fbe0: 3a0a 2020 2020 2020 2020 6361 6c6c 7320  :.        calls 
+0000fbf0: 3d20 2822 656e 6162 6c65 222c 2022 6469  = ("enable", "di
+0000fc00: 7361 626c 6522 290a 2020 2020 2020 2020  sable").        
+0000fc10: 6361 6c6c 203d 2073 656c 662e 6469 616c  call = self.dial
+0000fc20: 6f67 732e 6765 7456 616c 6964 4f70 7469  ogs.getValidOpti
+0000fc30: 6f6e 7328 0a20 2020 2020 2020 2020 2020  ons(.           
+0000fc40: 206f 7074 696f 6e73 3d63 616c 6c73 2c0a   options=calls,.
+0000fc50: 2020 2020 2020 2020 2020 2020 7469 746c              titl
+0000fc60: 653d 2250 6173 7320 4675 6e63 7469 6f6e  e="Pass Function
+0000fc70: 2043 616c 6c20 5265 7370 6f6e 7365 2074   Call Response t
+0000fc80: 6f20 4368 6174 4750 5422 2c0a 2020 2020  o ChatGPT",.    
+0000fc90: 2020 2020 2020 2020 6465 6661 756c 743d          default=
+0000fca0: 2265 6e61 626c 6522 2069 6620 636f 6e66  "enable" if conf
+0000fcb0: 6967 2e70 6173 7346 756e 6374 696f 6e43  ig.passFunctionC
+0000fcc0: 616c 6c52 6574 7572 6e54 6f43 6861 7447  allReturnToChatG
+0000fcd0: 5054 2065 6c73 6520 2264 6973 6162 6c65  PT else "disable
+0000fce0: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
+0000fcf0: 6578 743d 2245 6e61 626c 696e 6720 7468  ext="Enabling th
+0000fd00: 6973 2066 6561 7475 7265 2061 6c6c 6f77  is feature allow
+0000fd10: 735c 6e70 6173 7369 6e67 2066 756e 6374  s\npassing funct
+0000fd20: 696f 6e20 6361 6c6c 2072 6573 706f 6e73  ion call respons
+0000fd30: 6573 2c20 6966 2061 6e79 2c5c 6e74 6f20  es, if any,\nto 
+0000fd40: 6578 7465 6e64 2063 6f6e 7665 7273 6174  extend conversat
+0000fd50: 696f 6e20 7769 7468 2043 6861 7447 5054  ion with ChatGPT
+0000fd60: 2e5c 6e44 6973 6162 6c69 6e67 2074 6869  .\nDisabling thi
+0000fd70: 7320 6665 6174 7572 6520 616c 6c6f 7773  s feature allows
+0000fd80: 5c6e 7275 6e6e 696e 6720 6675 6e63 7469  \nrunning functi
+0000fd90: 6f6e 2063 616c 6c73 5c6e 7769 7468 6f75  on calls\nwithou
+0000fda0: 7420 6765 6e65 7261 7469 6e67 2066 7572  t generating fur
+0000fdb0: 7468 6572 2072 6573 706f 6e73 6573 2e22  ther responses."
+0000fdc0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+0000fdd0: 2020 2069 6620 6361 6c6c 3a0a 2020 2020     if call:.    
+0000fde0: 2020 2020 2020 2020 636f 6e66 6967 2e70          config.p
+0000fdf0: 6173 7346 756e 6374 696f 6e43 616c 6c52  assFunctionCallR
+0000fe00: 6574 7572 6e54 6f43 6861 7447 5054 203d  eturnToChatGPT =
+0000fe10: 2028 6361 6c6c 203d 3d20 2265 6e61 626c   (call == "enabl
+0000fe20: 6522 290a 2020 2020 2020 2020 2020 2020  e").            
+0000fe30: 636f 6e66 6967 2e73 6176 6543 6f6e 6669  config.saveConfi
+0000fe40: 6728 290a 2020 2020 2020 2020 2020 2020  g().            
+0000fe50: 7365 6c66 2e70 7269 6e74 3328 6622 5061  self.print3(f"Pa
+0000fe60: 7373 2046 756e 6374 696f 6e20 4361 6c6c  ss Function Call
+0000fe70: 2052 6573 706f 6e73 6520 746f 2043 6861   Response to Cha
+0000fe80: 7447 5054 3a20 7b27 656e 6162 6c65 6427  tGPT: {'enabled'
+0000fe90: 2069 6620 636f 6e66 6967 2e70 6173 7346   if config.passF
+0000fea0: 756e 6374 696f 6e43 616c 6c52 6574 7572  unctionCallRetur
+0000feb0: 6e54 6f43 6861 7447 5054 2065 6c73 6520  nToChatGPT else 
+0000fec0: 2764 6973 6162 6c65 6427 7d21 2229 0a0a  'disabled'}!")..
+0000fed0: 2020 2020 6465 6620 6564 6974 4c61 7374      def editLast
+0000fee0: 5265 7370 6f6e 7365 2873 656c 6629 3a0a  Response(self):.
+0000fef0: 2020 2020 2020 2020 6375 7374 6f6d 5465          customTe
+0000ff00: 7874 4564 6974 6f72 203d 2063 6f6e 6669  xtEditor = confi
+0000ff10: 672e 6375 7374 6f6d 5465 7874 4564 6974  g.customTextEdit
+0000ff20: 6f72 2069 6620 636f 6e66 6967 2e63 7573  or if config.cus
+0000ff30: 746f 6d54 6578 7445 6469 746f 7220 656c  tomTextEditor el
+0000ff40: 7365 2066 227b 7379 732e 6578 6563 7574  se f"{sys.execut
+0000ff50: 6162 6c65 7d20 7b6f 732e 7061 7468 2e6a  able} {os.path.j
+0000ff60: 6f69 6e28 636f 6e66 6967 2e6c 6574 4d65  oin(config.letMe
+0000ff70: 446f 4974 4149 466f 6c64 6572 2c20 2765  DoItAIFolder, 'e
+0000ff80: 5465 7874 4564 6974 2e70 7927 297d 220a  TextEdit.py')}".
+0000ff90: 2020 2020 2020 2020 7079 646f 632e 7069          pydoc.pi
+0000ffa0: 7065 7061 6765 7228 636f 6e66 6967 2e70  pepager(config.p
+0000ffb0: 6167 6572 436f 6e74 656e 742c 2063 6d64  agerContent, cmd
+0000ffc0: 3d63 7573 746f 6d54 6578 7445 6469 746f  =customTextEdito
+0000ffd0: 7229 0a20 2020 2020 2020 2073 6574 5f74  r).        set_t
+0000ffe0: 6974 6c65 2863 6f6e 6669 672e 6c65 744d  itle(config.letM
+0000fff0: 6544 6f49 744e 616d 6529 0a0a 2020 2020  eDoItName)..    
+00010000: 2320 6368 616e 6765 2063 6f6e 6669 6773  # change configs
+00010010: 0a20 2020 2064 6566 2065 6469 7443 6f6e  .    def editCon
+00010020: 6669 6773 2873 656c 6629 3a0a 2020 2020  figs(self):.    
+00010030: 2020 2020 2320 6669 6c65 2070 6174 6873      # file paths
+00010040: 0a20 2020 2020 2020 2063 6f6e 6669 6746  .        configF
+00010050: 696c 6520 3d20 6f73 2e70 6174 682e 6a6f  ile = os.path.jo
+00010060: 696e 2863 6f6e 6669 672e 6c65 744d 6544  in(config.letMeD
+00010070: 6f49 7441 4946 6f6c 6465 722c 2022 636f  oItAIFolder, "co
+00010080: 6e66 6967 2e70 7922 290a 2020 2020 2020  nfig.py").      
+00010090: 2020 6261 636b 7570 4669 6c65 203d 206f    backupFile = o
+000100a0: 732e 7061 7468 2e6a 6f69 6e28 636f 6e66  s.path.join(conf
+000100b0: 6967 2e67 6574 4669 6c65 7328 292c 2022  ig.getFiles(), "
+000100c0: 636f 6e66 6967 5f62 6163 6b75 702e 7079  config_backup.py
+000100d0: 2229 0a20 2020 2020 2020 2023 2062 6163  ").        # bac
+000100e0: 6b75 7020 636f 6e66 6967 730a 2020 2020  kup configs.    
+000100f0: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
+00010100: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
+00010110: 7368 7574 696c 2e63 6f70 7928 636f 6e66  shutil.copy(conf
+00010120: 6967 4669 6c65 2c20 6261 636b 7570 4669  igFile, backupFi
+00010130: 6c65 290a 2020 2020 2020 2020 2320 6f70  le).        # op
+00010140: 656e 2063 7572 7265 6e74 2063 6f6e 6669  en current confi
+00010150: 6773 2077 6974 6820 6275 696c 742d 696e  gs with built-in
+00010160: 2074 6578 7420 6564 6974 6f72 0a20 2020   text editor.   
+00010170: 2020 2020 2063 7573 746f 6d54 6578 7445       customTextE
+00010180: 6469 746f 7220 3d20 636f 6e66 6967 2e63  ditor = config.c
+00010190: 7573 746f 6d54 6578 7445 6469 746f 7220  ustomTextEditor 
+000101a0: 6966 2063 6f6e 6669 672e 6375 7374 6f6d  if config.custom
+000101b0: 5465 7874 4564 6974 6f72 2065 6c73 6520  TextEditor else 
+000101c0: 6622 7b73 7973 2e65 7865 6375 7461 626c  f"{sys.executabl
+000101d0: 657d 207b 6f73 2e70 6174 682e 6a6f 696e  e} {os.path.join
+000101e0: 2863 6f6e 6669 672e 6c65 744d 6544 6f49  (config.letMeDoI
+000101f0: 7441 4946 6f6c 6465 722c 2027 6554 6578  tAIFolder, 'eTex
+00010200: 7445 6469 742e 7079 2729 7d22 0a20 2020  tEdit.py')}".   
+00010210: 2020 2020 206f 732e 7379 7374 656d 2866       os.system(f
+00010220: 227b 6375 7374 6f6d 5465 7874 4564 6974  "{customTextEdit
+00010230: 6f72 7d20 7b63 6f6e 6669 6746 696c 657d  or} {configFile}
+00010240: 2229 0a20 2020 2020 2020 2073 6574 5f74  ").        set_t
+00010250: 6974 6c65 2863 6f6e 6669 672e 6c65 744d  itle(config.letM
+00010260: 6544 6f49 744e 616d 6529 0a20 2020 2020  eDoItName).     
+00010270: 2020 2023 2072 652d 6c6f 6164 2063 6f6e     # re-load con
+00010280: 6669 6773 0a20 2020 2020 2020 2074 7279  figs.        try
+00010290: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+000102a0: 6e66 6967 2e6c 6f61 6443 6f6e 6669 6728  nfig.loadConfig(
+000102b0: 636f 6e66 6967 4669 6c65 290a 2020 2020  configFile).    
+000102c0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+000102d0: 6e74 3228 2243 6861 6e67 6573 206c 6f61  nt2("Changes loa
+000102e0: 6465 6421 2229 0a20 2020 2020 2020 2065  ded!").        e
+000102f0: 7863 6570 743a 0a20 2020 2020 2020 2020  xcept:.         
+00010300: 2020 2073 656c 662e 7072 696e 7432 2822     self.print2("
+00010310: 4661 696c 6564 2074 6f20 6c6f 6164 2079  Failed to load y
+00010320: 6f75 7220 6368 616e 6765 7321 2229 0a20  our changes!"). 
+00010330: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00010340: 2874 7261 6365 6261 636b 2e66 6f72 6d61  (traceback.forma
+00010350: 745f 6578 6328 2929 0a20 2020 2020 2020  t_exc()).       
+00010360: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+00010370: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00010380: 7269 6e74 3228 2252 6573 746f 7269 6e67  rint2("Restoring
+00010390: 2062 6163 6b75 7020 2e2e 2e22 290a 2020   backup ...").  
+000103a0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+000103b0: 6e66 6967 2e6c 6f61 6443 6f6e 6669 6728  nfig.loadConfig(
+000103c0: 6261 636b 7570 4669 6c65 290a 2020 2020  backupFile).    
+000103d0: 2020 2020 2020 2020 2020 2020 7368 7574              shut
+000103e0: 696c 2e63 6f70 7928 6261 636b 7570 4669  il.copy(backupFi
+000103f0: 6c65 2c20 636f 6e66 6967 4669 6c65 290a  le, configFile).
+00010400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010410: 7365 6c66 2e70 7269 6e74 3228 2252 6573  self.print2("Res
+00010420: 746f 7265 6421 2229 0a20 2020 2020 2020  tored!").       
+00010430: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
+00010440: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00010450: 662e 7072 696e 7432 2822 4661 696c 6564  f.print2("Failed
+00010460: 2074 6f20 7265 7374 6f72 6520 6261 636b   to restore back
+00010470: 7570 2122 290a 0a20 2020 2064 6566 2069  up!")..    def i
+00010480: 6e73 7461 6c6c 5079 7468 6f6e 5061 636b  nstallPythonPack
+00010490: 6167 6528 7365 6c66 293a 0a20 2020 2020  age(self):.     
+000104a0: 2020 2073 656c 662e 7072 696e 7428 2245     self.print("E
+000104b0: 6e74 6572 2061 2070 7974 686f 6e20 7061  nter a python pa
+000104c0: 636b 6167 6520 6e61 6d65 3a22 290a 2020  ckage name:").  
+000104d0: 2020 2020 2020 7061 636b 6167 6520 3d20        package = 
+000104e0: 7365 6c66 2e70 726f 6d70 7473 2e73 696d  self.prompts.sim
+000104f0: 706c 6550 726f 6d70 7428 7374 796c 653d  plePrompt(style=
+00010500: 7365 6c66 2e70 726f 6d70 7473 2e70 726f  self.prompts.pro
+00010510: 6d70 7453 7479 6c65 3229 0a20 2020 2020  mptStyle2).     
+00010520: 2020 2069 6620 7061 636b 6167 653a 0a20     if package:. 
+00010530: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010540: 7072 696e 7428 6622 496e 7374 616c 6c69  print(f"Installi
+00010550: 6e67 2027 7b70 6163 6b61 6765 7d27 202e  ng '{package}' .
+00010560: 2e2e 2229 0a20 2020 2020 2020 2020 2020  ..").           
+00010570: 2069 6e73 7461 6c6c 6d6f 6475 6c65 2866   installmodule(f
+00010580: 222d 2d75 7067 7261 6465 207b 7061 636b  "--upgrade {pack
+00010590: 6167 657d 2229 0a0a 2020 2020 6465 6620  age}")..    def 
+000105a0: 7365 7454 656d 7065 7261 7475 7265 2873  setTemperature(s
+000105b0: 656c 6629 3a0a 2020 2020 2020 2020 7365  elf):.        se
+000105c0: 6c66 2e70 7269 6e74 2822 456e 7465 7220  lf.print("Enter 
+000105d0: 6120 7661 6c75 6520 6265 7477 6565 6e20  a value between 
+000105e0: 302e 3020 616e 6420 322e 303a 2229 0a20  0.0 and 2.0:"). 
+000105f0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00010600: 7428 2228 4c6f 7765 7220 7661 6c75 6573  t("(Lower values
+00010610: 2066 6f72 2074 656d 7065 7261 7475 7265   for temperature
+00010620: 2072 6573 756c 7420 696e 206d 6f72 6520   result in more 
+00010630: 636f 6e73 6973 7465 6e74 206f 7574 7075  consistent outpu
+00010640: 7473 2c20 7768 696c 6520 6869 6768 6572  ts, while higher
+00010650: 2076 616c 7565 7320 6765 6e65 7261 7465   values generate
+00010660: 206d 6f72 6520 6469 7665 7273 6520 616e   more diverse an
+00010670: 6420 6372 6561 7469 7665 2072 6573 756c  d creative resul
+00010680: 7473 2e20 5365 6c65 6374 2061 2074 656d  ts. Select a tem
+00010690: 7065 7261 7475 7265 2076 616c 7565 2062  perature value b
+000106a0: 6173 6564 206f 6e20 7468 6520 6465 7369  ased on the desi
+000106b0: 7265 6420 7472 6164 652d 6f66 6620 6265  red trade-off be
+000106c0: 7477 6565 6e20 636f 6865 7265 6e63 6520  tween coherence 
+000106d0: 616e 6420 6372 6561 7469 7669 7479 2066  and creativity f
+000106e0: 6f72 2079 6f75 7220 7370 6563 6966 6963  or your specific
+000106f0: 2061 7070 6c69 6361 7469 6f6e 2e29 2229   application.)")
+00010700: 0a20 2020 2020 2020 2074 656d 7065 7261  .        tempera
+00010710: 7475 7265 203d 2073 656c 662e 7072 6f6d  ture = self.prom
+00010720: 7074 732e 7369 6d70 6c65 5072 6f6d 7074  pts.simplePrompt
+00010730: 2873 7479 6c65 3d73 656c 662e 7072 6f6d  (style=self.prom
+00010740: 7074 732e 7072 6f6d 7074 5374 796c 6532  pts.promptStyle2
+00010750: 2c20 7661 6c69 6461 746f 723d 466c 6f61  , validator=Floa
+00010760: 7456 616c 6964 6174 6f72 2829 2c20 6465  tValidator(), de
+00010770: 6661 756c 743d 7374 7228 636f 6e66 6967  fault=str(config
+00010780: 2e6c 6c6d 5465 6d70 6572 6174 7572 6529  .llmTemperature)
+00010790: 290a 2020 2020 2020 2020 6966 2074 656d  ).        if tem
+000107a0: 7065 7261 7475 7265 2061 6e64 206e 6f74  perature and not
+000107b0: 2074 656d 7065 7261 7475 7265 2e73 7472   temperature.str
+000107c0: 6970 2829 2e6c 6f77 6572 2829 203d 3d20  ip().lower() == 
+000107d0: 636f 6e66 6967 2e65 7869 745f 656e 7472  config.exit_entr
+000107e0: 793a 0a20 2020 2020 2020 2020 2020 2074  y:.            t
+000107f0: 656d 7065 7261 7475 7265 203d 2066 6c6f  emperature = flo
+00010800: 6174 2874 656d 7065 7261 7475 7265 290a  at(temperature).
+00010810: 2020 2020 2020 2020 2020 2020 6966 2074              if t
+00010820: 656d 7065 7261 7475 7265 203c 2030 3a0a  emperature < 0:.
+00010830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010840: 7465 6d70 6572 6174 7572 6520 3d20 300a  temperature = 0.
+00010850: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00010860: 2074 656d 7065 7261 7475 7265 203e 2032   temperature > 2
+00010870: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00010880: 2020 7465 6d70 6572 6174 7572 6520 3d20    temperature = 
+00010890: 320a 2020 2020 2020 2020 2020 2020 636f  2.            co
+000108a0: 6e66 6967 2e6c 6c6d 5465 6d70 6572 6174  nfig.llmTemperat
+000108b0: 7572 6520 3d20 726f 756e 6428 7465 6d70  ure = round(temp
+000108c0: 6572 6174 7572 652c 2031 290a 2020 2020  erature, 1).    
+000108d0: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
+000108e0: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
+000108f0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+00010900: 6e74 3328 6622 4c4c 4d20 5465 6d70 6572  nt3(f"LLM Temper
+00010910: 6174 7572 653a 207b 7465 6d70 6572 6174  ature: {temperat
+00010920: 7572 657d 2229 0a0a 2020 2020 6465 6620  ure}")..    def 
+00010930: 7365 744c 6c6d 4d6f 6465 6c28 7365 6c66  setLlmModel(self
+00010940: 293a 0a20 2020 2020 2020 206d 6f64 656c  ):.        model
+00010950: 203d 2073 656c 662e 6469 616c 6f67 732e   = self.dialogs.
+00010960: 6765 7456 616c 6964 4f70 7469 6f6e 7328  getValidOptions(
+00010970: 0a20 2020 2020 2020 2020 2020 206f 7074  .            opt
+00010980: 696f 6e73 3d73 656c 662e 6d6f 6465 6c73  ions=self.models
+00010990: 2c0a 2020 2020 2020 2020 2020 2020 7469  ,.            ti
+000109a0: 746c 653d 2246 756e 6374 696f 6e20 4361  tle="Function Ca
+000109b0: 6c6c 696e 6720 4d6f 6465 6c22 2c0a 2020  lling Model",.  
+000109c0: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
+000109d0: 743d 636f 6e66 6967 2e63 6861 7447 5054  t=config.chatGPT
+000109e0: 4170 694d 6f64 656c 2069 6620 636f 6e66  ApiModel if conf
+000109f0: 6967 2e63 6861 7447 5054 4170 694d 6f64  ig.chatGPTApiMod
+00010a00: 656c 2069 6e20 7365 6c66 2e6d 6f64 656c  el in self.model
+00010a10: 7320 656c 7365 2073 656c 662e 6d6f 6465  s else self.mode
+00010a20: 6c73 5b30 5d2c 0a20 2020 2020 2020 2020  ls[0],.         
+00010a30: 2020 2074 6578 743d 2253 656c 6563 7420     text="Select 
+00010a40: 6120 6675 6e63 7469 6f6e 2063 616c 6c20  a function call 
+00010a50: 6d6f 6465 6c3a 5c6e 2866 6f72 2062 6f74  model:\n(for bot
+00010a60: 6820 6368 6174 2061 6e64 2074 6173 6b20  h chat and task 
+00010a70: 6578 6563 7574 696f 6e29 222c 0a20 2020  execution)",.   
+00010a80: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
+00010a90: 6620 6d6f 6465 6c3a 0a20 2020 2020 2020  f model:.       
+00010aa0: 2020 2020 2063 6f6e 6669 672e 6368 6174       config.chat
+00010ab0: 4750 5441 7069 4d6f 6465 6c20 3d20 6d6f  GPTApiModel = mo
+00010ac0: 6465 6c0a 2020 2020 2020 2020 2020 2020  del.            
+00010ad0: 7365 6c66 2e70 7269 6e74 3328 6622 4368  self.print3(f"Ch
+00010ae0: 6174 4750 5420 6d6f 6465 6c3a 207b 6d6f  atGPT model: {mo
+00010af0: 6465 6c7d 2229 0a20 2020 2020 2020 2020  del}").         
+00010b00: 2020 2023 2073 6574 206d 6178 2074 6f6b     # set max tok
+00010b10: 656e 730a 2020 2020 2020 2020 2020 2020  ens.            
+00010b20: 636f 6e66 6967 2e63 6861 7447 5054 4170  config.chatGPTAp
+00010b30: 694d 6178 546f 6b65 6e73 203d 2073 656c  iMaxTokens = sel
+00010b40: 662e 6765 744d 6178 546f 6b65 6e73 2829  f.getMaxTokens()
+00010b50: 5b2d 315d 0a20 2020 2020 2020 2020 2020  [-1].           
+00010b60: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+00010b70: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
+00010b80: 2073 656c 662e 7072 696e 7433 2866 224d   self.print3(f"M
+00010b90: 6178 696d 756d 2072 6573 706f 6e73 6520  aximum response 
+00010ba0: 746f 6b65 6e73 3a20 7b63 6f6e 6669 672e  tokens: {config.
+00010bb0: 6368 6174 4750 5441 7069 4d61 7854 6f6b  chatGPTApiMaxTok
+00010bc0: 656e 737d 2229 0a0a 2020 2020 6465 6620  ens}")..    def 
+00010bd0: 7365 7443 6861 7462 6f74 2873 656c 6629  setChatbot(self)
+00010be0: 3a0a 2020 2020 2020 2020 6d6f 6465 6c20  :.        model 
+00010bf0: 3d20 7365 6c66 2e64 6961 6c6f 6773 2e67  = self.dialogs.g
+00010c00: 6574 5661 6c69 644f 7074 696f 6e73 280a  etValidOptions(.
+00010c10: 2020 2020 2020 2020 2020 2020 6f70 7469              opti
+00010c20: 6f6e 733d 2822 6368 6174 6770 7422 2c20  ons=("chatgpt", 
+00010c30: 2267 656d 696e 6970 726f 222c 2022 7061  "geminipro", "pa
+00010c40: 6c6d 3222 2c20 2263 6f64 6579 2229 2c0a  lm2", "codey"),.
+00010c50: 2020 2020 2020 2020 2020 2020 7469 746c              titl
+00010c60: 653d 2243 6861 742d 6f6e 6c79 206d 6f64  e="Chat-only mod
+00010c70: 656c 222c 0a20 2020 2020 2020 2020 2020  el",.           
+00010c80: 2064 6566 6175 6c74 3d63 6f6e 6669 672e   default=config.
+00010c90: 6368 6174 626f 742c 0a20 2020 2020 2020  chatbot,.       
+00010ca0: 2020 2020 2074 6578 743d 2253 656c 6563       text="Selec
+00010cb0: 7420 6465 6661 756c 7420 6368 6174 2d6f  t default chat-o
+00010cc0: 6e6c 7920 6d6f 6465 6c3a 5c6e 2844 6566  nly model:\n(Def
+00010cd0: 6175 6c74 206d 6f64 656c 2069 7320 6c6f  ault model is lo
+00010ce0: 6164 6564 2077 6865 6e20 796f 7520 696e  aded when you in
+00010cf0: 636c 7564 6520 275b 4348 4154 5d27 2069  clude '[CHAT]' i
+00010d00: 6e20 796f 7572 2069 6e70 7574 2922 2c0a  n your input)",.
+00010d10: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00010d20: 2020 6966 206d 6f64 656c 3a0a 2020 2020    if model:.    
+00010d30: 2020 2020 2020 2020 636f 6e66 6967 2e63          config.c
+00010d40: 6861 7462 6f74 203d 206d 6f64 656c 0a20  hatbot = model. 
+00010d50: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010d60: 7072 696e 7433 2866 2243 6861 742d 6f6e  print3(f"Chat-on
+00010d70: 6c79 206d 6f64 656c 3a20 7b6d 6f64 656c  ly model: {model
+00010d80: 7d22 290a 0a20 2020 2064 6566 2073 6574  }")..    def set
+00010d90: 456d 6265 6464 696e 674d 6f64 656c 2873  EmbeddingModel(s
+00010da0: 656c 6629 3a0a 2020 2020 2020 2020 6f6c  elf):.        ol
+00010db0: 6445 6d62 6564 6469 6e67 4d6f 6465 6c20  dEmbeddingModel 
+00010dc0: 3d20 636f 6e66 6967 2e65 6d62 6564 6469  = config.embeddi
+00010dd0: 6e67 4d6f 6465 6c0a 2020 2020 2020 2020  ngModel.        
+00010de0: 6d6f 6465 6c20 3d20 7365 6c66 2e64 6961  model = self.dia
+00010df0: 6c6f 6773 2e67 6574 5661 6c69 644f 7074  logs.getValidOpt
+00010e00: 696f 6e73 280a 2020 2020 2020 2020 2020  ions(.          
+00010e10: 2020 6f70 7469 6f6e 733d 2822 7465 7874    options=("text
+00010e20: 2d65 6d62 6564 6469 6e67 2d33 2d6c 6172  -embedding-3-lar
+00010e30: 6765 222c 2022 7465 7874 2d65 6d62 6564  ge", "text-embed
+00010e40: 6469 6e67 2d33 2d73 6d61 6c6c 222c 2022  ding-3-small", "
+00010e50: 7465 7874 2d65 6d62 6564 6469 6e67 2d61  text-embedding-a
+00010e60: 6461 2d30 3032 222c 2022 7061 7261 7068  da-002", "paraph
+00010e70: 7261 7365 2d6d 756c 7469 6c69 6e67 7561  rase-multilingua
+00010e80: 6c2d 6d70 6e65 742d 6261 7365 2d76 3222  l-mpnet-base-v2"
+00010e90: 2c20 2261 6c6c 2d6d 706e 6574 2d62 6173  , "all-mpnet-bas
+00010ea0: 652d 7632 222c 2022 616c 6c2d 4d69 6e69  e-v2", "all-Mini
+00010eb0: 4c4d 2d4c 362d 7632 222c 2022 6375 7374  LM-L6-v2", "cust
+00010ec0: 6f6d 2229 2c0a 2020 2020 2020 2020 2020  om"),.          
+00010ed0: 2020 7469 746c 653d 2245 6d62 6564 6469    title="Embeddi
+00010ee0: 6e67 206d 6f64 656c 222c 0a20 2020 2020  ng model",.     
+00010ef0: 2020 2020 2020 2064 6566 6175 6c74 3d63         default=c
+00010f00: 6f6e 6669 672e 656d 6265 6464 696e 674d  onfig.embeddingM
+00010f10: 6f64 656c 2c0a 2020 2020 2020 2020 2020  odel,.          
+00010f20: 2020 7465 7874 3d22 5365 6c65 6374 2061    text="Select a
+00010f30: 6e20 656d 6265 6464 696e 6720 6d6f 6465  n embedding mode
+00010f40: 6c3a 222c 0a20 2020 2020 2020 2029 0a20  l:",.        ). 
+00010f50: 2020 2020 2020 2069 6620 6d6f 6465 6c3a         if model:
+00010f60: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00010f70: 6d6f 6465 6c20 3d3d 2022 6375 7374 6f6d  model == "custom
+00010f80: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
+00010f90: 2020 2073 656c 662e 7072 696e 7428 2245     self.print("E
+00010fa0: 6e74 6572 204f 7065 6e41 4920 6f72 2053  nter OpenAI or S
+00010fb0: 656e 7465 6e63 6520 5472 616e 7366 6f72  entence Transfor
+00010fc0: 6d65 7220 456d 6265 6464 696e 6720 6d6f  mer Embedding mo
+00010fd0: 6465 6c3a 2229 0a20 2020 2020 2020 2020  del:").         
+00010fe0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00010ff0: 7428 2252 6561 6420 6d6f 7265 2061 743a  t("Read more at:
+00011000: 2068 7474 7073 3a2f 2f77 7777 2e73 6265   https://www.sbe
+00011010: 7274 2e6e 6574 2f64 6f63 732f 7072 6574  rt.net/docs/pret
+00011020: 7261 696e 6564 5f6d 6f64 656c 732e 6874  rained_models.ht
+00011030: 6d6c 2229 0a20 2020 2020 2020 2020 2020  ml").           
+00011040: 2020 2020 2063 7573 746f 6d4d 6f64 656c       customModel
+00011050: 203d 2073 656c 662e 7072 6f6d 7074 732e   = self.prompts.
+00011060: 7369 6d70 6c65 5072 6f6d 7074 2873 7479  simplePrompt(sty
+00011070: 6c65 3d73 656c 662e 7072 6f6d 7074 732e  le=self.prompts.
+00011080: 7072 6f6d 7074 5374 796c 6532 2c20 6465  promptStyle2, de
+00011090: 6661 756c 743d 636f 6e66 6967 2e65 6d62  fault=config.emb
+000110a0: 6564 6469 6e67 4d6f 6465 6c29 0a20 2020  eddingModel).   
+000110b0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000110c0: 6375 7374 6f6d 4d6f 6465 6c20 616e 6420  customModel and 
+000110d0: 6e6f 7420 6375 7374 6f6d 4d6f 6465 6c2e  not customModel.
+000110e0: 7374 7269 7028 292e 6c6f 7765 7228 2920  strip().lower() 
+000110f0: 3d3d 2063 6f6e 6669 672e 6578 6974 5f65  == config.exit_e
+00011100: 6e74 7279 3a0a 2020 2020 2020 2020 2020  ntry:.          
+00011110: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00011120: 2e65 6d62 6564 6469 6e67 4d6f 6465 6c20  .embeddingModel 
+00011130: 3d20 6375 7374 6f6d 4d6f 6465 6c20 0a20  = customModel . 
+00011140: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00011150: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011160: 2063 6f6e 6669 672e 656d 6265 6464 696e   config.embeddin
+00011170: 674d 6f64 656c 203d 206d 6f64 656c 0a20  gModel = model. 
+00011180: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00011190: 7072 696e 7433 2866 2245 6d62 6564 6469  print3(f"Embeddi
+000111a0: 6e67 206d 6f64 656c 3a20 7b6d 6f64 656c  ng model: {model
+000111b0: 7d22 290a 2020 2020 2020 2020 6966 206e  }").        if n
+000111c0: 6f74 206f 6c64 456d 6265 6464 696e 674d  ot oldEmbeddingM
+000111d0: 6f64 656c 203d 3d20 636f 6e66 6967 2e65  odel == config.e
+000111e0: 6d62 6564 6469 6e67 4d6f 6465 6c3a 0a20  mbeddingModel:. 
+000111f0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00011200: 7072 696e 7428 6622 596f 7527 7665 2063  print(f"You've c
+00011210: 6861 6e67 6520 7468 6520 656d 6265 6464  hange the embedd
+00011220: 696e 6720 6d6f 6465 6c20 6672 6f6d 2027  ing model from '
+00011230: 7b6f 6c64 456d 6265 6464 696e 674d 6f64  {oldEmbeddingMod
+00011240: 656c 7d27 2074 6f20 277b 636f 6e66 6967  el}' to '{config
+00011250: 2e65 6d62 6564 6469 6e67 4d6f 6465 6c7d  .embeddingModel}
+00011260: 272e 2229 0a20 2020 2020 2020 2020 2020  '.").           
+00011270: 2073 656c 662e 7072 696e 7428 2254 6f20   self.print("To 
+00011280: 776f 726b 2077 6974 6820 7468 6520 6e65  work with the ne
+00011290: 776c 7920 7365 6c65 6374 6564 206d 6f64  wly selected mod
+000112a0: 656c 2c20 7072 6576 696f 7573 206d 656d  el, previous mem
+000112b0: 6f72 7920 7374 6f72 6520 616e 6420 7265  ory store and re
+000112c0: 7472 6965 7665 6420 636f 6c6c 6563 7469  trieved collecti
+000112d0: 6f6e 7320 6e65 6564 2074 6f20 6265 2064  ons need to be d
+000112e0: 656c 6574 6564 2e22 290a 2020 2020 2020  eleted.").      
+000112f0: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00011300: 2822 446f 2079 6f75 2077 616e 7420 746f  ("Do you want to
+00011310: 2064 656c 6574 6520 7468 656d 206e 6f77   delete them now
+00011320: 3f20 5b79 5d65 7320 2f20 5b4e 5d6f 2229  ? [y]es / [N]o")
+00011330: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+00011340: 6669 726d 6174 696f 6e20 3d20 7365 6c66  firmation = self
+00011350: 2e70 726f 6d70 7473 2e73 696d 706c 6550  .prompts.simpleP
+00011360: 726f 6d70 7428 7374 796c 653d 7365 6c66  rompt(style=self
+00011370: 2e70 726f 6d70 7473 2e70 726f 6d70 7453  .prompts.promptS
+00011380: 7479 6c65 322c 2064 6566 6175 6c74 3d22  tyle2, default="
+00011390: 7965 7322 290a 2020 2020 2020 2020 2020  yes").          
+000113a0: 2020 6966 2063 6f6e 6669 726d 6174 696f    if confirmatio
+000113b0: 6e2e 6c6f 7765 7228 2920 696e 2028 2279  n.lower() in ("y
+000113c0: 222c 2022 7965 7322 293a 0a20 2020 2020  ", "yes"):.     
+000113d0: 2020 2020 2020 2020 2020 206d 656d 6f72             memor
+000113e0: 795f 7374 6f72 6520 3d20 6f73 2e70 6174  y_store = os.pat
+000113f0: 682e 6a6f 696e 2863 6f6e 6669 672e 6765  h.join(config.ge
+00011400: 7446 696c 6573 2829 2c20 226d 656d 6f72  tFiles(), "memor
+00011410: 7922 290a 2020 2020 2020 2020 2020 2020  y").            
+00011420: 2020 2020 7265 7472 6965 7665 645f 636f      retrieved_co
+00011430: 6c6c 6563 7469 6f6e 7320 3d20 6f73 2e70  llections = os.p
+00011440: 6174 682e 6a6f 696e 2863 6f6e 6669 672e  ath.join(config.
+00011450: 6765 7446 696c 6573 2829 2c20 2261 7574  getFiles(), "aut
+00011460: 6f67 656e 222c 2022 7265 7472 6965 7665  ogen", "retrieve
+00011470: 7222 290a 2020 2020 2020 2020 2020 2020  r").            
+00011480: 2020 2020 666f 7220 666f 6c64 6572 2069      for folder i
+00011490: 6e20 286d 656d 6f72 795f 7374 6f72 652c  n (memory_store,
+000114a0: 2072 6574 7269 6576 6564 5f63 6f6c 6c65   retrieved_colle
+000114b0: 6374 696f 6e73 293a 0a20 2020 2020 2020  ctions):.       
+000114c0: 2020 2020 2020 2020 2020 2020 2073 6875               shu
+000114d0: 7469 6c2e 726d 7472 6565 2866 6f6c 6465  til.rmtree(folde
+000114e0: 722c 2069 676e 6f72 655f 6572 726f 7273  r, ignore_errors
+000114f0: 3d54 7275 6529 0a20 2020 2020 2020 2020  =True).         
+00011500: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00011510: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+00011520: 696e 7428 6622 446f 2079 6f75 2077 616e  int(f"Do you wan
+00011530: 7420 746f 2063 6861 6e67 6520 6261 636b  t to change back
+00011540: 2074 6865 2065 6d62 6564 6469 6e67 206d   the embedding m
+00011550: 6f64 656c 2066 726f 6d20 277b 636f 6e66  odel from '{conf
+00011560: 6967 2e65 6d62 6564 6469 6e67 4d6f 6465  ig.embeddingMode
+00011570: 6c7d 2720 746f 2027 7b6f 6c64 456d 6265  l}' to '{oldEmbe
+00011580: 6464 696e 674d 6f64 656c 7d27 3f20 5b79  ddingModel}'? [y
+00011590: 5d65 7320 2f20 5b4e 5d6f 2229 0a20 2020  ]es / [N]o").   
+000115a0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+000115b0: 6669 726d 6174 696f 6e20 3d20 7365 6c66  firmation = self
+000115c0: 2e70 726f 6d70 7473 2e73 696d 706c 6550  .prompts.simpleP
+000115d0: 726f 6d70 7428 7374 796c 653d 7365 6c66  rompt(style=self
+000115e0: 2e70 726f 6d70 7473 2e70 726f 6d70 7453  .prompts.promptS
+000115f0: 7479 6c65 322c 2064 6566 6175 6c74 3d22  tyle2, default="
+00011600: 7965 7322 290a 2020 2020 2020 2020 2020  yes").          
+00011610: 2020 2020 2020 6966 206e 6f74 2063 6f6e        if not con
+00011620: 6669 726d 6174 696f 6e2e 6c6f 7765 7228  firmation.lower(
+00011630: 2920 696e 2028 2279 222c 2022 7965 7322  ) in ("y", "yes"
+00011640: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00011650: 2020 2020 2020 2063 6f6e 6669 672e 656d         config.em
+00011660: 6265 6464 696e 674d 6f64 656c 203d 206f  beddingModel = o
+00011670: 6c64 456d 6265 6464 696e 674d 6f64 656c  ldEmbeddingModel
+00011680: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011690: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+000116a0: 2866 2245 6d62 6564 6469 6e67 206d 6f64  (f"Embedding mod
+000116b0: 656c 3a20 7b6f 6c64 456d 6265 6464 696e  el: {oldEmbeddin
+000116c0: 674d 6f64 656c 7d22 290a 2020 2020 2020  gModel}").      
+000116d0: 2020 6966 206e 6f74 206f 6c64 456d 6265    if not oldEmbe
+000116e0: 6464 696e 674d 6f64 656c 203d 3d20 636f  ddingModel == co
+000116f0: 6e66 6967 2e65 6d62 6564 6469 6e67 4d6f  nfig.embeddingMo
+00011700: 6465 6c3a 0a20 2020 2020 2020 2020 2020  del:.           
+00011710: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+00011720: 6967 2829 0a0a 2020 2020 6465 6620 7365  ig()..    def se
+00011730: 7441 7574 6f47 656e 4275 696c 6465 7243  tAutoGenBuilderC
+00011740: 6f6e 6669 6728 7365 6c66 293a 0a20 2020  onfig(self):.   
+00011750: 2020 2020 2069 6620 6e6f 7420 636f 6e66       if not conf
+00011760: 6967 2e69 7354 6572 6d75 783a 0a20 2020  ig.isTermux:.   
+00011770: 2020 2020 2020 2020 2041 7574 6f47 656e           AutoGen
+00011780: 4275 696c 6465 7228 292e 7072 6f6d 7074  Builder().prompt
+00011790: 436f 6e66 6967 2829 0a0a 2020 2020 6465  Config()..    de
+000117a0: 6620 7365 7441 7373 6973 7461 6e74 4e61  f setAssistantNa
+000117b0: 6d65 2873 656c 6629 3a0a 2020 2020 2020  me(self):.      
+000117c0: 2020 7365 6c66 2e70 7269 6e74 2822 596f    self.print("Yo
+000117d0: 7520 6d61 7920 6d6f 6469 6679 206d 7920  u may modify my 
+000117e0: 6e61 6d65 2062 656c 6f77 3a22 290a 2020  name below:").  
+000117f0: 2020 2020 2020 6c65 744d 6544 6f49 744e        letMeDoItN
+00011800: 616d 6520 3d20 7365 6c66 2e70 726f 6d70  ame = self.promp
+00011810: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
+00011820: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
+00011830: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
+00011840: 2064 6566 6175 6c74 3d63 6f6e 6669 672e   default=config.
+00011850: 6c65 744d 6544 6f49 744e 616d 6529 0a20  letMeDoItName). 
+00011860: 2020 2020 2020 2069 6620 6c65 744d 6544         if letMeD
+00011870: 6f49 744e 616d 6520 616e 6420 6e6f 7420  oItName and not 
+00011880: 6c65 744d 6544 6f49 744e 616d 652e 7374  letMeDoItName.st
+00011890: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+000118a0: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+000118b0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+000118c0: 636f 6e66 6967 2e6c 6574 4d65 446f 4974  config.letMeDoIt
+000118d0: 4e61 6d65 203d 206c 6574 4d65 446f 4974  Name = letMeDoIt
+000118e0: 4e61 6d65 0a20 2020 2020 2020 2020 2020  Name.           
+000118f0: 2073 656c 662e 7374 6f72 6167 6544 6972   self.storageDir
+00011900: 203d 2073 656c 662e 6765 7453 746f 7261   = self.getStora
+00011910: 6765 4469 7228 290a 2020 2020 2020 2020  geDir().        
+00011920: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
+00011930: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
+00011940: 2020 2020 7365 6c66 2e70 7269 6e74 3328      self.print3(
+00011950: 6622 596f 7520 6861 7665 2063 6861 6e67  f"You have chang
+00011960: 6564 206d 7920 6e61 6d65 2074 6f3a 207b  ed my name to: {
+00011970: 636f 6e66 6967 2e6c 6574 4d65 446f 4974  config.letMeDoIt
+00011980: 4e61 6d65 7d22 290a 0a20 2020 2064 6566  Name}")..    def
+00011990: 2073 6574 4375 7374 6f6d 5379 7374 656d   setCustomSystem
+000119a0: 4d65 7373 6167 6528 7365 6c66 293a 0a20  Message(self):. 
+000119b0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+000119c0: 7428 2259 6f75 2063 616e 206d 6f64 6966  t("You can modif
+000119d0: 7920 7468 6520 7379 7374 656d 206d 6573  y the system mes
+000119e0: 7361 6765 2074 6f20 6675 726e 6973 6820  sage to furnish 
+000119f0: 6d65 2077 6974 6820 6465 7461 696c 7320  me with details 
+00011a00: 6162 6f75 7420 6d79 2063 6170 6162 696c  about my capabil
+00011a10: 6974 6965 732c 2063 6f6e 7374 7261 696e  ities, constrain
+00011a20: 7473 2c20 6f72 2061 6e79 2070 6572 7469  ts, or any perti
+00011a30: 6e65 6e74 2063 6f6e 7465 7874 2074 6861  nent context tha
+00011a40: 7420 6d61 7920 696e 666f 726d 206f 7572  t may inform our
+00011a50: 2069 6e74 6572 6163 7469 6f6e 732e 2054   interactions. T
+00011a60: 6869 7320 7769 6c6c 2067 7569 6465 206d  his will guide m
+00011a70: 6520 696e 206d 616e 6167 696e 6720 616e  e in managing an
+00011a80: 6420 7265 7370 6f6e 6469 6e67 2074 6f20  d responding to 
+00011a90: 796f 7572 2072 6571 7565 7374 7320 6170  your requests ap
+00011aa0: 7072 6f70 7269 6174 656c 792e 2229 0a20  propriately."). 
+00011ab0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00011ac0: 7428 2250 6c65 6173 6520 6e6f 7465 2074  t("Please note t
+00011ad0: 6861 7420 616c 7465 7269 6e67 206d 7920  hat altering my 
+00011ae0: 7379 7374 656d 206d 6573 7361 6765 2064  system message d
+00011af0: 6972 6563 746c 7920 6166 6665 6374 7320  irectly affects 
+00011b00: 6d79 2066 756e 6374 696f 6e61 6c69 7479  my functionality
+00011b10: 2e20 4861 6e64 6c65 2077 6974 6820 6361  . Handle with ca
+00011b20: 7265 2e22 290a 2020 2020 2020 2020 7365  re.").        se
+00011b30: 6c66 2e70 7269 6e74 2822 456e 7465 7220  lf.print("Enter 
+00011b40: 6375 7374 6f6d 2073 7973 7465 6d20 6d65  custom system me
+00011b50: 7373 6167 6520 6265 6c6f 773a 2229 0a20  ssage below:"). 
+00011b60: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00011b70: 7428 6622 284b 6565 7020 6974 2062 6c61  t(f"(Keep it bla
+00011b80: 6e6b 2074 6f20 7573 6520 7b63 6f6e 6669  nk to use {confi
+00011b90: 672e 6c65 744d 6544 6f49 744e 616d 657d  g.letMeDoItName}
+00011ba0: 2064 6566 6175 6c74 2073 7973 7465 6d20   default system 
+00011bb0: 6d65 7373 6167 652e 2922 290a 2020 2020  message.)").    
+00011bc0: 2020 2020 6d65 7373 6167 6520 3d20 7365      message = se
+00011bd0: 6c66 2e70 726f 6d70 7473 2e73 696d 706c  lf.prompts.simpl
+00011be0: 6550 726f 6d70 7428 7374 796c 653d 7365  ePrompt(style=se
+00011bf0: 6c66 2e70 726f 6d70 7473 2e70 726f 6d70  lf.prompts.promp
+00011c00: 7453 7479 6c65 322c 2064 6566 6175 6c74  tStyle2, default
+00011c10: 3d63 6f6e 6669 672e 7379 7374 656d 4d65  =config.systemMe
+00011c20: 7373 6167 655f 6c65 746d 6564 6f69 7429  ssage_letmedoit)
+00011c30: 0a20 2020 2020 2020 2069 6620 6d65 7373  .        if mess
+00011c40: 6167 6520 616e 6420 6e6f 7420 6d65 7373  age and not mess
+00011c50: 6167 652e 7374 7269 7028 292e 6c6f 7765  age.strip().lowe
+00011c60: 7228 2920 3d3d 2063 6f6e 6669 672e 6578  r() == config.ex
+00011c70: 6974 5f65 6e74 7279 3a0a 2020 2020 2020  it_entry:.      
+00011c80: 2020 2020 2020 636f 6e66 6967 2e73 7973        config.sys
+00011c90: 7465 6d4d 6573 7361 6765 5f6c 6574 6d65  temMessage_letme
+00011ca0: 646f 6974 203d 206d 6573 7361 6765 0a20  doit = message. 
+00011cb0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00011cc0: 672e 7361 7665 436f 6e66 6967 2829 0a20  g.saveConfig(). 
+00011cd0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00011ce0: 7072 696e 7433 2866 2243 7573 746f 6d20  print3(f"Custom 
+00011cf0: 7379 7374 656d 206d 6573 7361 6765 3a20  system message: 
+00011d00: 7b63 6f6e 6669 672e 6c65 744d 6544 6f49  {config.letMeDoI
+00011d10: 744e 616d 657d 2229 0a0a 2020 2020 6465  tName}")..    de
+00011d20: 6620 7365 7443 7573 746f 6d54 6578 7445  f setCustomTextE
+00011d30: 6469 746f 7228 7365 6c66 293a 0a20 2020  ditor(self):.   
+00011d40: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00011d50: 2250 6c65 6173 6520 7370 6563 6966 7920  "Please specify 
+00011d60: 6375 7374 6f6d 2074 6578 7420 6564 6974  custom text edit
+00011d70: 6f72 2063 6f6d 6d61 6e64 2062 656c 6f77  or command below
+00011d80: 3a22 290a 2020 2020 2020 2020 7365 6c66  :").        self
+00011d90: 2e70 7269 6e74 2822 652e 672e 2027 6d69  .print("e.g. 'mi
+00011da0: 6372 6f20 2d73 6f66 7477 7261 7020 7472  cro -softwrap tr
+00011db0: 7565 202d 776f 7264 7772 6170 2074 7275  ue -wordwrap tru
+00011dc0: 6527 2229 0a20 2020 2020 2020 2073 656c  e'").        sel
+00011dd0: 662e 7072 696e 7428 224c 6561 7665 2069  f.print("Leave i
+00011de0: 7420 626c 616e 6b20 746f 2075 7365 206f  t blank to use o
+00011df0: 7572 2062 7569 6c74 2d69 6e20 7465 7874  ur built-in text
+00011e00: 2065 6469 746f 7220 2765 5465 7874 4564   editor 'eTextEd
+00011e10: 6974 2720 6279 2064 6566 6175 6c74 2e22  it' by default."
+00011e20: 290a 2020 2020 2020 2020 6375 7374 6f6d  ).        custom
+00011e30: 5465 7874 4564 6974 6f72 203d 2073 656c  TextEditor = sel
+00011e40: 662e 7072 6f6d 7074 732e 7369 6d70 6c65  f.prompts.simple
+00011e50: 5072 6f6d 7074 2873 7479 6c65 3d73 656c  Prompt(style=sel
+00011e60: 662e 7072 6f6d 7074 732e 7072 6f6d 7074  f.prompts.prompt
+00011e70: 5374 796c 6532 2c20 6465 6661 756c 743d  Style2, default=
+00011e80: 636f 6e66 6967 2e63 7573 746f 6d54 6578  config.customTex
+00011e90: 7445 6469 746f 7229 0a20 2020 2020 2020  tEditor).       
+00011ea0: 2069 6620 6375 7374 6f6d 5465 7874 4564   if customTextEd
+00011eb0: 6974 6f72 2061 6e64 206e 6f74 2063 7573  itor and not cus
+00011ec0: 746f 6d54 6578 7445 6469 746f 722e 7374  tomTextEditor.st
+00011ed0: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+00011ee0: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+00011ef0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00011f00: 7465 7874 4564 6974 6f72 203d 2072 652e  textEditor = re.
+00011f10: 7375 6228 2220 2e2a 3f24 222c 2022 222c  sub(" .*?$", "",
+00011f20: 2063 7573 746f 6d54 6578 7445 6469 746f   customTextEdito
+00011f30: 7229 0a20 2020 2020 2020 2020 2020 2069  r).            i
+00011f40: 6620 6e6f 7420 7465 7874 4564 6974 6f72  f not textEditor
+00011f50: 206f 7220 6e6f 7420 5368 6172 6564 5574   or not SharedUt
+00011f60: 696c 2e69 7350 6163 6b61 6765 496e 7374  il.isPackageInst
+00011f70: 616c 6c65 6428 7465 7874 4564 6974 6f72  alled(textEditor
+00011f80: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00011f90: 2020 2073 656c 662e 7072 696e 7432 2822     self.print2("
+00011fa0: 436f 6d6d 616e 6420 6e6f 7420 666f 756e  Command not foun
+00011fb0: 6420 6f6e 2079 6f75 7220 6465 7669 6365  d on your device
+00011fc0: 2122 290a 2020 2020 2020 2020 2020 2020  !").            
+00011fd0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00011fe0: 2020 2020 2020 636f 6e66 6967 2e63 7573        config.cus
+00011ff0: 746f 6d54 6578 7445 6469 746f 7220 3d20  tomTextEditor = 
+00012000: 6375 7374 6f6d 5465 7874 4564 6974 6f72  customTextEditor
+00012010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012020: 2063 6f6e 6669 672e 7361 7665 436f 6e66   config.saveConf
+00012030: 6967 2829 0a20 2020 2020 2020 2020 2020  ig().           
+00012040: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+00012050: 2866 2243 7573 746f 6d20 7465 7874 2065  (f"Custom text e
+00012060: 6469 746f 723a 207b 636f 6e66 6967 2e63  ditor: {config.c
+00012070: 7573 746f 6d54 6578 7445 6469 746f 727d  ustomTextEditor}
+00012080: 2229 0a0a 2020 2020 6465 6620 7365 7443  ")..    def setC
+00012090: 6861 7452 6563 6f72 6443 6c6f 7365 7374  hatRecordClosest
+000120a0: 4d61 7463 6865 7328 7365 6c66 293a 0a20  Matches(self):. 
+000120b0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+000120c0: 7428 2250 6c65 6173 6520 7370 6563 6966  t("Please specif
+000120d0: 7920 7468 6520 6e75 6d62 6572 206f 6620  y the number of 
+000120e0: 636c 6f73 6573 7420 6d61 7463 6865 7320  closest matches 
+000120f0: 696e 2065 6163 6820 6d65 6d6f 7279 2072  in each memory r
+00012100: 6574 7269 6576 616c 3a22 290a 2020 2020  etrieval:").    
+00012110: 2020 2020 6368 6174 5265 636f 7264 436c      chatRecordCl
+00012120: 6f73 6573 744d 6174 6368 6573 203d 2073  osestMatches = s
+00012130: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
+00012140: 6c65 5072 6f6d 7074 2873 7479 6c65 3d73  lePrompt(style=s
+00012150: 656c 662e 7072 6f6d 7074 732e 7072 6f6d  elf.prompts.prom
+00012160: 7074 5374 796c 6532 2c20 6e75 6d62 6572  ptStyle2, number
+00012170: 4f6e 6c79 3d54 7275 652c 2064 6566 6175  Only=True, defau
+00012180: 6c74 3d73 7472 2863 6f6e 6669 672e 6368  lt=str(config.ch
+00012190: 6174 5265 636f 7264 436c 6f73 6573 744d  atRecordClosestM
+000121a0: 6174 6368 6573 2929 0a20 2020 2020 2020  atches)).       
+000121b0: 2069 6620 6368 6174 5265 636f 7264 436c   if chatRecordCl
+000121c0: 6f73 6573 744d 6174 6368 6573 2061 6e64  osestMatches and
+000121d0: 206e 6f74 2063 6861 7452 6563 6f72 6443   not chatRecordC
+000121e0: 6c6f 7365 7374 4d61 7463 6865 732e 7374  losestMatches.st
+000121f0: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+00012200: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+00012210: 7279 2061 6e64 2069 6e74 2863 6861 7452  ry and int(chatR
+00012220: 6563 6f72 6443 6c6f 7365 7374 4d61 7463  ecordClosestMatc
+00012230: 6865 7329 203e 3d20 303a 0a20 2020 2020  hes) >= 0:.     
+00012240: 2020 2020 2020 2063 6f6e 6669 672e 6368         config.ch
+00012250: 6174 5265 636f 7264 436c 6f73 6573 744d  atRecordClosestM
+00012260: 6174 6368 6573 203d 2069 6e74 2863 6861  atches = int(cha
+00012270: 7452 6563 6f72 6443 6c6f 7365 7374 4d61  tRecordClosestMa
+00012280: 7463 6865 7329 0a20 2020 2020 2020 2020  tches).         
+00012290: 2020 2063 6f6e 6669 672e 7361 7665 436f     config.saveCo
+000122a0: 6e66 6967 2829 0a20 2020 2020 2020 2020  nfig().         
+000122b0: 2020 2073 656c 662e 7072 696e 7433 2866     self.print3(f
+000122c0: 224e 756d 6265 7220 6f66 206d 656d 6f72  "Number of memor
+000122d0: 7920 636c 6f73 6573 7420 6d61 7463 6865  y closest matche
+000122e0: 733a 207b 636f 6e66 6967 2e63 6861 7452  s: {config.chatR
+000122f0: 6563 6f72 6443 6c6f 7365 7374 4d61 7463  ecordClosestMatc
+00012300: 6865 737d 2229 0a0a 2020 2020 6465 6620  hes}")..    def 
+00012310: 7365 744d 656d 6f72 7943 6c6f 7365 7374  setMemoryClosest
+00012320: 4d61 7463 6865 7328 7365 6c66 293a 0a20  Matches(self):. 
+00012330: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00012340: 7428 2250 6c65 6173 6520 7370 6563 6966  t("Please specif
+00012350: 7920 7468 6520 6e75 6d62 6572 206f 6620  y the number of 
+00012360: 636c 6f73 6573 7420 6d61 7463 6865 7320  closest matches 
+00012370: 696e 2065 6163 6820 6d65 6d6f 7279 2072  in each memory r
+00012380: 6574 7269 6576 616c 3a22 290a 2020 2020  etrieval:").    
+00012390: 2020 2020 6d65 6d6f 7279 436c 6f73 6573      memoryCloses
+000123a0: 744d 6174 6368 6573 203d 2073 656c 662e  tMatches = self.
+000123b0: 7072 6f6d 7074 732e 7369 6d70 6c65 5072  prompts.simplePr
+000123c0: 6f6d 7074 2873 7479 6c65 3d73 656c 662e  ompt(style=self.
+000123d0: 7072 6f6d 7074 732e 7072 6f6d 7074 5374  prompts.promptSt
+000123e0: 796c 6532 2c20 6e75 6d62 6572 4f6e 6c79  yle2, numberOnly
+000123f0: 3d54 7275 652c 2064 6566 6175 6c74 3d73  =True, default=s
+00012400: 7472 2863 6f6e 6669 672e 6d65 6d6f 7279  tr(config.memory
+00012410: 436c 6f73 6573 744d 6174 6368 6573 2929  ClosestMatches))
+00012420: 0a20 2020 2020 2020 2069 6620 6d65 6d6f  .        if memo
+00012430: 7279 436c 6f73 6573 744d 6174 6368 6573  ryClosestMatches
+00012440: 2061 6e64 206e 6f74 206d 656d 6f72 7943   and not memoryC
+00012450: 6c6f 7365 7374 4d61 7463 6865 732e 7374  losestMatches.st
+00012460: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+00012470: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+00012480: 7279 2061 6e64 2069 6e74 286d 656d 6f72  ry and int(memor
+00012490: 7943 6c6f 7365 7374 4d61 7463 6865 7329  yClosestMatches)
+000124a0: 203e 3d20 303a 0a20 2020 2020 2020 2020   >= 0:.         
+000124b0: 2020 2063 6f6e 6669 672e 6d65 6d6f 7279     config.memory
+000124c0: 436c 6f73 6573 744d 6174 6368 6573 203d  ClosestMatches =
+000124d0: 2069 6e74 286d 656d 6f72 7943 6c6f 7365   int(memoryClose
+000124e0: 7374 4d61 7463 6865 7329 0a20 2020 2020  stMatches).     
+000124f0: 2020 2020 2020 2063 6f6e 6669 672e 7361         config.sa
+00012500: 7665 436f 6e66 6967 2829 0a20 2020 2020  veConfig().     
+00012510: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00012520: 7433 2866 224e 756d 6265 7220 6f66 206d  t3(f"Number of m
+00012530: 656d 6f72 7920 636c 6f73 6573 7420 6d61  emory closest ma
+00012540: 7463 6865 733a 207b 636f 6e66 6967 2e6d  tches: {config.m
+00012550: 656d 6f72 7943 6c6f 7365 7374 4d61 7463  emoryClosestMatc
+00012560: 6865 737d 2229 0a0a 2020 2020 6465 6620  hes}")..    def 
+00012570: 7365 744d 6178 4175 746f 4865 616c 2873  setMaxAutoHeal(s
+00012580: 656c 6629 3a0a 2020 2020 2020 2020 7365  elf):.        se
+00012590: 6c66 2e70 7269 6e74 2866 2254 6865 2061  lf.print(f"The a
+000125a0: 7574 6f2d 6865 616c 2066 6561 7475 7265  uto-heal feature
+000125b0: 2065 6e61 626c 6573 207b 636f 6e66 6967   enables {config
+000125c0: 2e6c 6574 4d65 446f 4974 4e61 6d65 7d20  .letMeDoItName} 
+000125d0: 746f 2061 7574 6f6d 6174 6963 616c 6c79  to automatically
+000125e0: 2066 6978 2062 726f 6b65 6e20 5079 7468   fix broken Pyth
+000125f0: 6f6e 2063 6f64 6520 6966 2069 7420 7761  on code if it wa
+00012600: 7320 6e6f 7420 6578 6563 7574 6564 2070  s not executed p
+00012610: 726f 7065 726c 792e 2229 0a20 2020 2020  roperly.").     
+00012620: 2020 2073 656c 662e 7072 696e 7428 2250     self.print("P
+00012630: 6c65 6173 6520 7370 6563 6966 7920 6d61  lease specify ma
+00012640: 7869 6d75 6d20 6e75 6d62 6572 206f 6620  ximum number of 
+00012650: 6175 746f 2d68 6561 6c20 6174 7465 6d70  auto-heal attemp
+00012660: 7473 2062 656c 6f77 3a22 290a 2020 2020  ts below:").    
+00012670: 2020 2020 7365 6c66 2e70 7269 6e74 2822      self.print("
+00012680: 2852 656d 6172 6b73 3a20 456e 7465 7220  (Remarks: Enter 
+00012690: 2730 2720 6966 2079 6f75 2077 616e 7420  '0' if you want 
+000126a0: 746f 2064 6973 6162 6c65 2061 7574 6f2d  to disable auto-
+000126b0: 6865 616c 2066 6561 7475 7265 2922 290a  heal feature)").
+000126c0: 2020 2020 2020 2020 6d61 7841 7574 6f48          maxAutoH
+000126d0: 6561 6c20 3d20 7365 6c66 2e70 726f 6d70  eal = self.promp
+000126e0: 7473 2e73 696d 706c 6550 726f 6d70 7428  ts.simplePrompt(
+000126f0: 7374 796c 653d 7365 6c66 2e70 726f 6d70  style=self.promp
+00012700: 7473 2e70 726f 6d70 7453 7479 6c65 322c  ts.promptStyle2,
+00012710: 206e 756d 6265 724f 6e6c 793d 5472 7565   numberOnly=True
+00012720: 2c20 6465 6661 756c 743d 7374 7228 636f  , default=str(co
+00012730: 6e66 6967 2e6d 6178 5f63 6f6e 7365 6375  nfig.max_consecu
+00012740: 7469 7665 5f61 7574 6f5f 6865 616c 2929  tive_auto_heal))
+00012750: 0a20 2020 2020 2020 2069 6620 6d61 7841  .        if maxA
+00012760: 7574 6f48 6561 6c20 616e 6420 6e6f 7420  utoHeal and not 
+00012770: 6d61 7841 7574 6f48 6561 6c2e 7374 7269  maxAutoHeal.stri
+00012780: 7028 292e 6c6f 7765 7228 2920 3d3d 2063  p().lower() == c
+00012790: 6f6e 6669 672e 6578 6974 5f65 6e74 7279  onfig.exit_entry
+000127a0: 2061 6e64 2069 6e74 286d 6178 4175 746f   and int(maxAuto
+000127b0: 4865 616c 2920 3e3d 2030 3a0a 2020 2020  Heal) >= 0:.    
+000127c0: 2020 2020 2020 2020 636f 6e66 6967 2e6d          config.m
+000127d0: 6178 5f63 6f6e 7365 6375 7469 7665 5f61  ax_consecutive_a
+000127e0: 7574 6f5f 6865 616c 203d 2069 6e74 286d  uto_heal = int(m
+000127f0: 6178 4175 746f 4865 616c 290a 2020 2020  axAutoHeal).    
+00012800: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
+00012810: 6176 6543 6f6e 6669 6728 290a 2020 2020  aveConfig().    
+00012820: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+00012830: 6e74 3328 6622 4d61 7869 6d75 6d20 636f  nt3(f"Maximum co
+00012840: 6e73 6563 7574 6976 6520 6175 746f 2d68  nsecutive auto-h
+00012850: 6561 6c3a 207b 636f 6e66 6967 2e6d 6178  eal: {config.max
+00012860: 5f63 6f6e 7365 6375 7469 7665 5f61 7574  _consecutive_aut
+00012870: 6f5f 6865 616c 7d22 290a 0a20 2020 2064  o_heal}")..    d
+00012880: 6566 2073 6574 4d69 6e54 6f6b 656e 7328  ef setMinTokens(
+00012890: 7365 6c66 293a 0a20 2020 2020 2020 2073  self):.        s
+000128a0: 656c 662e 7072 696e 7428 2250 6c65 6173  elf.print("Pleas
+000128b0: 6520 7370 6563 6966 7920 6d69 6e69 6d75  e specify minimu
+000128c0: 6d20 7265 7370 6f6e 7365 2074 6f6b 656e  m response token
+000128d0: 7320 6265 6c6f 773a 2229 0a20 2020 2020  s below:").     
+000128e0: 2020 206d 696e 746f 6b65 6e73 203d 2073     mintokens = s
+000128f0: 656c 662e 7072 6f6d 7074 732e 7369 6d70  elf.prompts.simp
+00012900: 6c65 5072 6f6d 7074 2873 7479 6c65 3d73  lePrompt(style=s
+00012910: 656c 662e 7072 6f6d 7074 732e 7072 6f6d  elf.prompts.prom
+00012920: 7074 5374 796c 6532 2c20 6e75 6d62 6572  ptStyle2, number
+00012930: 4f6e 6c79 3d54 7275 652c 2064 6566 6175  Only=True, defau
+00012940: 6c74 3d73 7472 2863 6f6e 6669 672e 6368  lt=str(config.ch
+00012950: 6174 4750 5441 7069 4d69 6e54 6f6b 656e  atGPTApiMinToken
+00012960: 7329 290a 2020 2020 2020 2020 6966 206d  s)).        if m
+00012970: 696e 746f 6b65 6e73 2061 6e64 206e 6f74  intokens and not
+00012980: 206d 696e 746f 6b65 6e73 2e73 7472 6970   mintokens.strip
+00012990: 2829 2e6c 6f77 6572 2829 203d 3d20 636f  ().lower() == co
+000129a0: 6e66 6967 2e65 7869 745f 656e 7472 7920  nfig.exit_entry 
+000129b0: 616e 6420 696e 7428 6d69 6e74 6f6b 656e  and int(mintoken
+000129c0: 7329 203e 2030 3a0a 2020 2020 2020 2020  s) > 0:.        
+000129d0: 2020 2020 636f 6e66 6967 2e63 6861 7447      config.chatG
+000129e0: 5054 4170 694d 696e 546f 6b65 6e73 203d  PTApiMinTokens =
+000129f0: 2069 6e74 286d 696e 746f 6b65 6e73 290a   int(mintokens).
+00012a00: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+00012a10: 6f6e 6669 672e 6368 6174 4750 5441 7069  onfig.chatGPTApi
+00012a20: 4d69 6e54 6f6b 656e 7320 3e20 636f 6e66  MinTokens > conf
+00012a30: 6967 2e63 6861 7447 5054 4170 694d 6178  ig.chatGPTApiMax
+00012a40: 546f 6b65 6e73 3a0a 2020 2020 2020 2020  Tokens:.        
+00012a50: 2020 2020 2020 2020 636f 6e66 6967 2e63          config.c
+00012a60: 6861 7447 5054 4170 694d 696e 546f 6b65  hatGPTApiMinToke
+00012a70: 6e73 203d 2063 6f6e 6669 672e 6368 6174  ns = config.chat
+00012a80: 4750 5441 7069 4d61 7854 6f6b 656e 730a  GPTApiMaxTokens.
+00012a90: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+00012aa0: 6967 2e73 6176 6543 6f6e 6669 6728 290a  ig.saveConfig().
+00012ab0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00012ac0: 2e70 7269 6e74 3328 6622 4d69 6e69 6d75  .print3(f"Minimu
+00012ad0: 6d20 746f 6b65 6e73 3a20 7b63 6f6e 6669  m tokens: {confi
+00012ae0: 672e 6368 6174 4750 5441 7069 4d69 6e54  g.chatGPTApiMinT
+00012af0: 6f6b 656e 737d 2229 0a0a 2020 2020 6465  okens}")..    de
+00012b00: 6620 6765 744d 6178 546f 6b65 6e73 2873  f getMaxTokens(s
+00012b10: 656c 6629 3a0a 2020 2020 2020 2020 636f  elf):.        co
+00012b20: 6e74 6578 7457 696e 646f 774c 696d 6974  ntextWindowLimit
+00012b30: 203d 2053 6861 7265 6455 7469 6c2e 746f   = SharedUtil.to
+00012b40: 6b65 6e4c 696d 6974 735b 636f 6e66 6967  kenLimits[config
+00012b50: 2e63 6861 7447 5054 4170 694d 6f64 656c  .chatGPTApiModel
+00012b60: 5d0a 2020 2020 2020 2020 6675 6e63 7469  ].        functi
+00012b70: 6f6e 546f 6b65 6e73 203d 2053 6861 7265  onTokens = Share
+00012b80: 6455 7469 6c2e 636f 756e 745f 746f 6b65  dUtil.count_toke
+00012b90: 6e73 5f66 726f 6d5f 6675 6e63 7469 6f6e  ns_from_function
+00012ba0: 7328 636f 6e66 6967 2e63 6861 7447 5054  s(config.chatGPT
+00012bb0: 4170 6946 756e 6374 696f 6e53 6967 6e61  ApiFunctionSigna
+00012bc0: 7475 7265 732e 7661 6c75 6573 2829 290a  tures.values()).
+00012bd0: 2020 2020 2020 2020 6d61 7854 6f6b 656e          maxToken
+00012be0: 203d 2063 6f6e 7465 7874 5769 6e64 6f77   = contextWindow
+00012bf0: 4c69 6d69 7420 2d20 6675 6e63 7469 6f6e  Limit - function
+00012c00: 546f 6b65 6e73 202d 2063 6f6e 6669 672e  Tokens - config.
+00012c10: 6368 6174 4750 5441 7069 4d69 6e54 6f6b  chatGPTApiMinTok
+00012c20: 656e 730a 2020 2020 2020 2020 6966 206d  ens.        if m
+00012c30: 6178 546f 6b65 6e20 3e20 3430 3936 2061  axToken > 4096 a
+00012c40: 6e64 2063 6f6e 6669 672e 6368 6174 4750  nd config.chatGP
+00012c50: 5441 7069 4d6f 6465 6c20 696e 2028 0a20  TApiModel in (. 
+00012c60: 2020 2020 2020 2020 2020 2022 6770 742d             "gpt-
+00012c70: 342d 7475 7262 6f2d 7072 6576 6965 7722  4-turbo-preview"
+00012c80: 2c0a 2020 2020 2020 2020 2020 2020 2267  ,.            "g
+00012c90: 7074 2d34 2d30 3132 352d 7072 6576 6965  pt-4-0125-previe
+00012ca0: 7722 2c0a 2020 2020 2020 2020 2020 2020  w",.            
+00012cb0: 2267 7074 2d34 2d31 3130 362d 7072 6576  "gpt-4-1106-prev
+00012cc0: 6965 7722 2c0a 2020 2020 2020 2020 2020  iew",.          
+00012cd0: 2020 2267 7074 2d33 2e35 2d74 7572 626f    "gpt-3.5-turbo
+00012ce0: 222c 0a20 2020 2020 2020 2029 3a0a 2020  ",.        ):.  
+00012cf0: 2020 2020 2020 2020 2020 6d61 7854 6f6b            maxTok
+00012d00: 656e 203d 2034 3039 360a 2020 2020 2020  en = 4096.      
+00012d10: 2020 7265 7475 726e 2063 6f6e 7465 7874    return context
+00012d20: 5769 6e64 6f77 4c69 6d69 742c 2066 756e  WindowLimit, fun
+00012d30: 6374 696f 6e54 6f6b 656e 732c 206d 6178  ctionTokens, max
+00012d40: 546f 6b65 6e0a 0a20 2020 2064 6566 2073  Token..    def s
+00012d50: 6574 4d61 7854 6f6b 656e 7328 7365 6c66  etMaxTokens(self
+00012d60: 293a 0a20 2020 2020 2020 2063 6f6e 7465  ):.        conte
+00012d70: 7874 5769 6e64 6f77 4c69 6d69 742c 2066  xtWindowLimit, f
+00012d80: 756e 6374 696f 6e54 6f6b 656e 732c 2074  unctionTokens, t
+00012d90: 6f6b 656e 4c69 6d69 7420 3d20 7365 6c66  okenLimit = self
+00012da0: 2e67 6574 4d61 7854 6f6b 656e 7328 290a  .getMaxTokens().
+00012db0: 2020 2020 2020 2020 6966 2074 6f6b 656e          if token
+00012dc0: 4c69 6d69 7420 3c20 636f 6e66 6967 2e63  Limit < config.c
+00012dd0: 6861 7447 5054 4170 694d 696e 546f 6b65  hatGPTApiMinToke
+00012de0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00012df0: 7365 6c66 2e70 7269 6e74 3228 6622 4675  self.print2(f"Fu
+00012e00: 6e63 7469 6f6e 2074 6f6b 656e 7320 5b7b  nction tokens [{
+00012e10: 6675 6e63 7469 6f6e 546f 6b65 6e73 7d5d  functionTokens}]
+00012e20: 2065 7863 6565 6420 7b63 6f6e 6669 672e   exceed {config.
+00012e30: 6368 6174 4750 5441 7069 4d6f 6465 6c7d  chatGPTApiModel}
+00012e40: 2072 6573 706f 6e73 6520 746f 6b65 6e20   response token 
+00012e50: 6c69 6d69 742e 2229 0a20 2020 2020 2020  limit.").       
+00012e60: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00012e70: 2245 6974 6865 7220 6368 616e 6765 2074  "Either change t
+00012e80: 6f20 6120 6d6f 6465 6c20 7769 7468 2068  o a model with h
+00012e90: 6967 6865 7220 746f 6b65 6e20 6c69 6d69  igher token limi
+00012ea0: 7420 6f72 2064 6973 6162 6c65 2075 6e75  t or disable unu
+00012eb0: 7365 6420 6675 6e63 7469 6f6e 2d63 616c  sed function-cal
+00012ec0: 6c20 706c 6775 696e 732e 2229 0a20 2020  l plguins.").   
+00012ed0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00012ee0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00012ef0: 7428 7365 6c66 2e64 6976 6964 6572 290a  t(self.divider).
+00012f00: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00012f10: 2e70 7269 6e74 2822 4750 5420 616e 6420  .print("GPT and 
+00012f20: 656d 6265 6464 696e 6773 206d 6f64 656c  embeddings model
+00012f30: 7320 7072 6f63 6573 7320 7465 7874 2069  s process text i
+00012f40: 6e20 6368 756e 6b73 2063 616c 6c65 6420  n chunks called 
+00012f50: 746f 6b65 6e73 2e20 4173 2061 2072 6f75  tokens. As a rou
+00012f60: 6768 2072 756c 6520 6f66 2074 6875 6d62  gh rule of thumb
+00012f70: 2c20 3120 746f 6b65 6e20 6973 2061 7070  , 1 token is app
+00012f80: 726f 7869 6d61 7465 6c79 2034 2063 6861  roximately 4 cha
+00012f90: 7261 6374 6572 7320 6f72 2030 2e37 3520  racters or 0.75 
+00012fa0: 776f 7264 7320 666f 7220 456e 676c 6973  words for Englis
+00012fb0: 6820 7465 7874 2e20 4f6e 6520 6c69 6d69  h text. One limi
+00012fc0: 7461 7469 6f6e 2074 6f20 6b65 6570 2069  tation to keep i
+00012fd0: 6e20 6d69 6e64 2069 7320 7468 6174 2066  n mind is that f
+00012fe0: 6f72 2061 2047 5054 206d 6f64 656c 2074  or a GPT model t
+00012ff0: 6865 2070 726f 6d70 7420 616e 6420 7468  he prompt and th
+00013000: 6520 6765 6e65 7261 7465 6420 6f75 7470  e generated outp
+00013010: 7574 2063 6f6d 6269 6e65 6420 6d75 7374  ut combined must
+00013020: 2062 6520 6e6f 206d 6f72 6520 7468 616e   be no more than
+00013030: 2074 6865 206d 6f64 656c 2773 206d 6178   the model's max
+00013040: 696d 756d 2063 6f6e 7465 7874 206c 656e  imum context len
+00013050: 6774 682e 2229 0a20 2020 2020 2020 2020  gth.").         
+00013060: 2020 2073 656c 662e 7072 696e 7433 2866     self.print3(f
+00013070: 2243 7572 7265 6e74 2047 5054 206d 6f64  "Current GPT mod
+00013080: 656c 3a20 7b63 6f6e 6669 672e 6368 6174  el: {config.chat
+00013090: 4750 5441 7069 4d6f 6465 6c7d 2229 0a20  GPTApiModel}"). 
+000130a0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000130b0: 7072 696e 7433 2866 224d 6178 696d 756d  print3(f"Maximum
+000130c0: 2063 6f6e 7465 7874 206c 656e 6774 683a   context length:
+000130d0: 207b 636f 6e74 6578 7457 696e 646f 774c   {contextWindowL
+000130e0: 696d 6974 7d22 290a 2020 2020 2020 2020  imit}").        
+000130f0: 2020 2020 7365 6c66 2e70 7269 6e74 3328      self.print3(
+00013100: 6622 4375 7272 656e 7420 6675 6e63 7469  f"Current functi
+00013110: 6f6e 2074 6f6b 656e 733a 207b 6675 6e63  on tokens: {func
+00013120: 7469 6f6e 546f 6b65 6e73 7d22 290a 2020  tionTokens}").  
+00013130: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00013140: 7269 6e74 3328 6622 4d61 7869 6d75 6d20  rint3(f"Maximum 
+00013150: 7265 7370 6f6e 7365 2074 6f6b 656e 2061  response token a
+00013160: 6c6c 6f77 6564 2028 6578 636c 2e20 6675  llowed (excl. fu
+00013170: 6e63 7469 6f6e 7329 3a20 7b74 6f6b 656e  nctions): {token
+00013180: 4c69 6d69 747d 2229 0a20 2020 2020 2020  Limit}").       
+00013190: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+000131a0: 7365 6c66 2e64 6976 6964 6572 290a 2020  self.divider).  
+000131b0: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+000131c0: 7269 6e74 2822 506c 6561 7365 2073 7065  rint("Please spe
+000131d0: 6369 6679 206d 6178 696d 756d 2072 6573  cify maximum res
+000131e0: 706f 6e73 6520 746f 6b65 6e73 2062 656c  ponse tokens bel
+000131f0: 6f77 3a22 290a 2020 2020 2020 2020 2020  ow:").          
+00013200: 2020 6d61 7874 6f6b 656e 7320 3d20 7365    maxtokens = se
+00013210: 6c66 2e70 726f 6d70 7473 2e73 696d 706c  lf.prompts.simpl
+00013220: 6550 726f 6d70 7428 7374 796c 653d 7365  ePrompt(style=se
+00013230: 6c66 2e70 726f 6d70 7473 2e70 726f 6d70  lf.prompts.promp
+00013240: 7453 7479 6c65 322c 206e 756d 6265 724f  tStyle2, numberO
+00013250: 6e6c 793d 5472 7565 2c20 6465 6661 756c  nly=True, defaul
+00013260: 743d 7374 7228 636f 6e66 6967 2e63 6861  t=str(config.cha
+00013270: 7447 5054 4170 694d 6178 546f 6b65 6e73  tGPTApiMaxTokens
+00013280: 2929 0a20 2020 2020 2020 2020 2020 2069  )).            i
+00013290: 6620 6d61 7874 6f6b 656e 7320 616e 6420  f maxtokens and 
+000132a0: 6e6f 7420 6d61 7874 6f6b 656e 732e 7374  not maxtokens.st
+000132b0: 7269 7028 292e 6c6f 7765 7228 2920 3d3d  rip().lower() ==
+000132c0: 2063 6f6e 6669 672e 6578 6974 5f65 6e74   config.exit_ent
+000132d0: 7279 2061 6e64 2069 6e74 286d 6178 746f  ry and int(maxto
+000132e0: 6b65 6e73 2920 3e20 303a 0a20 2020 2020  kens) > 0:.     
+000132f0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00013300: 672e 6368 6174 4750 5441 7069 4d61 7854  g.chatGPTApiMaxT
+00013310: 6f6b 656e 7320 3d20 696e 7428 6d61 7874  okens = int(maxt
+00013320: 6f6b 656e 7329 0a20 2020 2020 2020 2020  okens).         
+00013330: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
+00013340: 2e63 6861 7447 5054 4170 694d 6178 546f  .chatGPTApiMaxTo
+00013350: 6b65 6e73 203e 2074 6f6b 656e 4c69 6d69  kens > tokenLimi
+00013360: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
+00013370: 2020 2020 2020 2063 6f6e 6669 672e 6368         config.ch
+00013380: 6174 4750 5441 7069 4d61 7854 6f6b 656e  atGPTApiMaxToken
+00013390: 7320 3d20 746f 6b65 6e4c 696d 6974 0a20  s = tokenLimit. 
+000133a0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+000133b0: 6f6e 6669 672e 7361 7665 436f 6e66 6967  onfig.saveConfig
+000133c0: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+000133d0: 2020 2073 656c 662e 7072 696e 7433 2866     self.print3(f
+000133e0: 224d 6178 696d 756d 2074 6f6b 656e 733a  "Maximum tokens:
+000133f0: 207b 636f 6e66 6967 2e63 6861 7447 5054   {config.chatGPT
+00013400: 4170 694d 6178 546f 6b65 6e73 7d22 290a  ApiMaxTokens}").
+00013410: 0a20 2020 2064 6566 2072 756e 5079 7468  .    def runPyth
+00013420: 6f6e 5363 7269 7074 2873 656c 662c 2073  onScript(self, s
+00013430: 6372 6970 7429 3a0a 2020 2020 2020 2020  cript):.        
+00013440: 7363 7269 7074 203d 2073 6372 6970 742e  script = script.
+00013450: 7374 7269 7028 295b 333a 2d33 5d0a 2020  strip()[3:-3].  
+00013460: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+00013470: 2020 2020 2020 2065 7865 6328 7363 7269         exec(scri
+00013480: 7074 2c20 676c 6f62 616c 7328 2929 0a20  pt, globals()). 
+00013490: 2020 2020 2020 2065 7863 6570 743a 0a20         except:. 
+000134a0: 2020 2020 2020 2020 2020 2074 7261 6365             trace
+000134b0: 203d 2074 7261 6365 6261 636b 2e66 6f72   = traceback.for
+000134c0: 6d61 745f 6578 6328 290a 2020 2020 2020  mat_exc().      
+000134d0: 2020 2020 2020 7072 696e 7428 7472 6163        print(trac
+000134e0: 6520 6966 2063 6f6e 6669 672e 6465 7665  e if config.deve
+000134f0: 6c6f 7065 7220 656c 7365 2022 4572 726f  loper else "Erro
+00013500: 7220 656e 636f 756e 7465 7265 6421 2229  r encountered!")
+00013510: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00013520: 662e 7072 696e 7428 7365 6c66 2e64 6976  f.print(self.div
+00013530: 6964 6572 290a 2020 2020 2020 2020 2020  ider).          
+00013540: 2020 6966 2063 6f6e 6669 672e 6d61 785f    if config.max_
+00013550: 636f 6e73 6563 7574 6976 655f 6175 746f  consecutive_auto
+00013560: 5f68 6561 6c20 3e20 303a 0a20 2020 2020  _heal > 0:.     
+00013570: 2020 2020 2020 2020 2020 2053 6861 7265             Share
+00013580: 6455 7469 6c2e 6175 746f 4865 616c 5079  dUtil.autoHealPy
+00013590: 7468 6f6e 436f 6465 2873 6372 6970 742c  thonCode(script,
+000135a0: 2074 7261 6365 290a 0a20 2020 2064 6566   trace)..    def
+000135b0: 2072 756e 5379 7374 656d 436f 6d6d 616e   runSystemComman
+000135c0: 6428 7365 6c66 2c20 636f 6d6d 616e 6429  d(self, command)
+000135d0: 3a0a 2020 2020 2020 2020 636f 6d6d 616e  :.        comman
+000135e0: 6420 3d20 636f 6d6d 616e 642e 7374 7269  d = command.stri
+000135f0: 7028 295b 313a 5d0a 2020 2020 2020 2020  p()[1:].        
+00013600: 6966 2022 5c6e 2220 696e 2063 6f6d 6d61  if "\n" in comma
+00013610: 6e64 3a0a 2020 2020 2020 2020 2020 2020  nd:.            
+00013620: 636f 6d6d 616e 6420 3d20 223b 222e 6a6f  command = ";".jo
+00013630: 696e 2863 6f6d 6d61 6e64 2e73 706c 6974  in(command.split
+00013640: 2822 5c6e 2229 290a 2020 2020 2020 2020  ("\n")).        
+00013650: 6966 2063 6f6e 6669 672e 7468 6973 506c  if config.thisPl
+00013660: 6174 666f 726d 203d 3d20 2257 696e 646f  atform == "Windo
+00013670: 7773 223a 0a20 2020 2020 2020 2020 2020  ws":.           
+00013680: 206f 732e 7379 7374 656d 2863 6f6d 6d61   os.system(comma
+00013690: 6e64 290a 2020 2020 2020 2020 656c 7365  nd).        else
+000136a0: 3a0a 2020 2020 2020 2020 2020 2020 6f73  :.            os
+000136b0: 2e73 7973 7465 6d28 6622 656e 7620 5154  .system(f"env QT
+000136c0: 5f51 5041 5f50 4c41 5446 4f52 4d5f 504c  _QPA_PLATFORM_PL
+000136d0: 5547 494e 5f50 4154 483d 277b 636f 6e66  UGIN_PATH='{conf
+000136e0: 6967 2e65 6e76 5f51 545f 5150 415f 504c  ig.env_QT_QPA_PL
+000136f0: 4154 464f 524d 5f50 4c55 4749 4e5f 5041  ATFORM_PLUGIN_PA
+00013700: 5448 7d27 207b 636f 6d6d 616e 647d 2229  TH}' {command}")
+00013710: 0a0a 2020 2020 6465 6620 746f 6767 6c65  ..    def toggle
+00013720: 4d75 6c74 696c 696e 6528 7365 6c66 293a  Multiline(self):
+00013730: 0a20 2020 2020 2020 2063 6f6e 6669 672e  .        config.
+00013740: 6d75 6c74 696c 696e 6549 6e70 7574 203d  multilineInput =
+00013750: 206e 6f74 2063 6f6e 6669 672e 6d75 6c74   not config.mult
+00013760: 696c 696e 6549 6e70 7574 0a20 2020 2020  ilineInput.     
+00013770: 2020 2072 756e 5f69 6e5f 7465 726d 696e     run_in_termin
+00013780: 616c 286c 616d 6264 613a 2073 656c 662e  al(lambda: self.
+00013790: 7072 696e 7428 6622 4d75 6c74 692d 6c69  print(f"Multi-li
+000137a0: 6e65 2069 6e70 7574 207b 2765 6e61 626c  ne input {'enabl
+000137b0: 6564 2720 6966 2063 6f6e 6669 672e 6d75  ed' if config.mu
+000137c0: 6c74 696c 696e 6549 6e70 7574 2065 6c73  ltilineInput els
+000137d0: 6520 2764 6973 6162 6c65 6427 7d21 2229  e 'disabled'}!")
+000137e0: 290a 2020 2020 2020 2020 6966 2063 6f6e  ).        if con
+000137f0: 6669 672e 6d75 6c74 696c 696e 6549 6e70  fig.multilineInp
+00013800: 7574 3a0a 2020 2020 2020 2020 2020 2020  ut:.            
+00013810: 7275 6e5f 696e 5f74 6572 6d69 6e61 6c28  run_in_terminal(
+00013820: 6c61 6d62 6461 3a20 7365 6c66 2e70 7269  lambda: self.pri
+00013830: 6e74 2822 5573 6520 2765 7363 6170 6520  nt("Use 'escape 
+00013840: 2b20 656e 7465 7227 2074 6f20 636f 6d70  + enter' to comp
+00013850: 6c65 7465 2079 6f75 7220 656e 7472 792e  lete your entry.
+00013860: 2229 290a 0a20 2020 2064 6566 2069 7354  "))..    def isT
+00013870: 7473 4176 6169 6c61 626c 6528 7365 6c66  tsAvailable(self
+00013880: 293a 0a20 2020 2020 2020 2069 6620 6e6f  ):.        if no
+00013890: 7420 636f 6e66 6967 2e69 7356 6c63 506c  t config.isVlcPl
+000138a0: 6179 6572 496e 7374 616c 6c65 6420 616e  ayerInstalled an
+000138b0: 6420 6e6f 7420 636f 6e66 6967 2e69 7350  d not config.isP
+000138c0: 7967 616d 6549 6e73 7461 6c6c 6564 2061  ygameInstalled a
+000138d0: 6e64 206e 6f74 2063 6f6e 6669 672e 7474  nd not config.tt
+000138e0: 7343 6f6d 6d61 6e64 2061 6e64 206e 6f74  sCommand and not
+000138f0: 2063 6f6e 6669 672e 656c 6576 656e 6c61   config.elevenla
+00013900: 6273 4170 693a 0a20 2020 2020 2020 2020  bsApi:.         
+00013910: 2020 2073 656c 662e 7072 696e 7432 2822     self.print2("
+00013920: 5465 7874 2d74 6f2d 7370 6565 6368 2066  Text-to-speech f
+00013930: 6561 7475 7265 2069 7320 6e6f 7420 656e  eature is not en
+00013940: 6162 6c65 6421 2229 0a20 2020 2020 2020  abled!").       
+00013950: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+00013960: 2822 5265 6164 3a20 6874 7470 733a 2f2f  ("Read: https://
+00013970: 6769 7468 7562 2e63 6f6d 2f65 6c69 7261  github.com/elira
+00013980: 6e77 6f6e 672f 6c65 746d 6564 6f69 742f  nwong/letmedoit/
+00013990: 7769 6b69 2f6c 6574 4d65 446f 4974 2d53  wiki/letMeDoIt-S
+000139a0: 7065 616b 7322 290a 2020 2020 2020 2020  peaks").        
+000139b0: 2020 2020 636f 6e66 6967 2e74 7473 203d      config.tts =
+000139c0: 2046 616c 7365 0a20 2020 2020 2020 2065   False.        e
+000139d0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000139e0: 2063 6f6e 6669 672e 7474 7320 3d20 5472   config.tts = Tr
+000139f0: 7565 0a20 2020 2020 2020 2072 6574 7572  ue.        retur
+00013a00: 6e20 636f 6e66 6967 2e74 7473 0a0a 2020  n config.tts..  
+00013a10: 2020 6465 6620 746f 6767 6c65 696e 7075    def toggleinpu
+00013a20: 7461 7564 696f 2873 656c 6629 3a0a 2020  taudio(self):.  
+00013a30: 2020 2020 2020 6966 2073 656c 662e 6973        if self.is
+00013a40: 5474 7341 7661 696c 6162 6c65 3a0a 2020  TtsAvailable:.  
+00013a50: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00013a60: 2e74 7473 496e 7075 7420 3d20 6e6f 7420  .ttsInput = not 
+00013a70: 636f 6e66 6967 2e74 7473 496e 7075 740a  config.ttsInput.
+00013a80: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
+00013a90: 6967 2e73 6176 6543 6f6e 6669 6728 290a  ig.saveConfig().
+00013aa0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00013ab0: 2e70 7269 6e74 3328 6622 496e 7075 7420  .print3(f"Input 
+00013ac0: 4175 6469 6f3a 2027 7b27 656e 6162 6c65  Audio: '{'enable
+00013ad0: 6427 2069 6620 636f 6e66 6967 2e74 7473  d' if config.tts
+00013ae0: 496e 7075 7420 656c 7365 2027 6469 7361  Input else 'disa
+00013af0: 626c 6564 277d 2721 2229 0a0a 2020 2020  bled'}'!")..    
+00013b00: 6465 6620 746f 6767 6c65 7265 7370 6f6e  def togglerespon
+00013b10: 7365 6175 6469 6f28 7365 6c66 293a 0a20  seaudio(self):. 
+00013b20: 2020 2020 2020 2069 6620 7365 6c66 2e69         if self.i
+00013b30: 7354 7473 4176 6169 6c61 626c 653a 0a20  sTtsAvailable:. 
+00013b40: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00013b50: 672e 7474 734f 7574 7075 7420 3d20 6e6f  g.ttsOutput = no
+00013b60: 7420 636f 6e66 6967 2e74 7473 4f75 7470  t config.ttsOutp
+00013b70: 7574 0a20 2020 2020 2020 2020 2020 2063  ut.            c
+00013b80: 6f6e 6669 672e 7361 7665 436f 6e66 6967  onfig.saveConfig
+00013b90: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
+00013ba0: 656c 662e 7072 696e 7433 2866 2252 6573  elf.print3(f"Res
+00013bb0: 706f 6e73 6520 4175 6469 6f3a 2027 7b27  ponse Audio: '{'
+00013bc0: 656e 6162 6c65 6427 2069 6620 636f 6e66  enabled' if conf
+00013bd0: 6967 2e74 7473 4f75 7470 7574 2065 6c73  ig.ttsOutput els
+00013be0: 6520 2764 6973 6162 6c65 6427 7d27 2122  e 'disabled'}'!"
+00013bf0: 290a 0a20 2020 2064 6566 2064 6566 696e  )..    def defin
+00013c00: 6554 7473 436f 6d6d 616e 6428 7365 6c66  eTtsCommand(self
+00013c10: 293a 0a20 2020 2020 2020 2073 656c 662e  ):.        self.
+00013c20: 7072 696e 7428 2244 6566 696e 6520 6375  print("Define cu
+00013c30: 7374 6f6d 2074 6578 742d 746f 2d73 7065  stom text-to-spe
+00013c40: 6563 6820 636f 6d6d 616e 6420 6265 6c6f  ech command belo
+00013c50: 773a 2229 0a20 2020 2020 2020 2073 656c  w:").        sel
+00013c60: 662e 7072 696e 7428 2222 222a 206f 6e20  f.print("""* on 
+00013c70: 6d61 634f 5320 5b27 7361 7920 2d76 2022  macOS ['say -v "
+00013c80: 3f22 2720 746f 2063 6865 636b 2076 6f69  ?"' to check voi
+00013c90: 6365 735d 2c20 652e 672e 3a5c 6e27 7361  ces], e.g.:\n'sa
+00013ca0: 7927 206f 7220 2773 6179 202d 7220 3230  y' or 'say -r 20
+00013cb0: 3020 2d76 2044 616e 6965 6c27 2222 2229  0 -v Daniel'""")
+00013cc0: 0a20 2020 2020 2020 2073 656c 662e 7072  .        self.pr
+00013cd0: 696e 7428 222a 206f 6e20 5562 756e 7475  int("* on Ubuntu
+00013ce0: 205b 2765 7370 6561 6b20 2d2d 766f 6963   ['espeak --voic
+00013cf0: 6573 2720 746f 2063 6865 636b 2076 6f69  es' to check voi
+00013d00: 6365 735d 2c20 652e 672e 3a5c 6e27 6573  ces], e.g.:\n'es
+00013d10: 7065 616b 2720 6f72 2027 6573 7065 616b  peak' or 'espeak
+00013d20: 202d 7320 3137 3520 2d76 2065 6e2d 6762   -s 175 -v en-gb
+00013d30: 2722 290a 2020 2020 2020 2020 7365 6c66  '").        self
+00013d40: 2e70 7269 6e74 2822 2a20 6f6e 2057 696e  .print("* on Win
+00013d50: 646f 7773 2c20 7369 6d70 6c79 2065 6e74  dows, simply ent
+00013d60: 6572 2027 7769 6e64 6f77 7327 2068 6572  er 'windows' her
+00013d70: 6520 746f 2075 7365 2057 696e 646f 7773  e to use Windows
+00013d80: 2062 7569 6c74 2d69 6e20 7370 6565 6368   built-in speech
+00013d90: 2065 6e67 696e 6522 2920 2320 6c65 746d   engine") # letm
+00013da0: 6564 6f69 742e 6169 2077 696c 6c20 6861  edoit.ai will ha
+00013db0: 6e64 6c65 2074 6865 2063 6f6d 6d61 6e64  ndle the command
+00013dc0: 2066 6f72 2057 696e 646f 7773 2075 7365   for Windows use
+00013dd0: 7273 0a20 2020 2020 2020 2073 656c 662e  rs.        self.
+00013de0: 7072 696e 7428 2272 656d 6172 6b73 3a20  print("remarks: 
+00013df0: 616c 7761 7973 2070 6c61 6365 2074 6865  always place the
+00013e00: 2076 6f69 6365 206f 7074 696f 6e2c 2069   voice option, i
+00013e10: 6620 616e 792c 2061 7420 7468 6520 656e  f any, at the en
+00013e20: 6422 290a 2020 2020 2020 2020 7474 7343  d").        ttsC
+00013e30: 6f6d 6d61 6e64 203d 2073 656c 662e 7072  ommand = self.pr
+00013e40: 6f6d 7074 732e 7369 6d70 6c65 5072 6f6d  ompts.simpleProm
+00013e50: 7074 2873 7479 6c65 3d73 656c 662e 7072  pt(style=self.pr
+00013e60: 6f6d 7074 732e 7072 6f6d 7074 5374 796c  ompts.promptStyl
+00013e70: 6532 2c20 6465 6661 756c 743d 636f 6e66  e2, default=conf
+00013e80: 6967 2e74 7473 436f 6d6d 616e 6429 0a20  ig.ttsCommand). 
+00013e90: 2020 2020 2020 2069 6620 7474 7343 6f6d         if ttsCom
+00013ea0: 6d61 6e64 3a0a 2020 2020 2020 2020 2020  mand:.          
+00013eb0: 2020 7365 6c66 2e70 7269 6e74 2822 5370    self.print("Sp
+00013ec0: 6563 6966 7920 636f 6d6d 616e 6420 7375  ecify command su
+00013ed0: 6666 6978 2062 656c 6f77 2c20 6966 2061  ffix below, if a
+00013ee0: 6e79 205b 6c65 6176 6520 6974 2062 6c61  ny [leave it bla
+00013ef0: 6e6b 2069 6620 4e2f 415d 3a22 290a 2020  nk if N/A]:").  
+00013f00: 2020 2020 2020 2020 2020 7474 7343 6f6d            ttsCom
+00013f10: 6d61 6e64 5375 6666 6978 203d 2073 656c  mandSuffix = sel
+00013f20: 662e 7072 6f6d 7074 732e 7369 6d70 6c65  f.prompts.simple
+00013f30: 5072 6f6d 7074 2873 7479 6c65 3d73 656c  Prompt(style=sel
+00013f40: 662e 7072 6f6d 7074 732e 7072 6f6d 7074  f.prompts.prompt
+00013f50: 5374 796c 6532 2c20 6465 6661 756c 743d  Style2, default=
+00013f60: 636f 6e66 6967 2e74 7473 436f 6d6d 616e  config.ttsComman
+00013f70: 6453 7566 6669 7829 0a20 2020 2020 2020  dSuffix).       
+00013f80: 2020 2020 2069 6620 7474 7343 6f6d 6d61       if ttsComma
+00013f90: 6e64 2e6c 6f77 6572 2829 203d 3d20 2277  nd.lower() == "w
+00013fa0: 696e 646f 7773 223a 0a20 2020 2020 2020  indows":.       
+00013fb0: 2020 2020 2020 2020 2063 6f6d 6d61 6e64           command
+00013fc0: 203d 2066 2727 2750 6f77 6572 5368 656c   = f'''PowerShel
+00013fd0: 6c20 2d43 6f6d 6d61 6e64 2022 4164 642d  l -Command "Add-
+00013fe0: 5479 7065 20e2 8093 4173 7365 6d62 6c79  Type ...Assembly
+00013ff0: 4e61 6d65 2053 7973 7465 6d2e 5370 6565  Name System.Spee
+00014000: 6368 3b20 284e 6577 2d4f 626a 6563 7420  ch; (New-Object 
+00014010: 5379 7374 656d 2e53 7065 6563 682e 5379  System.Speech.Sy
+00014020: 6e74 6865 7369 732e 5370 6565 6368 5379  nthesis.SpeechSy
+00014030: 6e74 6865 7369 7a65 7229 2e53 7065 616b  nthesizer).Speak
+00014040: 2827 7465 7374 696e 6727 293b 2227 2727  ('testing');"'''
+00014050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014060: 2074 7473 436f 6d6d 616e 6453 7566 6669   ttsCommandSuffi
+00014070: 7820 3d20 2222 0a20 2020 2020 2020 2020  x = "".         
+00014080: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00014090: 2020 2020 2020 2020 2063 6f6d 6d61 6e64           command
+000140a0: 203d 2066 2727 277b 7474 7343 6f6d 6d61   = f'''{ttsComma
+000140b0: 6e64 7d20 2274 6573 7469 6e67 227b 7474  nd} "testing"{tt
+000140c0: 7343 6f6d 6d61 6e64 5375 6666 6978 7d27  sCommandSuffix}'
+000140d0: 2727 0a20 2020 2020 2020 2020 2020 205f  ''.            _
+000140e0: 2c20 7374 6445 7272 203d 2073 7562 7072  , stdErr = subpr
+000140f0: 6f63 6573 732e 506f 7065 6e28 636f 6d6d  ocess.Popen(comm
+00014100: 616e 642c 2073 6865 6c6c 3d54 7275 652c  and, shell=True,
+00014110: 2073 7464 6f75 743d 7375 6270 726f 6365   stdout=subproce
+00014120: 7373 2e50 4950 452c 2073 7464 6572 723d  ss.PIPE, stderr=
+00014130: 7375 6270 726f 6365 7373 2e50 4950 4529  subprocess.PIPE)
+00014140: 2e63 6f6d 6d75 6e69 6361 7465 2829 0a20  .communicate(). 
+00014150: 2020 2020 2020 2020 2020 2069 6620 7374             if st
+00014160: 6445 7272 3a0a 2020 2020 2020 2020 2020  dErr:.          
+00014170: 2020 2020 2020 5368 6172 6564 5574 696c        SharedUtil
+00014180: 2e73 686f 7745 7272 6f72 7328 2920 6966  .showErrors() if
+00014190: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+000141a0: 7220 656c 7365 2073 656c 662e 7072 696e  r else self.prin
+000141b0: 7428 2245 6e74 6572 6564 2063 6f6d 6d61  t("Entered comma
+000141c0: 6e64 2069 6e76 616c 6964 2122 290a 2020  nd invalid!").  
+000141d0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+000141e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000141f0: 636f 6e66 6967 2e74 7473 436f 6d6d 616e  config.ttsComman
+00014200: 642c 2063 6f6e 6669 672e 7474 7343 6f6d  d, config.ttsCom
+00014210: 6d61 6e64 5375 6666 6978 203d 2074 7473  mandSuffix = tts
+00014220: 436f 6d6d 616e 642c 2074 7473 436f 6d6d  Command, ttsComm
+00014230: 616e 6453 7566 6669 780a 2020 2020 2020  andSuffix.      
+00014240: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00014250: 2e73 6176 6543 6f6e 6669 6728 290a 2020  .saveConfig().  
+00014260: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00014270: 2020 2020 2020 2020 636f 6e66 6967 2e74          config.t
+00014280: 7473 436f 6d6d 616e 642c 2063 6f6e 6669  tsCommand, confi
+00014290: 672e 7474 7343 6f6d 6d61 6e64 5375 6666  g.ttsCommandSuff
+000142a0: 6978 203d 2022 222c 2022 220a 0a20 2020  ix = "", ""..   
+000142b0: 2064 6566 2074 6f67 676c 6557 6f72 6457   def toggleWordW
+000142c0: 7261 7028 7365 6c66 293a 0a20 2020 2020  rap(self):.     
+000142d0: 2020 2063 6f6e 6669 672e 7772 6170 576f     config.wrapWo
+000142e0: 7264 7320 3d20 6e6f 7420 636f 6e66 6967  rds = not config
+000142f0: 2e77 7261 7057 6f72 6473 0a20 2020 2020  .wrapWords.     
+00014300: 2020 2063 6f6e 6669 672e 7361 7665 436f     config.saveCo
+00014310: 6e66 6967 2829 0a20 2020 2020 2020 2073  nfig().        s
+00014320: 656c 662e 7072 696e 7433 2866 2257 6f72  elf.print3(f"Wor
+00014330: 6420 5772 6170 3a20 277b 2765 6e61 626c  d Wrap: '{'enabl
+00014340: 6564 2720 6966 2063 6f6e 6669 672e 7772  ed' if config.wr
+00014350: 6170 576f 7264 7320 656c 7365 2027 6469  apWords else 'di
+00014360: 7361 626c 6564 277d 2721 2229 0a0a 2020  sabled'}'!")..  
+00014370: 2020 6465 6620 746f 6767 6c65 4d6f 7573    def toggleMous
+00014380: 6553 7570 706f 7274 2873 656c 6629 3a0a  eSupport(self):.
+00014390: 2020 2020 2020 2020 636f 6e66 6967 2e6d          config.m
+000143a0: 6f75 7365 5375 7070 6f72 7420 3d20 6e6f  ouseSupport = no
+000143b0: 7420 636f 6e66 6967 2e6d 6f75 7365 5375  t config.mouseSu
+000143c0: 7070 6f72 740a 2020 2020 2020 2020 636f  pport.        co
+000143d0: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
+000143e0: 290a 2020 2020 2020 2020 7365 6c66 2e70  ).        self.p
+000143f0: 7269 6e74 3328 6622 456e 7472 7920 4d6f  rint3(f"Entry Mo
+00014400: 7573 6520 5375 7070 6f72 743a 2027 7b27  use Support: '{'
+00014410: 656e 6162 6c65 6427 2069 6620 636f 6e66  enabled' if conf
+00014420: 6967 2e6d 6f75 7365 5375 7070 6f72 7420  ig.mouseSupport 
+00014430: 656c 7365 2027 6469 7361 626c 6564 277d  else 'disabled'}
+00014440: 2721 2229 0a0a 2020 2020 6465 6620 746f  '!")..    def to
+00014450: 6767 6c65 496d 7072 6f76 6564 5772 6974  ggleImprovedWrit
+00014460: 696e 6728 7365 6c66 293a 0a20 2020 2020  ing(self):.     
+00014470: 2020 2063 6f6e 6669 672e 6469 7370 6c61     config.displa
+00014480: 7949 6d70 726f 7665 6457 7269 7469 6e67  yImprovedWriting
+00014490: 203d 206e 6f74 2063 6f6e 6669 672e 6469   = not config.di
+000144a0: 7370 6c61 7949 6d70 726f 7665 6457 7269  splayImprovedWri
+000144b0: 7469 6e67 0a20 2020 2020 2020 2069 6620  ting.        if 
+000144c0: 636f 6e66 6967 2e64 6973 706c 6179 496d  config.displayIm
+000144d0: 7072 6f76 6564 5772 6974 696e 673a 0a20  provedWriting:. 
+000144e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000144f0: 7072 696e 7428 2250 6c65 6173 6520 7370  print("Please sp
+00014500: 6563 6966 7920 7468 6520 7772 6974 696e  ecify the writin
+00014510: 6720 7374 796c 6520 6265 6c6f 773a 2229  g style below:")
+00014520: 0a20 2020 2020 2020 2020 2020 2073 7479  .            sty
+00014530: 6c65 203d 2073 656c 662e 7072 6f6d 7074  le = self.prompt
+00014540: 732e 7369 6d70 6c65 5072 6f6d 7074 2873  s.simplePrompt(s
+00014550: 7479 6c65 3d73 656c 662e 7072 6f6d 7074  tyle=self.prompt
+00014560: 732e 7072 6f6d 7074 5374 796c 6532 2c20  s.promptStyle2, 
+00014570: 6465 6661 756c 743d 636f 6e66 6967 2e69  default=config.i
+00014580: 6d70 726f 7665 6457 7269 7469 6e67 5379  mprovedWritingSy
+00014590: 746c 6529 0a20 2020 2020 2020 2020 2020  tle).           
+000145a0: 2069 6620 7374 796c 6520 616e 6420 6e6f   if style and no
+000145b0: 7420 7374 796c 6520 696e 2028 636f 6e66  t style in (conf
+000145c0: 6967 2e65 7869 745f 656e 7472 792c 2063  ig.exit_entry, c
+000145d0: 6f6e 6669 672e 6361 6e63 656c 5f65 6e74  onfig.cancel_ent
+000145e0: 7279 293a 0a20 2020 2020 2020 2020 2020  ry):.           
+000145f0: 2020 2020 2063 6f6e 6669 672e 696d 7072       config.impr
+00014600: 6f76 6564 5772 6974 696e 6753 7974 6c65  ovedWritingSytle
+00014610: 203d 2073 7479 6c65 0a20 2020 2020 2020   = style.       
+00014620: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+00014630: 7361 7665 436f 6e66 6967 2829 0a20 2020  saveConfig().   
+00014640: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+00014650: 2866 2249 6d70 726f 7665 6420 5772 6974  (f"Improved Writ
+00014660: 696e 6720 4469 7370 6c61 793a 2027 7b27  ing Display: '{'
+00014670: 656e 6162 6c65 6427 2069 6620 636f 6e66  enabled' if conf
+00014680: 6967 2e64 6973 706c 6179 496d 7072 6f76  ig.displayImprov
+00014690: 6564 5772 6974 696e 6720 656c 7365 2027  edWriting else '
+000146a0: 6469 7361 626c 6564 277d 2721 2229 0a0a  disabled'}'!")..
+000146b0: 2020 2020 6465 6620 7365 7441 7564 696f      def setAudio
+000146c0: 506c 6179 6261 636b 546f 6f6c 2873 656c  PlaybackTool(sel
+000146d0: 6629 3a0a 2020 2020 2020 2020 706c 6179  f):.        play
+000146e0: 6261 636b 203d 2073 656c 662e 6469 616c  back = self.dial
+000146f0: 6f67 732e 6765 7456 616c 6964 4f70 7469  ogs.getValidOpti
+00014700: 6f6e 7328 0a20 2020 2020 2020 2020 2020  ons(.           
+00014710: 206f 7074 696f 6e73 3d28 2270 7967 616d   options=("pygam
+00014720: 6522 2c20 2276 6c63 2229 2c0a 2020 2020  e", "vlc"),.    
+00014730: 2020 2020 2020 2020 6465 7363 7269 7074          descript
+00014740: 696f 6e73 3d28 2250 7947 616d 6522 2c20  ions=("PyGame", 
+00014750: 6622 564c 4320 506c 6179 6572 2028 772f  f"VLC Player (w/
+00014760: 2073 7065 6564 2063 6f6e 7472 6f6c 297b   speed control){
+00014770: 2720 5b69 6e73 7461 6c6c 6174 696f 6e20  ' [installation 
+00014780: 7265 7175 6972 6564 5d27 2069 6620 6e6f  required]' if no
+00014790: 7420 636f 6e66 6967 2e69 7356 6c63 506c  t config.isVlcPl
+000147a0: 6179 6572 496e 7374 616c 6c65 6420 656c  ayerInstalled el
+000147b0: 7365 2027 277d 2229 2c0a 2020 2020 2020  se ''}"),.      
+000147c0: 2020 2020 2020 7469 746c 653d 2254 6578        title="Tex
+000147d0: 742d 746f 2d53 7065 6563 6820 506c 6179  t-to-Speech Play
+000147e0: 6261 636b 222c 0a20 2020 2020 2020 2020  back",.         
+000147f0: 2020 2074 6578 743d 2253 656c 6563 7420     text="Select 
+00014800: 6120 7465 7874 2d74 6f2d 7370 6565 6368  a text-to-speech
+00014810: 2070 6c61 636b 6261 636b 2074 6f6f 6c3a   plackback tool:
+00014820: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
+00014830: 6566 6175 6c74 3d22 766c 6322 2069 6620  efault="vlc" if 
+00014840: 636f 6e66 6967 2e69 7356 6c63 506c 6179  config.isVlcPlay
+00014850: 6572 496e 7374 616c 6c65 6420 616e 6420  erInstalled and 
+00014860: 6e6f 7420 636f 6e66 6967 2e75 7365 5079  not config.usePy
+00014870: 6761 6d65 2065 6c73 6520 2270 7967 616d  game else "pygam
+00014880: 6522 2c0a 2020 2020 2020 2020 290a 2020  e",.        ).  
+00014890: 2020 2020 2020 6966 2070 6c61 7962 6163        if playbac
+000148a0: 6b3a 0a20 2020 2020 2020 2020 2020 2069  k:.            i
+000148b0: 6620 706c 6179 6261 636b 203d 3d20 2276  f playback == "v
+000148c0: 6c63 223a 0a20 2020 2020 2020 2020 2020  lc":.           
+000148d0: 2020 2020 2069 6620 6e6f 7420 636f 6e66       if not conf
+000148e0: 6967 2e69 7356 6c63 506c 6179 6572 496e  ig.isVlcPlayerIn
+000148f0: 7374 616c 6c65 643a 0a20 2020 2020 2020  stalled:.       
+00014900: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00014910: 662e 7072 696e 7428 2256 4c43 2070 6c61  f.print("VLC pla
+00014920: 7965 7220 6e6f 7420 666f 756e 6421 2049  yer not found! I
+00014930: 6e73 7461 6c6c 2069 7420 6669 7273 7421  nstall it first!
+00014940: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+00014950: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00014960: 7433 2822 5465 7874 2d74 6f2d 5370 6565  t3("Text-to-Spee
+00014970: 6368 2050 6c61 7962 6163 6b20 6368 616e  ch Playback chan
+00014980: 6765 6420 746f 3a20 5079 4761 6d65 2229  ged to: PyGame")
+00014990: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000149a0: 2020 2020 2063 6f6e 6669 672e 7573 6550       config.useP
+000149b0: 7967 616d 6520 3d20 5472 7565 0a20 2020  ygame = True.   
+000149c0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+000149d0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+000149e0: 2020 2020 2020 2063 6f6e 6669 672e 7573         config.us
+000149f0: 6550 7967 616d 6520 3d20 4661 6c73 650a  ePygame = False.
+00014a00: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00014a10: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00014a20: 2020 636f 6e66 6967 2e75 7365 5079 6761    config.usePyga
+00014a30: 6d65 203d 2054 7275 650a 0a20 2020 2064  me = True..    d
+00014a40: 6566 2073 6574 5465 7874 546f 5370 6565  ef setTextToSpee
+00014a50: 6368 436f 6e66 6967 2873 656c 6629 3a0a  chConfig(self):.
+00014a60: 2020 2020 2020 2020 7474 7350 6c61 7466          ttsPlatf
+00014a70: 6f72 6d20 3d20 7365 6c66 2e64 6961 6c6f  orm = self.dialo
+00014a80: 6773 2e67 6574 5661 6c69 644f 7074 696f  gs.getValidOptio
+00014a90: 6e73 280a 2020 2020 2020 2020 2020 2020  ns(.            
+00014aa0: 6f70 7469 6f6e 733d 2822 676f 6f67 6c65  options=("google
+00014ab0: 222c 2022 676f 6f67 6c65 636c 6f75 6422  ", "googlecloud"
+00014ac0: 2c20 2265 6c65 7665 6e6c 6162 7322 2c20  , "elevenlabs", 
+00014ad0: 2263 7573 746f 6d22 292c 0a20 2020 2020  "custom"),.     
+00014ae0: 2020 2020 2020 2064 6573 6372 6970 7469         descripti
+00014af0: 6f6e 733d 2822 476f 6f67 6c65 2054 6578  ons=("Google Tex
+00014b00: 742d 746f 2d53 7065 6563 6820 2847 656e  t-to-Speech (Gen
+00014b10: 6572 6963 2922 2c20 2247 6f6f 676c 6520  eric)", "Google 
+00014b20: 5465 7874 2d74 6f2d 5370 6565 6368 2028  Text-to-Speech (
+00014b30: 4150 4929 222c 2022 456c 6576 656e 4c61  API)", "ElevenLa
+00014b40: 6273 2028 4150 4929 222c 2022 4375 7374  bs (API)", "Cust
+00014b50: 6f6d 2054 6578 742d 746f 2d53 7065 6563  om Text-to-Speec
+00014b60: 6820 436f 6d6d 616e 6420 5b61 6476 616e  h Command [advan
+00014b70: 6365 645d 2229 2c0a 2020 2020 2020 2020  ced]"),.        
+00014b80: 2020 2020 7469 746c 653d 2254 6578 742d      title="Text-
+00014b90: 746f 2d53 7065 6563 6820 436f 6e66 6967  to-Speech Config
+00014ba0: 7572 6174 696f 6e73 222c 0a20 2020 2020  urations",.     
+00014bb0: 2020 2020 2020 2074 6578 743d 2253 656c         text="Sel
+00014bc0: 6563 7420 6120 7465 7874 2d74 6f2d 7370  ect a text-to-sp
+00014bd0: 6565 6368 2070 6c61 7466 6f72 6d3a 222c  eech platform:",
+00014be0: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+00014bf0: 6175 6c74 3d63 6f6e 6669 672e 7474 7350  ault=config.ttsP
+00014c00: 6c61 7466 6f72 6d2c 0a20 2020 2020 2020  latform,.       
+00014c10: 2029 0a20 2020 2020 2020 2069 6620 7474   ).        if tt
+00014c20: 7350 6c61 7466 6f72 6d3a 0a20 2020 2020  sPlatform:.     
+00014c30: 2020 2020 2020 2069 6620 7474 7350 6c61         if ttsPla
+00014c40: 7466 6f72 6d20 3d3d 2022 676f 6f67 6c65  tform == "google
+00014c50: 636c 6f75 6422 2061 6e64 206e 6f74 2028  cloud" and not (
+00014c60: 6f73 2e65 6e76 6972 6f6e 5b22 474f 4f47  os.environ["GOOG
+00014c70: 4c45 5f41 5050 4c49 4341 5449 4f4e 5f43  LE_APPLICATION_C
+00014c80: 5245 4445 4e54 4941 4c53 225d 2061 6e64  REDENTIALS"] and
+00014c90: 2022 5465 7874 2d74 6f2d 5370 6565 6368   "Text-to-Speech
+00014ca0: 2220 696e 2063 6f6e 6669 672e 656e 6162  " in config.enab
+00014cb0: 6c65 6447 6f6f 676c 6541 5049 7329 3a0a  ledGoogleAPIs):.
+00014cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014cd0: 7365 6c66 2e70 7269 6e74 3228 2247 6f6f  self.print2("Goo
+00014ce0: 676c 6520 436c 6f75 6420 5465 7874 2d74  gle Cloud Text-t
+00014cf0: 6f2d 5370 6565 6368 2066 6561 7475 7265  o-Speech feature
+00014d00: 2069 7320 6e6f 7420 656e 6162 6c65 6421   is not enabled!
+00014d10: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+00014d20: 2020 2073 656c 662e 7072 696e 7433 2822     self.print3("
+00014d30: 5265 6164 3a20 6874 7470 733a 2f2f 6769  Read: https://gi
+00014d40: 7468 7562 2e63 6f6d 2f65 6c69 7261 6e77  thub.com/eliranw
+00014d50: 6f6e 672f 6c65 746d 6564 6f69 742f 7769  ong/letmedoit/wi
+00014d60: 6b69 2f47 6f6f 676c 652d 4150 492d 5365  ki/Google-API-Se
+00014d70: 7475 7022 290a 2020 2020 2020 2020 2020  tup").          
+00014d80: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00014d90: 3328 2254 6578 742d 746f 2d53 7065 6563  3("Text-to-Speec
+00014da0: 6820 706c 6174 666f 726d 2063 6861 6e67  h platform chang
+00014db0: 6564 2074 6f3a 2047 6f6f 676c 6520 5465  ed to: Google Te
+00014dc0: 7874 2d74 6f2d 5370 6565 6368 2028 4765  xt-to-Speech (Ge
+00014dd0: 6e65 7269 6329 2229 0a20 2020 2020 2020  neric)").       
+00014de0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+00014df0: 7474 7350 6c61 7466 6f72 6d20 3d20 2267  ttsPlatform = "g
+00014e00: 6f6f 676c 6522 0a20 2020 2020 2020 2020  oogle".         
+00014e10: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00014e20: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+00014e30: 7474 7350 6c61 7466 6f72 6d20 3d20 7474  ttsPlatform = tt
+00014e40: 7350 6c61 7466 6f72 6d0a 2020 2020 2020  sPlatform.      
+00014e50: 2020 2320 6675 7274 6865 7220 6f70 7469    # further opti
+00014e60: 6f6e 730a 2020 2020 2020 2020 6966 2063  ons.        if c
+00014e70: 6f6e 6669 672e 7474 7350 6c61 7466 6f72  onfig.ttsPlatfor
+00014e80: 6d20 3d3d 2022 676f 6f67 6c65 223a 0a20  m == "google":. 
+00014e90: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00014ea0: 7365 7447 7474 734c 616e 6775 6167 6528  setGttsLanguage(
+00014eb0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+00014ec0: 6c66 2e73 6574 4175 6469 6f50 6c61 7962  lf.setAudioPlayb
+00014ed0: 6163 6b54 6f6f 6c28 290a 2020 2020 2020  ackTool().      
+00014ee0: 2020 2020 2020 7365 6c66 2e73 6574 566c        self.setVl
+00014ef0: 6353 7065 6564 2829 0a20 2020 2020 2020  cSpeed().       
+00014f00: 2065 6c69 6620 636f 6e66 6967 2e74 7473   elif config.tts
+00014f10: 506c 6174 666f 726d 203d 3d20 2267 6f6f  Platform == "goo
+00014f20: 676c 6563 6c6f 7564 223a 0a20 2020 2020  glecloud":.     
+00014f30: 2020 2020 2020 2073 656c 662e 7365 7447         self.setG
+00014f40: 6374 7473 4c61 6e67 7561 6765 2829 0a20  cttsLanguage(). 
+00014f50: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00014f60: 7365 7447 6374 7473 5370 6565 6428 290a  setGcttsSpeed().
+00014f70: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00014f80: 2e73 6574 4175 6469 6f50 6c61 7962 6163  .setAudioPlaybac
+00014f90: 6b54 6f6f 6c28 290a 2020 2020 2020 2020  kTool().        
+00014fa0: 2020 2020 7365 6c66 2e73 6574 566c 6353      self.setVlcS
+00014fb0: 7065 6564 2829 0a20 2020 2020 2020 2065  peed().        e
+00014fc0: 6c69 6620 636f 6e66 6967 2e74 7473 506c  lif config.ttsPl
+00014fd0: 6174 666f 726d 203d 3d20 2265 6c65 7665  atform == "eleve
+00014fe0: 6e6c 6162 7322 3a0a 2020 2020 2020 2020  nlabs":.        
+00014ff0: 2020 2020 6966 206e 6f74 2063 6f6e 6669      if not confi
+00015000: 672e 656c 6576 656e 6c61 6273 4170 693a  g.elevenlabsApi:
+00015010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015020: 2073 656c 662e 6368 616e 6765 456c 6576   self.changeElev
+00015030: 656e 6c61 6273 4170 6928 290a 2020 2020  enlabsApi().    
+00015040: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
+00015050: 6f6e 6669 672e 656c 6576 656e 6c61 6273  onfig.elevenlabs
+00015060: 4170 693a 0a20 2020 2020 2020 2020 2020  Api:.           
+00015070: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+00015080: 2245 6c65 7665 6e4c 6162 7320 4150 4920  "ElevenLabs API 
+00015090: 6b65 7920 6e6f 7420 666f 756e 6421 2229  key not found!")
+000150a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000150b0: 2073 656c 662e 7072 696e 7433 2822 5465   self.print3("Te
+000150c0: 7874 2d74 6f2d 5370 6565 6368 2070 6c61  xt-to-Speech pla
+000150d0: 7466 6f72 6d20 6368 616e 6765 6420 746f  tform changed to
+000150e0: 3a20 476f 6f67 6c65 2054 6578 742d 746f  : Google Text-to
+000150f0: 2d53 7065 6563 6820 2847 656e 6572 6963  -Speech (Generic
+00015100: 2922 290a 2020 2020 2020 2020 2020 2020  )").            
+00015110: 2020 2020 636f 6e66 6967 2e74 7473 506c      config.ttsPl
+00015120: 6174 666f 726d 203d 2022 676f 6f67 6c65  atform = "google
+00015130: 220a 2020 2020 2020 2020 2020 2020 656c  ".            el
+00015140: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00015150: 2020 2020 7365 6c66 2e73 6574 456c 6576      self.setElev
+00015160: 656e 6c61 6273 566f 6963 6528 290a 2020  enlabsVoice().  
+00015170: 2020 2020 2020 656c 6966 2063 6f6e 6669        elif confi
+00015180: 672e 7474 7350 6c61 7466 6f72 6d20 3d3d  g.ttsPlatform ==
+00015190: 2022 6375 7374 6f6d 223a 0a20 2020 2020   "custom":.     
+000151a0: 2020 2020 2020 2073 656c 662e 6465 6669         self.defi
+000151b0: 6e65 5474 7343 6f6d 6d61 6e64 2829 0a20  neTtsCommand(). 
+000151c0: 2020 2020 2020 2023 2073 6176 6520 636f         # save co
+000151d0: 6e66 6967 730a 2020 2020 2020 2020 636f  nfigs.        co
+000151e0: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
+000151f0: 290a 0a20 2020 2064 6566 2073 6574 566f  )..    def setVo
+00015200: 6963 6554 7970 696e 6743 6f6e 6669 6728  iceTypingConfig(
+00015210: 7365 6c66 293a 0a20 2020 2020 2020 2076  self):.        v
+00015220: 6f69 6365 5479 7069 6e67 506c 6174 666f  oiceTypingPlatfo
+00015230: 726d 203d 2073 656c 662e 6469 616c 6f67  rm = self.dialog
+00015240: 732e 6765 7456 616c 6964 4f70 7469 6f6e  s.getValidOption
+00015250: 7328 0a20 2020 2020 2020 2020 2020 206f  s(.            o
+00015260: 7074 696f 6e73 3d28 2267 6f6f 676c 6522  ptions=("google"
+00015270: 2c20 2267 6f6f 676c 6563 6c6f 7564 222c  , "googlecloud",
+00015280: 2022 7768 6973 7065 7222 292c 0a20 2020   "whisper"),.   
+00015290: 2020 2020 2020 2020 2064 6573 6372 6970           descrip
+000152a0: 7469 6f6e 733d 2822 476f 6f67 6c65 2053  tions=("Google S
+000152b0: 7065 6563 682d 746f 2d54 6578 7420 2847  peech-to-Text (G
+000152c0: 656e 6572 6963 2920 5b6f 6e6c 696e 655d  eneric) [online]
+000152d0: 222c 2022 476f 6f67 6c65 2053 7065 6563  ", "Google Speec
+000152e0: 682d 746f 2d54 6578 7420 2841 5049 2920  h-to-Text (API) 
+000152f0: 5b6f 6e6c 696e 655d 222c 2022 4f70 656e  [online]", "Open
+00015300: 4149 2057 6869 7370 6572 205b 6f66 666c  AI Whisper [offl
+00015310: 696e 653b 2073 6c6f 7765 7220 7769 7468  ine; slower with
+00015320: 206e 6f6e 2d45 6e67 6c69 7368 2076 6f69   non-English voi
+00015330: 6365 735d 2229 2c0a 2020 2020 2020 2020  ces]"),.        
+00015340: 2020 2020 7469 746c 653d 2256 6f69 6365      title="Voice
+00015350: 2054 7970 696e 6720 436f 6e66 6967 7572   Typing Configur
+00015360: 6174 696f 6e73 222c 0a20 2020 2020 2020  ations",.       
+00015370: 2020 2020 2074 6578 743d 2253 656c 6563       text="Selec
+00015380: 7420 6120 766f 6963 6520 7479 7069 6e67  t a voice typing
+00015390: 2070 6c61 7466 6f72 6d3a 222c 0a20 2020   platform:",.   
+000153a0: 2020 2020 2020 2020 2064 6566 6175 6c74           default
+000153b0: 3d63 6f6e 6669 672e 766f 6963 6554 7970  =config.voiceTyp
+000153c0: 696e 6750 6c61 7466 6f72 6d2c 0a20 2020  ingPlatform,.   
+000153d0: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
+000153e0: 6620 766f 6963 6554 7970 696e 6750 6c61  f voiceTypingPla
+000153f0: 7466 6f72 6d3a 0a20 2020 2020 2020 2020  tform:.         
+00015400: 2020 2069 6620 766f 6963 6554 7970 696e     if voiceTypin
+00015410: 6750 6c61 7466 6f72 6d20 3d3d 2022 676f  gPlatform == "go
+00015420: 6f67 6c65 636c 6f75 6422 2061 6e64 206e  oglecloud" and n
+00015430: 6f74 2028 6f73 2e65 6e76 6972 6f6e 5b22  ot (os.environ["
+00015440: 474f 4f47 4c45 5f41 5050 4c49 4341 5449  GOOGLE_APPLICATI
+00015450: 4f4e 5f43 5245 4445 4e54 4941 4c53 225d  ON_CREDENTIALS"]
+00015460: 2061 6e64 2022 5370 6565 6368 2d74 6f2d   and "Speech-to-
+00015470: 5465 7874 2220 696e 2063 6f6e 6669 672e  Text" in config.
+00015480: 656e 6162 6c65 6447 6f6f 676c 6541 5049  enabledGoogleAPI
+00015490: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
+000154a0: 2020 2020 7365 6c66 2e70 7269 6e74 3228      self.print2(
+000154b0: 2247 6f6f 676c 6520 436c 6f75 6420 5370  "Google Cloud Sp
+000154c0: 6565 6368 2d74 6f2d 5465 7874 2066 6561  eech-to-Text fea
+000154d0: 7475 7265 2069 7320 6e6f 7420 656e 6162  ture is not enab
+000154e0: 6c65 6421 2229 0a20 2020 2020 2020 2020  led!").         
+000154f0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00015500: 7433 2822 5265 6164 3a20 6874 7470 733a  t3("Read: https:
+00015510: 2f2f 6769 7468 7562 2e63 6f6d 2f65 6c69  //github.com/eli
+00015520: 7261 6e77 6f6e 672f 6c65 746d 6564 6f69  ranwong/letmedoi
+00015530: 742f 7769 6b69 2f47 6f6f 676c 652d 4150  t/wiki/Google-AP
+00015540: 492d 5365 7475 7022 290a 2020 2020 2020  I-Setup").      
+00015550: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00015560: 7269 6e74 3328 2256 6f69 6365 2074 7970  rint3("Voice typ
+00015570: 696e 6720 706c 6174 666f 726d 2063 6861  ing platform cha
+00015580: 6e67 6564 2074 6f3a 2047 6f6f 676c 6520  nged to: Google 
+00015590: 5370 6565 6368 2d74 6f2d 5465 7874 2028  Speech-to-Text (
+000155a0: 4765 6e65 7269 6329 2229 0a20 2020 2020  Generic)").     
+000155b0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+000155c0: 672e 766f 6963 6554 7970 696e 6750 6c61  g.voiceTypingPla
+000155d0: 7466 6f72 6d20 3d20 2267 6f6f 676c 6522  tform = "google"
+000155e0: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
+000155f0: 6620 766f 6963 6554 7970 696e 6750 6c61  f voiceTypingPla
+00015600: 7466 6f72 6d20 3d3d 2022 7768 6973 7065  tform == "whispe
+00015610: 7222 2061 6e64 206e 6f74 2053 6861 7265  r" and not Share
+00015620: 6455 7469 6c2e 6973 5061 636b 6167 6549  dUtil.isPackageI
+00015630: 6e73 7461 6c6c 6564 2822 6666 6d70 6567  nstalled("ffmpeg
+00015640: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
+00015650: 2020 2020 7365 6c66 2e70 7269 6e74 3228      self.print2(
+00015660: 2249 6e73 7461 6c6c 2027 6666 6d70 6567  "Install 'ffmpeg
+00015670: 2720 6669 7273 7420 746f 2075 7365 206f  ' first to use o
+00015680: 6666 6c69 6e65 206f 7065 6e61 6920 7768  ffline openai wh
+00015690: 6973 7065 7220 6d6f 6465 6c21 2229 0a20  isper model!"). 
+000156a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000156b0: 656c 662e 7072 696e 7433 2822 5265 6164  elf.print3("Read
+000156c0: 3a20 6874 7470 733a 2f2f 6769 7468 7562  : https://github
+000156d0: 2e63 6f6d 2f6f 7065 6e61 692f 7768 6973  .com/openai/whis
+000156e0: 7065 7223 7365 7475 7022 290a 2020 2020  per#setup").    
+000156f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00015700: 2e70 7269 6e74 3328 2256 6f69 6365 2074  .print3("Voice t
+00015710: 7970 696e 6720 706c 6174 666f 726d 2063  yping platform c
+00015720: 6861 6e67 6564 2074 6f3a 2047 6f6f 676c  hanged to: Googl
+00015730: 6520 5370 6565 6368 2d74 6f2d 5465 7874  e Speech-to-Text
+00015740: 2028 4765 6e65 7269 6329 2229 0a20 2020   (Generic)").   
+00015750: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00015760: 6669 672e 766f 6963 6554 7970 696e 6750  fig.voiceTypingP
+00015770: 6c61 7466 6f72 6d20 3d20 2267 6f6f 676c  latform = "googl
+00015780: 6522 0a20 2020 2020 2020 2020 2020 2065  e".            e
+00015790: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000157a0: 2020 2020 2063 6f6e 6669 672e 766f 6963       config.voic
+000157b0: 6554 7970 696e 6750 6c61 7466 6f72 6d20  eTypingPlatform 
+000157c0: 3d20 766f 6963 6554 7970 696e 6750 6c61  = voiceTypingPla
+000157d0: 7466 6f72 6d0a 2020 2020 2020 2020 2320  tform.        # 
+000157e0: 6c61 6e67 7561 6765 0a20 2020 2020 2020  language.       
+000157f0: 2073 656c 662e 7365 7453 7065 6563 6854   self.setSpeechT
+00015800: 6f54 6578 744c 616e 6775 6167 6528 290a  oTextLanguage().
+00015810: 2020 2020 2020 2020 2320 636f 6e66 6967          # config
+00015820: 7572 6520 636f 6e66 6967 2e76 6f69 6365  ure config.voice
+00015830: 5479 7069 6e67 4164 6a75 7374 416d 6269  TypingAdjustAmbi
+00015840: 656e 744e 6f69 7365 0a20 2020 2020 2020  entNoise.       
+00015850: 2076 6f69 6365 5479 7069 6e67 4164 6a75   voiceTypingAdju
+00015860: 7374 416d 6269 656e 744e 6f69 7365 203d  stAmbientNoise =
+00015870: 2073 656c 662e 6469 616c 6f67 732e 6765   self.dialogs.ge
+00015880: 7456 616c 6964 4f70 7469 6f6e 7328 0a20  tValidOptions(. 
+00015890: 2020 2020 2020 2020 2020 206f 7074 696f             optio
+000158a0: 6e73 3d28 2259 6573 222c 2022 4e6f 2229  ns=("Yes", "No")
+000158b0: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
+000158c0: 7363 7269 7074 696f 6e73 3d28 2259 6573  scriptions=("Yes
+000158d0: 205b 736c 6f77 6572 5d22 2c20 224e 6f22   [slower]", "No"
+000158e0: 292c 0a20 2020 2020 2020 2020 2020 2074  ),.            t
+000158f0: 6974 6c65 3d22 4164 6a75 7374 2041 6d62  itle="Adjust Amb
+00015900: 6965 6e74 204e 6f69 7365 222c 0a20 2020  ient Noise",.   
+00015910: 2020 2020 2020 2020 2074 6578 743d 2244           text="D
+00015920: 6f20 796f 7520 7761 6e74 2074 6f20 6164  o you want to ad
+00015930: 6a75 7374 2061 6d62 6965 6e74 206e 6f69  just ambient noi
+00015940: 7365 3f22 2c0a 2020 2020 2020 2020 2020  se?",.          
+00015950: 2020 6465 6661 756c 743d 2259 6573 2220    default="Yes" 
+00015960: 6966 2063 6f6e 6669 672e 766f 6963 6554  if config.voiceT
+00015970: 7970 696e 6741 646a 7573 7441 6d62 6965  ypingAdjustAmbie
+00015980: 6e74 4e6f 6973 6520 656c 7365 2022 4e6f  ntNoise else "No
+00015990: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
+000159a0: 2020 2020 2069 6620 766f 6963 6554 7970       if voiceTyp
+000159b0: 696e 6741 646a 7573 7441 6d62 6965 6e74  ingAdjustAmbient
+000159c0: 4e6f 6973 653a 0a20 2020 2020 2020 2020  Noise:.         
+000159d0: 2020 2063 6f6e 6669 672e 766f 6963 6554     config.voiceT
+000159e0: 7970 696e 6741 646a 7573 7441 6d62 6965  ypingAdjustAmbie
+000159f0: 6e74 4e6f 6973 6520 3d20 5472 7565 2069  ntNoise = True i
+00015a00: 6620 766f 6963 6554 7970 696e 6741 646a  f voiceTypingAdj
+00015a10: 7573 7441 6d62 6965 6e74 4e6f 6973 6520  ustAmbientNoise 
+00015a20: 3d3d 2022 5965 7322 2065 6c73 6520 4661  == "Yes" else Fa
+00015a30: 6c73 650a 2020 2020 2020 2020 2320 6175  lse.        # au
+00015a40: 6469 6f20 6e6f 7469 6669 6361 7469 6f6e  dio notification
+00015a50: 0a20 2020 2020 2020 2076 6f69 6365 5479  .        voiceTy
+00015a60: 7069 6e67 4e6f 7469 6669 6361 7469 6f6e  pingNotification
+00015a70: 203d 2073 656c 662e 6469 616c 6f67 732e   = self.dialogs.
+00015a80: 6765 7456 616c 6964 4f70 7469 6f6e 7328  getValidOptions(
+00015a90: 0a20 2020 2020 2020 2020 2020 206f 7074  .            opt
+00015aa0: 696f 6e73 3d28 2259 6573 222c 2022 4e6f  ions=("Yes", "No
+00015ab0: 2229 2c0a 2020 2020 2020 2020 2020 2020  "),.            
+00015ac0: 7469 746c 653d 2241 7564 696f 204e 6f74  title="Audio Not
+00015ad0: 6966 6963 6174 696f 6e22 2c0a 2020 2020  ification",.    
+00015ae0: 2020 2020 2020 2020 7465 7874 3d22 446f          text="Do
+00015af0: 2079 6f75 2077 616e 7420 6175 6469 6f20   you want audio 
+00015b00: 6e6f 7469 6669 6361 7469 6f6e 2077 6865  notification whe
+00015b10: 6e20 796f 7520 7573 6520 6d69 6372 6f70  n you use microp
+00015b20: 686f 6e65 3f22 2c0a 2020 2020 2020 2020  hone?",.        
+00015b30: 2020 2020 6465 6661 756c 743d 2259 6573      default="Yes
+00015b40: 2220 6966 2063 6f6e 6669 672e 766f 6963  " if config.voic
+00015b50: 6554 7970 696e 674e 6f74 6966 6963 6174  eTypingNotificat
+00015b60: 696f 6e20 656c 7365 2022 4e6f 222c 0a20  ion else "No",. 
+00015b70: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00015b80: 2069 6620 766f 6963 6554 7970 696e 674e   if voiceTypingN
+00015b90: 6f74 6966 6963 6174 696f 6e3a 0a20 2020  otification:.   
+00015ba0: 2020 2020 2020 2020 2063 6f6e 6669 672e           config.
+00015bb0: 766f 6963 6554 7970 696e 674e 6f74 6966  voiceTypingNotif
+00015bc0: 6963 6174 696f 6e20 3d20 5472 7565 2069  ication = True i
+00015bd0: 6620 766f 6963 6554 7970 696e 674e 6f74  f voiceTypingNot
+00015be0: 6966 6963 6174 696f 6e20 3d3d 2022 5965  ification == "Ye
+00015bf0: 7322 2065 6c73 6520 4661 6c73 650a 2020  s" else False.  
+00015c00: 2020 2020 2020 2320 6175 746f 2063 6f6d        # auto com
+00015c10: 706c 6574 696f 6e3a 2076 6f69 6365 5479  pletion: voiceTy
+00015c20: 7069 6e67 4175 746f 436f 6d70 6c65 7465  pingAutoComplete
+00015c30: 0a20 2020 2020 2020 2076 6f69 6365 5479  .        voiceTy
+00015c40: 7069 6e67 4175 746f 436f 6d70 6c65 7465  pingAutoComplete
+00015c50: 203d 2073 656c 662e 6469 616c 6f67 732e   = self.dialogs.
+00015c60: 6765 7456 616c 6964 4f70 7469 6f6e 7328  getValidOptions(
+00015c70: 0a20 2020 2020 2020 2020 2020 206f 7074  .            opt
+00015c80: 696f 6e73 3d28 2259 6573 222c 2022 4e6f  ions=("Yes", "No
+00015c90: 2229 2c0a 2020 2020 2020 2020 2020 2020  "),.            
+00015ca0: 7469 746c 653d 2241 7564 696f 2045 6e74  title="Audio Ent
+00015cb0: 7279 2041 7574 6f20 436f 6d70 6c65 7469  ry Auto Completi
+00015cc0: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
+00015cd0: 2074 6578 743d 2244 6f20 796f 7520 7761   text="Do you wa
+00015ce0: 6e74 2074 6f20 6175 746f 6d61 7469 6361  nt to automatica
+00015cf0: 6c6c 7920 636f 6d70 6c65 7465 2079 6f75  lly complete you
+00015d00: 7220 656e 7472 7920 7768 656e 206d 6963  r entry when mic
+00015d10: 726f 7068 6f6e 6520 7374 6f70 733f 222c  rophone stops?",
+00015d20: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+00015d30: 6175 6c74 3d22 5965 7322 2069 6620 636f  ault="Yes" if co
+00015d40: 6e66 6967 2e76 6f69 6365 5479 7069 6e67  nfig.voiceTyping
+00015d50: 4175 746f 436f 6d70 6c65 7465 2065 6c73  AutoComplete els
+00015d60: 6520 224e 6f22 2c0a 2020 2020 2020 2020  e "No",.        
+00015d70: 290a 2020 2020 2020 2020 6966 2076 6f69  ).        if voi
+00015d80: 6365 5479 7069 6e67 4175 746f 436f 6d70  ceTypingAutoComp
+00015d90: 6c65 7465 3a0a 2020 2020 2020 2020 2020  lete:.          
+00015da0: 2020 636f 6e66 6967 2e76 6f69 6365 5479    config.voiceTy
+00015db0: 7069 6e67 4175 746f 436f 6d70 6c65 7465  pingAutoComplete
+00015dc0: 203d 2054 7275 6520 6966 2076 6f69 6365   = True if voice
+00015dd0: 5479 7069 6e67 4175 746f 436f 6d70 6c65  TypingAutoComple
+00015de0: 7465 203d 3d20 2259 6573 2220 656c 7365  te == "Yes" else
+00015df0: 2046 616c 7365 0a20 2020 2020 2020 2023   False.        #
+00015e00: 206e 6f74 6966 790a 2020 2020 2020 2020   notify.        
+00015e10: 7072 696e 7428 2222 290a 2020 2020 2020  print("").      
+00015e20: 2020 7365 6c66 2e70 7269 6e74 3328 6622    self.print3(f"
+00015e30: 566f 6963 6520 5479 7069 6e67 204d 6f64  Voice Typing Mod
+00015e40: 656c 3a20 7b63 6f6e 6669 672e 766f 6963  el: {config.voic
+00015e50: 6554 7970 696e 6750 6c61 7466 6f72 6d7d  eTypingPlatform}
+00015e60: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+00015e70: 7072 696e 7433 2866 2256 6f69 6365 2054  print3(f"Voice T
+00015e80: 7970 696e 6720 4c61 6e67 7561 6765 3a20  yping Language: 
+00015e90: 7b63 6f6e 6669 672e 766f 6963 6554 7970  {config.voiceTyp
+00015ea0: 696e 674c 616e 6775 6167 657d 2229 0a20  ingLanguage}"). 
+00015eb0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+00015ec0: 7433 2866 2241 6d62 6965 6e74 204e 6f69  t3(f"Ambient Noi
+00015ed0: 7365 2041 646a 7573 746d 656e 743a 207b  se Adjustment: {
+00015ee0: 636f 6e66 6967 2e76 6f69 6365 5479 7069  config.voiceTypi
+00015ef0: 6e67 4164 6a75 7374 416d 6269 656e 744e  ngAdjustAmbientN
+00015f00: 6f69 7365 7d22 290a 2020 2020 2020 2020  oise}").        
+00015f10: 7365 6c66 2e70 7269 6e74 3328 6622 4175  self.print3(f"Au
+00015f20: 6469 6f20 4e6f 7469 6669 6361 7469 6f6e  dio Notification
+00015f30: 3a20 7b63 6f6e 6669 672e 766f 6963 6554  : {config.voiceT
+00015f40: 7970 696e 674e 6f74 6966 6963 6174 696f  ypingNotificatio
+00015f50: 6e7d 2229 0a20 2020 2020 2020 2073 656c  n}").        sel
+00015f60: 662e 7072 696e 7433 2866 2241 7574 6f20  f.print3(f"Auto 
+00015f70: 436f 6d70 6c65 7469 6f6e 3a20 7b63 6f6e  Completion: {con
+00015f80: 6669 672e 766f 6963 6554 7970 696e 6741  fig.voiceTypingA
+00015f90: 7574 6f43 6f6d 706c 6574 657d 2229 0a20  utoComplete}"). 
+00015fa0: 2020 2020 2020 2023 2073 6176 6520 636f         # save co
+00015fb0: 6e66 6967 730a 2020 2020 2020 2020 636f  nfigs.        co
+00015fc0: 6e66 6967 2e73 6176 6543 6f6e 6669 6728  nfig.saveConfig(
+00015fd0: 290a 0a20 2020 2064 6566 2073 6176 6543  )..    def saveC
+00015fe0: 6861 7428 7365 6c66 2c20 6d65 7373 6167  hat(self, messag
+00015ff0: 6573 293a 0a20 2020 2020 2020 2069 6620  es):.        if 
+00016000: 636f 6e66 6967 2e63 6f6e 7665 7273 6174  config.conversat
+00016010: 696f 6e53 7461 7274 6564 3a0a 2020 2020  ionStarted:.    
+00016020: 2020 2020 2020 2020 7469 6d65 7374 616d          timestam
+00016030: 7020 3d20 5368 6172 6564 5574 696c 2e67  p = SharedUtil.g
+00016040: 6574 4375 7272 656e 7444 6174 6554 696d  etCurrentDateTim
+00016050: 6528 290a 0a20 2020 2020 2020 2020 2020  e()..           
+00016060: 2069 6620 6861 7361 7474 7228 636f 6e66   if hasattr(conf
+00016070: 6967 2c20 2273 6176 655f 6368 6174 5f72  ig, "save_chat_r
+00016080: 6563 6f72 6422 293a 0a20 2020 2020 2020  ecord"):.       
+00016090: 2020 2020 2020 2020 2023 2077 6865 6e20           # when 
+000160a0: 706c 7567 696e 2022 7361 7665 2063 6861  plugin "save cha
+000160b0: 7420 7265 636f 7264 7322 2069 7320 656e  t records" is en
+000160c0: 6162 6c65 640a 2020 2020 2020 2020 2020  abled.          
+000160d0: 2020 2020 2020 666f 7220 6f72 6465 722c        for order,
+000160e0: 2069 2069 6e20 656e 756d 6572 6174 6528   i in enumerate(
+000160f0: 6d65 7373 6167 6573 293a 0a20 2020 2020  messages):.     
+00016100: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00016110: 6f6e 6669 672e 7361 7665 5f63 6861 745f  onfig.save_chat_
+00016120: 7265 636f 7264 2874 696d 6573 7461 6d70  record(timestamp
+00016130: 2c20 6f72 6465 722c 2069 290a 0a20 2020  , order, i)..   
+00016140: 2020 2020 2020 2020 2074 7279 3a0a 2020           try:.  
+00016150: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00016160: 6c64 6572 5061 7468 203d 206f 732e 7061  lderPath = os.pa
+00016170: 7468 2e6a 6f69 6e28 7365 6c66 2e67 6574  th.join(self.get
+00016180: 4669 6c65 7328 292c 2022 6368 6174 7322  Files(), "chats"
+00016190: 2c20 7265 2e73 7562 2822 5e28 5b30 2d39  , re.sub("^([0-9
+000161a0: 5d2b 3f5c 2d5b 302d 395d 2b3f 295c 2d2e  ]+?\-[0-9]+?)\-.
+000161b0: 2a3f 2422 2c20 7222 5c31 222c 2074 696d  *?$", r"\1", tim
+000161c0: 6573 7461 6d70 2929 0a20 2020 2020 2020  estamp)).       
+000161d0: 2020 2020 2020 2020 2050 6174 6828 666f           Path(fo
+000161e0: 6c64 6572 5061 7468 292e 6d6b 6469 7228  lderPath).mkdir(
+000161f0: 7061 7265 6e74 733d 5472 7565 2c20 6578  parents=True, ex
+00016200: 6973 745f 6f6b 3d54 7275 6529 0a20 2020  ist_ok=True).   
+00016210: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00016220: 6f73 2e70 6174 682e 6973 6469 7228 666f  os.path.isdir(fo
+00016230: 6c64 6572 5061 7468 293a 0a20 2020 2020  lderPath):.     
+00016240: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00016250: 6861 7446 696c 6520 3d20 6f73 2e70 6174  hatFile = os.pat
+00016260: 682e 6a6f 696e 2866 6f6c 6465 7250 6174  h.join(folderPat
+00016270: 682c 2066 227b 7469 6d65 7374 616d 707d  h, f"{timestamp}
+00016280: 2e74 7874 2229 0a20 2020 2020 2020 2020  .txt").         
+00016290: 2020 2020 2020 2020 2020 2077 6974 6820             with 
+000162a0: 6f70 656e 2863 6861 7446 696c 652c 2022  open(chatFile, "
+000162b0: 7722 2c20 656e 636f 6469 6e67 3d22 7574  w", encoding="ut
+000162c0: 662d 3822 2920 6173 2066 696c 654f 626a  f-8") as fileObj
+000162d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000162e0: 2020 2020 2020 2020 2020 6669 6c65 4f62            fileOb
+000162f0: 6a2e 7772 6974 6528 7070 7269 6e74 2e70  j.write(pprint.p
+00016300: 666f 726d 6174 286d 6573 7361 6765 7329  format(messages)
+00016310: 290a 2020 2020 2020 2020 2020 2020 6578  ).            ex
+00016320: 6365 7074 3a0a 2020 2020 2020 2020 2020  cept:.          
+00016330: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00016340: 3228 2246 6169 6c65 6420 746f 2073 6176  2("Failed to sav
+00016350: 6520 6368 6174 215c 6e22 290a 2020 2020  e chat!\n").    
+00016360: 2020 2020 2020 2020 2020 2020 5368 6172              Shar
+00016370: 6564 5574 696c 2e73 686f 7745 7272 6f72  edUtil.showError
+00016380: 7328 290a 0a20 2020 2064 6566 2065 7870  s()..    def exp
+00016390: 6f72 7443 6861 7428 7365 6c66 2c20 6d65  ortChat(self, me
+000163a0: 7373 6167 6573 2c20 6f70 656e 4669 6c65  ssages, openFile
+000163b0: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
+000163c0: 6966 2063 6f6e 6669 672e 636f 6e76 6572  if config.conver
+000163d0: 7361 7469 6f6e 5374 6172 7465 643a 0a20  sationStarted:. 
+000163e0: 2020 2020 2020 2020 2020 2070 6c61 696e             plain
+000163f0: 5465 7874 203d 2022 220a 2020 2020 2020  Text = "".      
+00016400: 2020 2020 2020 7469 6d65 7374 616d 7020        timestamp 
+00016410: 3d20 5368 6172 6564 5574 696c 2e67 6574  = SharedUtil.get
+00016420: 4375 7272 656e 7444 6174 6554 696d 6528  CurrentDateTime(
+00016430: 290a 0a20 2020 2020 2020 2020 2020 2066  )..            f
+00016440: 6f72 2069 2069 6e20 6d65 7373 6167 6573  or i in messages
+00016450: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00016460: 2020 6966 2069 5b22 726f 6c65 225d 203d    if i["role"] =
+00016470: 3d20 2275 7365 7222 3a0a 2020 2020 2020  = "user":.      
+00016480: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00016490: 6e74 656e 7420 3d20 695b 2263 6f6e 7465  ntent = i["conte
+000164a0: 6e74 225d 0a20 2020 2020 2020 2020 2020  nt"].           
+000164b0: 2020 2020 2020 2020 2070 6c61 696e 5465           plainTe
+000164c0: 7874 202b 3d20 6622 3e3e 3e20 7b63 6f6e  xt += f">>> {con
+000164d0: 7465 6e74 7d22 0a20 2020 2020 2020 2020  tent}".         
+000164e0: 2020 2020 2020 2069 6620 695b 2272 6f6c         if i["rol
+000164f0: 6522 5d20 3d3d 2022 6675 6e63 7469 6f6e  e"] == "function
+00016500: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
+00016510: 2020 2020 2020 2069 6620 706c 6169 6e54         if plainT
+00016520: 6578 743a 0a20 2020 2020 2020 2020 2020  ext:.           
+00016530: 2020 2020 2020 2020 2020 2020 2070 6c61               pla
+00016540: 696e 5465 7874 202b 3d20 225c 6e5c 6e22  inText += "\n\n"
+00016550: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016560: 2020 2020 206e 616d 6520 3d20 695b 226e       name = i["n
+00016570: 616d 6522 5d0a 2020 2020 2020 2020 2020  ame"].          
+00016580: 2020 2020 2020 2020 2020 706c 6169 6e54            plainT
+00016590: 6578 7420 2b3d 2066 2260 6060 5c6e 7b6e  ext += f"```\n{n
+000165a0: 616d 657d 5c6e 6060 6022 0a20 2020 2020  ame}\n```".     
+000165b0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+000165c0: 6f6e 7465 6e74 203d 2069 5b22 636f 6e74  ontent = i["cont
+000165d0: 656e 7422 5d0a 2020 2020 2020 2020 2020  ent"].          
+000165e0: 2020 2020 2020 2020 2020 706c 6169 6e54            plainT
+000165f0: 6578 7420 2b3d 2066 225c 6e5c 6e7b 636f  ext += f"\n\n{co
+00016600: 6e74 656e 747d 5c6e 5c6e 220a 2020 2020  ntent}\n\n".    
+00016610: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00016620: 2069 5b22 726f 6c65 225d 203d 3d20 2261   i["role"] == "a
+00016630: 7373 6973 7461 6e74 223a 0a20 2020 2020  ssistant":.     
+00016640: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00016650: 6f6e 7465 6e74 203d 2069 5b22 636f 6e74  ontent = i["cont
+00016660: 656e 7422 5d0a 2020 2020 2020 2020 2020  ent"].          
+00016670: 2020 2020 2020 2020 2020 6966 2063 6f6e            if con
+00016680: 7465 6e74 2069 7320 6e6f 7420 4e6f 6e65  tent is not None
+00016690: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000166a0: 2020 2020 2020 2020 2020 6966 2070 6c61            if pla
+000166b0: 696e 5465 7874 3a0a 2020 2020 2020 2020  inText:.        
+000166c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000166d0: 2020 2020 706c 6169 6e54 6578 7420 2b3d      plainText +=
+000166e0: 2022 5c6e 5c6e 220a 2020 2020 2020 2020   "\n\n".        
+000166f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016700: 706c 6169 6e54 6578 7420 2b3d 2066 227b  plainText += f"{
+00016710: 636f 6e74 656e 747d 5c6e 5c6e 220a 2020  content}\n\n".  
+00016720: 2020 2020 2020 2020 2020 706c 6169 6e54            plainT
+00016730: 6578 7420 3d20 706c 6169 6e54 6578 742e  ext = plainText.
+00016740: 7374 7269 7028 290a 2020 2020 2020 2020  strip().        
+00016750: 2020 2020 6966 2063 6f6e 6669 672e 7465      if config.te
+00016760: 726d 696e 616c 456e 6162 6c65 5465 726d  rminalEnableTerm
+00016770: 7578 4150 493a 0a20 2020 2020 2020 2020  uxAPI:.         
+00016780: 2020 2020 2020 2070 7964 6f63 2e70 6970         pydoc.pip
+00016790: 6570 6167 6572 2870 6c61 696e 5465 7874  epager(plainText
+000167a0: 2c20 636d 643d 2274 6572 6d75 782d 7368  , cmd="termux-sh
+000167b0: 6172 6520 2d61 2073 656e 6422 290a 2020  are -a send").  
+000167c0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
 000167d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000167e0: 2020 2020 2020 7072 696e 7428 2222 290a        print("").
-000167f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016800: 2020 2020 2020 2020 636f 6e74 696e 7565          continue
-00016810: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016820: 2065 7863 6570 743a 0a20 2020 2020 2020   except:.       
-00016830: 2020 2020 2020 2020 2020 2020 2070 6173               pas
-00016840: 730a 2020 2020 2020 2020 2020 2020 2320  s.            # 
-00016850: 7472 7920 746f 2072 756e 2061 7320 6120  try to run as a 
-00016860: 7079 7468 6f6e 2073 6372 6970 7420 6669  python script fi
-00016870: 7273 740a 2020 2020 2020 2020 2020 2020  rst.            
-00016880: 6966 2063 6f6e 6669 672e 6465 7665 6c6f  if config.develo
-00016890: 7065 723a 0a20 2020 2020 2020 2020 2020  per:.           
-000168a0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-000168b0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-000168c0: 6563 2875 7365 7249 6e70 7574 2c20 676c  ec(userInput, gl
-000168d0: 6f62 616c 7328 2929 0a20 2020 2020 2020  obals()).       
-000168e0: 2020 2020 2020 2020 2020 2020 2070 7269               pri
-000168f0: 6e74 2822 2229 0a20 2020 2020 2020 2020  nt("").         
-00016900: 2020 2020 2020 2020 2020 2063 6f6e 7469             conti
-00016910: 6e75 650a 2020 2020 2020 2020 2020 2020  nue.            
-00016920: 2020 2020 6578 6365 7074 3a0a 2020 2020      except:.    
-00016930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016940: 7061 7373 0a0a 2020 2020 2020 2020 2020  pass..          
-00016950: 2020 6966 2075 7365 7249 6e70 7574 2e73    if userInput.s
-00016960: 7461 7274 7377 6974 6828 2221 2229 3a0a  tartswith("!"):.
-00016970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016980: 7365 6c66 2e72 756e 5379 7374 656d 436f  self.runSystemCo
-00016990: 6d6d 616e 6428 7573 6572 496e 7075 7429  mmand(userInput)
-000169a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000169b0: 2070 7269 6e74 2822 2229 0a20 2020 2020   print("").     
-000169c0: 2020 2020 2020 2065 6c69 6620 636f 6e66         elif conf
-000169d0: 6967 2e64 6576 656c 6f70 6572 2061 6e64  ig.developer and
-000169e0: 2075 7365 7249 6e70 7574 2e73 7461 7274   userInput.start
-000169f0: 7377 6974 6828 2260 6060 2229 2061 6e64  swith("```") and
-00016a00: 2075 7365 7249 6e70 7574 2e65 6e64 7377   userInput.endsw
-00016a10: 6974 6828 2260 6060 2229 2061 6e64 206e  ith("```") and n
-00016a20: 6f74 2075 7365 7249 6e70 7574 203d 3d20  ot userInput == 
-00016a30: 2260 6060 6060 6022 3a0a 2020 2020 2020  "``````":.      
-00016a40: 2020 2020 2020 2020 2020 7573 6572 496e            userIn
-00016a50: 7075 7420 3d20 7265 2e73 7562 2822 6060  put = re.sub("``
-00016a60: 6070 7974 686f 6e22 2c20 2260 6060 222c  `python", "```",
-00016a70: 2075 7365 7249 6e70 7574 290a 2020 2020   userInput).    
-00016a80: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00016a90: 2e72 756e 5079 7468 6f6e 5363 7269 7074  .runPythonScript
-00016aa0: 2875 7365 7249 6e70 7574 290a 2020 2020  (userInput).    
-00016ab0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00016ac0: 7428 2222 290a 2020 2020 2020 2020 2020  t("").          
-00016ad0: 2020 656c 6966 2075 7365 7249 6e70 7574    elif userInput
-00016ae0: 4c6f 7765 7220 3d3d 2063 6f6e 6669 672e  Lower == config.
-00016af0: 6578 6974 5f65 6e74 7279 3a0a 2020 2020  exit_entry:.    
-00016b00: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00016b10: 2e73 6176 6543 6861 7428 636f 6e66 6967  .saveChat(config
-00016b20: 2e63 7572 7265 6e74 4d65 7373 6167 6573  .currentMessages
-00016b30: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00016b40: 2020 7265 7475 726e 2073 656c 662e 6578    return self.ex
-00016b50: 6974 4163 7469 6f6e 2829 0a20 2020 2020  itAction().     
-00016b60: 2020 2020 2020 2065 6c69 6620 7573 6572         elif user
-00016b70: 496e 7075 744c 6f77 6572 203d 3d20 636f  InputLower == co
-00016b80: 6e66 6967 2e63 616e 6365 6c5f 656e 7472  nfig.cancel_entr
-00016b90: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
-00016ba0: 2020 2070 6173 730a 2020 2020 2020 2020     pass.        
-00016bb0: 2020 2020 656c 6966 2075 7365 7249 6e70      elif userInp
-00016bc0: 7574 4c6f 7765 7220 3d3d 2022 2e63 6f6e  utLower == ".con
-00016bd0: 7465 7874 223a 0a20 2020 2020 2020 2020  text":.         
-00016be0: 2020 2020 2020 2073 656c 662e 6368 616e         self.chan
-00016bf0: 6765 436f 6e74 6578 7428 290a 2020 2020  geContext().    
-00016c00: 2020 2020 2020 2020 2020 2020 6966 206e              if n
-00016c10: 6f74 2063 6f6e 6669 672e 6170 706c 7950  ot config.applyP
-00016c20: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
-00016c30: 416c 7761 7973 3a0a 2020 2020 2020 2020  Always:.        
-00016c40: 2020 2020 2020 2020 2020 2020 6966 2063              if c
-00016c50: 6f6e 6669 672e 636f 6e76 6572 7361 7469  onfig.conversati
-00016c60: 6f6e 5374 6172 7465 643a 0a20 2020 2020  onStarted:.     
-00016c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016c80: 2020 2073 656c 662e 7361 7665 4368 6174     self.saveChat
-00016c90: 2863 6f6e 6669 672e 6375 7272 656e 744d  (config.currentM
-00016ca0: 6573 7361 6765 7329 0a20 2020 2020 2020  essages).       
-00016cb0: 2020 2020 2020 2020 2020 2020 2073 746f               sto
-00016cc0: 7261 6765 6469 7265 6374 6f72 792c 2063  ragedirectory, c
-00016cd0: 6f6e 6669 672e 6375 7272 656e 744d 6573  onfig.currentMes
-00016ce0: 7361 6765 7320 3d20 7374 6172 7443 6861  sages = startCha
-00016cf0: 7428 290a 2020 2020 2020 2020 2020 2020  t().            
-00016d00: 656c 6966 2075 7365 7249 6e70 7574 4c6f  elif userInputLo
-00016d10: 7765 7220 3d3d 2022 2e6e 6577 223a 0a20  wer == ".new":. 
-00016d20: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00016d30: 656c 662e 7361 7665 4368 6174 2863 6f6e  elf.saveChat(con
-00016d40: 6669 672e 6375 7272 656e 744d 6573 7361  fig.currentMessa
-00016d50: 6765 7329 0a20 2020 2020 2020 2020 2020  ges).           
-00016d60: 2020 2020 2073 746f 7261 6765 6469 7265       storagedire
-00016d70: 6374 6f72 792c 2063 6f6e 6669 672e 6375  ctory, config.cu
-00016d80: 7272 656e 744d 6573 7361 6765 7320 3d20  rrentMessages = 
-00016d90: 7374 6172 7443 6861 7428 290a 2020 2020  startChat().    
-00016da0: 2020 2020 2020 2020 656c 6966 2075 7365          elif use
-00016db0: 7249 6e70 7574 2061 6e64 206e 6f74 2075  rInput and not u
-00016dc0: 7365 7249 6e70 7574 4c6f 7765 7220 696e  serInputLower in
-00016dd0: 2066 6561 7475 7265 734c 6f77 6572 3a0a   featuresLower:.
-00016de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016df0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00016e00: 2020 2020 2020 2020 2069 6620 7573 6572           if user
-00016e10: 496e 7075 7420 616e 6420 636f 6e66 6967  Input and config
-00016e20: 2e74 7473 496e 7075 743a 0a20 2020 2020  .ttsInput:.     
-00016e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016e40: 2020 2054 5453 5574 696c 2e70 6c61 7928     TTSUtil.play(
-00016e50: 7573 6572 496e 7075 7429 0a20 2020 2020  userInput).     
-00016e60: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00016e70: 2046 6561 7475 7265 3a20 696d 7072 6f76   Feature: improv
-00016e80: 6520 7772 6974 696e 673a 0a20 2020 2020  e writing:.     
-00016e90: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00016ea0: 7065 6369 616c 456e 7472 7950 6174 7465  pecialEntryPatte
-00016eb0: 726e 203d 2022 5c5b 544f 4f4c 5f5b 5e5c  rn = "\[TOOL_[^\
-00016ec0: 5b5c 5d5d 2a3f 5c5d 7c5c 5b4e 4f5f 544f  [\]]*?\]|\[NO_TO
-00016ed0: 4f4c 5c5d 7c5c 5b4e 4f5f 5343 5245 454e  OL\]|\[NO_SCREEN
-00016ee0: 494e 475c 5d22 0a20 2020 2020 2020 2020  ING\]".         
-00016ef0: 2020 2020 2020 2020 2020 2073 7065 6369             speci
-00016f00: 616c 456e 7472 7920 3d20 7265 2e73 6561  alEntry = re.sea
-00016f10: 7263 6828 7370 6563 6961 6c45 6e74 7279  rch(specialEntry
-00016f20: 5061 7474 6572 6e2c 2075 7365 7249 6e70  Pattern, userInp
-00016f30: 7574 290a 2020 2020 2020 2020 2020 2020  ut).            
-00016f40: 2020 2020 2020 2020 7370 6563 6961 6c45          specialE
-00016f50: 6e74 7279 203d 2073 7065 6369 616c 456e  ntry = specialEn
-00016f60: 7472 792e 6772 6f75 7028 3029 2069 6620  try.group(0) if 
-00016f70: 7370 6563 6961 6c45 6e74 7279 2065 6c73  specialEntry els
-00016f80: 6520 2222 0a20 2020 2020 2020 2020 2020  e "".           
-00016f90: 2020 2020 2020 2020 2075 7365 7249 6e70           userInp
-00016fa0: 7574 203d 2072 652e 7375 6228 7370 6563  ut = re.sub(spec
-00016fb0: 6961 6c45 6e74 7279 5061 7474 6572 6e2c  ialEntryPattern,
-00016fc0: 2022 222c 2075 7365 7249 6e70 7574 2920   "", userInput) 
-00016fd0: 2320 7265 6d6f 7665 2073 7065 6369 616c  # remove special
-00016fe0: 2065 6e74 7279 2074 656d 706f 7261 7269   entry temporari
-00016ff0: 6c79 0a20 2020 2020 2020 2020 2020 2020  ly.             
-00017000: 2020 2020 2020 2069 6620 7573 6572 496e         if userIn
-00017010: 7075 7420 616e 6420 636f 6e66 6967 2e64  put and config.d
-00017020: 6973 706c 6179 496d 7072 6f76 6564 5772  isplayImprovedWr
-00017030: 6974 696e 673a 0a20 2020 2020 2020 2020  iting:.         
-00017040: 2020 2020 2020 2020 2020 2020 2020 2075                 u
-00017050: 7365 7249 6e70 7574 203d 2072 652e 7375  serInput = re.su
-00017060: 6228 225c 6e5c 5b43 7572 7265 6e74 2074  b("\n\[Current t
-00017070: 696d 653a 205b 5e5c 6e5d 2a3f 2422 2c20  ime: [^\n]*?$", 
-00017080: 2222 2c20 7573 6572 496e 7075 7429 0a20  "", userInput). 
-00017090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000170a0: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
-000170b0: 2e69 7354 6572 6d75 783a 0a20 2020 2020  .isTermux:.     
-000170c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000170d0: 2020 2020 2020 2064 6179 5f6f 665f 7765         day_of_we
-000170e0: 656b 203d 2022 220a 2020 2020 2020 2020  ek = "".        
-000170f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017100: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00017110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017120: 2020 6461 795f 6f66 5f77 6565 6b20 3d20    day_of_week = 
-00017130: 6622 746f 6461 7920 6973 207b 6765 7444  f"today is {getD
-00017140: 6179 4f66 5765 656b 2829 7d20 616e 6420  ayOfWeek()} and 
-00017150: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00017160: 2020 2020 2020 2020 2020 696d 7072 6f76            improv
-00017170: 6564 5665 7273 696f 6e20 3d20 4361 6c6c  edVersion = Call
-00017180: 4c4c 4d2e 6765 7453 696e 676c 6543 6861  LLM.getSingleCha
-00017190: 7452 6573 706f 6e73 6528 6622 2222 496d  tResponse(f"""Im
-000171a0: 7072 6f76 6520 7468 6520 666f 6c6c 6f77  prove the follow
-000171b0: 696e 6720 7772 6974 696e 672c 2061 6363  ing writing, acc
-000171c0: 6f72 6469 6e67 2074 6f20 7b63 6f6e 6669  ording to {confi
-000171d0: 672e 696d 7072 6f76 6564 5772 6974 696e  g.improvedWritin
-000171e0: 6753 7974 6c65 7d0a 496e 2061 6464 6974  gSytle}.In addit
-000171f0: 696f 6e2c 2049 2077 6f75 6c64 206c 696b  ion, I would lik
-00017200: 6520 796f 7520 746f 2068 656c 7020 6d65  e you to help me
-00017210: 2077 6974 6820 636f 6e76 6572 7469 6e67   with converting
-00017220: 2072 656c 6174 6976 6520 6461 7465 7320   relative dates 
-00017230: 616e 6420 7469 6d65 732c 2069 6620 616e  and times, if an
-00017240: 792c 2069 6e74 6f20 6578 6163 7420 6461  y, into exact da
-00017250: 7465 7320 616e 6420 7469 6d65 7320 6261  tes and times ba
-00017260: 7365 6420 6f6e 2074 6865 2072 6566 6572  sed on the refer
-00017270: 656e 6365 2074 6861 7420 7b64 6179 5f6f  ence that {day_o
-00017280: 665f 7765 656b 7d63 7572 7265 6e74 2064  f_week}current d
-00017290: 6174 6574 696d 6520 6973 207b 7374 7228  atetime is {str(
-000172a0: 6461 7465 7469 6d65 2e64 6174 6574 696d  datetime.datetim
-000172b0: 652e 6e6f 7728 2929 7d2e 0a52 656d 656d  e.now())}..Remem
-000172c0: 6265 722c 2070 726f 7669 6465 206d 6520  ber, provide me 
-000172d0: 7769 7468 2074 6865 2069 6d70 726f 7665  with the improve
-000172e0: 6420 7772 6974 696e 6720 6f6e 6c79 2c20  d writing only, 
-000172f0: 656e 636c 6f73 6564 2069 6e20 7472 6970  enclosed in trip
-00017300: 6c65 2071 756f 7465 7320 6060 6020 616e  le quotes ``` an
-00017310: 6420 7769 7468 6f75 7420 616e 7920 6164  d without any ad
-00017320: 6469 7469 6f6e 616c 2069 6e66 6f72 6d61  ditional informa
-00017330: 7469 6f6e 206f 7220 636f 6d6d 656e 7473  tion or comments
-00017340: 2e0a 4d79 2077 7269 7469 6e67 3a0a 7b75  ..My writing:.{u
-00017350: 7365 7249 6e70 7574 7d22 2222 290a 2020  serInput}""").  
-00017360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017370: 2020 2020 2020 6966 2069 6d70 726f 7665        if improve
-00017380: 6456 6572 7369 6f6e 2061 6e64 2069 6d70  dVersion and imp
-00017390: 726f 7665 6456 6572 7369 6f6e 2e73 7461  rovedVersion.sta
-000173a0: 7274 7377 6974 6828 2260 6060 2229 2061  rtswith("```") a
-000173b0: 6e64 2069 6d70 726f 7665 6456 6572 7369  nd improvedVersi
-000173c0: 6f6e 2e65 6e64 7377 6974 6828 2260 6060  on.endswith("```
-000173d0: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
-000173e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000173f0: 7072 696e 7431 2869 6d70 726f 7665 6456  print1(improvedV
-00017400: 6572 7369 6f6e 290a 2020 2020 2020 2020  ersion).        
-00017410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017420: 2020 2020 7573 6572 496e 7075 7420 3d20      userInput = 
-00017430: 696d 7072 6f76 6564 5665 7273 696f 6e5b  improvedVersion[
-00017440: 333a 2d33 5d0a 2020 2020 2020 2020 2020  3:-3].          
-00017450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017460: 2020 6966 2063 6f6e 6669 672e 7474 734f    if config.ttsO
-00017470: 7574 7075 743a 0a20 2020 2020 2020 2020  utput:.         
-00017480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017490: 2020 2020 2020 2054 5453 5574 696c 2e70         TTSUtil.p
-000174a0: 6c61 7928 7573 6572 496e 7075 7429 0a20  lay(userInput). 
-000174b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000174c0: 2020 2069 6620 7370 6563 6961 6c45 6e74     if specialEnt
-000174d0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-000174e0: 2020 2020 2020 2020 2020 2020 7573 6572              user
-000174f0: 496e 7075 7420 3d20 6622 7b75 7365 7249  Input = f"{userI
-00017500: 6e70 7574 7d7b 7370 6563 6961 6c45 6e74  nput}{specialEnt
-00017510: 7279 7d22 0a20 2020 2020 2020 2020 2020  ry}".           
-00017520: 2020 2020 2020 2020 2023 2072 6566 696e           # refin
-00017530: 6520 6d65 7373 6167 6573 2062 6566 6f72  e messages befor
-00017540: 6520 7275 6e6e 696e 6720 636f 6d70 6c65  e running comple
-00017550: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
-00017560: 2020 2020 2020 2020 2066 696e 6554 756e           fineTun
-00017570: 6564 5573 6572 496e 7075 7420 3d20 7365  edUserInput = se
-00017580: 6c66 2e66 696e 6554 756e 6555 7365 7249  lf.fineTuneUserI
-00017590: 6e70 7574 2875 7365 7249 6e70 7574 290a  nput(userInput).
-000175a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000175b0: 2020 2020 2320 696e 2063 6173 6520 6f66      # in case of
-000175c0: 2074 7261 6e73 6c61 7469 6f6e 0a20 2020   translation.   
-000175d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000175e0: 2069 6620 636f 6e66 6967 2e70 7265 6465   if config.prede
-000175f0: 6669 6e65 6443 6f6e 7465 7874 203d 3d20  finedContext == 
-00017600: 224c 6574 206d 6520 5472 616e 736c 6174  "Let me Translat
-00017610: 6522 2061 6e64 2066 696e 6554 756e 6564  e" and fineTuned
-00017620: 5573 6572 496e 7075 742e 7374 6172 7473  UserInput.starts
-00017630: 7769 7468 2822 4173 7369 7374 206d 6520  with("Assist me 
-00017640: 6279 2061 6374 696e 6720 6173 2061 2074  by acting as a t
-00017650: 7261 6e73 6c61 746f 722e 5c6e 506c 6561  ranslator.\nPlea
-00017660: 7365 2074 7261 6e73 6c61 7465 2229 3a0a  se translate"):.
-00017670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017680: 2020 2020 2020 2020 7072 696e 7431 2822          print1("
-00017690: 506c 6561 7365 2073 7065 6369 6679 2062  Please specify b
-000176a0: 656c 6f77 2074 6865 206c 616e 6775 6167  elow the languag
-000176b0: 6520 796f 7520 776f 756c 6420 6c69 6b65  e you would like
-000176c0: 2074 6865 2063 6f6e 7465 6e74 2074 6f20   the content to 
-000176d0: 6265 2074 7261 6e73 6c61 7465 6420 696e  be translated in
-000176e0: 746f 3a22 290a 2020 2020 2020 2020 2020  to:").          
-000176f0: 2020 2020 2020 2020 2020 2020 2020 6c61                la
-00017700: 6e67 7561 6765 203d 2073 656c 662e 7072  nguage = self.pr
-00017710: 6f6d 7074 732e 7369 6d70 6c65 5072 6f6d  ompts.simpleProm
-00017720: 7074 2873 7479 6c65 3d73 656c 662e 7072  pt(style=self.pr
-00017730: 6f6d 7074 732e 7072 6f6d 7074 5374 796c  ompts.promptStyl
-00017740: 6532 2c20 6465 6661 756c 743d 636f 6e66  e2, default=conf
-00017750: 6967 2e74 7261 6e73 6c61 7465 546f 4c61  ig.translateToLa
-00017760: 6e67 7561 6765 290a 2020 2020 2020 2020  nguage).        
-00017770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017780: 6966 206c 616e 6775 6167 6520 616e 6420  if language and 
-00017790: 6e6f 7420 6c61 6e67 7561 6765 2e73 7472  not language.str
-000177a0: 6970 2829 2e6c 6f77 6572 2829 2069 6e20  ip().lower() in 
-000177b0: 2863 6f6e 6669 672e 6361 6e63 656c 5f65  (config.cancel_e
-000177c0: 6e74 7279 2c20 636f 6e66 6967 2e65 7869  ntry, config.exi
-000177d0: 745f 656e 7472 7929 3a0a 2020 2020 2020  t_entry):.      
-000177e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000177f0: 2020 2020 2020 6669 6e65 5475 6e65 6455        fineTunedU
-00017800: 7365 7249 6e70 7574 203d 2066 227b 6669  serInput = f"{fi
-00017810: 6e65 5475 6e65 6455 7365 7249 6e70 7574  neTunedUserInput
-00017820: 7d5c 6e5c 6e50 6c65 6173 6520 7472 616e  }\n\nPlease tran
-00017830: 736c 6174 6520 7468 6520 636f 6e74 656e  slate the conten
-00017840: 7420 696e 746f 203c 6c61 6e67 7561 6765  t into <language
-00017850: 3e7b 6c61 6e67 7561 6765 7d3c 2f6c 616e  >{language}</lan
-00017860: 6775 6167 653e 2e22 0a20 2020 2020 2020  guage>.".       
-00017870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017880: 2020 2020 2063 6f6e 6669 672e 7472 616e       config.tran
-00017890: 736c 6174 6554 6f4c 616e 6775 6167 6520  slateToLanguage 
-000178a0: 3d20 6c61 6e67 7561 6765 0a20 2020 2020  = language.     
-000178b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000178c0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-000178d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000178e0: 2020 2020 2063 6f6e 7469 6e75 650a 2020       continue.  
-000178f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017900: 2020 2320 636c 6561 7220 636f 6e66 6967    # clear config
-00017910: 2e70 7265 6465 6669 6e65 6443 6f6e 7465  .predefinedConte
-00017920: 7874 5465 6d70 2069 6620 616e 790a 2020  xtTemp if any.  
-00017930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017940: 2020 6966 2063 6f6e 6669 672e 7072 6564    if config.pred
-00017950: 6566 696e 6564 436f 6e74 6578 7454 656d  efinedContextTem
-00017960: 703a 0a20 2020 2020 2020 2020 2020 2020  p:.             
-00017970: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-00017980: 672e 7072 6564 6566 696e 6564 436f 6e74  g.predefinedCont
-00017990: 6578 7420 3d20 636f 6e66 6967 2e70 7265  ext = config.pre
-000179a0: 6465 6669 6e65 6443 6f6e 7465 7874 5465  definedContextTe
-000179b0: 6d70 0a20 2020 2020 2020 2020 2020 2020  mp.             
-000179c0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
-000179d0: 672e 7072 6564 6566 696e 6564 436f 6e74  g.predefinedCont
-000179e0: 6578 7454 656d 7020 3d20 2222 0a20 2020  extTemp = "".   
-000179f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017a00: 2023 2065 6d70 7479 2063 6f6e 6669 672e   # empty config.
-00017a10: 7061 6765 7243 6f6e 7465 6e74 0a20 2020  pagerContent.   
-00017a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017a30: 2063 6f6e 6669 672e 7061 6765 7243 6f6e   config.pagerCon
-00017a40: 7465 6e74 203d 2022 220a 0a20 2020 2020  tent = ""..     
-00017a50: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00017a60: 2063 6865 636b 2073 7065 6369 616c 2065   check special e
-00017a70: 6e74 7269 6573 0a20 2020 2020 2020 2020  ntries.         
-00017a80: 2020 2020 2020 2020 2020 2023 2069 6620             # if 
-00017a90: 7573 6572 2063 616c 6c20 6120 6368 6174  user call a chat
-00017aa0: 626f 7420 7769 7468 6f75 7420 6675 6e63  bot without func
-00017ab0: 7469 6f6e 2063 616c 6c69 6e67 0a20 2020  tion calling.   
-00017ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ad0: 2069 6620 225b 4348 4154 5d22 2069 6e20   if "[CHAT]" in 
-00017ae0: 6669 6e65 5475 6e65 6455 7365 7249 6e70  fineTunedUserInp
-00017af0: 7574 3a0a 2020 2020 2020 2020 2020 2020  ut:.            
-00017b00: 2020 2020 2020 2020 2020 2020 6368 6174              chat
-00017b10: 626f 7420 3d20 636f 6e66 6967 2e6c 6c6d  bot = config.llm
-00017b20: 496e 7465 7266 6163 650a 2020 2020 2020  Interface.      
-00017b30: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00017b40: 6966 2063 616c 6c43 6861 7442 6f74 203a  if callChatBot :
-00017b50: 3d20 7265 2e73 6561 7263 6828 225c 5b43  = re.search("\[C
-00017b60: 4841 545f 285b 5e5c 5b5c 5d5d 2b3f 295c  HAT_([^\[\]]+?)\
-00017b70: 5d22 2c20 6669 6e65 5475 6e65 6455 7365  ]", fineTunedUse
-00017b80: 7249 6e70 7574 293a 0a20 2020 2020 2020  rInput):.       
-00017b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ba0: 2063 6861 7462 6f74 203d 2063 616c 6c43   chatbot = callC
-00017bb0: 6861 7442 6f74 2e67 726f 7570 2831 292e  hatBot.group(1).
-00017bc0: 6c6f 7765 7228 2920 6966 2063 616c 6c43  lower() if callC
-00017bd0: 6861 7442 6f74 2061 6e64 2063 616c 6c43  hatBot and callC
-00017be0: 6861 7442 6f74 2e67 726f 7570 2831 292e  hatBot.group(1).
-00017bf0: 6c6f 7765 7228 2920 696e 2028 2263 6861  lower() in ("cha
-00017c00: 7467 7074 222c 2022 6765 6d69 6e69 7072  tgpt", "geminipr
-00017c10: 6f22 2c20 2270 616c 6d32 222c 2022 636f  o", "palm2", "co
-00017c20: 6465 7922 2920 656c 7365 2022 220a 2020  dey") else "".  
-00017c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c40: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00017c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c60: 6368 6174 626f 7420 3d20 2222 0a20 2020  chatbot = "".   
-00017c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c80: 2069 6620 6368 6174 626f 743a 0a20 2020   if chatbot:.   
-00017c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ca0: 2020 2020 2023 2063 616c 6c20 7468 6520       # call the 
-00017cb0: 7370 6369 6669 6564 2063 6861 7462 6f74  spcified chatbot
-00017cc0: 2074 6f20 636f 6e74 696e 7565 2074 6865   to continue the
-00017cd0: 2063 6f6e 7665 7273 6174 696f 6e0a 2020   conversation.  
-00017ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017cf0: 2020 2020 2020 6669 6e65 5475 6e65 6455        fineTunedU
-00017d00: 7365 7249 6e70 7574 203d 2072 652e 7375  serInput = re.su
-00017d10: 6228 225c 5b43 4841 545c 5d7c 5c5b 4348  b("\[CHAT\]|\[CH
-00017d20: 4154 5f5b 5e5c 5b5c 5d5d 2b3f 5c5d 222c  AT_[^\[\]]+?\]",
-00017d30: 2022 222c 2066 696e 6554 756e 6564 5573   "", fineTunedUs
-00017d40: 6572 496e 7075 7429 0a20 2020 2020 2020  erInput).       
-00017d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017d60: 2073 656c 662e 6c61 756e 6368 4368 6174   self.launchChat
-00017d70: 626f 7428 6368 6174 626f 742c 2066 696e  bot(chatbot, fin
-00017d80: 6554 756e 6564 5573 6572 496e 7075 7429  eTunedUserInput)
-00017d90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017da0: 2020 2020 2020 2020 2063 6f6e 7469 6e75           continu
-00017db0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00017dc0: 2020 2020 2020 2320 7768 656e 2075 7365        # when use
-00017dd0: 7220 646f 6e27 7420 7761 6e74 2061 2066  r don't want a f
-00017de0: 756e 6374 696f 6e20 6361 6c6c 0a20 2020  unction call.   
-00017df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017e00: 206e 6f46 756e 6374 696f 6e43 616c 6c20   noFunctionCall 
-00017e10: 3d20 2822 5b4e 4f5f 544f 4f4c 5d22 2069  = ("[NO_TOOL]" i
-00017e20: 6e20 6669 6e65 5475 6e65 6455 7365 7249  n fineTunedUserI
-00017e30: 6e70 7574 290a 2020 2020 2020 2020 2020  nput).          
-00017e40: 2020 2020 2020 2020 2020 2320 7768 656e            # when
-00017e50: 2075 7365 7220 7761 6e74 2074 6f20 6361   user want to ca
-00017e60: 6c6c 2061 2070 6172 7469 6375 6c61 7220  ll a particular 
-00017e70: 6675 6e63 7469 6f6e 0a20 2020 2020 2020  function.       
-00017e80: 2020 2020 2020 2020 2020 2020 2063 6865               che
-00017e90: 636b 4361 6c6c 5370 6563 6966 6963 4675  ckCallSpecificFu
-00017ea0: 6e63 7469 6f6e 203d 2072 652e 7365 6172  nction = re.sear
-00017eb0: 6368 2822 5c5b 544f 4f4c 5f28 5b5e 5c5b  ch("\[TOOL_([^\[
-00017ec0: 5c5d 5d2b 3f29 5c5d 222c 2066 696e 6554  \]]+?)\]", fineT
-00017ed0: 756e 6564 5573 6572 496e 7075 7429 0a20  unedUserInput). 
-00017ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ef0: 2020 2063 6f6e 6669 672e 7365 6c65 6374     config.select
-00017f00: 6564 546f 6f6c 203d 2063 6865 636b 4361  edTool = checkCa
-00017f10: 6c6c 5370 6563 6966 6963 4675 6e63 7469  llSpecificFuncti
-00017f20: 6f6e 2e67 726f 7570 2831 2920 6966 2063  on.group(1) if c
-00017f30: 6865 636b 4361 6c6c 5370 6563 6966 6963  heckCallSpecific
-00017f40: 4675 6e63 7469 6f6e 2061 6e64 2063 6865  Function and che
-00017f50: 636b 4361 6c6c 5370 6563 6966 6963 4675  ckCallSpecificFu
-00017f60: 6e63 7469 6f6e 2e67 726f 7570 2831 2920  nction.group(1) 
-00017f70: 696e 2063 6f6e 6669 672e 746f 6f6c 4675  in config.toolFu
-00017f80: 6e63 7469 6f6e 4d65 7468 6f64 7320 656c  nctionMethods el
-00017f90: 7365 2022 220a 2020 2020 2020 2020 2020  se "".          
-00017fa0: 2020 2020 2020 2020 2020 6966 2063 6f6e            if con
-00017fb0: 6669 672e 6465 7665 6c6f 7065 7220 616e  fig.developer an
-00017fc0: 6420 636f 6e66 6967 2e73 656c 6563 7465  d config.selecte
-00017fd0: 6454 6f6f 6c3a 0a20 2020 2020 2020 2020  dTool:.         
-00017fe0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00017ff0: 7072 696e 7431 2866 2263 616c 6c69 6e67  print1(f"calling
-00018000: 2066 756e 6374 696f 6e20 277b 636f 6e66   function '{conf
-00018010: 6967 2e73 656c 6563 7465 6454 6f6f 6c7d  ig.selectedTool}
-00018020: 2720 2e2e 2e22 290a 2020 2020 2020 2020  ' ...").        
-00018030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018040: 7072 696e 745f 666f 726d 6174 7465 645f  print_formatted_
-00018050: 7465 7874 2848 544d 4c28 6622 3c7b 636f  text(HTML(f"<{co
-00018060: 6e66 6967 2e74 6572 6d69 6e61 6c50 726f  nfig.terminalPro
-00018070: 6d70 7449 6e64 6963 6174 6f72 436f 6c6f  mptIndicatorColo
-00018080: 7232 7d3e 4361 6c6c 696e 6720 6675 6e63  r2}>Calling func
-00018090: 7469 6f6e 3c2f 7b63 6f6e 6669 672e 7465  tion</{config.te
-000180a0: 726d 696e 616c 5072 6f6d 7074 496e 6469  rminalPromptIndi
-000180b0: 6361 746f 7243 6f6c 6f72 327d 3e20 3c7b  catorColor2}> <{
-000180c0: 636f 6e66 6967 2e74 6572 6d69 6e61 6c43  config.terminalC
-000180d0: 6f6d 6d61 6e64 456e 7472 7943 6f6c 6f72  ommandEntryColor
-000180e0: 327d 3e27 7b63 6f6e 6669 672e 7365 6c65  2}>'{config.sele
-000180f0: 6374 6564 546f 6f6c 7d27 3c2f 7b63 6f6e  ctedTool}'</{con
-00018100: 6669 672e 7465 726d 696e 616c 436f 6d6d  fig.terminalComm
-00018110: 616e 6445 6e74 7279 436f 6c6f 7232 7d3e  andEntryColor2}>
-00018120: 203c 7b63 6f6e 6669 672e 7465 726d 696e   <{config.termin
-00018130: 616c 5072 6f6d 7074 496e 6469 6361 746f  alPromptIndicato
-00018140: 7243 6f6c 6f72 327d 3e2e 2e2e 3c2f 7b63  rColor2}>...</{c
-00018150: 6f6e 6669 672e 7465 726d 696e 616c 5072  onfig.terminalPr
-00018160: 6f6d 7074 496e 6469 6361 746f 7243 6f6c  omptIndicatorCol
-00018170: 6f72 327d 3e22 2929 0a20 2020 2020 2020  or2}>")).       
-00018180: 2020 2020 2020 2020 2020 2020 2066 696e               fin
-00018190: 6554 756e 6564 5573 6572 496e 7075 7420  eTunedUserInput 
-000181a0: 3d20 7265 2e73 7562 2873 7065 6369 616c  = re.sub(special
-000181b0: 456e 7472 7950 6174 7465 726e 2c20 2222  EntryPattern, ""
-000181c0: 2c20 6669 6e65 5475 6e65 6455 7365 7249  , fineTunedUserI
-000181d0: 6e70 7574 290a 2020 2020 2020 2020 2020  nput).          
-000181e0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
-000181f0: 2e63 7572 7265 6e74 4d65 7373 6167 6573  .currentMessages
-00018200: 2e61 7070 656e 6428 7b22 726f 6c65 223a  .append({"role":
-00018210: 2022 7573 6572 222c 2022 636f 6e74 656e   "user", "conten
-00018220: 7422 3a20 6669 6e65 5475 6e65 6455 7365  t": fineTunedUse
-00018230: 7249 6e70 7574 7d29 0a0a 2020 2020 2020  rInput})..      
-00018240: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-00018250: 7374 6172 7420 7370 696e 6e69 6e67 0a20  start spinning. 
-00018260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018270: 2020 2063 6f6e 6669 672e 7374 6f70 5f65     config.stop_e
-00018280: 7665 6e74 203d 2074 6872 6561 6469 6e67  vent = threading
-00018290: 2e45 7665 6e74 2829 0a20 2020 2020 2020  .Event().       
-000182a0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-000182b0: 6669 672e 7370 696e 6e65 725f 7468 7265  fig.spinner_thre
-000182c0: 6164 203d 2074 6872 6561 6469 6e67 2e54  ad = threading.T
-000182d0: 6872 6561 6428 7461 7267 6574 3d73 7069  hread(target=spi
-000182e0: 6e6e 696e 675f 616e 696d 6174 696f 6e2c  nning_animation,
-000182f0: 2061 7267 733d 2863 6f6e 6669 672e 7374   args=(config.st
-00018300: 6f70 5f65 7665 6e74 2c29 290a 2020 2020  op_event,)).    
-00018310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018320: 636f 6e66 6967 2e73 7069 6e6e 6572 5f74  config.spinner_t
-00018330: 6872 6561 642e 7374 6172 7428 290a 0a20  hread.start().. 
-00018340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018350: 2020 2023 2066 6f72 6365 206c 6f61 6469     # force loadi
-00018360: 6e67 2069 6e74 6572 6e65 7420 7365 6172  ng internet sear
-00018370: 6368 6573 0a20 2020 2020 2020 2020 2020  ches.           
-00018380: 2020 2020 2020 2020 2069 6620 636f 6e66           if conf
-00018390: 6967 2e6c 6f61 6469 6e67 496e 7465 726e  ig.loadingIntern
-000183a0: 6574 5365 6172 6368 6573 203d 3d20 2261  etSearches == "a
-000183b0: 6c77 6179 7322 3a0a 2020 2020 2020 2020  lways":.        
-000183c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000183d0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-000183e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000183f0: 2063 6f6e 6669 672e 6375 7272 656e 744d   config.currentM
-00018400: 6573 7361 6765 7320 3d20 4361 6c6c 4c4c  essages = CallLL
-00018410: 4d2e 7275 6e53 696e 676c 6546 756e 6374  M.runSingleFunct
-00018420: 696f 6e43 616c 6c28 636f 6e66 6967 2e63  ionCall(config.c
-00018430: 7572 7265 6e74 4d65 7373 6167 6573 2c20  urrentMessages, 
-00018440: 2269 6e74 6567 7261 7465 5f67 6f6f 676c  "integrate_googl
-00018450: 655f 7365 6172 6368 6573 2229 0a20 2020  e_searches").   
-00018460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018470: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
-00018480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018490: 2020 2020 2020 2020 2070 7269 6e74 3128           print1(
-000184a0: 2255 6e61 626c 6520 746f 206c 6f61 6420  "Unable to load 
-000184b0: 696e 7465 726e 6574 2072 6573 6f75 7263  internet resourc
-000184c0: 6573 2e22 290a 2020 2020 2020 2020 2020  es.").          
-000184d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000184e0: 2020 7368 6f77 4572 726f 7273 2829 0a0a    showErrors()..
-000184f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018500: 2020 2020 636f 6d70 6c65 7469 6f6e 203d      completion =
-00018510: 2043 616c 6c4c 4c4d 2e72 756e 4765 6e69   CallLLM.runGeni
-00018520: 7573 4361 6c6c 2863 6f6e 6669 672e 6375  usCall(config.cu
-00018530: 7272 656e 744d 6573 7361 6765 732c 206e  rrentMessages, n
-00018540: 6f46 756e 6374 696f 6e43 616c 6c29 0a20  oFunctionCall). 
-00018550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018560: 2020 200a 2020 2020 2020 2020 2020 2020     .            
-00018570: 2020 2020 2020 2020 2320 7374 6f70 2073          # stop s
-00018580: 7069 6e6e 696e 670a 2020 2020 2020 2020  pinning.        
-00018590: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-000185a0: 6967 2e72 756e 5079 7468 6f6e 203d 2054  ig.runPython = T
-000185b0: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
-000185c0: 2020 2020 2020 2020 7374 6f70 5370 696e          stopSpin
-000185d0: 6e69 6e67 2829 0a0a 2020 2020 2020 2020  ning()..        
-000185e0: 2020 2020 2020 2020 2020 2020 6966 2063              if c
-000185f0: 6f6d 706c 6574 696f 6e20 6973 206e 6f74  ompletion is not
-00018600: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00018610: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00018620: 2043 7265 6174 6520 6120 6e65 7720 7468   Create a new th
-00018630: 7265 6164 2066 6f72 2074 6865 2073 7472  read for the str
-00018640: 6561 6d69 6e67 2074 6173 6b0a 2020 2020  eaming task.    
-00018650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018660: 2020 2020 7374 7265 616d 696e 6757 6f72      streamingWor
-00018670: 6457 7261 7070 6572 203d 2053 7472 6561  dWrapper = Strea
-00018680: 6d69 6e67 576f 7264 5772 6170 7065 7228  mingWordWrapper(
-00018690: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000186a0: 2020 2020 2020 2020 2020 7374 7265 616d            stream
-000186b0: 696e 675f 6576 656e 7420 3d20 7468 7265  ing_event = thre
-000186c0: 6164 696e 672e 4576 656e 7428 290a 2020  ading.Event().  
-000186d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000186e0: 2020 2020 2020 7365 6c66 2e73 7472 6561        self.strea
-000186f0: 6d69 6e67 5f74 6872 6561 6420 3d20 7468  ming_thread = th
-00018700: 7265 6164 696e 672e 5468 7265 6164 2874  reading.Thread(t
-00018710: 6172 6765 743d 7374 7265 616d 696e 6757  arget=streamingW
-00018720: 6f72 6457 7261 7070 6572 2e73 7472 6561  ordWrapper.strea
-00018730: 6d4f 7574 7075 7473 2c20 6172 6773 3d28  mOutputs, args=(
-00018740: 7374 7265 616d 696e 675f 6576 656e 742c  streaming_event,
-00018750: 2063 6f6d 706c 6574 696f 6e2c 2054 7275   completion, Tru
-00018760: 6520 6966 2063 6f6e 6669 672e 6c6c 6d49  e if config.llmI
-00018770: 6e74 6572 6661 6365 2069 6e20 2822 6368  nterface in ("ch
-00018780: 6174 6770 7422 2c20 226c 6574 6d65 646f  atgpt", "letmedo
-00018790: 6974 2229 2065 6c73 6520 4661 6c73 6529  it") else False)
-000187a0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000187b0: 2020 2020 2020 2020 2020 2320 5374 6172            # Star
-000187c0: 7420 7468 6520 7374 7265 616d 696e 6720  t the streaming 
-000187d0: 7468 7265 6164 0a20 2020 2020 2020 2020  thread.         
-000187e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000187f0: 656c 662e 7374 7265 616d 696e 675f 7468  elf.streaming_th
-00018800: 7265 6164 2e73 7461 7274 2829 0a0a 2020  read.start()..  
-00018810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018820: 2020 2020 2020 2320 7761 6974 2077 6869        # wait whi
-00018830: 6c65 2074 6578 7420 6f75 7470 7574 2069  le text output i
-00018840: 7320 7374 6561 6d69 6e67 3b20 6361 7074  s steaming; capt
-00018850: 7572 6520 6b65 7920 636f 6d62 6f20 2763  ure key combo 'c
-00018860: 7472 6c2b 7127 206f 7220 2763 7472 6c2b  trl+q' or 'ctrl+
-00018870: 7a27 2074 6f20 7374 6f70 2074 6865 2073  z' to stop the s
-00018880: 7472 6561 6d69 6e67 0a20 2020 2020 2020  treaming.       
-00018890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000188a0: 2073 7472 6561 6d69 6e67 576f 7264 5772   streamingWordWr
-000188b0: 6170 7065 722e 6b65 7954 6f53 746f 7053  apper.keyToStopS
-000188c0: 7472 6561 6d69 6e67 2873 7472 6561 6d69  treaming(streami
-000188d0: 6e67 5f65 7665 6e74 290a 0a20 2020 2020  ng_event)..     
-000188e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000188f0: 2020 2023 2077 6865 6e20 7374 7265 616d     # when stream
-00018900: 696e 6720 6973 2064 6f6e 6520 6f72 2077  ing is done or w
-00018910: 6865 6e20 7573 6572 2070 7265 7373 2022  hen user press "
-00018920: 6374 726c 2b71 220a 2020 2020 2020 2020  ctrl+q".        
-00018930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018940: 7365 6c66 2e73 7472 6561 6d69 6e67 5f74  self.streaming_t
-00018950: 6872 6561 642e 6a6f 696e 2829 0a0a 2020  hread.join()..  
-00018960: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-00018970: 6572 726f 7220 636f 6465 733a 2068 7474  error codes: htt
-00018980: 7073 3a2f 2f70 6c61 7466 6f72 6d2e 6f70  ps://platform.op
-00018990: 656e 6169 2e63 6f6d 2f64 6f63 732f 6775  enai.com/docs/gu
-000189a0: 6964 6573 2f65 7272 6f72 2d63 6f64 6573  ides/error-codes
-000189b0: 2f70 7974 686f 6e2d 6c69 6272 6172 792d  /python-library-
-000189c0: 6572 726f 722d 7479 7065 730a 2020 2020  error-types.    
-000189d0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-000189e0: 7074 206f 7065 6e61 692e 4150 4945 7272  pt openai.APIErr
-000189f0: 6f72 2061 7320 653a 0a20 2020 2020 2020  or as e:.       
-00018a00: 2020 2020 2020 2020 2020 2020 2073 746f               sto
-00018a10: 7053 7069 6e6e 696e 6728 290a 2020 2020  pSpinning().    
-00018a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018a30: 2348 616e 646c 6520 4150 4920 6572 726f  #Handle API erro
-00018a40: 7220 6865 7265 2c20 652e 672e 2072 6574  r here, e.g. ret
-00018a50: 7279 206f 7220 6c6f 670a 2020 2020 2020  ry or log.      
-00018a60: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00018a70: 696e 7431 2866 224f 7065 6e41 4920 4150  int1(f"OpenAI AP
-00018a80: 4920 7265 7475 726e 6564 2061 6e20 4150  I returned an AP
-00018a90: 4920 4572 726f 723a 207b 657d 2229 0a20  I Error: {e}"). 
-00018aa0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00018ab0: 7863 6570 7420 6f70 656e 6169 2e41 5049  xcept openai.API
-00018ac0: 436f 6e6e 6563 7469 6f6e 4572 726f 7220  ConnectionError 
-00018ad0: 6173 2065 3a0a 2020 2020 2020 2020 2020  as e:.          
-00018ae0: 2020 2020 2020 2020 2020 7374 6f70 5370            stopSp
-00018af0: 696e 6e69 6e67 2829 0a20 2020 2020 2020  inning().       
-00018b00: 2020 2020 2020 2020 2020 2020 2023 4861               #Ha
-00018b10: 6e64 6c65 2063 6f6e 6e65 6374 696f 6e20  ndle connection 
-00018b20: 6572 726f 7220 6865 7265 0a20 2020 2020  error here.     
-00018b30: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00018b40: 7269 6e74 3128 6622 4661 696c 6564 2074  rint1(f"Failed t
-00018b50: 6f20 636f 6e6e 6563 7420 746f 204f 7065  o connect to Ope
-00018b60: 6e41 4920 4150 493a 207b 657d 2229 0a20  nAI API: {e}"). 
-00018b70: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00018b80: 7863 6570 7420 6f70 656e 6169 2e52 6174  xcept openai.Rat
-00018b90: 654c 696d 6974 4572 726f 7220 6173 2065  eLimitError as e
-00018ba0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00018bb0: 2020 2020 2020 7374 6f70 5370 696e 6e69        stopSpinni
-00018bc0: 6e67 2829 0a20 2020 2020 2020 2020 2020  ng().           
-00018bd0: 2020 2020 2020 2020 2023 4861 6e64 6c65           #Handle
-00018be0: 2072 6174 6520 6c69 6d69 7420 6572 726f   rate limit erro
-00018bf0: 7220 2877 6520 7265 636f 6d6d 656e 6420  r (we recommend 
-00018c00: 7573 696e 6720 6578 706f 6e65 6e74 6961  using exponentia
-00018c10: 6c20 6261 636b 6f66 6629 0a20 2020 2020  l backoff).     
-00018c20: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00018c30: 7269 6e74 3128 6622 4f70 656e 4149 2041  rint1(f"OpenAI A
-00018c40: 5049 2072 6571 7565 7374 2065 7863 6565  PI request excee
-00018c50: 6465 6420 7261 7465 206c 696d 6974 3a20  ded rate limit: 
-00018c60: 7b65 7d22 290a 2020 2020 2020 2020 2020  {e}").          
-00018c70: 2020 2020 2020 6578 6365 7074 3a0a 2020        except:.  
-00018c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018c90: 2020 7374 6f70 5370 696e 6e69 6e67 2829    stopSpinning()
-00018ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018cb0: 2020 2020 2074 7261 6365 203d 2074 7261       trace = tra
-00018cc0: 6365 6261 636b 2e66 6f72 6d61 745f 6578  ceback.format_ex
-00018cd0: 6328 290a 2020 2020 2020 2020 2020 2020  c().            
-00018ce0: 2020 2020 2020 2020 6966 2022 506c 6561          if "Plea
-00018cf0: 7365 2072 6564 7563 6520 7468 6520 6c65  se reduce the le
-00018d00: 6e67 7468 206f 6620 7468 6520 6d65 7373  ngth of the mess
-00018d10: 6167 6573 206f 7220 636f 6d70 6c65 7469  ages or completi
-00018d20: 6f6e 2220 696e 2074 7261 6365 3a0a 2020  on" in trace:.  
-00018d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018d40: 2020 2020 2020 7072 696e 7431 2822 4d61        print1("Ma
-00018d50: 7869 6d75 6d20 746f 6b65 6e73 2072 6561  ximum tokens rea
-00018d60: 6368 6564 2122 290a 2020 2020 2020 2020  ched!").        
-00018d70: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00018d80: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
-00018d90: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00018da0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00018db0: 3128 7365 6c66 2e64 6976 6964 6572 290a  1(self.divider).
-00018dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018dd0: 2020 2020 2020 2020 7072 696e 7431 2874          print1(t
-00018de0: 7261 6365 290a 2020 2020 2020 2020 2020  race).          
-00018df0: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00018e00: 696e 7431 2873 656c 662e 6469 7669 6465  int1(self.divide
-00018e10: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
-00018e20: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00018e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018e40: 2020 2020 2070 7269 6e74 3128 2245 7272       print1("Err
-00018e50: 6f72 2065 6e63 6f75 6e74 6572 6564 2122  or encountered!"
-00018e60: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
-00018e70: 2020 2020 2020 2063 6f6e 6669 672e 6465         config.de
-00018e80: 6661 756c 7445 6e74 7279 203d 2075 7365  faultEntry = use
-00018e90: 7249 6e70 7574 0a20 2020 2020 2020 2020  rInput.         
-00018ea0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00018eb0: 3128 2273 7461 7274 696e 6720 6120 6e65  1("starting a ne
-00018ec0: 7720 6368 6174 2122 290a 2020 2020 2020  w chat!").      
-00018ed0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00018ee0: 6c66 2e73 6176 6543 6861 7428 636f 6e66  lf.saveChat(conf
-00018ef0: 6967 2e63 7572 7265 6e74 4d65 7373 6167  ig.currentMessag
-00018f00: 6573 290a 2020 2020 2020 2020 2020 2020  es).            
-00018f10: 2020 2020 2020 2020 7374 6f72 6167 6564          storaged
-00018f20: 6972 6563 746f 7279 2c20 636f 6e66 6967  irectory, config
-00018f30: 2e63 7572 7265 6e74 4d65 7373 6167 6573  .currentMessages
-00018f40: 203d 2073 7461 7274 4368 6174 2829 0a0a   = startChat()..
-00018f50: 2020 2020 6465 6620 6c61 756e 6368 4368      def launchCh
-00018f60: 6174 626f 7428 7365 6c66 2c20 6368 6174  atbot(self, chat
-00018f70: 626f 742c 2066 696e 6554 756e 6564 5573  bot, fineTunedUs
-00018f80: 6572 496e 7075 7429 3a0a 2020 2020 2020  erInput):.      
-00018f90: 2020 6966 206e 6f74 2063 6861 7462 6f74    if not chatbot
-00018fa0: 3a0a 2020 2020 2020 2020 2020 2020 6368  :.            ch
-00018fb0: 6174 626f 7420 3d20 636f 6e66 6967 2e6c  atbot = config.l
-00018fc0: 6c6d 496e 7465 7266 6163 650a 2020 2020  lmInterface.    
-00018fd0: 2020 2020 6966 2063 6f6e 6669 672e 6973      if config.is
-00018fe0: 5465 726d 7578 3a0a 2020 2020 2020 2020  Termux:.        
-00018ff0: 2020 2020 2363 6861 7462 6f74 203d 2022      #chatbot = "
-00019000: 6368 6174 6770 7422 0a20 2020 2020 2020  chatgpt".       
-00019010: 2020 2020 202e 2e2e 0a20 2020 2020 2020       ....       
-00019020: 2063 6861 7462 6f74 7320 3d20 7b0a 2020   chatbots = {.  
-00019030: 2020 2020 2020 2020 2020 226c 6c61 6d61            "llama
-00019040: 6370 7022 3a20 6c61 6d62 6461 3a20 4c6c  cpp": lambda: Ll
-00019050: 616d 6163 7070 4368 6174 286d 6f64 656c  amacppChat(model
-00019060: 3d4e 6f6e 6520 6966 2063 6f6e 6669 672e  =None if config.
-00019070: 7573 6541 6464 6974 696f 6e61 6c43 6861  useAdditionalCha
-00019080: 744d 6f64 656c 2065 6c73 6520 636f 6e66  tModel else conf
-00019090: 6967 2e6c 6c61 6d61 6370 704d 6169 6e4d  ig.llamacppMainM
-000190a0: 6f64 656c 292e 7275 6e28 6669 6e65 5475  odel).run(fineTu
-000190b0: 6e65 6455 7365 7249 6e70 7574 292c 0a20  nedUserInput),. 
-000190c0: 2020 2020 2020 2020 2020 2022 6f6c 6c61             "olla
-000190d0: 6d61 223a 206c 616d 6264 613a 204f 6c6c  ma": lambda: Oll
-000190e0: 616d 6143 6861 7428 292e 7275 6e28 6669  amaChat().run(fi
-000190f0: 6e65 5475 6e65 6455 7365 7249 6e70 7574  neTunedUserInput
-00019100: 2c20 6d6f 6465 6c3d 636f 6e66 6967 2e6f  , model=config.o
-00019110: 6c6c 616d 6143 6861 744d 6f64 656c 2069  llamaChatModel i
-00019120: 6620 636f 6e66 6967 2e75 7365 4164 6469  f config.useAddi
-00019130: 7469 6f6e 616c 4368 6174 4d6f 6465 6c20  tionalChatModel 
-00019140: 656c 7365 2063 6f6e 6669 672e 6f6c 6c61  else config.olla
-00019150: 6d61 4d61 696e 4d6f 6465 6c29 2c0a 2020  maMainModel),.  
-00019160: 2020 2020 2020 2020 2020 2263 6861 7467            "chatg
-00019170: 7074 223a 206c 616d 6264 613a 2043 6861  pt": lambda: Cha
-00019180: 7447 5054 2829 2e72 756e 2866 696e 6554  tGPT().run(fineT
-00019190: 756e 6564 5573 6572 496e 7075 7429 2c0a  unedUserInput),.
-000191a0: 2020 2020 2020 2020 2020 2020 226c 6574              "let
-000191b0: 6d65 646f 6974 223a 206c 616d 6264 613a  medoit": lambda:
-000191c0: 2043 6861 7447 5054 2829 2e72 756e 2866   ChatGPT().run(f
-000191d0: 696e 6554 756e 6564 5573 6572 496e 7075  ineTunedUserInpu
-000191e0: 7429 2c0a 2020 2020 2020 2020 2020 2020  t),.            
-000191f0: 2267 656d 696e 6922 3a20 6c61 6d62 6461  "gemini": lambda
-00019200: 3a20 4765 6d69 6e69 5072 6f28 7465 6d70  : GeminiPro(temp
-00019210: 6572 6174 7572 653d 636f 6e66 6967 2e6c  erature=config.l
-00019220: 6c6d 5465 6d70 6572 6174 7572 6529 2e72  lmTemperature).r
-00019230: 756e 2866 696e 6554 756e 6564 5573 6572  un(fineTunedUser
-00019240: 496e 7075 7429 2c0a 2020 2020 2020 2020  Input),.        
-00019250: 2020 2020 2267 656d 696e 6970 726f 223a      "geminipro":
-00019260: 206c 616d 6264 613a 2047 656d 696e 6950   lambda: GeminiP
-00019270: 726f 2874 656d 7065 7261 7475 7265 3d63  ro(temperature=c
-00019280: 6f6e 6669 672e 6c6c 6d54 656d 7065 7261  onfig.llmTempera
-00019290: 7475 7265 292e 7275 6e28 6669 6e65 5475  ture).run(fineTu
-000192a0: 6e65 6455 7365 7249 6e70 7574 292c 0a20  nedUserInput),. 
-000192b0: 2020 2020 2020 2020 2020 2022 7061 6c6d             "palm
-000192c0: 3222 3a20 6c61 6d62 6461 3a20 5061 6c6d  2": lambda: Palm
-000192d0: 3228 292e 7275 6e28 6669 6e65 5475 6e65  2().run(fineTune
-000192e0: 6455 7365 7249 6e70 7574 2c20 7465 6d70  dUserInput, temp
-000192f0: 6572 6174 7572 653d 636f 6e66 6967 2e6c  erature=config.l
-00019300: 6c6d 5465 6d70 6572 6174 7572 6529 2c0a  lmTemperature),.
-00019310: 2020 2020 2020 2020 2020 2020 2263 6f64              "cod
-00019320: 6579 223a 206c 616d 6264 613a 2043 6f64  ey": lambda: Cod
-00019330: 6579 2829 2e72 756e 2866 696e 6554 756e  ey().run(fineTun
-00019340: 6564 5573 6572 496e 7075 742c 2074 656d  edUserInput, tem
-00019350: 7065 7261 7475 7265 3d63 6f6e 6669 672e  perature=config.
-00019360: 6c6c 6d54 656d 7065 7261 7475 7265 292c  llmTemperature),
-00019370: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
-00019380: 2020 2069 6620 6368 6174 626f 7420 696e     if chatbot in
-00019390: 2063 6861 7462 6f74 733a 0a20 2020 2020   chatbots:.     
-000193a0: 2020 2020 2020 2063 6861 7462 6f74 735b         chatbots[
-000193b0: 6368 6174 626f 745d 2829 0a0a 2020 2020  chatbot]()..    
-000193c0: 6465 6620 6164 6450 6167 6572 5465 7874  def addPagerText
-000193d0: 2873 656c 662c 2074 6578 742c 2077 7261  (self, text, wra
-000193e0: 7057 6f72 6473 3d46 616c 7365 293a 0a20  pWords=False):. 
-000193f0: 2020 2020 2020 2069 6620 7772 6170 576f         if wrapWo
-00019400: 7264 733a 0a20 2020 2020 2020 2020 2020  rds:.           
-00019410: 2074 6578 7420 3d20 7365 6c66 2e67 6574   text = self.get
-00019420: 5772 6170 7065 6448 544d 4c54 6578 7428  WrappedHTMLText(
-00019430: 7465 7874 290a 2020 2020 2020 2020 636f  text).        co
-00019440: 6e66 6967 2e70 6167 6572 436f 6e74 656e  nfig.pagerConten
-00019450: 7420 2b3d 2066 227b 7465 7874 7d5c 6e22  t += f"{text}\n"
-00019460: 0a0a 2020 2020 6465 6620 6c61 756e 6368  ..    def launch
-00019470: 5061 6765 7228 7365 6c66 2c20 7061 6765  Pager(self, page
-00019480: 7243 6f6e 7465 6e74 3d4e 6f6e 6529 3a0a  rContent=None):.
-00019490: 2020 2020 2020 2020 6966 2070 6167 6572          if pager
-000194a0: 436f 6e74 656e 7420 6973 204e 6f6e 653a  Content is None:
-000194b0: 0a20 2020 2020 2020 2020 2020 2070 6167  .            pag
-000194c0: 6572 436f 6e74 656e 7420 3d20 636f 6e66  erContent = conf
-000194d0: 6967 2e70 6167 6572 436f 6e74 656e 740a  ig.pagerContent.
-000194e0: 2020 2020 2020 2020 6966 2070 6167 6572          if pager
-000194f0: 436f 6e74 656e 743a 0a20 2020 2020 2020  Content:.       
-00019500: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00019510: 2020 2020 2020 2020 2020 6966 2073 6875            if shu
-00019520: 7469 6c2e 7768 6963 6828 2262 6174 2229  til.which("bat")
-00019530: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00019540: 2020 2020 2020 2320 5769 6e64 6f77 7320        # Windows 
-00019550: 7573 6572 7320 6361 6e20 696e 7374 616c  users can instal
-00019560: 6c20 6261 7420 636f 6d6d 616e 6420 7769  l bat command wi
-00019570: 7468 2073 636f 6f70 0a20 2020 2020 2020  th scoop.       
-00019580: 2020 2020 2020 2020 2020 2020 2023 2072               # r
-00019590: 6561 643a 2068 7474 7073 3a2f 2f67 6974  ead: https://git
-000195a0: 6875 622e 636f 6d2f 5363 6f6f 7049 6e73  hub.com/ScoopIns
-000195b0: 7461 6c6c 6572 2f53 636f 6f70 0a20 2020  taller/Scoop.   
-000195c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000195d0: 2023 203e 2069 7772 202d 7573 6562 2067   # > iwr -useb g
-000195e0: 6574 2e73 636f 6f70 2e73 6820 7c20 6965  et.scoop.sh | ie
-000195f0: 780a 2020 2020 2020 2020 2020 2020 2020  x.              
-00019600: 2020 2020 2020 2320 3e20 7363 6f6f 7020        # > scoop 
-00019610: 696e 7374 616c 6c20 6172 6961 3220 6261  install aria2 ba
-00019620: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
-00019630: 2020 2020 2020 6966 2072 652e 7365 6172        if re.sear
-00019640: 6368 2822 3c5b 5e3c 3e5d 2b3f 3e22 2c20  ch("<[^<>]+?>", 
-00019650: 7061 6765 7243 6f6e 7465 6e74 293a 0a20  pagerContent):. 
-00019660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019670: 2020 2020 2020 2070 6167 6572 436f 6e74         pagerCont
-00019680: 656e 7420 3d20 5465 7874 5574 696c 2e63  ent = TextUtil.c
-00019690: 6f6e 7665 7274 4874 6d6c 5461 6754 6f43  onvertHtmlTagToC
-000196a0: 6f6c 6f72 616d 6128 7061 6765 7243 6f6e  olorama(pagerCon
-000196b0: 7465 6e74 290a 2020 2020 2020 2020 2020  tent).          
-000196c0: 2020 2020 2020 2020 2020 6c61 6e67 7561            langua
-000196d0: 6765 203d 2022 5079 7468 6f6e 2220 6966  ge = "Python" if
-000196e0: 2022 6060 6070 7974 686f 6e22 2069 6e20   "```python" in 
-000196f0: 7061 6765 7243 6f6e 7465 6e74 2065 6c73  pagerContent els
-00019700: 6520 224d 6172 6b64 6f77 6e22 0a20 2020  e "Markdown".   
-00019710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019720: 2070 7964 6f63 2e70 6970 6570 6167 6572   pydoc.pipepager
-00019730: 2870 6167 6572 436f 6e74 656e 742c 2063  (pagerContent, c
-00019740: 6d64 3d66 2262 6174 202d 6c20 7b6c 616e  md=f"bat -l {lan
-00019750: 6775 6167 657d 202d 2d70 6167 696e 6720  guage} --paging 
-00019760: 616c 7761 7973 2229 0a20 2020 2020 2020  always").       
-00019770: 2020 2020 2020 2020 2065 6c69 6620 7368           elif sh
-00019780: 7574 696c 2e77 6869 6368 2822 6c65 7373  util.which("less
-00019790: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
-000197a0: 2020 2020 2020 2020 2320 5769 6e64 6f77          # Window
-000197b0: 7320 7573 6572 7320 6361 6e20 696e 7374  s users can inst
-000197c0: 616c 6c20 6c65 7373 2063 6f6d 6d61 6e64  all less command
-000197d0: 2077 6974 6820 7363 6f6f 700a 2020 2020   with scoop.    
+000167e0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+000167f0: 2020 2020 2020 2020 2066 6f6c 6465 7250           folderP
+00016800: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
+00016810: 696e 2873 656c 662e 6765 7446 696c 6573  in(self.getFiles
+00016820: 2829 2c20 2263 6861 7473 222c 2022 6578  (), "chats", "ex
+00016830: 706f 7274 2229 0a20 2020 2020 2020 2020  port").         
+00016840: 2020 2020 2020 2020 2020 2050 6174 6828             Path(
+00016850: 666f 6c64 6572 5061 7468 292e 6d6b 6469  folderPath).mkdi
+00016860: 7228 7061 7265 6e74 733d 5472 7565 2c20  r(parents=True, 
+00016870: 6578 6973 745f 6f6b 3d54 7275 6529 0a20  exist_ok=True). 
+00016880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016890: 2020 2069 6620 6f73 2e70 6174 682e 6973     if os.path.is
+000168a0: 6469 7228 666f 6c64 6572 5061 7468 293a  dir(folderPath):
+000168b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000168c0: 2020 2020 2020 2020 2063 6861 7446 696c           chatFil
+000168d0: 6520 3d20 6f73 2e70 6174 682e 6a6f 696e  e = os.path.join
+000168e0: 2866 6f6c 6465 7250 6174 682c 2066 227b  (folderPath, f"{
+000168f0: 7469 6d65 7374 616d 707d 2e74 7874 2229  timestamp}.txt")
+00016900: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016910: 2020 2020 2020 2020 2077 6974 6820 6f70           with op
+00016920: 656e 2863 6861 7446 696c 652c 2022 7722  en(chatFile, "w"
+00016930: 2c20 656e 636f 6469 6e67 3d22 7574 662d  , encoding="utf-
+00016940: 3822 2920 6173 2066 696c 654f 626a 3a0a  8") as fileObj:.
+00016950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016960: 2020 2020 2020 2020 2020 2020 6669 6c65              file
+00016970: 4f62 6a2e 7772 6974 6528 706c 6169 6e54  Obj.write(plainT
+00016980: 6578 7429 0a20 2020 2020 2020 2020 2020  ext).           
+00016990: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000169a0: 6f70 656e 4669 6c65 2061 6e64 206f 732e  openFile and os.
+000169b0: 7061 7468 2e69 7366 696c 6528 6368 6174  path.isfile(chat
+000169c0: 4669 6c65 293a 0a20 2020 2020 2020 2020  File):.         
+000169d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000169e0: 2020 206f 732e 7379 7374 656d 2866 2727     os.system(f''
+000169f0: 277b 636f 6e66 6967 2e6f 7065 6e7d 2022  '{config.open} "
+00016a00: 7b63 6861 7446 696c 657d 2227 2727 290a  {chatFile}"''').
+00016a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016a20: 6578 6365 7074 3a0a 2020 2020 2020 2020  except:.        
+00016a30: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00016a40: 2e70 7269 6e74 3228 2246 6169 6c65 6420  .print2("Failed 
+00016a50: 746f 2073 6176 6520 6368 6174 215c 6e22  to save chat!\n"
+00016a60: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00016a70: 2020 2020 2020 5368 6172 6564 5574 696c        SharedUtil
+00016a80: 2e73 686f 7745 7272 6f72 7328 290a 0a20  .showErrors().. 
+00016a90: 2020 2064 6566 2072 756e 496e 7374 7275     def runInstru
+00016aa0: 6374 696f 6e28 7365 6c66 293a 0a20 2020  ction(self):.   
+00016ab0: 2020 2020 2069 6e73 7472 7563 7469 6f6e       instruction
+00016ac0: 7320 3d20 6c69 7374 2863 6f6e 6669 672e  s = list(config.
+00016ad0: 7072 6564 6566 696e 6564 496e 7374 7275  predefinedInstru
+00016ae0: 6374 696f 6e73 2e6b 6579 7328 2929 0a20  ctions.keys()). 
+00016af0: 2020 2020 2020 2069 6e73 7472 7563 7469         instructi
+00016b00: 6f6e 203d 2073 656c 662e 6469 616c 6f67  on = self.dialog
+00016b10: 732e 6765 7456 616c 6964 4f70 7469 6f6e  s.getValidOption
+00016b20: 7328 0a20 2020 2020 2020 2020 2020 206f  s(.            o
+00016b30: 7074 696f 6e73 3d69 6e73 7472 7563 7469  ptions=instructi
+00016b40: 6f6e 732c 0a20 2020 2020 2020 2020 2020  ons,.           
+00016b50: 2074 6974 6c65 3d22 5072 6564 6566 696e   title="Predefin
+00016b60: 6564 2049 6e73 7472 7563 7469 6f6e 7322  ed Instructions"
+00016b70: 2c0a 2020 2020 2020 2020 2020 2020 7465  ,.            te
+00016b80: 7874 3d22 5365 6c65 6374 2061 6e20 696e  xt="Select an in
+00016b90: 7374 7275 6374 696f 6e3a 222c 0a20 2020  struction:",.   
+00016ba0: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
+00016bb0: 6620 696e 7374 7275 6374 696f 6e3a 0a20  f instruction:. 
+00016bc0: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00016bd0: 672e 6465 6661 756c 7445 6e74 7279 203d  g.defaultEntry =
+00016be0: 2063 6f6e 6669 672e 7072 6564 6566 696e   config.predefin
+00016bf0: 6564 496e 7374 7275 6374 696f 6e73 5b69  edInstructions[i
+00016c00: 6e73 7472 7563 7469 6f6e 5d0a 2020 2020  nstruction].    
+00016c10: 2020 2020 2020 2020 636f 6e66 6967 2e61          config.a
+00016c20: 6363 6570 745f 6465 6661 756c 7420 3d20  ccept_default = 
+00016c30: 5472 7565 0a0a 2020 2020 6465 6620 6368  True..    def ch
+00016c40: 616e 6765 436f 6e74 6578 7428 7365 6c66  angeContext(self
+00016c50: 293a 0a20 2020 2020 2020 2063 6f6e 7465  ):.        conte
+00016c60: 7874 7320 3d20 6c69 7374 2863 6f6e 6669  xts = list(confi
+00016c70: 672e 7072 6564 6566 696e 6564 436f 6e74  g.predefinedCont
+00016c80: 6578 7473 2e6b 6579 7328 2929 0a20 2020  exts.keys()).   
+00016c90: 2020 2020 2070 7265 6465 6669 6e65 6443       predefinedC
+00016ca0: 6f6e 7465 7874 203d 2073 656c 662e 6469  ontext = self.di
+00016cb0: 616c 6f67 732e 6765 7456 616c 6964 4f70  alogs.getValidOp
+00016cc0: 7469 6f6e 7328 0a20 2020 2020 2020 2020  tions(.         
+00016cd0: 2020 206f 7074 696f 6e73 3d63 6f6e 7465     options=conte
+00016ce0: 7874 732c 0a20 2020 2020 2020 2020 2020  xts,.           
+00016cf0: 2074 6974 6c65 3d22 5072 6564 6566 696e   title="Predefin
+00016d00: 6564 2043 6f6e 7465 7874 7322 2c0a 2020  ed Contexts",.  
+00016d10: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
+00016d20: 743d 636f 6e66 6967 2e70 7265 6465 6669  t=config.predefi
+00016d30: 6e65 6443 6f6e 7465 7874 2c0a 2020 2020  nedContext,.    
+00016d40: 2020 2020 2020 2020 7465 7874 3d22 5365          text="Se
+00016d50: 6c65 6374 2061 2063 6f6e 7465 7874 3a22  lect a context:"
+00016d60: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+00016d70: 2020 2020 6966 2070 7265 6465 6669 6e65      if predefine
+00016d80: 6443 6f6e 7465 7874 3a0a 2020 2020 2020  dContext:.      
+00016d90: 2020 2020 2020 636f 6e66 6967 2e70 7265        config.pre
+00016da0: 6465 6669 6e65 6443 6f6e 7465 7874 203d  definedContext =
+00016db0: 2070 7265 6465 6669 6e65 6443 6f6e 7465   predefinedConte
+00016dc0: 7874 0a20 2020 2020 2020 2020 2020 2069  xt.            i
+00016dd0: 6620 636f 6e66 6967 2e70 7265 6465 6669  f config.predefi
+00016de0: 6e65 6443 6f6e 7465 7874 203d 3d20 225b  nedContext == "[
+00016df0: 6375 7374 6f6d 5d22 3a0a 2020 2020 2020  custom]":.      
+00016e00: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00016e10: 7269 6e74 2822 4564 6974 2063 7573 746f  rint("Edit custo
+00016e20: 6d20 636f 6e74 6578 7420 6265 6c6f 773a  m context below:
+00016e30: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+00016e40: 2020 2063 7573 746f 6d43 6f6e 7465 7874     customContext
+00016e50: 203d 2073 656c 662e 7072 6f6d 7074 732e   = self.prompts.
+00016e60: 7369 6d70 6c65 5072 6f6d 7074 2873 7479  simplePrompt(sty
+00016e70: 6c65 3d73 656c 662e 7072 6f6d 7074 732e  le=self.prompts.
+00016e80: 7072 6f6d 7074 5374 796c 6532 2c20 6465  promptStyle2, de
+00016e90: 6661 756c 743d 636f 6e66 6967 2e63 7573  fault=config.cus
+00016ea0: 746f 6d50 7265 6465 6669 6e65 6443 6f6e  tomPredefinedCon
+00016eb0: 7465 7874 290a 2020 2020 2020 2020 2020  text).          
+00016ec0: 2020 2020 2020 6966 2063 7573 746f 6d43        if customC
+00016ed0: 6f6e 7465 7874 2061 6e64 206e 6f74 2063  ontext and not c
+00016ee0: 7573 746f 6d43 6f6e 7465 7874 2e73 7472  ustomContext.str
+00016ef0: 6970 2829 2e6c 6f77 6572 2829 203d 3d20  ip().lower() == 
+00016f00: 636f 6e66 6967 2e65 7869 745f 656e 7472  config.exit_entr
+00016f10: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+00016f20: 2020 2020 2020 2063 6f6e 6669 672e 6375         config.cu
+00016f30: 7374 6f6d 5072 6564 6566 696e 6564 436f  stomPredefinedCo
+00016f40: 6e74 6578 7420 3d20 6375 7374 6f6d 436f  ntext = customCo
+00016f50: 6e74 6578 742e 7374 7269 7028 290a 2020  ntext.strip().  
+00016f60: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00016f70: 2020 2020 2020 2020 2320 6120 7761 7920          # a way 
+00016f80: 746f 2071 7569 636b 6c79 2063 6c65 616e  to quickly clean
+00016f90: 2075 7020 636f 6e74 6578 740a 2020 2020   up context.    
+00016fa0: 2020 2020 2020 2020 636f 6e66 6967 2e70          config.p
+00016fb0: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+00016fc0: 203d 2022 5b6e 6f6e 655d 220a 2020 2020   = "[none]".    
+00016fd0: 2020 2020 636f 6e66 6967 2e73 6176 6543      config.saveC
+00016fe0: 6f6e 6669 6728 290a 2020 2020 2020 2020  onfig().        
+00016ff0: 7365 6c66 2e73 686f 7743 7572 7265 6e74  self.showCurrent
+00017000: 436f 6e74 6578 7428 290a 0a20 2020 2064  Context()..    d
+00017010: 6566 2067 6574 4469 7265 6374 6f72 794c  ef getDirectoryL
+00017020: 6973 7428 7365 6c66 293a 0a20 2020 2020  ist(self):.     
+00017030: 2020 2064 6972 6563 746f 7279 4c69 7374     directoryList
+00017040: 203d 205b 5d0a 2020 2020 2020 2020 666f   = [].        fo
+00017050: 7220 6620 696e 206f 732e 6c69 7374 6469  r f in os.listdi
+00017060: 7228 272e 2729 3a0a 2020 2020 2020 2020  r('.'):.        
+00017070: 2020 2020 6966 206f 732e 7061 7468 2e69      if os.path.i
+00017080: 7364 6972 2866 293a 0a20 2020 2020 2020  sdir(f):.       
+00017090: 2020 2020 2020 2020 2073 6570 6172 6174           separat
+000170a0: 6f72 203d 2022 5c5c 2220 6966 2063 6f6e  or = "\\" if con
+000170b0: 6669 672e 7468 6973 506c 6174 666f 726d  fig.thisPlatform
+000170c0: 203d 3d20 2257 696e 646f 7773 2220 656c   == "Windows" el
+000170d0: 7365 2022 2f22 0a20 2020 2020 2020 2020  se "/".         
+000170e0: 2020 2020 2020 2064 6972 6563 746f 7279         directory
+000170f0: 4c69 7374 2e61 7070 656e 6428 6622 7b66  List.append(f"{f
+00017100: 7d7b 7365 7061 7261 746f 727d 2229 0a20  }{separator}"). 
+00017110: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+00017120: 6f73 2e70 6174 682e 6973 6669 6c65 2866  os.path.isfile(f
+00017130: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00017140: 2020 2064 6972 6563 746f 7279 4c69 7374     directoryList
+00017150: 2e61 7070 656e 6428 6629 0a20 2020 2020  .append(f).     
+00017160: 2020 2072 6574 7572 6e20 6469 7265 6374     return direct
+00017170: 6f72 794c 6973 740a 0a20 2020 2064 6566  oryList..    def
+00017180: 2073 746f 7053 7069 6e6e 696e 6728 7365   stopSpinning(se
+00017190: 6c66 293a 0a20 2020 2020 2020 2074 7279  lf):.        try
+000171a0: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+000171b0: 6e66 6967 2e73 746f 705f 6576 656e 742e  nfig.stop_event.
+000171c0: 7365 7428 290a 2020 2020 2020 2020 2020  set().          
+000171d0: 2020 636f 6e66 6967 2e73 7069 6e6e 6572    config.spinner
+000171e0: 5f74 6872 6561 642e 6a6f 696e 2829 0a20  _thread.join(). 
+000171f0: 2020 2020 2020 2065 7863 6570 743a 0a20         except:. 
+00017200: 2020 2020 2020 2020 2020 2070 6173 730a             pass.
+00017210: 0a20 2020 2064 6566 2073 686f 774c 6f67  .    def showLog
+00017220: 6f28 7365 6c66 293a 0a20 2020 2020 2020  o(self):.       
+00017230: 2061 7070 4e61 6d65 203d 2063 6f6e 6669   appName = confi
+00017240: 672e 6c65 744d 6544 6f49 744e 616d 652e  g.letMeDoItName.
+00017250: 7370 6c69 7428 295b 305d 2e75 7070 6572  split()[0].upper
+00017260: 2829 0a20 2020 2020 2020 2074 6572 6d69  ().        termi
+00017270: 6e61 6c5f 7769 6474 6820 3d20 7368 7574  nal_width = shut
+00017280: 696c 2e67 6574 5f74 6572 6d69 6e61 6c5f  il.get_terminal_
+00017290: 7369 7a65 2829 2e63 6f6c 756d 6e73 0a20  size().columns. 
+000172a0: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
+000172b0: 2020 2020 2020 2020 6672 6f6d 2061 7274          from art
+000172c0: 2069 6d70 6f72 7420 7465 7874 3261 7274   import text2art
+000172d0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+000172e0: 7465 726d 696e 616c 5f77 6964 7468 203e  terminal_width >
+000172f0: 3d20 3332 3a0a 2020 2020 2020 2020 2020  = 32:.          
+00017300: 2020 2020 2020 6c6f 676f 203d 2074 6578        logo = tex
+00017310: 7432 6172 7428 6170 704e 616d 652c 2066  t2art(appName, f
+00017320: 6f6e 743d 2263 7962 6572 6d65 6475 6d22  ont="cybermedum"
+00017330: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
+00017340: 6966 2074 6572 6d69 6e61 6c5f 7769 6474  if terminal_widt
+00017350: 6820 3e3d 2032 303a 0a20 2020 2020 2020  h >= 20:.       
+00017360: 2020 2020 2020 2020 206c 6f67 6f20 3d20           logo = 
+00017370: 7465 7874 3261 7274 2822 2022 2e6a 6f69  text2art(" ".joi
+00017380: 6e28 6170 704e 616d 6529 202b 2022 2022  n(appName) + " "
+00017390: 2c20 666f 6e74 3d22 7768 6974 655f 6275  , font="white_bu
+000173a0: 6262 6c65 2229 0a20 2020 2020 2020 2020  bble").         
+000173b0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000173c0: 2020 2020 2020 2020 206c 6f67 6f20 3d20           logo = 
+000173d0: 636f 6e66 6967 2e6c 6574 4d65 446f 4974  config.letMeDoIt
+000173e0: 4e61 6d65 0a20 2020 2020 2020 2020 2020  Name.           
+000173f0: 206c 6f67 6f20 3d20 6c6f 676f 5b3a 2d31   logo = logo[:-1
+00017400: 5d20 2320 7265 6d6f 7665 2074 6865 206c  ] # remove the l
+00017410: 696e 6562 7265 616b 2061 7420 7468 6520  inebreak at the 
+00017420: 656e 640a 2020 2020 2020 2020 6578 6365  end.        exce
+00017430: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
+00017440: 6c6f 676f 203d 2063 6f6e 6669 672e 6c65  logo = config.le
+00017450: 744d 6544 6f49 744e 616d 650a 2020 2020  tMeDoItName.    
+00017460: 2020 2020 7072 696e 745f 666f 726d 6174      print_format
+00017470: 7465 645f 7465 7874 2848 544d 4c28 6622  ted_text(HTML(f"
+00017480: 3c7b 636f 6e66 6967 2e74 6572 6d69 6e61  <{config.termina
+00017490: 6c43 6f6d 6d61 6e64 456e 7472 7943 6f6c  lCommandEntryCol
+000174a0: 6f72 327d 3e7b 6c6f 676f 7d3c 2f7b 636f  or2}>{logo}</{co
+000174b0: 6e66 6967 2e74 6572 6d69 6e61 6c43 6f6d  nfig.terminalCom
+000174c0: 6d61 6e64 456e 7472 7943 6f6c 6f72 327d  mandEntryColor2}
+000174d0: 3e22 2929 0a0a 2020 2020 6465 6620 7374  >"))..    def st
+000174e0: 6172 7443 6861 7473 2873 656c 6629 3a0a  artChats(self):.
+000174f0: 2020 2020 2020 2020 746f 6b65 6e56 616c          tokenVal
+00017500: 6964 6174 6f72 203d 2054 6f6b 656e 5661  idator = TokenVa
+00017510: 6c69 6461 746f 7228 290a 2020 2020 2020  lidator().      
+00017520: 2020 6465 6620 6765 7444 796e 616d 6963    def getDynamic
+00017530: 546f 6f6c 4261 7228 293a 0a20 2020 2020  ToolBar():.     
+00017540: 2020 2020 2020 2072 6574 7572 6e20 636f         return co
+00017550: 6e66 6967 2e64 796e 616d 6963 546f 6f6c  nfig.dynamicTool
+00017560: 4261 7254 6578 740a 2020 2020 2020 2020  BarText.        
+00017570: 6465 6620 7374 6172 7443 6861 7428 293a  def startChat():
+00017580: 0a20 2020 2020 2020 2020 2020 2063 6c65  .            cle
+00017590: 6172 2829 0a20 2020 2020 2020 2020 2020  ar().           
+000175a0: 2073 656c 662e 7072 696e 7428 7365 6c66   self.print(self
+000175b0: 2e64 6976 6964 6572 290a 2020 2020 2020  .divider).      
+000175c0: 2020 2020 2020 7365 6c66 2e73 686f 774c        self.showL
+000175d0: 6f67 6f28 290a 2020 2020 2020 2020 2020  ogo().          
+000175e0: 2020 7365 6c66 2e73 686f 7743 7572 7265    self.showCurre
+000175f0: 6e74 436f 6e74 6578 7428 290a 2020 2020  ntContext().    
+00017600: 2020 2020 2020 2020 2320 676f 2074 6f20          # go to 
+00017610: 7374 6172 7475 7020 6469 7265 6374 6f72  startup director
+00017620: 790a 2020 2020 2020 2020 2020 2020 7374  y.            st
+00017630: 6f72 6167 6564 6972 6563 746f 7279 203d  oragedirectory =
+00017640: 2073 656c 662e 6765 7446 696c 6573 2829   self.getFiles()
+00017650: 0a20 2020 2020 2020 2020 2020 206f 732e  .            os.
+00017660: 6368 6469 7228 7374 6f72 6167 6564 6972  chdir(storagedir
+00017670: 6563 746f 7279 290a 2020 2020 2020 2020  ectory).        
+00017680: 2020 2020 6d65 7373 6167 6573 203d 2073      messages = s
+00017690: 656c 662e 7265 7365 744d 6573 7361 6765  elf.resetMessage
+000176a0: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
+000176b0: 2373 656c 662e 7072 696e 7428 6622 7374  #self.print(f"st
+000176c0: 6172 7475 7020 6469 7265 6374 6f72 793a  artup directory:
+000176d0: 5c6e 7b73 746f 7261 6765 6469 7265 6374  \n{storagedirect
+000176e0: 6f72 797d 2229 0a20 2020 2020 2020 2020  ory}").         
+000176f0: 2020 2070 7269 6e74 5f66 6f72 6d61 7474     print_formatt
+00017700: 6564 5f74 6578 7428 4854 4d4c 2866 223c  ed_text(HTML(f"<
+00017710: 7b63 6f6e 6669 672e 7465 726d 696e 616c  {config.terminal
+00017720: 5072 6f6d 7074 496e 6469 6361 746f 7243  PromptIndicatorC
+00017730: 6f6c 6f72 327d 3e44 6972 6563 746f 7279  olor2}>Directory
+00017740: 3a3c 2f7b 636f 6e66 6967 2e74 6572 6d69  :</{config.termi
+00017750: 6e61 6c50 726f 6d70 7449 6e64 6963 6174  nalPromptIndicat
+00017760: 6f72 436f 6c6f 7232 7d3e 207b 7374 6f72  orColor2}> {stor
+00017770: 6167 6564 6972 6563 746f 7279 7d22 2929  agedirectory}"))
+00017780: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00017790: 662e 7072 696e 7428 7365 6c66 2e64 6976  f.print(self.div
+000177a0: 6964 6572 290a 0a20 2020 2020 2020 2020  ider)..         
+000177b0: 2020 2063 6f6e 6669 672e 636f 6e76 6572     config.conver
+000177c0: 7361 7469 6f6e 5374 6172 7465 6420 3d20  sationStarted = 
+000177d0: 4661 6c73 650a 2020 2020 2020 2020 2020  False.          
+000177e0: 2020 7265 7475 726e 2028 7374 6f72 6167    return (storag
+000177f0: 6564 6972 6563 746f 7279 2c20 6d65 7373  edirectory, mess
+00017800: 6167 6573 290a 2020 2020 2020 2020 7374  ages).        st
+00017810: 6f72 6167 6564 6972 6563 746f 7279 2c20  oragedirectory, 
+00017820: 636f 6e66 6967 2e63 7572 7265 6e74 4d65  config.currentMe
+00017830: 7373 6167 6573 203d 2073 7461 7274 4368  ssages = startCh
+00017840: 6174 2829 0a20 2020 2020 2020 2063 6f6e  at().        con
+00017850: 6669 672e 6d75 6c74 696c 696e 6549 6e70  fig.multilineInp
+00017860: 7574 203d 2046 616c 7365 0a20 2020 2020  ut = False.     
+00017870: 2020 2066 6561 7475 7265 734c 6f77 6572     featuresLower
+00017880: 203d 206c 6973 7428 7365 6c66 2e61 6374   = list(self.act
+00017890: 696f 6e73 2e6b 6579 7328 2929 202b 205b  ions.keys()) + [
+000178a0: 222e 2e2e 225d 0a20 2020 2020 2020 2023  "..."].        #
+000178b0: 2069 6e70 7574 2073 7567 6765 7374 696f   input suggestio
+000178c0: 6e73 0a20 2020 2020 2020 2063 6f6e 6669  ns.        confi
+000178d0: 672e 696e 7075 7453 7567 6765 7374 696f  g.inputSuggestio
+000178e0: 6e73 202b 3d20 6665 6174 7572 6573 4c6f  ns += featuresLo
+000178f0: 7765 720a 2020 2020 2020 2020 636f 6d70  wer.        comp
+00017900: 6c65 7465 7220 3d20 4675 7a7a 7943 6f6d  leter = FuzzyCom
+00017910: 706c 6574 6572 2857 6f72 6443 6f6d 706c  pleter(WordCompl
+00017920: 6574 6572 2863 6f6e 6669 672e 696e 7075  eter(config.inpu
+00017930: 7453 7567 6765 7374 696f 6e73 2c20 6967  tSuggestions, ig
+00017940: 6e6f 7265 5f63 6173 653d 5472 7565 2929  nore_case=True))
+00017950: 2069 6620 636f 6e66 6967 2e69 6e70 7574   if config.input
+00017960: 5375 6767 6573 7469 6f6e 7320 656c 7365  Suggestions else
+00017970: 204e 6f6e 650a 2020 2020 2020 2020 636f   None.        co
+00017980: 6d70 6c65 7465 725f 6465 7665 6c6f 7065  mpleter_develope
+00017990: 7220 3d20 4675 7a7a 7943 6f6d 706c 6574  r = FuzzyComplet
+000179a0: 6572 2857 6f72 6443 6f6d 706c 6574 6572  er(WordCompleter
+000179b0: 2863 6f6e 6669 672e 696e 7075 7453 7567  (config.inputSug
+000179c0: 6765 7374 696f 6e73 5b3a 5d20 2b20 5b66  gestions[:] + [f
+000179d0: 2263 6f6e 6669 672e 7b69 7d22 2066 6f72  "config.{i}" for
+000179e0: 2069 2069 6e20 6469 7228 636f 6e66 6967   i in dir(config
+000179f0: 2920 6966 206e 6f74 2069 2e73 7461 7274  ) if not i.start
+00017a00: 7377 6974 6828 225f 5f22 295d 202b 2073  swith("__")] + s
+00017a10: 656c 662e 6765 7444 6972 6563 746f 7279  elf.getDirectory
+00017a20: 4c69 7374 2829 2c20 6967 6e6f 7265 5f63  List(), ignore_c
+00017a30: 6173 653d 5472 7565 2929 0a20 2020 2020  ase=True)).     
+00017a40: 2020 2077 6869 6c65 2054 7275 653a 0a20     while True:. 
+00017a50: 2020 2020 2020 2020 2020 2023 2064 6566             # def
+00017a60: 6175 6c74 2074 6f6f 6c62 6172 2074 6578  ault toolbar tex
+00017a70: 740a 2020 2020 2020 2020 2020 2020 636f  t.            co
+00017a80: 6e66 6967 2e64 796e 616d 6963 546f 6f6c  nfig.dynamicTool
+00017a90: 4261 7254 6578 7420 3d20 6622 2222 207b  BarText = f""" {
+00017aa0: 7374 7228 636f 6e66 6967 2e68 6f74 6b65  str(config.hotke
+00017ab0: 795f 6578 6974 292e 7265 706c 6163 6528  y_exit).replace(
+00017ac0: 2227 222c 2022 2229 7d20 6578 6974 207b  "'", "")} exit {
+00017ad0: 7374 7228 636f 6e66 6967 2e68 6f74 6b65  str(config.hotke
+00017ae0: 795f 6469 7370 6c61 795f 6b65 795f 636f  y_display_key_co
+00017af0: 6d62 6f29 2e72 6570 6c61 6365 2822 2722  mbo).replace("'"
+00017b00: 2c20 2222 297d 2073 686f 7274 6375 7473  , "")} shortcuts
+00017b10: 2022 2222 0a20 2020 2020 2020 2020 2020   """.           
+00017b20: 2023 2064 6973 706c 6179 2063 7572 7265   # display curre
+00017b30: 6e74 2064 6972 6563 746f 7279 2069 6620  nt directory if 
+00017b40: 6368 616e 6765 640a 2020 2020 2020 2020  changed.        
+00017b50: 2020 2020 6375 7272 656e 7444 6972 6563      currentDirec
+00017b60: 746f 7279 203d 206f 732e 6765 7463 7764  tory = os.getcwd
+00017b70: 2829 0a20 2020 2020 2020 2020 2020 2069  ().            i
+00017b80: 6620 6e6f 7420 6375 7272 656e 7444 6972  f not currentDir
+00017b90: 6563 746f 7279 203d 3d20 7374 6f72 6167  ectory == storag
+00017ba0: 6564 6972 6563 746f 7279 3a0a 2020 2020  edirectory:.    
+00017bb0: 2020 2020 2020 2020 2020 2020 2373 656c              #sel
+00017bc0: 662e 7072 696e 7428 7365 6c66 2e64 6976  f.print(self.div
+00017bd0: 6964 6572 290a 2020 2020 2020 2020 2020  ider).          
+00017be0: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00017bf0: 3328 6622 4375 7272 656e 7420 6469 7265  3(f"Current dire
+00017c00: 6374 6f72 793a 207b 6375 7272 656e 7444  ctory: {currentD
+00017c10: 6972 6563 746f 7279 7d22 290a 2020 2020  irectory}").    
+00017c20: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00017c30: 2e70 7269 6e74 2873 656c 662e 6469 7669  .print(self.divi
+00017c40: 6465 7229 0a20 2020 2020 2020 2020 2020  der).           
+00017c50: 2020 2020 2073 746f 7261 6765 6469 7265       storagedire
+00017c60: 6374 6f72 7920 3d20 6375 7272 656e 7444  ctory = currentD
+00017c70: 6972 6563 746f 7279 0a20 2020 2020 2020  irectory.       
+00017c80: 2020 2020 2023 2064 6566 6175 6c74 2069       # default i
+00017c90: 6e70 7574 2065 6e74 7279 0a20 2020 2020  nput entry.     
+00017ca0: 2020 2020 2020 2061 6363 6570 745f 6465         accept_de
+00017cb0: 6661 756c 7420 3d20 636f 6e66 6967 2e61  fault = config.a
+00017cc0: 6363 6570 745f 6465 6661 756c 740a 2020  ccept_default.  
+00017cd0: 2020 2020 2020 2020 2020 636f 6e66 6967            config
+00017ce0: 2e61 6363 6570 745f 6465 6661 756c 7420  .accept_default 
+00017cf0: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
+00017d00: 2020 2020 6465 6661 756c 7445 6e74 7279      defaultEntry
+00017d10: 203d 2063 6f6e 6669 672e 6465 6661 756c   = config.defaul
+00017d20: 7445 6e74 7279 0a20 2020 2020 2020 2020  tEntry.         
+00017d30: 2020 2069 6620 6f73 2e70 6174 682e 6973     if os.path.is
+00017d40: 6669 6c65 2864 6566 6175 6c74 456e 7472  file(defaultEntr
+00017d50: 7929 3a0a 2020 2020 2020 2020 2020 2020  y):.            
+00017d60: 2020 2020 6465 6661 756c 7445 6e74 7279      defaultEntry
+00017d70: 203d 2066 2746 696c 653a 2022 7b64 6566   = f'File: "{def
+00017d80: 6175 6c74 456e 7472 797d 225c 6e27 0a20  aultEntry}"\n'. 
+00017d90: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+00017da0: 6f73 2e70 6174 682e 6973 6469 7228 6465  os.path.isdir(de
+00017db0: 6661 756c 7445 6e74 7279 293a 0a20 2020  faultEntry):.   
+00017dc0: 2020 2020 2020 2020 2020 2020 2064 6566               def
+00017dd0: 6175 6c74 456e 7472 7920 3d20 6627 466f  aultEntry = f'Fo
+00017de0: 6c64 6572 3a20 227b 6465 6661 756c 7445  lder: "{defaultE
+00017df0: 6e74 7279 7d22 5c6e 270a 2020 2020 2020  ntry}"\n'.      
+00017e00: 2020 2020 2020 636f 6e66 6967 2e64 6566        config.def
+00017e10: 6175 6c74 456e 7472 7920 3d20 2222 0a0a  aultEntry = ""..
+00017e20: 2020 2020 2020 2020 2020 2020 2320 7573              # us
+00017e30: 6572 2069 6e70 7574 0a20 2020 2020 2020  er input.       
+00017e40: 2020 2020 2075 7365 7249 6e70 7574 203d       userInput =
+00017e50: 2073 656c 662e 7072 6f6d 7074 732e 7369   self.prompts.si
+00017e60: 6d70 6c65 5072 6f6d 7074 2870 726f 6d70  mplePrompt(promp
+00017e70: 7453 6573 7369 6f6e 3d73 656c 662e 7465  tSession=self.te
+00017e80: 726d 696e 616c 5f63 6861 745f 7365 7373  rminal_chat_sess
+00017e90: 696f 6e2c 2063 6f6d 706c 6574 6572 3d63  ion, completer=c
+00017ea0: 6f6d 706c 6574 6572 5f64 6576 656c 6f70  ompleter_develop
+00017eb0: 6572 2069 6620 636f 6e66 6967 2e64 6576  er if config.dev
+00017ec0: 656c 6f70 6572 2065 6c73 6520 636f 6d70  eloper else comp
+00017ed0: 6c65 7465 722c 2064 6566 6175 6c74 3d64  leter, default=d
+00017ee0: 6566 6175 6c74 456e 7472 792c 2061 6363  efaultEntry, acc
+00017ef0: 6570 745f 6465 6661 756c 743d 6163 6365  ept_default=acce
+00017f00: 7074 5f64 6566 6175 6c74 2c20 7661 6c69  pt_default, vali
+00017f10: 6461 746f 723d 746f 6b65 6e56 616c 6964  dator=tokenValid
+00017f20: 6174 6f72 2c20 626f 7474 6f6d 5f74 6f6f  ator, bottom_too
+00017f30: 6c62 6172 3d67 6574 4479 6e61 6d69 6354  lbar=getDynamicT
+00017f40: 6f6f 6c42 6172 290a 2020 2020 2020 2020  oolBar).        
+00017f50: 2020 2020 0a20 2020 2020 2020 2020 2020      .           
+00017f60: 2023 2075 7064 6174 6520 7379 7374 656d   # update system
+00017f70: 206d 6573 7361 6765 2077 6865 6e20 7573   message when us
+00017f80: 6572 2065 6e74 6572 2061 206e 6577 2069  er enter a new i
+00017f90: 6e70 7574 0a20 2020 2020 2020 2020 2020  nput.           
+00017fa0: 2063 6f6e 6669 672e 6375 7272 656e 744d   config.currentM
+00017fb0: 6573 7361 6765 7320 3d20 7365 6c66 2e75  essages = self.u
+00017fc0: 7064 6174 6553 7973 7465 6d4d 6573 7361  pdateSystemMessa
+00017fd0: 6765 2863 6f6e 6669 672e 6375 7272 656e  ge(config.curren
+00017fe0: 744d 6573 7361 6765 7329 0a20 2020 2020  tMessages).     
+00017ff0: 2020 2020 2020 200a 2020 2020 2020 2020         .        
+00018000: 2020 2020 2320 6469 7370 6c61 7920 6f70      # display op
+00018010: 7469 6f6e 7320 7768 656e 2065 6d70 7479  tions when empty
+00018020: 2073 7472 696e 6720 6973 2065 6e74 6572   string is enter
+00018030: 6564 0a20 2020 2020 2020 2020 2020 2075  ed.            u
+00018040: 7365 7249 6e70 7574 4c6f 7765 7220 3d20  serInputLower = 
+00018050: 7573 6572 496e 7075 742e 6c6f 7765 7228  userInput.lower(
+00018060: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
+00018070: 2063 6f6e 6669 672e 6164 6450 6174 6841   config.addPathA
+00018080: 7420 6973 206e 6f74 204e 6f6e 653a 0a20  t is not None:. 
+00018090: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+000180a0: 7265 6669 7820 3d20 7573 6572 496e 7075  refix = userInpu
+000180b0: 745b 3a63 6f6e 6669 672e 6164 6450 6174  t[:config.addPat
+000180c0: 6841 745d 0a20 2020 2020 2020 2020 2020  hAt].           
+000180d0: 2020 2020 2070 7265 6669 7853 706c 6974       prefixSplit
+000180e0: 203d 2070 7265 6669 782e 7273 706c 6974   = prefix.rsplit
+000180f0: 2822 2022 2c20 3129 0a20 2020 2020 2020  (" ", 1).       
+00018100: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
+00018110: 7072 6566 6978 5370 6c69 7429 203e 2031  prefixSplit) > 1
+00018120: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00018130: 2020 2020 2020 6465 6661 756c 7420 3d20        default = 
+00018140: 7072 6566 6978 5370 6c69 745b 2d31 5d0a  prefixSplit[-1].
+00018150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018160: 2020 2020 7072 6566 6978 203d 2066 227b      prefix = f"{
+00018170: 7072 6566 6978 5370 6c69 745b 305d 7d20  prefixSplit[0]} 
+00018180: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00018190: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+000181a0: 2020 2020 2020 2020 2020 2020 6465 6661              defa
+000181b0: 756c 7420 3d20 7072 6566 6978 0a20 2020  ult = prefix.   
+000181c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000181d0: 2070 7265 6669 7820 3d20 2222 0a20 2020   prefix = "".   
+000181e0: 2020 2020 2020 2020 2020 2020 2073 7566               suf
+000181f0: 6669 7820 3d20 7573 6572 496e 7075 745b  fix = userInput[
+00018200: 636f 6e66 6967 2e61 6464 5061 7468 4174  config.addPathAt
+00018210: 3a5d 0a20 2020 2020 2020 2020 2020 2020  :].             
+00018220: 2020 2063 6f6e 6669 672e 6164 6450 6174     config.addPat
+00018230: 6841 7420 3d20 4e6f 6e65 0a20 2020 2020  hAt = None.     
+00018240: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+00018250: 7420 6465 6661 756c 743a 0a20 2020 2020  t default:.     
+00018260: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00018270: 6566 6175 6c74 203d 206f 732e 6765 7463  efault = os.getc
+00018280: 7764 2829 0a20 2020 2020 2020 2020 2020  wd().           
+00018290: 2020 2020 2075 7365 7250 6174 6820 3d20       userPath = 
+000182a0: 7365 6c66 2e67 6574 5061 7468 2e67 6574  self.getPath.get
+000182b0: 5061 7468 286d 6573 7361 6765 3d66 227b  Path(message=f"{
+000182c0: 7072 6566 6978 7d3c 7b63 6f6e 6669 672e  prefix}<{config.
+000182d0: 7465 726d 696e 616c 436f 6d6d 616e 6445  terminalCommandE
+000182e0: 6e74 7279 436f 6c6f 7232 7d3e 5b61 6464  ntryColor2}>[add
+000182f0: 2061 2070 6174 6820 6865 7265 5d3c 2f7b   a path here]</{
+00018300: 636f 6e66 6967 2e74 6572 6d69 6e61 6c43  config.terminalC
+00018310: 6f6d 6d61 6e64 456e 7472 7943 6f6c 6f72  ommandEntryColor
+00018320: 327d 3e7b 7375 6666 6978 7d22 2c20 7072  2}>{suffix}", pr
+00018330: 6f6d 7074 496e 6469 6361 746f 723d 223e  omptIndicator=">
+00018340: 3e3e 2022 2c20 656d 7074 795f 746f 5f63  >> ", empty_to_c
+00018350: 616e 6365 6c3d 5472 7565 2c20 6465 6661  ancel=True, defa
+00018360: 756c 743d 6465 6661 756c 7429 0a20 2020  ult=default).   
+00018370: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00018380: 6669 672e 6465 6661 756c 7445 6e74 7279  fig.defaultEntry
+00018390: 203d 2066 227b 7072 6566 6978 7d7b 7573   = f"{prefix}{us
+000183a0: 6572 5061 7468 7d7b 7375 6666 6978 7d22  erPath}{suffix}"
+000183b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000183c0: 2075 7365 7249 6e70 7574 203d 2022 220a   userInput = "".
+000183d0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+000183e0: 206e 6f74 2075 7365 7249 6e70 7574 4c6f   not userInputLo
+000183f0: 7765 723a 0a20 2020 2020 2020 2020 2020  wer:.           
+00018400: 2020 2020 2075 7365 7249 6e70 7574 203d       userInput =
+00018410: 2063 6f6e 6669 672e 626c 616e 6b45 6e74   config.blankEnt
+00018420: 7279 4163 7469 6f6e 0a20 2020 2020 2020  ryAction.       
+00018430: 2020 2020 2069 6620 7573 6572 496e 7075       if userInpu
+00018440: 7420 3d3d 2022 2e2e 2e22 3a0a 2020 2020  t == "...":.    
+00018450: 2020 2020 2020 2020 2020 2020 7573 6572              user
+00018460: 496e 7075 7420 3d20 7573 6572 496e 7075  Input = userInpu
+00018470: 744c 6f77 6572 203d 2073 656c 662e 7275  tLower = self.ru
+00018480: 6e41 6374 696f 6e73 2875 7365 7249 6e70  nActions(userInp
+00018490: 7574 290a 2020 2020 2020 2020 2020 2020  ut).            
+000184a0: 2365 6c69 6620 7573 6572 496e 7075 744c  #elif userInputL
+000184b0: 6f77 6572 2069 6e20 7475 706c 6528 7365  ower in tuple(se
+000184c0: 6c66 2e61 6374 696f 6e73 2e6b 6579 7328  lf.actions.keys(
+000184d0: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
+000184e0: 656c 6966 2075 7365 7249 6e70 7574 4c6f  elif userInputLo
+000184f0: 7765 722e 7374 6172 7473 7769 7468 2822  wer.startswith("
+00018500: 2e22 2920 616e 6420 6e6f 7420 7573 6572  .") and not user
+00018510: 496e 7075 744c 6f77 6572 2069 6e20 2863  InputLower in (c
+00018520: 6f6e 6669 672e 6578 6974 5f65 6e74 7279  onfig.exit_entry
+00018530: 2c20 636f 6e66 6967 2e63 616e 6365 6c5f  , config.cancel_
+00018540: 656e 7472 792c 2022 2e6e 6577 222c 2022  entry, ".new", "
+00018550: 2e63 6f6e 7465 7874 2229 3a0a 2020 2020  .context"):.    
+00018560: 2020 2020 2020 2020 2020 2020 7573 6572              user
+00018570: 496e 7075 7420 3d20 7573 6572 496e 7075  Input = userInpu
+00018580: 744c 6f77 6572 203d 2073 656c 662e 7275  tLower = self.ru
+00018590: 6e41 6374 696f 6e73 2822 2e2e 2e22 2c20  nActions("...", 
+000185a0: 7573 6572 496e 7075 7429 0a0a 2020 2020  userInput)..    
+000185b0: 2020 2020 2020 2020 2320 7265 706c 6163          # replac
+000185c0: 6520 616c 6961 732c 2069 6620 616e 7920  e alias, if any 
+000185d0: 7769 7468 2066 756c 6c20 656e 7472 790a  with full entry.
+000185e0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+000185f0: 616c 6961 732c 2066 756c 6c45 6e74 7279  alias, fullEntry
+00018600: 2069 6e20 636f 6e66 6967 2e61 6c69 6173   in config.alias
+00018610: 6573 2e69 7465 6d73 2829 3a0a 2020 2020  es.items():.    
+00018620: 2020 2020 2020 2020 2020 2020 2375 7365              #use
+00018630: 7249 6e70 7574 203d 2072 652e 7375 6228  rInput = re.sub(
+00018640: 616c 6961 732c 2066 756c 6c45 6e74 7279  alias, fullEntry
+00018650: 2c20 7573 6572 496e 7075 7429 2023 2065  , userInput) # e
+00018660: 7272 6f72 206f 6e20 5769 6e64 6f77 7320  rror on Windows 
+00018670: 636f 7a20 6f66 2057 696e 646f 7773 2070  coz of Windows p
+00018680: 6174 680a 2020 2020 2020 2020 2020 2020  ath.            
+00018690: 2020 2020 7573 6572 496e 7075 7420 3d20      userInput = 
+000186a0: 7573 6572 496e 7075 742e 7265 706c 6163  userInput.replac
+000186b0: 6528 616c 6961 732c 2066 756c 6c45 6e74  e(alias, fullEnt
+000186c0: 7279 290a 0a20 2020 2020 2020 2020 2020  ry)..           
+000186d0: 2023 206f 7065 6e20 6669 6c65 202f 2064   # open file / d
+000186e0: 6972 6563 746f 7279 2064 6972 6563 746c  irectory directl
+000186f0: 790a 2020 2020 2020 2020 2020 2020 646f  y.            do
+00018700: 6373 5f70 6174 6820 3d20 5368 6172 6564  cs_path = Shared
+00018710: 5574 696c 2e69 7345 7869 7374 696e 6750  Util.isExistingP
+00018720: 6174 6828 7573 6572 496e 7075 7429 0a20  ath(userInput). 
+00018730: 2020 2020 2020 2020 2020 2069 6620 6f73             if os
+00018740: 2e70 6174 682e 6973 6669 6c65 2864 6f63  .path.isfile(doc
+00018750: 735f 7061 7468 293a 0a20 2020 2020 2020  s_path):.       
+00018760: 2020 2020 2020 2020 206f 732e 7379 7374           os.syst
+00018770: 656d 2866 227b 636f 6e66 6967 2e6f 7065  em(f"{config.ope
+00018780: 6e7d 207b 646f 6373 5f70 6174 687d 2229  n} {docs_path}")
+00018790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000187a0: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
+000187b0: 2020 2020 2020 656c 6966 206f 732e 7061        elif os.pa
+000187c0: 7468 2e69 7364 6972 2864 6f63 735f 7061  th.isdir(docs_pa
+000187d0: 7468 293a 0a20 2020 2020 2020 2020 2020  th):.           
+000187e0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+000187f0: 2020 2020 2020 2020 2020 2020 2020 6f73                os
+00018800: 2e63 6864 6972 2864 6f63 735f 7061 7468  .chdir(docs_path
+00018810: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00018820: 2020 2020 2020 7365 6c66 2e70 7269 6e74        self.print
+00018830: 3328 6622 4469 7265 6374 6f72 7920 6368  3(f"Directory ch
+00018840: 616e 6765 6420 746f 3a20 7b64 6f63 735f  anged to: {docs_
+00018850: 7061 7468 7d22 290a 2020 2020 2020 2020  path}").        
+00018860: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00018870: 2e67 6574 5061 7468 2e64 6973 706c 6179  .getPath.display
+00018880: 4469 7265 6374 6f72 7943 6f6e 7465 6e74  DirectoryContent
+00018890: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+000188a0: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
+000188b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000188c0: 6578 6365 7074 3a0a 2020 2020 2020 2020  except:.        
+000188d0: 2020 2020 2020 2020 2020 2020 7061 7373              pass
+000188e0: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+000188f0: 7472 7920 6576 616c 0a20 2020 2020 2020  try eval.       
+00018900: 2020 2020 2069 6620 636f 6e66 6967 2e64       if config.d
+00018910: 6576 656c 6f70 6572 2061 6e64 206e 6f74  eveloper and not
+00018920: 2075 7365 7249 6e70 7574 203d 3d20 222e   userInput == ".
+00018930: 2e2e 223a 0a20 2020 2020 2020 2020 2020  ..":.           
+00018940: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+00018950: 2020 2020 2020 2020 2020 2020 2020 7661                va
+00018960: 6c75 6520 3d20 6576 616c 2875 7365 7249  lue = eval(userI
+00018970: 6e70 7574 2920 2320 6974 2073 6f6c 7665  nput) # it solve
+00018980: 2073 696d 706c 6520 6d61 7468 2c20 652e   simple math, e.
+00018990: 672e 2031 2b31 2c20 6f72 2072 6561 6420  g. 1+1, or read 
+000189a0: 7661 7269 6162 6c65 732c 2065 2e67 2e20  variables, e.g. 
+000189b0: 6469 7228 636f 6e66 6967 290a 2020 2020  dir(config).    
+000189c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000189d0: 6966 2076 616c 7565 2069 7320 6e6f 7420  if value is not 
+000189e0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+000189f0: 2020 2020 2020 2020 2020 2020 2020 2370                #p
+00018a00: 7269 6e74 2876 616c 7565 290a 2020 2020  rint(value).    
+00018a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018a20: 2020 2020 7070 7269 6e74 2e70 7072 696e      pprint.pprin
+00018a30: 7428 7661 6c75 6529 0a20 2020 2020 2020  t(value).       
+00018a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018a50: 2070 7269 6e74 2822 2229 0a20 2020 2020   print("").     
+00018a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018a70: 2020 2063 6f6e 7469 6e75 650a 2020 2020     continue.    
+00018a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018a90: 656c 6966 2072 652e 7365 6172 6368 2822  elif re.search("
+00018aa0: 5e70 7269 6e74 5c28 5b5e 5c29 5c29 5d2b  ^print\([^\)\)]+
+00018ab0: 3f5c 2924 222c 2075 7365 7249 6e70 7574  ?\)$", userInput
+00018ac0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00018ad0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00018ae0: 2822 2229 0a20 2020 2020 2020 2020 2020  ("").           
+00018af0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00018b00: 7469 6e75 650a 2020 2020 2020 2020 2020  tinue.          
+00018b10: 2020 2020 2020 6578 6365 7074 3a0a 2020        except:.  
+00018b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018b30: 2020 7061 7373 0a20 2020 2020 2020 2020    pass.         
+00018b40: 2020 2023 2074 7279 2074 6f20 7275 6e20     # try to run 
+00018b50: 6173 2061 2070 7974 686f 6e20 7363 7269  as a python scri
+00018b60: 7074 2066 6972 7374 0a20 2020 2020 2020  pt first.       
+00018b70: 2020 2020 2069 6620 636f 6e66 6967 2e64       if config.d
+00018b80: 6576 656c 6f70 6572 3a0a 2020 2020 2020  eveloper:.      
+00018b90: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
+00018ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018bb0: 2020 2065 7865 6328 7573 6572 496e 7075     exec(userInpu
+00018bc0: 742c 2067 6c6f 6261 6c73 2829 290a 2020  t, globals()).  
+00018bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018be0: 2020 7072 696e 7428 2222 290a 2020 2020    print("").    
+00018bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018c00: 636f 6e74 696e 7565 0a20 2020 2020 2020  continue.       
+00018c10: 2020 2020 2020 2020 2065 7863 6570 743a           except:
+00018c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018c30: 2020 2020 2070 6173 730a 0a20 2020 2020       pass..     
+00018c40: 2020 2020 2020 2069 6620 7573 6572 496e         if userIn
+00018c50: 7075 742e 7374 6172 7473 7769 7468 2822  put.startswith("
+00018c60: 2122 293a 0a20 2020 2020 2020 2020 2020  !"):.           
+00018c70: 2020 2020 2073 656c 662e 7275 6e53 7973       self.runSys
+00018c80: 7465 6d43 6f6d 6d61 6e64 2875 7365 7249  temCommand(userI
+00018c90: 6e70 7574 290a 2020 2020 2020 2020 2020  nput).          
+00018ca0: 2020 2020 2020 7072 696e 7428 2222 290a        print("").
+00018cb0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00018cc0: 2063 6f6e 6669 672e 6465 7665 6c6f 7065   config.develope
+00018cd0: 7220 616e 6420 7573 6572 496e 7075 742e  r and userInput.
+00018ce0: 7374 6172 7473 7769 7468 2822 6060 6022  startswith("```"
+00018cf0: 2920 616e 6420 7573 6572 496e 7075 742e  ) and userInput.
+00018d00: 656e 6473 7769 7468 2822 6060 6022 2920  endswith("```") 
+00018d10: 616e 6420 6e6f 7420 7573 6572 496e 7075  and not userInpu
+00018d20: 7420 3d3d 2022 6060 6060 6060 223a 0a20  t == "``````":. 
+00018d30: 2020 2020 2020 2020 2020 2020 2020 2075                 u
+00018d40: 7365 7249 6e70 7574 203d 2072 652e 7375  serInput = re.su
+00018d50: 6228 2260 6060 7079 7468 6f6e 222c 2022  b("```python", "
+00018d60: 6060 6022 2c20 7573 6572 496e 7075 7429  ```", userInput)
+00018d70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018d80: 2073 656c 662e 7275 6e50 7974 686f 6e53   self.runPythonS
+00018d90: 6372 6970 7428 7573 6572 496e 7075 7429  cript(userInput)
+00018da0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018db0: 2070 7269 6e74 2822 2229 0a20 2020 2020   print("").     
+00018dc0: 2020 2020 2020 2065 6c69 6620 7573 6572         elif user
+00018dd0: 496e 7075 744c 6f77 6572 203d 3d20 636f  InputLower == co
+00018de0: 6e66 6967 2e65 7869 745f 656e 7472 793a  nfig.exit_entry:
+00018df0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018e00: 2073 656c 662e 7361 7665 4368 6174 2863   self.saveChat(c
+00018e10: 6f6e 6669 672e 6375 7272 656e 744d 6573  onfig.currentMes
+00018e20: 7361 6765 7329 0a20 2020 2020 2020 2020  sages).         
+00018e30: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00018e40: 6c66 2e65 7869 7441 6374 696f 6e28 290a  lf.exitAction().
+00018e50: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00018e60: 2075 7365 7249 6e70 7574 4c6f 7765 7220   userInputLower 
+00018e70: 3d3d 2063 6f6e 6669 672e 6361 6e63 656c  == config.cancel
+00018e80: 5f65 6e74 7279 3a0a 2020 2020 2020 2020  _entry:.        
+00018e90: 2020 2020 2020 2020 7061 7373 0a20 2020          pass.   
+00018ea0: 2020 2020 2020 2020 2065 6c69 6620 7573           elif us
+00018eb0: 6572 496e 7075 744c 6f77 6572 203d 3d20  erInputLower == 
+00018ec0: 222e 636f 6e74 6578 7422 3a0a 2020 2020  ".context":.    
+00018ed0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00018ee0: 2e63 6861 6e67 6543 6f6e 7465 7874 2829  .changeContext()
+00018ef0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018f00: 2069 6620 6e6f 7420 636f 6e66 6967 2e61   if not config.a
+00018f10: 7070 6c79 5072 6564 6566 696e 6564 436f  pplyPredefinedCo
+00018f20: 6e74 6578 7441 6c77 6179 733a 0a20 2020  ntextAlways:.   
+00018f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018f40: 2069 6620 636f 6e66 6967 2e63 6f6e 7665   if config.conve
+00018f50: 7273 6174 696f 6e53 7461 7274 6564 3a0a  rsationStarted:.
+00018f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018f70: 2020 2020 2020 2020 7365 6c66 2e73 6176          self.sav
+00018f80: 6543 6861 7428 636f 6e66 6967 2e63 7572  eChat(config.cur
+00018f90: 7265 6e74 4d65 7373 6167 6573 290a 2020  rentMessages).  
+00018fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018fb0: 2020 7374 6f72 6167 6564 6972 6563 746f    storagedirecto
+00018fc0: 7279 2c20 636f 6e66 6967 2e63 7572 7265  ry, config.curre
+00018fd0: 6e74 4d65 7373 6167 6573 203d 2073 7461  ntMessages = sta
+00018fe0: 7274 4368 6174 2829 0a20 2020 2020 2020  rtChat().       
+00018ff0: 2020 2020 2065 6c69 6620 7573 6572 496e       elif userIn
+00019000: 7075 744c 6f77 6572 203d 3d20 222e 6e65  putLower == ".ne
+00019010: 7722 2061 6e64 2063 6f6e 6669 672e 636f  w" and config.co
+00019020: 6e76 6572 7361 7469 6f6e 5374 6172 7465  nversationStarte
+00019030: 643a 0a20 2020 2020 2020 2020 2020 2020  d:.             
+00019040: 2020 2073 656c 662e 7361 7665 4368 6174     self.saveChat
+00019050: 2863 6f6e 6669 672e 6375 7272 656e 744d  (config.currentM
+00019060: 6573 7361 6765 7329 0a20 2020 2020 2020  essages).       
+00019070: 2020 2020 2020 2020 2073 746f 7261 6765           storage
+00019080: 6469 7265 6374 6f72 792c 2063 6f6e 6669  directory, confi
+00019090: 672e 6375 7272 656e 744d 6573 7361 6765  g.currentMessage
+000190a0: 7320 3d20 7374 6172 7443 6861 7428 290a  s = startChat().
+000190b0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+000190c0: 2075 7365 7249 6e70 7574 2061 6e64 206e   userInput and n
+000190d0: 6f74 2075 7365 7249 6e70 7574 4c6f 7765  ot userInputLowe
+000190e0: 7220 696e 2066 6561 7475 7265 734c 6f77  r in featuresLow
+000190f0: 6572 3a0a 2020 2020 2020 2020 2020 2020  er:.            
+00019100: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+00019110: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00019120: 7573 6572 496e 7075 7420 616e 6420 636f  userInput and co
+00019130: 6e66 6967 2e74 7473 496e 7075 743a 0a20  nfig.ttsInput:. 
+00019140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019150: 2020 2020 2020 2054 5453 5574 696c 2e70         TTSUtil.p
+00019160: 6c61 7928 7573 6572 496e 7075 7429 0a20  lay(userInput). 
+00019170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019180: 2020 2023 2046 6561 7475 7265 3a20 696d     # Feature: im
+00019190: 7072 6f76 6520 7772 6974 696e 673a 0a20  prove writing:. 
+000191a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000191b0: 2020 2073 7065 6369 616c 456e 7472 7950     specialEntryP
+000191c0: 6174 7465 726e 203d 2022 5c5b 4341 4c4c  attern = "\[CALL
+000191d0: 5f5b 5e5c 5b5c 5d5d 2a3f 5c5d 7c5c 5b4e  _[^\[\]]*?\]|\[N
+000191e0: 4f5f 4655 4e43 5449 4f4e 5f43 414c 4c5c  O_FUNCTION_CALL\
+000191f0: 5d7c 5c5b 4e4f 5f53 4352 4545 4e49 4e47  ]|\[NO_SCREENING
+00019200: 5c5d 220a 2020 2020 2020 2020 2020 2020  \]".            
+00019210: 2020 2020 2020 2020 7370 6563 6961 6c45          specialE
+00019220: 6e74 7279 203d 2072 652e 7365 6172 6368  ntry = re.search
+00019230: 2873 7065 6369 616c 456e 7472 7950 6174  (specialEntryPat
+00019240: 7465 726e 2c20 7573 6572 496e 7075 7429  tern, userInput)
+00019250: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019260: 2020 2020 2073 7065 6369 616c 456e 7472       specialEntr
+00019270: 7920 3d20 7370 6563 6961 6c45 6e74 7279  y = specialEntry
+00019280: 2e67 726f 7570 2830 2920 6966 2073 7065  .group(0) if spe
+00019290: 6369 616c 456e 7472 7920 656c 7365 2022  cialEntry else "
+000192a0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+000192b0: 2020 2020 2020 7573 6572 496e 7075 7420        userInput 
+000192c0: 3d20 7265 2e73 7562 2873 7065 6369 616c  = re.sub(special
+000192d0: 456e 7472 7950 6174 7465 726e 2c20 2222  EntryPattern, ""
+000192e0: 2c20 7573 6572 496e 7075 7429 2023 2072  , userInput) # r
+000192f0: 656d 6f76 6520 7370 6563 6961 6c20 656e  emove special en
+00019300: 7472 7920 7465 6d70 6f72 6172 696c 790a  try temporarily.
+00019310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019320: 2020 2020 6966 2075 7365 7249 6e70 7574      if userInput
+00019330: 2061 6e64 2063 6f6e 6669 672e 6469 7370   and config.disp
+00019340: 6c61 7949 6d70 726f 7665 6457 7269 7469  layImprovedWriti
+00019350: 6e67 3a0a 2020 2020 2020 2020 2020 2020  ng:.            
+00019360: 2020 2020 2020 2020 2020 2020 7573 6572              user
+00019370: 496e 7075 7420 3d20 7265 2e73 7562 2822  Input = re.sub("
+00019380: 5c6e 5c5b 4375 7272 656e 7420 7469 6d65  \n\[Current time
+00019390: 3a20 5b5e 5c6e 5d2a 3f24 222c 2022 222c  : [^\n]*?$", "",
+000193a0: 2075 7365 7249 6e70 7574 290a 2020 2020   userInput).    
+000193b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000193c0: 2020 2020 6966 2063 6f6e 6669 672e 6973      if config.is
+000193d0: 5465 726d 7578 3a0a 2020 2020 2020 2020  Termux:.        
+000193e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000193f0: 2020 2020 6461 795f 6f66 5f77 6565 6b20      day_of_week 
+00019400: 3d20 2222 0a20 2020 2020 2020 2020 2020  = "".           
+00019410: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00019420: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00019430: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00019440: 6179 5f6f 665f 7765 656b 203d 2066 2274  ay_of_week = f"t
+00019450: 6f64 6179 2069 7320 7b53 6861 7265 6455  oday is {SharedU
+00019460: 7469 6c2e 6765 7444 6179 4f66 5765 656b  til.getDayOfWeek
+00019470: 2829 7d20 616e 6420 220a 2020 2020 2020  ()} and ".      
+00019480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019490: 2020 696d 7072 6f76 6564 5665 7273 696f    improvedVersio
+000194a0: 6e20 3d20 5368 6172 6564 5574 696c 2e67  n = SharedUtil.g
+000194b0: 6574 5369 6e67 6c65 4368 6174 5265 7370  etSingleChatResp
+000194c0: 6f6e 7365 2866 2222 2249 6d70 726f 7665  onse(f"""Improve
+000194d0: 2074 6865 2066 6f6c 6c6f 7769 6e67 2077   the following w
+000194e0: 7269 7469 6e67 2c20 6163 636f 7264 696e  riting, accordin
+000194f0: 6720 746f 207b 636f 6e66 6967 2e69 6d70  g to {config.imp
+00019500: 726f 7665 6457 7269 7469 6e67 5379 746c  rovedWritingSytl
+00019510: 657d 0a49 6e20 6164 6469 7469 6f6e 2c20  e}.In addition, 
+00019520: 4920 776f 756c 6420 6c69 6b65 2079 6f75  I would like you
+00019530: 2074 6f20 6865 6c70 206d 6520 7769 7468   to help me with
+00019540: 2063 6f6e 7665 7274 696e 6720 7265 6c61   converting rela
+00019550: 7469 7665 2064 6174 6573 2061 6e64 2074  tive dates and t
+00019560: 696d 6573 2c20 6966 2061 6e79 2c20 696e  imes, if any, in
+00019570: 746f 2065 7861 6374 2064 6174 6573 2061  to exact dates a
+00019580: 6e64 2074 696d 6573 2062 6173 6564 206f  nd times based o
+00019590: 6e20 7468 6520 7265 6665 7265 6e63 6520  n the reference 
+000195a0: 7468 6174 207b 6461 795f 6f66 5f77 6565  that {day_of_wee
+000195b0: 6b7d 6375 7272 656e 7420 6461 7465 7469  k}current dateti
+000195c0: 6d65 2069 7320 7b73 7472 2864 6174 6574  me is {str(datet
+000195d0: 696d 652e 6461 7465 7469 6d65 2e6e 6f77  ime.datetime.now
+000195e0: 2829 297d 2e0a 5265 6d65 6d62 6572 2c20  ())}..Remember, 
+000195f0: 7072 6f76 6964 6520 6d65 2077 6974 6820  provide me with 
+00019600: 7468 6520 696d 7072 6f76 6564 2077 7269  the improved wri
+00019610: 7469 6e67 206f 6e6c 792c 2065 6e63 6c6f  ting only, enclo
+00019620: 7365 6420 696e 2074 7269 706c 6520 7175  sed in triple qu
+00019630: 6f74 6573 2060 6060 2061 6e64 2077 6974  otes ``` and wit
+00019640: 686f 7574 2061 6e79 2061 6464 6974 696f  hout any additio
+00019650: 6e61 6c20 696e 666f 726d 6174 696f 6e20  nal information 
+00019660: 6f72 2063 6f6d 6d65 6e74 732e 0a4d 7920  or comments..My 
+00019670: 7772 6974 696e 673a 0a7b 7573 6572 496e  writing:.{userIn
+00019680: 7075 747d 2222 2229 0a20 2020 2020 2020  put}""").       
+00019690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000196a0: 2069 6620 696d 7072 6f76 6564 5665 7273   if improvedVers
+000196b0: 696f 6e20 616e 6420 696d 7072 6f76 6564  ion and improved
+000196c0: 5665 7273 696f 6e2e 7374 6172 7473 7769  Version.startswi
+000196d0: 7468 2822 6060 6022 2920 616e 6420 696d  th("```") and im
+000196e0: 7072 6f76 6564 5665 7273 696f 6e2e 656e  provedVersion.en
+000196f0: 6473 7769 7468 2822 6060 6022 293a 0a20  dswith("```"):. 
+00019700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019710: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00019720: 7072 696e 7428 696d 7072 6f76 6564 5665  print(improvedVe
+00019730: 7273 696f 6e29 0a20 2020 2020 2020 2020  rsion).         
+00019740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019750: 2020 2075 7365 7249 6e70 7574 203d 2069     userInput = i
+00019760: 6d70 726f 7665 6456 6572 7369 6f6e 5b33  mprovedVersion[3
+00019770: 3a2d 335d 0a20 2020 2020 2020 2020 2020  :-3].           
+00019780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019790: 2069 6620 636f 6e66 6967 2e74 7473 4f75   if config.ttsOu
+000197a0: 7470 7574 3a0a 2020 2020 2020 2020 2020  tput:.          
+000197b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000197c0: 2020 2020 2020 5454 5355 7469 6c2e 706c        TTSUtil.pl
+000197d0: 6179 2875 7365 7249 6e70 7574 290a 2020  ay(userInput).  
 000197e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000197f0: 2320 7265 6164 3a20 6874 7470 733a 2f2f  # read: https://
-00019800: 6769 7468 7562 2e63 6f6d 2f53 636f 6f70  github.com/Scoop
-00019810: 496e 7374 616c 6c65 722f 5363 6f6f 700a  Installer/Scoop.
-00019820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019830: 2020 2020 2320 3e20 6977 7220 2d75 7365      # > iwr -use
-00019840: 6220 6765 742e 7363 6f6f 702e 7368 207c  b get.scoop.sh |
-00019850: 2069 6578 0a20 2020 2020 2020 2020 2020   iex.           
-00019860: 2020 2020 2020 2020 2023 203e 2073 636f           # > sco
-00019870: 6f70 2069 6e73 7461 6c6c 2061 7269 6132  op install aria2
-00019880: 206c 6573 730a 2020 2020 2020 2020 2020   less.          
-00019890: 2020 2020 2020 2020 2020 6966 2072 652e            if re.
-000198a0: 7365 6172 6368 2822 3c5b 5e3c 3e5d 2b3f  search("<[^<>]+?
-000198b0: 3e22 2c20 7061 6765 7243 6f6e 7465 6e74  >", pagerContent
-000198c0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-000198d0: 2020 2020 2020 2020 2020 2070 6167 6572             pager
-000198e0: 436f 6e74 656e 7420 3d20 5465 7874 5574  Content = TextUt
-000198f0: 696c 2e63 6f6e 7665 7274 4874 6d6c 5461  il.convertHtmlTa
-00019900: 6754 6f43 6f6c 6f72 616d 6128 7061 6765  gToColorama(page
-00019910: 7243 6f6e 7465 6e74 290a 2020 2020 2020  rContent).      
-00019920: 2020 2020 2020 2020 2020 2020 2020 7079                py
-00019930: 646f 632e 7069 7065 7061 6765 7228 7061  doc.pipepager(pa
-00019940: 6765 7243 6f6e 7465 6e74 2c20 636d 643d  gerContent, cmd=
-00019950: 276c 6573 7320 2d52 2729 0a20 2020 2020  'less -R').     
-00019960: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00019970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019980: 2020 2020 2070 7964 6f63 2e70 6167 6572       pydoc.pager
-00019990: 2870 6167 6572 436f 6e74 656e 7429 0a20  (pagerContent). 
-000199a0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-000199b0: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-000199c0: 2020 2063 6f6e 6669 672e 7061 6765 7256     config.pagerV
-000199d0: 6965 7720 3d20 4661 6c73 650a 2020 2020  iew = False.    
-000199e0: 2020 2020 2020 2020 2020 2020 7368 6f77              show
-000199f0: 4572 726f 7273 2829 0a0a 2020 2020 2320  Errors()..    # 
-00019a00: 7772 6170 2068 746d 6c20 7465 7874 2061  wrap html text a
-00019a10: 7420 7370 6163 6573 0a20 2020 2064 6566  t spaces.    def
-00019a20: 2067 6574 5772 6170 7065 6448 544d 4c54   getWrappedHTMLT
-00019a30: 6578 7428 7365 6c66 2c20 7465 7874 2c20  ext(self, text, 
-00019a40: 7465 726d 696e 616c 5f77 6964 7468 3d4e  terminal_width=N
-00019a50: 6f6e 6529 3a0a 2020 2020 2020 2020 6966  one):.        if
-00019a60: 206e 6f74 2022 2022 2069 6e20 7465 7874   not " " in text
-00019a70: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00019a80: 7475 726e 2074 6578 740a 2020 2020 2020  turn text.      
-00019a90: 2020 6966 2074 6572 6d69 6e61 6c5f 7769    if terminal_wi
-00019aa0: 6474 6820 6973 204e 6f6e 653a 0a20 2020  dth is None:.   
-00019ab0: 2020 2020 2020 2020 2074 6572 6d69 6e61           termina
-00019ac0: 6c5f 7769 6474 6820 3d20 7368 7574 696c  l_width = shutil
-00019ad0: 2e67 6574 5f74 6572 6d69 6e61 6c5f 7369  .get_terminal_si
-00019ae0: 7a65 2829 2e63 6f6c 756d 6e73 0a20 2020  ze().columns.   
-00019af0: 2020 2020 2073 656c 662e 7772 6170 7065       self.wrappe
-00019b00: 6454 6578 7420 3d20 2222 0a20 2020 2020  dText = "".     
-00019b10: 2020 2073 656c 662e 6c69 6e65 5769 6474     self.lineWidt
-00019b20: 6820 3d20 300a 0a20 2020 2020 2020 2064  h = 0..        d
-00019b30: 6566 2061 6464 576f 7264 7328 776f 7264  ef addWords(word
-00019b40: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-00019b50: 776f 7264 7320 3d20 776f 7264 732e 7370  words = words.sp
-00019b60: 6c69 7428 2220 2229 0a20 2020 2020 2020  lit(" ").       
-00019b70: 2020 2020 2066 6f72 2069 6e64 6578 2c20       for index, 
-00019b80: 6974 656d 2069 6e20 656e 756d 6572 6174  item in enumerat
-00019b90: 6528 776f 7264 7329 3a0a 2020 2020 2020  e(words):.      
-00019ba0: 2020 2020 2020 2020 2020 6973 4c61 7374            isLast
-00019bb0: 4974 656d 203d 2028 6c65 6e28 776f 7264  Item = (len(word
-00019bc0: 7329 202d 2069 6e64 6578 203d 3d20 3129  s) - index == 1)
-00019bd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019be0: 2069 6620 6973 5f43 4a4b 2869 7465 6d29   if is_CJK(item)
-00019bf0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00019c00: 2020 2020 2020 666f 7220 6949 6e64 6578        for iIndex
-00019c10: 2c20 6920 696e 2065 6e75 6d65 7261 7465  , i in enumerate
-00019c20: 2869 7465 6d29 3a0a 2020 2020 2020 2020  (item):.        
-00019c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019c40: 6973 5370 6163 6549 7465 6d20 3d20 286e  isSpaceItem = (n
-00019c50: 6f74 2069 734c 6173 7449 7465 6d20 616e  ot isLastItem an
-00019c60: 6420 286c 656e 2869 7465 6d29 202d 2069  d (len(item) - i
-00019c70: 496e 6465 7820 3d3d 2031 2929 0a20 2020  Index == 1)).   
-00019c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019c90: 2020 2020 2069 5769 6474 6820 3d20 6765       iWidth = ge
-00019ca0: 7453 7472 696e 6757 6964 7468 2869 290a  tStringWidth(i).
-00019cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019cc0: 2020 2020 2020 2020 6966 2069 7353 7061          if isSpa
-00019cd0: 6365 4974 656d 3a0a 2020 2020 2020 2020  ceItem:.        
-00019ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019cf0: 2020 2020 6e65 774c 696e 6557 6964 7468      newLineWidth
-00019d00: 203d 2073 656c 662e 6c69 6e65 5769 6474   = self.lineWidt
-00019d10: 6820 2b20 6957 6964 7468 202b 2031 0a20  h + iWidth + 1. 
+000197f0: 2020 6966 2073 7065 6369 616c 456e 7472    if specialEntr
+00019800: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+00019810: 2020 2020 2020 2020 2020 2075 7365 7249             userI
+00019820: 6e70 7574 203d 2066 227b 7573 6572 496e  nput = f"{userIn
+00019830: 7075 747d 7b73 7065 6369 616c 456e 7472  put}{specialEntr
+00019840: 797d 220a 2020 2020 2020 2020 2020 2020  y}".            
+00019850: 2020 2020 2020 2020 2320 7265 6669 6e65          # refine
+00019860: 206d 6573 7361 6765 7320 6265 666f 7265   messages before
+00019870: 2072 756e 6e69 6e67 2063 6f6d 706c 6574   running complet
+00019880: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
+00019890: 2020 2020 2020 2020 6669 6e65 5475 6e65          fineTune
+000198a0: 6455 7365 7249 6e70 7574 203d 2073 656c  dUserInput = sel
+000198b0: 662e 6669 6e65 5475 6e65 5573 6572 496e  f.fineTuneUserIn
+000198c0: 7075 7428 7573 6572 496e 7075 7429 0a20  put(userInput). 
+000198d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000198e0: 2020 2023 2069 6e20 6361 7365 206f 6620     # in case of 
+000198f0: 7472 616e 736c 6174 696f 6e0a 2020 2020  translation.    
+00019900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019910: 6966 2063 6f6e 6669 672e 7072 6564 6566  if config.predef
+00019920: 696e 6564 436f 6e74 6578 7420 3d3d 2022  inedContext == "
+00019930: 4c65 7420 6d65 2054 7261 6e73 6c61 7465  Let me Translate
+00019940: 2220 616e 6420 6669 6e65 5475 6e65 6455  " and fineTunedU
+00019950: 7365 7249 6e70 7574 2e73 7461 7274 7377  serInput.startsw
+00019960: 6974 6828 2241 7373 6973 7420 6d65 2062  ith("Assist me b
+00019970: 7920 6163 7469 6e67 2061 7320 6120 7472  y acting as a tr
+00019980: 616e 736c 6174 6f72 2e5c 6e50 6c65 6173  anslator.\nPleas
+00019990: 6520 7472 616e 736c 6174 6522 293a 0a20  e translate"):. 
+000199a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000199b0: 2020 2020 2020 2073 656c 662e 7072 696e         self.prin
+000199c0: 7428 2250 6c65 6173 6520 7370 6563 6966  t("Please specif
+000199d0: 7920 6265 6c6f 7720 7468 6520 6c61 6e67  y below the lang
+000199e0: 7561 6765 2079 6f75 2077 6f75 6c64 206c  uage you would l
+000199f0: 696b 6520 7468 6520 636f 6e74 656e 7420  ike the content 
+00019a00: 746f 2062 6520 7472 616e 736c 6174 6564  to be translated
+00019a10: 2069 6e74 6f3a 2229 0a20 2020 2020 2020   into:").       
+00019a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019a30: 206c 616e 6775 6167 6520 3d20 7365 6c66   language = self
+00019a40: 2e70 726f 6d70 7473 2e73 696d 706c 6550  .prompts.simpleP
+00019a50: 726f 6d70 7428 7374 796c 653d 7365 6c66  rompt(style=self
+00019a60: 2e70 726f 6d70 7473 2e70 726f 6d70 7453  .prompts.promptS
+00019a70: 7479 6c65 322c 2064 6566 6175 6c74 3d63  tyle2, default=c
+00019a80: 6f6e 6669 672e 7472 616e 736c 6174 6554  onfig.translateT
+00019a90: 6f4c 616e 6775 6167 6529 0a20 2020 2020  oLanguage).     
+00019aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019ab0: 2020 2069 6620 6c61 6e67 7561 6765 2061     if language a
+00019ac0: 6e64 206e 6f74 206c 616e 6775 6167 652e  nd not language.
+00019ad0: 7374 7269 7028 292e 6c6f 7765 7228 2920  strip().lower() 
+00019ae0: 696e 2028 636f 6e66 6967 2e63 616e 6365  in (config.cance
+00019af0: 6c5f 656e 7472 792c 2063 6f6e 6669 672e  l_entry, config.
+00019b00: 6578 6974 5f65 6e74 7279 293a 0a20 2020  exit_entry):.   
+00019b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019b20: 2020 2020 2020 2020 2066 696e 6554 756e           fineTun
+00019b30: 6564 5573 6572 496e 7075 7420 3d20 6622  edUserInput = f"
+00019b40: 7b66 696e 6554 756e 6564 5573 6572 496e  {fineTunedUserIn
+00019b50: 7075 747d 5c6e 5c6e 506c 6561 7365 2074  put}\n\nPlease t
+00019b60: 7261 6e73 6c61 7465 2074 6865 2063 6f6e  ranslate the con
+00019b70: 7465 6e74 2069 6e74 6f20 3c6c 616e 6775  tent into <langu
+00019b80: 6167 653e 7b6c 616e 6775 6167 657d 3c2f  age>{language}</
+00019b90: 6c61 6e67 7561 6765 3e2e 220a 2020 2020  language>.".    
+00019ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019bb0: 2020 2020 2020 2020 636f 6e66 6967 2e74          config.t
+00019bc0: 7261 6e73 6c61 7465 546f 4c61 6e67 7561  ranslateToLangua
+00019bd0: 6765 203d 206c 616e 6775 6167 650a 2020  ge = language.  
+00019be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019bf0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00019c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019c10: 2020 2020 2020 2020 636f 6e74 696e 7565          continue
+00019c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019c30: 2020 2020 2023 2063 6c65 6172 2063 6f6e       # clear con
+00019c40: 6669 672e 7072 6564 6566 696e 6564 436f  fig.predefinedCo
+00019c50: 6e74 6578 7454 656d 7020 6966 2061 6e79  ntextTemp if any
+00019c60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019c70: 2020 2020 2069 6620 636f 6e66 6967 2e70       if config.p
+00019c80: 7265 6465 6669 6e65 6443 6f6e 7465 7874  redefinedContext
+00019c90: 5465 6d70 3a0a 2020 2020 2020 2020 2020  Temp:.          
+00019ca0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00019cb0: 6e66 6967 2e70 7265 6465 6669 6e65 6443  nfig.predefinedC
+00019cc0: 6f6e 7465 7874 203d 2063 6f6e 6669 672e  ontext = config.
+00019cd0: 7072 6564 6566 696e 6564 436f 6e74 6578  predefinedContex
+00019ce0: 7454 656d 700a 2020 2020 2020 2020 2020  tTemp.          
+00019cf0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00019d00: 6e66 6967 2e70 7265 6465 6669 6e65 6443  nfig.predefinedC
+00019d10: 6f6e 7465 7874 5465 6d70 203d 2022 220a  ontextTemp = "".
 00019d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019d30: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00019d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019d50: 2020 2020 2020 2020 206e 6577 4c69 6e65           newLine
-00019d60: 5769 6474 6820 3d20 7365 6c66 2e6c 696e  Width = self.lin
-00019d70: 6557 6964 7468 202b 2069 5769 6474 680a  eWidth + iWidth.
+00019d30: 2020 2020 2320 656d 7074 7920 636f 6e66      # empty conf
+00019d40: 6967 2e70 6167 6572 436f 6e74 656e 740a  ig.pagerContent.
+00019d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019d60: 2020 2020 636f 6e66 6967 2e70 6167 6572      config.pager
+00019d70: 436f 6e74 656e 7420 3d20 2222 0a0a 2020  Content = ""..  
 00019d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019d90: 2020 2020 2020 2020 6966 206e 6577 4c69          if newLi
-00019da0: 6e65 5769 6474 6820 3e20 7465 726d 696e  neWidth > termin
-00019db0: 616c 5f77 6964 7468 3a0a 2020 2020 2020  al_width:.      
-00019dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019dd0: 2020 2020 2020 7365 6c66 2e77 7261 7070        self.wrapp
-00019de0: 6564 5465 7874 202b 3d20 6622 5c6e 7b69  edText += f"\n{i
-00019df0: 7d20 2220 6966 2069 7353 7061 6365 4974  } " if isSpaceIt
-00019e00: 656d 2065 6c73 6520 6622 5c6e 7b69 7d22  em else f"\n{i}"
-00019e10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019e20: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00019e30: 662e 6c69 6e65 5769 6474 6820 3d20 6957  f.lineWidth = iW
-00019e40: 6964 7468 202b 2031 2069 6620 6973 5370  idth + 1 if isSp
-00019e50: 6163 6549 7465 6d20 656c 7365 2069 5769  aceItem else iWi
-00019e60: 6474 680a 2020 2020 2020 2020 2020 2020  dth.            
-00019e70: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00019e80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00019e90: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00019ea0: 6c66 2e77 7261 7070 6564 5465 7874 202b  lf.wrappedText +
-00019eb0: 3d20 6622 7b69 7d20 2220 6966 2069 7353  = f"{i} " if isS
-00019ec0: 7061 6365 4974 656d 2065 6c73 6520 690a  paceItem else i.
-00019ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019ee0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00019ef0: 2e6c 696e 6557 6964 7468 202b 3d20 6957  .lineWidth += iW
-00019f00: 6964 7468 202b 2031 2069 6620 6973 5370  idth + 1 if isSp
-00019f10: 6163 6549 7465 6d20 656c 7365 2069 5769  aceItem else iWi
-00019f20: 6474 680a 2020 2020 2020 2020 2020 2020  dth.            
-00019f30: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00019f40: 2020 2020 2020 2020 2020 2020 2020 6974                it
-00019f50: 656d 5769 6474 6820 3d20 6765 7453 7472  emWidth = getStr
-00019f60: 696e 6757 6964 7468 2869 7465 6d29 0a20  ingWidth(item). 
-00019f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019f80: 2020 2069 6620 6973 4c61 7374 4974 656d     if isLastItem
-00019f90: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00019fa0: 2020 2020 2020 2020 2020 6e65 774c 696e            newLin
-00019fb0: 6557 6964 7468 203d 2073 656c 662e 6c69  eWidth = self.li
-00019fc0: 6e65 5769 6474 6820 2b20 6974 656d 5769  neWidth + itemWi
-00019fd0: 6474 680a 2020 2020 2020 2020 2020 2020  dth.            
-00019fe0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00019ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a000: 2020 2020 2020 6e65 774c 696e 6557 6964        newLineWid
-0001a010: 7468 203d 2073 656c 662e 6c69 6e65 5769  th = self.lineWi
-0001a020: 6474 6820 2b20 6974 656d 5769 6474 6820  dth + itemWidth 
-0001a030: 2b20 310a 2020 2020 2020 2020 2020 2020  + 1.            
-0001a040: 2020 2020 2020 2020 6966 206e 6577 4c69          if newLi
-0001a050: 6e65 5769 6474 6820 3e20 7465 726d 696e  neWidth > termin
-0001a060: 616c 5f77 6964 7468 3a0a 2020 2020 2020  al_width:.      
-0001a070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a080: 2020 7365 6c66 2e77 7261 7070 6564 5465    self.wrappedTe
-0001a090: 7874 202b 3d20 6622 5c6e 7b69 7465 6d7d  xt += f"\n{item}
-0001a0a0: 2220 6966 2069 734c 6173 7449 7465 6d20  " if isLastItem 
-0001a0b0: 656c 7365 2066 225c 6e7b 6974 656d 7d20  else f"\n{item} 
-0001a0c0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0001a0d0: 2020 2020 2020 2020 2020 7365 6c66 2e6c            self.l
-0001a0e0: 696e 6557 6964 7468 203d 2069 7465 6d57  ineWidth = itemW
-0001a0f0: 6964 7468 2069 6620 6973 4c61 7374 4974  idth if isLastIt
-0001a100: 656d 2065 6c73 6520 6974 656d 5769 6474  em else itemWidt
-0001a110: 6820 2b20 310a 2020 2020 2020 2020 2020  h + 1.          
-0001a120: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-0001a130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a140: 2020 2020 2020 2020 7365 6c66 2e77 7261          self.wra
-0001a150: 7070 6564 5465 7874 202b 3d20 6974 656d  ppedText += item
-0001a160: 2069 6620 6973 4c61 7374 4974 656d 2065   if isLastItem e
-0001a170: 6c73 6520 6622 7b69 7465 6d7d 2022 0a20  lse f"{item} ". 
-0001a180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a190: 2020 2020 2020 2073 656c 662e 6c69 6e65         self.line
-0001a1a0: 5769 6474 6820 2b3d 2069 7465 6d57 6964  Width += itemWid
-0001a1b0: 7468 2069 6620 6973 4c61 7374 4974 656d  th if isLastItem
-0001a1c0: 2065 6c73 6520 6974 656d 5769 6474 6820   else itemWidth 
-0001a1d0: 2b20 310a 0a20 2020 2020 2020 2064 6566  + 1..        def
-0001a1e0: 2070 726f 6365 7373 4c69 6e65 286c 696e   processLine(lin
-0001a1f0: 6554 6578 7429 3a0a 2020 2020 2020 2020  eText):.        
-0001a200: 2020 2020 6966 2072 652e 7365 6172 6368      if re.search
-0001a210: 2822 3c5b 5e3c 3e5d 2b3f 3e22 2c20 6c69  ("<[^<>]+?>", li
-0001a220: 6e65 5465 7874 293a 0a20 2020 2020 2020  neText):.       
-0001a230: 2020 2020 2020 2020 2023 2068 616e 646c           # handl
-0001a240: 6520 6874 6d6c 2f78 6d6c 2074 6167 730a  e html/xml tags.
-0001a250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a260: 6368 756e 6b73 203d 206c 696e 6554 6578  chunks = lineTex
-0001a270: 742e 7370 6c69 7428 223e 2229 0a20 2020  t.split(">").   
-0001a280: 2020 2020 2020 2020 2020 2020 2074 6f74               tot
-0001a290: 616c 4368 756e 6b73 203d 206c 656e 2863  alChunks = len(c
-0001a2a0: 6875 6e6b 7329 0a20 2020 2020 2020 2020  hunks).         
-0001a2b0: 2020 2020 2020 2066 6f72 2069 6e64 6578         for index
-0001a2c0: 2c20 6368 756e 6b20 696e 2065 6e75 6d65  , chunk in enume
-0001a2d0: 7261 7465 2863 6875 6e6b 7329 3a0a 2020  rate(chunks):.  
-0001a2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a2f0: 2020 6973 4c61 7374 4368 756e 6b20 3d20    isLastChunk = 
-0001a300: 2874 6f74 616c 4368 756e 6b73 202d 2069  (totalChunks - i
-0001a310: 6e64 6578 203d 3d20 3129 0a20 2020 2020  ndex == 1).     
-0001a320: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0001a330: 6620 6973 4c61 7374 4368 756e 6b3a 0a20  f isLastChunk:. 
-0001a340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a350: 2020 2020 2020 2061 6464 576f 7264 7328         addWords(
-0001a360: 6368 756e 6b29 0a20 2020 2020 2020 2020  chunk).         
-0001a370: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0001a380: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a390: 2020 2020 2020 2020 2074 6167 203d 2054           tag = T
-0001a3a0: 7275 6520 6966 2022 3c22 2069 6e20 6368  rue if "<" in ch
-0001a3b0: 756e 6b20 656c 7365 2046 616c 7365 0a20  unk else False. 
-0001a3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a3d0: 2020 2020 2020 2069 6620 7461 673a 0a20         if tag:. 
-0001a3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a3f0: 2020 2020 2020 2020 2020 206e 6f6e 5461             nonTa
-0001a400: 672c 2074 6167 436f 6e74 656e 7420 3d20  g, tagContent = 
-0001a410: 6368 756e 6b2e 7273 706c 6974 2822 3c22  chunk.rsplit("<"
-0001a420: 2c20 3129 0a20 2020 2020 2020 2020 2020  , 1).           
-0001a430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a440: 2061 6464 576f 7264 7328 6e6f 6e54 6167   addWords(nonTag
-0001a450: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001a460: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0001a470: 6c66 2e77 7261 7070 6564 5465 7874 202b  lf.wrappedText +
-0001a480: 3d20 6622 3c7b 7461 6743 6f6e 7465 6e74  = f"<{tagContent
-0001a490: 7d3e 220a 2020 2020 2020 2020 2020 2020  }>".            
-0001a4a0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0001a4b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001a4c0: 2020 2020 2020 2020 2020 2020 2020 6164                ad
-0001a4d0: 6457 6f72 6473 2866 227b 6368 756e 6b7d  dWords(f"{chunk}
-0001a4e0: 3e22 290a 2020 2020 2020 2020 2020 2020  >").            
-0001a4f0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0001a500: 2020 2020 2020 6164 6457 6f72 6473 286c        addWords(l
-0001a510: 696e 6554 6578 7429 0a0a 2020 2020 2020  ineText)..      
-0001a520: 2020 6c69 6e65 7320 3d20 7465 7874 2e73    lines = text.s
-0001a530: 706c 6974 2822 5c6e 2229 0a20 2020 2020  plit("\n").     
-0001a540: 2020 2074 6f74 616c 4c69 6e65 7320 3d20     totalLines = 
-0001a550: 6c65 6e28 6c69 6e65 7329 0a20 2020 2020  len(lines).     
-0001a560: 2020 2066 6f72 2069 6e64 6578 2c20 6c69     for index, li
-0001a570: 6e65 2069 6e20 656e 756d 6572 6174 6528  ne in enumerate(
-0001a580: 6c69 6e65 7329 3a0a 2020 2020 2020 2020  lines):.        
-0001a590: 2020 2020 6973 4c61 7374 4c69 6e65 203d      isLastLine =
-0001a5a0: 2028 746f 7461 6c4c 696e 6573 202d 2069   (totalLines - i
-0001a5b0: 6e64 6578 203d 3d20 3129 0a20 2020 2020  ndex == 1).     
-0001a5c0: 2020 2020 2020 2070 726f 6365 7373 4c69         processLi
-0001a5d0: 6e65 286c 696e 6529 0a20 2020 2020 2020  ne(line).       
-0001a5e0: 2020 2020 2069 6620 6e6f 7420 6973 4c61       if not isLa
-0001a5f0: 7374 4c69 6e65 3a0a 2020 2020 2020 2020  stLine:.        
-0001a600: 2020 2020 2020 2020 7365 6c66 2e77 7261          self.wra
-0001a610: 7070 6564 5465 7874 202b 3d20 225c 6e22  ppedText += "\n"
-0001a620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a630: 2073 656c 662e 6c69 6e65 5769 6474 6820   self.lineWidth 
-0001a640: 3d20 300a 0a20 2020 2020 2020 2072 6574  = 0..        ret
-0001a650: 7572 6e20 7365 6c66 2e77 7261 7070 6564  urn self.wrapped
-0001a660: 5465 7874 0a                             Text.
+00019d90: 2020 2320 6368 6563 6b20 7370 6563 6961    # check specia
+00019da0: 6c20 656e 7472 6965 730a 2020 2020 2020  l entries.      
+00019db0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+00019dc0: 6966 2075 7365 7220 6361 6c6c 2061 2063  if user call a c
+00019dd0: 6861 7462 6f74 2077 6974 686f 7574 2066  hatbot without f
+00019de0: 756e 6374 696f 6e20 6361 6c6c 696e 670a  unction calling.
+00019df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019e00: 2020 2020 6966 2022 5b43 4841 545d 2220      if "[CHAT]" 
+00019e10: 696e 2066 696e 6554 756e 6564 5573 6572  in fineTunedUser
+00019e20: 496e 7075 743a 0a20 2020 2020 2020 2020  Input:.         
+00019e30: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00019e40: 6861 7462 6f74 203d 2063 6f6e 6669 672e  hatbot = config.
+00019e50: 6368 6174 626f 740a 2020 2020 2020 2020  chatbot.        
+00019e60: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00019e70: 2063 616c 6c43 6861 7442 6f74 203a 3d20   callChatBot := 
+00019e80: 7265 2e73 6561 7263 6828 225c 5b43 4841  re.search("\[CHA
+00019e90: 545f 285b 5e5c 5b5c 5d5d 2b3f 295c 5d22  T_([^\[\]]+?)\]"
+00019ea0: 2c20 6669 6e65 5475 6e65 6455 7365 7249  , fineTunedUserI
+00019eb0: 6e70 7574 293a 0a20 2020 2020 2020 2020  nput):.         
+00019ec0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00019ed0: 6861 7462 6f74 203d 2063 616c 6c43 6861  hatbot = callCha
+00019ee0: 7442 6f74 2e67 726f 7570 2831 292e 6c6f  tBot.group(1).lo
+00019ef0: 7765 7228 2920 6966 2063 616c 6c43 6861  wer() if callCha
+00019f00: 7442 6f74 2061 6e64 2063 616c 6c43 6861  tBot and callCha
+00019f10: 7442 6f74 2e67 726f 7570 2831 292e 6c6f  tBot.group(1).lo
+00019f20: 7765 7228 2920 696e 2028 2263 6861 7467  wer() in ("chatg
+00019f30: 7074 222c 2022 6765 6d69 6e69 7072 6f22  pt", "geminipro"
+00019f40: 2c20 2270 616c 6d32 222c 2022 636f 6465  , "palm2", "code
+00019f50: 7922 2920 656c 7365 2022 220a 2020 2020  y") else "".    
+00019f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019f70: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00019f80: 2020 2020 2020 2020 2020 2020 2020 6368                ch
+00019f90: 6174 626f 7420 3d20 2222 0a20 2020 2020  atbot = "".     
+00019fa0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00019fb0: 6620 6368 6174 626f 743a 0a20 2020 2020  f chatbot:.     
+00019fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019fd0: 2020 2023 2063 616c 6c20 7468 6520 7370     # call the sp
+00019fe0: 6369 6669 6564 2063 6861 7462 6f74 2074  cified chatbot t
+00019ff0: 6f20 636f 6e74 696e 7565 2074 6865 2063  o continue the c
+0001a000: 6f6e 7665 7273 6174 696f 6e0a 2020 2020  onversation.    
+0001a010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a020: 2020 2020 6669 6e65 5475 6e65 6455 7365      fineTunedUse
+0001a030: 7249 6e70 7574 203d 2072 652e 7375 6228  rInput = re.sub(
+0001a040: 225c 5b43 4841 545c 5d7c 5c5b 4348 4154  "\[CHAT\]|\[CHAT
+0001a050: 5f5b 5e5c 5b5c 5d5d 2b3f 5c5d 222c 2022  _[^\[\]]+?\]", "
+0001a060: 222c 2066 696e 6554 756e 6564 5573 6572  ", fineTunedUser
+0001a070: 496e 7075 7429 0a20 2020 2020 2020 2020  Input).         
+0001a080: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0001a090: 656c 662e 6c61 756e 6368 4368 6174 626f  elf.launchChatbo
+0001a0a0: 7428 6368 6174 626f 742c 2066 696e 6554  t(chatbot, fineT
+0001a0b0: 756e 6564 5573 6572 496e 7075 7429 0a20  unedUserInput). 
+0001a0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a0d0: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
+0001a0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a0f0: 2020 2020 2320 6966 2075 7365 7220 646f      # if user do
+0001a100: 6e27 7420 7761 6e74 2066 756e 6374 696f  n't want functio
+0001a110: 6e20 6361 6c6c 206f 7220 6120 7061 7274  n call or a part
+0001a120: 6963 756c 6172 2066 756e 6374 696f 6e20  icular function 
+0001a130: 6361 6c6c 0a20 2020 2020 2020 2020 2020  call.           
+0001a140: 2020 2020 2020 2020 2023 6e6f 4675 6e63           #noFunc
+0001a150: 7469 6f6e 4361 6c6c 203d 2028 225b 4e4f  tionCall = ("[NO
+0001a160: 5f46 554e 4354 494f 4e5f 4341 4c4c 5d22  _FUNCTION_CALL]"
+0001a170: 2069 6e20 6669 6e65 5475 6e65 6455 7365   in fineTunedUse
+0001a180: 7249 6e70 7574 290a 2020 2020 2020 2020  rInput).        
+0001a190: 2020 2020 2020 2020 2020 2020 6368 6563              chec
+0001a1a0: 6b43 616c 6c53 7065 6369 6669 6346 756e  kCallSpecificFun
+0001a1b0: 6374 696f 6e20 3d20 7265 2e73 6561 7263  ction = re.searc
+0001a1c0: 6828 225c 5b43 414c 4c5f 285b 5e5c 5b5c  h("\[CALL_([^\[\
+0001a1d0: 5d5d 2b3f 295c 5d22 2c20 6669 6e65 5475  ]]+?)\]", fineTu
+0001a1e0: 6e65 6455 7365 7249 6e70 7574 290a 2020  nedUserInput).  
+0001a1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a200: 2020 636f 6e66 6967 2e72 756e 5370 6563    config.runSpec
+0001a210: 6966 6963 4675 6e74 696f 6e20 3d20 6368  ificFuntion = ch
+0001a220: 6563 6b43 616c 6c53 7065 6369 6669 6346  eckCallSpecificF
+0001a230: 756e 6374 696f 6e2e 6772 6f75 7028 3129  unction.group(1)
+0001a240: 2069 6620 6368 6563 6b43 616c 6c53 7065   if checkCallSpe
+0001a250: 6369 6669 6346 756e 6374 696f 6e20 616e  cificFunction an
+0001a260: 6420 6368 6563 6b43 616c 6c53 7065 6369  d checkCallSpeci
+0001a270: 6669 6346 756e 6374 696f 6e2e 6772 6f75  ficFunction.grou
+0001a280: 7028 3129 2069 6e20 636f 6e66 6967 2e63  p(1) in config.c
+0001a290: 6861 7447 5054 4170 6941 7661 696c 6162  hatGPTApiAvailab
+0001a2a0: 6c65 4675 6e63 7469 6f6e 7320 656c 7365  leFunctions else
+0001a2b0: 2022 220a 2020 2020 2020 2020 2020 2020   "".            
+0001a2c0: 2020 2020 2020 2020 6966 2063 6f6e 6669          if confi
+0001a2d0: 672e 6465 7665 6c6f 7065 7220 616e 6420  g.developer and 
+0001a2e0: 636f 6e66 6967 2e72 756e 5370 6563 6966  config.runSpecif
+0001a2f0: 6963 4675 6e74 696f 6e3a 0a20 2020 2020  icFuntion:.     
+0001a300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a310: 2020 2023 7365 6c66 2e70 7269 6e74 2866     #self.print(f
+0001a320: 2263 616c 6c69 6e67 2066 756e 6374 696f  "calling functio
+0001a330: 6e20 277b 636f 6e66 6967 2e72 756e 5370  n '{config.runSp
+0001a340: 6563 6966 6963 4675 6e74 696f 6e7d 2720  ecificFuntion}' 
+0001a350: 2e2e 2e22 290a 2020 2020 2020 2020 2020  ...").          
+0001a360: 2020 2020 2020 2020 2020 2020 2020 7072                pr
+0001a370: 696e 745f 666f 726d 6174 7465 645f 7465  int_formatted_te
+0001a380: 7874 2848 544d 4c28 6622 3c7b 636f 6e66  xt(HTML(f"<{conf
+0001a390: 6967 2e74 6572 6d69 6e61 6c50 726f 6d70  ig.terminalPromp
+0001a3a0: 7449 6e64 6963 6174 6f72 436f 6c6f 7232  tIndicatorColor2
+0001a3b0: 7d3e 4361 6c6c 696e 6720 6675 6e63 7469  }>Calling functi
+0001a3c0: 6f6e 3c2f 7b63 6f6e 6669 672e 7465 726d  on</{config.term
+0001a3d0: 696e 616c 5072 6f6d 7074 496e 6469 6361  inalPromptIndica
+0001a3e0: 746f 7243 6f6c 6f72 327d 3e20 3c7b 636f  torColor2}> <{co
+0001a3f0: 6e66 6967 2e74 6572 6d69 6e61 6c43 6f6d  nfig.terminalCom
+0001a400: 6d61 6e64 456e 7472 7943 6f6c 6f72 327d  mandEntryColor2}
+0001a410: 3e27 7b63 6f6e 6669 672e 7275 6e53 7065  >'{config.runSpe
+0001a420: 6369 6669 6346 756e 7469 6f6e 7d27 3c2f  cificFuntion}'</
+0001a430: 7b63 6f6e 6669 672e 7465 726d 696e 616c  {config.terminal
+0001a440: 436f 6d6d 616e 6445 6e74 7279 436f 6c6f  CommandEntryColo
+0001a450: 7232 7d3e 203c 7b63 6f6e 6669 672e 7465  r2}> <{config.te
+0001a460: 726d 696e 616c 5072 6f6d 7074 496e 6469  rminalPromptIndi
+0001a470: 6361 746f 7243 6f6c 6f72 327d 3e2e 2e2e  catorColor2}>...
+0001a480: 3c2f 7b63 6f6e 6669 672e 7465 726d 696e  </{config.termin
+0001a490: 616c 5072 6f6d 7074 496e 6469 6361 746f  alPromptIndicato
+0001a4a0: 7243 6f6c 6f72 327d 3e22 2929 0a20 2020  rColor2}>")).   
+0001a4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a4c0: 2066 696e 6554 756e 6564 5573 6572 496e   fineTunedUserIn
+0001a4d0: 7075 7420 3d20 7265 2e73 7562 2873 7065  put = re.sub(spe
+0001a4e0: 6369 616c 456e 7472 7950 6174 7465 726e  cialEntryPattern
+0001a4f0: 2c20 2222 2c20 6669 6e65 5475 6e65 6455  , "", fineTunedU
+0001a500: 7365 7249 6e70 7574 290a 0a20 2020 2020  serInput)..     
+0001a510: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0001a520: 2066 6f72 6365 206c 6f61 6469 6e67 2069   force loading i
+0001a530: 6e74 6572 6e65 7420 7365 6172 6368 6573  nternet searches
+0001a540: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a550: 2020 2020 2069 6620 636f 6e66 6967 2e6c       if config.l
+0001a560: 6f61 6469 6e67 496e 7465 726e 6574 5365  oadingInternetSe
+0001a570: 6172 6368 6573 203d 3d20 2261 6c77 6179  arches == "alway
+0001a580: 7322 3a0a 2020 2020 2020 2020 2020 2020  s":.            
+0001a590: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+0001a5a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a5b0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+0001a5c0: 6669 672e 6375 7272 656e 744d 6573 7361  fig.currentMessa
+0001a5d0: 6765 7320 3d20 7365 6c66 2e72 756e 4675  ges = self.runFu
+0001a5e0: 6e63 7469 6f6e 2863 6f6e 6669 672e 6375  nction(config.cu
+0001a5f0: 7272 656e 744d 6573 7361 6765 732c 205b  rrentMessages, [
+0001a600: 636f 6e66 6967 2e63 6861 7447 5054 4170  config.chatGPTAp
+0001a610: 6946 756e 6374 696f 6e53 6967 6e61 7475  iFunctionSignatu
+0001a620: 7265 735b 2269 6e74 6567 7261 7465 5f67  res["integrate_g
+0001a630: 6f6f 676c 655f 7365 6172 6368 6573 225d  oogle_searches"]
+0001a640: 5d2c 2022 696e 7465 6772 6174 655f 676f  ], "integrate_go
+0001a650: 6f67 6c65 5f73 6561 7263 6865 7322 290a  ogle_searches").
+0001a660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a670: 2020 2020 2020 2020 6578 6365 7074 3a0a          except:.
+0001a680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a690: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001a6a0: 2e70 7269 6e74 2822 556e 6162 6c65 2074  .print("Unable t
+0001a6b0: 6f20 6c6f 6164 2069 6e74 6572 6e65 7420  o load internet 
+0001a6c0: 7265 736f 7572 6365 732e 2229 0a20 2020  resources.").   
+0001a6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a6e0: 2020 2020 2020 2020 2053 6861 7265 6455           SharedU
+0001a6f0: 7469 6c2e 7368 6f77 4572 726f 7273 2829  til.showErrors()
+0001a700: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001a710: 2020 2020 2020 2320 6f70 656e 6169 0a20        # openai. 
+0001a720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a730: 2020 2023 636f 6d70 6c65 7469 6f6e 203d     #completion =
+0001a740: 2073 656c 662e 7275 6e43 6f6d 706c 6574   self.runComplet
+0001a750: 696f 6e28 636f 6e66 6967 2e63 7572 7265  ion(config.curre
+0001a760: 6e74 4d65 7373 6167 6573 2c20 6e6f 4675  ntMessages, noFu
+0001a770: 6e63 7469 6f6e 4361 6c6c 290a 2020 2020  nctionCall).    
+0001a780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a790: 2320 6f6c 6c61 6d61 0a20 2020 2020 2020  # ollama.       
+0001a7a0: 2020 2020 2020 2020 2020 2020 2023 2063               # c
+0001a7b0: 6865 636b 2066 6f72 2069 6e74 656e 6465  heck for intende
+0001a7c0: 6420 6163 7469 6f6e 730a 2020 2020 2020  d actions.      
+0001a7d0: 2020 2020 2020 2020 2020 2020 2020 6163                ac
+0001a7e0: 7469 6f6e 203d 2073 656c 662e 6765 7452  tion = self.getR
+0001a7f0: 6573 706f 6e73 6544 6963 7428 7072 6f6d  esponseDict(prom
+0001a800: 7074 3d66 696e 6554 756e 6564 5573 6572  pt=fineTunedUser
+0001a810: 496e 7075 742c 2073 7973 7465 6d3d 7365  Input, system=se
+0001a820: 6c66 2e61 6374 696f 6e53 6372 6565 6e69  lf.actionScreeni
+0001a830: 6e67 5072 6f6d 7074 295b 2261 6374 696f  ngPrompt)["actio
+0001a840: 6e22 5d0a 2020 2020 2020 2020 2020 2020  n"].            
+0001a850: 2020 2020 2020 2020 6966 206e 6f74 2061          if not a
+0001a860: 6374 696f 6e3a 0a20 2020 2020 2020 2020  ction:.         
+0001a870: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0001a880: 6f6e 7469 6e75 650a 2020 2020 2020 2020  ontinue.        
+0001a890: 2020 2020 2020 2020 2020 2020 0a20 2020              .   
+0001a8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a8b0: 2023 2074 616b 6520 6163 7469 6f6e 0a20   # take action. 
+0001a8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a8d0: 2020 2069 6620 6163 7469 6f6e 2069 6e20     if action in 
+0001a8e0: 2822 7079 7468 6f6e 5f71 6122 2c20 226f  ("python_qa", "o
+0001a8f0: 7468 6572 5f72 6571 7565 7374 2229 2061  ther_request") a
+0001a900: 6e64 206e 6f74 2061 6374 696f 6e20 696e  nd not action in
+0001a910: 2063 6f6e 6669 672e 6672 6565 4765 6e69   config.freeGeni
+0001a920: 7573 4163 7469 6f6e 4d65 7468 6f64 733a  usActionMethods:
+0001a930: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a940: 2020 2020 2020 2020 2023 2075 7064 6174           # updat
+0001a950: 6520 6d65 7373 6167 6520 6368 6169 6e0a  e message chain.
+0001a960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a970: 2020 2020 2020 2020 636f 6e66 6967 2e63          config.c
+0001a980: 7572 7265 6e74 4d65 7373 6167 6573 2e61  urrentMessages.a
+0001a990: 7070 656e 6428 7b22 726f 6c65 223a 2022  ppend({"role": "
+0001a9a0: 7573 6572 222c 2022 636f 6e74 656e 7422  user", "content"
+0001a9b0: 3a20 6669 6e65 5475 6e65 6455 7365 7249  : fineTunedUserI
+0001a9c0: 6e70 7574 7d29 0a20 2020 2020 2020 2020  nput}).         
+0001a9d0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0001a9e0: 2073 7461 7274 2073 7069 6e6e 696e 670a   start spinning.
+0001a9f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aa00: 2020 2020 2020 2020 636f 6e66 6967 2e73          config.s
+0001aa10: 746f 705f 6576 656e 7420 3d20 7468 7265  top_event = thre
+0001aa20: 6164 696e 672e 4576 656e 7428 290a 2020  ading.Event().  
+0001aa30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aa40: 2020 2020 2020 636f 6e66 6967 2e73 7069        config.spi
+0001aa50: 6e6e 6572 5f74 6872 6561 6420 3d20 7468  nner_thread = th
+0001aa60: 7265 6164 696e 672e 5468 7265 6164 2874  reading.Thread(t
+0001aa70: 6172 6765 743d 7365 6c66 2e73 7069 6e6e  arget=self.spinn
+0001aa80: 696e 675f 616e 696d 6174 696f 6e2c 2061  ing_animation, a
+0001aa90: 7267 733d 2863 6f6e 6669 672e 7374 6f70  rgs=(config.stop
+0001aaa0: 5f65 7665 6e74 2c29 290a 2020 2020 2020  _event,)).      
+0001aab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aac0: 2020 636f 6e66 6967 2e73 7069 6e6e 6572    config.spinner
+0001aad0: 5f74 6872 6561 642e 7374 6172 7428 290a  _thread.start().
+0001aae0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001aaf0: 2020 2020 2020 2020 2063 6f6d 706c 6574           complet
+0001ab00: 696f 6e20 3d20 6f6c 6c61 6d61 2e63 6861  ion = ollama.cha
+0001ab10: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
+0001ab20: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+0001ab30: 6f64 656c 3d63 6f6e 6669 672e 6f6c 6c61  odel=config.olla
+0001ab40: 6d61 4465 6661 756c 744d 6f64 656c 2c0a  maDefaultModel,.
+0001ab50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab60: 2020 2020 2020 2020 2020 2020 6d65 7373              mess
+0001ab70: 6167 6573 3d63 6f6e 6669 672e 6375 7272  ages=config.curr
+0001ab80: 656e 744d 6573 7361 6765 732c 0a20 2020  entMessages,.   
+0001ab90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aba0: 2020 2020 2020 2020 2073 7472 6561 6d3d           stream=
+0001abb0: 5472 7565 2c0a 2020 2020 2020 2020 2020  True,.          
+0001abc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001abd0: 2020 6f70 7469 6f6e 733d 4f70 7469 6f6e    options=Option
+0001abe0: 7328 0a20 2020 2020 2020 2020 2020 2020  s(.             
+0001abf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ac00: 2020 2074 656d 7065 7261 7475 7265 3d63     temperature=c
+0001ac10: 6f6e 6669 672e 6c6c 6d54 656d 7065 7261  onfig.llmTempera
+0001ac20: 7475 7265 2c0a 2020 2020 2020 2020 2020  ture,.          
+0001ac30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ac40: 2020 292c 0a20 2020 2020 2020 2020 2020    ),.           
+0001ac50: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
+0001ac60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ac70: 2020 2020 2020 2023 2073 746f 7020 7370         # stop sp
+0001ac80: 696e 6e69 6e67 0a20 2020 2020 2020 2020  inning.         
+0001ac90: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0001aca0: 656c 662e 7275 6e50 7974 686f 6e20 3d20  elf.runPython = 
+0001acb0: 5472 7565 0a20 2020 2020 2020 2020 2020  True.           
+0001acc0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001acd0: 662e 7374 6f70 5370 696e 6e69 6e67 2829  f.stopSpinning()
+0001ace0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001acf0: 2020 2020 2020 2020 2020 2320 4372 6561            # Crea
+0001ad00: 7465 2061 206e 6577 2074 6872 6561 6420  te a new thread 
+0001ad10: 666f 7220 7468 6520 7374 7265 616d 696e  for the streamin
+0001ad20: 6720 7461 736b 0a20 2020 2020 2020 2020  g task.         
+0001ad30: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0001ad40: 7472 6561 6d69 6e67 576f 7264 5772 6170  treamingWordWrap
+0001ad50: 7065 7220 3d20 5374 7265 616d 696e 6757  per = StreamingW
+0001ad60: 6f72 6457 7261 7070 6572 2829 0a20 2020  ordWrapper().   
+0001ad70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ad80: 2020 2020 2073 7472 6561 6d69 6e67 5f65       streaming_e
+0001ad90: 7665 6e74 203d 2074 6872 6561 6469 6e67  vent = threading
+0001ada0: 2e45 7665 6e74 2829 0a20 2020 2020 2020  .Event().       
+0001adb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001adc0: 2073 656c 662e 7374 7265 616d 696e 675f   self.streaming_
+0001add0: 7468 7265 6164 203d 2074 6872 6561 6469  thread = threadi
+0001ade0: 6e67 2e54 6872 6561 6428 7461 7267 6574  ng.Thread(target
+0001adf0: 3d73 7472 6561 6d69 6e67 576f 7264 5772  =streamingWordWr
+0001ae00: 6170 7065 722e 7374 7265 616d 4f75 7470  apper.streamOutp
+0001ae10: 7574 732c 2061 7267 733d 2873 7472 6561  uts, args=(strea
+0001ae20: 6d69 6e67 5f65 7665 6e74 2c20 636f 6d70  ming_event, comp
+0001ae30: 6c65 7469 6f6e 2929 0a20 2020 2020 2020  letion)).       
+0001ae40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ae50: 2023 2053 7461 7274 2074 6865 2073 7472   # Start the str
+0001ae60: 6561 6d69 6e67 2074 6872 6561 640a 2020  eaming thread.  
+0001ae70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ae80: 2020 2020 2020 7365 6c66 2e73 7472 6561        self.strea
+0001ae90: 6d69 6e67 5f74 6872 6561 642e 7374 6172  ming_thread.star
+0001aea0: 7428 290a 0a20 2020 2020 2020 2020 2020  t()..           
+0001aeb0: 2020 2020 2020 2020 2020 2020 2023 2077               # w
+0001aec0: 6169 7420 7768 696c 6520 7465 7874 206f  ait while text o
+0001aed0: 7574 7075 7420 6973 2073 7465 616d 696e  utput is steamin
+0001aee0: 673b 2063 6170 7475 7265 206b 6579 2063  g; capture key c
+0001aef0: 6f6d 626f 2027 6374 726c 2b71 2720 6f72  ombo 'ctrl+q' or
+0001af00: 2027 6374 726c 2b7a 2720 746f 2073 746f   'ctrl+z' to sto
+0001af10: 7020 7468 6520 7374 7265 616d 696e 670a  p the streaming.
+0001af20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001af30: 2020 2020 2020 2020 7374 7265 616d 696e          streamin
+0001af40: 6757 6f72 6457 7261 7070 6572 2e6b 6579  gWordWrapper.key
+0001af50: 546f 5374 6f70 5374 7265 616d 696e 6728  ToStopStreaming(
+0001af60: 7374 7265 616d 696e 675f 6576 656e 7429  streaming_event)
+0001af70: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001af80: 2020 2020 2020 2020 2020 2320 7768 656e            # when
+0001af90: 2073 7472 6561 6d69 6e67 2069 7320 646f   streaming is do
+0001afa0: 6e65 206f 7220 7768 656e 2075 7365 7220  ne or when user 
+0001afb0: 7072 6573 7320 2263 7472 6c2b 7122 0a20  press "ctrl+q". 
+0001afc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001afd0: 2020 2020 2020 2073 656c 662e 7374 7265         self.stre
+0001afe0: 616d 696e 675f 7468 7265 6164 2e6a 6f69  aming_thread.joi
+0001aff0: 6e28 290a 2020 2020 2020 2020 2020 2020  n().            
+0001b000: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0001b010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b020: 2020 2020 2020 2320 6163 7469 6f6e 2069        # action i
+0001b030: 6e20 636f 6e66 6967 2e66 7265 6547 656e  n config.freeGen
+0001b040: 6975 7341 6374 696f 6e4d 6574 686f 6473  iusActionMethods
+0001b050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b060: 2020 2020 2020 2020 2069 6620 636f 6e66           if conf
+0001b070: 6967 2e64 6576 656c 6f70 6572 3a0a 2020  ig.developer:.  
+0001b080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b090: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+0001b0a0: 7269 6e74 3328 6622 4361 6c6c 696e 6720  rint3(f"Calling 
+0001b0b0: 6163 7469 6f6e 3a20 7b61 6374 696f 6e7d  action: {action}
+0001b0c0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+0001b0d0: 2020 2020 2020 2020 2020 2070 6172 616d             param
+0001b0e0: 6574 6572 7320 3d20 7365 6c66 2e65 7874  eters = self.ext
+0001b0f0: 7261 6374 4163 7469 6f6e 5061 7261 6d65  ractActionParame
+0001b100: 7465 7273 2863 6f6e 6669 672e 6375 7272  ters(config.curr
+0001b110: 656e 744d 6573 7361 6765 732c 2066 696e  entMessages, fin
+0001b120: 6554 756e 6564 5573 6572 496e 7075 742c  eTunedUserInput,
+0001b130: 2061 6374 696f 6e29 0a20 2020 2020 2020   action).       
+0001b140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b150: 2069 6620 636f 6e66 6967 2e64 6576 656c   if config.devel
+0001b160: 6f70 6572 3a0a 2020 2020 2020 2020 2020  oper:.          
+0001b170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b180: 2020 7365 6c66 2e70 7269 6e74 3228 2241    self.print2("A
+0001b190: 6374 696f 6e20 5061 7261 6d65 7465 7273  ction Parameters
+0001b1a0: 3a22 290a 2020 2020 2020 2020 2020 2020  :").            
+0001b1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b1c0: 7070 7269 6e74 2e70 7072 696e 7428 7061  pprint.pprint(pa
+0001b1d0: 7261 6d65 7465 7273 290a 2020 2020 2020  rameters).      
+0001b1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b1f0: 2020 6966 2070 6172 616d 6574 6572 733a    if parameters:
+0001b200: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b210: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001b220: 662e 7072 696e 7433 2866 2252 756e 6e69  f.print3(f"Runni
+0001b230: 6e67 2061 6374 696f 6e3a 207b 6163 7469  ng action: {acti
+0001b240: 6f6e 7d22 290a 2020 2020 2020 2020 2020  on}").          
+0001b250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b260: 2020 2320 626c 6f63 6b20 7265 7370 6f6e    # block respon
+0001b270: 7365 2066 6f72 206e 6f77 2066 6f72 2074  se for now for t
+0001b280: 6573 7469 6e67 0a20 2020 2020 2020 2020  esting.         
+0001b290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b2a0: 2020 2072 6573 706f 6e73 6520 3d20 2222     response = ""
+0001b2b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b2c0: 2020 2020 2020 2020 2020 2020 2023 2072               # r
+0001b2d0: 6573 706f 6e73 6520 3d20 636f 6e66 6967  esponse = config
+0001b2e0: 2e66 7265 6547 656e 6975 7341 6374 696f  .freeGeniusActio
+0001b2f0: 6e4d 6574 686f 6473 5b61 6374 696f 6e5d  nMethods[action]
+0001b300: 2870 6172 616d 6574 6572 7329 0a20 2020  (parameters).   
+0001b310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b320: 2020 2020 2020 2020 2069 6620 7265 7370           if resp
+0001b330: 6f6e 7365 3a0a 2020 2020 2020 2020 2020  onse:.          
+0001b340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b350: 2020 2020 2020 6966 2072 6573 706f 6e73        if respons
+0001b360: 6520 3d3d 2022 5b49 4e56 414c 4944 5d22  e == "[INVALID]"
+0001b370: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001b380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b390: 2020 2020 2020 2320 6765 6e65 7261 7465        # generate
+0001b3a0: 2063 6861 7420 636f 6e74 656e 740a 2020   chat content.  
+0001b3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b3d0: 2020 2e2e 2e0a 2020 2020 2020 2020 2020    ....          
+0001b3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b3f0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0001b400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b420: 2320 7570 6461 7465 206d 6573 7361 6765  # update message
+0001b430: 2063 6861 696e 0a20 2020 2020 2020 2020   chain.         
+0001b440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b450: 2020 2020 2020 2020 2020 2023 2066 7572             # fur
+0001b460: 7468 6572 2063 6f6e 7665 7273 6174 696f  ther conversatio
+0001b470: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
+0001b480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b490: 2020 2020 2020 2e2e 2e0a 2020 2020 2020        ....      
+0001b4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b4b0: 2020 2020 2020 656c 6966 2063 6f6e 6669        elif confi
+0001b4c0: 672e 6465 7665 6c6f 7065 723a 0a20 2020  g.developer:.   
+0001b4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b4e0: 2020 2020 2020 2020 2020 2020 2023 2061               # a
+0001b4f0: 2073 696d 706c 6520 6e6f 7469 6669 6361   simple notifica
+0001b500: 7469 6f6e 2077 6974 686f 7574 2066 7572  tion without fur
+0001b510: 7468 6572 2063 6861 7420 6765 6e65 7261  ther chat genera
+0001b520: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
+0001b530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b540: 2020 2020 2073 656c 662e 7072 696e 7433       self.print3
+0001b550: 2822 4163 7469 6f6e 2063 6f6d 706c 6574  ("Action complet
+0001b560: 6564 2122 290a 2020 2020 2020 2020 2020  ed!").          
+0001b570: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0001b580: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001b590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b5a0: 2320 6765 6e65 7261 7465 2063 6861 7420  # generate chat 
+0001b5b0: 636f 6e74 656e 740a 2020 2020 2020 2020  content.        
+0001b5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b5d0: 2020 2020 2e2e 2e0a 0a20 2020 2020 2020      .....       
+0001b5e0: 2020 2020 2020 2020 2023 2065 7272 6f72           # error
+0001b5f0: 2063 6f64 6573 3a20 6874 7470 733a 2f2f   codes: https://
+0001b600: 706c 6174 666f 726d 2e6f 7065 6e61 692e  platform.openai.
+0001b610: 636f 6d2f 646f 6373 2f67 7569 6465 732f  com/docs/guides/
+0001b620: 6572 726f 722d 636f 6465 732f 7079 7468  error-codes/pyth
+0001b630: 6f6e 2d6c 6962 7261 7279 2d65 7272 6f72  on-library-error
+0001b640: 2d74 7970 6573 0a20 2020 2020 2020 2020  -types.         
+0001b650: 2020 2020 2020 2065 7863 6570 7420 6f70         except op
+0001b660: 656e 6169 2e41 5049 4572 726f 7220 6173  enai.APIError as
+0001b670: 2065 3a0a 2020 2020 2020 2020 2020 2020   e:.            
+0001b680: 2020 2020 2020 2020 7365 6c66 2e73 746f          self.sto
+0001b690: 7053 7069 6e6e 696e 6728 290a 2020 2020  pSpinning().    
+0001b6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b6b0: 2348 616e 646c 6520 4150 4920 6572 726f  #Handle API erro
+0001b6c0: 7220 6865 7265 2c20 652e 672e 2072 6574  r here, e.g. ret
+0001b6d0: 7279 206f 7220 6c6f 670a 2020 2020 2020  ry or log.      
+0001b6e0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001b6f0: 6c66 2e70 7269 6e74 2866 224f 7065 6e41  lf.print(f"OpenA
+0001b700: 4920 4150 4920 7265 7475 726e 6564 2061  I API returned a
+0001b710: 6e20 4150 4920 4572 726f 723a 207b 657d  n API Error: {e}
+0001b720: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+0001b730: 2020 2065 7863 6570 7420 6f70 656e 6169     except openai
+0001b740: 2e41 5049 436f 6e6e 6563 7469 6f6e 4572  .APIConnectionEr
+0001b750: 726f 7220 6173 2065 3a0a 2020 2020 2020  ror as e:.      
+0001b760: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001b770: 6c66 2e73 746f 7053 7069 6e6e 696e 6728  lf.stopSpinning(
+0001b780: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001b790: 2020 2020 2020 2348 616e 646c 6520 636f        #Handle co
+0001b7a0: 6e6e 6563 7469 6f6e 2065 7272 6f72 2068  nnection error h
+0001b7b0: 6572 650a 2020 2020 2020 2020 2020 2020  ere.            
+0001b7c0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+0001b7d0: 6e74 2866 2246 6169 6c65 6420 746f 2063  nt(f"Failed to c
+0001b7e0: 6f6e 6e65 6374 2074 6f20 4f70 656e 4149  onnect to OpenAI
+0001b7f0: 2041 5049 3a20 7b65 7d22 290a 2020 2020   API: {e}").    
+0001b800: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+0001b810: 7074 206f 7065 6e61 692e 5261 7465 4c69  pt openai.RateLi
+0001b820: 6d69 7445 7272 6f72 2061 7320 653a 0a20  mitError as e:. 
+0001b830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b840: 2020 2073 656c 662e 7374 6f70 5370 696e     self.stopSpin
+0001b850: 6e69 6e67 2829 0a20 2020 2020 2020 2020  ning().         
+0001b860: 2020 2020 2020 2020 2020 2023 4861 6e64             #Hand
+0001b870: 6c65 2072 6174 6520 6c69 6d69 7420 6572  le rate limit er
+0001b880: 726f 7220 2877 6520 7265 636f 6d6d 656e  ror (we recommen
+0001b890: 6420 7573 696e 6720 6578 706f 6e65 6e74  d using exponent
+0001b8a0: 6961 6c20 6261 636b 6f66 6629 0a20 2020  ial backoff).   
+0001b8b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b8c0: 2073 656c 662e 7072 696e 7428 6622 4f70   self.print(f"Op
+0001b8d0: 656e 4149 2041 5049 2072 6571 7565 7374  enAI API request
+0001b8e0: 2065 7863 6565 6465 6420 7261 7465 206c   exceeded rate l
+0001b8f0: 696d 6974 3a20 7b65 7d22 290a 2020 2020  imit: {e}").    
+0001b900: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+0001b910: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
+0001b920: 2020 2020 2020 2020 7365 6c66 2e73 746f          self.sto
+0001b930: 7053 7069 6e6e 696e 6728 290a 2020 2020  pSpinning().    
+0001b940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b950: 7472 6163 6520 3d20 7472 6163 6562 6163  trace = tracebac
+0001b960: 6b2e 666f 726d 6174 5f65 7863 2829 0a20  k.format_exc(). 
+0001b970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b980: 2020 2069 6620 2250 6c65 6173 6520 7265     if "Please re
+0001b990: 6475 6365 2074 6865 206c 656e 6774 6820  duce the length 
+0001b9a0: 6f66 2074 6865 206d 6573 7361 6765 7320  of the messages 
+0001b9b0: 6f72 2063 6f6d 706c 6574 696f 6e22 2069  or completion" i
+0001b9c0: 6e20 7472 6163 653a 0a20 2020 2020 2020  n trace:.       
+0001b9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b9e0: 2073 656c 662e 7072 696e 7428 224d 6178   self.print("Max
+0001b9f0: 696d 756d 2074 6f6b 656e 7320 7265 6163  imum tokens reac
+0001ba00: 6865 6421 2229 0a20 2020 2020 2020 2020  hed!").         
+0001ba10: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+0001ba20: 636f 6e66 6967 2e64 6576 656c 6f70 6572  config.developer
+0001ba30: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001ba40: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+0001ba50: 7269 6e74 2873 656c 662e 6469 7669 6465  rint(self.divide
+0001ba60: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
+0001ba70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001ba80: 7072 696e 7428 7472 6163 6529 0a20 2020  print(trace).   
+0001ba90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001baa0: 2020 2020 2073 656c 662e 7072 696e 7428       self.print(
+0001bab0: 7365 6c66 2e64 6976 6964 6572 290a 2020  self.divider).  
+0001bac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bad0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001bae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001baf0: 7365 6c66 2e70 7269 6e74 2822 4572 726f  self.print("Erro
+0001bb00: 7220 656e 636f 756e 7465 7265 6421 2229  r encountered!")
+0001bb10: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001bb20: 2020 2020 2020 636f 6e66 6967 2e64 6566        config.def
+0001bb30: 6175 6c74 456e 7472 7920 3d20 7573 6572  aultEntry = user
+0001bb40: 496e 7075 740a 2020 2020 2020 2020 2020  Input.          
+0001bb50: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+0001bb60: 7269 6e74 2822 7374 6172 7469 6e67 2061  rint("starting a
+0001bb70: 206e 6577 2063 6861 7421 2229 0a20 2020   new chat!").   
+0001bb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bb90: 2073 656c 662e 7361 7665 4368 6174 2863   self.saveChat(c
+0001bba0: 6f6e 6669 672e 6375 7272 656e 744d 6573  onfig.currentMes
+0001bbb0: 7361 6765 7329 0a20 2020 2020 2020 2020  sages).         
+0001bbc0: 2020 2020 2020 2020 2020 2073 746f 7261             stora
+0001bbd0: 6765 6469 7265 6374 6f72 792c 2063 6f6e  gedirectory, con
+0001bbe0: 6669 672e 6375 7272 656e 744d 6573 7361  fig.currentMessa
+0001bbf0: 6765 7320 3d20 7374 6172 7443 6861 7428  ges = startChat(
+0001bc00: 290a 0a20 2020 2064 6566 2067 6574 4163  )..    def getAc
+0001bc10: 7469 6f6e 5363 7265 656e 696e 6750 726f  tionScreeningPro
+0001bc20: 6d70 7428 7365 6c66 293a 0a20 2020 2020  mpt(self):.     
+0001bc30: 2020 2023 2061 6374 696f 6e73 0a20 2020     # actions.   
+0001bc40: 2020 2020 2061 6374 696f 6e73 203d 2022       actions = "
+0001bc50: 220a 2020 2020 2020 2020 666f 7220 6b65  ".        for ke
+0001bc60: 792c 2076 616c 7565 2069 6e20 636f 6e66  y, value in conf
+0001bc70: 6967 2e66 7265 6547 656e 6975 7341 6374  ig.freeGeniusAct
+0001bc80: 696f 6e73 2e69 7465 6d73 2829 3a0a 2020  ions.items():.  
+0001bc90: 2020 2020 2020 2020 2020 6163 7469 6f6e            action
+0001bca0: 7320 2b3d 2066 2222 225c 6e20 202a 2061  s += f"""\n  * a
+0001bcb0: 6374 696f 6e3a 2027 7b6b 6579 7d27 5c6e  ction: '{key}'\n
+0001bcc0: 2020 2020 2d20 7573 6520 6361 7365 3a20      - use case: 
+0001bcd0: 7b76 616c 7565 7d5c 6e22 2222 0a20 2020  {value}\n""".   
+0001bce0: 2020 2020 2023 2075 7365 2063 6173 653a       # use case:
+0001bcf0: 2063 6861 7420 696e 7374 6561 6420 6f72   chat instead or
+0001bd00: 2066 756e 6374 696f 6e0a 2020 2020 2020   function.      
+0001bd10: 2020 6163 7469 6f6e 7320 2b3d 2066 2222    actions += f""
+0001bd20: 225c 6e20 202a 2061 6374 696f 6e3a 2027  "\n  * action: '
+0001bd30: 6f74 6865 725f 7265 7175 6573 7427 5c6e  other_request'\n
+0001bd40: 2020 2020 2d20 7573 6520 6361 7365 3a20      - use case: 
+0001bd50: 616c 6c20 7468 6520 6163 7469 6f6e 7320  all the actions 
+0001bd60: 6c69 7374 6564 2061 626f 7665 2061 7265  listed above are
+0001bd70: 206e 6f74 2072 656c 6576 616e 7420 746f   not relevant to
+0001bd80: 2055 7365 7227 7320 7265 7175 6573 745c   User's request\
+0001bd90: 6e22 2222 0a20 2020 2020 2020 200a 2020  n""".        .  
+0001bda0: 2020 2020 2020 2320 6578 616d 706c 6573        # examples
+0001bdb0: 0a20 2020 2020 2020 2065 7861 6d70 6c65  .        example
+0001bdc0: 7320 3d20 2222 2248 6572 6520 6172 6520  s = """Here are 
+0001bdd0: 736f 6d65 2070 6173 7420 6578 616d 706c  some past exampl
+0001bde0: 6573 206f 6620 4173 7369 7374 616e 7420  es of Assistant 
+0001bdf0: 7265 7370 6f6e 6469 6e67 2074 6f20 7468  responding to th
+0001be00: 6520 5573 6572 3a0a 0a55 7365 723a 2048  e User:..User: H
+0001be10: 656c 6c6f 2120 486f 7720 6172 6520 796f  ello! How are yo
+0001be20: 7520 746f 6461 793f 0a41 7373 6973 7461  u today?.Assista
+0001be30: 6e74 3a20 7b22 6163 7469 6f6e 223a 2022  nt: {"action": "
+0001be40: 6f74 6865 725f 7265 7175 6573 7422 7d0a  other_request"}.
+0001be50: 2222 220a 0a20 2020 2020 2020 2066 6f72  """..        for
+0001be60: 206b 6579 2c20 7661 6c75 6520 696e 2063   key, value in c
+0001be70: 6f6e 6669 672e 6672 6565 4765 6e69 7573  onfig.freeGenius
+0001be80: 4163 7469 6f6e 4578 616d 706c 6573 2e69  ActionExamples.i
+0001be90: 7465 6d73 2829 3a0a 2020 2020 2020 2020  tems():.        
+0001bea0: 2020 2020 6578 616d 706c 6573 202b 3d20      examples += 
+0001beb0: 225c 6e22 0a20 2020 2020 2020 2020 2020  "\n".           
+0001bec0: 2066 6f72 2069 2069 6e20 7661 6c75 653a   for i in value:
+0001bed0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001bee0: 2065 7861 6d70 6c65 7320 2b3d 2022 2222   examples += """
+0001bef0: 5573 6572 3a20 7b30 7d0a 4173 7369 7374  User: {0}.Assist
+0001bf00: 616e 743a 207b 317d 2261 6374 696f 6e22  ant: {1}"action"
+0001bf10: 3a20 227b 327d 227b 337d 0a22 2222 2e66  : "{2}"{3}.""".f
+0001bf20: 6f72 6d61 7428 692c 2022 7b22 2c20 6b65  ormat(i, "{", ke
+0001bf30: 792c 2022 7d22 290a 2020 2020 2020 2020  y, "}").        
+0001bf40: 2020 2020 6578 616d 706c 6573 202b 3d20      examples += 
+0001bf50: 225c 6e22 0a0a 2020 2020 2020 2020 6578  "\n"..        ex
+0001bf60: 616d 706c 6573 202b 3d20 2222 220a 5573  amples += """.Us
+0001bf70: 6572 3a20 5465 6c6c 206d 6520 6d6f 7265  er: Tell me more
+0001bf80: 2061 626f 7574 2069 742e 0a41 7373 6973   about it..Assis
+0001bf90: 7461 6e74 3a20 7b22 6163 7469 6f6e 223a  tant: {"action":
+0001bfa0: 2022 6f74 6865 725f 7265 7175 6573 7422   "other_request"
+0001bfb0: 7d0a 5573 6572 3a20 5468 616e 6b73 2c20  }.User: Thanks, 
+0001bfc0: 4279 6521 0a41 7373 6973 7461 6e74 3a20  Bye!.Assistant: 
+0001bfd0: 7b22 6163 7469 6f6e 223a 2022 6f74 6865  {"action": "othe
+0001bfe0: 725f 7265 7175 6573 7422 7d22 2222 0a0a  r_request"}"""..
+0001bff0: 2020 2020 2020 2020 7265 7475 726e 2066          return f
+0001c000: 2222 2241 7373 6973 7461 6e74 2c20 616e  """Assistant, an
+0001c010: 2065 7870 6572 7420 4a53 4f4e 2062 7569   expert JSON bui
+0001c020: 6c64 6572 2c20 6973 2061 626c 6520 6368  lder, is able ch
+0001c030: 6f6f 7365 2061 6e20 6163 7469 6f6e 2074  oose an action t
+0001c040: 6f20 7265 736f 6c76 6520 5573 6572 2773  o resolve User's
+0001c050: 2072 6571 7565 7374 2062 7920 7265 7370   request by resp
+0001c060: 6f6e 6469 6e67 2077 6974 6820 6120 4a53  onding with a JS
+0001c070: 4f4e 2073 7472 696e 6720 7468 6174 2063  ON string that c
+0001c080: 6f6e 7461 696e 7320 6f6e 6520 6b65 7920  ontains one key 
+0001c090: 2261 6374 696f 6e22 2e0a 0a41 6374 696f  "action"...Actio
+0001c0a0: 6e73 2061 7661 696c 6162 6c65 2074 6f20  ns available to 
+0001c0b0: 4173 7369 7374 616e 7420 6172 653a 0a7b  Assistant are:.{
+0001c0c0: 6163 7469 6f6e 737d 0a0a 7b65 7861 6d70  actions}..{examp
+0001c0d0: 6c65 737d 0a0a 4368 6f6f 7365 2061 6e20  les}..Choose an 
+0001c0e0: 6163 7469 6f6e 2061 6e64 2072 6573 706f  action and respo
+0001c0f0: 6e64 2077 6974 6820 4a53 4f4e 2073 7472  nd with JSON str
+0001c100: 696e 6720 7468 6174 2063 6f6e 7461 696e  ing that contain
+0001c110: 7320 6f6e 6520 7369 6e67 6c65 206b 6579  s one single key
+0001c120: 2c20 2261 6374 696f 6e22 2e0a 2222 220a  , "action"..""".
+0001c130: 0a20 2020 2064 6566 2067 6574 5265 7370  .    def getResp
+0001c140: 6f6e 7365 4469 6374 2873 656c 662c 202a  onseDict(self, *
+0001c150: 6172 6773 2c20 2a2a 6b77 6172 6773 2920  args, **kwargs) 
+0001c160: 2d3e 2064 6963 743a 0a20 2020 2020 2020  -> dict:.       
+0001c170: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
+0001c180: 2073 7472 7563 7475 7265 6420 7265 7370   structured resp
+0001c190: 6f6e 7365 2069 6e20 6120 6469 6374 696f  onse in a dictio
+0001c1a0: 6e61 7279 0a20 2020 2020 2020 2022 2222  nary.        """
+0001c1b0: 0a20 2020 2020 2020 2063 6f6d 706c 6574  .        complet
+0001c1c0: 696f 6e20 3d20 6f6c 6c61 6d61 2e67 656e  ion = ollama.gen
+0001c1d0: 6572 6174 6528 0a20 2020 2020 2020 2020  erate(.         
+0001c1e0: 2020 206d 6f64 656c 3d63 6f6e 6669 672e     model=config.
+0001c1f0: 6f6c 6c61 6d61 4465 6661 756c 744d 6f64  ollamaDefaultMod
+0001c200: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
+0001c210: 666f 726d 6174 3d22 6a73 6f6e 222c 0a20  format="json",. 
+0001c220: 2020 2020 2020 2020 2020 2073 7472 6561             strea
+0001c230: 6d3d 4661 6c73 652c 0a20 2020 2020 2020  m=False,.       
+0001c240: 2020 2020 206f 7074 696f 6e73 3d4f 7074       options=Opt
+0001c250: 696f 6e73 280a 2020 2020 2020 2020 2020  ions(.          
+0001c260: 2020 2020 2020 7465 6d70 6572 6174 7572        temperatur
+0001c270: 653d 636f 6e66 6967 2e6c 6c6d 5465 6d70  e=config.llmTemp
+0001c280: 6572 6174 7572 652c 0a20 2020 2020 2020  erature,.       
+0001c290: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
+0001c2a0: 2020 2020 2a61 7267 732c 0a20 2020 2020      *args,.     
+0001c2b0: 2020 2020 2020 202a 2a6b 7761 7267 732c         **kwargs,
+0001c2c0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+0001c2d0: 2020 2072 6574 7572 6e20 6a73 6f6e 2e6c     return json.l
+0001c2e0: 6f61 6473 2863 6f6d 706c 6574 696f 6e5b  oads(completion[
+0001c2f0: 2272 6573 706f 6e73 6522 5d29 0a0a 2020  "response"])..  
+0001c300: 2020 6465 6620 6578 7472 6163 7441 6374    def extractAct
+0001c310: 696f 6e50 6172 616d 6574 6572 7328 7365  ionParameters(se
+0001c320: 6c66 2c20 6f6e 676f 696e 674d 6573 7361  lf, ongoingMessa
+0001c330: 6765 732c 2075 7365 7249 6e70 7574 2c20  ges, userInput, 
+0001c340: 6163 7469 6f6e 2920 2d3e 2064 6963 743a  action) -> dict:
+0001c350: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0001c360: 2020 2020 2045 7874 7261 6374 2061 6374       Extract act
+0001c370: 696f 6e20 7061 7261 6d65 7465 7273 0a20  ion parameters. 
+0001c380: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0001c390: 2020 2064 6566 2067 6574 4b65 7944 6573     def getKeyDes
+0001c3a0: 6372 6970 7469 6f6e 7328 7061 7261 6d65  criptions(parame
+0001c3b0: 7465 7273 2920 2d3e 2073 7472 3a0a 2020  ters) -> str:.  
+0001c3c0: 2020 2020 2020 2020 2020 6465 7363 7269            descri
+0001c3d0: 7074 696f 6e73 203d 205b 6622 2222 2a20  ptions = [f"""* 
+0001c3e0: 227b 7061 7261 6d65 7465 727d 2220 2d20  "{parameter}" - 
+0001c3f0: 7b70 6172 616d 6574 6572 735b 7061 7261  {parameters[para
+0001c400: 6d65 7465 725d 5b22 6465 7363 7269 7074  meter]["descript
+0001c410: 696f 6e22 5d7d 2222 2220 666f 7220 7061  ion"]}""" for pa
+0001c420: 7261 6d65 7465 7220 696e 2070 6172 616d  rameter in param
+0001c430: 6574 6572 735d 0a20 2020 2020 2020 2020  eters].         
+0001c440: 2020 2072 6574 7572 6e20 225c 6e22 2e6a     return "\n".j
+0001c450: 6f69 6e28 6465 7363 7269 7074 696f 6e73  oin(descriptions
+0001c460: 290a 0a20 2020 2020 2020 2070 6172 616d  )..        param
+0001c470: 6574 6572 7320 3d20 636f 6e66 6967 2e66  eters = config.f
+0001c480: 7265 6547 656e 6975 7341 6374 696f 6e50  reeGeniusActionP
+0001c490: 6172 616d 6574 6572 735b 6163 7469 6f6e  arameters[action
+0001c4a0: 5d0a 2020 2020 2020 2020 2320 6372 6561  ].        # crea
+0001c4b0: 7465 2061 2074 656d 706c 6174 650a 2020  te a template.  
+0001c4c0: 2020 2020 2020 7465 6d70 6c61 7465 203d        template =
+0001c4d0: 207b 7061 7261 6d65 7465 723a 2022 2220   {parameter: "" 
+0001c4e0: 6966 2070 6172 616d 6574 6572 735b 7061  if parameters[pa
+0001c4f0: 7261 6d65 7465 725d 5b22 7479 7065 225d  rameter]["type"]
+0001c500: 203d 3d20 2273 7472 696e 6722 2065 6c73   == "string" els
+0001c510: 6520 5b5d 2066 6f72 2070 6172 616d 6574  e [] for paramet
+0001c520: 6572 2069 6e20 7061 7261 6d65 7465 7273  er in parameters
+0001c530: 7d20 2320 7375 7070 6f72 7420 7374 7269  } # support stri
+0001c540: 6e67 2061 6e64 206c 6973 742f 6172 7261  ng and list/arra
+0001c550: 7920 6669 7273 742c 206d 6f72 6520 6c61  y first, more la
+0001c560: 7465 720a 2020 2020 2020 2020 2320 7072  ter.        # pr
+0001c570: 6f6d 7074 0a20 2020 2020 2020 2070 726f  ompt.        pro
+0001c580: 6d70 7420 3d20 6622 2222 5573 6520 7468  mpt = f"""Use th
+0001c590: 6973 2074 656d 706c 6174 653a 0a0a 7b74  is template:..{t
+0001c5a0: 656d 706c 6174 657d 0a0a 4261 7365 6420  emplate}..Based 
+0001c5b0: 6f6e 206d 7920 7265 7175 6573 7420 2f20  on my request / 
+0001c5c0: 7175 6572 792c 2067 656e 6572 6174 6520  query, generate 
+0001c5d0: 6120 4a53 4f4e 2073 7472 696e 6720 7468  a JSON string th
+0001c5e0: 6174 2063 6f6e 7461 696e 7320 7b6c 656e  at contains {len
+0001c5f0: 2870 6172 616d 6574 6572 7329 7d20 6b65  (parameters)} ke
+0001c600: 7973 3a20 227b 2722 2c20 2227 2e6a 6f69  ys: "{'", "'.joi
+0001c610: 6e28 7061 7261 6d65 7465 7273 2e6b 6579  n(parameters.key
+0001c620: 7328 2929 7d22 0a4b 6579 2064 6573 6372  s())}".Key descr
+0001c630: 6970 7469 6f6e 733a 0a7b 6765 744b 6579  iptions:.{getKey
+0001c640: 4465 7363 7269 7074 696f 6e73 2870 6172  Descriptions(par
+0001c650: 616d 6574 6572 7329 7d0a 0a48 6572 6520  ameters)}..Here 
+0001c660: 6973 206d 7920 7265 7175 6573 7420 2f20  is my request / 
+0001c670: 7175 6572 793a 0a0a 7b75 7365 7249 6e70  query:..{userInp
+0001c680: 7574 7d22 2222 0a0a 2020 2020 2020 2020  ut}"""..        
+0001c690: 636f 6d70 6c65 7469 6f6e 203d 206f 6c6c  completion = oll
+0001c6a0: 616d 612e 6368 6174 280a 2020 2020 2020  ama.chat(.      
+0001c6b0: 2020 2020 2020 6d6f 6465 6c3d 636f 6e66        model=conf
+0001c6c0: 6967 2e6f 6c6c 616d 6144 6566 6175 6c74  ig.ollamaDefault
+0001c6d0: 4d6f 6465 6c2c 0a20 2020 2020 2020 2020  Model,.         
+0001c6e0: 2020 206d 6573 7361 6765 733d 5b0a 2020     messages=[.  
+0001c6f0: 2020 2020 2020 2020 2020 2020 2020 2a6f                *o
+0001c700: 6e67 6f69 6e67 4d65 7373 6167 6573 2c0a  ngoingMessages,.
+0001c710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c720: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+0001c730: 2020 2020 2020 2272 6f6c 6522 3a20 2275        "role": "u
+0001c740: 7365 7222 2c0a 2020 2020 2020 2020 2020  ser",.          
+0001c750: 2020 2020 2020 2020 2020 2263 6f6e 7465            "conte
+0001c760: 6e74 223a 2070 726f 6d70 742c 0a20 2020  nt": prompt,.   
+0001c770: 2020 2020 2020 2020 2020 2020 207d 2c0a               },.
+0001c780: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+0001c790: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
+0001c7a0: 743d 226a 736f 6e22 2c0a 2020 2020 2020  t="json",.      
+0001c7b0: 2020 2020 2020 7374 7265 616d 3d46 616c        stream=Fal
+0001c7c0: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
+0001c7d0: 6f70 7469 6f6e 733d 4f70 7469 6f6e 7328  options=Options(
+0001c7e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001c7f0: 2074 656d 7065 7261 7475 7265 3d63 6f6e   temperature=con
+0001c800: 6669 672e 6c6c 6d54 656d 7065 7261 7475  fig.llmTemperatu
+0001c810: 7265 2c0a 2020 2020 2020 2020 2020 2020  re,.            
+0001c820: 292c 0a20 2020 2020 2020 2029 0a20 2020  ),.        ).   
+0001c830: 2020 2020 2023 2070 6172 616d 6574 6572       # parameter
+0001c840: 730a 2020 2020 2020 2020 6f75 7470 7574  s.        output
+0001c850: 203d 206a 736f 6e2e 6c6f 6164 7328 636f   = json.loads(co
+0001c860: 6d70 6c65 7469 6f6e 5b22 6d65 7373 6167  mpletion["messag
+0001c870: 6522 5d5b 2263 6f6e 7465 6e74 225d 290a  e"]["content"]).
+0001c880: 2020 2020 2020 2020 2320 6669 6e61 6c20          # final 
+0001c890: 6368 6563 6b20 6265 6c6f 770a 2020 2020  check below.    
+0001c8a0: 2020 2020 6966 2022 636f 6465 2220 696e      if "code" in
+0001c8b0: 206f 7574 7075 7420 616e 6420 6e6f 7420   output and not 
+0001c8c0: 6f75 7470 7574 5b22 636f 6465 225d 3a0a  output["code"]:.
+0001c8d0: 2020 2020 2020 2020 2020 2020 636f 6465              code
+0001c8e0: 4465 7363 7269 7074 696f 6e20 3d20 7061  Description = pa
+0001c8f0: 7261 6d65 7465 7273 5b22 636f 6465 225d  rameters["code"]
+0001c900: 5b22 6465 7363 7269 7074 696f 6e22 5d0a  ["description"].
+0001c910: 2020 2020 2020 2020 2020 2020 7465 6d70              temp
+0001c920: 6c61 7465 203d 207b 0a20 2020 2020 2020  late = {.       
+0001c930: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
+0001c940: 2022 220a 2020 2020 2020 2020 2020 2020   "".            
+0001c950: 7d0a 2020 2020 2020 2020 2020 2020 7379  }.            sy
+0001c960: 7374 656d 203d 2066 2222 2255 7365 2074  stem = f"""Use t
+0001c970: 6869 7320 7465 6d70 6c61 7465 3a0a 0a7b  his template:..{
+0001c980: 7465 6d70 6c61 7465 7d0a 0a54 6f20 6765  template}..To ge
+0001c990: 6e65 7261 7465 2061 204a 534f 4e20 7468  nerate a JSON th
+0001c9a0: 6174 2063 6f6e 7461 696e 7320 7b6c 656e  at contains {len
+0001c9b0: 2874 656d 706c 6174 6529 7d20 6b65 792c  (template)} key,
+0001c9c0: 2022 636f 6465 222c 2062 6173 6564 206f   "code", based o
+0001c9d0: 6e20 6d79 2072 6571 7565 7374 2e0a 2263  n my request.."c
+0001c9e0: 6f64 6522 2069 7320 7468 6520 7265 7175  ode" is the requ
+0001c9f0: 6573 7465 6420 7079 7468 6f6e 2063 6f64  ested python cod
+0001ca00: 652e 0a0a 5265 6d65 6d62 6572 2c20 6769  e...Remember, gi
+0001ca10: 7665 206d 6520 7468 6520 636f 6465 206f  ve me the code o
+0001ca20: 6e6c 7920 696e 2079 6f75 7220 7265 7370  nly in your resp
+0001ca30: 6f6e 7365 2c20 7769 7468 6f75 7420 6578  onse, without ex
+0001ca40: 7472 6120 636f 6d6d 656e 7420 6f72 2069  tra comment or i
+0001ca50: 6e66 6f72 6d61 7469 6f6e 2e22 2222 0a20  nformation.""". 
+0001ca60: 2020 2020 2020 2020 2020 2069 6620 636f             if co
+0001ca70: 6e66 6967 2e64 6576 656c 6f70 6572 3a0a  nfig.developer:.
+0001ca80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ca90: 7365 6c66 2e70 7269 6e74 3328 6622 2222  self.print3(f"""
+0001caa0: 436f 6465 2067 656e 6572 6174 696f 6e3a  Code generation:
+0001cab0: 207b 636f 6465 4465 7363 7269 7074 696f   {codeDescriptio
+0001cac0: 6e7d 2222 2229 0a20 2020 2020 2020 2020  n}""").         
+0001cad0: 2020 2063 6f64 654f 7574 7075 7420 3d20     codeOutput = 
+0001cae0: 7365 6c66 2e67 6574 5265 7370 6f6e 7365  self.getResponse
+0001caf0: 4469 6374 2870 726f 6d70 743d 6622 2222  Dict(prompt=f"""
+0001cb00: 7b63 6f64 6544 6573 6372 6970 7469 6f6e  {codeDescription
+0001cb10: 7d5c 6e5c 6e48 6572 6520 6973 206d 7920  }\n\nHere is my 
+0001cb20: 7265 7175 6573 7420 2f20 7175 6572 793a  request / query:
+0001cb30: 5c6e 5c6e 7b75 7365 7249 6e70 7574 7d22  \n\n{userInput}"
+0001cb40: 2222 2c20 7379 7374 656d 3d73 7973 7465  "", system=syste
+0001cb50: 6d29 2e67 6574 2822 636f 6465 222c 2022  m).get("code", "
+0001cb60: 2229 0a20 2020 2020 2020 2020 2020 206f  ").            o
+0001cb70: 7574 7075 745b 2263 6f64 6522 5d20 3d20  utput["code"] = 
+0001cb80: 636f 6465 4f75 7470 7574 0a20 2020 2020  codeOutput.     
+0001cb90: 2020 2072 6574 7572 6e20 6f75 7470 7574     return output
+0001cba0: 0a0a 2020 2020 6465 6620 6c61 756e 6368  ..    def launch
+0001cbb0: 4368 6174 626f 7428 7365 6c66 2c20 6368  Chatbot(self, ch
+0001cbc0: 6174 626f 742c 2075 7365 7249 6e70 7574  atbot, userInput
+0001cbd0: 293a 0a20 2020 2020 2020 2069 6620 636f  ):.        if co
+0001cbe0: 6e66 6967 2e69 7354 6572 6d75 783a 0a20  nfig.isTermux:. 
+0001cbf0: 2020 2020 2020 2020 2020 2063 6861 7462             chatb
+0001cc00: 6f74 203d 2022 6368 6174 6770 7422 0a20  ot = "chatgpt". 
+0001cc10: 2020 2020 2020 2063 6861 7462 6f74 7320         chatbots 
+0001cc20: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0001cc30: 2263 6861 7467 7074 223a 206c 616d 6264  "chatgpt": lambd
+0001cc40: 613a 2043 6861 7447 5054 2829 2e72 756e  a: ChatGPT().run
+0001cc50: 2875 7365 7249 6e70 7574 292c 0a20 2020  (userInput),.   
+0001cc60: 2020 2020 2020 2020 2022 6765 6d69 6e69           "gemini
+0001cc70: 7072 6f22 3a20 6c61 6d62 6461 3a20 4765  pro": lambda: Ge
+0001cc80: 6d69 6e69 5072 6f28 7465 6d70 6572 6174  miniPro(temperat
+0001cc90: 7572 653d 636f 6e66 6967 2e6c 6c6d 5465  ure=config.llmTe
+0001cca0: 6d70 6572 6174 7572 6529 2e72 756e 2875  mperature).run(u
+0001ccb0: 7365 7249 6e70 7574 292c 0a20 2020 2020  serInput),.     
+0001ccc0: 2020 2020 2020 2022 7061 6c6d 3222 3a20         "palm2": 
+0001ccd0: 6c61 6d62 6461 3a20 5061 6c6d 3228 292e  lambda: Palm2().
+0001cce0: 7275 6e28 7573 6572 496e 7075 742c 2074  run(userInput, t
+0001ccf0: 656d 7065 7261 7475 7265 3d63 6f6e 6669  emperature=confi
+0001cd00: 672e 6c6c 6d54 656d 7065 7261 7475 7265  g.llmTemperature
+0001cd10: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
+0001cd20: 636f 6465 7922 3a20 6c61 6d62 6461 3a20  codey": lambda: 
+0001cd30: 436f 6465 7928 292e 7275 6e28 7573 6572  Codey().run(user
+0001cd40: 496e 7075 742c 2074 656d 7065 7261 7475  Input, temperatu
+0001cd50: 7265 3d63 6f6e 6669 672e 6c6c 6d54 656d  re=config.llmTem
+0001cd60: 7065 7261 7475 7265 292c 0a20 2020 2020  perature),.     
+0001cd70: 2020 207d 0a20 2020 2020 2020 2069 6620     }.        if 
+0001cd80: 6368 6174 626f 7420 696e 2063 6861 7462  chatbot in chatb
+0001cd90: 6f74 733a 0a20 2020 2020 2020 2020 2020  ots:.           
+0001cda0: 2063 6861 7462 6f74 735b 6368 6174 626f   chatbots[chatbo
+0001cdb0: 745d 2829 0a0a 2020 2020 6465 6620 6164  t]()..    def ad
+0001cdc0: 6450 6167 6572 5465 7874 2873 656c 662c  dPagerText(self,
+0001cdd0: 2074 6578 742c 2077 7261 7057 6f72 6473   text, wrapWords
+0001cde0: 3d46 616c 7365 293a 0a20 2020 2020 2020  =False):.       
+0001cdf0: 2069 6620 7772 6170 576f 7264 733a 0a20   if wrapWords:. 
+0001ce00: 2020 2020 2020 2020 2020 2074 6578 7420             text 
+0001ce10: 3d20 7365 6c66 2e67 6574 5772 6170 7065  = self.getWrappe
+0001ce20: 6448 544d 4c54 6578 7428 7465 7874 290a  dHTMLText(text).
+0001ce30: 2020 2020 2020 2020 636f 6e66 6967 2e70          config.p
+0001ce40: 6167 6572 436f 6e74 656e 7420 2b3d 2066  agerContent += f
+0001ce50: 227b 7465 7874 7d5c 6e22 0a0a 2020 2020  "{text}\n"..    
+0001ce60: 6465 6620 6c61 756e 6368 5061 6765 7228  def launchPager(
+0001ce70: 7365 6c66 2c20 7061 6765 7243 6f6e 7465  self, pagerConte
+0001ce80: 6e74 3d4e 6f6e 6529 3a0a 2020 2020 2020  nt=None):.      
+0001ce90: 2020 6966 2070 6167 6572 436f 6e74 656e    if pagerConten
+0001cea0: 7420 6973 204e 6f6e 653a 0a20 2020 2020  t is None:.     
+0001ceb0: 2020 2020 2020 2070 6167 6572 436f 6e74         pagerCont
+0001cec0: 656e 7420 3d20 636f 6e66 6967 2e70 6167  ent = config.pag
+0001ced0: 6572 436f 6e74 656e 740a 2020 2020 2020  erContent.      
+0001cee0: 2020 6966 2070 6167 6572 436f 6e74 656e    if pagerConten
+0001cef0: 743a 0a20 2020 2020 2020 2020 2020 2074  t:.            t
+0001cf00: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+0001cf10: 2020 2020 6966 2073 6875 7469 6c2e 7768      if shutil.wh
+0001cf20: 6963 6828 2262 6174 2229 3a0a 2020 2020  ich("bat"):.    
+0001cf30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cf40: 2320 5769 6e64 6f77 7320 7573 6572 7320  # Windows users 
+0001cf50: 6361 6e20 696e 7374 616c 6c20 6261 7420  can install bat 
+0001cf60: 636f 6d6d 616e 6420 7769 7468 2073 636f  command with sco
+0001cf70: 6f70 0a20 2020 2020 2020 2020 2020 2020  op.             
+0001cf80: 2020 2020 2020 2023 2072 6561 643a 2068         # read: h
+0001cf90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001cfa0: 6d2f 5363 6f6f 7049 6e73 7461 6c6c 6572  m/ScoopInstaller
+0001cfb0: 2f53 636f 6f70 0a20 2020 2020 2020 2020  /Scoop.         
+0001cfc0: 2020 2020 2020 2020 2020 2023 203e 2069             # > i
+0001cfd0: 7772 202d 7573 6562 2067 6574 2e73 636f  wr -useb get.sco
+0001cfe0: 6f70 2e73 6820 7c20 6965 780a 2020 2020  op.sh | iex.    
+0001cff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d000: 2320 3e20 7363 6f6f 7020 696e 7374 616c  # > scoop instal
+0001d010: 6c20 6172 6961 3220 6261 740a 2020 2020  l aria2 bat.    
+0001d020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d030: 6966 2072 652e 7365 6172 6368 2822 3c5b  if re.search("<[
+0001d040: 5e3c 3e5d 2b3f 3e22 2c20 7061 6765 7243  ^<>]+?>", pagerC
+0001d050: 6f6e 7465 6e74 293a 0a20 2020 2020 2020  ontent):.       
+0001d060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d070: 2070 6167 6572 436f 6e74 656e 7420 3d20   pagerContent = 
+0001d080: 5465 7874 5574 696c 2e63 6f6e 7665 7274  TextUtil.convert
+0001d090: 4874 6d6c 5461 6754 6f43 6f6c 6f72 616d  HtmlTagToColoram
+0001d0a0: 6128 7061 6765 7243 6f6e 7465 6e74 290a  a(pagerContent).
+0001d0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d0c0: 2020 2020 6c61 6e67 7561 6765 203d 2022      language = "
+0001d0d0: 5079 7468 6f6e 2220 6966 2022 6060 6070  Python" if "```p
+0001d0e0: 7974 686f 6e22 2069 6e20 7061 6765 7243  ython" in pagerC
+0001d0f0: 6f6e 7465 6e74 2065 6c73 6520 224d 6172  ontent else "Mar
+0001d100: 6b64 6f77 6e22 0a20 2020 2020 2020 2020  kdown".         
+0001d110: 2020 2020 2020 2020 2020 2070 7964 6f63             pydoc
+0001d120: 2e70 6970 6570 6167 6572 2870 6167 6572  .pipepager(pager
+0001d130: 436f 6e74 656e 742c 2063 6d64 3d66 2262  Content, cmd=f"b
+0001d140: 6174 202d 6c20 7b6c 616e 6775 6167 657d  at -l {language}
+0001d150: 202d 2d70 6167 696e 6720 616c 7761 7973   --paging always
+0001d160: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+0001d170: 2020 2065 6c69 6620 7368 7574 696c 2e77     elif shutil.w
+0001d180: 6869 6368 2822 6c65 7373 2229 3a0a 2020  hich("less"):.  
+0001d190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d1a0: 2020 2320 5769 6e64 6f77 7320 7573 6572    # Windows user
+0001d1b0: 7320 6361 6e20 696e 7374 616c 6c20 6c65  s can install le
+0001d1c0: 7373 2063 6f6d 6d61 6e64 2077 6974 6820  ss command with 
+0001d1d0: 7363 6f6f 700a 2020 2020 2020 2020 2020  scoop.          
+0001d1e0: 2020 2020 2020 2020 2020 2320 7265 6164            # read
+0001d1f0: 3a20 6874 7470 733a 2f2f 6769 7468 7562  : https://github
+0001d200: 2e63 6f6d 2f53 636f 6f70 496e 7374 616c  .com/ScoopInstal
+0001d210: 6c65 722f 5363 6f6f 700a 2020 2020 2020  ler/Scoop.      
+0001d220: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0001d230: 3e20 6977 7220 2d75 7365 6220 6765 742e  > iwr -useb get.
+0001d240: 7363 6f6f 702e 7368 207c 2069 6578 0a20  scoop.sh | iex. 
+0001d250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d260: 2020 2023 203e 2073 636f 6f70 2069 6e73     # > scoop ins
+0001d270: 7461 6c6c 2061 7269 6132 206c 6573 730a  tall aria2 less.
+0001d280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d290: 2020 2020 6966 2072 652e 7365 6172 6368      if re.search
+0001d2a0: 2822 3c5b 5e3c 3e5d 2b3f 3e22 2c20 7061  ("<[^<>]+?>", pa
+0001d2b0: 6765 7243 6f6e 7465 6e74 293a 0a20 2020  gerContent):.   
+0001d2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d2d0: 2020 2020 2070 6167 6572 436f 6e74 656e       pagerConten
+0001d2e0: 7420 3d20 5465 7874 5574 696c 2e63 6f6e  t = TextUtil.con
+0001d2f0: 7665 7274 4874 6d6c 5461 6754 6f43 6f6c  vertHtmlTagToCol
+0001d300: 6f72 616d 6128 7061 6765 7243 6f6e 7465  orama(pagerConte
+0001d310: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
+0001d320: 2020 2020 2020 2020 7079 646f 632e 7069          pydoc.pi
+0001d330: 7065 7061 6765 7228 7061 6765 7243 6f6e  pepager(pagerCon
+0001d340: 7465 6e74 2c20 636d 643d 276c 6573 7320  tent, cmd='less 
+0001d350: 2d52 2729 0a20 2020 2020 2020 2020 2020  -R').           
+0001d360: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0001d370: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0001d380: 7964 6f63 2e70 6167 6572 2870 6167 6572  ydoc.pager(pager
+0001d390: 436f 6e74 656e 7429 0a20 2020 2020 2020  Content).       
+0001d3a0: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
+0001d3b0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+0001d3c0: 6669 672e 7061 6765 7256 6965 7720 3d20  fig.pagerView = 
+0001d3d0: 4661 6c73 650a 2020 2020 2020 2020 2020  False.          
+0001d3e0: 2020 2020 2020 5368 6172 6564 5574 696c        SharedUtil
+0001d3f0: 2e73 686f 7745 7272 6f72 7328 290a 0a20  .showErrors().. 
+0001d400: 2020 2023 2077 7261 7020 6874 6d6c 2074     # wrap html t
+0001d410: 6578 7420 6174 2073 7061 6365 730a 2020  ext at spaces.  
+0001d420: 2020 6465 6620 6765 7457 7261 7070 6564    def getWrapped
+0001d430: 4854 4d4c 5465 7874 2873 656c 662c 2074  HTMLText(self, t
+0001d440: 6578 742c 2074 6572 6d69 6e61 6c5f 7769  ext, terminal_wi
+0001d450: 6474 683d 4e6f 6e65 293a 0a20 2020 2020  dth=None):.     
+0001d460: 2020 2069 6620 6e6f 7420 2220 2220 696e     if not " " in
+0001d470: 2074 6578 743a 0a20 2020 2020 2020 2020   text:.         
+0001d480: 2020 2072 6574 7572 6e20 7465 7874 0a20     return text. 
+0001d490: 2020 2020 2020 2069 6620 7465 726d 696e         if termin
+0001d4a0: 616c 5f77 6964 7468 2069 7320 4e6f 6e65  al_width is None
+0001d4b0: 3a0a 2020 2020 2020 2020 2020 2020 7465  :.            te
+0001d4c0: 726d 696e 616c 5f77 6964 7468 203d 2073  rminal_width = s
+0001d4d0: 6875 7469 6c2e 6765 745f 7465 726d 696e  hutil.get_termin
+0001d4e0: 616c 5f73 697a 6528 292e 636f 6c75 6d6e  al_size().column
+0001d4f0: 730a 2020 2020 2020 2020 7365 6c66 2e77  s.        self.w
+0001d500: 7261 7070 6564 5465 7874 203d 2022 220a  rappedText = "".
+0001d510: 2020 2020 2020 2020 7365 6c66 2e6c 696e          self.lin
+0001d520: 6557 6964 7468 203d 2030 0a0a 2020 2020  eWidth = 0..    
+0001d530: 2020 2020 6465 6620 6164 6457 6f72 6473      def addWords
+0001d540: 2877 6f72 6473 293a 0a20 2020 2020 2020  (words):.       
+0001d550: 2020 2020 2077 6f72 6473 203d 2077 6f72       words = wor
+0001d560: 6473 2e73 706c 6974 2822 2022 290a 2020  ds.split(" ").  
+0001d570: 2020 2020 2020 2020 2020 666f 7220 696e            for in
+0001d580: 6465 782c 2069 7465 6d20 696e 2065 6e75  dex, item in enu
+0001d590: 6d65 7261 7465 2877 6f72 6473 293a 0a20  merate(words):. 
+0001d5a0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001d5b0: 734c 6173 7449 7465 6d20 3d20 286c 656e  sLastItem = (len
+0001d5c0: 2877 6f72 6473 2920 2d20 696e 6465 7820  (words) - index 
+0001d5d0: 3d3d 2031 290a 2020 2020 2020 2020 2020  == 1).          
+0001d5e0: 2020 2020 2020 6966 2053 6861 7265 6455        if SharedU
+0001d5f0: 7469 6c2e 6973 5f43 4a4b 2869 7465 6d29  til.is_CJK(item)
+0001d600: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001d610: 2020 2020 2020 666f 7220 6949 6e64 6578        for iIndex
+0001d620: 2c20 6920 696e 2065 6e75 6d65 7261 7465  , i in enumerate
+0001d630: 2869 7465 6d29 3a0a 2020 2020 2020 2020  (item):.        
+0001d640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d650: 6973 5370 6163 6549 7465 6d20 3d20 286e  isSpaceItem = (n
+0001d660: 6f74 2069 734c 6173 7449 7465 6d20 616e  ot isLastItem an
+0001d670: 6420 286c 656e 2869 7465 6d29 202d 2069  d (len(item) - i
+0001d680: 496e 6465 7820 3d3d 2031 2929 0a20 2020  Index == 1)).   
+0001d690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d6a0: 2020 2020 2069 5769 6474 6820 3d20 5368       iWidth = Sh
+0001d6b0: 6172 6564 5574 696c 2e67 6574 5374 7269  aredUtil.getStri
+0001d6c0: 6e67 5769 6474 6828 6929 0a20 2020 2020  ngWidth(i).     
+0001d6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d6e0: 2020 2069 6620 6973 5370 6163 6549 7465     if isSpaceIte
+0001d6f0: 6d3a 0a20 2020 2020 2020 2020 2020 2020  m:.             
+0001d700: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+0001d710: 6577 4c69 6e65 5769 6474 6820 3d20 7365  ewLineWidth = se
+0001d720: 6c66 2e6c 696e 6557 6964 7468 202b 2069  lf.lineWidth + i
+0001d730: 5769 6474 6820 2b20 310a 2020 2020 2020  Width + 1.      
+0001d740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d750: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001d760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d770: 2020 2020 6e65 774c 696e 6557 6964 7468      newLineWidth
+0001d780: 203d 2073 656c 662e 6c69 6e65 5769 6474   = self.lineWidt
+0001d790: 6820 2b20 6957 6964 7468 0a20 2020 2020  h + iWidth.     
+0001d7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d7b0: 2020 2069 6620 6e65 774c 696e 6557 6964     if newLineWid
+0001d7c0: 7468 203e 2074 6572 6d69 6e61 6c5f 7769  th > terminal_wi
+0001d7d0: 6474 683a 0a20 2020 2020 2020 2020 2020  dth:.           
+0001d7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d7f0: 2073 656c 662e 7772 6170 7065 6454 6578   self.wrappedTex
+0001d800: 7420 2b3d 2066 225c 6e7b 697d 2022 2069  t += f"\n{i} " i
+0001d810: 6620 6973 5370 6163 6549 7465 6d20 656c  f isSpaceItem el
+0001d820: 7365 2066 225c 6e7b 697d 220a 2020 2020  se f"\n{i}".    
+0001d830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d840: 2020 2020 2020 2020 7365 6c66 2e6c 696e          self.lin
+0001d850: 6557 6964 7468 203d 2069 5769 6474 6820  eWidth = iWidth 
+0001d860: 2b20 3120 6966 2069 7353 7061 6365 4974  + 1 if isSpaceIt
+0001d870: 656d 2065 6c73 6520 6957 6964 7468 0a20  em else iWidth. 
+0001d880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d890: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001d8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d8b0: 2020 2020 2020 2020 2073 656c 662e 7772           self.wr
+0001d8c0: 6170 7065 6454 6578 7420 2b3d 2066 227b  appedText += f"{
+0001d8d0: 697d 2022 2069 6620 6973 5370 6163 6549  i} " if isSpaceI
+0001d8e0: 7465 6d20 656c 7365 2069 0a20 2020 2020  tem else i.     
+0001d8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d900: 2020 2020 2020 2073 656c 662e 6c69 6e65         self.line
+0001d910: 5769 6474 6820 2b3d 2069 5769 6474 6820  Width += iWidth 
+0001d920: 2b20 3120 6966 2069 7353 7061 6365 4974  + 1 if isSpaceIt
+0001d930: 656d 2065 6c73 6520 6957 6964 7468 0a20  em else iWidth. 
+0001d940: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0001d950: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0001d960: 2020 2020 2020 2020 2069 7465 6d57 6964           itemWid
+0001d970: 7468 203d 2053 6861 7265 6455 7469 6c2e  th = SharedUtil.
+0001d980: 6765 7453 7472 696e 6757 6964 7468 2869  getStringWidth(i
+0001d990: 7465 6d29 0a20 2020 2020 2020 2020 2020  tem).           
+0001d9a0: 2020 2020 2020 2020 2069 6620 6973 4c61           if isLa
+0001d9b0: 7374 4974 656d 3a0a 2020 2020 2020 2020  stItem:.        
+0001d9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d9d0: 6e65 774c 696e 6557 6964 7468 203d 2073  newLineWidth = s
+0001d9e0: 656c 662e 6c69 6e65 5769 6474 6820 2b20  elf.lineWidth + 
+0001d9f0: 6974 656d 5769 6474 680a 2020 2020 2020  itemWidth.      
+0001da00: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0001da10: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001da20: 2020 2020 2020 2020 2020 2020 6e65 774c              newL
+0001da30: 696e 6557 6964 7468 203d 2073 656c 662e  ineWidth = self.
+0001da40: 6c69 6e65 5769 6474 6820 2b20 6974 656d  lineWidth + item
+0001da50: 5769 6474 6820 2b20 310a 2020 2020 2020  Width + 1.      
+0001da60: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0001da70: 206e 6577 4c69 6e65 5769 6474 6820 3e20   newLineWidth > 
+0001da80: 7465 726d 696e 616c 5f77 6964 7468 3a0a  terminal_width:.
+0001da90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001daa0: 2020 2020 2020 2020 7365 6c66 2e77 7261          self.wra
+0001dab0: 7070 6564 5465 7874 202b 3d20 6622 5c6e  ppedText += f"\n
+0001dac0: 7b69 7465 6d7d 2220 6966 2069 734c 6173  {item}" if isLas
+0001dad0: 7449 7465 6d20 656c 7365 2066 225c 6e7b  tItem else f"\n{
+0001dae0: 6974 656d 7d20 220a 2020 2020 2020 2020  item} ".        
+0001daf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001db00: 7365 6c66 2e6c 696e 6557 6964 7468 203d  self.lineWidth =
+0001db10: 2069 7465 6d57 6964 7468 2069 6620 6973   itemWidth if is
+0001db20: 4c61 7374 4974 656d 2065 6c73 6520 6974  LastItem else it
+0001db30: 656d 5769 6474 6820 2b20 310a 2020 2020  emWidth + 1.    
+0001db40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001db50: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0001db60: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001db70: 6c66 2e77 7261 7070 6564 5465 7874 202b  lf.wrappedText +
+0001db80: 3d20 6974 656d 2069 6620 6973 4c61 7374  = item if isLast
+0001db90: 4974 656d 2065 6c73 6520 6622 7b69 7465  Item else f"{ite
+0001dba0: 6d7d 2022 0a20 2020 2020 2020 2020 2020  m} ".           
+0001dbb0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001dbc0: 662e 6c69 6e65 5769 6474 6820 2b3d 2069  f.lineWidth += i
+0001dbd0: 7465 6d57 6964 7468 2069 6620 6973 4c61  temWidth if isLa
+0001dbe0: 7374 4974 656d 2065 6c73 6520 6974 656d  stItem else item
+0001dbf0: 5769 6474 6820 2b20 310a 0a20 2020 2020  Width + 1..     
+0001dc00: 2020 2064 6566 2070 726f 6365 7373 4c69     def processLi
+0001dc10: 6e65 286c 696e 6554 6578 7429 3a0a 2020  ne(lineText):.  
+0001dc20: 2020 2020 2020 2020 2020 6966 2072 652e            if re.
+0001dc30: 7365 6172 6368 2822 3c5b 5e3c 3e5d 2b3f  search("<[^<>]+?
+0001dc40: 3e22 2c20 6c69 6e65 5465 7874 293a 0a20  >", lineText):. 
+0001dc50: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0001dc60: 2068 616e 646c 6520 6874 6d6c 2f78 6d6c   handle html/xml
+0001dc70: 2074 6167 730a 2020 2020 2020 2020 2020   tags.          
+0001dc80: 2020 2020 2020 6368 756e 6b73 203d 206c        chunks = l
+0001dc90: 696e 6554 6578 742e 7370 6c69 7428 223e  ineText.split(">
+0001dca0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+0001dcb0: 2020 2074 6f74 616c 4368 756e 6b73 203d     totalChunks =
+0001dcc0: 206c 656e 2863 6875 6e6b 7329 0a20 2020   len(chunks).   
+0001dcd0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+0001dce0: 2069 6e64 6578 2c20 6368 756e 6b20 696e   index, chunk in
+0001dcf0: 2065 6e75 6d65 7261 7465 2863 6875 6e6b   enumerate(chunk
+0001dd00: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
+0001dd10: 2020 2020 2020 2020 6973 4c61 7374 4368          isLastCh
+0001dd20: 756e 6b20 3d20 2874 6f74 616c 4368 756e  unk = (totalChun
+0001dd30: 6b73 202d 2069 6e64 6578 203d 3d20 3129  ks - index == 1)
+0001dd40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001dd50: 2020 2020 2069 6620 6973 4c61 7374 4368       if isLastCh
+0001dd60: 756e 6b3a 0a20 2020 2020 2020 2020 2020  unk:.           
+0001dd70: 2020 2020 2020 2020 2020 2020 2061 6464               add
+0001dd80: 576f 7264 7328 6368 756e 6b29 0a20 2020  Words(chunk).   
+0001dd90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dda0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0001ddb0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0001ddc0: 6167 203d 2054 7275 6520 6966 2022 3c22  ag = True if "<"
+0001ddd0: 2069 6e20 6368 756e 6b20 656c 7365 2046   in chunk else F
+0001dde0: 616c 7365 0a20 2020 2020 2020 2020 2020  alse.           
+0001ddf0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0001de00: 7461 673a 0a20 2020 2020 2020 2020 2020  tag:.           
+0001de10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001de20: 206e 6f6e 5461 672c 2074 6167 436f 6e74   nonTag, tagCont
+0001de30: 656e 7420 3d20 6368 756e 6b2e 7273 706c  ent = chunk.rspl
+0001de40: 6974 2822 3c22 2c20 3129 0a20 2020 2020  it("<", 1).     
+0001de50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001de60: 2020 2020 2020 2061 6464 576f 7264 7328         addWords(
+0001de70: 6e6f 6e54 6167 290a 2020 2020 2020 2020  nonTag).        
+0001de80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001de90: 2020 2020 7365 6c66 2e77 7261 7070 6564      self.wrapped
+0001dea0: 5465 7874 202b 3d20 6622 3c7b 7461 6743  Text += f"<{tagC
+0001deb0: 6f6e 7465 6e74 7d3e 220a 2020 2020 2020  ontent}>".      
+0001dec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ded0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001dee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001def0: 2020 2020 6164 6457 6f72 6473 2866 227b      addWords(f"{
+0001df00: 6368 756e 6b7d 3e22 290a 2020 2020 2020  chunk}>").      
+0001df10: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0001df20: 2020 2020 2020 2020 2020 2020 6164 6457              addW
+0001df30: 6f72 6473 286c 696e 6554 6578 7429 0a0a  ords(lineText)..
+0001df40: 2020 2020 2020 2020 6c69 6e65 7320 3d20          lines = 
+0001df50: 7465 7874 2e73 706c 6974 2822 5c6e 2229  text.split("\n")
+0001df60: 0a20 2020 2020 2020 2074 6f74 616c 4c69  .        totalLi
+0001df70: 6e65 7320 3d20 6c65 6e28 6c69 6e65 7329  nes = len(lines)
+0001df80: 0a20 2020 2020 2020 2066 6f72 2069 6e64  .        for ind
+0001df90: 6578 2c20 6c69 6e65 2069 6e20 656e 756d  ex, line in enum
+0001dfa0: 6572 6174 6528 6c69 6e65 7329 3a0a 2020  erate(lines):.  
+0001dfb0: 2020 2020 2020 2020 2020 6973 4c61 7374            isLast
+0001dfc0: 4c69 6e65 203d 2028 746f 7461 6c4c 696e  Line = (totalLin
+0001dfd0: 6573 202d 2069 6e64 6578 203d 3d20 3129  es - index == 1)
+0001dfe0: 0a20 2020 2020 2020 2020 2020 2070 726f  .            pro
+0001dff0: 6365 7373 4c69 6e65 286c 696e 6529 0a20  cessLine(line). 
+0001e000: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+0001e010: 7420 6973 4c61 7374 4c69 6e65 3a0a 2020  t isLastLine:.  
+0001e020: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001e030: 6c66 2e77 7261 7070 6564 5465 7874 202b  lf.wrappedText +
+0001e040: 3d20 225c 6e22 0a20 2020 2020 2020 2020  = "\n".         
+0001e050: 2020 2020 2020 2073 656c 662e 6c69 6e65         self.line
+0001e060: 5769 6474 6820 3d20 300a 0a20 2020 2020  Width = 0..     
+0001e070: 2020 2072 6574 7572 6e20 7365 6c66 2e77     return self.w
+0001e080: 7261 7070 6564 5465 7874 0a              rappedText.
```

### Comparing `freegenius-0.0.89/freegenius/utils/config_tools.py` & `freegenius-0.0.9/freegenius/configs/config_tools.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,47 +1,49 @@
-from freegenius import config
+from letmedoit import config
 import pprint, re, os, shutil
-from freegenius.utils.config_essential import defaultSettings
+from letmedoit.utils.config_essential import defaultSettings
 from prompt_toolkit.shortcuts import yes_no_dialog
 
 def loadConfig(configPath):
     with open(configPath, "r", encoding="utf-8") as fileObj:
         configs = fileObj.read()
-    configs = "from freegenius import config\n" + re.sub("^([A-Za-z])", r"config.\1", configs, flags=re.M)
+    configs = "from letmedoit import config\n" + re.sub("^([A-Za-z])", r"config.\1", configs, flags=re.M)
     exec(configs, globals())
+config.loadConfig = loadConfig
 
 def setConfig(defaultSettings, thisTranslation={}, temporary=False):
     for key, value in defaultSettings:
         if not hasattr(config, key):
             value = pprint.pformat(value)
             exec(f"""config.{key} = {value} """)
             if temporary:
                 config.excludeConfigList.append(key)
     if thisTranslation:
         for i in thisTranslation:
             if not i in config.thisTranslation:
                 config.thisTranslation[i] = thisTranslation[i]
 
-storageDir = config.localStorage
+def isPackageInstalled(package):
+    return True if shutil.which(package.split(" ", 1)[0]) else False
 
-# restore configs from backup
+storageDir = config.getStorageDir()
 if os.path.isdir(storageDir):
-    configFile = os.path.join(config.freeGeniusAIFolder, "config.py")
+    configFile = os.path.join(config.letMeDoItAIFolder, "config.py")
     if os.path.getsize(configFile) == 0:
         # It means that it is either a newly installed copy or an upgraded copy
         
         # delete old shortcut files so that newer versions of shortcuts can be created
-        appName = config.freeGeniusAIName.split()[0]
+        appName = config.letMeDoItName.split()[0]
         shortcutFiles = (f"{appName}.bat", f"{appName}.command", f"{appName}.desktop", f"{appName}Tray.bat", f"{appName}Tray.command", f"{appName}Tray.desktop")
         for shortcutFile in shortcutFiles:
-            shortcut = os.path.join(config.freeGeniusAIFolder, shortcutFile)
+            shortcut = os.path.join(config.letMeDoItAIFolder, shortcutFile)
             if os.path.isfile(shortcut):
                 os.remove(shortcut)
         # delete system tray shortcuts
-        shortcut_dir = os.path.join(config.freeGeniusAIFolder, "shortcuts")
+        shortcut_dir = os.path.join(config.letMeDoItAIFolder, "shortcuts")
         shutil.rmtree(shortcut_dir, ignore_errors=True)
 
         # check if config backup is available
         backupFile = os.path.join(storageDir, "config_backup.py")
         if os.path.isfile(backupFile):
             restore_backup = yes_no_dialog(
                 title="Configuration Backup Found",
@@ -51,10 +53,30 @@
                 try:
                     loadConfig(backupFile)
                     shutil.copy(backupFile, configFile)
                     print("Configuration backup restored!")
                     #config.restartApp()
                 except:
                     print("Failed to restore backup!")
-
-# load new / unsaved configs
 setConfig(defaultSettings)
+# Google Credentials
+# set required file
+
+config.google_cloud_credentials_file = os.path.join(storageDir, "credentials_google_cloud.json")
+if config.google_cloud_credentials and os.path.isfile(config.google_cloud_credentials):
+    os.environ["GOOGLE_APPLICATION_CREDENTIALS"] = config.google_cloud_credentials
+else:
+    gccfile2 = os.path.join(storageDir, "credentials_googleaistudio.json")
+    gccfile3 = os.path.join(storageDir, "credentials_googletts.json")
+
+    if os.path.isfile(config.google_cloud_credentials_file):
+        config.google_cloud_credentials = config.google_cloud_credentials_file
+    elif os.path.isfile(gccfile2):
+        config.google_cloud_credentials = gccfile2
+    elif os.path.isfile(gccfile3):
+        config.google_cloud_credentials = gccfile3
+    else:
+        config.google_cloud_credentials = ""
+    os.environ["GOOGLE_APPLICATION_CREDENTIALS"] = config.google_cloud_credentials if config.google_cloud_credentials else ""
+# allow plugins to add customised config
+# read https://github.com/eliranwong/letmedoit/wiki/Plugins-%E2%80%90-Work-with-LetMeDoIt-AI-Configurations#example
+config.setConfig = setConfig
```

### Comparing `freegenius-0.0.89/freegenius/utils/shortcuts.py` & `freegenius-0.0.9/freegenius/utils/shortcuts.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,108 +1,78 @@
-from freegenius import config
+from letmedoit import config
 from pathlib import Path
 import platform, os, sys, ctypes, subprocess, re
 import shutil
 
 def createShortcuts():
-    systemtrayFile = os.path.join(config.freeGeniusAIFolder, "systemtray.py")
-
     thisOS = platform.system()
-    #appName = config.freeGeniusAIName.split()[0]
-    appName = "FreeGenius"
+    appName = config.letMeDoItName.split()[0]
     # Windows icon
     if thisOS == "Windows":
         myappid = "letmedoit.ai"
         ctypes.windll.shell32.SetCurrentProcessExplicitAppUserModelID(myappid)
         windowsIconPath = os.path.abspath(os.path.join(sys.path[0], "icons", f"{appName}.ico"))
         if not os.path.isfile(windowsIconPath):
             windowsIconPath = os.path.abspath(os.path.join(sys.path[0], "icons", "LetMeDoIt.ico"))
         ctypes.windll.shell32.SetCurrentProcessExplicitAppUserModelID(windowsIconPath)
 
     # Desktop shortcut
     # on Windows
     if thisOS == "Windows":
-        shortcutBat1 = os.path.join(config.freeGeniusAIFolder, f"{appName}.bat")
+        shortcutBat1 = os.path.join(config.letMeDoItAIFolder, f"{appName}.bat")
         desktopShortcut1a = os.path.join(os.path.expanduser('~'), 'Desktop', f"{appName}.bat")
         desktopShortcut1b = os.path.join(os.path.expanduser('~'), 'OneDrive', 'Desktop', f"{appName}.bat")
         sendToShortcut1 = os.path.join(os.path.expanduser('~'), os.environ["APPDATA"], 'Microsoft\Windows\SendTo', f"{appName}.bat")
-        shortcutCommand1 = f'''powershell.exe -NoExit -Command "{sys.executable} '{config.freeGeniusAIFile}' \\"%1\\""'''
+        shortcutCommand1 = f'''powershell.exe -NoExit -Command "{sys.executable} '{config.letMeDoItFile}' \\"%1\\""'''
         # Create .bat for application shortcuts
         if not os.path.exists(shortcutBat1):
             for i in (shortcutBat1, desktopShortcut1a, desktopShortcut1b, sendToShortcut1):
                 try:
                     print("creating shortcuts ...")
                     with open(i, "w") as fileObj:
                         fileObj.write(shortcutCommand1)
                     print(f"Created: {shortcutBat1}")
                 except:
                     pass
-        # system tray shortcut
-        shortcutBat1 = os.path.join(config.freeGeniusAIFolder, f"{appName}Tray.bat")
-        desktopShortcut1a = os.path.join(os.path.expanduser('~'), 'Desktop', f"{appName}Tray.bat")
-        desktopShortcut1b = os.path.join(os.path.expanduser('~'), 'OneDrive', 'Desktop', f"{appName}Tray.bat")
-        shortcutCommand1 = f'''powershell.exe -NoExit -Command "{sys.executable} '{systemtrayFile}'"'''
-        # Create .bat for application shortcuts
-        if not os.path.exists(shortcutBat1):
-            for i in (shortcutBat1, desktopShortcut1a, desktopShortcut1b):
-                try:
-                    print("creating system tray shortcuts ...")
-                    with open(i, "w") as fileObj:
-                        fileObj.write(shortcutCommand1)
-                    print(f"Created: {shortcutBat1}")
-                except:
-                    pass
 
     # on macOS
     # on iOS a-Shell app, ~/Desktop/ is invalid
     elif thisOS == "Darwin":
         desktopPath = os.path.expanduser("~/Desktop")
         if os.path.isdir(desktopPath):
-            shortcut_file = os.path.join(config.freeGeniusAIFolder, f"{appName}.command")
+            shortcut_file = os.path.join(config.letMeDoItAIFolder, f"{appName}.command")
             if not os.path.isfile(shortcut_file):
                 print("creating shortcut ...")
                 with open(shortcut_file, "w") as f:
                     f.write("#!/bin/bash\n")
-                    f.write(f"cd {config.freeGeniusAIFolder}\n")
-                    f.write(f"{sys.executable} {config.freeGeniusAIFile}\n")
-                os.chmod(shortcut_file, 0o755)
-                print(f"Created: {shortcut_file}")
-                shutil.copy(shortcut_file, desktopPath) # overwrites older version
-                print("Copied to Desktop!")
-            # system tray shortcut
-            shortcut_file = os.path.join(config.freeGeniusAIFolder, f"{appName}Tray.command")
-            if not os.path.isfile(shortcut_file):
-                print("creating system tray shortcut ...")
-                with open(shortcut_file, "w") as f:
-                    f.write("#!/bin/bash\n")
-                    f.write(f"cd {config.freeGeniusAIFolder}\n")
-                    f.write(f"{sys.executable} {systemtrayFile}\n")
+                    f.write(f"cd {config.letMeDoItAIFolder}\n")
+                    f.write(f"{sys.executable} {config.letMeDoItFile}\n")
                 os.chmod(shortcut_file, 0o755)
                 print(f"Created: {shortcut_file}")
                 shutil.copy(shortcut_file, desktopPath) # overwrites older version
                 print("Copied to Desktop!")
 
     # additional shortcuts on Linux
     elif thisOS == "Linux":
         def desktopFileContent():
-            iconPath = os.path.join(config.freeGeniusAIFolder, "icons", f"{appName}.png")
+            iconPath = os.path.join(config.letMeDoItAIFolder, "icons", f"{appName}.png")
             if not os.path.isfile(iconPath):
-                iconPath = os.path.join(config.freeGeniusAIFolder, "icons", "LetMeDoIt.png")
+                iconPath = os.path.join(config.letMeDoItAIFolder, "icons", "LetMeDoIt.png")
             return f"""#!/usr/bin/env xdg-open
 
 [Desktop Entry]
 Version=1.0
 Type=Application
 Terminal=true
-Path={config.freeGeniusAIFolder}
-Exec={sys.executable} {config.freeGeniusAIFile}
+Path={config.letMeDoItAIFolder}
+Exec={sys.executable} {config.letMeDoItFile}
 Icon={iconPath}
-Name={config.freeGeniusAIName}
+Name={config.letMeDoItName}
 """
-        linuxDesktopFile = os.path.join(config.freeGeniusAIFolder, f"{appName}.desktop")
+        linuxDesktopFile = os.path.join(config.letMeDoItAIFolder, f"{appName}.desktop")
         if not os.path.exists(linuxDesktopFile):
             print("creating shortcut ...")
             # Create .desktop shortcut
             with open(linuxDesktopFile, "w") as fileObj:
                 fileObj.write(desktopFileContent())
             print(f"Created: {linuxDesktopFile}")
             try:
@@ -116,70 +86,33 @@
                 # ~/Desktop
                 desktopPath = os.path.expanduser("~/Desktop")
                 if os.path.isdir(desktopPath):
                     shutil.copy(linuxDesktopFile, desktopPath) # overwrites older version
                     print("Copied to Desktop!")
             except:
                 pass
-        # system tray shortcut
-        def desktopSystemTrayFileContent():
-            iconPath = os.path.join(config.freeGeniusAIFolder, "icons", f"ai.png")
-            if not os.path.isfile(iconPath):
-                iconPath = os.path.join(config.freeGeniusAIFolder, "icons", "LetMeDoIt.png")
-            return f"""#!/usr/bin/env xdg-open
-
-[Desktop Entry]
-Version=1.0
-Type=Application
-Path={config.freeGeniusAIFolder}
-Exec={sys.executable} {systemtrayFile}
-Icon={iconPath}
-Name={config.freeGeniusAIName} Tray
-"""
-        linuxDesktopFile = os.path.join(config.freeGeniusAIFolder, f"{appName}Tray.desktop")
-        if not os.path.exists(linuxDesktopFile):
-            print("creating system tray shortcut ...")
-            # Create .desktop shortcut
-            with open(linuxDesktopFile, "w") as fileObj:
-                fileObj.write(desktopSystemTrayFileContent())
-            print(f"Created: {linuxDesktopFile}")
-            try:
-                # Try to copy the newly created .desktop file to:
-                from pathlib import Path
-                # ~/.local/share/applications
-                userAppDir = os.path.join(str(Path.home()), ".local", "share", "applications")
-                Path(userAppDir).mkdir(parents=True, exist_ok=True)
-                shutil.copy(linuxDesktopFile, userAppDir) # overwrites older version
-                print(f"Copied to '{userAppDir}'!")
-                # ~/Desktop
-                desktopPath = os.path.expanduser("~/Desktop")
-                if os.path.isdir(desktopPath):
-                    shutil.copy(linuxDesktopFile, desktopPath) # overwrites older version
-                    print("Copied to Desktop!")
-            except:
-                pass
 
     # create utilities
-    createUtilities()
+    #createUtilities()
     #createAppAlias()
 
 def createUtilities():
-    first_name = config.freeGeniusAIName.split()[0]
+    first_name = config.letMeDoItName.split()[0]
     storage = os.path.join(os.path.expanduser('~'), first_name.lower())
     try:
         Path(storage).mkdir(parents=True, exist_ok=True)
     except:
         pass
 
     thisOS = platform.system()
     if thisOS == "Windows":
         work_with_text_script = f'''param (
     [string]$selected_text
 )
-Start-Process "{sys.executable} {config.freeGeniusAIFile} $selected_text"'''
+Start-Process "{sys.executable} {config.letMeDoItFile} $selected_text"'''
         work_with_text_script_path = os.path.join(storage, f"{first_name}.ps1")
         with open(work_with_text_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
     elif thisOS == "Linux":
         # work with text selection
         # Install xsel
         # > apt install xsel
@@ -189,68 +122,68 @@
         # 3. Select "+" to add a custom shortcut and enter the following information, e.g.:
         # Name: LetMeDoIt AI
         # Command: /usr/bin/gnome-terminal --command ~/letmedoit/letmedoit.sh
         # Shortcut: Ctrl + Alt + L
         # get selected text
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false "$selected_text"'''
         work_with_text_script_path = os.path.join(storage, first_name)
         with open(work_with_text_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # summarise selected text
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Summarize" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Summarize" -r "$selected_text"'''
         work_with_summary_script_path = os.path.join(storage, f"{first_name}_Summary")
         with open(work_with_summary_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # download selected url
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Download" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Download" -r "$selected_text"'''
         work_with_download_script_path = os.path.join(storage, f"{first_name}_Download")
         with open(work_with_download_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # download selected Youtube url into mp3
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Download Youtube MP3" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Download Youtube MP3" -r "$selected_text"'''
         work_with_downloadmp3_script_path = os.path.join(storage, f"{first_name}_YoutubeMP3")
         with open(work_with_downloadmp3_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # pronounce selected text
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Pronounce" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Pronounce" -r "$selected_text"'''
         work_with_pronunciation_script_path = os.path.join(storage, f"{first_name}_Pronunciation")
         with open(work_with_pronunciation_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # explain selected text
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Explain" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Explain" -r "$selected_text"'''
         work_with_explanation_script_path = os.path.join(storage, f"{first_name}_Explanation")
         with open(work_with_explanation_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # translate selected text
         work_with_text_script = f'''#!/usr/bin/env bash
 selected_text=$(echo "$(xsel -o)" | sed 's/"/\"/g')
-{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -c "Let me Translate" -r "$selected_text"'''
+{sys.executable} {config.letMeDoItFile} -u false -n true -i false -c "Let me Translate" -r "$selected_text"'''
         work_with_translation_script_path = os.path.join(storage, f"{first_name}_Translation")
         with open(work_with_translation_script_path, "w", encoding="utf-8") as fileObj:
             fileObj.write(work_with_text_script)
         # work with files or folders selection via NAUTILUS; right-click > scripts > LetMeDoIt
         if not config.isTermux:
             work_with_files_script = f'''#!/usr/bin/env bash
 mkdir -p {storage}
 # Get the selected file or folder path
 path="$NAUTILUS_SCRIPT_SELECTED_FILE_PATHS"
 echo "$path" > {storage}/selected_files.txt
-/usr/bin/gnome-terminal --command "{sys.executable} {config.freeGeniusAIFile} -u false -n true -i false -f {storage}/selected_files.txt"'''
+/usr/bin/gnome-terminal --command "{sys.executable} {config.letMeDoItFile} -u false -n true -i false -f {storage}/selected_files.txt"'''
             scripts_path = os.path.expanduser("~/.local/share/nautilus/scripts")
             Path(scripts_path).mkdir(parents=True, exist_ok=True)
             work_with_files_script_path = os.path.join(scripts_path, first_name)
             with open(work_with_files_script_path, "w", encoding="utf-8") as fileObj:
                 fileObj.write(work_with_files_script)
         # make script files executable
         scriptFiles = [
@@ -261,74 +194,74 @@
             work_with_pronunciation_script_path,
             work_with_downloadmp3_script_path,
             work_with_download_script_path,
         ]
         if config.isTermux:
             # added a command shortcut
             try:
-                termux_shortcut_script = f'''#!/usr/bin/env bash\n{sys.executable} {config.freeGeniusAIFile}'''
+                termux_shortcut_script = f'''#!/usr/bin/env bash\n{sys.executable} {config.letMeDoItFile}'''
                 termux_shortcut_path = "/data/data/com.termux/files/usr/bin/letmedoit"
                 with open(termux_shortcut_path, "w", encoding="utf-8") as fileObj:
                     fileObj.write(termux_shortcut_script)
                 scriptFiles.append(termux_shortcut_path)
             except:
                 pass
         else:
             scriptFiles.append(work_with_files_script_path)
         for i in scriptFiles:
             os.chmod(i, 0o755)
     elif thisOS == "Darwin":
-        file1 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Text_workflow/Contents/document.wflow")
-        file2 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Files_workflow/Contents/document.wflow")
-        file3 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Explanation_workflow/Contents/document.wflow")
-        file4 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Translation_workflow/Contents/document.wflow")
-        file5 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Summary_workflow/Contents/document.wflow")
-        file6 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Pronounce_workflow/Contents/document.wflow")
-        file7 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/document.wflow")
-        file8 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Download_workflow/Contents/document.wflow")
+        file1 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Text_workflow/Contents/document.wflow")
+        file2 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Files_workflow/Contents/document.wflow")
+        file3 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Explanation_workflow/Contents/document.wflow")
+        file4 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Translation_workflow/Contents/document.wflow")
+        file5 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Summary_workflow/Contents/document.wflow")
+        file6 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Pronounce_workflow/Contents/document.wflow")
+        file7 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_YoutubeMP3_workflow/Contents/document.wflow")
+        file8 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Download_workflow/Contents/document.wflow")
         for i in (file1, file2, file3, file4, file5, file6, file7, file8):
             with open(i, "r", encoding="utf-8") as fileObj:
                 content = fileObj.read()
             search_replace = (
                 ("~/letmedoit", storage),
-                ("\[LETMEDOIT_PATH\]", f"{sys.executable} {config.freeGeniusAIFile}"),
+                ("\[LETMEDOIT_PATH\]", f"{sys.executable} {config.letMeDoItFile}"),
             )
             for search, replace in search_replace:
                 content = re.sub(search, replace, content)
             with open(i, "w", encoding="utf-8") as fileObj:
                 fileObj.write(content)
-        file1 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Files_workflow/Contents/Info.plist")
-        file2 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Text_workflow/Contents/Info.plist")
-        file3 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Explanation_workflow/Contents/Info.plist")
-        file4 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Translation_workflow/Contents/Info.plist")
-        file5 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Summary_workflow/Contents/Info.plist")
-        file6 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Pronounce_workflow/Contents/Info.plist")
-        file7 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_YoutubeMP3_workflow/Contents/Info.plist")
-        file8 = os.path.join(config.freeGeniusAIFolder, "macOS_service/FreeGenius_Download_workflow/Contents/Info.plist")
+        file1 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Files_workflow/Contents/Info.plist")
+        file2 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Text_workflow/Contents/Info.plist")
+        file3 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Explanation_workflow/Contents/Info.plist")
+        file4 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Translation_workflow/Contents/Info.plist")
+        file5 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Summary_workflow/Contents/Info.plist")
+        file6 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Pronounce_workflow/Contents/Info.plist")
+        file7 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_YoutubeMP3_workflow/Contents/Info.plist")
+        file8 = os.path.join(config.letMeDoItAIFolder, "macOS_service/LetMeDoIt_Download_workflow/Contents/Info.plist")
         for i in (file1, file2, file3, file4, file5, file6, file7, file8):
             with open(i, "r", encoding="utf-8") as fileObj:
                 content = fileObj.read()
             content = re.sub("LetMeDoIt", first_name, content)
             with open(i, "w", encoding="utf-8") as fileObj:
                 fileObj.write(content)
-        folder1 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Files_workflow")
+        folder1 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Files_workflow")
         folder1_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Files.workflow")
-        folder2 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Text_workflow")
+        folder2 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Text_workflow")
         folder2_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Text.workflow")
-        folder3 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Explanation_workflow")
+        folder3 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Explanation_workflow")
         folder3_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Explanation.workflow")
-        folder4 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Summary_workflow")
+        folder4 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Summary_workflow")
         folder4_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Summary.workflow")
-        folder5 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Translation_workflow")
+        folder5 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Translation_workflow")
         folder5_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Translation.workflow")
-        folder6 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Pronounce_workflow")
+        folder6 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Pronounce_workflow")
         folder6_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Pronunciation.workflow")
-        folder7 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_YoutubeMP3_workflow")
+        folder7 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_YoutubeMP3_workflow")
         folder7_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Youtube MP3.workflow")
-        folder8 = os.path.join(config.freeGeniusAIFolder, "macOS_service", "FreeGenius_Download_workflow")
+        folder8 = os.path.join(config.letMeDoItAIFolder, "macOS_service", "LetMeDoIt_Download_workflow")
         folder8_dest = os.path.join(os.path.expanduser("~/Library/Services"), f"{first_name} Download.workflow")
         folders = (
             (folder1, folder1_dest),
             (folder2, folder2_dest),
             (folder3, folder3_dest),
             (folder4, folder4_dest),
             (folder5, folder5_dest),
@@ -336,24 +269,24 @@
             (folder7, folder7_dest),
             (folder8, folder8_dest),
         )
         for folder, folder_dest in folders:
             if os.path.isdir(folder_dest):
                 shutil.rmtree(folder_dest, ignore_errors=True)
             shutil.copytree(folder, folder_dest)
-        iconFolder = os.path.join(config.freeGeniusAIFolder, "icons")
+        iconFolder = os.path.join(config.letMeDoItAIFolder, "icons")
         iconFolder_dest = os.path.join(storage, "icons")
         if not os.path.isdir(iconFolder_dest):
             shutil.copytree(iconFolder, iconFolder_dest)
 
 def createAppAlias():
-    with open(os.path.join(config.freeGeniusAIFolder, "package_name.txt"), "r", encoding="utf-8") as fileObj:
+    with open(os.path.join(config.letMeDoItAIFolder, "package_name.txt"), "r", encoding="utf-8") as fileObj:
         package = fileObj.read()
     alias = package
-    target = f"{sys.executable} {config.freeGeniusAIFile}"
+    target = f"{sys.executable} {config.letMeDoItFile}"
 
     findAlias = "/bin/bash -ic 'alias letmedoit'" # -c alone does not work
     aliasOutput, *_ = subprocess.Popen(findAlias, shell=True, stdout=subprocess.PIPE, text=True).communicate()
 
     if not aliasOutput.strip() == f"""alias letmedoit='{target}'""":
         print("creating alias ...")
         def addAliasToLoginProfile(profile, content):
```

