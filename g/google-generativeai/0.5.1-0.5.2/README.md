# Comparing `tmp/google_generativeai-0.5.1-py3-none-any.whl.zip` & `tmp/google_generativeai-0.5.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,74 +1,75 @@
-Zip file size: 142216 bytes, number of entries: 72
--rw-r--r--  2.0 unx      467 b- defN 24-Apr-16 18:37 google_generativeai-0.5.1-py3.11-nspkg.pth
--rw-r--r--  2.0 unx     2806 b- defN 24-Apr-16 18:36 google/generativeai/__init__.py
--rw-r--r--  2.0 unx    13383 b- defN 24-Apr-16 18:36 google/generativeai/answer.py
--rw-r--r--  2.0 unx    12516 b- defN 24-Apr-16 18:36 google/generativeai/client.py
--rw-r--r--  2.0 unx    20937 b- defN 24-Apr-16 18:36 google/generativeai/discuss.py
--rw-r--r--  2.0 unx     9919 b- defN 24-Apr-16 18:36 google/generativeai/embedding.py
--rw-r--r--  2.0 unx     2226 b- defN 24-Apr-16 18:36 google/generativeai/files.py
--rw-r--r--  2.0 unx    28672 b- defN 24-Apr-16 18:36 google/generativeai/generative_models.py
--rw-r--r--  2.0 unx    14685 b- defN 24-Apr-16 18:36 google/generativeai/models.py
--rw-r--r--  2.0 unx     4900 b- defN 24-Apr-16 18:36 google/generativeai/operations.py
--rw-r--r--  2.0 unx     1410 b- defN 24-Apr-16 18:36 google/generativeai/permission.py
--rw-r--r--  2.0 unx     8542 b- defN 24-Apr-16 18:36 google/generativeai/retriever.py
--rw-r--r--  2.0 unx     2441 b- defN 24-Apr-16 18:36 google/generativeai/string_utils.py
--rw-r--r--  2.0 unx    13190 b- defN 24-Apr-16 18:36 google/generativeai/text.py
--rw-r--r--  2.0 unx      976 b- defN 24-Apr-16 18:36 google/generativeai/utils.py
--rw-r--r--  2.0 unx      656 b- defN 24-Apr-16 18:36 google/generativeai/version.py
--rw-r--r--  2.0 unx     1169 b- defN 24-Apr-16 18:36 google/generativeai/notebook/__init__.py
--rw-r--r--  2.0 unx     3961 b- defN 24-Apr-16 18:36 google/generativeai/notebook/argument_parser.py
--rw-r--r--  2.0 unx    20532 b- defN 24-Apr-16 18:36 google/generativeai/notebook/cmd_line_parser.py
--rw-r--r--  2.0 unx     1535 b- defN 24-Apr-16 18:36 google/generativeai/notebook/command.py
--rw-r--r--  2.0 unx     6270 b- defN 24-Apr-16 18:36 google/generativeai/notebook/command_utils.py
--rw-r--r--  2.0 unx     2566 b- defN 24-Apr-16 18:36 google/generativeai/notebook/compare_cmd.py
--rw-r--r--  2.0 unx     2365 b- defN 24-Apr-16 18:36 google/generativeai/notebook/compile_cmd.py
--rw-r--r--  2.0 unx     2756 b- defN 24-Apr-16 18:36 google/generativeai/notebook/eval_cmd.py
--rw-r--r--  2.0 unx    17279 b- defN 24-Apr-16 18:36 google/generativeai/notebook/flag_def.py
--rw-r--r--  2.0 unx     7711 b- defN 24-Apr-16 18:36 google/generativeai/notebook/gspread_client.py
--rw-r--r--  2.0 unx     1555 b- defN 24-Apr-16 18:36 google/generativeai/notebook/html_utils.py
--rw-r--r--  2.0 unx     2819 b- defN 24-Apr-16 18:36 google/generativeai/notebook/input_utils.py
--rw-r--r--  2.0 unx     1686 b- defN 24-Apr-16 18:36 google/generativeai/notebook/ipython_env.py
--rw-r--r--  2.0 unx     1058 b- defN 24-Apr-16 18:36 google/generativeai/notebook/ipython_env_impl.py
--rw-r--r--  2.0 unx     4616 b- defN 24-Apr-16 18:36 google/generativeai/notebook/magics.py
--rw-r--r--  2.0 unx     5468 b- defN 24-Apr-16 18:36 google/generativeai/notebook/magics_engine.py
--rw-r--r--  2.0 unx     1919 b- defN 24-Apr-16 18:36 google/generativeai/notebook/model_registry.py
--rw-r--r--  2.0 unx     2085 b- defN 24-Apr-16 18:36 google/generativeai/notebook/output_utils.py
--rw-r--r--  2.0 unx     3084 b- defN 24-Apr-16 18:36 google/generativeai/notebook/parsed_args_lib.py
--rw-r--r--  2.0 unx     5803 b- defN 24-Apr-16 18:36 google/generativeai/notebook/post_process_utils.py
--rw-r--r--  2.0 unx      991 b- defN 24-Apr-16 18:36 google/generativeai/notebook/post_process_utils_test_helper.py
--rw-r--r--  2.0 unx     2073 b- defN 24-Apr-16 18:36 google/generativeai/notebook/py_utils.py
--rw-r--r--  2.0 unx     2744 b- defN 24-Apr-16 18:36 google/generativeai/notebook/run_cmd.py
--rw-r--r--  2.0 unx     3071 b- defN 24-Apr-16 18:36 google/generativeai/notebook/sheets_id.py
--rw-r--r--  2.0 unx     2977 b- defN 24-Apr-16 18:36 google/generativeai/notebook/sheets_sanitize_url.py
--rw-r--r--  2.0 unx     3994 b- defN 24-Apr-16 18:36 google/generativeai/notebook/sheets_utils.py
--rw-r--r--  2.0 unx     2634 b- defN 24-Apr-16 18:36 google/generativeai/notebook/text_model.py
--rw-r--r--  2.0 unx      598 b- defN 24-Apr-16 18:36 google/generativeai/notebook/lib/__init__.py
--rw-r--r--  2.0 unx    18315 b- defN 24-Apr-16 18:36 google/generativeai/notebook/lib/llm_function.py
--rw-r--r--  2.0 unx     2969 b- defN 24-Apr-16 18:36 google/generativeai/notebook/lib/llmfn_input_utils.py
--rw-r--r--  2.0 unx     2443 b- defN 24-Apr-16 18:36 google/generativeai/notebook/lib/llmfn_inputs_source.py
--rw-r--r--  2.0 unx     5917 b- defN 24-Apr-16 18:36 google/generativeai/notebook/lib/llmfn_output_row.py
--rw-r--r--  2.0 unx     8532 b- defN 24-Apr-16 18:36 google/generativeai/notebook/lib/llmfn_outputs.py
--rw-r--r--  2.0 unx     2470 b- defN 24-Apr-16 18:36 google/generativeai/notebook/lib/llmfn_post_process.py
--rw-r--r--  2.0 unx     8569 b- defN 24-Apr-16 18:36 google/generativeai/notebook/lib/llmfn_post_process_cmds.py
--rw-r--r--  2.0 unx     2055 b- defN 24-Apr-16 18:36 google/generativeai/notebook/lib/model.py
--rw-r--r--  2.0 unx     1264 b- defN 24-Apr-16 18:36 google/generativeai/notebook/lib/prompt_utils.py
--rw-r--r--  2.0 unx     1487 b- defN 24-Apr-16 18:36 google/generativeai/notebook/lib/unique_fn.py
--rw-r--r--  2.0 unx     1181 b- defN 24-Apr-16 18:36 google/generativeai/types/__init__.py
--rw-r--r--  2.0 unx     2116 b- defN 24-Apr-16 18:36 google/generativeai/types/answer_types.py
--rw-r--r--  2.0 unx     1232 b- defN 24-Apr-16 18:36 google/generativeai/types/citation_types.py
--rw-r--r--  2.0 unx    22835 b- defN 24-Apr-16 18:36 google/generativeai/types/content_types.py
--rw-r--r--  2.0 unx     6661 b- defN 24-Apr-16 18:36 google/generativeai/types/discuss_types.py
--rw-r--r--  2.0 unx     2011 b- defN 24-Apr-16 18:36 google/generativeai/types/file_types.py
--rw-r--r--  2.0 unx    18640 b- defN 24-Apr-16 18:36 google/generativeai/types/generation_types.py
--rw-r--r--  2.0 unx    11638 b- defN 24-Apr-16 18:36 google/generativeai/types/model_types.py
--rw-r--r--  2.0 unx     7599 b- defN 24-Apr-16 18:36 google/generativeai/types/permission_types.py
--rw-r--r--  2.0 unx    61705 b- defN 24-Apr-16 18:36 google/generativeai/types/retriever_types.py
--rw-r--r--  2.0 unx    10362 b- defN 24-Apr-16 18:36 google/generativeai/types/safety_types.py
--rw-r--r--  2.0 unx     2319 b- defN 24-Apr-16 18:36 google/generativeai/types/text_types.py
--rw-r--r--  2.0 unx    11358 b- defN 24-Apr-16 18:37 google_generativeai-0.5.1.dist-info/LICENSE
--rw-r--r--  2.0 unx     3921 b- defN 24-Apr-16 18:37 google_generativeai-0.5.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-16 18:37 google_generativeai-0.5.1.dist-info/WHEEL
--rw-r--r--  2.0 unx        7 b- defN 24-Apr-16 18:37 google_generativeai-0.5.1.dist-info/namespace_packages.txt
--rw-r--r--  2.0 unx        7 b- defN 24-Apr-16 18:37 google_generativeai-0.5.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     7078 b- defN 24-Apr-16 18:37 google_generativeai-0.5.1.dist-info/RECORD
-72 files, 477828 bytes uncompressed, 130670 bytes compressed:  72.7%
+Zip file size: 146781 bytes, number of entries: 73
+-rw-r--r--  2.0 unx      467 b- defN 24-Apr-18 21:09 google_generativeai-0.5.2-py3.11-nspkg.pth
+-rw-r--r--  2.0 unx     2806 b- defN 24-Apr-18 21:09 google/generativeai/__init__.py
+-rw-r--r--  2.0 unx    13383 b- defN 24-Apr-18 21:09 google/generativeai/answer.py
+-rw-r--r--  2.0 unx    12609 b- defN 24-Apr-18 21:09 google/generativeai/client.py
+-rw-r--r--  2.0 unx    20937 b- defN 24-Apr-18 21:09 google/generativeai/discuss.py
+-rw-r--r--  2.0 unx    11583 b- defN 24-Apr-18 21:09 google/generativeai/embedding.py
+-rw-r--r--  2.0 unx     2226 b- defN 24-Apr-18 21:09 google/generativeai/files.py
+-rw-r--r--  2.0 unx    28672 b- defN 24-Apr-18 21:09 google/generativeai/generative_models.py
+-rw-r--r--  2.0 unx    14685 b- defN 24-Apr-18 21:09 google/generativeai/models.py
+-rw-r--r--  2.0 unx     4900 b- defN 24-Apr-18 21:09 google/generativeai/operations.py
+-rw-r--r--  2.0 unx     1410 b- defN 24-Apr-18 21:09 google/generativeai/permission.py
+-rw-r--r--  2.0 unx    15386 b- defN 24-Apr-18 21:09 google/generativeai/responder.py
+-rw-r--r--  2.0 unx     8542 b- defN 24-Apr-18 21:09 google/generativeai/retriever.py
+-rw-r--r--  2.0 unx     2441 b- defN 24-Apr-18 21:09 google/generativeai/string_utils.py
+-rw-r--r--  2.0 unx    13190 b- defN 24-Apr-18 21:09 google/generativeai/text.py
+-rw-r--r--  2.0 unx      976 b- defN 24-Apr-18 21:09 google/generativeai/utils.py
+-rw-r--r--  2.0 unx      656 b- defN 24-Apr-18 21:09 google/generativeai/version.py
+-rw-r--r--  2.0 unx     1169 b- defN 24-Apr-18 21:09 google/generativeai/notebook/__init__.py
+-rw-r--r--  2.0 unx     3961 b- defN 24-Apr-18 21:09 google/generativeai/notebook/argument_parser.py
+-rw-r--r--  2.0 unx    20532 b- defN 24-Apr-18 21:09 google/generativeai/notebook/cmd_line_parser.py
+-rw-r--r--  2.0 unx     1535 b- defN 24-Apr-18 21:09 google/generativeai/notebook/command.py
+-rw-r--r--  2.0 unx     6270 b- defN 24-Apr-18 21:09 google/generativeai/notebook/command_utils.py
+-rw-r--r--  2.0 unx     2566 b- defN 24-Apr-18 21:09 google/generativeai/notebook/compare_cmd.py
+-rw-r--r--  2.0 unx     2365 b- defN 24-Apr-18 21:09 google/generativeai/notebook/compile_cmd.py
+-rw-r--r--  2.0 unx     2756 b- defN 24-Apr-18 21:09 google/generativeai/notebook/eval_cmd.py
+-rw-r--r--  2.0 unx    17279 b- defN 24-Apr-18 21:09 google/generativeai/notebook/flag_def.py
+-rw-r--r--  2.0 unx     7711 b- defN 24-Apr-18 21:09 google/generativeai/notebook/gspread_client.py
+-rw-r--r--  2.0 unx     1555 b- defN 24-Apr-18 21:09 google/generativeai/notebook/html_utils.py
+-rw-r--r--  2.0 unx     2819 b- defN 24-Apr-18 21:09 google/generativeai/notebook/input_utils.py
+-rw-r--r--  2.0 unx     1686 b- defN 24-Apr-18 21:09 google/generativeai/notebook/ipython_env.py
+-rw-r--r--  2.0 unx     1058 b- defN 24-Apr-18 21:09 google/generativeai/notebook/ipython_env_impl.py
+-rw-r--r--  2.0 unx     4616 b- defN 24-Apr-18 21:09 google/generativeai/notebook/magics.py
+-rw-r--r--  2.0 unx     5468 b- defN 24-Apr-18 21:09 google/generativeai/notebook/magics_engine.py
+-rw-r--r--  2.0 unx     1919 b- defN 24-Apr-18 21:09 google/generativeai/notebook/model_registry.py
+-rw-r--r--  2.0 unx     2085 b- defN 24-Apr-18 21:09 google/generativeai/notebook/output_utils.py
+-rw-r--r--  2.0 unx     3084 b- defN 24-Apr-18 21:09 google/generativeai/notebook/parsed_args_lib.py
+-rw-r--r--  2.0 unx     5803 b- defN 24-Apr-18 21:09 google/generativeai/notebook/post_process_utils.py
+-rw-r--r--  2.0 unx      991 b- defN 24-Apr-18 21:09 google/generativeai/notebook/post_process_utils_test_helper.py
+-rw-r--r--  2.0 unx     2073 b- defN 24-Apr-18 21:09 google/generativeai/notebook/py_utils.py
+-rw-r--r--  2.0 unx     2744 b- defN 24-Apr-18 21:09 google/generativeai/notebook/run_cmd.py
+-rw-r--r--  2.0 unx     3071 b- defN 24-Apr-18 21:09 google/generativeai/notebook/sheets_id.py
+-rw-r--r--  2.0 unx     2977 b- defN 24-Apr-18 21:09 google/generativeai/notebook/sheets_sanitize_url.py
+-rw-r--r--  2.0 unx     3994 b- defN 24-Apr-18 21:09 google/generativeai/notebook/sheets_utils.py
+-rw-r--r--  2.0 unx     2634 b- defN 24-Apr-18 21:09 google/generativeai/notebook/text_model.py
+-rw-r--r--  2.0 unx      598 b- defN 24-Apr-18 21:09 google/generativeai/notebook/lib/__init__.py
+-rw-r--r--  2.0 unx    18315 b- defN 24-Apr-18 21:09 google/generativeai/notebook/lib/llm_function.py
+-rw-r--r--  2.0 unx     2969 b- defN 24-Apr-18 21:09 google/generativeai/notebook/lib/llmfn_input_utils.py
+-rw-r--r--  2.0 unx     2443 b- defN 24-Apr-18 21:09 google/generativeai/notebook/lib/llmfn_inputs_source.py
+-rw-r--r--  2.0 unx     5917 b- defN 24-Apr-18 21:09 google/generativeai/notebook/lib/llmfn_output_row.py
+-rw-r--r--  2.0 unx     8532 b- defN 24-Apr-18 21:09 google/generativeai/notebook/lib/llmfn_outputs.py
+-rw-r--r--  2.0 unx     2470 b- defN 24-Apr-18 21:09 google/generativeai/notebook/lib/llmfn_post_process.py
+-rw-r--r--  2.0 unx     8569 b- defN 24-Apr-18 21:09 google/generativeai/notebook/lib/llmfn_post_process_cmds.py
+-rw-r--r--  2.0 unx     2055 b- defN 24-Apr-18 21:09 google/generativeai/notebook/lib/model.py
+-rw-r--r--  2.0 unx     1264 b- defN 24-Apr-18 21:09 google/generativeai/notebook/lib/prompt_utils.py
+-rw-r--r--  2.0 unx     1487 b- defN 24-Apr-18 21:09 google/generativeai/notebook/lib/unique_fn.py
+-rw-r--r--  2.0 unx     1181 b- defN 24-Apr-18 21:09 google/generativeai/types/__init__.py
+-rw-r--r--  2.0 unx     2116 b- defN 24-Apr-18 21:09 google/generativeai/types/answer_types.py
+-rw-r--r--  2.0 unx     1232 b- defN 24-Apr-18 21:09 google/generativeai/types/citation_types.py
+-rw-r--r--  2.0 unx    22835 b- defN 24-Apr-18 21:09 google/generativeai/types/content_types.py
+-rw-r--r--  2.0 unx     6661 b- defN 24-Apr-18 21:09 google/generativeai/types/discuss_types.py
+-rw-r--r--  2.0 unx     2011 b- defN 24-Apr-18 21:09 google/generativeai/types/file_types.py
+-rw-r--r--  2.0 unx    18640 b- defN 24-Apr-18 21:09 google/generativeai/types/generation_types.py
+-rw-r--r--  2.0 unx    11638 b- defN 24-Apr-18 21:09 google/generativeai/types/model_types.py
+-rw-r--r--  2.0 unx     7599 b- defN 24-Apr-18 21:09 google/generativeai/types/permission_types.py
+-rw-r--r--  2.0 unx    61705 b- defN 24-Apr-18 21:09 google/generativeai/types/retriever_types.py
+-rw-r--r--  2.0 unx    10362 b- defN 24-Apr-18 21:09 google/generativeai/types/safety_types.py
+-rw-r--r--  2.0 unx     2319 b- defN 24-Apr-18 21:09 google/generativeai/types/text_types.py
+-rw-r--r--  2.0 unx    11358 b- defN 24-Apr-18 21:09 google_generativeai-0.5.2.dist-info/LICENSE
+-rw-r--r--  2.0 unx     3921 b- defN 24-Apr-18 21:09 google_generativeai-0.5.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-18 21:09 google_generativeai-0.5.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        7 b- defN 24-Apr-18 21:09 google_generativeai-0.5.2.dist-info/namespace_packages.txt
+-rw-r--r--  2.0 unx        7 b- defN 24-Apr-18 21:09 google_generativeai-0.5.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     7169 b- defN 24-Apr-18 21:09 google_generativeai-0.5.2.dist-info/RECORD
+73 files, 495062 bytes uncompressed, 135095 bytes compressed:  72.7%
```

## zipnote {}

```diff
@@ -1,8 +1,8 @@
-Filename: google_generativeai-0.5.1-py3.11-nspkg.pth
+Filename: google_generativeai-0.5.2-py3.11-nspkg.pth
 Comment: 
 
 Filename: google/generativeai/__init__.py
 Comment: 
 
 Filename: google/generativeai/answer.py
 Comment: 
@@ -27,14 +27,17 @@
 
 Filename: google/generativeai/operations.py
 Comment: 
 
 Filename: google/generativeai/permission.py
 Comment: 
 
+Filename: google/generativeai/responder.py
+Comment: 
+
 Filename: google/generativeai/retriever.py
 Comment: 
 
 Filename: google/generativeai/string_utils.py
 Comment: 
 
 Filename: google/generativeai/text.py
@@ -192,26 +195,26 @@
 
 Filename: google/generativeai/types/safety_types.py
 Comment: 
 
 Filename: google/generativeai/types/text_types.py
 Comment: 
 
-Filename: google_generativeai-0.5.1.dist-info/LICENSE
+Filename: google_generativeai-0.5.2.dist-info/LICENSE
 Comment: 
 
-Filename: google_generativeai-0.5.1.dist-info/METADATA
+Filename: google_generativeai-0.5.2.dist-info/METADATA
 Comment: 
 
-Filename: google_generativeai-0.5.1.dist-info/WHEEL
+Filename: google_generativeai-0.5.2.dist-info/WHEEL
 Comment: 
 
-Filename: google_generativeai-0.5.1.dist-info/namespace_packages.txt
+Filename: google_generativeai-0.5.2.dist-info/namespace_packages.txt
 Comment: 
 
-Filename: google_generativeai-0.5.1.dist-info/top_level.txt
+Filename: google_generativeai-0.5.2.dist-info/top_level.txt
 Comment: 
 
-Filename: google_generativeai-0.5.1.dist-info/RECORD
+Filename: google_generativeai-0.5.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## google/generativeai/client.py

```diff
@@ -69,18 +69,21 @@
         if display_name is not None:
             file["displayName"] = display_name
 
         media = googleapiclient.http.MediaFileUpload(filename=path, mimetype=mime_type)
         request = self._discovery_api.media().upload(body={"file": file}, media_body=media)
         result = request.execute()
 
+        allowed_keys = set(glm.File.__annotations__)
+
         return glm.File(
             {
                 re.sub("[A-Z]", lambda ch: f"_{ch.group(0).lower()}", key): value
                 for key, value in result["file"].items()
+                if key in allowed_keys
             }
         )
 
 
 class FileServiceAsyncClient(glm.FileServiceAsyncClient):
     async def create_file(self, *args, **kwargs):
         raise NotImplementedError("`create_file` is not yet implemented for the async client.")
```

## google/generativeai/embedding.py

```diff
@@ -55,14 +55,22 @@
     "similarity": EmbeddingTaskType.SEMANTIC_SIMILARITY,
     EmbeddingTaskType.CLASSIFICATION: EmbeddingTaskType.CLASSIFICATION,
     4: EmbeddingTaskType.CLASSIFICATION,
     "classification": EmbeddingTaskType.CLASSIFICATION,
     EmbeddingTaskType.CLUSTERING: EmbeddingTaskType.CLUSTERING,
     5: EmbeddingTaskType.CLUSTERING,
     "clustering": EmbeddingTaskType.CLUSTERING,
+    6: EmbeddingTaskType.QUESTION_ANSWERING,
+    "question_answering": EmbeddingTaskType.QUESTION_ANSWERING,
+    "qa": EmbeddingTaskType.QUESTION_ANSWERING,
+    EmbeddingTaskType.QUESTION_ANSWERING: EmbeddingTaskType.QUESTION_ANSWERING,
+    7: EmbeddingTaskType.FACT_VERIFICATION,
+    "fact_verification": EmbeddingTaskType.FACT_VERIFICATION,
+    "verification": EmbeddingTaskType.FACT_VERIFICATION,
+    EmbeddingTaskType.FACT_VERIFICATION: EmbeddingTaskType.FACT_VERIFICATION,
 }
 
 
 def to_task_type(x: EmbeddingTaskTypeOptions) -> EmbeddingTaskType:
     if isinstance(x, str):
         x = x.lower()
     return _EMBEDDING_TASK_TYPE[x]
@@ -90,35 +98,38 @@
 
 @overload
 def embed_content(
     model: model_types.BaseModelNameOptions,
     content: content_types.ContentType,
     task_type: EmbeddingTaskTypeOptions | None = None,
     title: str | None = None,
+    output_dimensionality: int | None = None,
     client: glm.GenerativeServiceClient | None = None,
     request_options: dict[str, Any] | None = None,
 ) -> text_types.EmbeddingDict: ...
 
 
 @overload
 def embed_content(
     model: model_types.BaseModelNameOptions,
     content: Iterable[content_types.ContentType],
     task_type: EmbeddingTaskTypeOptions | None = None,
     title: str | None = None,
+    output_dimensionality: int | None = None,
     client: glm.GenerativeServiceClient | None = None,
     request_options: dict[str, Any] | None = None,
 ) -> text_types.BatchEmbeddingDict: ...
 
 
 def embed_content(
     model: model_types.BaseModelNameOptions,
     content: content_types.ContentType | Iterable[content_types.ContentType],
     task_type: EmbeddingTaskTypeOptions | None = None,
     title: str | None = None,
+    output_dimensionality: int | None = None,
     client: glm.GenerativeServiceClient = None,
     request_options: dict[str, Any] | None = None,
 ) -> text_types.EmbeddingDict | text_types.BatchEmbeddingDict:
     """Calls the API to create embeddings for content passed in.
 
     Args:
         model:
@@ -131,14 +142,20 @@
         task_type:
             Optional task type for which the embeddings will be used. Can only
             be set for `models/embedding-001`.
 
         title:
             An optional title for the text. Only applicable when task_type is
             `RETRIEVAL_DOCUMENT`.
+
+        output_dimensionality:
+            Optional reduced dimensionality for the output embeddings. If set,
+            excessive values from the output embeddings will be truncated from
+            the end.
+
         request_options:
             Options for the request.
 
     Return:
         Dictionary containing the embedding (list of float values) for the
         input content.
     """
@@ -151,37 +168,48 @@
         client = get_default_generative_client()
 
     if title and to_task_type(task_type) is not EmbeddingTaskType.RETRIEVAL_DOCUMENT:
         raise ValueError(
             "If a title is specified, the task must be a retrieval document type task."
         )
 
+    if output_dimensionality and output_dimensionality < 0:
+        raise ValueError("`output_dimensionality` must be a non-negative integer.")
+
     if task_type:
         task_type = to_task_type(task_type)
 
     if isinstance(content, Iterable) and not isinstance(content, (str, Mapping)):
         result = {"embedding": []}
         requests = (
             glm.EmbedContentRequest(
-                model=model, content=content_types.to_content(c), task_type=task_type, title=title
+                model=model,
+                content=content_types.to_content(c),
+                task_type=task_type,
+                title=title,
+                output_dimensionality=output_dimensionality,
             )
             for c in content
         )
         for batch in _batched(requests, EMBEDDING_MAX_BATCH_SIZE):
             embedding_request = glm.BatchEmbedContentsRequest(model=model, requests=batch)
             embedding_response = client.batch_embed_contents(
                 embedding_request,
                 **request_options,
             )
             embedding_dict = type(embedding_response).to_dict(embedding_response)
             result["embedding"].extend(e["values"] for e in embedding_dict["embeddings"])
         return result
     else:
         embedding_request = glm.EmbedContentRequest(
-            model=model, content=content_types.to_content(content), task_type=task_type, title=title
+            model=model,
+            content=content_types.to_content(content),
+            task_type=task_type,
+            title=title,
+            output_dimensionality=output_dimensionality,
         )
         embedding_response = client.embed_content(
             embedding_request,
             **request_options,
         )
         embedding_dict = type(embedding_response).to_dict(embedding_response)
         embedding_dict["embedding"] = embedding_dict["embedding"]["values"]
@@ -190,35 +218,38 @@
 
 @overload
 async def embed_content_async(
     model: model_types.BaseModelNameOptions,
     content: content_types.ContentType,
     task_type: EmbeddingTaskTypeOptions | None = None,
     title: str | None = None,
+    output_dimensionality: int | None = None,
     client: glm.GenerativeServiceAsyncClient | None = None,
     request_options: dict[str, Any] | None = None,
 ) -> text_types.EmbeddingDict: ...
 
 
 @overload
 async def embed_content_async(
     model: model_types.BaseModelNameOptions,
     content: Iterable[content_types.ContentType],
     task_type: EmbeddingTaskTypeOptions | None = None,
     title: str | None = None,
+    output_dimensionality: int | None = None,
     client: glm.GenerativeServiceAsyncClient | None = None,
     request_options: dict[str, Any] | None = None,
 ) -> text_types.BatchEmbeddingDict: ...
 
 
 async def embed_content_async(
     model: model_types.BaseModelNameOptions,
     content: content_types.ContentType | Iterable[content_types.ContentType],
     task_type: EmbeddingTaskTypeOptions | None = None,
     title: str | None = None,
+    output_dimensionality: int | None = None,
     client: glm.GenerativeServiceAsyncClient = None,
     request_options: dict[str, Any] | None = None,
 ) -> text_types.EmbeddingDict | text_types.BatchEmbeddingDict:
     """The async version of `genai.embed_content`."""
     model = model_types.make_model_name(model)
 
     if request_options is None:
@@ -228,37 +259,48 @@
         client = get_default_generative_async_client()
 
     if title and to_task_type(task_type) is not EmbeddingTaskType.RETRIEVAL_DOCUMENT:
         raise ValueError(
             "If a title is specified, the task must be a retrieval document type task."
         )
 
+    if output_dimensionality and output_dimensionality < 0:
+        raise ValueError("`output_dimensionality` must be a non-negative integer.")
+
     if task_type:
         task_type = to_task_type(task_type)
 
     if isinstance(content, Iterable) and not isinstance(content, (str, Mapping)):
         result = {"embedding": []}
         requests = (
             glm.EmbedContentRequest(
-                model=model, content=content_types.to_content(c), task_type=task_type, title=title
+                model=model,
+                content=content_types.to_content(c),
+                task_type=task_type,
+                title=title,
+                output_dimensionality=output_dimensionality,
             )
             for c in content
         )
         for batch in _batched(requests, EMBEDDING_MAX_BATCH_SIZE):
             embedding_request = glm.BatchEmbedContentsRequest(model=model, requests=batch)
             embedding_response = await client.batch_embed_contents(
                 embedding_request,
                 **request_options,
             )
             embedding_dict = type(embedding_response).to_dict(embedding_response)
             result["embedding"].extend(e["values"] for e in embedding_dict["embeddings"])
         return result
     else:
         embedding_request = glm.EmbedContentRequest(
-            model=model, content=content_types.to_content(content), task_type=task_type, title=title
+            model=model,
+            content=content_types.to_content(content),
+            task_type=task_type,
+            title=title,
+            output_dimensionality=output_dimensionality,
         )
         embedding_response = await client.embed_content(
             embedding_request,
             **request_options,
         )
         embedding_dict = type(embedding_response).to_dict(embedding_response)
         embedding_dict["embedding"] = embedding_dict["embedding"]["values"]
```

## google/generativeai/version.py

```diff
@@ -10,8 +10,8 @@
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 from __future__ import annotations
 
-__version__ = "0.5.1"
+__version__ = "0.5.2"
```

## Comparing `google_generativeai-0.5.1.dist-info/LICENSE` & `google_generativeai-0.5.2.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `google_generativeai-0.5.1.dist-info/METADATA` & `google_generativeai-0.5.2.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: google-generativeai
-Version: 0.5.1
+Version: 0.5.2
 Summary: Google Generative AI High level API client library and tools.
 Home-page: https://github.com/google/generative-ai-python
 Author: Google LLC
 Author-email: googleapis-packages@google.com
 License: Apache 2.0
 Platform: Posix; MacOS X; Windows
 Classifier: Development Status :: 4 - Beta
```

## Comparing `google_generativeai-0.5.1.dist-info/RECORD` & `google_generativeai-0.5.2.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,23 +1,24 @@
-google_generativeai-0.5.1-py3.11-nspkg.pth,sha256=SSGHNp7YlGakPsphxkWm0fKg3pzrfQYRQ42ZPtiPF-4,467
+google_generativeai-0.5.2-py3.11-nspkg.pth,sha256=SSGHNp7YlGakPsphxkWm0fKg3pzrfQYRQ42ZPtiPF-4,467
 google/generativeai/__init__.py,sha256=F-xuWzgEZq1aOXnYZJ7pby8qZfistnRKLVOStvXmJR0,2806
 google/generativeai/answer.py,sha256=r7q3Q7tVAJPPxJThUtZXMU_csT2mp-y1ZlPdINbwf7k,13383
-google/generativeai/client.py,sha256=DQzOvgUeQ-BsN7GTOnHYQfklzAnOOdJhJOW_bHljYqA,12516
+google/generativeai/client.py,sha256=A9jIlT11R8czQCx0l42MHRibS1DY4dEcFHV-4dsPgA4,12609
 google/generativeai/discuss.py,sha256=FYPRK8WRRryjSzXm0xRmPEGa7F0KxWX624aSAcXrowA,20937
-google/generativeai/embedding.py,sha256=JQ-yiON-trfNa-ExAtkLPZdKTFsf_2550j7viKT0acg,9919
+google/generativeai/embedding.py,sha256=4GlNXOXJQ_evVSrla2qoWA8KuaJRaOb5Kt_99lRXgDo,11583
 google/generativeai/files.py,sha256=MTWTnQszUsDxtMOsQ9qliS_oG8oKglgxrDqIrvUzvlA,2226
 google/generativeai/generative_models.py,sha256=EqpAQVjjEdfZ9mCdrZgP55b6InPw32tqDubdiaSwYRM,28672
 google/generativeai/models.py,sha256=dV10pXwUUAojlwA6O5LiYcUdG1tRvL9gv8fGmeAftsg,14685
 google/generativeai/operations.py,sha256=9c0BRjEwQ8sWUTs1ehJwhbn1UfsYvJvU4FiqF0Zo8HY,4900
 google/generativeai/permission.py,sha256=9iiIaVmPcFFG6dWF-tob1wx4jOCDZe7x4UoEDkp-Rn8,1410
+google/generativeai/responder.py,sha256=rgbgpsYWCg_Melc0wAbBMWIzRDc1i-VykxofC4ojoKw,15386
 google/generativeai/retriever.py,sha256=FoDJhO8_oo5-8hTkLwyU_xrm97mtrFrKgGwLzsKPDPA,8542
 google/generativeai/string_utils.py,sha256=vOU4fHULo9O69vtwsZ5DNQGndEV3ZDizX3sytv0ixZg,2441
 google/generativeai/text.py,sha256=Lr08glxMDT4_6YJCZ4zOtrD6CdRnvWOGjg5z_qSrayI,13190
 google/generativeai/utils.py,sha256=d33Ia_WnNoHaCqUfq7uRZsUKuCxMAtIa1wC-P0jlbpM,976
-google/generativeai/version.py,sha256=yXAQkTYYArKT4lwxyk3rlDiN5LYs_hZKImreQUPRtlk,656
+google/generativeai/version.py,sha256=95tlkAKMja1th4Zk83zOK9xhx724ywl8jQaa4JMAU4k,656
 google/generativeai/notebook/__init__.py,sha256=CVZrwI1B6hcVoGkVXk5M1UPPF7mpH7PfSAjjyAnVW4o,1169
 google/generativeai/notebook/argument_parser.py,sha256=akmRzKaDm-_aTGe8cy7a6zYlJpo7Cf2nMZ0FtPf_BwE,3961
 google/generativeai/notebook/cmd_line_parser.py,sha256=F2hXljhbSZCm4s13gS32_1TStZyOi8cAwKs1nmK0dvI,20532
 google/generativeai/notebook/command.py,sha256=BwpHMSSORuZfyCqVeJ9q694dPpmfL2jJrLhnbhWqAHw,1535
 google/generativeai/notebook/command_utils.py,sha256=u9F-OrVHHjjQWbCdeHY4TAIMdgseluynDWUK-CA92Ug,6270
 google/generativeai/notebook/compare_cmd.py,sha256=_S3yv9DrLicCspBlBYC4JuSCIT4vWDqf1PvQ_8O7PPI,2566
 google/generativeai/notebook/compile_cmd.py,sha256=LLGrGYCsG8PFj1DQ1Nu2NK3ihWxVeJ-ClVIM6mrRX3w,2365
@@ -60,13 +61,13 @@
 google/generativeai/types/file_types.py,sha256=rbAZzvpDdd4cjWGOhTK7iEuGPDq_X5HH4Bt1epnTbq0,2011
 google/generativeai/types/generation_types.py,sha256=abryvGm9CiEDnFg8CXhzu0xtjmL-zOyt0XSu6x24PrY,18640
 google/generativeai/types/model_types.py,sha256=9riBRp_bqh0I3Ev3A0kKxYN6kjQpJrrWyME9u21S96A,11638
 google/generativeai/types/permission_types.py,sha256=-I2M4NRFKiX9xVgEIUiPni7KQBSP1uI59GOSvth1Bb4,7599
 google/generativeai/types/retriever_types.py,sha256=lVQqqIFSWwGHWLcRQ5779yM6HLoaHaQuOI3MsBZ7lSI,61705
 google/generativeai/types/safety_types.py,sha256=PyXtF0-l2wjh56kaYtBt_J1WHNi9rUqINjmKGdnYC2s,10362
 google/generativeai/types/text_types.py,sha256=jdXBIEV-NNx-njOqLjMiL-YJFt9bkn2T8fVkwqxG-tU,2319
-google_generativeai-0.5.1.dist-info/LICENSE,sha256=z8d0m5b2O9McPEK1xHG_dWgUBT6EfBDz6wA0F7xSPTA,11358
-google_generativeai-0.5.1.dist-info/METADATA,sha256=7pUYFPGNUcWynY7PgDKDZDVThVXpFaKkZL25VX8vgGE,3921
-google_generativeai-0.5.1.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-google_generativeai-0.5.1.dist-info/namespace_packages.txt,sha256=_1QvSJIhFAGfxb79D6DhB7SUw2X6T4rwnz_LLrbcD3c,7
-google_generativeai-0.5.1.dist-info/top_level.txt,sha256=_1QvSJIhFAGfxb79D6DhB7SUw2X6T4rwnz_LLrbcD3c,7
-google_generativeai-0.5.1.dist-info/RECORD,,
+google_generativeai-0.5.2.dist-info/LICENSE,sha256=z8d0m5b2O9McPEK1xHG_dWgUBT6EfBDz6wA0F7xSPTA,11358
+google_generativeai-0.5.2.dist-info/METADATA,sha256=domPMgB8gDxb5ESbC2x4eMTlkyeY1P7otczV3Yv9u1w,3921
+google_generativeai-0.5.2.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+google_generativeai-0.5.2.dist-info/namespace_packages.txt,sha256=_1QvSJIhFAGfxb79D6DhB7SUw2X6T4rwnz_LLrbcD3c,7
+google_generativeai-0.5.2.dist-info/top_level.txt,sha256=_1QvSJIhFAGfxb79D6DhB7SUw2X6T4rwnz_LLrbcD3c,7
+google_generativeai-0.5.2.dist-info/RECORD,,
```

