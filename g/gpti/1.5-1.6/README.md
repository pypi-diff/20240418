# Comparing `tmp/gpti-1.5.tar.gz` & `tmp/gpti-1.6.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "gpti-1.5.tar", last modified: Tue Apr  9 19:54:13 2024, max compression
+gzip compressed data, was "gpti-1.6.tar", last modified: Wed Apr 17 23:32:03 2024, max compression
```

## Comparing `gpti-1.5.tar` & `gpti-1.6.tar`

### file list

```diff
@@ -1,14 +1,14 @@
-drwxrwxrwx   0        0        0        0 2024-04-09 19:54:13.819434 gpti-1.5/
--rw-rw-rw-   0        0        0     1084 2024-01-24 17:14:27.000000 gpti-1.5/LICENSE
--rw-rw-rw-   0        0        0    63532 2024-04-09 19:54:13.815993 gpti-1.5/PKG-INFO
--rw-rw-rw-   0        0        0    61477 2024-04-09 19:49:42.000000 gpti-1.5/README.md
-drwxrwxrwx   0        0        0        0 2024-04-09 19:54:13.787743 gpti-1.5/gpti/
--rw-rw-rw-   0        0        0   109640 2024-04-06 23:08:54.000000 gpti-1.5/gpti/__init__.py
-drwxrwxrwx   0        0        0        0 2024-04-09 19:54:13.808262 gpti-1.5/gpti.egg-info/
--rw-rw-rw-   0        0        0    63532 2024-04-09 19:54:13.000000 gpti-1.5/gpti.egg-info/PKG-INFO
--rw-rw-rw-   0        0        0      182 2024-04-09 19:54:13.000000 gpti-1.5/gpti.egg-info/SOURCES.txt
--rw-rw-rw-   0        0        0        1 2024-04-09 19:54:13.000000 gpti-1.5/gpti.egg-info/dependency_links.txt
--rw-rw-rw-   0        0        0        9 2024-04-09 19:54:13.000000 gpti-1.5/gpti.egg-info/requires.txt
--rw-rw-rw-   0        0        0        5 2024-04-09 19:54:13.000000 gpti-1.5/gpti.egg-info/top_level.txt
--rw-rw-rw-   0        0        0       42 2024-04-09 19:54:13.819434 gpti-1.5/setup.cfg
--rw-rw-rw-   0        0        0     1180 2024-04-09 19:51:45.000000 gpti-1.5/setup.py
+drwxrwxrwx   0        0        0        0 2024-04-17 23:32:03.574653 gpti-1.6/
+-rw-rw-rw-   0        0        0     1084 2024-01-24 17:14:27.000000 gpti-1.6/LICENSE
+-rw-rw-rw-   0        0        0    68607 2024-04-17 23:32:03.569745 gpti-1.6/PKG-INFO
+-rw-rw-rw-   0        0        0    66390 2024-04-17 23:29:48.000000 gpti-1.6/README.md
+drwxrwxrwx   0        0        0        0 2024-04-17 23:32:03.547066 gpti-1.6/gpti/
+-rw-rw-rw-   0        0        0   121628 2024-04-17 23:13:43.000000 gpti-1.6/gpti/__init__.py
+drwxrwxrwx   0        0        0        0 2024-04-17 23:32:03.567219 gpti-1.6/gpti.egg-info/
+-rw-rw-rw-   0        0        0    68607 2024-04-17 23:32:03.000000 gpti-1.6/gpti.egg-info/PKG-INFO
+-rw-rw-rw-   0        0        0      182 2024-04-17 23:32:03.000000 gpti-1.6/gpti.egg-info/SOURCES.txt
+-rw-rw-rw-   0        0        0        1 2024-04-17 23:32:03.000000 gpti-1.6/gpti.egg-info/dependency_links.txt
+-rw-rw-rw-   0        0        0        9 2024-04-17 23:32:03.000000 gpti-1.6/gpti.egg-info/requires.txt
+-rw-rw-rw-   0        0        0        5 2024-04-17 23:32:03.000000 gpti-1.6/gpti.egg-info/top_level.txt
+-rw-rw-rw-   0        0        0       42 2024-04-17 23:32:03.574653 gpti-1.6/setup.cfg
+-rw-rw-rw-   0        0        0     1180 2024-04-17 23:14:12.000000 gpti-1.6/setup.py
```

### Comparing `gpti-1.5/LICENSE` & `gpti-1.6/LICENSE`

 * *Files identical despite different names*

### Comparing `gpti-1.5/PKG-INFO` & `gpti-1.6/PKG-INFO`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: gpti
-Version: 1.5
+Version: 1.6
 Summary: This package simplifies your interaction with various GPT models, removing the need for tokens or other methods to access GPT
 Home-page: https://github.com/yandricr/gpti-py/
 Author: yandricr
 Author-email: yandribret@gmail.com
 License: MIT
 Project-URL: Documentation, https://nexra.aryahcr.cc/
 Project-URL: Funding, https://ko-fi.com/yandricr
@@ -30,15 +30,17 @@
 ```
 
 ## Available Models
 
 GPTI provides access to a variety of artificial intelligence models to meet various needs. Currently, the available models include:
 
 - [**ChatGPT**](#gpt)
+- [**ChatGPT v2**](#gpt-v2)
 - [**ChatGPT Web**](#gptweb)
+- [**ChatGPT Prompts**](#gpt-prompts)
 - [**Bing**](#bing)
 - [**LLaMA-2**](#llama2)
 - [**DALL·E**](#dalle)
 - [**DALL-E 2**](#dalle2) (PRO)
 - [**DALL-E Mini**](#dalle-mini)
 - [**Prodia**](#prodia)
 - [**Prodia Stable-Diffusion**](#prodia-stablediffusion)
@@ -67,15 +69,15 @@
 <a id="gpt"></a>
 ## Usage GPT
 
 ```python
 import json
 from gpti import gpt
 
-res = gpt(messages=[
+res = gpt.v1(messages=[
     {
         "role": "assistant",
         "content": "Hello! How are you today?"
     },
     {
         "role": "user",
         "content": "Hello, my name is Yandri."
@@ -128,24 +130,125 @@
 - davinci
 - curie
 - babbage
 - ada
 - babbage-002
 - davinci-002
 
+<a id="gpt-v2"></a>
+## Usage GPT v2
+
+It's quite similar, with the difference that it has the capability to generate real-time responses via streaming using gpt-3.5-turbo.
+
+```python
+import json
+from gpti import gpt
+
+res = gpt.v2(messages=[
+    {
+        "role": "assistant",
+        "content": "Hello! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Hello, my name is Yandri."
+    },
+    {
+        "role": "assistant",
+        "content": "Hello, Yandri! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Can you repeat my name?"
+    }
+], markdown=False, stream=False)
+
+if res.error != None:
+    print(json.dumps(res.error))
+else:
+    print(json.dumps(res.result))
+```
+
+#### JSON
+
+```json
+{
+    "code": 200,
+    "status": true,
+    "model": "ChatGPT",
+    "message": "Of course, Yandri! How can I assist you today?",
+    "original": null
+}
+```
+
+## Usage GPT v2 Streaming
+
+```python
+import json
+from gpti import gpt
+
+res = gpt.v2(messages=[
+    {
+        "role": "assistant",
+        "content": "Hello! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Hello, my name is Yandri."
+    },
+    {
+        "role": "assistant",
+        "content": "Hello, Yandri! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Can you repeat my name?"
+    }
+], markdown=True, stream=False)
+
+if res.error != None:
+    print(json.dumps(res.error))
+else:
+    for chunk in res.stream():
+        print(json.dumps(chunk))
+```
+
+#### JSON
+
+```json
+{"message":"Hello! How are you today?","original":null,"finish":false,"error":false}
+{"message":"","original":null,"finish":false,"error":false}
+{"message":"Of","original":null,"finish":false,"error":false}
+{"message":"Of course","original":null,"finish":false,"error":false}
+{"message":"Of course,","original":null,"finish":false,"error":false}
+{"message":"Of course, Yand","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri!","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today?","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today?","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today?","original":null,"finish":false,"error":false}
+{"message":null,"original":null,"finish":true,"error":false}
+```
+
 <a id="gptweb"></a>
 ## Usage GPT Web
 
 GPT-4 has been enhanced by me, but errors may arise due to technological complexity. It is advisable to exercise caution when relying entirely on its accuracy for online queries.
 
 ```python
 import json
-from gpti import gptweb
+from gpti import gpt
 
-res = gptweb(prompt="Are you familiar with the movie Wonka released in 2023?", markdown=False)
+res = gpt.web(prompt="Are you familiar with the movie Wonka released in 2023?", markdown=False)
 
 if res.error != None:
     print(json.dumps(res.error))
 else: 
     print(json.dumps(res.result))
 ```
 
@@ -156,14 +259,73 @@
     "code": 200,
     "status": true,
     "gpt": "Yes, I am familiar with the movie Wonka released in 2023. Wonka is a musical fantasy film directed by Paul King, adapted from the character at the center of Roald Dahl's iconic children's book, \"Charlie and the Chocolate Factory.\" The film follows the story of a young and poor Willy Wonka as he dreams of opening a shop in a chocolate-renowned city and discovers that the industry is controlled by a greedy cartel. The film has a rating of 7.1/10 and has received positive reviews with a score of 83% on Rotten Tomatoes. It was released on December 15, 2023, and has earned $552.1 million at the box office. The cast includes actors such as Timothée Chalamet. Unfortunately, I couldn't find information on whether the movie is available on Netflix.",
     "original": null
 }
 ```
 
+<a id="gpt-prompts"></a>
+## Usage GPT Prompts
+
+```python
+import json
+from gpti import gpt
+
+res = gpt.prompts(lang="en", limit=4, offset=0)
+
+if res.error != None:
+    print(json.dumps(res.error))
+else:
+    for chunk in res.stream():
+        print(json.dumps(chunk))
+```
+
+#### JSON
+
+```json
+{
+    "code": 200,
+    "status": true,
+    "items": [
+        {
+            "id": "e90a6598",
+            "title": "Suggest fun activities",
+            "description": "to do indoors with my high-energy dog",
+            "prompt": "What are five fun and creative activities to do indoors with my dog who has a lot of energy?",
+            "category": "idea"
+        },
+        {
+            "id": "974d4604",
+            "title": "Help me pick",
+            "description": "a birthday gift for my mom who likes gardening",
+            "prompt": "Help me pick a birthday gift for my mom who likes gardening. But don't give me gardening tools – she already has all of them!",
+            "category": "shop"
+        },
+        {
+            "id": "d1c0099d",
+            "title": "Help me study",
+            "description": "vocabulary for a college entrance exam",
+            "prompt": "Help me study vocabulary: write a sentence for me to fill in the blank, and I'll try to pick the correct option.",
+            "category": "teach-or-explain"
+        },
+        {
+            "id": "a36cb799",
+            "title": "Write a letter to future me",
+            "description": "reflecting on my mental health",
+            "prompt": "Can you help me craft a letter to my future self? Start by asking me about the key milestones and struggles in my mental health journey I'd like to include.",
+            "category": "write"
+        }
+    ],
+    "total": 4,
+    "limit": 4,
+    "offset": 0,
+    "lang": "en"
+}
+```
+
 <a id="bing"></a>
 ## Usage Bing
 
 ```python
 import json
 from gpti import bing
```

### Comparing `gpti-1.5/README.md` & `gpti-1.6/README.md`

 * *Files 4% similar despite different names*

```diff
@@ -14,15 +14,17 @@
 ```
 
 ## Available Models
 
 GPTI provides access to a variety of artificial intelligence models to meet various needs. Currently, the available models include:
 
 - [**ChatGPT**](#gpt)
+- [**ChatGPT v2**](#gpt-v2)
 - [**ChatGPT Web**](#gptweb)
+- [**ChatGPT Prompts**](#gpt-prompts)
 - [**Bing**](#bing)
 - [**LLaMA-2**](#llama2)
 - [**DALL·E**](#dalle)
 - [**DALL-E 2**](#dalle2) (PRO)
 - [**DALL-E Mini**](#dalle-mini)
 - [**Prodia**](#prodia)
 - [**Prodia Stable-Diffusion**](#prodia-stablediffusion)
@@ -51,15 +53,15 @@
 <a id="gpt"></a>
 ## Usage GPT
 
 ```python
 import json
 from gpti import gpt
 
-res = gpt(messages=[
+res = gpt.v1(messages=[
     {
         "role": "assistant",
         "content": "Hello! How are you today?"
     },
     {
         "role": "user",
         "content": "Hello, my name is Yandri."
@@ -112,24 +114,125 @@
 - davinci
 - curie
 - babbage
 - ada
 - babbage-002
 - davinci-002
 
+<a id="gpt-v2"></a>
+## Usage GPT v2
+
+It's quite similar, with the difference that it has the capability to generate real-time responses via streaming using gpt-3.5-turbo.
+
+```python
+import json
+from gpti import gpt
+
+res = gpt.v2(messages=[
+    {
+        "role": "assistant",
+        "content": "Hello! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Hello, my name is Yandri."
+    },
+    {
+        "role": "assistant",
+        "content": "Hello, Yandri! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Can you repeat my name?"
+    }
+], markdown=False, stream=False)
+
+if res.error != None:
+    print(json.dumps(res.error))
+else:
+    print(json.dumps(res.result))
+```
+
+#### JSON
+
+```json
+{
+    "code": 200,
+    "status": true,
+    "model": "ChatGPT",
+    "message": "Of course, Yandri! How can I assist you today?",
+    "original": null
+}
+```
+
+## Usage GPT v2 Streaming
+
+```python
+import json
+from gpti import gpt
+
+res = gpt.v2(messages=[
+    {
+        "role": "assistant",
+        "content": "Hello! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Hello, my name is Yandri."
+    },
+    {
+        "role": "assistant",
+        "content": "Hello, Yandri! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Can you repeat my name?"
+    }
+], markdown=True, stream=False)
+
+if res.error != None:
+    print(json.dumps(res.error))
+else:
+    for chunk in res.stream():
+        print(json.dumps(chunk))
+```
+
+#### JSON
+
+```json
+{"message":"Hello! How are you today?","original":null,"finish":false,"error":false}
+{"message":"","original":null,"finish":false,"error":false}
+{"message":"Of","original":null,"finish":false,"error":false}
+{"message":"Of course","original":null,"finish":false,"error":false}
+{"message":"Of course,","original":null,"finish":false,"error":false}
+{"message":"Of course, Yand","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri!","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today?","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today?","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today?","original":null,"finish":false,"error":false}
+{"message":null,"original":null,"finish":true,"error":false}
+```
+
 <a id="gptweb"></a>
 ## Usage GPT Web
 
 GPT-4 has been enhanced by me, but errors may arise due to technological complexity. It is advisable to exercise caution when relying entirely on its accuracy for online queries.
 
 ```python
 import json
-from gpti import gptweb
+from gpti import gpt
 
-res = gptweb(prompt="Are you familiar with the movie Wonka released in 2023?", markdown=False)
+res = gpt.web(prompt="Are you familiar with the movie Wonka released in 2023?", markdown=False)
 
 if res.error != None:
     print(json.dumps(res.error))
 else: 
     print(json.dumps(res.result))
 ```
 
@@ -140,14 +243,73 @@
     "code": 200,
     "status": true,
     "gpt": "Yes, I am familiar with the movie Wonka released in 2023. Wonka is a musical fantasy film directed by Paul King, adapted from the character at the center of Roald Dahl's iconic children's book, \"Charlie and the Chocolate Factory.\" The film follows the story of a young and poor Willy Wonka as he dreams of opening a shop in a chocolate-renowned city and discovers that the industry is controlled by a greedy cartel. The film has a rating of 7.1/10 and has received positive reviews with a score of 83% on Rotten Tomatoes. It was released on December 15, 2023, and has earned $552.1 million at the box office. The cast includes actors such as Timothée Chalamet. Unfortunately, I couldn't find information on whether the movie is available on Netflix.",
     "original": null
 }
 ```
 
+<a id="gpt-prompts"></a>
+## Usage GPT Prompts
+
+```python
+import json
+from gpti import gpt
+
+res = gpt.prompts(lang="en", limit=4, offset=0)
+
+if res.error != None:
+    print(json.dumps(res.error))
+else:
+    for chunk in res.stream():
+        print(json.dumps(chunk))
+```
+
+#### JSON
+
+```json
+{
+    "code": 200,
+    "status": true,
+    "items": [
+        {
+            "id": "e90a6598",
+            "title": "Suggest fun activities",
+            "description": "to do indoors with my high-energy dog",
+            "prompt": "What are five fun and creative activities to do indoors with my dog who has a lot of energy?",
+            "category": "idea"
+        },
+        {
+            "id": "974d4604",
+            "title": "Help me pick",
+            "description": "a birthday gift for my mom who likes gardening",
+            "prompt": "Help me pick a birthday gift for my mom who likes gardening. But don't give me gardening tools – she already has all of them!",
+            "category": "shop"
+        },
+        {
+            "id": "d1c0099d",
+            "title": "Help me study",
+            "description": "vocabulary for a college entrance exam",
+            "prompt": "Help me study vocabulary: write a sentence for me to fill in the blank, and I'll try to pick the correct option.",
+            "category": "teach-or-explain"
+        },
+        {
+            "id": "a36cb799",
+            "title": "Write a letter to future me",
+            "description": "reflecting on my mental health",
+            "prompt": "Can you help me craft a letter to my future self? Start by asking me about the key milestones and struggles in my mental health journey I'd like to include.",
+            "category": "write"
+        }
+    ],
+    "total": 4,
+    "limit": 4,
+    "offset": 0,
+    "lang": "en"
+}
+```
+
 <a id="bing"></a>
 ## Usage Bing
 
 ```python
 import json
 from gpti import bing
```

### Comparing `gpti-1.5/gpti/__init__.py` & `gpti-1.6/gpti/__init__.py`

 * *Files 2% similar despite different names*

```diff
@@ -6,6848 +6,7597 @@
 00000050: 612d 7365 6372 6574 223a 204e 6f6e 650d  a-secret": None.
 00000060: 0a7d 0d0a 0d0a 6465 6620 6e65 7872 6128  .}....def nexra(
 00000070: 7573 6572 2c20 7365 6372 6574 293a 0d0a  user, secret):..
 00000080: 2020 2020 6372 6564 5b22 782d 6e65 7872      cred["x-nexr
 00000090: 612d 7365 6372 6574 225d 203d 2073 6563  a-secret"] = sec
 000000a0: 7265 740d 0a20 2020 2063 7265 645b 2278  ret..    cred["x
 000000b0: 2d6e 6578 7261 2d75 7365 7222 5d20 3d20  -nexra-user"] = 
-000000c0: 7573 6572 0d0a 0d0a 0d0a 636c 6173 7320  user......class 
-000000d0: 6770 743a 0d0a 2020 2020 6572 726f 7220  gpt:..    error 
-000000e0: 3d20 4e6f 6e65 0d0a 2020 2020 7265 7375  = None..    resu
-000000f0: 6c74 203d 204e 6f6e 650d 0a20 2020 2064  lt = None..    d
-00000100: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
-00000110: 2c20 6d65 7373 6167 6573 3d5b 5d2c 2070  , messages=[], p
-00000120: 726f 6d70 743d 2222 2c20 6d6f 6465 6c3d  rompt="", model=
-00000130: 2222 2c20 6d61 726b 646f 776e 3d46 616c  "", markdown=Fal
-00000140: 7365 2920 2d3e 204e 6f6e 653a 0d0a 2020  se) -> None:..  
-00000150: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
-00000160: 2020 2020 2020 2020 6865 6164 6572 7320          headers 
-00000170: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-00000180: 2020 2020 2022 436f 6e74 656e 742d 5479       "Content-Ty
-00000190: 7065 223a 2022 6170 706c 6963 6174 696f  pe": "applicatio
-000001a0: 6e2f 6a73 6f6e 220d 0a20 2020 2020 2020  n/json"..       
-000001b0: 2020 2020 207d 0d0a 0d0a 2020 2020 2020       }....      
-000001c0: 2020 2020 2020 6461 7461 203d 206a 736f        data = jso
-000001d0: 6e2e 6475 6d70 7328 7b7d 290d 0a20 2020  n.dumps({})..   
-000001e0: 2020 2020 2020 2020 2074 7279 3a0d 0a20           try:.. 
-000001f0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00000200: 6174 6120 3d20 6a73 6f6e 2e64 756d 7073  ata = json.dumps
-00000210: 287b 0d0a 2020 2020 2020 2020 2020 2020  ({..            
-00000220: 2020 2020 2020 2020 226d 6573 7361 6765          "message
-00000230: 7322 3a20 6d65 7373 6167 6573 2069 6620  s": messages if 
-00000240: 6d65 7373 6167 6573 2069 7320 6e6f 7420  messages is not 
-00000250: 4e6f 6e65 2065 6c73 6520 5b5d 2c0d 0a20  None else [],.. 
-00000260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000270: 2020 2022 7072 6f6d 7074 223a 2070 726f     "prompt": pro
-00000280: 6d70 7420 6966 2070 726f 6d70 7420 6973  mpt if prompt is
-00000290: 206e 6f74 204e 6f6e 6520 656c 7365 2022   not None else "
-000002a0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-000002b0: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
-000002c0: 206d 6f64 656c 2069 6620 6d6f 6465 6c20   model if model 
-000002d0: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
-000002e0: 2022 4750 542d 3422 2c0d 0a20 2020 2020   "GPT-4",..     
-000002f0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00000300: 6d61 726b 646f 776e 223a 206d 6172 6b64  markdown": markd
-00000310: 6f77 6e20 6966 206d 6172 6b64 6f77 6e20  own if markdown 
-00000320: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
-00000330: 2046 616c 7365 0d0a 2020 2020 2020 2020   False..        
-00000340: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
-00000350: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-00000360: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
-00000370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000380: 6461 7461 203d 206a 736f 6e2e 6475 6d70  data = json.dump
-00000390: 7328 7b0d 0a20 2020 2020 2020 2020 2020  s({..           
-000003a0: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
-000003b0: 6573 223a 205b 5d2c 0d0a 2020 2020 2020  es": [],..      
-000003c0: 2020 2020 2020 2020 2020 2020 2020 2270                "p
-000003d0: 726f 6d70 7422 3a20 2222 2c0d 0a20 2020  rompt": "",..   
-000003e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000003f0: 2022 6d6f 6465 6c22 3a20 2247 5054 2d34   "model": "GPT-4
-00000400: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-00000410: 2020 2020 2020 2020 226d 6172 6b64 6f77          "markdow
-00000420: 6e22 3a20 4661 6c73 650d 0a20 2020 2020  n": False..     
-00000430: 2020 2020 2020 2020 2020 207d 290d 0a0d             })...
-00000440: 0a20 2020 2020 2020 2020 2020 2072 6573  .            res
-00000450: 706f 6e73 6520 3d20 7265 7175 6573 7473  ponse = requests
-00000460: 2e70 6f73 7428 7572 6c3d 2268 7474 7073  .post(url="https
-00000470: 3a2f 2f6e 6578 7261 2e61 7279 6168 6372  ://nexra.aryahcr
-00000480: 2e63 632f 6170 692f 6368 6174 2f67 7074  .cc/api/chat/gpt
-00000490: 222c 2068 6561 6465 7273 3d68 6561 6465  ", headers=heade
-000004a0: 7273 2c20 6461 7461 3d64 6174 6129 0d0a  rs, data=data)..
-000004b0: 2020 2020 2020 2020 2020 2020 6966 2072              if r
-000004c0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-000004d0: 6f64 6520 3d3d 2032 3030 3a0d 0a20 2020  ode == 200:..   
-000004e0: 2020 2020 2020 2020 2020 2020 2065 7272               err
-000004f0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
-00000500: 2020 2020 2020 2020 2072 6573 756c 7420           result 
-00000510: 3d20 4e6f 6e65 0d0a 0d0a 2020 2020 2020  = None....      
-00000520: 2020 2020 2020 2020 2020 636f 756e 7420            count 
-00000530: 3d20 2d31 0d0a 2020 2020 2020 2020 2020  = -1..          
-00000540: 2020 2020 2020 666f 7220 6920 696e 2072        for i in r
-00000550: 616e 6765 286c 656e 2872 6573 706f 6e73  ange(len(respons
-00000560: 652e 7465 7874 2929 3a0d 0a20 2020 2020  e.text)):..     
-00000570: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00000580: 6620 636f 756e 7420 3c3d 202d 313a 0d0a  f count <= -1:..
+000000c0: 7573 6572 0d0a 0d0a 636c 6173 7320 6770  user....class gp
+000000d0: 743a 0d0a 2020 2020 636c 6173 7320 7631  t:..    class v1
+000000e0: 3a0d 0a20 2020 2020 2020 2065 7272 6f72  :..        error
+000000f0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+00000100: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
+00000110: 2020 2020 2020 2020 6465 6620 5f5f 696e          def __in
+00000120: 6974 5f5f 2873 656c 662c 206d 6573 7361  it__(self, messa
+00000130: 6765 733d 5b5d 2c20 7072 6f6d 7074 3d22  ges=[], prompt="
+00000140: 222c 206d 6f64 656c 3d22 222c 206d 6172  ", model="", mar
+00000150: 6b64 6f77 6e3d 4661 6c73 6529 202d 3e20  kdown=False) -> 
+00000160: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
+00000170: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
+00000180: 2020 2020 2020 2020 2068 6561 6465 7273           headers
+00000190: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+000001a0: 2020 2020 2020 2020 2020 2243 6f6e 7465            "Conte
+000001b0: 6e74 2d54 7970 6522 3a20 2261 7070 6c69  nt-Type": "appli
+000001c0: 6361 7469 6f6e 2f6a 736f 6e22 0d0a 2020  cation/json"..  
+000001d0: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
+000001e0: 0a0d 0a20 2020 2020 2020 2020 2020 2020  ...             
+000001f0: 2020 2064 6174 6120 3d20 6a73 6f6e 2e64     data = json.d
+00000200: 756d 7073 287b 7d29 0d0a 2020 2020 2020  umps({})..      
+00000210: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
+00000220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000230: 2020 2020 6461 7461 203d 206a 736f 6e2e      data = json.
+00000240: 6475 6d70 7328 7b0d 0a20 2020 2020 2020  dumps({..       
+00000250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000260: 2022 6d65 7373 6167 6573 223a 206d 6573   "messages": mes
+00000270: 7361 6765 7320 6966 206d 6573 7361 6765  sages if message
+00000280: 7320 6973 206e 6f74 204e 6f6e 6520 656c  s is not None el
+00000290: 7365 205b 5d2c 0d0a 2020 2020 2020 2020  se [],..        
+000002a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000002b0: 2270 726f 6d70 7422 3a20 7072 6f6d 7074  "prompt": prompt
+000002c0: 2069 6620 7072 6f6d 7074 2069 7320 6e6f   if prompt is no
+000002d0: 7420 4e6f 6e65 2065 6c73 6520 2222 2c0d  t None else "",.
+000002e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000002f0: 2020 2020 2020 2020 2022 6d6f 6465 6c22           "model"
+00000300: 3a20 6d6f 6465 6c20 6966 206d 6f64 656c  : model if model
+00000310: 2069 7320 6e6f 7420 4e6f 6e65 2065 6c73   is not None els
+00000320: 6520 2247 5054 2d34 222c 0d0a 2020 2020  e "GPT-4",..    
+00000330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000340: 2020 2020 226d 6172 6b64 6f77 6e22 3a20      "markdown": 
+00000350: 6d61 726b 646f 776e 2069 6620 6d61 726b  markdown if mark
+00000360: 646f 776e 2069 7320 6e6f 7420 4e6f 6e65  down is not None
+00000370: 2065 6c73 6520 4661 6c73 650d 0a20 2020   else False..   
+00000380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000390: 207d 290d 0a20 2020 2020 2020 2020 2020   })..           
+000003a0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+000003b0: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
+000003c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000003d0: 2064 6174 6120 3d20 6a73 6f6e 2e64 756d   data = json.dum
+000003e0: 7073 287b 0d0a 2020 2020 2020 2020 2020  ps({..          
+000003f0: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00000400: 6573 7361 6765 7322 3a20 5b5d 2c0d 0a20  essages": [],.. 
+00000410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000420: 2020 2020 2020 2022 7072 6f6d 7074 223a         "prompt":
+00000430: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
+00000440: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00000450: 6f64 656c 223a 2022 4750 542d 3422 2c0d  odel": "GPT-4",.
+00000460: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000470: 2020 2020 2020 2020 2022 6d61 726b 646f           "markdo
+00000480: 776e 223a 2046 616c 7365 0d0a 2020 2020  wn": False..    
+00000490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000004a0: 7d29 0d0a 0d0a 2020 2020 2020 2020 2020  })....          
+000004b0: 2020 2020 2020 7265 7370 6f6e 7365 203d        response =
+000004c0: 2072 6571 7565 7374 732e 706f 7374 2875   requests.post(u
+000004d0: 726c 3d22 6874 7470 733a 2f2f 6e65 7872  rl="https://nexr
+000004e0: 612e 6172 7961 6863 722e 6363 2f61 7069  a.aryahcr.cc/api
+000004f0: 2f63 6861 742f 6770 7422 2c20 6865 6164  /chat/gpt", head
+00000500: 6572 733d 6865 6164 6572 732c 2064 6174  ers=headers, dat
+00000510: 613d 6461 7461 290d 0a20 2020 2020 2020  a=data)..       
+00000520: 2020 2020 2020 2020 2069 6620 7265 7370           if resp
+00000530: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00000540: 203d 3d20 3230 303a 0d0a 2020 2020 2020   == 200:..      
+00000550: 2020 2020 2020 2020 2020 2020 2020 6572                er
+00000560: 7220 3d20 4e6f 6e65 0d0a 2020 2020 2020  r = None..      
+00000570: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00000580: 7375 6c74 203d 204e 6f6e 650d 0a0d 0a20  sult = None.... 
 00000590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000005a0: 2020 2020 2020 2020 6966 2072 6573 706f          if respo
-000005b0: 6e73 652e 7465 7874 5b69 5d20 3d3d 2022  nse.text[i] == "
-000005c0: 7b22 3a0d 0a20 2020 2020 2020 2020 2020  {":..           
-000005d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000005e0: 2063 6f75 6e74 203d 2069 0d0a 2020 2020   count = i..    
+000005a0: 2020 2063 6f75 6e74 203d 202d 310d 0a20     count = -1.. 
+000005b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000005c0: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
+000005d0: 6528 6c65 6e28 7265 7370 6f6e 7365 2e74  e(len(response.t
+000005e0: 6578 7429 293a 0d0a 2020 2020 2020 2020  ext)):..        
 000005f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000600: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
-00000610: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-00000620: 7265 616b 0d0a 2020 2020 2020 2020 2020  reak..          
-00000630: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
-00000640: 2020 2020 2020 2020 6966 2063 6f75 6e74          if count
-00000650: 203c 3d20 2d31 3a0d 0a20 2020 2020 2020   <= -1:..       
-00000660: 2020 2020 2020 2020 2020 2020 2065 7272               err
-00000670: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-00000680: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-00000690: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
+00000600: 6966 2063 6f75 6e74 203c 3d20 2d31 3a0d  if count <= -1:.
+00000610: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000620: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00000630: 7265 7370 6f6e 7365 2e74 6578 745b 695d  response.text[i]
+00000640: 203d 3d20 227b 223a 0d0a 2020 2020 2020   == "{":..      
+00000650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000660: 2020 2020 2020 2020 2020 636f 756e 7420            count 
+00000670: 3d20 690d 0a20 2020 2020 2020 2020 2020  = i..           
+00000680: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00000690: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
 000006a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000006b0: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
-000006c0: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
-000006d0: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-000006e0: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
-000006f0: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
-00000700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000710: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
-00000720: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
-00000730: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
+000006b0: 6272 6561 6b0d 0a20 2020 2020 2020 2020  break..         
+000006c0: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
+000006d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000006e0: 2069 6620 636f 756e 7420 3c3d 202d 313a   if count <= -1:
+000006f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00000700: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
+00000710: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00000720: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00000730: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
 00000740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000750: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
-00000760: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-00000770: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
-00000780: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-00000790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007a0: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
+00000750: 2020 2020 2020 2020 2022 7374 6174 7573           "status
+00000760: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
+00000770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000780: 2020 2020 2020 2022 6572 726f 7222 3a20         "error": 
+00000790: 2249 4e54 4552 4e41 4c5f 5345 5256 4552  "INTERNAL_SERVER
+000007a0: 5f45 5252 4f52 222c 0d0a 2020 2020 2020  _ERROR",..      
 000007b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007c0: 2020 6a73 203d 2072 6573 706f 6e73 652e    js = response.
-000007d0: 7465 7874 5b63 6f75 6e74 3a5d 0d0a 2020  text[count:]..  
-000007e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000007f0: 2020 2020 2020 6a73 203d 206a 736f 6e2e        js = json.
-00000800: 6c6f 6164 7328 6a73 290d 0a20 2020 2020  loads(js)..     
-00000810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000820: 2020 2069 6620 6a73 2021 3d20 4e6f 6e65     if js != None
-00000830: 2061 6e64 206a 735b 2263 6f64 6522 5d20   and js["code"] 
-00000840: 213d 204e 6f6e 6520 616e 6420 6a73 5b22  != None and js["
-00000850: 636f 6465 225d 203d 3d20 3230 3020 616e  code"] == 200 an
-00000860: 6420 6a73 5b22 7374 6174 7573 225d 2021  d js["status"] !
-00000870: 3d20 4e6f 6e65 2061 6e64 206a 735b 2273  = None and js["s
-00000880: 7461 7475 7322 5d20 3d3d 2054 7275 653a  tatus"] == True:
-00000890: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000008a0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-000008b0: 7375 6c74 203d 206a 730d 0a20 2020 2020  sult = js..     
-000008c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000008d0: 2020 2020 2020 2065 7272 203d 204e 6f6e         err = Non
-000008e0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-000008f0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00000900: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00000910: 2020 2020 2020 2020 2020 2020 2020 6572                er
-00000920: 7220 3d20 6a73 0d0a 2020 2020 2020 2020  r = js..        
-00000930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000940: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
-00000950: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-00000960: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-00000970: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
-00000980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000990: 2020 2020 2020 2065 7272 203d 207b 0d0a         err = {..
-000009a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000009b0: 2020 2020 2020 2020 2020 2020 2263 6f64              "cod
-000009c0: 6522 3a20 3530 302c 0d0a 2020 2020 2020  e": 500,..      
-000009d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000009e0: 2020 2020 2020 2273 7461 7475 7322 3a20        "status": 
-000009f0: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
-00000a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000a10: 2020 2020 2265 7272 6f72 223a 2022 494e      "error": "IN
-00000a20: 5445 524e 414c 5f53 4552 5645 525f 4552  TERNAL_SERVER_ER
-00000a30: 524f 5222 2c0d 0a20 2020 2020 2020 2020  ROR",..         
-00000a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000a50: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
-00000a60: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
-00000a70: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
-00000a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000a90: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
-00000aa0: 2020 2020 2020 2020 2020 2020 7265 7375              resu
-00000ab0: 6c74 203d 204e 6f6e 650d 0a0d 0a20 2020  lt = None....   
+000007c0: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
+000007d0: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
+000007e0: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
+000007f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000800: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
+00000810: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00000820: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
+00000830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000840: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+00000850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000860: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+00000870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000880: 2020 206a 7320 3d20 7265 7370 6f6e 7365     js = response
+00000890: 2e74 6578 745b 636f 756e 743a 5d0d 0a20  .text[count:].. 
+000008a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000008b0: 2020 2020 2020 2020 2020 206a 7320 3d20             js = 
+000008c0: 6a73 6f6e 2e6c 6f61 6473 286a 7329 0d0a  json.loads(js)..
+000008d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000008e0: 2020 2020 2020 2020 2020 2020 6966 206a              if j
+000008f0: 7320 213d 204e 6f6e 6520 616e 6420 6a73  s != None and js
+00000900: 5b22 636f 6465 225d 2021 3d20 4e6f 6e65  ["code"] != None
+00000910: 2061 6e64 206a 735b 2263 6f64 6522 5d20   and js["code"] 
+00000920: 3d3d 2032 3030 2061 6e64 206a 735b 2273  == 200 and js["s
+00000930: 7461 7475 7322 5d20 213d 204e 6f6e 6520  tatus"] != None 
+00000940: 616e 6420 6a73 5b22 7374 6174 7573 225d  and js["status"]
+00000950: 203d 3d20 5472 7565 3a0d 0a20 2020 2020   == True:..     
+00000960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000970: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+00000980: 7420 3d20 6a73 0d0a 2020 2020 2020 2020  t = js..        
+00000990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000009a0: 2020 2020 2020 2020 6572 7220 3d20 4e6f          err = No
+000009b0: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+000009c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000009d0: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+000009e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000009f0: 2020 2020 2020 2065 7272 203d 206a 730d         err = js.
+00000a00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a20: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
+00000a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a40: 2020 2020 2020 2020 6578 6365 7074 2045          except E
+00000a50: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
+00000a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000a70: 2020 2020 2020 2020 2020 2020 6572 7220              err 
+00000a80: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
+00000a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000aa0: 2020 2020 2022 636f 6465 223a 2035 3030       "code": 500
+00000ab0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
 00000ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ad0: 2069 6620 7265 7375 6c74 203d 3d20 4e6f   if result == No
-00000ae0: 6e65 2061 6e64 2065 7272 2021 3d20 4e6f  ne and err != No
-00000af0: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
-00000b00: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00000b10: 662e 6572 726f 7220 3d20 6572 720d 0a20  f.error = err.. 
-00000b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b30: 2020 2020 2020 2073 656c 662e 7265 7375         self.resu
-00000b40: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
-00000b50: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00000b60: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-00000b70: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00000b80: 6c66 2e72 6573 756c 7420 3d20 7265 7375  lf.result = resu
-00000b90: 6c74 0d0a 2020 2020 2020 2020 2020 2020  lt..            
-00000ba0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00000bb0: 2e65 7272 6f72 203d 204e 6f6e 650d 0a20  .error = None.. 
-00000bc0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00000bd0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00000be0: 2020 6461 7461 5f65 7272 203d 207b 7d0d    data_err = {}.
-00000bf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000c00: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
-00000c10: 2020 2020 2020 2020 2020 2064 6174 615f             data_
-00000c20: 6572 7220 3d20 6a73 6f6e 2e6c 6f61 6473  err = json.loads
-00000c30: 2872 6573 706f 6e73 652e 7465 7874 290d  (response.text).
-00000c40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000c50: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-00000c60: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
-00000c70: 2020 2020 2020 2020 2020 2020 2064 6174               dat
-00000c80: 615f 6572 7220 3d20 7b0d 0a20 2020 2020  a_err = {..     
-00000c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ca0: 2020 2022 636f 6465 223a 2035 3030 2c0d     "code": 500,.
-00000cb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000cc0: 2020 2020 2020 2020 2022 7374 6174 7573           "status
-00000cd0: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
-00000ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000cf0: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
-00000d00: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
-00000d10: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
-00000d20: 2020 2020 2020 2020 2020 2020 2020 226d                "m
-00000d30: 6573 7361 6765 223a 2022 6765 6e65 7261  essage": "genera
-00000d40: 6c20 2875 6e6b 6e6f 776e 2920 6572 726f  l (unknown) erro
-00000d50: 7222 0d0a 2020 2020 2020 2020 2020 2020  r"..            
-00000d60: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
-00000d70: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
-00000d80: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00000d90: 662e 6572 726f 7220 3d20 6461 7461 5f65  f.error = data_e
-00000da0: 7272 0d0a 2020 2020 2020 2020 2020 2020  rr..            
-00000db0: 2020 2020 7365 6c66 2e72 6573 756c 7420      self.result 
-00000dc0: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
-00000dd0: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
-00000de0: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
-00000df0: 2020 2020 7365 6c66 2e65 7272 6f72 203d      self.error =
-00000e00: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
-00000e10: 2020 2020 2263 6f64 6522 3a20 3530 302c      "code": 500,
-00000e20: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00000e30: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
-00000e40: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00000e50: 2020 2020 2265 7272 6f72 223a 2022 494e      "error": "IN
-00000e60: 5445 524e 414c 5f53 4552 5645 525f 4552  TERNAL_SERVER_ER
-00000e70: 524f 5222 2c0d 0a20 2020 2020 2020 2020  ROR",..         
-00000e80: 2020 2020 2020 2022 6d65 7373 6167 6522         "message"
-00000e90: 3a20 2267 656e 6572 616c 2028 756e 6b6e  : "general (unkn
-00000ea0: 6f77 6e29 2065 7272 6f72 220d 0a20 2020  own) error"..   
-00000eb0: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
-00000ec0: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
-00000ed0: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
-00000ee0: 2020 2020 7061 7373 0d0a 2020 2020 6465      pass..    de
-00000ef0: 6620 6572 726f 7228 7365 6c66 293a 0d0a  f error(self):..
-00000f00: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00000f10: 656c 662e 6572 726f 720d 0a20 2020 2064  elf.error..    d
-00000f20: 6566 2072 6573 756c 7428 7365 6c66 293a  ef result(self):
-00000f30: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00000f40: 2073 656c 662e 7265 7375 6c74 0d0a 0d0a   self.result....
-00000f50: 636c 6173 7320 6770 7477 6562 3a0d 0a20  class gptweb:.. 
-00000f60: 2020 2065 7272 6f72 203d 204e 6f6e 650d     error = None.
-00000f70: 0a20 2020 2072 6573 756c 7420 3d20 4e6f  .    result = No
-00000f80: 6e65 0d0a 2020 2020 6465 6620 5f5f 696e  ne..    def __in
-00000f90: 6974 5f5f 2873 656c 662c 2070 726f 6d70  it__(self, promp
-00000fa0: 743d 2222 2c20 6d61 726b 646f 776e 3d46  t="", markdown=F
-00000fb0: 616c 7365 2920 2d3e 204e 6f6e 653a 0d0a  alse) -> None:..
-00000fc0: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
-00000fd0: 2020 2020 2020 2020 2020 6865 6164 6572            header
-00000fe0: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
-00000ff0: 2020 2020 2020 2022 436f 6e74 656e 742d         "Content-
-00001000: 5479 7065 223a 2022 6170 706c 6963 6174  Type": "applicat
-00001010: 696f 6e2f 6a73 6f6e 220d 0a20 2020 2020  ion/json"..     
-00001020: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
-00001030: 2020 2020 2020 2020 6461 7461 203d 206a          data = j
-00001040: 736f 6e2e 6475 6d70 7328 7b7d 290d 0a20  son.dumps({}).. 
-00001050: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
-00001060: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001070: 2064 6174 6120 3d20 6a73 6f6e 2e64 756d   data = json.dum
-00001080: 7073 287b 0d0a 2020 2020 2020 2020 2020  ps({..          
-00001090: 2020 2020 2020 2020 2020 2270 726f 6d70            "promp
-000010a0: 7422 3a20 7072 6f6d 7074 2069 6620 7072  t": prompt if pr
-000010b0: 6f6d 7074 2069 7320 6e6f 7420 4e6f 6e65  ompt is not None
-000010c0: 2065 6c73 6520 2222 2c0d 0a20 2020 2020   else "",..     
-000010d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000010e0: 6d61 726b 646f 776e 223a 206d 6172 6b64  markdown": markd
-000010f0: 6f77 6e20 6966 206d 6172 6b64 6f77 6e20  own if markdown 
-00001100: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
-00001110: 2046 616c 7365 0d0a 2020 2020 2020 2020   False..        
-00001120: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
-00001130: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-00001140: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
-00001150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001160: 6461 7461 203d 206a 736f 6e2e 6475 6d70  data = json.dump
-00001170: 7328 7b0d 0a20 2020 2020 2020 2020 2020  s({..           
-00001180: 2020 2020 2020 2020 2022 7072 6f6d 7074           "prompt
-00001190: 223a 2022 222c 0d0a 2020 2020 2020 2020  ": "",..        
-000011a0: 2020 2020 2020 2020 2020 2020 226d 6172              "mar
-000011b0: 6b64 6f77 6e22 3a20 4661 6c73 650d 0a20  kdown": False.. 
-000011c0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-000011d0: 290d 0a0d 0a20 2020 2020 2020 2020 2020  )....           
-000011e0: 2072 6573 706f 6e73 6520 3d20 7265 7175   response = requ
-000011f0: 6573 7473 2e70 6f73 7428 7572 6c3d 2268  ests.post(url="h
-00001200: 7474 7073 3a2f 2f6e 6578 7261 2e61 7279  ttps://nexra.ary
-00001210: 6168 6372 2e63 632f 6170 692f 6368 6174  ahcr.cc/api/chat
-00001220: 2f67 7074 7765 6222 2c20 6865 6164 6572  /gptweb", header
-00001230: 733d 6865 6164 6572 732c 2064 6174 613d  s=headers, data=
-00001240: 6461 7461 290d 0a20 2020 2020 2020 2020  data)..         
-00001250: 2020 2069 6620 7265 7370 6f6e 7365 2e73     if response.s
-00001260: 7461 7475 735f 636f 6465 203d 3d20 3230  tatus_code == 20
-00001270: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
-00001280: 2020 2020 6572 7220 3d20 4e6f 6e65 0d0a      err = None..
-00001290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000012a0: 7265 7375 6c74 203d 204e 6f6e 650d 0a0d  result = None...
-000012b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000012c0: 2063 6f75 6e74 203d 202d 310d 0a20 2020   count = -1..   
-000012d0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-000012e0: 2069 2069 6e20 7261 6e67 6528 6c65 6e28   i in range(len(
-000012f0: 7265 7370 6f6e 7365 2e74 6578 7429 293a  response.text)):
-00001300: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001310: 2020 2020 2020 6966 2063 6f75 6e74 203c        if count <
-00001320: 3d20 2d31 3a0d 0a20 2020 2020 2020 2020  = -1:..         
-00001330: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00001340: 6620 7265 7370 6f6e 7365 2e74 6578 745b  f response.text[
-00001350: 695d 203d 3d20 227b 223a 0d0a 2020 2020  i] == "{":..    
+00000ad0: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
+00000ae0: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
+00000af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b00: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
+00000b10: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
+00000b20: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
+00000b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b40: 2020 2020 2020 2020 226d 6573 7361 6765          "message
+00000b50: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
+00000b60: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
+00000b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b80: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
+00000b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ba0: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+00000bb0: 3d20 4e6f 6e65 0d0a 0d0a 2020 2020 2020  = None....      
+00000bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000bd0: 2020 6966 2072 6573 756c 7420 3d3d 204e    if result == N
+00000be0: 6f6e 6520 616e 6420 6572 7220 213d 204e  one and err != N
+00000bf0: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+00000c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c10: 2020 7365 6c66 2e65 7272 6f72 203d 2065    self.error = e
+00000c20: 7272 0d0a 2020 2020 2020 2020 2020 2020  rr..            
+00000c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c40: 7365 6c66 2e72 6573 756c 7420 3d20 4e6f  self.result = No
+00000c50: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+00000c60: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00000c70: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00000c80: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00000c90: 656c 662e 7265 7375 6c74 203d 2072 6573  elf.result = res
+00000ca0: 756c 740d 0a20 2020 2020 2020 2020 2020  ult..           
+00000cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000cc0: 2073 656c 662e 6572 726f 7220 3d20 4e6f   self.error = No
+00000cd0: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+00000ce0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
+00000cf0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00000d00: 6174 615f 6572 7220 3d20 7b7d 0d0a 2020  ata_err = {}..  
+00000d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d20: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+00000d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d40: 6461 7461 5f65 7272 203d 206a 736f 6e2e  data_err = json.
+00000d50: 6c6f 6164 7328 7265 7370 6f6e 7365 2e74  loads(response.t
+00000d60: 6578 7429 0d0a 2020 2020 2020 2020 2020  ext)..          
+00000d70: 2020 2020 2020 2020 2020 6578 6365 7074            except
+00000d80: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
+00000d90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00000da0: 2020 2020 2020 2020 2020 6461 7461 5f65            data_e
+00000db0: 7272 203d 207b 0d0a 2020 2020 2020 2020  rr = {..        
+00000dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000dd0: 2020 2020 2263 6f64 6522 3a20 3530 302c      "code": 500,
+00000de0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00000df0: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+00000e00: 7461 7475 7322 3a20 4661 6c73 652c 0d0a  tatus": False,..
+00000e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e20: 2020 2020 2020 2020 2020 2020 2265 7272              "err
+00000e30: 6f72 223a 2022 494e 5445 524e 414c 5f53  or": "INTERNAL_S
+00000e40: 4552 5645 525f 4552 524f 5222 2c0d 0a20  ERVER_ERROR",.. 
+00000e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e60: 2020 2020 2020 2020 2020 2022 6d65 7373             "mess
+00000e70: 6167 6522 3a20 2267 656e 6572 616c 2028  age": "general (
+00000e80: 756e 6b6e 6f77 6e29 2065 7272 6f72 220d  unknown) error".
+00000e90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000ea0: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
+00000eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ec0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00000ed0: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
+00000ee0: 203d 2064 6174 615f 6572 720d 0a20 2020   = data_err..   
+00000ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000f00: 2073 656c 662e 7265 7375 6c74 203d 204e   self.result = N
+00000f10: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+00000f20: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+00000f30: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
+00000f40: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
+00000f50: 726f 7220 3d20 7b0d 0a20 2020 2020 2020  ror = {..       
+00000f60: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+00000f70: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
+00000f80: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00000f90: 7374 6174 7573 223a 2046 616c 7365 2c0d  status": False,.
+00000fa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000fb0: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
+00000fc0: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
+00000fd0: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
+00000fe0: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
+00000ff0: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
+00001000: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
+00001010: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00001020: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
+00001030: 2020 2020 2073 656c 662e 7265 7375 6c74       self.result
+00001040: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+00001050: 2020 2020 2070 6173 730d 0a20 2020 2020       pass..     
+00001060: 2020 2064 6566 2065 7272 6f72 2873 656c     def error(sel
+00001070: 6629 3a0d 0a20 2020 2020 2020 2020 2020  f):..           
+00001080: 2072 6574 7572 6e20 7365 6c66 2e65 7272   return self.err
+00001090: 6f72 0d0a 2020 2020 2020 2020 6465 6620  or..        def 
+000010a0: 7265 7375 6c74 2873 656c 6629 3a0d 0a20  result(self):.. 
+000010b0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+000010c0: 6e20 7365 6c66 2e72 6573 756c 740d 0a20  n self.result.. 
+000010d0: 2020 2063 6c61 7373 2076 323a 0d0a 2020     class v2:..  
+000010e0: 2020 2020 2020 6572 726f 7220 3d20 4e6f        error = No
+000010f0: 6e65 0d0a 2020 2020 2020 2020 7265 7375  ne..        resu
+00001100: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
+00001110: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
+00001120: 7365 6c66 2c20 6d65 7373 6167 6573 3d5b  self, messages=[
+00001130: 5d2c 2063 6f6e 7665 7273 6174 696f 6e5f  ], conversation_
+00001140: 7374 796c 653d 2222 2c20 6d61 726b 646f  style="", markdo
+00001150: 776e 3d46 616c 7365 2c20 7374 7265 616d  wn=False, stream
+00001160: 3d46 616c 7365 2920 2d3e 204e 6f6e 653a  =False) -> None:
+00001170: 0d0a 2020 2020 2020 2020 2020 2020 7472  ..            tr
+00001180: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
+00001190: 2020 2020 6865 6164 6572 7320 3d20 7b0d      headers = {.
+000011a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000011b0: 2020 2020 2022 436f 6e74 656e 742d 5479       "Content-Ty
+000011c0: 7065 223a 2022 6170 706c 6963 6174 696f  pe": "applicatio
+000011d0: 6e2f 6a73 6f6e 220d 0a20 2020 2020 2020  n/json"..       
+000011e0: 2020 2020 2020 2020 207d 0d0a 0d0a 2020           }....  
+000011f0: 2020 2020 2020 2020 2020 2020 2020 6461                da
+00001200: 7461 203d 206a 736f 6e2e 6475 6d70 7328  ta = json.dumps(
+00001210: 7b7d 290d 0a0d 0a20 2020 2020 2020 2020  {})....         
+00001220: 2020 2020 2020 2073 7472 6d20 3d20 4661         strm = Fa
+00001230: 6c73 650d 0a20 2020 2020 2020 2020 2020  lse..           
+00001240: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
+00001250: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00001260: 6620 7374 7265 616d 2021 3d20 4e6f 6e65  f stream != None
+00001270: 2061 6e64 2073 7472 6561 6d20 3d3d 2054   and stream == T
+00001280: 7275 653a 0d0a 2020 2020 2020 2020 2020  rue:..          
+00001290: 2020 2020 2020 2020 2020 2020 2020 7374                st
+000012a0: 726d 203d 2054 7275 650d 0a20 2020 2020  rm = True..     
+000012b0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000012c0: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+000012d0: 2020 2020 2020 2020 2020 2020 2020 7374                st
+000012e0: 726d 203d 2046 616c 7365 0d0a 2020 2020  rm = False..    
+000012f0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00001300: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
+00001310: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00001320: 2020 2020 2020 2020 7374 726d 203d 2046          strm = F
+00001330: 616c 7365 0d0a 2020 2020 2020 2020 2020  alse..          
+00001340: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+00001350: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
 00001360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001370: 2020 2020 2020 2020 636f 756e 7420 3d20          count = 
-00001380: 690d 0a20 2020 2020 2020 2020 2020 2020  i..             
-00001390: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
-000013a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000013b0: 2020 2020 2020 6272 6561 6b0d 0a20 2020        break..   
-000013c0: 2020 2020 2020 2020 2020 2020 200d 0a20               .. 
-000013d0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-000013e0: 6620 636f 756e 7420 3c3d 202d 313a 0d0a  f count <= -1:..
-000013f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001400: 2020 2020 6572 7220 3d20 7b0d 0a20 2020      err = {..   
-00001410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001420: 2020 2020 2022 636f 6465 223a 2035 3030       "code": 500
-00001430: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00001440: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
-00001450: 7573 223a 2046 616c 7365 2c0d 0a20 2020  us": False,..   
-00001460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001470: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
-00001480: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
-00001490: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
+00001370: 2020 6461 7461 203d 206a 736f 6e2e 6475    data = json.du
+00001380: 6d70 7328 7b0d 0a20 2020 2020 2020 2020  mps({..         
+00001390: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000013a0: 6d65 7373 6167 6573 223a 206d 6573 7361  messages": messa
+000013b0: 6765 7320 6966 206d 6573 7361 6765 7320  ges if messages 
+000013c0: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
+000013d0: 205b 5d2c 0d0a 2020 2020 2020 2020 2020   [],..          
+000013e0: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+000013f0: 6172 6b64 6f77 6e22 3a20 6d61 726b 646f  arkdown": markdo
+00001400: 776e 2069 6620 6d61 726b 646f 776e 2069  wn if markdown i
+00001410: 7320 6e6f 7420 4e6f 6e65 2065 6c73 6520  s not None else 
+00001420: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
+00001430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001440: 2273 7472 6561 6d22 3a20 7374 726d 2069  "stream": strm i
+00001450: 6620 7374 726d 2069 7320 6e6f 7420 4e6f  f strm is not No
+00001460: 6e65 2065 6c73 6520 4661 6c73 652c 0d0a  ne else False,..
+00001470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001480: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
+00001490: 2022 6368 6174 6770 7422 0d0a 2020 2020   "chatgpt"..    
 000014a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000014b0: 226d 6573 7361 6765 223a 2022 6765 6e65  "message": "gene
-000014c0: 7261 6c20 2875 6e6b 6e6f 776e 2920 6572  ral (unknown) er
-000014d0: 726f 7222 0d0a 2020 2020 2020 2020 2020  ror"..          
-000014e0: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
-000014f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001500: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
-00001510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001520: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
-00001530: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
-00001540: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001550: 2020 2020 2020 2020 206a 7320 3d20 7265           js = re
-00001560: 7370 6f6e 7365 2e74 6578 745b 636f 756e  sponse.text[coun
-00001570: 743a 5d0d 0a20 2020 2020 2020 2020 2020  t:]..           
-00001580: 2020 2020 2020 2020 2020 2020 206a 7320               js 
-00001590: 3d20 6a73 6f6e 2e6c 6f61 6473 286a 7329  = json.loads(js)
-000015a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000015b0: 2020 2020 2020 2020 2020 6966 206a 7320            if js 
-000015c0: 213d 204e 6f6e 6520 616e 6420 6a73 5b22  != None and js["
-000015d0: 636f 6465 225d 2021 3d20 4e6f 6e65 2061  code"] != None a
-000015e0: 6e64 206a 735b 2263 6f64 6522 5d20 3d3d  nd js["code"] ==
-000015f0: 2032 3030 2061 6e64 206a 735b 2273 7461   200 and js["sta
-00001600: 7475 7322 5d20 213d 204e 6f6e 6520 616e  tus"] != None an
-00001610: 6420 6a73 5b22 7374 6174 7573 225d 203d  d js["status"] =
-00001620: 3d20 5472 7565 3a0d 0a20 2020 2020 2020  = True:..       
-00001630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001640: 2020 2020 2072 6573 756c 7420 3d20 6a73       result = js
+000014b0: 7d29 0d0a 2020 2020 2020 2020 2020 2020  })..            
+000014c0: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+000014d0: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
+000014e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000014f0: 6461 7461 203d 206a 736f 6e2e 6475 6d70  data = json.dump
+00001500: 7328 7b0d 0a20 2020 2020 2020 2020 2020  s({..           
+00001510: 2020 2020 2020 2020 2020 2020 2022 6d65               "me
+00001520: 7373 6167 6573 223a 205b 5d2c 0d0a 2020  ssages": [],..  
+00001530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001540: 2020 2020 2020 226d 6f64 656c 223a 2022        "model": "
+00001550: 6368 6174 6770 7422 2c0d 0a20 2020 2020  chatgpt",..     
+00001560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001570: 2020 2022 6d61 726b 646f 776e 223a 2046     "markdown": F
+00001580: 616c 7365 2c0d 0a20 2020 2020 2020 2020  alse,..         
+00001590: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000015a0: 7374 7265 616d 223a 2046 616c 7365 0d0a  stream": False..
+000015b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000015c0: 2020 2020 7d29 0d0a 0d0a 2020 2020 2020      })....      
+000015d0: 2020 2020 2020 2020 2020 7265 7370 6f6e            respon
+000015e0: 7365 203d 2072 6571 7565 7374 732e 706f  se = requests.po
+000015f0: 7374 2875 726c 3d22 6874 7470 733a 2f2f  st(url="https://
+00001600: 6e65 7872 612e 6172 7961 6863 722e 6363  nexra.aryahcr.cc
+00001610: 2f61 7069 2f63 6861 742f 636f 6d70 6c65  /api/chat/comple
+00001620: 6d65 6e74 7322 2c20 6865 6164 6572 733d  ments", headers=
+00001630: 6865 6164 6572 732c 2064 6174 613d 6461  headers, data=da
+00001640: 7461 2c20 7374 7265 616d 3d73 7472 6d29  ta, stream=strm)
 00001650: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001660: 2020 2020 2020 2020 2020 2020 2020 6572                er
-00001670: 7220 3d20 4e6f 6e65 0d0a 2020 2020 2020  r = None..      
-00001680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001690: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
-000016a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000016b0: 2020 2020 2065 7272 203d 206a 730d 0a20       err = js.. 
-000016c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000016d0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-000016e0: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
-000016f0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-00001700: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
-00001710: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
-00001720: 2020 2020 2020 2020 2020 2020 2020 6572                er
-00001730: 7220 3d20 7b0d 0a20 2020 2020 2020 2020  r = {..         
-00001740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001750: 2020 2022 636f 6465 223a 2035 3030 2c0d     "code": 500,.
-00001760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001770: 2020 2020 2020 2020 2020 2020 2022 7374               "st
-00001780: 6174 7573 223a 2046 616c 7365 2c0d 0a20  atus": False,.. 
+00001660: 2020 6966 2072 6573 706f 6e73 652e 7374    if response.st
+00001670: 6174 7573 5f63 6f64 6520 3d3d 2032 3030  atus_code == 200
+00001680: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00001690: 2020 2020 2020 2069 6620 7374 726d 2021         if strm !
+000016a0: 3d20 5472 7565 3a0d 0a20 2020 2020 2020  = True:..       
+000016b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000016c0: 2073 656c 662e 6269 6e67 6461 7461 203d   self.bingdata =
+000016d0: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+000016e0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000016f0: 7272 203d 204e 6f6e 650d 0a20 2020 2020  rr = None..     
+00001700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001710: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
+00001720: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
+00001730: 2020 2020 2020 2020 2020 2020 636f 756e              coun
+00001740: 7420 3d20 2d31 0d0a 2020 2020 2020 2020  t = -1..        
+00001750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001760: 666f 7220 6920 696e 2072 616e 6765 286c  for i in range(l
+00001770: 656e 2872 6573 706f 6e73 652e 7465 7874  en(response.text
+00001780: 2929 3a0d 0a20 2020 2020 2020 2020 2020  )):..           
 00001790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000017a0: 2020 2020 2020 2020 2020 2022 6572 726f             "erro
-000017b0: 7222 3a20 2249 4e54 4552 4e41 4c5f 5345  r": "INTERNAL_SE
-000017c0: 5256 4552 5f45 5252 4f52 222c 0d0a 2020  RVER_ERROR",..  
-000017d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000017e0: 2020 2020 2020 2020 2020 226d 6573 7361            "messa
-000017f0: 6765 223a 2022 6765 6e65 7261 6c20 2875  ge": "general (u
-00001800: 6e6b 6e6f 776e 2920 6572 726f 7222 0d0a  nknown) error"..
-00001810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001820: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
-00001830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001840: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
-00001850: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
-00001860: 2020 2020 2020 2020 6966 2072 6573 756c          if resul
-00001870: 7420 3d3d 204e 6f6e 6520 616e 6420 6572  t == None and er
-00001880: 7220 213d 204e 6f6e 653a 0d0a 2020 2020  r != None:..    
-00001890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000018a0: 2020 2020 7365 6c66 2e65 7272 6f72 203d      self.error =
-000018b0: 2065 7272 0d0a 2020 2020 2020 2020 2020   err..          
-000018c0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-000018d0: 6c66 2e72 6573 756c 7420 3d20 4e6f 6e65  lf.result = None
-000018e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000018f0: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
+000017a0: 2069 6620 636f 756e 7420 3c3d 202d 313a   if count <= -1:
+000017b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000017c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000017d0: 2020 6966 2072 6573 706f 6e73 652e 7465    if response.te
+000017e0: 7874 5b69 5d20 3d3d 2022 7b22 3a0d 0a20  xt[i] == "{":.. 
+000017f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001810: 2020 2063 6f75 6e74 203d 2069 0d0a 2020     count = i..  
+00001820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001830: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+00001840: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001860: 2062 7265 616b 0d0a 2020 2020 2020 2020   break..        
+00001870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001880: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00001890: 2020 2020 2020 2020 2020 6966 2063 6f75            if cou
+000018a0: 6e74 203c 3d20 2d31 3a0d 0a20 2020 2020  nt <= -1:..     
+000018b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000018c0: 2020 2020 2020 2065 7272 203d 207b 0d0a         err = {..
+000018d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000018e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000018f0: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
 00001900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001910: 2020 2020 2073 656c 662e 7265 7375 6c74       self.result
-00001920: 203d 2072 6573 756c 740d 0a20 2020 2020   = result..     
+00001910: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+00001920: 7461 7475 7322 3a20 4661 6c73 652c 0d0a  tatus": False,..
 00001930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001940: 2020 2073 656c 662e 6572 726f 7220 3d20     self.error = 
-00001950: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
-00001960: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
-00001970: 2020 2020 2020 2020 2064 6174 615f 6572           data_er
-00001980: 7220 3d20 7b7d 0d0a 2020 2020 2020 2020  r = {}..        
-00001990: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
-000019a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000019b0: 2020 6461 7461 5f65 7272 203d 206a 736f    data_err = jso
-000019c0: 6e2e 6c6f 6164 7328 7265 7370 6f6e 7365  n.loads(response
-000019d0: 2e74 6578 7429 0d0a 2020 2020 2020 2020  .text)..        
-000019e0: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-000019f0: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
-00001a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001a10: 2020 2020 6461 7461 5f65 7272 203d 207b      data_err = {
+00001940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001950: 2265 7272 6f72 223a 2022 494e 5445 524e  "error": "INTERN
+00001960: 414c 5f53 4552 5645 525f 4552 524f 5222  AL_SERVER_ERROR"
+00001970: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00001980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001990: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
+000019a0: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
+000019b0: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
+000019c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000019d0: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
+000019e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000019f0: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
+00001a00: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+00001a10: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
 00001a20: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001a30: 2020 2020 2020 2020 2020 2263 6f64 6522            "code"
-00001a40: 3a20 3530 302c 0d0a 2020 2020 2020 2020  : 500,..        
+00001a30: 2020 2020 2020 2020 2020 2020 2020 7472                tr
+00001a40: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
 00001a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001a60: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
-00001a70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001a80: 2020 2020 2020 2020 2020 2265 7272 6f72            "error
-00001a90: 223a 2022 494e 5445 524e 414c 5f53 4552  ": "INTERNAL_SER
-00001aa0: 5645 525f 4552 524f 5222 2c0d 0a20 2020  VER_ERROR",..   
-00001ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001ac0: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
-00001ad0: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
-00001ae0: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
-00001af0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-00001b00: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001b10: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
-00001b20: 2020 2020 7365 6c66 2e65 7272 6f72 203d      self.error =
-00001b30: 2064 6174 615f 6572 720d 0a20 2020 2020   data_err..     
-00001b40: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00001b50: 7265 7375 6c74 203d 204e 6f6e 650d 0a20  result = None.. 
-00001b60: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-00001b70: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
-00001b80: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00001b90: 6572 726f 7220 3d20 7b0d 0a20 2020 2020  error = {..     
-00001ba0: 2020 2020 2020 2020 2020 2022 636f 6465             "code
-00001bb0: 223a 2035 3030 2c0d 0a20 2020 2020 2020  ": 500,..       
-00001bc0: 2020 2020 2020 2020 2022 7374 6174 7573           "status
-00001bd0: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
-00001be0: 2020 2020 2020 2020 2020 2022 6572 726f             "erro
-00001bf0: 7222 3a20 2249 4e54 4552 4e41 4c5f 5345  r": "INTERNAL_SE
-00001c00: 5256 4552 5f45 5252 4f52 222c 0d0a 2020  RVER_ERROR",..  
-00001c10: 2020 2020 2020 2020 2020 2020 2020 226d                "m
-00001c20: 6573 7361 6765 223a 2022 6765 6e65 7261  essage": "genera
-00001c30: 6c20 2875 6e6b 6e6f 776e 2920 6572 726f  l (unknown) erro
-00001c40: 7222 0d0a 2020 2020 2020 2020 2020 2020  r"..            
-00001c50: 7d0d 0a20 2020 2020 2020 2020 2020 2073  }..            s
-00001c60: 656c 662e 7265 7375 6c74 203d 204e 6f6e  elf.result = Non
-00001c70: 650d 0a20 2020 2020 2020 2070 6173 730d  e..        pass.
-00001c80: 0a20 2020 2064 6566 2065 7272 6f72 2873  .    def error(s
-00001c90: 656c 6629 3a0d 0a20 2020 2020 2020 2072  elf):..        r
-00001ca0: 6574 7572 6e20 7365 6c66 2e65 7272 6f72  eturn self.error
-00001cb0: 0d0a 2020 2020 6465 6620 7265 7375 6c74  ..    def result
-00001cc0: 2873 656c 6629 3a0d 0a20 2020 2020 2020  (self):..       
-00001cd0: 2072 6574 7572 6e20 7365 6c66 2e72 6573   return self.res
-00001ce0: 756c 740d 0a0d 0a63 6c61 7373 2064 616c  ult....class dal
-00001cf0: 6c65 3a0d 0a20 2020 2063 6c61 7373 2076  le:..    class v
-00001d00: 313a 0d0a 2020 2020 2020 2020 6572 726f  1:..        erro
-00001d10: 7220 3d20 4e6f 6e65 0d0a 2020 2020 2020  r = None..      
-00001d20: 2020 7265 7375 6c74 203d 204e 6f6e 650d    result = None.
-00001d30: 0a20 2020 2020 2020 2064 6566 205f 5f69  .        def __i
-00001d40: 6e69 745f 5f28 7365 6c66 2c20 7072 6f6d  nit__(self, prom
-00001d50: 7074 3d22 2229 202d 3e20 4e6f 6e65 3a0d  pt="") -> None:.
-00001d60: 0a20 2020 2020 2020 2020 2020 2074 7279  .            try
-00001d70: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00001d80: 2020 2068 6561 6465 7273 203d 207b 0d0a     headers = {..
+00001a60: 2020 2020 6a73 203d 2072 6573 706f 6e73      js = respons
+00001a70: 652e 7465 7874 5b63 6f75 6e74 3a5d 0d0a  e.text[count:]..
+00001a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001aa0: 6a73 203d 206a 736f 6e2e 6c6f 6164 7328  js = json.loads(
+00001ab0: 6a73 290d 0a20 2020 2020 2020 2020 2020  js)..           
+00001ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ad0: 2020 2020 2069 6620 6a73 2021 3d20 4e6f       if js != No
+00001ae0: 6e65 2061 6e64 206a 735b 2263 6f64 6522  ne and js["code"
+00001af0: 5d20 213d 204e 6f6e 6520 616e 6420 6a73  ] != None and js
+00001b00: 5b22 636f 6465 225d 203d 3d20 3230 3020  ["code"] == 200 
+00001b10: 616e 6420 6a73 5b22 7374 6174 7573 225d  and js["status"]
+00001b20: 2021 3d20 4e6f 6e65 2061 6e64 206a 735b   != None and js[
+00001b30: 2273 7461 7475 7322 5d20 3d3d 2054 7275  "status"] == Tru
+00001b40: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00001b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b60: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+00001b70: 206a 730d 0a20 2020 2020 2020 2020 2020   js..           
+00001b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b90: 2020 2020 2020 2020 2065 7272 203d 204e           err = N
+00001ba0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+00001bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001bc0: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
+00001bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001bf0: 6572 7220 3d20 6a73 0d0a 2020 2020 2020  err = js..      
+00001c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c10: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00001c20: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
+00001c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c40: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+00001c50: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
+00001c60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c80: 2065 7272 203d 207b 0d0a 2020 2020 2020   err = {..      
+00001c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ca0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
+00001cb0: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
+00001cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ce0: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
+00001cf0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00001d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d10: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
+00001d20: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
+00001d30: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
+00001d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d50: 2020 2020 2020 2020 2020 2020 2022 6d65               "me
+00001d60: 7373 6167 6522 3a20 2267 656e 6572 616c  ssage": "general
+00001d70: 2028 756e 6b6e 6f77 6e29 2065 7272 6f72   (unknown) error
+00001d80: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
 00001d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001da0: 2020 2020 2243 6f6e 7465 6e74 2d54 7970      "Content-Typ
-00001db0: 6522 3a20 2261 7070 6c69 6361 7469 6f6e  e": "application
-00001dc0: 2f6a 736f 6e22 0d0a 2020 2020 2020 2020  /json"..        
-00001dd0: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
-00001de0: 2020 2020 2020 2020 2020 2065 7272 203d             err =
-00001df0: 2046 616c 7365 0d0a 2020 2020 2020 2020   False..        
-00001e00: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
-00001e10: 2020 2020 2020 2020 2020 6461 7461 203d            data =
-00001e20: 206a 736f 6e2e 6475 6d70 7328 7b0d 0a20   json.dumps({.. 
-00001e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001e40: 2020 2022 7072 6f6d 7074 223a 2022 222c     "prompt": "",
-00001e50: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001e60: 2020 2020 2020 226d 6f64 656c 223a 2022        "model": "
-00001e70: 6461 6c6c 6522 0d0a 2020 2020 2020 2020  dalle"..        
-00001e80: 2020 2020 2020 2020 7d29 0d0a 0d0a 2020          })....  
-00001e90: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-00001ea0: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
-00001eb0: 2020 2020 2020 2020 6461 7461 203d 206a          data = j
-00001ec0: 736f 6e2e 6475 6d70 7328 7b0d 0a20 2020  son.dumps({..   
-00001ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001ee0: 2020 2020 2022 7072 6f6d 7074 223a 2070       "prompt": p
-00001ef0: 726f 6d70 7420 6966 2070 726f 6d70 7420  rompt if prompt 
-00001f00: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
-00001f10: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
-00001f20: 2020 2020 2020 2020 2020 2020 2020 226d                "m
-00001f30: 6f64 656c 223a 2022 6461 6c6c 6522 0d0a  odel": "dalle"..
-00001f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001f50: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
-00001f60: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-00001f70: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
+00001da0: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
+00001db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001dc0: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
+00001dd0: 6f6e 650d 0a0d 0a20 2020 2020 2020 2020  one....         
+00001de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001df0: 2020 2069 6620 7265 7375 6c74 203d 3d20     if result == 
+00001e00: 4e6f 6e65 2061 6e64 2065 7272 2021 3d20  None and err != 
+00001e10: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
+00001e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e30: 2020 2020 2020 2073 656c 662e 6572 726f         self.erro
+00001e40: 7220 3d20 6572 720d 0a20 2020 2020 2020  r = err..       
+00001e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e60: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
+00001e70: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
+00001e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001e90: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+00001ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ec0: 7365 6c66 2e72 6573 756c 7420 3d20 7265  self.result = re
+00001ed0: 7375 6c74 0d0a 2020 2020 2020 2020 2020  sult..          
+00001ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ef0: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
+00001f00: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+00001f10: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00001f20: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00001f30: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00001f40: 2e65 7272 6f72 203d 204e 6f6e 650d 0a20  .error = None.. 
+00001f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f60: 2020 2020 2020 2073 656c 662e 7265 7375         self.resu
+00001f70: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
 00001f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001f90: 2020 2020 6461 7461 203d 206a 736f 6e2e      data = json.
-00001fa0: 6475 6d70 7328 7b0d 0a20 2020 2020 2020  dumps({..       
-00001fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001fc0: 2022 7072 6f6d 7074 223a 2022 222c 0d0a   "prompt": "",..
-00001fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001fe0: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
-00001ff0: 2022 6461 6c6c 6522 0d0a 2020 2020 2020   "dalle"..      
-00002000: 2020 2020 2020 2020 2020 2020 2020 7d29                })
-00002010: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00002020: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
-00002030: 2020 2020 7265 7370 6f6e 7365 203d 2072      response = r
-00002040: 6571 7565 7374 732e 706f 7374 2875 726c  equests.post(url
-00002050: 3d22 6874 7470 733a 2f2f 6e65 7872 612e  ="https://nexra.
-00002060: 6172 7961 6863 722e 6363 2f61 7069 2f69  aryahcr.cc/api/i
-00002070: 6d61 6765 2f63 6f6d 706c 656d 656e 7473  mage/complements
-00002080: 222c 2068 6561 6465 7273 3d68 6561 6465  ", headers=heade
-00002090: 7273 2c20 6461 7461 3d64 6174 6129 0d0a  rs, data=data)..
-000020a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000020b0: 6966 2072 6573 706f 6e73 652e 7374 6174  if response.stat
-000020c0: 7573 5f63 6f64 6520 3d3d 2032 3030 3a0d  us_code == 200:.
-000020d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000020e0: 2020 2020 2065 7272 203d 204e 6f6e 650d       err = None.
-000020f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002100: 2020 2020 2072 6573 756c 7420 3d20 4e6f       result = No
-00002110: 6e65 0d0a 0d0a 2020 2020 2020 2020 2020  ne....          
-00002120: 2020 2020 2020 2020 2020 636f 756e 7420            count 
-00002130: 3d20 2d31 0d0a 2020 2020 2020 2020 2020  = -1..          
-00002140: 2020 2020 2020 2020 2020 666f 7220 6920            for i 
-00002150: 696e 2072 616e 6765 286c 656e 2872 6573  in range(len(res
-00002160: 706f 6e73 652e 7465 7874 2929 3a0d 0a20  ponse.text)):.. 
+00001f90: 2020 2073 656c 662e 6269 6e67 6461 7461     self.bingdata
+00001fa0: 203d 2072 6573 706f 6e73 650d 0a20 2020   = response..   
+00001fb0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00001fc0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00001fd0: 2020 2020 2020 2020 6461 7461 5f65 7272          data_err
+00001fe0: 203d 207b 7d0d 0a20 2020 2020 2020 2020   = {}..         
+00001ff0: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
+00002000: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002010: 2020 2020 2020 2020 2064 6174 615f 6572           data_er
+00002020: 7220 3d20 6a73 6f6e 2e6c 6f61 6473 2872  r = json.loads(r
+00002030: 6573 706f 6e73 652e 7465 7874 290d 0a20  esponse.text).. 
+00002040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002050: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
+00002060: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
+00002070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002080: 2020 2064 6174 615f 6572 7220 3d20 7b0d     data_err = {.
+00002090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000020a0: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+000020b0: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
+000020c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020d0: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
+000020e0: 2046 616c 7365 2c0d 0a20 2020 2020 2020   False,..       
+000020f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002100: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
+00002110: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
+00002120: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
+00002130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002140: 2020 2020 226d 6573 7361 6765 223a 2022      "message": "
+00002150: 6765 6e65 7261 6c20 2875 6e6b 6e6f 776e  general (unknown
+00002160: 2920 6572 726f 7222 0d0a 2020 2020 2020  ) error"..      
 00002170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002180: 2020 2020 2020 2069 6620 636f 756e 7420         if count 
-00002190: 3c3d 202d 313a 0d0a 2020 2020 2020 2020  <= -1:..        
-000021a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000021b0: 2020 2020 6966 2072 6573 706f 6e73 652e      if response.
-000021c0: 7465 7874 5b69 5d20 3d3d 2022 7b22 3a0d  text[i] == "{":.
-000021d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000021e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000021f0: 2063 6f75 6e74 203d 2069 0d0a 2020 2020   count = i..    
-00002200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002210: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-00002220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002230: 2020 2020 2020 2062 7265 616b 0d0a 2020         break..  
-00002240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002250: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
-00002260: 2020 2020 2020 2020 6966 2063 6f75 6e74          if count
-00002270: 203c 3d20 2d31 3a0d 0a20 2020 2020 2020   <= -1:..       
+00002180: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
+00002190: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
+000021a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000021b0: 656c 662e 6269 6e67 6461 7461 203d 204e  elf.bingdata = N
+000021c0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+000021d0: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
+000021e0: 726f 7220 3d20 6461 7461 5f65 7272 0d0a  ror = data_err..
+000021f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002200: 2020 2020 7365 6c66 2e72 6573 756c 7420      self.result 
+00002210: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+00002220: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+00002230: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
+00002240: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00002250: 2e65 7272 6f72 203d 207b 0d0a 2020 2020  .error = {..    
+00002260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002270: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
 00002280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002290: 2065 7272 203d 207b 0d0a 2020 2020 2020   err = {..      
-000022a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000022b0: 2020 2020 2020 2263 6f64 6522 3a20 3530        "code": 50
-000022c0: 302c 0d0a 2020 2020 2020 2020 2020 2020  0,..            
-000022d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000022e0: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
-000022f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00002300: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-00002310: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
-00002320: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
-00002330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002340: 2020 2020 2020 2020 2020 2020 2022 6d65               "me
-00002350: 7373 6167 6522 3a20 2267 656e 6572 616c  ssage": "general
-00002360: 2028 756e 6b6e 6f77 6e29 2065 7272 6f72   (unknown) error
-00002370: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
-00002380: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
-00002390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000023a0: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
-000023b0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-000023c0: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-000023d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000023e0: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
-000023f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002400: 2020 2020 2020 2020 2020 6a73 203d 2072            js = r
-00002410: 6573 706f 6e73 652e 7465 7874 5b63 6f75  esponse.text[cou
-00002420: 6e74 3a5d 0d0a 2020 2020 2020 2020 2020  nt:]..          
-00002430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002440: 2020 6a73 203d 206a 736f 6e2e 6c6f 6164    js = json.load
-00002450: 7328 6a73 290d 0a20 2020 2020 2020 2020  s(js)..         
-00002460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002470: 2020 2069 6620 6a73 2021 3d20 4e6f 6e65     if js != None
-00002480: 2061 6e64 206a 735b 2263 6f64 6522 5d20   and js["code"] 
-00002490: 213d 204e 6f6e 6520 616e 6420 6a73 5b22  != None and js["
-000024a0: 636f 6465 225d 203d 3d20 3230 3020 616e  code"] == 200 an
-000024b0: 6420 6a73 5b22 7374 6174 7573 225d 2021  d js["status"] !
-000024c0: 3d20 4e6f 6e65 2061 6e64 206a 735b 2273  = None and js["s
-000024d0: 7461 7475 7322 5d20 3d3d 2054 7275 653a  tatus"] == True:
-000024e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000024f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002500: 2020 7265 7375 6c74 203d 206a 730d 0a20    result = js.. 
-00002510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002520: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00002530: 7272 203d 204e 6f6e 650d 0a20 2020 2020  rr = None..     
-00002540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002550: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+00002290: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
+000022a0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+000022b0: 2020 2020 2020 2020 2265 7272 6f72 223a          "error":
+000022c0: 2022 494e 5445 524e 414c 5f53 4552 5645   "INTERNAL_SERVE
+000022d0: 525f 4552 524f 5222 2c0d 0a20 2020 2020  R_ERROR",..     
+000022e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000022f0: 6d65 7373 6167 6522 3a20 2267 656e 6572  message": "gener
+00002300: 616c 2028 756e 6b6e 6f77 6e29 2065 7272  al (unknown) err
+00002310: 6f72 220d 0a20 2020 2020 2020 2020 2020  or"..           
+00002320: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
+00002330: 2020 2020 2020 2020 7365 6c66 2e62 696e          self.bin
+00002340: 6764 6174 6120 3d20 4e6f 6e65 0d0a 2020  gdata = None..  
+00002350: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00002360: 6c66 2e72 6573 756c 7420 3d20 4e6f 6e65  lf.result = None
+00002370: 0d0a 2020 2020 2020 2020 2020 2020 7061  ..            pa
+00002380: 7373 0d0a 2020 2020 2020 2020 6465 6620  ss..        def 
+00002390: 7374 7265 616d 2873 656c 6629 3a0d 0a20  stream(self):.. 
+000023a0: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+000023b0: 6c66 2e62 696e 6764 6174 6120 213d 204e  lf.bingdata != N
+000023c0: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+000023d0: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
+000023e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000023f0: 746d 7020 3d20 4e6f 6e65 0d0a 2020 2020  tmp = None..    
+00002400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002410: 6572 7220 3d20 4e6f 6e65 0d0a 2020 2020  err = None..    
+00002420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002430: 666f 7220 6368 756e 6b20 696e 2073 656c  for chunk in sel
+00002440: 662e 6269 6e67 6461 7461 2e69 7465 725f  f.bingdata.iter_
+00002450: 636f 6e74 656e 7428 6368 756e 6b5f 7369  content(chunk_si
+00002460: 7a65 3d31 3032 3429 3a0d 0a20 2020 2020  ze=1024):..     
+00002470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002480: 2020 2069 6620 6572 7220 3d3d 204e 6f6e     if err == Non
+00002490: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+000024a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000024b0: 6966 2063 6875 6e6b 3a0d 0a20 2020 2020  if chunk:..     
+000024c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000024d0: 2020 2020 2020 2020 2020 2063 686b 203d             chk =
+000024e0: 2063 6875 6e6b 2e64 6563 6f64 6528 290d   chunk.decode().
+000024f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002510: 2063 686b 203d 2063 686b 2e73 706c 6974   chk = chk.split
+00002520: 2822 1e22 290d 0a0d 0a20 2020 2020 2020  (".")....       
+00002530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002540: 2020 2020 2020 2020 2066 6f72 2064 6174           for dat
+00002550: 6120 696e 2063 686b 3a0d 0a20 2020 2020  a in chk:..     
 00002560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002570: 2020 2020 2020 2020 2020 2020 2020 6572                er
-00002580: 7220 3d20 6a73 0d0a 2020 2020 2020 2020  r = js..        
+00002570: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00002580: 6573 756c 7420 3d20 4e6f 6e65 0d0a 0d0a  esult = None....
 00002590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000025a0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-000025b0: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
-000025c0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000025d0: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
-000025e0: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
-000025f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002600: 2020 2065 7272 203d 207b 0d0a 2020 2020     err = {..    
+000025a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000025b0: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
+000025c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000025d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000025e0: 2020 636f 6e76 6572 7420 3d20 6a73 6f6e    convert = json
+000025f0: 2e6c 6f61 6473 2864 6174 6129 0d0a 2020  .loads(data)..  
+00002600: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00002610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002620: 2020 2020 2020 2020 2020 2020 2263 6f64              "cod
-00002630: 6522 3a20 3530 302c 0d0a 2020 2020 2020  e": 500,..      
+00002620: 2020 2020 2020 7265 7375 6c74 203d 2064        result = d
+00002630: 6174 610d 0a20 2020 2020 2020 2020 2020  ata..           
 00002640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002650: 2020 2020 2020 2020 2020 2273 7461 7475            "statu
-00002660: 7322 3a20 4661 6c73 652c 0d0a 2020 2020  s": False,..    
+00002650: 2020 2020 2020 2020 2020 2020 2074 6d70               tmp
+00002660: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
 00002670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002680: 2020 2020 2020 2020 2020 2020 2265 7272              "err
-00002690: 6f72 223a 2022 494e 5445 524e 414c 5f53  or": "INTERNAL_S
-000026a0: 4552 5645 525f 4552 524f 5222 2c0d 0a20  ERVER_ERROR",.. 
+00002680: 2020 2020 2020 2020 2020 2020 2065 7863               exc
+00002690: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
+000026a0: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
 000026b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000026c0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000026d0: 6d65 7373 6167 6522 3a20 2267 656e 6572  message": "gener
-000026e0: 616c 2028 756e 6b6e 6f77 6e29 2065 7272  al (unknown) err
-000026f0: 6f72 220d 0a20 2020 2020 2020 2020 2020  or"..           
-00002700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002710: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
+000026c0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000026d0: 746d 7020 3d3d 204e 6f6e 653a 0d0a 2020  tmp == None:..  
+000026e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000026f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002700: 2020 2020 2020 2020 2020 746d 7020 3d20            tmp = 
+00002710: 6461 7461 0d0a 2020 2020 2020 2020 2020  data..          
 00002720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002730: 7265 7375 6c74 203d 204e 6f6e 650d 0a0d  result = None...
-00002740: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002750: 2020 2020 2020 2020 2069 6620 7265 7375           if resu
-00002760: 6c74 203d 3d20 4e6f 6e65 2061 6e64 2065  lt == None and e
-00002770: 7272 2021 3d20 4e6f 6e65 3a0d 0a20 2020  rr != None:..   
+00002730: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00002740: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+00002750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002770: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
 00002780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002790: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
-000027a0: 726f 7220 3d20 6572 720d 0a20 2020 2020  ror = err..     
-000027b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000027c0: 2020 2020 2020 2073 656c 662e 7265 7375         self.resu
-000027d0: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
+00002790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000027a0: 2020 2020 2020 2063 6f6e 7665 7274 203d         convert =
+000027b0: 206a 736f 6e2e 6c6f 6164 7328 746d 7029   json.loads(tmp)
+000027c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000027d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000027e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000027f0: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+000027f0: 2020 7265 7375 6c74 203d 2074 6d70 0d0a    result = tmp..
 00002800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002810: 2020 2020 2020 7365 6c66 2e72 6573 756c        self.resul
-00002820: 7420 3d20 7265 7375 6c74 0d0a 2020 2020  t = result..    
-00002830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002840: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
-00002850: 6f72 203d 204e 6f6e 650d 0a20 2020 2020  or = None..     
-00002860: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00002870: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00002880: 2020 2020 2020 6461 7461 5f65 7272 203d        data_err =
-00002890: 207b 7d0d 0a20 2020 2020 2020 2020 2020   {}..           
-000028a0: 2020 2020 2020 2020 2074 7279 3a0d 0a20           try:.. 
-000028b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000028c0: 2020 2020 2020 2064 6174 615f 6572 7220         data_err 
-000028d0: 3d20 6a73 6f6e 2e6c 6f61 6473 2872 6573  = json.loads(res
-000028e0: 706f 6e73 652e 7465 7874 290d 0a20 2020  ponse.text)..   
-000028f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002900: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-00002910: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
-00002920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002930: 2064 6174 615f 6572 7220 3d20 7b0d 0a20   data_err = {.. 
-00002940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002950: 2020 2020 2020 2020 2020 2022 636f 6465             "code
-00002960: 223a 2035 3030 2c0d 0a20 2020 2020 2020  ": 500,..       
-00002970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002980: 2020 2020 2022 7374 6174 7573 223a 2046       "status": F
-00002990: 616c 7365 2c0d 0a20 2020 2020 2020 2020  alse,..         
+00002810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002830: 746d 7020 3d20 4e6f 6e65 0d0a 2020 2020  tmp = None..    
+00002840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002860: 2020 2020 2020 2020 6578 6365 7074 2045          except E
+00002870: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
+00002880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000028a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000028b0: 746d 7020 3d20 746d 7020 2b20 6461 7461  tmp = tmp + data
+000028c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000028d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000028e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000028f0: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+00002900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002920: 2020 2020 2020 2020 2020 2020 636f 6e76              conv
+00002930: 6572 7420 3d20 6a73 6f6e 2e6c 6f61 6473  ert = json.loads
+00002940: 2874 6d70 290d 0a20 2020 2020 2020 2020  (tmp)..         
+00002950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002970: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+00002980: 7420 3d20 746d 700d 0a20 2020 2020 2020  t = tmp..       
+00002990: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000029a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000029b0: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
-000029c0: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
-000029d0: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
+000029b0: 2020 2020 2020 2020 2020 2020 2074 6d70               tmp
+000029c0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+000029d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000029e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000029f0: 2020 226d 6573 7361 6765 223a 2022 6765    "message": "ge
-00002a00: 6e65 7261 6c20 2875 6e6b 6e6f 776e 2920  neral (unknown) 
-00002a10: 6572 726f 7222 0d0a 2020 2020 2020 2020  error"..        
+000029f0: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+00002a00: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
+00002a10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00002a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002a30: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
-00002a40: 2020 2020 2020 200d 0a20 2020 2020 2020         ..       
-00002a50: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00002a60: 662e 6572 726f 7220 3d20 6461 7461 5f65  f.error = data_e
-00002a70: 7272 0d0a 2020 2020 2020 2020 2020 2020  rr..            
-00002a80: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
-00002a90: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
-00002aa0: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-00002ab0: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
+00002a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a40: 2020 2020 2074 6d70 203d 2074 6d70 0d0a       tmp = tmp..
+00002a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a70: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
+00002a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a90: 2020 2020 2020 2020 2020 6966 2072 6573            if res
+00002aa0: 756c 7420 213d 204e 6f6e 653a 0d0a 2020  ult != None:..  
+00002ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00002ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002ad0: 7365 6c66 2e65 7272 6f72 203d 207b 0d0a  self.error = {..
-00002ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002af0: 2020 2020 2263 6f64 6522 3a20 3530 302c      "code": 500,
-00002b00: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00002b10: 2020 2020 2020 2273 7461 7475 7322 3a20        "status": 
-00002b20: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
-00002b30: 2020 2020 2020 2020 2020 2020 2265 7272              "err
-00002b40: 6f72 223a 2022 494e 5445 524e 414c 5f53  or": "INTERNAL_S
-00002b50: 4552 5645 525f 4552 524f 5222 2c0d 0a20  ERVER_ERROR",.. 
+00002ad0: 2020 2020 2020 6966 2022 636f 6465 2220        if "code" 
+00002ae0: 6e6f 7420 696e 2072 6573 756c 7420 616e  not in result an
+00002af0: 6420 2273 7461 7475 7322 206e 6f74 2069  d "status" not i
+00002b00: 6e20 7265 7375 6c74 3a0d 0a20 2020 2020  n result:..     
+00002b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b30: 2020 2020 2020 2079 6965 6c64 206a 736f         yield jso
+00002b40: 6e2e 6c6f 6164 7328 7265 7375 6c74 290d  n.loads(result).
+00002b50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00002b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002b70: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
-00002b80: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
-00002b90: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
-00002ba0: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
-00002bb0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00002bc0: 2e72 6573 756c 7420 3d20 4e6f 6e65 0d0a  .result = None..
-00002bd0: 2020 2020 2020 2020 2020 2020 7061 7373              pass
-00002be0: 0d0a 2020 2020 2020 2020 6465 6620 6572  ..        def er
-00002bf0: 726f 7228 7365 6c66 293a 0d0a 2020 2020  ror(self):..    
-00002c00: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00002c10: 656c 662e 6572 726f 720d 0a20 2020 2020  elf.error..     
-00002c20: 2020 2064 6566 2072 6573 756c 7428 7365     def result(se
-00002c30: 6c66 293a 0d0a 2020 2020 2020 2020 2020  lf):..          
-00002c40: 2020 7265 7475 726e 2073 656c 662e 7265    return self.re
-00002c50: 7375 6c74 0d0a 2020 2020 636c 6173 7320  sult..    class 
-00002c60: 7632 3a0d 0a20 2020 2020 2020 2065 7272  v2:..        err
-00002c70: 6f72 203d 204e 6f6e 650d 0a20 2020 2020  or = None..     
-00002c80: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
-00002c90: 0d0a 2020 2020 2020 2020 6465 6620 5f5f  ..        def __
-00002ca0: 696e 6974 5f5f 2873 656c 662c 2070 726f  init__(self, pro
-00002cb0: 6d70 743d 2222 2c20 6461 7461 3d7b 0d0a  mpt="", data={..
-00002cc0: 2020 2020 2020 2020 2020 2020 2270 726f              "pro
-00002cd0: 6d70 745f 6e65 6761 7469 7665 223a 2022  mpt_negative": "
-00002ce0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-00002cf0: 2277 6964 7468 223a 2022 222c 0d0a 2020  "width": "",..  
-00002d00: 2020 2020 2020 2020 2020 2268 6569 6768            "heigh
-00002d10: 7422 3a20 2222 2c0d 0a20 2020 2020 2020  t": "",..       
-00002d20: 2020 2020 2022 6775 6964 616e 6365 5f73       "guidance_s
-00002d30: 6361 6c65 223a 2022 220d 0a20 2020 2020  cale": ""..     
-00002d40: 2020 207d 2920 2d3e 204e 6f6e 653a 0d0a     }) -> None:..
-00002d50: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-00002d60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00002d70: 2020 6865 6164 6572 7320 3d20 7b0d 0a20    headers = {.. 
-00002d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002d90: 2020 2022 436f 6e74 656e 742d 5479 7065     "Content-Type
-00002da0: 223a 2022 6170 706c 6963 6174 696f 6e2f  ": "application/
-00002db0: 6a73 6f6e 220d 0a20 2020 2020 2020 2020  json"..         
-00002dc0: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
-00002dd0: 2020 2020 2020 2020 2020 6865 6164 6572            header
-00002de0: 732e 7570 6461 7465 2863 7265 6429 0d0a  s.update(cred)..
-00002df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002e00: 6572 7220 3d20 4661 6c73 650d 0a20 2020  err = False..   
-00002e10: 2020 2020 2020 2020 2020 2020 200d 0a20               .. 
-00002e20: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00002e30: 6420 3d20 7b0d 0a20 2020 2020 2020 2020  d = {..         
-00002e40: 2020 2020 2020 2020 2020 2022 7072 6f6d             "prom
-00002e50: 7074 5f6e 6567 6174 6976 6522 3a20 2222  pt_negative": ""
-00002e60: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00002e70: 2020 2020 2020 2022 7769 6474 6822 3a20         "width": 
-00002e80: 3130 3234 2c0d 0a20 2020 2020 2020 2020  1024,..         
-00002e90: 2020 2020 2020 2020 2020 2022 6865 6967             "heig
-00002ea0: 6874 223a 2031 3032 342c 0d0a 2020 2020  ht": 1024,..    
-00002eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002ec0: 2267 7569 6461 6e63 655f 7363 616c 6522  "guidance_scale"
-00002ed0: 3a20 360d 0a20 2020 2020 2020 2020 2020  : 6..           
-00002ee0: 2020 2020 207d 0d0a 0d0a 2020 2020 2020       }....      
-00002ef0: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
-00002f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002f10: 2020 2020 7072 6f6d 7074 203d 2070 726f      prompt = pro
-00002f20: 6d70 7420 6966 2070 726f 6d70 7420 6973  mpt if prompt is
-00002f30: 206e 6f74 204e 6f6e 6520 656c 7365 2022   not None else "
-00002f40: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
-00002f50: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
-00002f60: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
-00002f70: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00002f80: 726f 6d70 7420 3d20 2222 0d0a 0d0a 2020  rompt = ""....  
-00002f90: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-00002fa0: 7920 3a0d 0a20 2020 2020 2020 2020 2020  y :..           
-00002fb0: 2020 2020 2020 2020 2069 6620 6461 7461           if data
-00002fc0: 2e67 6574 2822 7072 6f6d 7074 5f6e 6567  .get("prompt_neg
-00002fd0: 6174 6976 6522 2920 213d 204e 6f6e 653a  ative") != None:
-00002fe0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00002ff0: 2020 2020 2020 2020 2020 6d64 5b22 7072            md["pr
-00003000: 6f6d 7074 5f6e 6567 6174 6976 6522 5d20  ompt_negative"] 
-00003010: 3d20 6461 7461 2e67 6574 2822 7072 6f6d  = data.get("prom
-00003020: 7074 5f6e 6567 6174 6976 6522 290d 0a20  pt_negative").. 
-00003030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003040: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-00003050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003060: 2020 6d64 5b22 7072 6f6d 7074 5f6e 6567    md["prompt_neg
-00003070: 6174 6976 6522 5d20 3d20 2222 0d0a 0d0a  ative"] = ""....
-00003080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003090: 2020 2020 6966 2064 6174 612e 6765 7428      if data.get(
-000030a0: 2277 6964 7468 2229 2021 3d20 4e6f 6e65  "width") != None
-000030b0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-000030c0: 2020 2020 2020 2020 2020 206d 645b 2277             md["w
-000030d0: 6964 7468 225d 203d 2064 6174 612e 6765  idth"] = data.ge
-000030e0: 7428 2277 6964 7468 2229 0d0a 2020 2020  t("width")..    
-000030f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003100: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
-00003110: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00003120: 645b 2277 6964 7468 225d 203d 2031 3032  d["width"] = 102
-00003130: 340d 0a0d 0a20 2020 2020 2020 2020 2020  4....           
-00003140: 2020 2020 2020 2020 2069 6620 6461 7461           if data
-00003150: 2e67 6574 2822 6865 6967 6874 2229 2021  .get("height") !
-00003160: 3d20 4e6f 6e65 3a0d 0a20 2020 2020 2020  = None:..       
-00003170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003180: 206d 645b 2268 6569 6768 7422 5d20 3d20   md["height"] = 
-00003190: 6461 7461 2e67 6574 2822 6865 6967 6874  data.get("height
-000031a0: 2229 0d0a 2020 2020 2020 2020 2020 2020  ")..            
-000031b0: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
-000031c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000031d0: 2020 2020 2020 206d 645b 2268 6569 6768         md["heigh
-000031e0: 7422 5d20 3d20 3130 3234 0d0a 0d0a 2020  t"] = 1024....  
-000031f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003200: 2020 6966 2064 6174 612e 6765 7428 2267    if data.get("g
-00003210: 7569 6461 6e63 655f 7363 616c 6522 2920  uidance_scale") 
-00003220: 213d 204e 6f6e 653a 0d0a 2020 2020 2020  != None:..      
+00002b70: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+00002b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002ba0: 2020 2020 2020 2020 2020 2020 6572 7220              err 
+00002bb0: 3d20 7265 7375 6c74 0d0a 2020 2020 2020  = result..      
+00002bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002be0: 2020 2020 2020 7969 656c 6420 6a73 6f6e        yield json
+00002bf0: 2e6c 6f61 6473 2865 7272 290d 0a20 2020  .loads(err)..   
+00002c00: 2020 2020 2020 2020 2020 2020 2065 7863               exc
+00002c10: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
+00002c20: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
+00002c30: 2020 2020 2020 2020 2079 6965 6c64 207b           yield {
+00002c40: 226d 6573 7361 6765 223a 4e6f 6e65 2c22  "message":None,"
+00002c50: 6f72 6967 696e 616c 223a 4e6f 6e65 2c22  original":None,"
+00002c60: 6669 6e69 7368 223a 5472 7565 2c22 6572  finish":True,"er
+00002c70: 726f 7222 3a54 7275 657d 0d0a 2020 2020  ror":True}..    
+00002c80: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
+00002c90: 2020 2020 2020 2020 2020 2020 2020 2079                 y
+00002ca0: 6965 6c64 207b 226d 6573 7361 6765 223a  ield {"message":
+00002cb0: 4e6f 6e65 2c22 6f72 6967 696e 616c 223a  None,"original":
+00002cc0: 4e6f 6e65 2c22 6669 6e69 7368 223a 5472  None,"finish":Tr
+00002cd0: 7565 2c22 6572 726f 7222 3a54 7275 657d  ue,"error":True}
+00002ce0: 0d0a 2020 2020 2020 2020 2020 2020 7061  ..            pa
+00002cf0: 7373 0d0a 2020 2020 2020 2020 6465 6620  ss..        def 
+00002d00: 6572 726f 7228 7365 6c66 293a 0d0a 2020  error(self):..  
+00002d10: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00002d20: 2073 656c 662e 6572 726f 720d 0a20 2020   self.error..   
+00002d30: 2020 2020 2064 6566 2072 6573 756c 7428       def result(
+00002d40: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
+00002d50: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00002d60: 7265 7375 6c74 0d0a 2020 2020 636c 6173  result..    clas
+00002d70: 7320 7765 623a 0d0a 2020 2020 2020 2020  s web:..        
+00002d80: 6572 726f 7220 3d20 4e6f 6e65 0d0a 2020  error = None..  
+00002d90: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
+00002da0: 6f6e 650d 0a20 2020 2020 2020 2064 6566  one..        def
+00002db0: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
+00002dc0: 7072 6f6d 7074 3d22 222c 206d 6172 6b64  prompt="", markd
+00002dd0: 6f77 6e3d 4661 6c73 6529 202d 3e20 4e6f  own=False) -> No
+00002de0: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
+00002df0: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+00002e00: 2020 2020 2020 2068 6561 6465 7273 203d         headers =
+00002e10: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+00002e20: 2020 2020 2020 2020 2243 6f6e 7465 6e74          "Content
+00002e30: 2d54 7970 6522 3a20 2261 7070 6c69 6361  -Type": "applica
+00002e40: 7469 6f6e 2f6a 736f 6e22 0d0a 2020 2020  tion/json"..    
+00002e50: 2020 2020 2020 2020 2020 2020 7d0d 0a0d              }...
+00002e60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002e70: 2064 6174 6120 3d20 6a73 6f6e 2e64 756d   data = json.dum
+00002e80: 7073 287b 7d29 0d0a 2020 2020 2020 2020  ps({})..        
+00002e90: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
+00002ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002eb0: 2020 6461 7461 203d 206a 736f 6e2e 6475    data = json.du
+00002ec0: 6d70 7328 7b0d 0a20 2020 2020 2020 2020  mps({..         
+00002ed0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00002ee0: 7072 6f6d 7074 223a 2070 726f 6d70 7420  prompt": prompt 
+00002ef0: 6966 2070 726f 6d70 7420 6973 206e 6f74  if prompt is not
+00002f00: 204e 6f6e 6520 656c 7365 2022 222c 0d0a   None else "",..
+00002f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002f20: 2020 2020 2020 2020 226d 6172 6b64 6f77          "markdow
+00002f30: 6e22 3a20 6d61 726b 646f 776e 2069 6620  n": markdown if 
+00002f40: 6d61 726b 646f 776e 2069 7320 6e6f 7420  markdown is not 
+00002f50: 4e6f 6e65 2065 6c73 6520 4661 6c73 650d  None else False.
+00002f60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002f70: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
+00002f80: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+00002f90: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
+00002fa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002fb0: 2020 2020 2064 6174 6120 3d20 6a73 6f6e       data = json
+00002fc0: 2e64 756d 7073 287b 0d0a 2020 2020 2020  .dumps({..      
+00002fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002fe0: 2020 2270 726f 6d70 7422 3a20 2222 2c0d    "prompt": "",.
+00002ff0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003000: 2020 2020 2020 2020 2022 6d61 726b 646f           "markdo
+00003010: 776e 223a 2046 616c 7365 0d0a 2020 2020  wn": False..    
+00003020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003030: 7d29 0d0a 0d0a 2020 2020 2020 2020 2020  })....          
+00003040: 2020 2020 2020 7265 7370 6f6e 7365 203d        response =
+00003050: 2072 6571 7565 7374 732e 706f 7374 2875   requests.post(u
+00003060: 726c 3d22 6874 7470 733a 2f2f 6e65 7872  rl="https://nexr
+00003070: 612e 6172 7961 6863 722e 6363 2f61 7069  a.aryahcr.cc/api
+00003080: 2f63 6861 742f 6770 7477 6562 222c 2068  /chat/gptweb", h
+00003090: 6561 6465 7273 3d68 6561 6465 7273 2c20  eaders=headers, 
+000030a0: 6461 7461 3d64 6174 6129 0d0a 2020 2020  data=data)..    
+000030b0: 2020 2020 2020 2020 2020 2020 6966 2072              if r
+000030c0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+000030d0: 6f64 6520 3d3d 2032 3030 3a0d 0a20 2020  ode == 200:..   
+000030e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000030f0: 2065 7272 203d 204e 6f6e 650d 0a20 2020   err = None..   
+00003100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003110: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
+00003120: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003130: 2020 2020 2020 636f 756e 7420 3d20 2d31        count = -1
+00003140: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003150: 2020 2020 2020 666f 7220 6920 696e 2072        for i in r
+00003160: 616e 6765 286c 656e 2872 6573 706f 6e73  ange(len(respons
+00003170: 652e 7465 7874 2929 3a0d 0a20 2020 2020  e.text)):..     
+00003180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003190: 2020 2069 6620 636f 756e 7420 3c3d 202d     if count <= -
+000031a0: 313a 0d0a 2020 2020 2020 2020 2020 2020  1:..            
+000031b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000031c0: 6966 2072 6573 706f 6e73 652e 7465 7874  if response.text
+000031d0: 5b69 5d20 3d3d 2022 7b22 3a0d 0a20 2020  [i] == "{":..   
+000031e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000031f0: 2020 2020 2020 2020 2020 2020 2063 6f75               cou
+00003200: 6e74 203d 2069 0d0a 2020 2020 2020 2020  nt = i..        
+00003210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003220: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
 00003230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003240: 2020 6d64 5b22 6775 6964 616e 6365 5f73    md["guidance_s
-00003250: 6361 6c65 225d 203d 2064 6174 612e 6765  cale"] = data.ge
-00003260: 7428 2267 7569 6461 6e63 655f 7363 616c  t("guidance_scal
-00003270: 6522 290d 0a20 2020 2020 2020 2020 2020  e")..           
-00003280: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-00003290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000032a0: 2020 2020 2020 2020 6d64 5b22 6775 6964          md["guid
-000032b0: 616e 6365 5f73 6361 6c65 225d 203d 2036  ance_scale"] = 6
-000032c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000032d0: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-000032e0: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
-000032f0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-00003300: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-00003310: 2020 2020 2020 2020 2020 2020 2020 2270                "p
-00003320: 726f 6d70 745f 6e65 6761 7469 7665 223a  rompt_negative":
-00003330: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
-00003340: 2020 2020 2020 2020 2020 2020 2020 2277                "w
-00003350: 6964 7468 223a 2031 3032 342c 0d0a 2020  idth": 1024,..  
-00003360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003370: 2020 2020 2020 2268 6569 6768 7422 3a20        "height": 
-00003380: 3130 3234 2c0d 0a20 2020 2020 2020 2020  1024,..         
-00003390: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000033a0: 6775 6964 616e 6365 5f73 6361 6c65 223a  guidance_scale":
-000033b0: 2036 0d0a 2020 2020 2020 2020 2020 2020   6..            
-000033c0: 2020 2020 2020 2020 7d0d 0a0d 0a20 2020          }....   
-000033d0: 2020 2020 2020 2020 2020 2020 2064 6174               dat
-000033e0: 6120 3d20 7b7d 0d0a 2020 2020 2020 2020  a = {}..        
-000033f0: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
+00003240: 2020 2062 7265 616b 0d0a 2020 2020 2020     break..      
+00003250: 2020 2020 2020 2020 2020 2020 2020 0d0a                ..
+00003260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003270: 2020 2020 6966 2063 6f75 6e74 203c 3d20      if count <= 
+00003280: 2d31 3a0d 0a20 2020 2020 2020 2020 2020  -1:..           
+00003290: 2020 2020 2020 2020 2020 2020 2065 7272               err
+000032a0: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+000032b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000032c0: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
+000032d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000032e0: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
+000032f0: 7475 7322 3a20 4661 6c73 652c 0d0a 2020  tus": False,..  
+00003300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003310: 2020 2020 2020 2020 2020 2265 7272 6f72            "error
+00003320: 223a 2022 494e 5445 524e 414c 5f53 4552  ": "INTERNAL_SER
+00003330: 5645 525f 4552 524f 5222 2c0d 0a20 2020  VER_ERROR",..   
+00003340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003350: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
+00003360: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
+00003370: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
+00003380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003390: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
+000033a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000033b0: 2020 7265 7375 6c74 203d 204e 6f6e 650d    result = None.
+000033c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000033d0: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
+000033e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000033f0: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
 00003400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003410: 2020 6461 7461 203d 206a 736f 6e2e 6475    data = json.du
-00003420: 6d70 7328 7b0d 0a20 2020 2020 2020 2020  mps({..         
-00003430: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00003440: 7072 6f6d 7074 223a 2070 726f 6d70 742c  prompt": prompt,
-00003450: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00003460: 2020 2020 2020 2020 2020 226d 6f64 656c            "model
-00003470: 223a 2022 6461 6c6c 6532 222c 0d0a 2020  ": "dalle2",..  
-00003480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003490: 2020 2020 2020 2264 6174 6122 3a20 6d64        "data": md
-000034a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000034b0: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
-000034c0: 2020 2020 2020 2020 2020 6578 6365 7074            except
-000034d0: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
-000034e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000034f0: 2020 2020 2020 6461 7461 203d 206a 736f        data = jso
-00003500: 6e2e 6475 6d70 7328 7b0d 0a20 2020 2020  n.dumps({..     
-00003510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003520: 2020 2022 7072 6f6d 7074 223a 2022 222c     "prompt": "",
-00003530: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00003540: 2020 2020 2020 2020 2020 226d 6f64 656c            "model
-00003550: 223a 2022 6461 6c6c 6532 222c 0d0a 2020  ": "dalle2",..  
-00003560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003570: 2020 2020 2020 2264 6174 6122 3a20 7b0d        "data": {.
-00003580: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003590: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
-000035a0: 6f6d 7074 5f6e 6567 6174 6976 6522 3a20  ompt_negative": 
-000035b0: 2222 2c0d 0a20 2020 2020 2020 2020 2020  "",..           
-000035c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000035d0: 2022 7769 6474 6822 3a20 3130 3234 2c0d   "width": 1024,.
-000035e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000035f0: 2020 2020 2020 2020 2020 2020 2022 6865               "he
-00003600: 6967 6874 223a 2031 3032 342c 0d0a 2020  ight": 1024,..  
-00003610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003620: 2020 2020 2020 2020 2020 2267 7569 6461            "guida
-00003630: 6e63 655f 7363 616c 6522 3a20 360d 0a20  nce_scale": 6.. 
-00003640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003650: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
-00003660: 2020 2020 2020 2020 2020 2020 2020 7d29                })
-00003670: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00003680: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
-00003690: 2020 2020 7265 7370 6f6e 7365 203d 2072      response = r
-000036a0: 6571 7565 7374 732e 706f 7374 2875 726c  equests.post(url
-000036b0: 3d22 6874 7470 733a 2f2f 6e65 7872 612e  ="https://nexra.
-000036c0: 6172 7961 6863 722e 6363 2f61 7069 2f69  aryahcr.cc/api/i
-000036d0: 6d61 6765 2f63 6f6d 706c 656d 656e 7473  mage/complements
-000036e0: 222c 2068 6561 6465 7273 3d68 6561 6465  ", headers=heade
-000036f0: 7273 2c20 6461 7461 3d64 6174 6129 0d0a  rs, data=data)..
-00003700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003710: 6966 2072 6573 706f 6e73 652e 7374 6174  if response.stat
-00003720: 7573 5f63 6f64 6520 3d3d 2032 3030 3a0d  us_code == 200:.
-00003730: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003740: 2020 2020 2065 7272 203d 204e 6f6e 650d       err = None.
-00003750: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003760: 2020 2020 2072 6573 756c 7420 3d20 4e6f       result = No
-00003770: 6e65 0d0a 0d0a 2020 2020 2020 2020 2020  ne....          
-00003780: 2020 2020 2020 2020 2020 636f 756e 7420            count 
-00003790: 3d20 2d31 0d0a 2020 2020 2020 2020 2020  = -1..          
-000037a0: 2020 2020 2020 2020 2020 666f 7220 6920            for i 
-000037b0: 696e 2072 616e 6765 286c 656e 2872 6573  in range(len(res
-000037c0: 706f 6e73 652e 7465 7874 2929 3a0d 0a20  ponse.text)):.. 
-000037d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000037e0: 2020 2020 2020 2069 6620 636f 756e 7420         if count 
-000037f0: 3c3d 202d 313a 0d0a 2020 2020 2020 2020  <= -1:..        
-00003800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003810: 2020 2020 6966 2072 6573 706f 6e73 652e      if response.
-00003820: 7465 7874 5b69 5d20 3d3d 2022 7b22 3a0d  text[i] == "{":.
-00003830: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003410: 2020 2020 2020 6a73 203d 2072 6573 706f        js = respo
+00003420: 6e73 652e 7465 7874 5b63 6f75 6e74 3a5d  nse.text[count:]
+00003430: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003440: 2020 2020 2020 2020 2020 2020 2020 6a73                js
+00003450: 203d 206a 736f 6e2e 6c6f 6164 7328 6a73   = json.loads(js
+00003460: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+00003470: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00003480: 6620 6a73 2021 3d20 4e6f 6e65 2061 6e64  f js != None and
+00003490: 206a 735b 2263 6f64 6522 5d20 213d 204e   js["code"] != N
+000034a0: 6f6e 6520 616e 6420 6a73 5b22 636f 6465  one and js["code
+000034b0: 225d 203d 3d20 3230 3020 616e 6420 6a73  "] == 200 and js
+000034c0: 5b22 7374 6174 7573 225d 2021 3d20 4e6f  ["status"] != No
+000034d0: 6e65 2061 6e64 206a 735b 2273 7461 7475  ne and js["statu
+000034e0: 7322 5d20 3d3d 2054 7275 653a 0d0a 2020  s"] == True:..  
+000034f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003500: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00003510: 7375 6c74 203d 206a 730d 0a20 2020 2020  sult = js..     
+00003520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003530: 2020 2020 2020 2020 2020 2065 7272 203d             err =
+00003540: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+00003550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003560: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+00003570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003580: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
+00003590: 6a73 0d0a 2020 2020 2020 2020 2020 2020  js..            
+000035a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000035b0: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
+000035c0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+000035d0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+000035e0: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
+000035f0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00003600: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00003610: 7272 203d 207b 0d0a 2020 2020 2020 2020  rr = {..        
+00003620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003630: 2020 2020 2020 2020 2263 6f64 6522 3a20          "code": 
+00003640: 3530 302c 0d0a 2020 2020 2020 2020 2020  500,..          
+00003650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003660: 2020 2020 2020 2273 7461 7475 7322 3a20        "status": 
+00003670: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
+00003680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003690: 2020 2020 2020 2020 2265 7272 6f72 223a          "error":
+000036a0: 2022 494e 5445 524e 414c 5f53 4552 5645   "INTERNAL_SERVE
+000036b0: 525f 4552 524f 5222 2c0d 0a20 2020 2020  R_ERROR",..     
+000036c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000036d0: 2020 2020 2020 2020 2020 2022 6d65 7373             "mess
+000036e0: 6167 6522 3a20 2267 656e 6572 616c 2028  age": "general (
+000036f0: 756e 6b6e 6f77 6e29 2065 7272 6f72 220d  unknown) error".
+00003700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003710: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
+00003720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003730: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+00003740: 6c74 203d 204e 6f6e 650d 0a0d 0a20 2020  lt = None....   
+00003750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003760: 2020 2020 2069 6620 7265 7375 6c74 203d       if result =
+00003770: 3d20 4e6f 6e65 2061 6e64 2065 7272 2021  = None and err !
+00003780: 3d20 4e6f 6e65 3a0d 0a20 2020 2020 2020  = None:..       
+00003790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000037a0: 2020 2020 2073 656c 662e 6572 726f 7220       self.error 
+000037b0: 3d20 6572 720d 0a20 2020 2020 2020 2020  = err..         
+000037c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000037d0: 2020 2073 656c 662e 7265 7375 6c74 203d     self.result =
+000037e0: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+000037f0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00003800: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+00003810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003820: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
+00003830: 7265 7375 6c74 0d0a 2020 2020 2020 2020  result..        
 00003840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003850: 2063 6f75 6e74 203d 2069 0d0a 2020 2020   count = i..    
-00003860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003870: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
+00003850: 2020 2020 7365 6c66 2e65 7272 6f72 203d      self.error =
+00003860: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+00003870: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
 00003880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003890: 2020 2020 2020 2062 7265 616b 0d0a 2020         break..  
-000038a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000038b0: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
-000038c0: 2020 2020 2020 2020 6966 2063 6f75 6e74          if count
-000038d0: 203c 3d20 2d31 3a0d 0a20 2020 2020 2020   <= -1:..       
-000038e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000038f0: 2065 7272 203d 207b 0d0a 2020 2020 2020   err = {..      
-00003900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003910: 2020 2020 2020 2263 6f64 6522 3a20 3530        "code": 50
-00003920: 302c 0d0a 2020 2020 2020 2020 2020 2020  0,..            
-00003930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003940: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
-00003950: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00003960: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-00003970: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
-00003980: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
-00003990: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000039a0: 2020 2020 2020 2020 2020 2020 2022 6d65               "me
-000039b0: 7373 6167 6522 3a20 2267 656e 6572 616c  ssage": "general
-000039c0: 2028 756e 6b6e 6f77 6e29 2065 7272 6f72   (unknown) error
-000039d0: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
-000039e0: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
-000039f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a00: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
-00003a10: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-00003a20: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-00003a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a40: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
-00003a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a60: 2020 2020 2020 2020 2020 6a73 203d 2072            js = r
-00003a70: 6573 706f 6e73 652e 7465 7874 5b63 6f75  esponse.text[cou
-00003a80: 6e74 3a5d 0d0a 2020 2020 2020 2020 2020  nt:]..          
-00003a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003aa0: 2020 6a73 203d 206a 736f 6e2e 6c6f 6164    js = json.load
-00003ab0: 7328 6a73 290d 0a20 2020 2020 2020 2020  s(js)..         
-00003ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003ad0: 2020 2069 6620 6a73 2021 3d20 4e6f 6e65     if js != None
-00003ae0: 2061 6e64 206a 735b 2263 6f64 6522 5d20   and js["code"] 
-00003af0: 213d 204e 6f6e 6520 616e 6420 6a73 5b22  != None and js["
-00003b00: 636f 6465 225d 203d 3d20 3230 3020 616e  code"] == 200 an
-00003b10: 6420 6a73 5b22 7374 6174 7573 225d 2021  d js["status"] !
-00003b20: 3d20 4e6f 6e65 2061 6e64 206a 735b 2273  = None and js["s
-00003b30: 7461 7475 7322 5d20 3d3d 2054 7275 653a  tatus"] == True:
-00003b40: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00003b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003b60: 2020 7265 7375 6c74 203d 206a 730d 0a20    result = js.. 
-00003b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003b80: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00003b90: 7272 203d 204e 6f6e 650d 0a20 2020 2020  rr = None..     
-00003ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003bb0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
-00003bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003bd0: 2020 2020 2020 2020 2020 2020 2020 6572                er
-00003be0: 7220 3d20 6a73 0d0a 2020 2020 2020 2020  r = js..        
-00003bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003c00: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-00003c10: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
-00003c20: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00003c30: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
-00003c40: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
-00003c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003c60: 2020 2065 7272 203d 207b 0d0a 2020 2020     err = {..    
-00003c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003c80: 2020 2020 2020 2020 2020 2020 2263 6f64              "cod
-00003c90: 6522 3a20 3530 302c 0d0a 2020 2020 2020  e": 500,..      
-00003ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003cb0: 2020 2020 2020 2020 2020 2273 7461 7475            "statu
-00003cc0: 7322 3a20 4661 6c73 652c 0d0a 2020 2020  s": False,..    
-00003cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003ce0: 2020 2020 2020 2020 2020 2020 2265 7272              "err
-00003cf0: 6f72 223a 2022 494e 5445 524e 414c 5f53  or": "INTERNAL_S
-00003d00: 4552 5645 525f 4552 524f 5222 2c0d 0a20  ERVER_ERROR",.. 
-00003d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003d20: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00003d30: 6d65 7373 6167 6522 3a20 2267 656e 6572  message": "gener
-00003d40: 616c 2028 756e 6b6e 6f77 6e29 2065 7272  al (unknown) err
-00003d50: 6f72 220d 0a20 2020 2020 2020 2020 2020  or"..           
-00003d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003d70: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
-00003d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003d90: 7265 7375 6c74 203d 204e 6f6e 650d 0a0d  result = None...
-00003da0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003db0: 2020 2020 2020 2020 2069 6620 7265 7375           if resu
-00003dc0: 6c74 203d 3d20 4e6f 6e65 2061 6e64 2065  lt == None and e
-00003dd0: 7272 2021 3d20 4e6f 6e65 3a0d 0a20 2020  rr != None:..   
-00003de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003df0: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
-00003e00: 726f 7220 3d20 6572 720d 0a20 2020 2020  ror = err..     
+00003890: 2020 6461 7461 5f65 7272 203d 207b 7d0d    data_err = {}.
+000038a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000038b0: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
+000038c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000038d0: 2020 2064 6174 615f 6572 7220 3d20 6a73     data_err = js
+000038e0: 6f6e 2e6c 6f61 6473 2872 6573 706f 6e73  on.loads(respons
+000038f0: 652e 7465 7874 290d 0a20 2020 2020 2020  e.text)..       
+00003900: 2020 2020 2020 2020 2020 2020 2065 7863               exc
+00003910: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
+00003920: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
+00003930: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+00003940: 615f 6572 7220 3d20 7b0d 0a20 2020 2020  a_err = {..     
+00003950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003960: 2020 2020 2020 2022 636f 6465 223a 2035         "code": 5
+00003970: 3030 2c0d 0a20 2020 2020 2020 2020 2020  00,..           
+00003980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003990: 2022 7374 6174 7573 223a 2046 616c 7365   "status": False
+000039a0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000039b0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000039c0: 6572 726f 7222 3a20 2249 4e54 4552 4e41  error": "INTERNA
+000039d0: 4c5f 5345 5256 4552 5f45 5252 4f52 222c  L_SERVER_ERROR",
+000039e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000039f0: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00003a00: 6573 7361 6765 223a 2022 6765 6e65 7261  essage": "genera
+00003a10: 6c20 2875 6e6b 6e6f 776e 2920 6572 726f  l (unknown) erro
+00003a20: 7222 0d0a 2020 2020 2020 2020 2020 2020  r"..            
+00003a30: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
+00003a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003a50: 2020 200d 0a20 2020 2020 2020 2020 2020     ..           
+00003a60: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
+00003a70: 726f 7220 3d20 6461 7461 5f65 7272 0d0a  ror = data_err..
+00003a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003a90: 2020 2020 7365 6c66 2e72 6573 756c 7420      self.result 
+00003aa0: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+00003ab0: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+00003ac0: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
+00003ad0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00003ae0: 2e65 7272 6f72 203d 207b 0d0a 2020 2020  .error = {..    
+00003af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003b00: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
+00003b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003b20: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
+00003b30: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+00003b40: 2020 2020 2020 2020 2265 7272 6f72 223a          "error":
+00003b50: 2022 494e 5445 524e 414c 5f53 4552 5645   "INTERNAL_SERVE
+00003b60: 525f 4552 524f 5222 2c0d 0a20 2020 2020  R_ERROR",..     
+00003b70: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00003b80: 6d65 7373 6167 6522 3a20 2267 656e 6572  message": "gener
+00003b90: 616c 2028 756e 6b6e 6f77 6e29 2065 7272  al (unknown) err
+00003ba0: 6f72 220d 0a20 2020 2020 2020 2020 2020  or"..           
+00003bb0: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
+00003bc0: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
+00003bd0: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
+00003be0: 2020 2020 2020 2020 7061 7373 0d0a 2020          pass..  
+00003bf0: 2020 2020 2020 6465 6620 6572 726f 7228        def error(
+00003c00: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
+00003c10: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00003c20: 6572 726f 720d 0a20 2020 2020 2020 2064  error..        d
+00003c30: 6566 2072 6573 756c 7428 7365 6c66 293a  ef result(self):
+00003c40: 0d0a 2020 2020 2020 2020 2020 2020 7265  ..            re
+00003c50: 7475 726e 2073 656c 662e 7265 7375 6c74  turn self.result
+00003c60: 0d0a 2020 2020 636c 6173 7320 7072 6f6d  ..    class prom
+00003c70: 7074 733a 0d0a 2020 2020 2020 2020 6572  pts:..        er
+00003c80: 726f 7220 3d20 4e6f 6e65 0d0a 2020 2020  ror = None..    
+00003c90: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
+00003ca0: 650d 0a20 2020 2020 2020 2064 6566 205f  e..        def _
+00003cb0: 5f69 6e69 745f 5f28 7365 6c66 2c20 6c61  _init__(self, la
+00003cc0: 6e67 3d22 222c 206c 696d 6974 3d22 222c  ng="", limit="",
+00003cd0: 206f 6666 7365 743d 2222 2920 2d3e 204e   offset="") -> N
+00003ce0: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+00003cf0: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+00003d00: 2020 2020 2020 2020 6865 6164 6572 7320          headers 
+00003d10: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
+00003d20: 2020 2020 2020 2020 2022 436f 6e74 656e           "Conten
+00003d30: 742d 5479 7065 223a 2022 6170 706c 6963  t-Type": "applic
+00003d40: 6174 696f 6e2f 6a73 6f6e 220d 0a20 2020  ation/json"..   
+00003d50: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
+00003d60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003d70: 2020 6461 7461 203d 206a 736f 6e2e 6475    data = json.du
+00003d80: 6d70 7328 7b7d 290d 0a20 2020 2020 2020  mps({})..       
+00003d90: 2020 2020 2020 2020 2074 7279 3a0d 0a20           try:.. 
+00003da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003db0: 2020 2064 6174 6120 3d20 6a73 6f6e 2e64     data = json.d
+00003dc0: 756d 7073 287b 0d0a 2020 2020 2020 2020  umps({..        
+00003dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003de0: 226c 616e 6722 3a20 6c61 6e67 2069 6620  "lang": lang if 
+00003df0: 6c61 6e67 2069 7320 6e6f 7420 4e6f 6e65  lang is not None
+00003e00: 2065 6c73 6520 2265 6e22 2c0d 0a20 2020   else "en",..   
 00003e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003e20: 2020 2020 2020 2073 656c 662e 7265 7375         self.resu
-00003e30: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
-00003e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003e50: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-00003e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003e70: 2020 2020 2020 7365 6c66 2e72 6573 756c        self.resul
-00003e80: 7420 3d20 7265 7375 6c74 0d0a 2020 2020  t = result..    
-00003e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003ea0: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
-00003eb0: 6f72 203d 204e 6f6e 650d 0a20 2020 2020  or = None..     
-00003ec0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00003ed0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00003ee0: 2020 2020 2020 6461 7461 5f65 7272 203d        data_err =
-00003ef0: 207b 7d0d 0a20 2020 2020 2020 2020 2020   {}..           
-00003f00: 2020 2020 2020 2020 2074 7279 3a0d 0a20           try:.. 
-00003f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f20: 2020 2020 2020 2064 6174 615f 6572 7220         data_err 
-00003f30: 3d20 6a73 6f6e 2e6c 6f61 6473 2872 6573  = json.loads(res
-00003f40: 706f 6e73 652e 7465 7874 290d 0a20 2020  ponse.text)..   
+00003e20: 2020 2020 2022 6c69 6d69 7422 3a20 6c69       "limit": li
+00003e30: 6d69 7420 6966 206c 696d 6974 2069 7320  mit if limit is 
+00003e40: 6e6f 7420 4e6f 6e65 2065 6c73 6520 342c  not None else 4,
+00003e50: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003e60: 2020 2020 2020 2020 2020 226f 6666 7365            "offse
+00003e70: 7422 3a20 6f66 6673 6574 2069 6620 6f66  t": offset if of
+00003e80: 6673 6574 2069 7320 6e6f 7420 4e6f 6e65  fset is not None
+00003e90: 2065 6c73 6520 300d 0a20 2020 2020 2020   else 0..       
+00003ea0: 2020 2020 2020 2020 2020 2020 207d 290d               }).
+00003eb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003ec0: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+00003ed0: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
+00003ee0: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+00003ef0: 6120 3d20 6a73 6f6e 2e64 756d 7073 287b  a = json.dumps({
+00003f00: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003f10: 2020 2020 2020 2020 2020 226c 616e 6722            "lang"
+00003f20: 3a20 2265 6e22 2c0d 0a20 2020 2020 2020  : "en",..       
+00003f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003f40: 2022 6c69 6d69 7422 3a20 342c 0d0a 2020   "limit": 4,..  
 00003f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f60: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-00003f70: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
-00003f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f90: 2064 6174 615f 6572 7220 3d20 7b0d 0a20   data_err = {.. 
-00003fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003fb0: 2020 2020 2020 2020 2020 2022 636f 6465             "code
-00003fc0: 223a 2035 3030 2c0d 0a20 2020 2020 2020  ": 500,..       
-00003fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003fe0: 2020 2020 2022 7374 6174 7573 223a 2046       "status": F
-00003ff0: 616c 7365 2c0d 0a20 2020 2020 2020 2020  alse,..         
-00004000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004010: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
-00004020: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
-00004030: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
-00004040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004050: 2020 226d 6573 7361 6765 223a 2022 6765    "message": "ge
-00004060: 6e65 7261 6c20 2875 6e6b 6e6f 776e 2920  neral (unknown) 
-00004070: 6572 726f 7222 0d0a 2020 2020 2020 2020  error"..        
-00004080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004090: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
-000040a0: 2020 2020 2020 200d 0a20 2020 2020 2020         ..       
-000040b0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-000040c0: 662e 6572 726f 7220 3d20 6461 7461 5f65  f.error = data_e
-000040d0: 7272 0d0a 2020 2020 2020 2020 2020 2020  rr..            
-000040e0: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
-000040f0: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
-00004100: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-00004110: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
-00004120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004130: 7365 6c66 2e65 7272 6f72 203d 207b 0d0a  self.error = {..
+00003f60: 2020 2020 2020 226f 6666 7365 7422 3a20        "offset": 
+00003f70: 300d 0a20 2020 2020 2020 2020 2020 2020  0..             
+00003f80: 2020 2020 2020 207d 290d 0a0d 0a20 2020         })....   
+00003f90: 2020 2020 2020 2020 2020 2020 2072 6573               res
+00003fa0: 706f 6e73 6520 3d20 7265 7175 6573 7473  ponse = requests
+00003fb0: 2e70 6f73 7428 7572 6c3d 2268 7474 7073  .post(url="https
+00003fc0: 3a2f 2f6e 6578 7261 2e61 7279 6168 6372  ://nexra.aryahcr
+00003fd0: 2e63 632f 6170 692f 6368 6174 2f72 616e  .cc/api/chat/ran
+00003fe0: 646f 6d22 2c20 6865 6164 6572 733d 6865  dom", headers=he
+00003ff0: 6164 6572 732c 2064 6174 613d 6461 7461  aders, data=data
+00004000: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+00004010: 2020 2069 6620 7265 7370 6f6e 7365 2e73     if response.s
+00004020: 7461 7475 735f 636f 6465 203d 3d20 3230  tatus_code == 20
+00004030: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+00004040: 2020 2020 2020 2020 6572 7220 3d20 4e6f          err = No
+00004050: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+00004060: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+00004070: 204e 6f6e 650d 0a0d 0a20 2020 2020 2020   None....       
+00004080: 2020 2020 2020 2020 2020 2020 2063 6f75               cou
+00004090: 6e74 203d 202d 310d 0a20 2020 2020 2020  nt = -1..       
+000040a0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+000040b0: 2069 2069 6e20 7261 6e67 6528 6c65 6e28   i in range(len(
+000040c0: 7265 7370 6f6e 7365 2e74 6578 7429 293a  response.text)):
+000040d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000040e0: 2020 2020 2020 2020 2020 6966 2063 6f75            if cou
+000040f0: 6e74 203c 3d20 2d31 3a0d 0a20 2020 2020  nt <= -1:..     
+00004100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004110: 2020 2020 2020 2069 6620 7265 7370 6f6e         if respon
+00004120: 7365 2e74 6578 745b 695d 203d 3d20 227b  se.text[i] == "{
+00004130: 223a 0d0a 2020 2020 2020 2020 2020 2020  ":..            
 00004140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004150: 2020 2020 2263 6f64 6522 3a20 3530 302c      "code": 500,
-00004160: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00004170: 2020 2020 2020 2273 7461 7475 7322 3a20        "status": 
-00004180: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
-00004190: 2020 2020 2020 2020 2020 2020 2265 7272              "err
-000041a0: 6f72 223a 2022 494e 5445 524e 414c 5f53  or": "INTERNAL_S
-000041b0: 4552 5645 525f 4552 524f 5222 2c0d 0a20  ERVER_ERROR",.. 
-000041c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000041d0: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
-000041e0: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
-000041f0: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
-00004200: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
-00004210: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00004220: 2e72 6573 756c 7420 3d20 4e6f 6e65 0d0a  .result = None..
-00004230: 2020 2020 2020 2020 2020 2020 7061 7373              pass
-00004240: 0d0a 2020 2020 2020 2020 6465 6620 6572  ..        def er
-00004250: 726f 7228 7365 6c66 293a 0d0a 2020 2020  ror(self):..    
-00004260: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00004270: 656c 662e 6572 726f 720d 0a20 2020 2020  elf.error..     
-00004280: 2020 2064 6566 2072 6573 756c 7428 7365     def result(se
-00004290: 6c66 293a 0d0a 2020 2020 2020 2020 2020  lf):..          
-000042a0: 2020 7265 7475 726e 2073 656c 662e 7265    return self.re
-000042b0: 7375 6c74 0d0a 2020 2020 636c 6173 7320  sult..    class 
-000042c0: 6d69 6e69 2829 3a0d 0a20 2020 2020 2020  mini():..       
-000042d0: 2065 7272 6f72 203d 204e 6f6e 650d 0a20   error = None.. 
-000042e0: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-000042f0: 4e6f 6e65 0d0a 2020 2020 2020 2020 6465  None..        de
-00004300: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
-00004310: 2070 726f 6d70 743d 2222 2920 2d3e 204e   prompt="") -> N
-00004320: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
-00004330: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
-00004340: 2020 2020 2020 2020 6865 6164 6572 7320          headers 
-00004350: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-00004360: 2020 2020 2020 2020 2022 436f 6e74 656e           "Conten
-00004370: 742d 5479 7065 223a 2022 6170 706c 6963  t-Type": "applic
-00004380: 6174 696f 6e2f 6a73 6f6e 220d 0a20 2020  ation/json"..   
-00004390: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
-000043a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000043b0: 6572 7220 3d20 4661 6c73 650d 0a20 2020  err = False..   
-000043c0: 2020 2020 2020 2020 2020 2020 200d 0a20               .. 
-000043d0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-000043e0: 6174 6120 3d20 6a73 6f6e 2e64 756d 7073  ata = json.dumps
-000043f0: 287b 7d29 0d0a 2020 2020 2020 2020 2020  ({})..          
-00004400: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
-00004410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004420: 6461 7461 203d 206a 736f 6e2e 6475 6d70  data = json.dump
-00004430: 7328 7b0d 0a20 2020 2020 2020 2020 2020  s({..           
-00004440: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
-00004450: 6f6d 7074 223a 2070 726f 6d70 7420 6966  ompt": prompt if
-00004460: 2070 726f 6d70 7420 6973 206e 6f74 204e   prompt is not N
-00004470: 6f6e 6520 656c 7365 2022 222c 0d0a 2020  one else "",..  
+00004150: 2020 2020 636f 756e 7420 3d20 690d 0a20      count = i.. 
+00004160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004170: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+00004180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004190: 2020 2020 2020 2020 2020 6272 6561 6b0d            break.
+000041a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000041b0: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
+000041c0: 2020 2020 2020 2020 2020 2069 6620 636f             if co
+000041d0: 756e 7420 3c3d 202d 313a 0d0a 2020 2020  unt <= -1:..    
+000041e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000041f0: 2020 2020 6572 7220 3d20 7b0d 0a20 2020      err = {..   
+00004200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004210: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
+00004220: 2035 3030 2c0d 0a20 2020 2020 2020 2020   500,..         
+00004230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004240: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
+00004250: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
+00004260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004270: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
+00004280: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
+00004290: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+000042a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000042b0: 226d 6573 7361 6765 223a 2022 6765 6e65  "message": "gene
+000042c0: 7261 6c20 2875 6e6b 6e6f 776e 2920 6572  ral (unknown) er
+000042d0: 726f 7222 0d0a 2020 2020 2020 2020 2020  ror"..          
+000042e0: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
+000042f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004300: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+00004310: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+00004320: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00004330: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00004340: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
+00004350: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004360: 2020 2020 2020 2020 2020 2020 206a 7320               js 
+00004370: 3d20 7265 7370 6f6e 7365 2e74 6578 745b  = response.text[
+00004380: 636f 756e 743a 5d0d 0a20 2020 2020 2020  count:]..       
+00004390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000043a0: 2020 2020 206a 7320 3d20 6a73 6f6e 2e6c       js = json.l
+000043b0: 6f61 6473 286a 7329 0d0a 2020 2020 2020  oads(js)..      
+000043c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000043d0: 2020 2020 2020 6966 206a 7320 213d 204e        if js != N
+000043e0: 6f6e 6520 616e 6420 6a73 5b22 636f 6465  one and js["code
+000043f0: 225d 2021 3d20 4e6f 6e65 2061 6e64 206a  "] != None and j
+00004400: 735b 2263 6f64 6522 5d20 3d3d 2032 3030  s["code"] == 200
+00004410: 2061 6e64 206a 735b 2273 7461 7475 7322   and js["status"
+00004420: 5d20 213d 204e 6f6e 6520 616e 6420 6a73  ] != None and js
+00004430: 5b22 7374 6174 7573 225d 203d 3d20 5472  ["status"] == Tr
+00004440: 7565 3a0d 0a20 2020 2020 2020 2020 2020  ue:..           
+00004450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004460: 2020 2020 2072 6573 756c 7420 3d20 6a73       result = js
+00004470: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
 00004480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004490: 2020 2020 2020 226d 6f64 656c 223a 2022        "model": "
-000044a0: 6461 6c6c 652d 6d69 6e69 220d 0a20 2020  dalle-mini"..   
-000044b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000044c0: 207d 290d 0a20 2020 2020 2020 2020 2020   })..           
-000044d0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
-000044e0: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
+00004490: 2020 6572 7220 3d20 4e6f 6e65 0d0a 2020    err = None..  
+000044a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000044b0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+000044c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000044d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000044e0: 2065 7272 203d 206a 730d 0a20 2020 2020   err = js..     
 000044f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004500: 2064 6174 6120 3d20 6a73 6f6e 2e64 756d   data = json.dum
-00004510: 7073 287b 0d0a 2020 2020 2020 2020 2020  ps({..          
-00004520: 2020 2020 2020 2020 2020 2020 2020 2270                "p
-00004530: 726f 6d70 7422 3a20 2222 2c0d 0a20 2020  rompt": "",..   
-00004540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004550: 2020 2020 2022 6d6f 6465 6c22 3a20 2264       "model": "d
-00004560: 616c 6c65 2d6d 696e 6922 0d0a 2020 2020  alle-mini"..    
+00004500: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+00004510: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
+00004520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004530: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
+00004540: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
+00004550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004560: 2020 2020 2020 6572 7220 3d20 7b0d 0a20        err = {.. 
 00004570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004580: 7d29 0d0a 0d0a 2020 2020 2020 2020 2020  })....          
-00004590: 2020 2020 2020 7265 7370 6f6e 7365 203d        response =
-000045a0: 2072 6571 7565 7374 732e 706f 7374 2875   requests.post(u
-000045b0: 726c 3d22 6874 7470 733a 2f2f 6e65 7872  rl="https://nexr
-000045c0: 612e 6172 7961 6863 722e 6363 2f61 7069  a.aryahcr.cc/api
-000045d0: 2f69 6d61 6765 2f63 6f6d 706c 656d 656e  /image/complemen
-000045e0: 7473 222c 2068 6561 6465 7273 3d68 6561  ts", headers=hea
-000045f0: 6465 7273 2c20 6461 7461 3d64 6174 6129  ders, data=data)
-00004600: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00004610: 2020 6966 2072 6573 706f 6e73 652e 7374    if response.st
-00004620: 6174 7573 5f63 6f64 6520 3d3d 2032 3030  atus_code == 200
-00004630: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00004640: 2020 2020 2020 2065 7272 203d 204e 6f6e         err = Non
-00004650: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-00004660: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-00004670: 4e6f 6e65 0d0a 0d0a 2020 2020 2020 2020  None....        
-00004680: 2020 2020 2020 2020 2020 2020 636f 756e              coun
-00004690: 7420 3d20 2d31 0d0a 2020 2020 2020 2020  t = -1..        
-000046a0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-000046b0: 6920 696e 2072 616e 6765 286c 656e 2872  i in range(len(r
-000046c0: 6573 706f 6e73 652e 7465 7874 2929 3a0d  esponse.text)):.
-000046d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000046e0: 2020 2020 2020 2020 2069 6620 636f 756e           if coun
-000046f0: 7420 3c3d 202d 313a 0d0a 2020 2020 2020  t <= -1:..      
-00004700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004710: 2020 2020 2020 6966 2072 6573 706f 6e73        if respons
-00004720: 652e 7465 7874 5b69 5d20 3d3d 2022 7b22  e.text[i] == "{"
-00004730: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00004580: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00004590: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
+000045a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000045b0: 2020 2020 2020 2020 2020 2020 2022 7374               "st
+000045c0: 6174 7573 223a 2046 616c 7365 2c0d 0a20  atus": False,.. 
+000045d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000045e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000045f0: 6572 726f 7222 3a20 2249 4e54 4552 4e41  error": "INTERNA
+00004600: 4c5f 5345 5256 4552 5f45 5252 4f52 222c  L_SERVER_ERROR",
+00004610: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00004620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004630: 2020 226d 6573 7361 6765 223a 2022 6765    "message": "ge
+00004640: 6e65 7261 6c20 2875 6e6b 6e6f 776e 2920  neral (unknown) 
+00004650: 6572 726f 7222 0d0a 2020 2020 2020 2020  error"..        
+00004660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004670: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
+00004680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004690: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
+000046a0: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
+000046b0: 2020 2020 2020 2020 2020 2020 6966 2072              if r
+000046c0: 6573 756c 7420 3d3d 204e 6f6e 6520 616e  esult == None an
+000046d0: 6420 6572 7220 213d 204e 6f6e 653a 0d0a  d err != None:..
+000046e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000046f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00004700: 2e65 7272 6f72 203d 2065 7272 0d0a 2020  .error = err..  
+00004710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004720: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
+00004730: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
 00004740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004750: 2020 2063 6f75 6e74 203d 2069 0d0a 2020     count = i..  
+00004750: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
 00004760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004770: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00004780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004790: 2020 2020 2020 2020 2062 7265 616b 0d0a           break..
-000047a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000047b0: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
-000047c0: 2020 2020 2020 2020 2020 6966 2063 6f75            if cou
-000047d0: 6e74 203c 3d20 2d31 3a0d 0a20 2020 2020  nt <= -1:..     
-000047e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000047f0: 2020 2065 7272 203d 207b 0d0a 2020 2020     err = {..    
-00004800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004810: 2020 2020 2020 2020 2263 6f64 6522 3a20          "code": 
-00004820: 3530 302c 0d0a 2020 2020 2020 2020 2020  500,..          
-00004830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004840: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
-00004850: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00004860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004870: 2265 7272 6f72 223a 2022 494e 5445 524e  "error": "INTERN
-00004880: 414c 5f53 4552 5645 525f 4552 524f 5222  AL_SERVER_ERROR"
-00004890: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000048a0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000048b0: 6d65 7373 6167 6522 3a20 2267 656e 6572  message": "gener
-000048c0: 616c 2028 756e 6b6e 6f77 6e29 2065 7272  al (unknown) err
-000048d0: 6f72 220d 0a20 2020 2020 2020 2020 2020  or"..           
-000048e0: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
-000048f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004900: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-00004910: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
-00004920: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00004930: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00004940: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
-00004950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004960: 2020 2020 2020 2020 2020 2020 6a73 203d              js =
-00004970: 2072 6573 706f 6e73 652e 7465 7874 5b63   response.text[c
-00004980: 6f75 6e74 3a5d 0d0a 2020 2020 2020 2020  ount:]..        
-00004990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049a0: 2020 2020 6a73 203d 206a 736f 6e2e 6c6f      js = json.lo
-000049b0: 6164 7328 6a73 290d 0a20 2020 2020 2020  ads(js)..       
-000049c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049d0: 2020 2020 2069 6620 6a73 2021 3d20 4e6f       if js != No
-000049e0: 6e65 2061 6e64 206a 735b 2263 6f64 6522  ne and js["code"
-000049f0: 5d20 213d 204e 6f6e 6520 616e 6420 6a73  ] != None and js
-00004a00: 5b22 636f 6465 225d 203d 3d20 3230 3020  ["code"] == 200 
-00004a10: 616e 6420 6a73 5b22 7374 6174 7573 225d  and js["status"]
-00004a20: 2021 3d20 4e6f 6e65 2061 6e64 206a 735b   != None and js[
-00004a30: 2273 7461 7475 7322 5d20 3d3d 2054 7275  "status"] == Tru
-00004a40: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00004a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004a60: 2020 2020 7265 7375 6c74 203d 206a 730d      result = js.
-00004a70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004a90: 2065 7272 203d 204e 6f6e 650d 0a20 2020   err = None..   
-00004aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ab0: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-00004ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ae0: 6572 7220 3d20 6a73 0d0a 2020 2020 2020  err = js..      
-00004af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b00: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-00004b10: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
-00004b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b30: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-00004b40: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
-00004b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b60: 2020 2020 2065 7272 203d 207b 0d0a 2020       err = {..  
-00004b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b80: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-00004b90: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
-00004ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004bb0: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
-00004bc0: 7475 7322 3a20 4661 6c73 652c 0d0a 2020  tus": False,..  
-00004bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004be0: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-00004bf0: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
-00004c00: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
-00004c10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004c30: 2022 6d65 7373 6167 6522 3a20 2267 656e   "message": "gen
-00004c40: 6572 616c 2028 756e 6b6e 6f77 6e29 2065  eral (unknown) e
-00004c50: 7272 6f72 220d 0a20 2020 2020 2020 2020  rror"..         
-00004c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004c70: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
-00004c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004c90: 2020 7265 7375 6c74 203d 204e 6f6e 650d    result = None.
-00004ca0: 0a0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-00004cb0: 2020 2020 2020 2020 2020 2069 6620 7265             if re
-00004cc0: 7375 6c74 203d 3d20 4e6f 6e65 2061 6e64  sult == None and
-00004cd0: 2065 7272 2021 3d20 4e6f 6e65 3a0d 0a20   err != None:.. 
-00004ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004cf0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00004d00: 6572 726f 7220 3d20 6572 720d 0a20 2020  error = err..   
-00004d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004d20: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-00004d30: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
-00004d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004d50: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
-00004d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004d70: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
-00004d80: 756c 7420 3d20 7265 7375 6c74 0d0a 2020  ult = result..  
-00004d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004da0: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
-00004db0: 7272 6f72 203d 204e 6f6e 650d 0a20 2020  rror = None..   
-00004dc0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-00004dd0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00004de0: 2020 2020 2020 2020 6461 7461 5f65 7272          data_err
-00004df0: 203d 207b 7d0d 0a20 2020 2020 2020 2020   = {}..         
-00004e00: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
-00004e10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004e20: 2020 2020 2020 2020 2064 6174 615f 6572           data_er
-00004e30: 7220 3d20 6a73 6f6e 2e6c 6f61 6473 2872  r = json.loads(r
-00004e40: 6573 706f 6e73 652e 7465 7874 290d 0a20  esponse.text).. 
-00004e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004e60: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
-00004e70: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
+00004770: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
+00004780: 7375 6c74 203d 2072 6573 756c 740d 0a20  sult = result.. 
+00004790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000047a0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000047b0: 6572 726f 7220 3d20 4e6f 6e65 0d0a 2020  error = None..  
+000047c0: 2020 2020 2020 2020 2020 2020 2020 656c                el
+000047d0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+000047e0: 2020 2020 2020 2020 2064 6174 615f 6572           data_er
+000047f0: 7220 3d20 7b7d 0d0a 2020 2020 2020 2020  r = {}..        
+00004800: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+00004810: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00004820: 2020 2020 2020 2020 2020 6461 7461 5f65            data_e
+00004830: 7272 203d 206a 736f 6e2e 6c6f 6164 7328  rr = json.loads(
+00004840: 7265 7370 6f6e 7365 2e74 6578 7429 0d0a  response.text)..
+00004850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004860: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+00004870: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
+00004880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004890: 2020 2020 6461 7461 5f65 7272 203d 207b      data_err = {
+000048a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000048b0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
+000048c0: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
+000048d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000048e0: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
+000048f0: 3a20 4661 6c73 652c 0d0a 2020 2020 2020  : False,..      
+00004900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004910: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
+00004920: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
+00004930: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
+00004940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004950: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
+00004960: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
+00004970: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
+00004980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004990: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
+000049a0: 2020 2020 2020 2020 2020 0d0a 2020 2020            ..    
+000049b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000049c0: 7365 6c66 2e65 7272 6f72 203d 2064 6174  self.error = dat
+000049d0: 615f 6572 720d 0a20 2020 2020 2020 2020  a_err..         
+000049e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000049f0: 7265 7375 6c74 203d 204e 6f6e 650d 0a20  result = None.. 
+00004a00: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+00004a10: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
+00004a20: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00004a30: 2020 2073 656c 662e 6572 726f 7220 3d20     self.error = 
+00004a40: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00004a50: 2020 2020 2020 2022 636f 6465 223a 2035         "code": 5
+00004a60: 3030 2c0d 0a20 2020 2020 2020 2020 2020  00,..           
+00004a70: 2020 2020 2020 2020 2022 7374 6174 7573           "status
+00004a80: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
+00004a90: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00004aa0: 6572 726f 7222 3a20 2249 4e54 4552 4e41  error": "INTERNA
+00004ab0: 4c5f 5345 5256 4552 5f45 5252 4f52 222c  L_SERVER_ERROR",
+00004ac0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00004ad0: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
+00004ae0: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
+00004af0: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
+00004b00: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
+00004b10: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00004b20: 656c 662e 7265 7375 6c74 203d 204e 6f6e  elf.result = Non
+00004b30: 650d 0a20 2020 2020 2020 2020 2020 2070  e..            p
+00004b40: 6173 730d 0a20 2020 2020 2020 2064 6566  ass..        def
+00004b50: 2065 7272 6f72 2873 656c 6629 3a0d 0a20   error(self):.. 
+00004b60: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00004b70: 6e20 7365 6c66 2e65 7272 6f72 0d0a 2020  n self.error..  
+00004b80: 2020 2020 2020 6465 6620 7265 7375 6c74        def result
+00004b90: 2873 656c 6629 3a0d 0a20 2020 2020 2020  (self):..       
+00004ba0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00004bb0: 2e72 6573 756c 740d 0a0d 0a63 6c61 7373  .result....class
+00004bc0: 2064 616c 6c65 3a0d 0a20 2020 2063 6c61   dalle:..    cla
+00004bd0: 7373 2076 313a 0d0a 2020 2020 2020 2020  ss v1:..        
+00004be0: 6572 726f 7220 3d20 4e6f 6e65 0d0a 2020  error = None..  
+00004bf0: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
+00004c00: 6f6e 650d 0a20 2020 2020 2020 2064 6566  one..        def
+00004c10: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
+00004c20: 7072 6f6d 7074 3d22 2229 202d 3e20 4e6f  prompt="") -> No
+00004c30: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
+00004c40: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+00004c50: 2020 2020 2020 2068 6561 6465 7273 203d         headers =
+00004c60: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+00004c70: 2020 2020 2020 2020 2243 6f6e 7465 6e74          "Content
+00004c80: 2d54 7970 6522 3a20 2261 7070 6c69 6361  -Type": "applica
+00004c90: 7469 6f6e 2f6a 736f 6e22 0d0a 2020 2020  tion/json"..    
+00004ca0: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
+00004cb0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00004cc0: 7272 203d 2046 616c 7365 0d0a 2020 2020  rr = False..    
+00004cd0: 2020 2020 2020 2020 2020 2020 0d0a 2020              ..  
+00004ce0: 2020 2020 2020 2020 2020 2020 2020 6461                da
+00004cf0: 7461 203d 206a 736f 6e2e 6475 6d70 7328  ta = json.dumps(
+00004d00: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00004d10: 2020 2020 2020 2022 7072 6f6d 7074 223a         "prompt":
+00004d20: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
+00004d30: 2020 2020 2020 2020 2020 226d 6f64 656c            "model
+00004d40: 223a 2022 6461 6c6c 6522 0d0a 2020 2020  ": "dalle"..    
+00004d50: 2020 2020 2020 2020 2020 2020 7d29 0d0a              })..
+00004d60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00004d70: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+00004d80: 2020 2020 2020 2020 2020 2020 6461 7461              data
+00004d90: 203d 206a 736f 6e2e 6475 6d70 7328 7b0d   = json.dumps({.
+00004da0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004db0: 2020 2020 2020 2020 2022 7072 6f6d 7074           "prompt
+00004dc0: 223a 2070 726f 6d70 7420 6966 2070 726f  ": prompt if pro
+00004dd0: 6d70 7420 6973 206e 6f74 204e 6f6e 6520  mpt is not None 
+00004de0: 656c 7365 2022 222c 0d0a 2020 2020 2020  else "",..      
+00004df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004e00: 2020 226d 6f64 656c 223a 2022 6461 6c6c    "model": "dall
+00004e10: 6522 0d0a 2020 2020 2020 2020 2020 2020  e"..            
+00004e20: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
+00004e30: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00004e40: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
+00004e50: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00004e60: 2020 2020 2020 2020 6461 7461 203d 206a          data = j
+00004e70: 736f 6e2e 6475 6d70 7328 7b0d 0a20 2020  son.dumps({..   
 00004e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004e90: 2020 2064 6174 615f 6572 7220 3d20 7b0d     data_err = {.
-00004ea0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004eb0: 2020 2020 2020 2020 2020 2020 2022 636f               "co
-00004ec0: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
+00004e90: 2020 2020 2022 7072 6f6d 7074 223a 2022       "prompt": "
+00004ea0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+00004eb0: 2020 2020 2020 2020 2020 2020 226d 6f64              "mod
+00004ec0: 656c 223a 2022 6461 6c6c 6522 0d0a 2020  el": "dalle"..  
 00004ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ee0: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
-00004ef0: 2046 616c 7365 2c0d 0a20 2020 2020 2020   False,..       
-00004f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f10: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
-00004f20: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
-00004f30: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
-00004f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f50: 2020 2020 226d 6573 7361 6765 223a 2022      "message": "
-00004f60: 6765 6e65 7261 6c20 2875 6e6b 6e6f 776e  general (unknown
-00004f70: 2920 6572 726f 7222 0d0a 2020 2020 2020  ) error"..      
-00004f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f90: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
-00004fa0: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
-00004fb0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00004fc0: 656c 662e 6572 726f 7220 3d20 6461 7461  elf.error = data
-00004fd0: 5f65 7272 0d0a 2020 2020 2020 2020 2020  _err..          
-00004fe0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
-00004ff0: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
-00005000: 2020 2020 2020 2020 2020 6578 6365 7074            except
-00005010: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
-00005020: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00005030: 2020 7365 6c66 2e65 7272 6f72 203d 207b    self.error = {
-00005040: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00005050: 2020 2020 2020 2263 6f64 6522 3a20 3530        "code": 50
-00005060: 302c 0d0a 2020 2020 2020 2020 2020 2020  0,..            
-00005070: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
-00005080: 3a20 4661 6c73 652c 0d0a 2020 2020 2020  : False,..      
-00005090: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-000050a0: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
-000050b0: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
-000050c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000050d0: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
-000050e0: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
-000050f0: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
-00005100: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
-00005110: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00005120: 6c66 2e72 6573 756c 7420 3d20 4e6f 6e65  lf.result = None
-00005130: 0d0a 2020 2020 2020 2020 2020 2020 7061  ..            pa
-00005140: 7373 0d0a 2020 2020 2020 2020 6465 6620  ss..        def 
-00005150: 6572 726f 7228 7365 6c66 293a 0d0a 2020  error(self):..  
-00005160: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00005170: 2073 656c 662e 6572 726f 720d 0a20 2020   self.error..   
-00005180: 2020 2020 2064 6566 2072 6573 756c 7428       def result(
-00005190: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
-000051a0: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-000051b0: 7265 7375 6c74 0d0a 2020 2020 2020 2020  result..        
-000051c0: 0d0a 636c 6173 7320 7072 6f64 6961 2829  ..class prodia()
-000051d0: 3a0d 0a20 2020 2063 6c61 7373 2076 3128  :..    class v1(
-000051e0: 293a 0d0a 2020 2020 2020 2020 6572 726f  ):..        erro
-000051f0: 7220 3d20 4e6f 6e65 0d0a 2020 2020 2020  r = None..      
-00005200: 2020 7265 7375 6c74 203d 204e 6f6e 650d    result = None.
-00005210: 0a20 2020 2020 2020 2064 6566 205f 5f69  .        def __i
-00005220: 6e69 745f 5f28 7365 6c66 2c20 7072 6f6d  nit__(self, prom
-00005230: 7074 3d22 222c 2064 6174 613d 7b0d 0a20  pt="", data={.. 
-00005240: 2020 2020 2020 2020 2020 2022 6d6f 6465             "mode
-00005250: 6c22 3a20 2222 2c0d 0a20 2020 2020 2020  l": "",..       
-00005260: 2020 2020 2022 7374 6570 7322 3a20 2222       "steps": ""
-00005270: 2c0d 0a20 2020 2020 2020 2020 2020 2022  ,..            "
-00005280: 6366 675f 7363 616c 6522 3a20 2222 2c0d  cfg_scale": "",.
-00005290: 0a20 2020 2020 2020 2020 2020 2022 7361  .            "sa
-000052a0: 6d70 6c65 7222 3a20 2222 2c0d 0a20 2020  mpler": "",..   
-000052b0: 2020 2020 2020 2020 2022 6e65 6761 7469           "negati
-000052c0: 7665 5f70 726f 6d70 7422 3a20 2222 0d0a  ve_prompt": ""..
-000052d0: 2020 2020 2020 2020 7d29 202d 3e20 4e6f          }) -> No
-000052e0: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
-000052f0: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
-00005300: 2020 2020 2020 2068 6561 6465 7273 203d         headers =
-00005310: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
-00005320: 2020 2020 2020 2020 2243 6f6e 7465 6e74          "Content
-00005330: 2d54 7970 6522 3a20 2261 7070 6c69 6361  -Type": "applica
-00005340: 7469 6f6e 2f6a 736f 6e22 0d0a 2020 2020  tion/json"..    
-00005350: 2020 2020 2020 2020 2020 2020 7d0d 0a0d              }...
-00005360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005370: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
-00005380: 2020 2020 2020 2020 2020 2070 726f 6d70             promp
-00005390: 7420 3d20 7072 6f6d 7074 2069 6620 7072  t = prompt if pr
-000053a0: 6f6d 7074 2069 7320 6e6f 7420 4e6f 6e65  ompt is not None
-000053b0: 2065 6c73 6520 2222 0d0a 2020 2020 2020   else ""..      
-000053c0: 2020 2020 2020 2020 2020 6578 6365 7074            except
-000053d0: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
-000053e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000053f0: 2020 2020 2020 7072 6f6d 7074 203d 2022        prompt = "
-00005400: 220d 0a0d 0a20 2020 2020 2020 2020 2020  "....           
-00005410: 2020 2020 206d 6420 3d20 7b0d 0a20 2020       md = {..   
-00005420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005430: 2022 6d6f 6465 6c22 3a20 2261 6273 6f6c   "model": "absol
-00005440: 7574 6572 6561 6c69 7479 5f56 3136 2e73  utereality_V16.s
-00005450: 6166 6574 656e 736f 7273 205b 3337 6462  afetensors [37db
-00005460: 3066 6333 5d22 2c0d 0a20 2020 2020 2020  0fc3]",..       
-00005470: 2020 2020 2020 2020 2020 2020 2022 7374               "st
-00005480: 6570 7322 3a20 3235 2c0d 0a20 2020 2020  eps": 25,..     
-00005490: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000054a0: 6366 675f 7363 616c 6522 3a20 372c 0d0a  cfg_scale": 7,..
-000054b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000054c0: 2020 2020 2273 616d 706c 6572 223a 2022      "sampler": "
-000054d0: 4450 4d2b 2b20 324d 204b 6172 7261 7322  DPM++ 2M Karras"
-000054e0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000054f0: 2020 2020 2020 2022 6e65 6761 7469 7665         "negative
-00005500: 5f70 726f 6d70 7422 3a20 2222 0d0a 2020  _prompt": ""..  
-00005510: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
-00005520: 0a0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-00005530: 2020 2074 7279 203a 0d0a 2020 2020 2020     try :..      
-00005540: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00005550: 2064 6174 612e 6765 7428 226d 6f64 656c   data.get("model
-00005560: 2229 2021 3d20 4e6f 6e65 3a0d 0a20 2020  ") != None:..   
-00005570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005580: 2020 2020 206d 645b 226d 6f64 656c 225d       md["model"]
-00005590: 203d 2064 6174 612e 6765 7428 226d 6f64   = data.get("mod
-000055a0: 656c 2229 0d0a 2020 2020 2020 2020 2020  el")..          
-000055b0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-000055c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000055d0: 2020 2020 2020 2020 206d 645b 226d 6f64           md["mod
-000055e0: 656c 225d 203d 2022 6162 736f 6c75 7465  el"] = "absolute
-000055f0: 7265 616c 6974 795f 5631 362e 7361 6665  reality_V16.safe
-00005600: 7465 6e73 6f72 7320 5b33 3764 6230 6663  tensors [37db0fc
-00005610: 335d 220d 0a0d 0a20 2020 2020 2020 2020  3]"....         
-00005620: 2020 2020 2020 2020 2020 2069 6620 6461             if da
-00005630: 7461 2e67 6574 2822 7374 6570 7322 2920  ta.get("steps") 
-00005640: 213d 204e 6f6e 653a 0d0a 2020 2020 2020  != None:..      
-00005650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005660: 2020 6d64 5b22 7374 6570 7322 5d20 3d20    md["steps"] = 
-00005670: 6461 7461 2e67 6574 2822 7374 6570 7322  data.get("steps"
-00005680: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
-00005690: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
-000056a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000056b0: 2020 2020 2020 6d64 5b22 7374 6570 7322        md["steps"
-000056c0: 5d20 3d20 3235 0d0a 0d0a 2020 2020 2020  ] = 25....      
-000056d0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-000056e0: 2064 6174 612e 6765 7428 2263 6667 5f73   data.get("cfg_s
-000056f0: 6361 6c65 2229 2021 3d20 4e6f 6e65 3a0d  cale") != None:.
-00005700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005710: 2020 2020 2020 2020 206d 645b 2263 6667           md["cfg
-00005720: 5f73 6361 6c65 225d 203d 2064 6174 612e  _scale"] = data.
-00005730: 6765 7428 2263 6667 5f73 6361 6c65 2229  get("cfg_scale")
-00005740: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00005750: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00005760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005770: 2020 2020 206d 645b 2263 6667 5f73 6361       md["cfg_sca
-00005780: 6c65 225d 203d 2037 0d0a 0d0a 2020 2020  le"] = 7....    
-00005790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000057a0: 6966 2064 6174 612e 6765 7428 2273 616d  if data.get("sam
-000057b0: 706c 6572 2229 2021 3d20 4e6f 6e65 3a0d  pler") != None:.
+00004ee0: 2020 7d29 0d0a 2020 2020 2020 2020 2020    })..          
+00004ef0: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+00004f00: 2020 2020 2020 2020 7265 7370 6f6e 7365          response
+00004f10: 203d 2072 6571 7565 7374 732e 706f 7374   = requests.post
+00004f20: 2875 726c 3d22 6874 7470 733a 2f2f 6e65  (url="https://ne
+00004f30: 7872 612e 6172 7961 6863 722e 6363 2f61  xra.aryahcr.cc/a
+00004f40: 7069 2f69 6d61 6765 2f63 6f6d 706c 656d  pi/image/complem
+00004f50: 656e 7473 222c 2068 6561 6465 7273 3d68  ents", headers=h
+00004f60: 6561 6465 7273 2c20 6461 7461 3d64 6174  eaders, data=dat
+00004f70: 6129 0d0a 2020 2020 2020 2020 2020 2020  a)..            
+00004f80: 2020 2020 6966 2072 6573 706f 6e73 652e      if response.
+00004f90: 7374 6174 7573 5f63 6f64 6520 3d3d 2032  status_code == 2
+00004fa0: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
+00004fb0: 2020 2020 2020 2020 2065 7272 203d 204e           err = N
+00004fc0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+00004fd0: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+00004fe0: 3d20 4e6f 6e65 0d0a 0d0a 2020 2020 2020  = None....      
+00004ff0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00005000: 756e 7420 3d20 2d31 0d0a 2020 2020 2020  unt = -1..      
+00005010: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00005020: 7220 6920 696e 2072 616e 6765 286c 656e  r i in range(len
+00005030: 2872 6573 706f 6e73 652e 7465 7874 2929  (response.text))
+00005040: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00005050: 2020 2020 2020 2020 2020 2069 6620 636f             if co
+00005060: 756e 7420 3c3d 202d 313a 0d0a 2020 2020  unt <= -1:..    
+00005070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005080: 2020 2020 2020 2020 6966 2072 6573 706f          if respo
+00005090: 6e73 652e 7465 7874 5b69 5d20 3d3d 2022  nse.text[i] == "
+000050a0: 7b22 3a0d 0a20 2020 2020 2020 2020 2020  {":..           
+000050b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000050c0: 2020 2020 2063 6f75 6e74 203d 2069 0d0a       count = i..
+000050d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000050e0: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
+000050f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005100: 2020 2020 2020 2020 2020 2062 7265 616b             break
+00005110: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00005120: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+00005130: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+00005140: 6f75 6e74 203c 3d20 2d31 3a0d 0a20 2020  ount <= -1:..   
+00005150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005160: 2020 2020 2065 7272 203d 207b 0d0a 2020       err = {..  
+00005170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005180: 2020 2020 2020 2020 2020 2263 6f64 6522            "code"
+00005190: 3a20 3530 302c 0d0a 2020 2020 2020 2020  : 500,..        
+000051a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000051b0: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
+000051c0: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
+000051d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000051e0: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
+000051f0: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
+00005200: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
+00005210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005220: 2022 6d65 7373 6167 6522 3a20 2267 656e   "message": "gen
+00005230: 6572 616c 2028 756e 6b6e 6f77 6e29 2065  eral (unknown) e
+00005240: 7272 6f72 220d 0a20 2020 2020 2020 2020  rror"..         
+00005250: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+00005260: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00005270: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+00005280: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+00005290: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+000052a0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+000052b0: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+000052c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000052d0: 2020 2020 2020 2020 2020 2020 2020 6a73                js
+000052e0: 203d 2072 6573 706f 6e73 652e 7465 7874   = response.text
+000052f0: 5b63 6f75 6e74 3a5d 0d0a 2020 2020 2020  [count:]..      
+00005300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005310: 2020 2020 2020 6a73 203d 206a 736f 6e2e        js = json.
+00005320: 6c6f 6164 7328 6a73 290d 0a20 2020 2020  loads(js)..     
+00005330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005340: 2020 2020 2020 2069 6620 6a73 2021 3d20         if js != 
+00005350: 4e6f 6e65 2061 6e64 206a 735b 2263 6f64  None and js["cod
+00005360: 6522 5d20 213d 204e 6f6e 6520 616e 6420  e"] != None and 
+00005370: 6a73 5b22 636f 6465 225d 203d 3d20 3230  js["code"] == 20
+00005380: 3020 616e 6420 6a73 5b22 7374 6174 7573  0 and js["status
+00005390: 225d 2021 3d20 4e6f 6e65 2061 6e64 206a  "] != None and j
+000053a0: 735b 2273 7461 7475 7322 5d20 3d3d 2054  s["status"] == T
+000053b0: 7275 653a 0d0a 2020 2020 2020 2020 2020  rue:..          
+000053c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000053d0: 2020 2020 2020 7265 7375 6c74 203d 206a        result = j
+000053e0: 730d 0a20 2020 2020 2020 2020 2020 2020  s..             
+000053f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005400: 2020 2065 7272 203d 204e 6f6e 650d 0a20     err = None.. 
+00005410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005420: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00005430: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00005440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005450: 2020 6572 7220 3d20 6a73 0d0a 2020 2020    err = js..    
+00005460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005470: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+00005480: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
+00005490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000054a0: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
+000054b0: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
+000054c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000054d0: 2020 2020 2020 2065 7272 203d 207b 0d0a         err = {..
+000054e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000054f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005500: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
+00005510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005520: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+00005530: 7461 7475 7322 3a20 4661 6c73 652c 0d0a  tatus": False,..
+00005540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005560: 2265 7272 6f72 223a 2022 494e 5445 524e  "error": "INTERN
+00005570: 414c 5f53 4552 5645 525f 4552 524f 5222  AL_SERVER_ERROR"
+00005580: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00005590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000055a0: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
+000055b0: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
+000055c0: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
+000055d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000055e0: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
+000055f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005600: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
+00005610: 650d 0a0d 0a20 2020 2020 2020 2020 2020  e....           
+00005620: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00005630: 7265 7375 6c74 203d 3d20 4e6f 6e65 2061  result == None a
+00005640: 6e64 2065 7272 2021 3d20 4e6f 6e65 3a0d  nd err != None:.
+00005650: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005660: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00005670: 662e 6572 726f 7220 3d20 6572 720d 0a20  f.error = err.. 
+00005680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005690: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000056a0: 7265 7375 6c74 203d 204e 6f6e 650d 0a20  result = None.. 
+000056b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000056c0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+000056d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000056e0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
+000056f0: 6573 756c 7420 3d20 7265 7375 6c74 0d0a  esult = result..
+00005700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005710: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00005720: 2e65 7272 6f72 203d 204e 6f6e 650d 0a20  .error = None.. 
+00005730: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00005740: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+00005750: 2020 2020 2020 2020 2020 6461 7461 5f65            data_e
+00005760: 7272 203d 207b 7d0d 0a20 2020 2020 2020  rr = {}..       
+00005770: 2020 2020 2020 2020 2020 2020 2074 7279               try
+00005780: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00005790: 2020 2020 2020 2020 2020 2064 6174 615f             data_
+000057a0: 6572 7220 3d20 6a73 6f6e 2e6c 6f61 6473  err = json.loads
+000057b0: 2872 6573 706f 6e73 652e 7465 7874 290d  (response.text).
 000057c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000057d0: 2020 2020 2020 2020 206d 645b 2273 616d           md["sam
-000057e0: 706c 6572 225d 203d 2064 6174 612e 6765  pler"] = data.ge
-000057f0: 7428 2273 616d 706c 6572 2229 0d0a 2020  t("sampler")..  
-00005800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005810: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
-00005820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005830: 206d 645b 2273 616d 706c 6572 225d 203d   md["sampler"] =
-00005840: 2022 4450 4d2b 2b20 324d 204b 6172 7261   "DPM++ 2M Karra
-00005850: 7322 0d0a 2020 2020 2020 2020 2020 2020  s"..            
-00005860: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
-00005870: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00005880: 2064 6174 612e 6765 7428 226e 6567 6174   data.get("negat
-00005890: 6976 655f 7072 6f6d 7074 2229 2021 3d20  ive_prompt") != 
-000058a0: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
-000058b0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-000058c0: 645b 226e 6567 6174 6976 655f 7072 6f6d  d["negative_prom
-000058d0: 7074 225d 203d 2064 6174 612e 6765 7428  pt"] = data.get(
-000058e0: 226e 6567 6174 6976 655f 7072 6f6d 7074  "negative_prompt
-000058f0: 2229 0d0a 2020 2020 2020 2020 2020 2020  ")..            
-00005900: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
-00005910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005920: 2020 2020 2020 206d 645b 226e 6567 6174         md["negat
-00005930: 6976 655f 7072 6f6d 7074 225d 203d 2022  ive_prompt"] = "
-00005940: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
-00005950: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
-00005960: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
-00005970: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00005980: 6420 3d20 7b0d 0a20 2020 2020 2020 2020  d = {..         
-00005990: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000059a0: 6d6f 6465 6c22 3a20 2261 6273 6f6c 7574  model": "absolut
-000059b0: 6572 6561 6c69 7479 5f56 3136 2e73 6166  ereality_V16.saf
-000059c0: 6574 656e 736f 7273 205b 3337 6462 3066  etensors [37db0f
-000059d0: 6333 5d22 2c0d 0a20 2020 2020 2020 2020  c3]",..         
-000059e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000059f0: 7374 6570 7322 3a20 3235 2c0d 0a20 2020  steps": 25,..   
+000057d0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+000057e0: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
+000057f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005800: 2020 2020 2064 6174 615f 6572 7220 3d20       data_err = 
+00005810: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00005820: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00005830: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
+00005840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005850: 2020 2020 2020 2020 2022 7374 6174 7573           "status
+00005860: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
+00005870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005880: 2020 2020 2020 2022 6572 726f 7222 3a20         "error": 
+00005890: 2249 4e54 4552 4e41 4c5f 5345 5256 4552  "INTERNAL_SERVER
+000058a0: 5f45 5252 4f52 222c 0d0a 2020 2020 2020  _ERROR",..      
+000058b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000058c0: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
+000058d0: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
+000058e0: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
+000058f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005900: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
+00005910: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
+00005920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005930: 2073 656c 662e 6572 726f 7220 3d20 6461   self.error = da
+00005940: 7461 5f65 7272 0d0a 2020 2020 2020 2020  ta_err..        
+00005950: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00005960: 2e72 6573 756c 7420 3d20 4e6f 6e65 0d0a  .result = None..
+00005970: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00005980: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
+00005990: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+000059a0: 2020 2020 7365 6c66 2e65 7272 6f72 203d      self.error =
+000059b0: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+000059c0: 2020 2020 2020 2020 2263 6f64 6522 3a20          "code": 
+000059d0: 3530 302c 0d0a 2020 2020 2020 2020 2020  500,..          
+000059e0: 2020 2020 2020 2020 2020 2273 7461 7475            "statu
+000059f0: 7322 3a20 4661 6c73 652c 0d0a 2020 2020  s": False,..    
 00005a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005a10: 2020 2020 2022 6366 675f 7363 616c 6522       "cfg_scale"
-00005a20: 3a20 372c 0d0a 2020 2020 2020 2020 2020  : 7,..          
-00005a30: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-00005a40: 616d 706c 6572 223a 2022 4450 4d2b 2b20  ampler": "DPM++ 
-00005a50: 324d 204b 6172 7261 7322 2c0d 0a20 2020  2M Karras",..   
-00005a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005a70: 2020 2020 2022 6e65 6761 7469 7665 5f70       "negative_p
-00005a80: 726f 6d70 7422 3a20 2222 0d0a 2020 2020  rompt": ""..    
-00005a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005aa0: 7d0d 0a0d 0a20 2020 2020 2020 2020 2020  }....           
-00005ab0: 2020 2020 2064 6174 6120 3d20 7b7d 0d0a       data = {}..
-00005ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ad0: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
-00005ae0: 2020 2020 2020 2020 2020 6461 7461 203d            data =
-00005af0: 206a 736f 6e2e 6475 6d70 7328 7b0d 0a20   json.dumps({.. 
-00005b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b10: 2020 2020 2020 2022 7072 6f6d 7074 223a         "prompt":
-00005b20: 2070 726f 6d70 742c 0d0a 2020 2020 2020   prompt,..      
-00005b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b40: 2020 226d 6f64 656c 223a 2022 7072 6f64    "model": "prod
-00005b50: 6961 222c 0d0a 2020 2020 2020 2020 2020  ia",..          
-00005b60: 2020 2020 2020 2020 2020 2020 2020 2264                "d
-00005b70: 6174 6122 3a20 6d64 0d0a 2020 2020 2020  ata": md..      
-00005b80: 2020 2020 2020 2020 2020 2020 2020 7d29                })
-00005b90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00005ba0: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-00005bb0: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
-00005bc0: 2020 2020 2020 2020 2020 2020 2020 6461                da
-00005bd0: 7461 203d 206a 736f 6e2e 6475 6d70 7328  ta = json.dumps(
-00005be0: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
-00005bf0: 2020 2020 2020 2020 2020 2022 7072 6f6d             "prom
-00005c00: 7074 223a 2022 222c 0d0a 2020 2020 2020  pt": "",..      
-00005c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005c20: 2020 226d 6f64 656c 223a 2022 7072 6f64    "model": "prod
-00005c30: 6961 222c 0d0a 2020 2020 2020 2020 2020  ia",..          
-00005c40: 2020 2020 2020 2020 2020 2020 2020 2264                "d
-00005c50: 6174 6122 3a20 7b0d 0a20 2020 2020 2020  ata": {..       
-00005c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005c70: 2020 2020 2022 6d6f 6465 6c22 3a20 2261       "model": "a
-00005c80: 6273 6f6c 7574 6572 6561 6c69 7479 5f56  bsolutereality_V
-00005c90: 3136 2e73 6166 6574 656e 736f 7273 205b  16.safetensors [
-00005ca0: 3337 6462 3066 6333 5d22 2c0d 0a20 2020  37db0fc3]",..   
-00005cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005cc0: 2020 2020 2020 2020 2022 7374 6570 7322           "steps"
-00005cd0: 3a20 3235 2c0d 0a20 2020 2020 2020 2020  : 25,..         
-00005ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005cf0: 2020 2022 6366 675f 7363 616c 6522 3a20     "cfg_scale": 
-00005d00: 372c 0d0a 2020 2020 2020 2020 2020 2020  7,..            
-00005d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d20: 2273 616d 706c 6572 223a 2022 4450 4d2b  "sampler": "DPM+
-00005d30: 2b20 324d 204b 6172 7261 7322 2c0d 0a20  + 2M Karras",.. 
-00005d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d50: 2020 2020 2020 2020 2020 2022 6e65 6761             "nega
-00005d60: 7469 7665 5f70 726f 6d70 7422 3a20 2222  tive_prompt": ""
-00005d70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00005d80: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
-00005d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005da0: 207d 290d 0a0d 0a20 2020 2020 2020 2020   })....         
-00005db0: 2020 2020 2020 2072 6573 706f 6e73 6520         response 
-00005dc0: 3d20 7265 7175 6573 7473 2e70 6f73 7428  = requests.post(
-00005dd0: 7572 6c3d 2268 7474 7073 3a2f 2f6e 6578  url="https://nex
-00005de0: 7261 2e61 7279 6168 6372 2e63 632f 6170  ra.aryahcr.cc/ap
-00005df0: 692f 696d 6167 652f 636f 6d70 6c65 6d65  i/image/compleme
-00005e00: 6e74 7322 2c20 6865 6164 6572 733d 6865  nts", headers=he
-00005e10: 6164 6572 732c 2064 6174 613d 6461 7461  aders, data=data
-00005e20: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
-00005e30: 2020 2069 6620 7265 7370 6f6e 7365 2e73     if response.s
-00005e40: 7461 7475 735f 636f 6465 203d 3d20 3230  tatus_code == 20
-00005e50: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
-00005e60: 2020 2020 2020 2020 6572 7220 3d20 4e6f          err = No
-00005e70: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
-00005e80: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-00005e90: 204e 6f6e 650d 0a0d 0a20 2020 2020 2020   None....       
-00005ea0: 2020 2020 2020 2020 2020 2020 2063 6f75               cou
-00005eb0: 6e74 203d 202d 310d 0a20 2020 2020 2020  nt = -1..       
-00005ec0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-00005ed0: 2069 2069 6e20 7261 6e67 6528 6c65 6e28   i in range(len(
-00005ee0: 7265 7370 6f6e 7365 2e74 6578 7429 293a  response.text)):
-00005ef0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00005f00: 2020 2020 2020 2020 2020 6966 2063 6f75            if cou
-00005f10: 6e74 203c 3d20 2d31 3a0d 0a20 2020 2020  nt <= -1:..     
+00005a10: 2265 7272 6f72 223a 2022 494e 5445 524e  "error": "INTERN
+00005a20: 414c 5f53 4552 5645 525f 4552 524f 5222  AL_SERVER_ERROR"
+00005a30: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00005a40: 2020 2020 2020 2022 6d65 7373 6167 6522         "message"
+00005a50: 3a20 2267 656e 6572 616c 2028 756e 6b6e  : "general (unkn
+00005a60: 6f77 6e29 2065 7272 6f72 220d 0a20 2020  own) error"..   
+00005a70: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
+00005a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005a90: 7365 6c66 2e72 6573 756c 7420 3d20 4e6f  self.result = No
+00005aa0: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+00005ab0: 7061 7373 0d0a 2020 2020 2020 2020 6465  pass..        de
+00005ac0: 6620 6572 726f 7228 7365 6c66 293a 0d0a  f error(self):..
+00005ad0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00005ae0: 726e 2073 656c 662e 6572 726f 720d 0a20  rn self.error.. 
+00005af0: 2020 2020 2020 2064 6566 2072 6573 756c         def resul
+00005b00: 7428 7365 6c66 293a 0d0a 2020 2020 2020  t(self):..      
+00005b10: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00005b20: 662e 7265 7375 6c74 0d0a 2020 2020 636c  f.result..    cl
+00005b30: 6173 7320 7632 3a0d 0a20 2020 2020 2020  ass v2:..       
+00005b40: 2065 7272 6f72 203d 204e 6f6e 650d 0a20   error = None.. 
+00005b50: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+00005b60: 4e6f 6e65 0d0a 2020 2020 2020 2020 6465  None..        de
+00005b70: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
+00005b80: 2070 726f 6d70 743d 2222 2c20 6461 7461   prompt="", data
+00005b90: 3d7b 0d0a 2020 2020 2020 2020 2020 2020  ={..            
+00005ba0: 2270 726f 6d70 745f 6e65 6761 7469 7665  "prompt_negative
+00005bb0: 223a 2022 222c 0d0a 2020 2020 2020 2020  ": "",..        
+00005bc0: 2020 2020 2277 6964 7468 223a 2022 222c      "width": "",
+00005bd0: 0d0a 2020 2020 2020 2020 2020 2020 2268  ..            "h
+00005be0: 6569 6768 7422 3a20 2222 2c0d 0a20 2020  eight": "",..   
+00005bf0: 2020 2020 2020 2020 2022 6775 6964 616e           "guidan
+00005c00: 6365 5f73 6361 6c65 223a 2022 220d 0a20  ce_scale": "".. 
+00005c10: 2020 2020 2020 207d 2920 2d3e 204e 6f6e         }) -> Non
+00005c20: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00005c30: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
+00005c40: 2020 2020 2020 6865 6164 6572 7320 3d20        headers = 
+00005c50: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00005c60: 2020 2020 2020 2022 436f 6e74 656e 742d         "Content-
+00005c70: 5479 7065 223a 2022 6170 706c 6963 6174  Type": "applicat
+00005c80: 696f 6e2f 6a73 6f6e 220d 0a20 2020 2020  ion/json"..     
+00005c90: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
+00005ca0: 2020 2020 2020 2020 2020 2020 2020 6865                he
+00005cb0: 6164 6572 732e 7570 6461 7465 2863 7265  aders.update(cre
+00005cc0: 6429 0d0a 2020 2020 2020 2020 2020 2020  d)..            
+00005cd0: 2020 2020 6572 7220 3d20 4661 6c73 650d      err = False.
+00005ce0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005cf0: 200d 0a20 2020 2020 2020 2020 2020 2020   ..             
+00005d00: 2020 206d 6420 3d20 7b0d 0a20 2020 2020     md = {..     
+00005d10: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00005d20: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
+00005d30: 3a20 2222 2c0d 0a20 2020 2020 2020 2020  : "",..         
+00005d40: 2020 2020 2020 2020 2020 2022 7769 6474             "widt
+00005d50: 6822 3a20 3130 3234 2c0d 0a20 2020 2020  h": 1024,..     
+00005d60: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00005d70: 6865 6967 6874 223a 2031 3032 342c 0d0a  height": 1024,..
+00005d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005d90: 2020 2020 2267 7569 6461 6e63 655f 7363      "guidance_sc
+00005da0: 616c 6522 3a20 360d 0a20 2020 2020 2020  ale": 6..       
+00005db0: 2020 2020 2020 2020 207d 0d0a 0d0a 2020           }....  
+00005dc0: 2020 2020 2020 2020 2020 2020 2020 7472                tr
+00005dd0: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
+00005de0: 2020 2020 2020 2020 7072 6f6d 7074 203d          prompt =
+00005df0: 2070 726f 6d70 7420 6966 2070 726f 6d70   prompt if promp
+00005e00: 7420 6973 206e 6f74 204e 6f6e 6520 656c  t is not None el
+00005e10: 7365 2022 220d 0a20 2020 2020 2020 2020  se ""..         
+00005e20: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
+00005e30: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
+00005e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005e50: 2020 2070 726f 6d70 7420 3d20 2222 0d0a     prompt = ""..
+00005e60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00005e70: 2020 7472 7920 3a0d 0a20 2020 2020 2020    try :..       
+00005e80: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00005e90: 6461 7461 2e67 6574 2822 7072 6f6d 7074  data.get("prompt
+00005ea0: 5f6e 6567 6174 6976 6522 2920 213d 204e  _negative") != N
+00005eb0: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+00005ec0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+00005ed0: 5b22 7072 6f6d 7074 5f6e 6567 6174 6976  ["prompt_negativ
+00005ee0: 6522 5d20 3d20 6461 7461 2e67 6574 2822  e"] = data.get("
+00005ef0: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
+00005f00: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+00005f10: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
 00005f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f30: 2020 2020 2020 2069 6620 7265 7370 6f6e         if respon
-00005f40: 7365 2e74 6578 745b 695d 203d 3d20 227b  se.text[i] == "{
-00005f50: 223a 0d0a 2020 2020 2020 2020 2020 2020  ":..            
-00005f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f70: 2020 2020 636f 756e 7420 3d20 690d 0a20      count = i.. 
-00005f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f90: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
-00005fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005fb0: 2020 2020 2020 2020 2020 6272 6561 6b0d            break.
-00005fc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005fd0: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
-00005fe0: 2020 2020 2020 2020 2020 2069 6620 636f             if co
-00005ff0: 756e 7420 3c3d 202d 313a 0d0a 2020 2020  unt <= -1:..    
-00006000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006010: 2020 2020 6572 7220 3d20 7b0d 0a20 2020      err = {..   
-00006020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006030: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
-00006040: 2035 3030 2c0d 0a20 2020 2020 2020 2020   500,..         
-00006050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006060: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
-00006070: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
-00006080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006090: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
-000060a0: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
-000060b0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-000060c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000060d0: 226d 6573 7361 6765 223a 2022 6765 6e65  "message": "gene
-000060e0: 7261 6c20 2875 6e6b 6e6f 776e 2920 6572  ral (unknown) er
-000060f0: 726f 7222 0d0a 2020 2020 2020 2020 2020  ror"..          
-00006100: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
-00006110: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006120: 2020 2020 2020 2020 2072 6573 756c 7420           result 
-00006130: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
-00006140: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00006150: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00006160: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
-00006170: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006180: 2020 2020 2020 2020 2020 2020 206a 7320               js 
-00006190: 3d20 7265 7370 6f6e 7365 2e74 6578 745b  = response.text[
-000061a0: 636f 756e 743a 5d0d 0a20 2020 2020 2020  count:]..       
-000061b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000061c0: 2020 2020 206a 7320 3d20 6a73 6f6e 2e6c       js = json.l
-000061d0: 6f61 6473 286a 7329 0d0a 2020 2020 2020  oads(js)..      
+00005f30: 2020 2020 2020 6d64 5b22 7072 6f6d 7074        md["prompt
+00005f40: 5f6e 6567 6174 6976 6522 5d20 3d20 2222  _negative"] = ""
+00005f50: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
+00005f60: 2020 2020 2020 2020 6966 2064 6174 612e          if data.
+00005f70: 6765 7428 2277 6964 7468 2229 2021 3d20  get("width") != 
+00005f80: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
+00005f90: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00005fa0: 645b 2277 6964 7468 225d 203d 2064 6174  d["width"] = dat
+00005fb0: 612e 6765 7428 2277 6964 7468 2229 0d0a  a.get("width")..
+00005fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005fd0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
+00005fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005ff0: 2020 206d 645b 2277 6964 7468 225d 203d     md["width"] =
+00006000: 2031 3032 340d 0a0d 0a20 2020 2020 2020   1024....       
+00006010: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00006020: 6461 7461 2e67 6574 2822 6865 6967 6874  data.get("height
+00006030: 2229 2021 3d20 4e6f 6e65 3a0d 0a20 2020  ") != None:..   
+00006040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006050: 2020 2020 206d 645b 2268 6569 6768 7422       md["height"
+00006060: 5d20 3d20 6461 7461 2e67 6574 2822 6865  ] = data.get("he
+00006070: 6967 6874 2229 0d0a 2020 2020 2020 2020  ight")..        
+00006080: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00006090: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+000060a0: 2020 2020 2020 2020 2020 206d 645b 2268             md["h
+000060b0: 6569 6768 7422 5d20 3d20 3130 3234 0d0a  eight"] = 1024..
+000060c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000060d0: 2020 2020 2020 6966 2064 6174 612e 6765        if data.ge
+000060e0: 7428 2267 7569 6461 6e63 655f 7363 616c  t("guidance_scal
+000060f0: 6522 2920 213d 204e 6f6e 653a 0d0a 2020  e") != None:..  
+00006100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006110: 2020 2020 2020 6d64 5b22 6775 6964 616e        md["guidan
+00006120: 6365 5f73 6361 6c65 225d 203d 2064 6174  ce_scale"] = dat
+00006130: 612e 6765 7428 2267 7569 6461 6e63 655f  a.get("guidance_
+00006140: 7363 616c 6522 290d 0a20 2020 2020 2020  scale")..       
+00006150: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00006160: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00006170: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
+00006180: 6775 6964 616e 6365 5f73 6361 6c65 225d  guidance_scale"]
+00006190: 203d 2036 0d0a 2020 2020 2020 2020 2020   = 6..          
+000061a0: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+000061b0: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
+000061c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000061d0: 2020 6d64 203d 207b 0d0a 2020 2020 2020    md = {..      
 000061e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000061f0: 2020 2020 2020 6966 206a 7320 213d 204e        if js != N
-00006200: 6f6e 6520 616e 6420 6a73 5b22 636f 6465  one and js["code
-00006210: 225d 2021 3d20 4e6f 6e65 2061 6e64 206a  "] != None and j
-00006220: 735b 2263 6f64 6522 5d20 3d3d 2032 3030  s["code"] == 200
-00006230: 2061 6e64 206a 735b 2273 7461 7475 7322   and js["status"
-00006240: 5d20 213d 204e 6f6e 6520 616e 6420 6a73  ] != None and js
-00006250: 5b22 7374 6174 7573 225d 203d 3d20 5472  ["status"] == Tr
-00006260: 7565 3a0d 0a20 2020 2020 2020 2020 2020  ue:..           
-00006270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006280: 2020 2020 2072 6573 756c 7420 3d20 6a73       result = js
-00006290: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000062a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000062b0: 2020 6572 7220 3d20 4e6f 6e65 0d0a 2020    err = None..  
-000062c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000062d0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-000062e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000062f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006300: 2065 7272 203d 206a 730d 0a20 2020 2020   err = js..     
-00006310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006320: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-00006330: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
-00006340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006350: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-00006360: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
-00006370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006380: 2020 2020 2020 6572 7220 3d20 7b0d 0a20        err = {.. 
-00006390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000063a0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000063b0: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
-000063c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000063d0: 2020 2020 2020 2020 2020 2020 2022 7374               "st
-000063e0: 6174 7573 223a 2046 616c 7365 2c0d 0a20  atus": False,.. 
-000063f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006400: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00006410: 6572 726f 7222 3a20 2249 4e54 4552 4e41  error": "INTERNA
-00006420: 4c5f 5345 5256 4552 5f45 5252 4f52 222c  L_SERVER_ERROR",
+000061f0: 2020 2270 726f 6d70 745f 6e65 6761 7469    "prompt_negati
+00006200: 7665 223a 2022 222c 0d0a 2020 2020 2020  ve": "",..      
+00006210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006220: 2020 2277 6964 7468 223a 2031 3032 342c    "width": 1024,
+00006230: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00006240: 2020 2020 2020 2020 2020 2268 6569 6768            "heigh
+00006250: 7422 3a20 3130 3234 2c0d 0a20 2020 2020  t": 1024,..     
+00006260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006270: 2020 2022 6775 6964 616e 6365 5f73 6361     "guidance_sca
+00006280: 6c65 223a 2036 0d0a 2020 2020 2020 2020  le": 6..        
+00006290: 2020 2020 2020 2020 2020 2020 7d0d 0a0d              }...
+000062a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000062b0: 2064 6174 6120 3d20 7b7d 0d0a 2020 2020   data = {}..    
+000062c0: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+000062d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000062e0: 2020 2020 2020 6461 7461 203d 206a 736f        data = jso
+000062f0: 6e2e 6475 6d70 7328 7b0d 0a20 2020 2020  n.dumps({..     
+00006300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006310: 2020 2022 7072 6f6d 7074 223a 2070 726f     "prompt": pro
+00006320: 6d70 742c 0d0a 2020 2020 2020 2020 2020  mpt,..          
+00006330: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00006340: 6f64 656c 223a 2022 6461 6c6c 6532 222c  odel": "dalle2",
+00006350: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00006360: 2020 2020 2020 2020 2020 2264 6174 6122            "data"
+00006370: 3a20 6d64 0d0a 2020 2020 2020 2020 2020  : md..          
+00006380: 2020 2020 2020 2020 2020 7d29 0d0a 2020            })..  
+00006390: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+000063a0: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+000063b0: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
+000063c0: 2020 2020 2020 2020 2020 6461 7461 203d            data =
+000063d0: 206a 736f 6e2e 6475 6d70 7328 7b0d 0a20   json.dumps({.. 
+000063e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000063f0: 2020 2020 2020 2022 7072 6f6d 7074 223a         "prompt":
+00006400: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
+00006410: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00006420: 6f64 656c 223a 2022 6461 6c6c 6532 222c  odel": "dalle2",
 00006430: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00006440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006450: 2020 226d 6573 7361 6765 223a 2022 6765    "message": "ge
-00006460: 6e65 7261 6c20 2875 6e6b 6e6f 776e 2920  neral (unknown) 
-00006470: 6572 726f 7222 0d0a 2020 2020 2020 2020  error"..        
-00006480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006490: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
-000064a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000064b0: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
-000064c0: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
-000064d0: 2020 2020 2020 2020 2020 2020 6966 2072              if r
-000064e0: 6573 756c 7420 3d3d 204e 6f6e 6520 616e  esult == None an
-000064f0: 6420 6572 7220 213d 204e 6f6e 653a 0d0a  d err != None:..
-00006500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006510: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00006520: 2e65 7272 6f72 203d 2065 7272 0d0a 2020  .error = err..  
+00006440: 2020 2020 2020 2020 2020 2264 6174 6122            "data"
+00006450: 3a20 7b0d 0a20 2020 2020 2020 2020 2020  : {..           
+00006460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006470: 2022 7072 6f6d 7074 5f6e 6567 6174 6976   "prompt_negativ
+00006480: 6522 3a20 2222 2c0d 0a20 2020 2020 2020  e": "",..       
+00006490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000064a0: 2020 2020 2022 7769 6474 6822 3a20 3130       "width": 10
+000064b0: 3234 2c0d 0a20 2020 2020 2020 2020 2020  24,..           
+000064c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000064d0: 2022 6865 6967 6874 223a 2031 3032 342c   "height": 1024,
+000064e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000064f0: 2020 2020 2020 2020 2020 2020 2020 2267                "g
+00006500: 7569 6461 6e63 655f 7363 616c 6522 3a20  uidance_scale": 
+00006510: 360d 0a20 2020 2020 2020 2020 2020 2020  6..             
+00006520: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
 00006530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006540: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
-00006550: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
-00006560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006570: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00006580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006590: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-000065a0: 7375 6c74 203d 2072 6573 756c 740d 0a20  sult = result.. 
-000065b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000065c0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000065d0: 6572 726f 7220 3d20 4e6f 6e65 0d0a 2020  error = None..  
-000065e0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-000065f0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-00006600: 2020 2020 2020 2020 2064 6174 615f 6572           data_er
-00006610: 7220 3d20 7b7d 0d0a 2020 2020 2020 2020  r = {}..        
-00006620: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-00006630: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00006640: 2020 2020 2020 2020 2020 6461 7461 5f65            data_e
-00006650: 7272 203d 206a 736f 6e2e 6c6f 6164 7328  rr = json.loads(
-00006660: 7265 7370 6f6e 7365 2e74 6578 7429 0d0a  response.text)..
-00006670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006680: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
-00006690: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
-000066a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000066b0: 2020 2020 6461 7461 5f65 7272 203d 207b      data_err = {
-000066c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000066d0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-000066e0: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
-000066f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006700: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
-00006710: 3a20 4661 6c73 652c 0d0a 2020 2020 2020  : False,..      
-00006720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006730: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
-00006740: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
-00006750: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
-00006760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006770: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
-00006780: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
-00006790: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
-000067a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000067b0: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
-000067c0: 2020 2020 2020 2020 2020 0d0a 2020 2020            ..    
+00006540: 2020 7d29 0d0a 2020 2020 2020 2020 2020    })..          
+00006550: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+00006560: 2020 2020 2020 2020 7265 7370 6f6e 7365          response
+00006570: 203d 2072 6571 7565 7374 732e 706f 7374   = requests.post
+00006580: 2875 726c 3d22 6874 7470 733a 2f2f 6e65  (url="https://ne
+00006590: 7872 612e 6172 7961 6863 722e 6363 2f61  xra.aryahcr.cc/a
+000065a0: 7069 2f69 6d61 6765 2f63 6f6d 706c 656d  pi/image/complem
+000065b0: 656e 7473 222c 2068 6561 6465 7273 3d68  ents", headers=h
+000065c0: 6561 6465 7273 2c20 6461 7461 3d64 6174  eaders, data=dat
+000065d0: 6129 0d0a 2020 2020 2020 2020 2020 2020  a)..            
+000065e0: 2020 2020 6966 2072 6573 706f 6e73 652e      if response.
+000065f0: 7374 6174 7573 5f63 6f64 6520 3d3d 2032  status_code == 2
+00006600: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
+00006610: 2020 2020 2020 2020 2065 7272 203d 204e           err = N
+00006620: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+00006630: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+00006640: 3d20 4e6f 6e65 0d0a 0d0a 2020 2020 2020  = None....      
+00006650: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00006660: 756e 7420 3d20 2d31 0d0a 2020 2020 2020  unt = -1..      
+00006670: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00006680: 7220 6920 696e 2072 616e 6765 286c 656e  r i in range(len
+00006690: 2872 6573 706f 6e73 652e 7465 7874 2929  (response.text))
+000066a0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+000066b0: 2020 2020 2020 2020 2020 2069 6620 636f             if co
+000066c0: 756e 7420 3c3d 202d 313a 0d0a 2020 2020  unt <= -1:..    
+000066d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000066e0: 2020 2020 2020 2020 6966 2072 6573 706f          if respo
+000066f0: 6e73 652e 7465 7874 5b69 5d20 3d3d 2022  nse.text[i] == "
+00006700: 7b22 3a0d 0a20 2020 2020 2020 2020 2020  {":..           
+00006710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006720: 2020 2020 2063 6f75 6e74 203d 2069 0d0a       count = i..
+00006730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006740: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
+00006750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006760: 2020 2020 2020 2020 2020 2062 7265 616b             break
+00006770: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00006780: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+00006790: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+000067a0: 6f75 6e74 203c 3d20 2d31 3a0d 0a20 2020  ount <= -1:..   
+000067b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000067c0: 2020 2020 2065 7272 203d 207b 0d0a 2020       err = {..  
 000067d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000067e0: 7365 6c66 2e65 7272 6f72 203d 2064 6174  self.error = dat
-000067f0: 615f 6572 720d 0a20 2020 2020 2020 2020  a_err..         
-00006800: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00006810: 7265 7375 6c74 203d 204e 6f6e 650d 0a20  result = None.. 
-00006820: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-00006830: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
-00006840: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00006850: 2020 2073 656c 662e 6572 726f 7220 3d20     self.error = 
-00006860: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
-00006870: 2020 2020 2020 2022 636f 6465 223a 2035         "code": 5
-00006880: 3030 2c0d 0a20 2020 2020 2020 2020 2020  00,..           
-00006890: 2020 2020 2020 2020 2022 7374 6174 7573           "status
-000068a0: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
-000068b0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000068c0: 6572 726f 7222 3a20 2249 4e54 4552 4e41  error": "INTERNA
-000068d0: 4c5f 5345 5256 4552 5f45 5252 4f52 222c  L_SERVER_ERROR",
-000068e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000068f0: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
-00006900: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
-00006910: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
-00006920: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
-00006930: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00006940: 656c 662e 7265 7375 6c74 203d 204e 6f6e  elf.result = Non
-00006950: 650d 0a20 2020 2020 2020 2020 2020 2070  e..            p
-00006960: 6173 730d 0a20 2020 2020 2020 2064 6566  ass..        def
-00006970: 2065 7272 6f72 2873 656c 6629 3a0d 0a20   error(self):.. 
-00006980: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00006990: 6e20 7365 6c66 2e65 7272 6f72 0d0a 2020  n self.error..  
-000069a0: 2020 2020 2020 6465 6620 7265 7375 6c74        def result
-000069b0: 2873 656c 6629 3a0d 0a20 2020 2020 2020  (self):..       
-000069c0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-000069d0: 2e72 6573 756c 740d 0a20 2020 2063 6c61  .result..    cla
-000069e0: 7373 2073 7461 626c 6564 6966 6675 7369  ss stablediffusi
-000069f0: 6f6e 2829 3a0d 0a20 2020 2020 2020 2065  on():..        e
-00006a00: 7272 6f72 203d 204e 6f6e 650d 0a20 2020  rror = None..   
-00006a10: 2020 2020 2072 6573 756c 7420 3d20 4e6f       result = No
-00006a20: 6e65 0d0a 2020 2020 2020 2020 6465 6620  ne..        def 
-00006a30: 5f5f 696e 6974 5f5f 2873 656c 662c 2070  __init__(self, p
-00006a40: 726f 6d70 743d 2222 2c20 6461 7461 3d7b  rompt="", data={
-00006a50: 0d0a 2020 2020 2020 2020 2020 2020 2270  ..            "p
-00006a60: 726f 6d70 745f 6e65 6761 7469 7665 223a  rompt_negative":
-00006a70: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
-00006a80: 2020 226d 6f64 656c 223a 2022 222c 0d0a    "model": "",..
-00006a90: 2020 2020 2020 2020 2020 2020 2273 616d              "sam
-00006aa0: 706c 696e 675f 6d65 7468 6f64 223a 2022  pling_method": "
-00006ab0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-00006ac0: 2273 616d 706c 696e 675f 7374 6570 7322  "sampling_steps"
-00006ad0: 3a20 2222 2c0d 0a20 2020 2020 2020 2020  : "",..         
-00006ae0: 2020 2022 7769 6474 6822 3a20 2222 2c0d     "width": "",.
-00006af0: 0a20 2020 2020 2020 2020 2020 2022 6865  .            "he
-00006b00: 6967 6874 223a 2022 222c 0d0a 2020 2020  ight": "",..    
-00006b10: 2020 2020 2020 2020 2263 6667 5f73 6361          "cfg_sca
-00006b20: 6c65 223a 2022 220d 0a20 2020 2020 2020  le": ""..       
-00006b30: 207d 2920 2d3e 204e 6f6e 653a 0d0a 2020   }) -> None:..  
-00006b40: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
+000067e0: 2020 2020 2020 2020 2020 2263 6f64 6522            "code"
+000067f0: 3a20 3530 302c 0d0a 2020 2020 2020 2020  : 500,..        
+00006800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006810: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
+00006820: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
+00006830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006840: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
+00006850: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
+00006860: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
+00006870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006880: 2022 6d65 7373 6167 6522 3a20 2267 656e   "message": "gen
+00006890: 6572 616c 2028 756e 6b6e 6f77 6e29 2065  eral (unknown) e
+000068a0: 7272 6f72 220d 0a20 2020 2020 2020 2020  rror"..         
+000068b0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+000068c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000068d0: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+000068e0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+000068f0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00006900: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00006910: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+00006920: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00006930: 2020 2020 2020 2020 2020 2020 2020 6a73                js
+00006940: 203d 2072 6573 706f 6e73 652e 7465 7874   = response.text
+00006950: 5b63 6f75 6e74 3a5d 0d0a 2020 2020 2020  [count:]..      
+00006960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006970: 2020 2020 2020 6a73 203d 206a 736f 6e2e        js = json.
+00006980: 6c6f 6164 7328 6a73 290d 0a20 2020 2020  loads(js)..     
+00006990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000069a0: 2020 2020 2020 2069 6620 6a73 2021 3d20         if js != 
+000069b0: 4e6f 6e65 2061 6e64 206a 735b 2263 6f64  None and js["cod
+000069c0: 6522 5d20 213d 204e 6f6e 6520 616e 6420  e"] != None and 
+000069d0: 6a73 5b22 636f 6465 225d 203d 3d20 3230  js["code"] == 20
+000069e0: 3020 616e 6420 6a73 5b22 7374 6174 7573  0 and js["status
+000069f0: 225d 2021 3d20 4e6f 6e65 2061 6e64 206a  "] != None and j
+00006a00: 735b 2273 7461 7475 7322 5d20 3d3d 2054  s["status"] == T
+00006a10: 7275 653a 0d0a 2020 2020 2020 2020 2020  rue:..          
+00006a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006a30: 2020 2020 2020 7265 7375 6c74 203d 206a        result = j
+00006a40: 730d 0a20 2020 2020 2020 2020 2020 2020  s..             
+00006a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006a60: 2020 2065 7272 203d 204e 6f6e 650d 0a20     err = None.. 
+00006a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006a80: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00006a90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00006aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006ab0: 2020 6572 7220 3d20 6a73 0d0a 2020 2020    err = js..    
+00006ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006ad0: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+00006ae0: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
+00006af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006b00: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
+00006b10: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
+00006b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006b30: 2020 2020 2020 2065 7272 203d 207b 0d0a         err = {..
+00006b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00006b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006b60: 6865 6164 6572 7320 3d20 7b0d 0a20 2020  headers = {..   
+00006b60: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
 00006b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006b80: 2022 436f 6e74 656e 742d 5479 7065 223a   "Content-Type":
-00006b90: 2022 6170 706c 6963 6174 696f 6e2f 6a73   "application/js
-00006ba0: 6f6e 220d 0a20 2020 2020 2020 2020 2020  on"..           
-00006bb0: 2020 2020 207d 0d0a 0d0a 2020 2020 2020       }....      
-00006bc0: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
-00006bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006be0: 2020 2020 7072 6f6d 7074 203d 2070 726f      prompt = pro
-00006bf0: 6d70 7420 6966 2070 726f 6d70 7420 6973  mpt if prompt is
-00006c00: 206e 6f74 204e 6f6e 6520 656c 7365 2022   not None else "
-00006c10: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
-00006c20: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
-00006c30: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
-00006c40: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00006c50: 726f 6d70 7420 3d20 2222 0d0a 0d0a 2020  rompt = ""....  
-00006c60: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-00006c70: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-00006c80: 2020 2020 2020 2020 2020 2270 726f 6d70            "promp
-00006c90: 745f 6e65 6761 7469 7665 223a 2022 222c  t_negative": "",
-00006ca0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00006cb0: 2020 2020 2020 226d 6f64 656c 223a 2022        "model": "
-00006cc0: 6162 736f 6c75 7465 7265 616c 6974 795f  absolutereality_
-00006cd0: 7631 3831 2e73 6166 6574 656e 736f 7273  v181.safetensors
-00006ce0: 205b 3364 3964 3464 3262 5d22 2c0d 0a20   [3d9d4d2b]",.. 
-00006cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006d00: 2020 2022 7361 6d70 6c69 6e67 5f6d 6574     "sampling_met
-00006d10: 686f 6422 3a20 2244 504d 2b2b 2032 4d20  hod": "DPM++ 2M 
-00006d20: 4b61 7272 6173 222c 0d0a 2020 2020 2020  Karras",..      
-00006d30: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-00006d40: 616d 706c 696e 675f 7374 6570 7322 3a20  ampling_steps": 
-00006d50: 3235 2c0d 0a20 2020 2020 2020 2020 2020  25,..           
-00006d60: 2020 2020 2020 2020 2022 7769 6474 6822           "width"
-00006d70: 3a20 3531 322c 0d0a 2020 2020 2020 2020  : 512,..        
-00006d80: 2020 2020 2020 2020 2020 2020 2268 6569              "hei
-00006d90: 6768 7422 3a20 3531 322c 0d0a 2020 2020  ght": 512,..    
-00006da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006db0: 2263 6667 5f73 6361 6c65 223a 2037 0d0a  "cfg_scale": 7..
-00006dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006dd0: 7d0d 0a0d 0a20 2020 2020 2020 2020 2020  }....           
-00006de0: 2020 2020 2074 7279 203a 0d0a 2020 2020       try :..    
-00006df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006e00: 6966 2064 6174 612e 6765 7428 226d 6f64  if data.get("mod
-00006e10: 656c 2229 2021 3d20 4e6f 6e65 3a0d 0a20  el") != None:.. 
-00006e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006e30: 2020 2020 2020 206d 645b 226d 6f64 656c         md["model
-00006e40: 225d 203d 2064 6174 612e 6765 7428 226d  "] = data.get("m
-00006e50: 6f64 656c 2229 0d0a 2020 2020 2020 2020  odel")..        
-00006e60: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00006e70: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00006e80: 2020 2020 2020 2020 2020 206d 645b 226d             md["m
-00006e90: 6f64 656c 225d 203d 2022 6162 736f 6c75  odel"] = "absolu
-00006ea0: 7465 7265 616c 6974 795f 7631 3831 2e73  tereality_v181.s
-00006eb0: 6166 6574 656e 736f 7273 205b 3364 3964  afetensors [3d9d
-00006ec0: 3464 3262 5d22 0d0a 0d0a 2020 2020 2020  4d2b]"....      
-00006ed0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00006ee0: 2064 6174 612e 6765 7428 2273 616d 706c   data.get("sampl
-00006ef0: 696e 675f 7374 6570 7322 2920 213d 204e  ing_steps") != N
-00006f00: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
-00006f10: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-00006f20: 5b22 7361 6d70 6c69 6e67 5f73 7465 7073  ["sampling_steps
-00006f30: 225d 203d 2064 6174 612e 6765 7428 2273  "] = data.get("s
-00006f40: 616d 706c 696e 675f 7374 6570 7322 290d  ampling_steps").
-00006f50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006f60: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
-00006f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006f80: 2020 2020 6d64 5b22 7361 6d70 6c69 6e67      md["sampling
-00006f90: 5f73 7465 7073 225d 203d 2032 350d 0a0d  _steps"] = 25...
-00006fa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006fb0: 2020 2020 2069 6620 6461 7461 2e67 6574       if data.get
-00006fc0: 2822 6366 675f 7363 616c 6522 2920 213d  ("cfg_scale") !=
-00006fd0: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
-00006fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006ff0: 6d64 5b22 6366 675f 7363 616c 6522 5d20  md["cfg_scale"] 
-00007000: 3d20 6461 7461 2e67 6574 2822 6366 675f  = data.get("cfg_
-00007010: 7363 616c 6522 290d 0a20 2020 2020 2020  scale")..       
-00007020: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-00007030: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00007040: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
-00007050: 6366 675f 7363 616c 6522 5d20 3d20 370d  cfg_scale"] = 7.
-00007060: 0a0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-00007070: 2020 2020 2020 2069 6620 6461 7461 2e67         if data.g
-00007080: 6574 2822 7361 6d70 6c69 6e67 5f6d 6574  et("sampling_met
-00007090: 686f 6422 2920 213d 204e 6f6e 653a 0d0a  hod") != None:..
-000070a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000070b0: 2020 2020 2020 2020 6d64 5b22 7361 6d70          md["samp
-000070c0: 6c69 6e67 5f6d 6574 686f 6422 5d20 3d20  ling_method"] = 
-000070d0: 6461 7461 2e67 6574 2822 7361 6d70 6c69  data.get("sampli
-000070e0: 6e67 5f6d 6574 686f 6422 290d 0a20 2020  ng_method")..   
-000070f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007100: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
-00007110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007120: 6d64 5b22 7361 6d70 6c69 6e67 5f6d 6574  md["sampling_met
-00007130: 686f 6422 5d20 3d20 2244 504d 2b2b 2032  hod"] = "DPM++ 2
-00007140: 4d20 4b61 7272 6173 220d 0a20 2020 2020  M Karras"..     
-00007150: 2020 2020 2020 2020 2020 2020 2020 200d                 .
-00007160: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007170: 2020 2020 2069 6620 6461 7461 2e67 6574       if data.get
-00007180: 2822 7072 6f6d 7074 5f6e 6567 6174 6976  ("prompt_negativ
-00007190: 6522 2920 213d 204e 6f6e 653a 0d0a 2020  e") != None:..  
-000071a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000071b0: 2020 2020 2020 6d64 5b22 7072 6f6d 7074        md["prompt
-000071c0: 5f6e 6567 6174 6976 6522 5d20 3d20 6461  _negative"] = da
-000071d0: 7461 2e67 6574 2822 7072 6f6d 7074 5f6e  ta.get("prompt_n
-000071e0: 6567 6174 6976 6522 290d 0a20 2020 2020  egative")..     
-000071f0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00007200: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-00007210: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-00007220: 5b22 7072 6f6d 7074 5f6e 6567 6174 6976  ["prompt_negativ
-00007230: 6522 5d20 3d20 2222 0d0a 0d0a 2020 2020  e"] = ""....    
-00007240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007250: 6966 2064 6174 612e 6765 7428 2277 6964  if data.get("wid
-00007260: 7468 2229 2021 3d20 4e6f 6e65 3a0d 0a20  th") != None:.. 
-00007270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007280: 2020 2020 2020 206d 645b 2277 6964 7468         md["width
-00007290: 225d 203d 2064 6174 612e 6765 7428 2277  "] = data.get("w
-000072a0: 6964 7468 2229 0d0a 2020 2020 2020 2020  idth")..        
-000072b0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-000072c0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-000072d0: 2020 2020 2020 2020 2020 206d 645b 2277             md["w
-000072e0: 6964 7468 225d 203d 2022 220d 0a20 2020  idth"] = ""..   
-000072f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007300: 200d 0a20 2020 2020 2020 2020 2020 2020   ..             
-00007310: 2020 2020 2020 2069 6620 6461 7461 2e67         if data.g
-00007320: 6574 2822 6865 6967 6874 2229 2021 3d20  et("height") != 
-00007330: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
-00007340: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00007350: 645b 2268 6569 6768 7422 5d20 3d20 6461  d["height"] = da
-00007360: 7461 2e67 6574 2822 6865 6967 6874 2229  ta.get("height")
-00007370: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00007380: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00007390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000073a0: 2020 2020 206d 645b 2268 6569 6768 7422       md["height"
-000073b0: 5d20 3d20 2222 0d0a 2020 2020 2020 2020  ] = ""..        
-000073c0: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-000073d0: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
-000073e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000073f0: 2020 2020 6d64 203d 207b 0d0a 2020 2020      md = {..    
-00007400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007410: 2020 2020 2270 726f 6d70 745f 6e65 6761      "prompt_nega
-00007420: 7469 7665 223a 2022 222c 0d0a 2020 2020  tive": "",..    
-00007430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007440: 2020 2020 226d 6f64 656c 223a 2022 6162      "model": "ab
-00007450: 736f 6c75 7465 7265 616c 6974 795f 7631  solutereality_v1
-00007460: 3831 2e73 6166 6574 656e 736f 7273 205b  81.safetensors [
-00007470: 3364 3964 3464 3262 5d22 2c0d 0a20 2020  3d9d4d2b]",..   
-00007480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007490: 2020 2020 2022 7361 6d70 6c69 6e67 5f6d       "sampling_m
-000074a0: 6574 686f 6422 3a20 2244 504d 2b2b 2032  ethod": "DPM++ 2
-000074b0: 4d20 4b61 7272 6173 222c 0d0a 2020 2020  M Karras",..    
-000074c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000074d0: 2020 2020 2273 616d 706c 696e 675f 7374      "sampling_st
-000074e0: 6570 7322 3a20 3235 2c0d 0a20 2020 2020  eps": 25,..     
-000074f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007500: 2020 2022 7769 6474 6822 3a20 3531 322c     "width": 512,
-00007510: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00007520: 2020 2020 2020 2020 2020 2268 6569 6768            "heigh
-00007530: 7422 3a20 3531 322c 0d0a 2020 2020 2020  t": 512,..      
-00007540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007550: 2020 2263 6667 5f73 6361 6c65 223a 2037    "cfg_scale": 7
-00007560: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00007570: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
-00007580: 2020 2020 2020 2020 2020 2064 6174 6120             data 
-00007590: 3d20 7b7d 0d0a 2020 2020 2020 2020 2020  = {}..          
-000075a0: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
-000075b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000075c0: 6461 7461 203d 206a 736f 6e2e 6475 6d70  data = json.dump
-000075d0: 7328 7b0d 0a20 2020 2020 2020 2020 2020  s({..           
-000075e0: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
-000075f0: 6f6d 7074 223a 2070 726f 6d70 742c 0d0a  ompt": prompt,..
-00007600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007610: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
-00007620: 2022 7072 6f64 6961 2d73 7461 626c 6564   "prodia-stabled
-00007630: 6966 6675 7369 6f6e 222c 0d0a 2020 2020  iffusion",..    
-00007640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007650: 2020 2020 2264 6174 6122 3a20 6d64 0d0a      "data": md..
-00007660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007670: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
-00007680: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-00007690: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
-000076a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000076b0: 2020 2020 6461 7461 203d 206a 736f 6e2e      data = json.
-000076c0: 6475 6d70 7328 7b0d 0a20 2020 2020 2020  dumps({..       
+00006b80: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+00006b90: 7461 7475 7322 3a20 4661 6c73 652c 0d0a  tatus": False,..
+00006ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006bc0: 2265 7272 6f72 223a 2022 494e 5445 524e  "error": "INTERN
+00006bd0: 414c 5f53 4552 5645 525f 4552 524f 5222  AL_SERVER_ERROR"
+00006be0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00006bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006c00: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
+00006c10: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
+00006c20: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
+00006c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006c40: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
+00006c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006c60: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
+00006c70: 650d 0a0d 0a20 2020 2020 2020 2020 2020  e....           
+00006c80: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00006c90: 7265 7375 6c74 203d 3d20 4e6f 6e65 2061  result == None a
+00006ca0: 6e64 2065 7272 2021 3d20 4e6f 6e65 3a0d  nd err != None:.
+00006cb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006cc0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00006cd0: 662e 6572 726f 7220 3d20 6572 720d 0a20  f.error = err.. 
+00006ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006cf0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00006d00: 7265 7375 6c74 203d 204e 6f6e 650d 0a20  result = None.. 
+00006d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006d20: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+00006d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006d40: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
+00006d50: 6573 756c 7420 3d20 7265 7375 6c74 0d0a  esult = result..
+00006d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006d70: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00006d80: 2e65 7272 6f72 203d 204e 6f6e 650d 0a20  .error = None.. 
+00006d90: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00006da0: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+00006db0: 2020 2020 2020 2020 2020 6461 7461 5f65            data_e
+00006dc0: 7272 203d 207b 7d0d 0a20 2020 2020 2020  rr = {}..       
+00006dd0: 2020 2020 2020 2020 2020 2020 2074 7279               try
+00006de0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00006df0: 2020 2020 2020 2020 2020 2064 6174 615f             data_
+00006e00: 6572 7220 3d20 6a73 6f6e 2e6c 6f61 6473  err = json.loads
+00006e10: 2872 6573 706f 6e73 652e 7465 7874 290d  (response.text).
+00006e20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006e30: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+00006e40: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
+00006e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006e60: 2020 2020 2064 6174 615f 6572 7220 3d20       data_err = 
+00006e70: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00006e80: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00006e90: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
+00006ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006eb0: 2020 2020 2020 2020 2022 7374 6174 7573           "status
+00006ec0: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
+00006ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006ee0: 2020 2020 2020 2022 6572 726f 7222 3a20         "error": 
+00006ef0: 2249 4e54 4552 4e41 4c5f 5345 5256 4552  "INTERNAL_SERVER
+00006f00: 5f45 5252 4f52 222c 0d0a 2020 2020 2020  _ERROR",..      
+00006f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006f20: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
+00006f30: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
+00006f40: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
+00006f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006f60: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
+00006f70: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
+00006f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006f90: 2073 656c 662e 6572 726f 7220 3d20 6461   self.error = da
+00006fa0: 7461 5f65 7272 0d0a 2020 2020 2020 2020  ta_err..        
+00006fb0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00006fc0: 2e72 6573 756c 7420 3d20 4e6f 6e65 0d0a  .result = None..
+00006fd0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00006fe0: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
+00006ff0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00007000: 2020 2020 7365 6c66 2e65 7272 6f72 203d      self.error =
+00007010: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+00007020: 2020 2020 2020 2020 2263 6f64 6522 3a20          "code": 
+00007030: 3530 302c 0d0a 2020 2020 2020 2020 2020  500,..          
+00007040: 2020 2020 2020 2020 2020 2273 7461 7475            "statu
+00007050: 7322 3a20 4661 6c73 652c 0d0a 2020 2020  s": False,..    
+00007060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007070: 2265 7272 6f72 223a 2022 494e 5445 524e  "error": "INTERN
+00007080: 414c 5f53 4552 5645 525f 4552 524f 5222  AL_SERVER_ERROR"
+00007090: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000070a0: 2020 2020 2020 2022 6d65 7373 6167 6522         "message"
+000070b0: 3a20 2267 656e 6572 616c 2028 756e 6b6e  : "general (unkn
+000070c0: 6f77 6e29 2065 7272 6f72 220d 0a20 2020  own) error"..   
+000070d0: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
+000070e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000070f0: 7365 6c66 2e72 6573 756c 7420 3d20 4e6f  self.result = No
+00007100: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+00007110: 7061 7373 0d0a 2020 2020 2020 2020 6465  pass..        de
+00007120: 6620 6572 726f 7228 7365 6c66 293a 0d0a  f error(self):..
+00007130: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00007140: 726e 2073 656c 662e 6572 726f 720d 0a20  rn self.error.. 
+00007150: 2020 2020 2020 2064 6566 2072 6573 756c         def resul
+00007160: 7428 7365 6c66 293a 0d0a 2020 2020 2020  t(self):..      
+00007170: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00007180: 662e 7265 7375 6c74 0d0a 2020 2020 636c  f.result..    cl
+00007190: 6173 7320 6d69 6e69 2829 3a0d 0a20 2020  ass mini():..   
+000071a0: 2020 2020 2065 7272 6f72 203d 204e 6f6e       error = Non
+000071b0: 650d 0a20 2020 2020 2020 2072 6573 756c  e..        resul
+000071c0: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
+000071d0: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
+000071e0: 656c 662c 2070 726f 6d70 743d 2222 2920  elf, prompt="") 
+000071f0: 2d3e 204e 6f6e 653a 0d0a 2020 2020 2020  -> None:..      
+00007200: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
+00007210: 2020 2020 2020 2020 2020 2020 6865 6164              head
+00007220: 6572 7320 3d20 7b0d 0a20 2020 2020 2020  ers = {..       
+00007230: 2020 2020 2020 2020 2020 2020 2022 436f               "Co
+00007240: 6e74 656e 742d 5479 7065 223a 2022 6170  ntent-Type": "ap
+00007250: 706c 6963 6174 696f 6e2f 6a73 6f6e 220d  plication/json".
+00007260: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007270: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
+00007280: 2020 2020 6572 7220 3d20 4661 6c73 650d      err = False.
+00007290: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000072a0: 200d 0a20 2020 2020 2020 2020 2020 2020   ..             
+000072b0: 2020 2064 6174 6120 3d20 6a73 6f6e 2e64     data = json.d
+000072c0: 756d 7073 287b 7d29 0d0a 2020 2020 2020  umps({})..      
+000072d0: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
+000072e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000072f0: 2020 2020 6461 7461 203d 206a 736f 6e2e      data = json.
+00007300: 6475 6d70 7328 7b0d 0a20 2020 2020 2020  dumps({..       
+00007310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007320: 2022 7072 6f6d 7074 223a 2070 726f 6d70   "prompt": promp
+00007330: 7420 6966 2070 726f 6d70 7420 6973 206e  t if prompt is n
+00007340: 6f74 204e 6f6e 6520 656c 7365 2022 222c  ot None else "",
+00007350: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00007360: 2020 2020 2020 2020 2020 226d 6f64 656c            "model
+00007370: 223a 2022 6461 6c6c 652d 6d69 6e69 220d  ": "dalle-mini".
+00007380: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007390: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
+000073a0: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+000073b0: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
+000073c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000073d0: 2020 2020 2064 6174 6120 3d20 6a73 6f6e       data = json
+000073e0: 2e64 756d 7073 287b 0d0a 2020 2020 2020  .dumps({..      
+000073f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007400: 2020 2270 726f 6d70 7422 3a20 2222 2c0d    "prompt": "",.
+00007410: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007420: 2020 2020 2020 2020 2022 6d6f 6465 6c22           "model"
+00007430: 3a20 2264 616c 6c65 2d6d 696e 6922 0d0a  : "dalle-mini"..
+00007440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007450: 2020 2020 7d29 0d0a 0d0a 2020 2020 2020      })....      
+00007460: 2020 2020 2020 2020 2020 7265 7370 6f6e            respon
+00007470: 7365 203d 2072 6571 7565 7374 732e 706f  se = requests.po
+00007480: 7374 2875 726c 3d22 6874 7470 733a 2f2f  st(url="https://
+00007490: 6e65 7872 612e 6172 7961 6863 722e 6363  nexra.aryahcr.cc
+000074a0: 2f61 7069 2f69 6d61 6765 2f63 6f6d 706c  /api/image/compl
+000074b0: 656d 656e 7473 222c 2068 6561 6465 7273  ements", headers
+000074c0: 3d68 6561 6465 7273 2c20 6461 7461 3d64  =headers, data=d
+000074d0: 6174 6129 0d0a 2020 2020 2020 2020 2020  ata)..          
+000074e0: 2020 2020 2020 6966 2072 6573 706f 6e73        if respons
+000074f0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00007500: 2032 3030 3a0d 0a20 2020 2020 2020 2020   200:..         
+00007510: 2020 2020 2020 2020 2020 2065 7272 203d             err =
+00007520: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+00007530: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+00007540: 7420 3d20 4e6f 6e65 0d0a 0d0a 2020 2020  t = None....    
+00007550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007560: 636f 756e 7420 3d20 2d31 0d0a 2020 2020  count = -1..    
+00007570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007580: 666f 7220 6920 696e 2072 616e 6765 286c  for i in range(l
+00007590: 656e 2872 6573 706f 6e73 652e 7465 7874  en(response.text
+000075a0: 2929 3a0d 0a20 2020 2020 2020 2020 2020  )):..           
+000075b0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000075c0: 636f 756e 7420 3c3d 202d 313a 0d0a 2020  count <= -1:..  
+000075d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000075e0: 2020 2020 2020 2020 2020 6966 2072 6573            if res
+000075f0: 706f 6e73 652e 7465 7874 5b69 5d20 3d3d  ponse.text[i] ==
+00007600: 2022 7b22 3a0d 0a20 2020 2020 2020 2020   "{":..         
+00007610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007620: 2020 2020 2020 2063 6f75 6e74 203d 2069         count = i
+00007630: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00007640: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+00007650: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007660: 2020 2020 2020 2020 2020 2020 2062 7265               bre
+00007670: 616b 0d0a 2020 2020 2020 2020 2020 2020  ak..            
+00007680: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
+00007690: 2020 2020 2020 2020 2020 2020 2020 6966                if
+000076a0: 2063 6f75 6e74 203c 3d20 2d31 3a0d 0a20   count <= -1:.. 
+000076b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000076c0: 2020 2020 2020 2065 7272 203d 207b 0d0a         err = {..
 000076d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000076e0: 2022 7072 6f6d 7074 223a 2022 222c 0d0a   "prompt": "",..
-000076f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007700: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
-00007710: 2022 7072 6f64 6961 2d73 7461 626c 6564   "prodia-stabled
-00007720: 6966 6675 7369 6f6e 222c 0d0a 2020 2020  iffusion",..    
+000076e0: 2020 2020 2020 2020 2020 2020 2263 6f64              "cod
+000076f0: 6522 3a20 3530 302c 0d0a 2020 2020 2020  e": 500,..      
+00007700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007710: 2020 2020 2020 2273 7461 7475 7322 3a20        "status": 
+00007720: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
 00007730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007740: 2020 2020 2264 6174 6122 3a20 7b0d 0a20      "data": {.. 
-00007750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007760: 2020 2020 2020 2020 2020 2022 7072 6f6d             "prom
-00007770: 7074 5f6e 6567 6174 6976 6522 3a20 2222  pt_negative": ""
-00007780: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00007790: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000077a0: 6d6f 6465 6c22 3a20 2261 6273 6f6c 7574  model": "absolut
-000077b0: 6572 6561 6c69 7479 5f76 3138 312e 7361  ereality_v181.sa
-000077c0: 6665 7465 6e73 6f72 7320 5b33 6439 6434  fetensors [3d9d4
-000077d0: 6432 625d 222c 0d0a 2020 2020 2020 2020  d2b]",..        
-000077e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000077f0: 2020 2020 2273 616d 706c 696e 675f 6d65      "sampling_me
-00007800: 7468 6f64 223a 2022 4450 4d2b 2b20 324d  thod": "DPM++ 2M
-00007810: 204b 6172 7261 7322 2c0d 0a20 2020 2020   Karras",..     
-00007820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007830: 2020 2020 2020 2022 7361 6d70 6c69 6e67         "sampling
-00007840: 5f73 7465 7073 223a 2032 352c 0d0a 2020  _steps": 25,..  
-00007850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007860: 2020 2020 2020 2020 2020 2277 6964 7468            "width
-00007870: 223a 2035 3132 2c0d 0a20 2020 2020 2020  ": 512,..       
-00007880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007890: 2020 2020 2022 6865 6967 6874 223a 2035       "height": 5
-000078a0: 3132 2c0d 0a20 2020 2020 2020 2020 2020  12,..           
-000078b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000078c0: 2022 6366 675f 7363 616c 6522 3a20 370d   "cfg_scale": 7.
-000078d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000078e0: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
-000078f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007900: 7d29 0d0a 0d0a 2020 2020 2020 2020 2020  })....          
-00007910: 2020 2020 2020 7265 7370 6f6e 7365 203d        response =
-00007920: 2072 6571 7565 7374 732e 706f 7374 2875   requests.post(u
-00007930: 726c 3d22 6874 7470 733a 2f2f 6e65 7872  rl="https://nexr
-00007940: 612e 6172 7961 6863 722e 6363 2f61 7069  a.aryahcr.cc/api
-00007950: 2f69 6d61 6765 2f63 6f6d 706c 656d 656e  /image/complemen
-00007960: 7473 222c 2068 6561 6465 7273 3d68 6561  ts", headers=hea
-00007970: 6465 7273 2c20 6461 7461 3d64 6174 6129  ders, data=data)
-00007980: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00007990: 2020 6966 2072 6573 706f 6e73 652e 7374    if response.st
-000079a0: 6174 7573 5f63 6f64 6520 3d3d 2032 3030  atus_code == 200
-000079b0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-000079c0: 2020 2020 2020 2065 7272 203d 204e 6f6e         err = Non
-000079d0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-000079e0: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-000079f0: 4e6f 6e65 0d0a 0d0a 2020 2020 2020 2020  None....        
-00007a00: 2020 2020 2020 2020 2020 2020 636f 756e              coun
-00007a10: 7420 3d20 2d31 0d0a 2020 2020 2020 2020  t = -1..        
-00007a20: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00007a30: 6920 696e 2072 616e 6765 286c 656e 2872  i in range(len(r
-00007a40: 6573 706f 6e73 652e 7465 7874 2929 3a0d  esponse.text)):.
-00007a50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007a60: 2020 2020 2020 2020 2069 6620 636f 756e           if coun
-00007a70: 7420 3c3d 202d 313a 0d0a 2020 2020 2020  t <= -1:..      
+00007740: 2020 2020 2265 7272 6f72 223a 2022 494e      "error": "IN
+00007750: 5445 524e 414c 5f53 4552 5645 525f 4552  TERNAL_SERVER_ER
+00007760: 524f 5222 2c0d 0a20 2020 2020 2020 2020  ROR",..         
+00007770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007780: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
+00007790: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
+000077a0: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
+000077b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000077c0: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
+000077d0: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+000077e0: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
+000077f0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00007800: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+00007810: 2020 2020 2020 2020 2020 2020 2020 7472                tr
+00007820: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
+00007830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007840: 6a73 203d 2072 6573 706f 6e73 652e 7465  js = response.te
+00007850: 7874 5b63 6f75 6e74 3a5d 0d0a 2020 2020  xt[count:]..    
+00007860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007870: 2020 2020 2020 2020 6a73 203d 206a 736f          js = jso
+00007880: 6e2e 6c6f 6164 7328 6a73 290d 0a20 2020  n.loads(js)..   
+00007890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000078a0: 2020 2020 2020 2020 2069 6620 6a73 2021           if js !
+000078b0: 3d20 4e6f 6e65 2061 6e64 206a 735b 2263  = None and js["c
+000078c0: 6f64 6522 5d20 213d 204e 6f6e 6520 616e  ode"] != None an
+000078d0: 6420 6a73 5b22 636f 6465 225d 203d 3d20  d js["code"] == 
+000078e0: 3230 3020 616e 6420 6a73 5b22 7374 6174  200 and js["stat
+000078f0: 7573 225d 2021 3d20 4e6f 6e65 2061 6e64  us"] != None and
+00007900: 206a 735b 2273 7461 7475 7322 5d20 3d3d   js["status"] ==
+00007910: 2054 7275 653a 0d0a 2020 2020 2020 2020   True:..        
+00007920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007930: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+00007940: 206a 730d 0a20 2020 2020 2020 2020 2020   js..           
+00007950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007960: 2020 2020 2065 7272 203d 204e 6f6e 650d       err = None.
+00007970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007980: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00007990: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+000079a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000079b0: 2020 2020 6572 7220 3d20 6a73 0d0a 2020      err = js..  
+000079c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000079d0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+000079e0: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
+000079f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007a00: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+00007a10: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
+00007a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007a30: 2020 2020 2020 2020 2065 7272 203d 207b           err = {
+00007a40: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00007a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007a60: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
+00007a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00007a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007a90: 2020 2020 2020 6966 2072 6573 706f 6e73        if respons
-00007aa0: 652e 7465 7874 5b69 5d20 3d3d 2022 7b22  e.text[i] == "{"
-00007ab0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00007ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ad0: 2020 2063 6f75 6e74 203d 2069 0d0a 2020     count = i..  
-00007ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007af0: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00007b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007b10: 2020 2020 2020 2020 2062 7265 616b 0d0a           break..
-00007b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007b30: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
-00007b40: 2020 2020 2020 2020 2020 6966 2063 6f75            if cou
-00007b50: 6e74 203c 3d20 2d31 3a0d 0a20 2020 2020  nt <= -1:..     
-00007b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007b70: 2020 2065 7272 203d 207b 0d0a 2020 2020     err = {..    
-00007b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007b90: 2020 2020 2020 2020 2263 6f64 6522 3a20          "code": 
-00007ba0: 3530 302c 0d0a 2020 2020 2020 2020 2020  500,..          
-00007bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007bc0: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
-00007bd0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00007be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007bf0: 2265 7272 6f72 223a 2022 494e 5445 524e  "error": "INTERN
-00007c00: 414c 5f53 4552 5645 525f 4552 524f 5222  AL_SERVER_ERROR"
-00007c10: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00007c20: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00007c30: 6d65 7373 6167 6522 3a20 2267 656e 6572  message": "gener
-00007c40: 616c 2028 756e 6b6e 6f77 6e29 2065 7272  al (unknown) err
-00007c50: 6f72 220d 0a20 2020 2020 2020 2020 2020  or"..           
-00007c60: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
-00007c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007c80: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-00007c90: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
-00007ca0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00007cb0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00007cc0: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
-00007cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ce0: 2020 2020 2020 2020 2020 2020 6a73 203d              js =
-00007cf0: 2072 6573 706f 6e73 652e 7465 7874 5b63   response.text[c
-00007d00: 6f75 6e74 3a5d 0d0a 2020 2020 2020 2020  ount:]..        
-00007d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007d20: 2020 2020 6a73 203d 206a 736f 6e2e 6c6f      js = json.lo
-00007d30: 6164 7328 6a73 290d 0a20 2020 2020 2020  ads(js)..       
-00007d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007d50: 2020 2020 2069 6620 6a73 2021 3d20 4e6f       if js != No
-00007d60: 6e65 2061 6e64 206a 735b 2263 6f64 6522  ne and js["code"
-00007d70: 5d20 213d 204e 6f6e 6520 616e 6420 6a73  ] != None and js
-00007d80: 5b22 636f 6465 225d 203d 3d20 3230 3020  ["code"] == 200 
-00007d90: 616e 6420 6a73 5b22 7374 6174 7573 225d  and js["status"]
-00007da0: 2021 3d20 4e6f 6e65 2061 6e64 206a 735b   != None and js[
-00007db0: 2273 7461 7475 7322 5d20 3d3d 2054 7275  "status"] == Tru
-00007dc0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00007a90: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
+00007aa0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00007ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007ac0: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
+00007ad0: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
+00007ae0: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
+00007af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007b00: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
+00007b10: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
+00007b20: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
+00007b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007b40: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
+00007b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007b60: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
+00007b70: 6f6e 650d 0a0d 0a20 2020 2020 2020 2020  one....         
+00007b80: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00007b90: 6620 7265 7375 6c74 203d 3d20 4e6f 6e65  f result == None
+00007ba0: 2061 6e64 2065 7272 2021 3d20 4e6f 6e65   and err != None
+00007bb0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00007bc0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00007bd0: 656c 662e 6572 726f 7220 3d20 6572 720d  elf.error = err.
+00007be0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007bf0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00007c00: 662e 7265 7375 6c74 203d 204e 6f6e 650d  f.result = None.
+00007c10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007c20: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+00007c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007c40: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00007c50: 2e72 6573 756c 7420 3d20 7265 7375 6c74  .result = result
+00007c60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00007c70: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00007c80: 6c66 2e65 7272 6f72 203d 204e 6f6e 650d  lf.error = None.
+00007c90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007ca0: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+00007cb0: 2020 2020 2020 2020 2020 2020 6461 7461              data
+00007cc0: 5f65 7272 203d 207b 7d0d 0a20 2020 2020  _err = {}..     
+00007cd0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00007ce0: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
+00007cf0: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+00007d00: 615f 6572 7220 3d20 6a73 6f6e 2e6c 6f61  a_err = json.loa
+00007d10: 6473 2872 6573 706f 6e73 652e 7465 7874  ds(response.text
+00007d20: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+00007d30: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
+00007d40: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
+00007d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007d60: 2020 2020 2020 2064 6174 615f 6572 7220         data_err 
+00007d70: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
+00007d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007d90: 2022 636f 6465 223a 2035 3030 2c0d 0a20   "code": 500,.. 
+00007da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007db0: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
+00007dc0: 7573 223a 2046 616c 7365 2c0d 0a20 2020  us": False,..   
 00007dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007de0: 2020 2020 7265 7375 6c74 203d 206a 730d      result = js.
-00007df0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e10: 2065 7272 203d 204e 6f6e 650d 0a20 2020   err = None..   
-00007e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e30: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-00007e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007de0: 2020 2020 2020 2020 2022 6572 726f 7222           "error"
+00007df0: 3a20 2249 4e54 4552 4e41 4c5f 5345 5256  : "INTERNAL_SERV
+00007e00: 4552 5f45 5252 4f52 222c 0d0a 2020 2020  ER_ERROR",..    
+00007e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e20: 2020 2020 2020 2020 226d 6573 7361 6765          "message
+00007e30: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
+00007e40: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
 00007e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e60: 6572 7220 3d20 6a73 0d0a 2020 2020 2020  err = js..      
-00007e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e80: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-00007e90: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
-00007ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007eb0: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-00007ec0: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
-00007ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ee0: 2020 2020 2065 7272 203d 207b 0d0a 2020       err = {..  
-00007ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007f00: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-00007f10: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
-00007f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007f30: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
-00007f40: 7475 7322 3a20 4661 6c73 652c 0d0a 2020  tus": False,..  
-00007f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007f60: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-00007f70: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
-00007f80: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
-00007f90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007fb0: 2022 6d65 7373 6167 6522 3a20 2267 656e   "message": "gen
-00007fc0: 6572 616c 2028 756e 6b6e 6f77 6e29 2065  eral (unknown) e
-00007fd0: 7272 6f72 220d 0a20 2020 2020 2020 2020  rror"..         
-00007fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ff0: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
-00008000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008010: 2020 7265 7375 6c74 203d 204e 6f6e 650d    result = None.
-00008020: 0a0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-00008030: 2020 2020 2020 2020 2020 2069 6620 7265             if re
-00008040: 7375 6c74 203d 3d20 4e6f 6e65 2061 6e64  sult == None and
-00008050: 2065 7272 2021 3d20 4e6f 6e65 3a0d 0a20   err != None:.. 
-00008060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008070: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00008080: 6572 726f 7220 3d20 6572 720d 0a20 2020  error = err..   
-00008090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000080a0: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-000080b0: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
-000080c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000080d0: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
-000080e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000080f0: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
-00008100: 756c 7420 3d20 7265 7375 6c74 0d0a 2020  ult = result..  
-00008110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008120: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
-00008130: 7272 6f72 203d 204e 6f6e 650d 0a20 2020  rror = None..   
-00008140: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-00008150: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00008160: 2020 2020 2020 2020 6461 7461 5f65 7272          data_err
-00008170: 203d 207b 7d0d 0a20 2020 2020 2020 2020   = {}..         
-00008180: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
-00008190: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000081a0: 2020 2020 2020 2020 2064 6174 615f 6572           data_er
-000081b0: 7220 3d20 6a73 6f6e 2e6c 6f61 6473 2872  r = json.loads(r
-000081c0: 6573 706f 6e73 652e 7465 7874 290d 0a20  esponse.text).. 
-000081d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000081e0: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
-000081f0: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
-00008200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008210: 2020 2064 6174 615f 6572 7220 3d20 7b0d     data_err = {.
-00008220: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008230: 2020 2020 2020 2020 2020 2020 2022 636f               "co
-00008240: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
-00008250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008260: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
-00008270: 2046 616c 7365 2c0d 0a20 2020 2020 2020   False,..       
-00008280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008290: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
-000082a0: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
-000082b0: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
-000082c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000082d0: 2020 2020 226d 6573 7361 6765 223a 2022      "message": "
-000082e0: 6765 6e65 7261 6c20 2875 6e6b 6e6f 776e  general (unknown
-000082f0: 2920 6572 726f 7222 0d0a 2020 2020 2020  ) error"..      
-00008300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008310: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
-00008320: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
-00008330: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00008340: 656c 662e 6572 726f 7220 3d20 6461 7461  elf.error = data
-00008350: 5f65 7272 0d0a 2020 2020 2020 2020 2020  _err..          
-00008360: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
-00008370: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
-00008380: 2020 2020 2020 2020 2020 6578 6365 7074            except
-00008390: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
-000083a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000083b0: 2020 7365 6c66 2e65 7272 6f72 203d 207b    self.error = {
-000083c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000083d0: 2020 2020 2020 2263 6f64 6522 3a20 3530        "code": 50
-000083e0: 302c 0d0a 2020 2020 2020 2020 2020 2020  0,..            
-000083f0: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
-00008400: 3a20 4661 6c73 652c 0d0a 2020 2020 2020  : False,..      
-00008410: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-00008420: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
-00008430: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
+00007e60: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+00007e70: 2020 2020 2020 2020 2020 2020 200d 0a20               .. 
+00007e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e90: 2020 2073 656c 662e 6572 726f 7220 3d20     self.error = 
+00007ea0: 6461 7461 5f65 7272 0d0a 2020 2020 2020  data_err..      
+00007eb0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00007ec0: 6c66 2e72 6573 756c 7420 3d20 4e6f 6e65  lf.result = None
+00007ed0: 0d0a 2020 2020 2020 2020 2020 2020 6578  ..            ex
+00007ee0: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+00007ef0: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
+00007f00: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
+00007f10: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+00007f20: 2020 2020 2020 2020 2020 2263 6f64 6522            "code"
+00007f30: 3a20 3530 302c 0d0a 2020 2020 2020 2020  : 500,..        
+00007f40: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
+00007f50: 7475 7322 3a20 4661 6c73 652c 0d0a 2020  tus": False,..  
+00007f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f70: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
+00007f80: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
+00007f90: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
+00007fa0: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
+00007fb0: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
+00007fc0: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
+00007fd0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+00007fe0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00007ff0: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
+00008000: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
+00008010: 2020 7061 7373 0d0a 2020 2020 2020 2020    pass..        
+00008020: 6465 6620 6572 726f 7228 7365 6c66 293a  def error(self):
+00008030: 0d0a 2020 2020 2020 2020 2020 2020 7265  ..            re
+00008040: 7475 726e 2073 656c 662e 6572 726f 720d  turn self.error.
+00008050: 0a20 2020 2020 2020 2064 6566 2072 6573  .        def res
+00008060: 756c 7428 7365 6c66 293a 0d0a 2020 2020  ult(self):..    
+00008070: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00008080: 656c 662e 7265 7375 6c74 0d0a 2020 2020  elf.result..    
+00008090: 2020 2020 0d0a 636c 6173 7320 7072 6f64      ..class prod
+000080a0: 6961 2829 3a0d 0a20 2020 2063 6c61 7373  ia():..    class
+000080b0: 2076 3128 293a 0d0a 2020 2020 2020 2020   v1():..        
+000080c0: 6572 726f 7220 3d20 4e6f 6e65 0d0a 2020  error = None..  
+000080d0: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
+000080e0: 6f6e 650d 0a20 2020 2020 2020 2064 6566  one..        def
+000080f0: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
+00008100: 7072 6f6d 7074 3d22 222c 2064 6174 613d  prompt="", data=
+00008110: 7b0d 0a20 2020 2020 2020 2020 2020 2022  {..            "
+00008120: 6d6f 6465 6c22 3a20 2222 2c0d 0a20 2020  model": "",..   
+00008130: 2020 2020 2020 2020 2022 7374 6570 7322           "steps"
+00008140: 3a20 2222 2c0d 0a20 2020 2020 2020 2020  : "",..         
+00008150: 2020 2022 6366 675f 7363 616c 6522 3a20     "cfg_scale": 
+00008160: 2222 2c0d 0a20 2020 2020 2020 2020 2020  "",..           
+00008170: 2022 7361 6d70 6c65 7222 3a20 2222 2c0d   "sampler": "",.
+00008180: 0a20 2020 2020 2020 2020 2020 2022 6e65  .            "ne
+00008190: 6761 7469 7665 5f70 726f 6d70 7422 3a20  gative_prompt": 
+000081a0: 2222 0d0a 2020 2020 2020 2020 7d29 202d  ""..        }) -
+000081b0: 3e20 4e6f 6e65 3a0d 0a20 2020 2020 2020  > None:..       
+000081c0: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
+000081d0: 2020 2020 2020 2020 2020 2068 6561 6465             heade
+000081e0: 7273 203d 207b 0d0a 2020 2020 2020 2020  rs = {..        
+000081f0: 2020 2020 2020 2020 2020 2020 2243 6f6e              "Con
+00008200: 7465 6e74 2d54 7970 6522 3a20 2261 7070  tent-Type": "app
+00008210: 6c69 6361 7469 6f6e 2f6a 736f 6e22 0d0a  lication/json"..
+00008220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008230: 7d0d 0a0d 0a20 2020 2020 2020 2020 2020  }....           
+00008240: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
+00008250: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00008260: 726f 6d70 7420 3d20 7072 6f6d 7074 2069  rompt = prompt i
+00008270: 6620 7072 6f6d 7074 2069 7320 6e6f 7420  f prompt is not 
+00008280: 4e6f 6e65 2065 6c73 6520 2222 0d0a 2020  None else ""..  
+00008290: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+000082a0: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+000082b0: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
+000082c0: 2020 2020 2020 2020 2020 7072 6f6d 7074            prompt
+000082d0: 203d 2022 220d 0a0d 0a20 2020 2020 2020   = ""....       
+000082e0: 2020 2020 2020 2020 206d 6420 3d20 7b0d           md = {.
+000082f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008300: 2020 2020 2022 6d6f 6465 6c22 3a20 2261       "model": "a
+00008310: 6273 6f6c 7574 6572 6561 6c69 7479 5f56  bsolutereality_V
+00008320: 3136 2e73 6166 6574 656e 736f 7273 205b  16.safetensors [
+00008330: 3337 6462 3066 6333 5d22 2c0d 0a20 2020  37db0fc3]",..   
+00008340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008350: 2022 7374 6570 7322 3a20 3235 2c0d 0a20   "steps": 25,.. 
+00008360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008370: 2020 2022 6366 675f 7363 616c 6522 3a20     "cfg_scale": 
+00008380: 372c 0d0a 2020 2020 2020 2020 2020 2020  7,..            
+00008390: 2020 2020 2020 2020 2273 616d 706c 6572          "sampler
+000083a0: 223a 2022 4450 4d2b 2b20 324d 204b 6172  ": "DPM++ 2M Kar
+000083b0: 7261 7322 2c0d 0a20 2020 2020 2020 2020  ras",..         
+000083c0: 2020 2020 2020 2020 2020 2022 6e65 6761             "nega
+000083d0: 7469 7665 5f70 726f 6d70 7422 3a20 2222  tive_prompt": ""
+000083e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000083f0: 2020 7d0d 0a0d 0a20 2020 2020 2020 2020    }....         
+00008400: 2020 2020 2020 2074 7279 203a 0d0a 2020         try :..  
+00008410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008420: 2020 6966 2064 6174 612e 6765 7428 226d    if data.get("m
+00008430: 6f64 656c 2229 2021 3d20 4e6f 6e65 3a0d  odel") != None:.
 00008440: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008450: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
-00008460: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
-00008470: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
-00008480: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
-00008490: 2020 2020 2020 2020 2020 2020 2020 7365                se
-000084a0: 6c66 2e72 6573 756c 7420 3d20 4e6f 6e65  lf.result = None
-000084b0: 0d0a 2020 2020 2020 2020 2020 2020 7061  ..            pa
-000084c0: 7373 0d0a 2020 2020 2020 2020 6465 6620  ss..        def 
-000084d0: 6572 726f 7228 7365 6c66 293a 0d0a 2020  error(self):..  
-000084e0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000084f0: 2073 656c 662e 6572 726f 720d 0a20 2020   self.error..   
-00008500: 2020 2020 2064 6566 2072 6573 756c 7428       def result(
-00008510: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
-00008520: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-00008530: 7265 7375 6c74 0d0a 2020 2020 636c 6173  result..    clas
-00008540: 7320 7374 6162 6c65 6469 6666 7573 696f  s stablediffusio
-00008550: 6e5f 786c 2829 3a0d 0a20 2020 2020 2020  n_xl():..       
-00008560: 2065 7272 6f72 203d 204e 6f6e 650d 0a20   error = None.. 
-00008570: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-00008580: 4e6f 6e65 0d0a 2020 2020 2020 2020 6465  None..        de
-00008590: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
-000085a0: 2070 726f 6d70 743d 2222 2c20 6461 7461   prompt="", data
-000085b0: 3d7b 0d0a 2020 2020 2020 2020 2020 2020  ={..            
-000085c0: 2270 726f 6d70 745f 6e65 6761 7469 7665  "prompt_negative
-000085d0: 223a 2022 222c 0d0a 2020 2020 2020 2020  ": "",..        
-000085e0: 2020 2020 226d 6f64 656c 223a 2022 222c      "model": "",
-000085f0: 0d0a 2020 2020 2020 2020 2020 2020 2273  ..            "s
-00008600: 616d 706c 696e 675f 6d65 7468 6f64 223a  ampling_method":
-00008610: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
-00008620: 2020 2273 616d 706c 696e 675f 7374 6570    "sampling_step
-00008630: 7322 3a20 2222 2c0d 0a20 2020 2020 2020  s": "",..       
-00008640: 2020 2020 2022 7769 6474 6822 3a20 2222       "width": ""
-00008650: 2c0d 0a20 2020 2020 2020 2020 2020 2022  ,..            "
-00008660: 6865 6967 6874 223a 2022 222c 0d0a 2020  height": "",..  
-00008670: 2020 2020 2020 2020 2020 2263 6667 5f73            "cfg_s
-00008680: 6361 6c65 223a 2022 220d 0a20 2020 2020  cale": ""..     
-00008690: 2020 207d 2920 2d3e 204e 6f6e 653a 0d0a     }) -> None:..
-000086a0: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-000086b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000086c0: 2020 6865 6164 6572 7320 3d20 7b0d 0a20    headers = {.. 
-000086d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000086e0: 2020 2022 436f 6e74 656e 742d 5479 7065     "Content-Type
-000086f0: 223a 2022 6170 706c 6963 6174 696f 6e2f  ": "application/
-00008700: 6a73 6f6e 220d 0a20 2020 2020 2020 2020  json"..         
-00008710: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
-00008720: 2020 2020 2020 2020 2020 6865 6164 6572            header
-00008730: 732e 7570 6461 7465 2863 7265 6429 0d0a  s.update(cred)..
-00008740: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00008750: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
-00008760: 2020 2020 2020 2020 2020 2020 7072 6f6d              prom
-00008770: 7074 203d 2070 726f 6d70 7420 6966 2070  pt = prompt if p
-00008780: 726f 6d70 7420 6973 206e 6f74 204e 6f6e  rompt is not Non
-00008790: 6520 656c 7365 2022 220d 0a20 2020 2020  e else ""..     
-000087a0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-000087b0: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
-000087c0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-000087d0: 2020 2020 2020 2070 726f 6d70 7420 3d20         prompt = 
-000087e0: 2222 0d0a 0d0a 2020 2020 2020 2020 2020  ""....          
-000087f0: 2020 2020 2020 6d64 203d 207b 0d0a 2020        md = {..  
-00008800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008810: 2020 2270 726f 6d70 745f 6e65 6761 7469    "prompt_negati
-00008820: 7665 223a 2022 222c 0d0a 2020 2020 2020  ve": "",..      
-00008830: 2020 2020 2020 2020 2020 2020 2020 226d                "m
-00008840: 6f64 656c 223a 2022 6162 736f 6c75 7465  odel": "absolute
-00008850: 7265 616c 6974 795f 7631 3831 2e73 6166  reality_v181.saf
-00008860: 6574 656e 736f 7273 205b 3364 3964 3464  etensors [3d9d4d
-00008870: 3262 5d22 2c0d 0a20 2020 2020 2020 2020  2b]",..         
-00008880: 2020 2020 2020 2020 2020 2022 7361 6d70             "samp
-00008890: 6c69 6e67 5f6d 6574 686f 6422 3a20 2244  ling_method": "D
-000088a0: 504d 2b2b 2032 4d20 4b61 7272 6173 222c  PM++ 2M Karras",
-000088b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000088c0: 2020 2020 2020 2273 616d 706c 696e 675f        "sampling_
-000088d0: 7374 6570 7322 3a20 3235 2c0d 0a20 2020  steps": 25,..   
-000088e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000088f0: 2022 7769 6474 6822 3a20 3130 3234 2c0d   "width": 1024,.
-00008900: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008910: 2020 2020 2022 6865 6967 6874 223a 2031       "height": 1
-00008920: 3032 342c 0d0a 2020 2020 2020 2020 2020  024,..          
-00008930: 2020 2020 2020 2020 2020 2263 6667 5f73            "cfg_s
-00008940: 6361 6c65 223a 2037 0d0a 2020 2020 2020  cale": 7..      
-00008950: 2020 2020 2020 2020 2020 7d0d 0a0d 0a20            }.... 
-00008960: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00008970: 7279 203a 0d0a 2020 2020 2020 2020 2020  ry :..          
-00008980: 2020 2020 2020 2020 2020 6966 2064 6174            if dat
-00008990: 612e 6765 7428 226d 6f64 656c 2229 2021  a.get("model") !
-000089a0: 3d20 4e6f 6e65 3a0d 0a20 2020 2020 2020  = None:..       
-000089b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000089c0: 206d 645b 226d 6f64 656c 225d 203d 2064   md["model"] = d
-000089d0: 6174 612e 6765 7428 226d 6f64 656c 2229  ata.get("model")
-000089e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000089f0: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
+00008450: 2020 2020 2020 2020 206d 645b 226d 6f64           md["mod
+00008460: 656c 225d 203d 2064 6174 612e 6765 7428  el"] = data.get(
+00008470: 226d 6f64 656c 2229 0d0a 2020 2020 2020  "model")..      
+00008480: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00008490: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+000084a0: 2020 2020 2020 2020 2020 2020 206d 645b               md[
+000084b0: 226d 6f64 656c 225d 203d 2022 6162 736f  "model"] = "abso
+000084c0: 6c75 7465 7265 616c 6974 795f 5631 362e  lutereality_V16.
+000084d0: 7361 6665 7465 6e73 6f72 7320 5b33 3764  safetensors [37d
+000084e0: 6230 6663 335d 220d 0a0d 0a20 2020 2020  b0fc3]"....     
+000084f0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00008500: 6620 6461 7461 2e67 6574 2822 7374 6570  f data.get("step
+00008510: 7322 2920 213d 204e 6f6e 653a 0d0a 2020  s") != None:..  
+00008520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008530: 2020 2020 2020 6d64 5b22 7374 6570 7322        md["steps"
+00008540: 5d20 3d20 6461 7461 2e67 6574 2822 7374  ] = data.get("st
+00008550: 6570 7322 290d 0a20 2020 2020 2020 2020  eps")..         
+00008560: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00008570: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00008580: 2020 2020 2020 2020 2020 6d64 5b22 7374            md["st
+00008590: 6570 7322 5d20 3d20 3235 0d0a 0d0a 2020  eps"] = 25....  
+000085a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000085b0: 2020 6966 2064 6174 612e 6765 7428 2263    if data.get("c
+000085c0: 6667 5f73 6361 6c65 2229 2021 3d20 4e6f  fg_scale") != No
+000085d0: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
+000085e0: 2020 2020 2020 2020 2020 2020 206d 645b               md[
+000085f0: 2263 6667 5f73 6361 6c65 225d 203d 2064  "cfg_scale"] = d
+00008600: 6174 612e 6765 7428 2263 6667 5f73 6361  ata.get("cfg_sca
+00008610: 6c65 2229 0d0a 2020 2020 2020 2020 2020  le")..          
+00008620: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+00008630: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008640: 2020 2020 2020 2020 206d 645b 2263 6667           md["cfg
+00008650: 5f73 6361 6c65 225d 203d 2037 0d0a 0d0a  _scale"] = 7....
+00008660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008670: 2020 2020 6966 2064 6174 612e 6765 7428      if data.get(
+00008680: 2273 616d 706c 6572 2229 2021 3d20 4e6f  "sampler") != No
+00008690: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
+000086a0: 2020 2020 2020 2020 2020 2020 206d 645b               md[
+000086b0: 2273 616d 706c 6572 225d 203d 2064 6174  "sampler"] = dat
+000086c0: 612e 6765 7428 2273 616d 706c 6572 2229  a.get("sampler")
+000086d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000086e0: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
+000086f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008700: 2020 2020 206d 645b 2273 616d 706c 6572       md["sampler
+00008710: 225d 203d 2022 4450 4d2b 2b20 324d 204b  "] = "DPM++ 2M K
+00008720: 6172 7261 7322 0d0a 2020 2020 2020 2020  arras"..        
+00008730: 2020 2020 2020 2020 2020 2020 0d0a 2020              ..  
+00008740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008750: 2020 6966 2064 6174 612e 6765 7428 226e    if data.get("n
+00008760: 6567 6174 6976 655f 7072 6f6d 7074 2229  egative_prompt")
+00008770: 2021 3d20 4e6f 6e65 3a0d 0a20 2020 2020   != None:..     
+00008780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008790: 2020 206d 645b 226e 6567 6174 6976 655f     md["negative_
+000087a0: 7072 6f6d 7074 225d 203d 2064 6174 612e  prompt"] = data.
+000087b0: 6765 7428 226e 6567 6174 6976 655f 7072  get("negative_pr
+000087c0: 6f6d 7074 2229 0d0a 2020 2020 2020 2020  ompt")..        
+000087d0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+000087e0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+000087f0: 2020 2020 2020 2020 2020 206d 645b 226e             md["n
+00008800: 6567 6174 6976 655f 7072 6f6d 7074 225d  egative_prompt"]
+00008810: 203d 2022 220d 0a20 2020 2020 2020 2020   = ""..         
+00008820: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
+00008830: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
+00008840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008850: 2020 206d 6420 3d20 7b0d 0a20 2020 2020     md = {..     
+00008860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008870: 2020 2022 6d6f 6465 6c22 3a20 2261 6273     "model": "abs
+00008880: 6f6c 7574 6572 6561 6c69 7479 5f56 3136  olutereality_V16
+00008890: 2e73 6166 6574 656e 736f 7273 205b 3337  .safetensors [37
+000088a0: 6462 3066 6333 5d22 2c0d 0a20 2020 2020  db0fc3]",..     
+000088b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000088c0: 2020 2022 7374 6570 7322 3a20 3235 2c0d     "steps": 25,.
+000088d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000088e0: 2020 2020 2020 2020 2022 6366 675f 7363           "cfg_sc
+000088f0: 616c 6522 3a20 372c 0d0a 2020 2020 2020  ale": 7,..      
+00008900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008910: 2020 2273 616d 706c 6572 223a 2022 4450    "sampler": "DP
+00008920: 4d2b 2b20 324d 204b 6172 7261 7322 2c0d  M++ 2M Karras",.
+00008930: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008940: 2020 2020 2020 2020 2022 6e65 6761 7469           "negati
+00008950: 7665 5f70 726f 6d70 7422 3a20 2222 0d0a  ve_prompt": ""..
+00008960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008970: 2020 2020 7d0d 0a0d 0a20 2020 2020 2020      }....       
+00008980: 2020 2020 2020 2020 2064 6174 6120 3d20           data = 
+00008990: 7b7d 0d0a 2020 2020 2020 2020 2020 2020  {}..            
+000089a0: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
+000089b0: 2020 2020 2020 2020 2020 2020 2020 6461                da
+000089c0: 7461 203d 206a 736f 6e2e 6475 6d70 7328  ta = json.dumps(
+000089d0: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+000089e0: 2020 2020 2020 2020 2020 2022 7072 6f6d             "prom
+000089f0: 7074 223a 2070 726f 6d70 742c 0d0a 2020  pt": prompt,..  
 00008a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008a10: 2020 2020 206d 645b 226d 6f64 656c 225d       md["model"]
-00008a20: 203d 2022 6162 736f 6c75 7465 7265 616c   = "absolutereal
-00008a30: 6974 795f 7631 3831 2e73 6166 6574 656e  ity_v181.safeten
-00008a40: 736f 7273 205b 3364 3964 3464 3262 5d22  sors [3d9d4d2b]"
-00008a50: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
-00008a60: 2020 2020 2020 2020 6966 2064 6174 612e          if data.
-00008a70: 6765 7428 2273 616d 706c 696e 675f 7374  get("sampling_st
-00008a80: 6570 7322 2920 213d 204e 6f6e 653a 0d0a  eps") != None:..
+00008a10: 2020 2020 2020 226d 6f64 656c 223a 2022        "model": "
+00008a20: 7072 6f64 6961 222c 0d0a 2020 2020 2020  prodia",..      
+00008a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008a40: 2020 2264 6174 6122 3a20 6d64 0d0a 2020    "data": md..  
+00008a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008a60: 2020 7d29 0d0a 2020 2020 2020 2020 2020    })..          
+00008a70: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+00008a80: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
 00008a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008aa0: 2020 2020 2020 2020 6d64 5b22 7361 6d70          md["samp
-00008ab0: 6c69 6e67 5f73 7465 7073 225d 203d 2064  ling_steps"] = d
-00008ac0: 6174 612e 6765 7428 2273 616d 706c 696e  ata.get("samplin
-00008ad0: 675f 7374 6570 7322 290d 0a20 2020 2020  g_steps")..     
-00008ae0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00008af0: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-00008b00: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-00008b10: 5b22 7361 6d70 6c69 6e67 5f73 7465 7073  ["sampling_steps
-00008b20: 225d 203d 2032 350d 0a0d 0a20 2020 2020  "] = 25....     
-00008b30: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00008b40: 6620 6461 7461 2e67 6574 2822 6366 675f  f data.get("cfg_
-00008b50: 7363 616c 6522 2920 213d 204e 6f6e 653a  scale") != None:
-00008b60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00008b70: 2020 2020 2020 2020 2020 6d64 5b22 6366            md["cf
-00008b80: 675f 7363 616c 6522 5d20 3d20 6461 7461  g_scale"] = data
-00008b90: 2e67 6574 2822 6366 675f 7363 616c 6522  .get("cfg_scale"
-00008ba0: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
-00008bb0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
-00008bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008bd0: 2020 2020 2020 6d64 5b22 6366 675f 7363        md["cfg_sc
-00008be0: 616c 6522 5d20 3d20 370d 0a0d 0a20 2020  ale"] = 7....   
-00008bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008c00: 2069 6620 6461 7461 2e67 6574 2822 7361   if data.get("sa
-00008c10: 6d70 6c69 6e67 5f6d 6574 686f 6422 2920  mpling_method") 
-00008c20: 213d 204e 6f6e 653a 0d0a 2020 2020 2020  != None:..      
-00008c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008c40: 2020 6d64 5b22 7361 6d70 6c69 6e67 5f6d    md["sampling_m
-00008c50: 6574 686f 6422 5d20 3d20 6461 7461 2e67  ethod"] = data.g
-00008c60: 6574 2822 7361 6d70 6c69 6e67 5f6d 6574  et("sampling_met
-00008c70: 686f 6422 290d 0a20 2020 2020 2020 2020  hod")..         
-00008c80: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00008c90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00008ca0: 2020 2020 2020 2020 2020 6d64 5b22 7361            md["sa
-00008cb0: 6d70 6c69 6e67 5f6d 6574 686f 6422 5d20  mpling_method"] 
-00008cc0: 3d20 2244 504d 2b2b 2032 4d20 4b61 7272  = "DPM++ 2M Karr
-00008cd0: 6173 220d 0a20 2020 2020 2020 2020 2020  as"..           
-00008ce0: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
-00008cf0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00008d00: 6620 6461 7461 2e67 6574 2822 7072 6f6d  f data.get("prom
-00008d10: 7074 5f6e 6567 6174 6976 6522 2920 213d  pt_negative") !=
-00008d20: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
-00008d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008d40: 6d64 5b22 7072 6f6d 7074 5f6e 6567 6174  md["prompt_negat
-00008d50: 6976 6522 5d20 3d20 6461 7461 2e67 6574  ive"] = data.get
-00008d60: 2822 7072 6f6d 7074 5f6e 6567 6174 6976  ("prompt_negativ
-00008d70: 6522 290d 0a20 2020 2020 2020 2020 2020  e")..           
-00008d80: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+00008aa0: 2020 6461 7461 203d 206a 736f 6e2e 6475    data = json.du
+00008ab0: 6d70 7328 7b0d 0a20 2020 2020 2020 2020  mps({..         
+00008ac0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00008ad0: 7072 6f6d 7074 223a 2022 222c 0d0a 2020  prompt": "",..  
+00008ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008af0: 2020 2020 2020 226d 6f64 656c 223a 2022        "model": "
+00008b00: 7072 6f64 6961 222c 0d0a 2020 2020 2020  prodia",..      
+00008b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008b20: 2020 2264 6174 6122 3a20 7b0d 0a20 2020    "data": {..   
+00008b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008b40: 2020 2020 2020 2020 2022 6d6f 6465 6c22           "model"
+00008b50: 3a20 2261 6273 6f6c 7574 6572 6561 6c69  : "absolutereali
+00008b60: 7479 5f56 3136 2e73 6166 6574 656e 736f  ty_V16.safetenso
+00008b70: 7273 205b 3337 6462 3066 6333 5d22 2c0d  rs [37db0fc3]",.
+00008b80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008b90: 2020 2020 2020 2020 2020 2020 2022 7374               "st
+00008ba0: 6570 7322 3a20 3235 2c0d 0a20 2020 2020  eps": 25,..     
+00008bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008bc0: 2020 2020 2020 2022 6366 675f 7363 616c         "cfg_scal
+00008bd0: 6522 3a20 372c 0d0a 2020 2020 2020 2020  e": 7,..        
+00008be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008bf0: 2020 2020 2273 616d 706c 6572 223a 2022      "sampler": "
+00008c00: 4450 4d2b 2b20 324d 204b 6172 7261 7322  DPM++ 2M Karras"
+00008c10: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00008c20: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00008c30: 6e65 6761 7469 7665 5f70 726f 6d70 7422  negative_prompt"
+00008c40: 3a20 2222 0d0a 2020 2020 2020 2020 2020  : ""..          
+00008c50: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
+00008c60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008c70: 2020 2020 207d 290d 0a0d 0a20 2020 2020       })....     
+00008c80: 2020 2020 2020 2020 2020 2072 6573 706f             respo
+00008c90: 6e73 6520 3d20 7265 7175 6573 7473 2e70  nse = requests.p
+00008ca0: 6f73 7428 7572 6c3d 2268 7474 7073 3a2f  ost(url="https:/
+00008cb0: 2f6e 6578 7261 2e61 7279 6168 6372 2e63  /nexra.aryahcr.c
+00008cc0: 632f 6170 692f 696d 6167 652f 636f 6d70  c/api/image/comp
+00008cd0: 6c65 6d65 6e74 7322 2c20 6865 6164 6572  lements", header
+00008ce0: 733d 6865 6164 6572 732c 2064 6174 613d  s=headers, data=
+00008cf0: 6461 7461 290d 0a20 2020 2020 2020 2020  data)..         
+00008d00: 2020 2020 2020 2069 6620 7265 7370 6f6e         if respon
+00008d10: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00008d20: 3d20 3230 303a 0d0a 2020 2020 2020 2020  = 200:..        
+00008d30: 2020 2020 2020 2020 2020 2020 6572 7220              err 
+00008d40: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+00008d50: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+00008d60: 6c74 203d 204e 6f6e 650d 0a0d 0a20 2020  lt = None....   
+00008d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008d80: 2063 6f75 6e74 203d 202d 310d 0a20 2020   count = -1..   
 00008d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008da0: 2020 2020 2020 2020 6d64 5b22 7072 6f6d          md["prom
-00008db0: 7074 5f6e 6567 6174 6976 6522 5d20 3d20  pt_negative"] = 
-00008dc0: 2222 0d0a 0d0a 2020 2020 2020 2020 2020  ""....          
-00008dd0: 2020 2020 2020 2020 2020 6966 2064 6174            if dat
-00008de0: 612e 6765 7428 2277 6964 7468 2229 2021  a.get("width") !
-00008df0: 3d20 4e6f 6e65 3a0d 0a20 2020 2020 2020  = None:..       
-00008e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e10: 206d 645b 2277 6964 7468 225d 203d 2064   md["width"] = d
-00008e20: 6174 612e 6765 7428 2277 6964 7468 2229  ata.get("width")
-00008e30: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00008e40: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00008e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e60: 2020 2020 206d 645b 2277 6964 7468 225d       md["width"]
-00008e70: 203d 2022 220d 0a20 2020 2020 2020 2020   = ""..         
-00008e80: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
-00008e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008ea0: 2069 6620 6461 7461 2e67 6574 2822 6865   if data.get("he
-00008eb0: 6967 6874 2229 2021 3d20 4e6f 6e65 3a0d  ight") != None:.
-00008ec0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008ed0: 2020 2020 2020 2020 206d 645b 2268 6569           md["hei
-00008ee0: 6768 7422 5d20 3d20 6461 7461 2e67 6574  ght"] = data.get
-00008ef0: 2822 6865 6967 6874 2229 0d0a 2020 2020  ("height")..    
-00008f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f10: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
-00008f20: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00008f30: 645b 2268 6569 6768 7422 5d20 3d20 2222  d["height"] = ""
-00008f40: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00008f50: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-00008f60: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
-00008f70: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-00008f80: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-00008f90: 2020 2020 2020 2020 2020 2020 2020 2270                "p
-00008fa0: 726f 6d70 745f 6e65 6761 7469 7665 223a  rompt_negative":
-00008fb0: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
-00008fc0: 2020 2020 2020 2020 2020 2020 2020 226d                "m
-00008fd0: 6f64 656c 223a 2022 6162 736f 6c75 7465  odel": "absolute
-00008fe0: 7265 616c 6974 795f 7631 3831 2e73 6166  reality_v181.saf
-00008ff0: 6574 656e 736f 7273 205b 3364 3964 3464  etensors [3d9d4d
-00009000: 3262 5d22 2c0d 0a20 2020 2020 2020 2020  2b]",..         
-00009010: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00009020: 7361 6d70 6c69 6e67 5f6d 6574 686f 6422  sampling_method"
-00009030: 3a20 2244 504d 2b2b 2032 4d20 4b61 7272  : "DPM++ 2M Karr
-00009040: 6173 222c 0d0a 2020 2020 2020 2020 2020  as",..          
-00009050: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-00009060: 616d 706c 696e 675f 7374 6570 7322 3a20  ampling_steps": 
-00009070: 3235 2c0d 0a20 2020 2020 2020 2020 2020  25,..           
-00009080: 2020 2020 2020 2020 2020 2020 2022 7769               "wi
-00009090: 6474 6822 3a20 3130 3234 2c0d 0a20 2020  dth": 1024,..   
-000090a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000090b0: 2020 2020 2022 6865 6967 6874 223a 2031       "height": 1
-000090c0: 3032 342c 0d0a 2020 2020 2020 2020 2020  024,..          
-000090d0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-000090e0: 6667 5f73 6361 6c65 223a 2037 0d0a 2020  fg_scale": 7..  
-000090f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009100: 2020 7d0d 0a0d 0a20 2020 2020 2020 2020    }....         
-00009110: 2020 2020 2020 2064 6174 6120 3d20 7b7d         data = {}
-00009120: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00009130: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
-00009140: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00009150: 203d 206a 736f 6e2e 6475 6d70 7328 7b0d   = json.dumps({.
-00009160: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009170: 2020 2020 2020 2020 2022 7072 6f6d 7074           "prompt
-00009180: 223a 2070 726f 6d70 742c 0d0a 2020 2020  ": prompt,..    
-00009190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000091a0: 2020 2020 226d 6f64 656c 223a 2022 7072      "model": "pr
-000091b0: 6f64 6961 2d73 7461 626c 6564 6966 6675  odia-stablediffu
-000091c0: 7369 6f6e 2d78 6c22 2c0d 0a20 2020 2020  sion-xl",..     
-000091d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000091e0: 2020 2022 6461 7461 223a 206d 640d 0a20     "data": md.. 
-000091f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009200: 2020 207d 290d 0a20 2020 2020 2020 2020     })..         
-00009210: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-00009220: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
-00009230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009240: 2020 2064 6174 6120 3d20 6a73 6f6e 2e64     data = json.d
-00009250: 756d 7073 287b 0d0a 2020 2020 2020 2020  umps({..        
-00009260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009270: 2270 726f 6d70 7422 3a20 2222 2c0d 0a20  "prompt": "",.. 
-00009280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009290: 2020 2020 2020 2022 6d6f 6465 6c22 3a20         "model": 
-000092a0: 2270 726f 6469 612d 7374 6162 6c65 6469  "prodia-stabledi
-000092b0: 6666 7573 696f 6e2d 786c 222c 0d0a 2020  ffusion-xl",..  
-000092c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000092d0: 2020 2020 2020 2264 6174 6122 3a20 7b0d        "data": {.
-000092e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000092f0: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
-00009300: 6f6d 7074 5f6e 6567 6174 6976 6522 3a20  ompt_negative": 
-00009310: 2222 2c0d 0a20 2020 2020 2020 2020 2020  "",..           
-00009320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009330: 2022 6d6f 6465 6c22 3a20 2261 6273 6f6c   "model": "absol
-00009340: 7574 6572 6561 6c69 7479 5f76 3138 312e  utereality_v181.
-00009350: 7361 6665 7465 6e73 6f72 7320 5b33 6439  safetensors [3d9
-00009360: 6434 6432 625d 222c 0d0a 2020 2020 2020  d4d2b]",..      
+00008da0: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
+00008db0: 6c65 6e28 7265 7370 6f6e 7365 2e74 6578  len(response.tex
+00008dc0: 7429 293a 0d0a 2020 2020 2020 2020 2020  t)):..          
+00008dd0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00008de0: 2063 6f75 6e74 203c 3d20 2d31 3a0d 0a20   count <= -1:.. 
+00008df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008e00: 2020 2020 2020 2020 2020 2069 6620 7265             if re
+00008e10: 7370 6f6e 7365 2e74 6578 745b 695d 203d  sponse.text[i] =
+00008e20: 3d20 227b 223a 0d0a 2020 2020 2020 2020  = "{":..        
+00008e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008e40: 2020 2020 2020 2020 636f 756e 7420 3d20          count = 
+00008e50: 690d 0a20 2020 2020 2020 2020 2020 2020  i..             
+00008e60: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00008e70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00008e80: 2020 2020 2020 2020 2020 2020 2020 6272                br
+00008e90: 6561 6b0d 0a20 2020 2020 2020 2020 2020  eak..           
+00008ea0: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
+00008eb0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00008ec0: 6620 636f 756e 7420 3c3d 202d 313a 0d0a  f count <= -1:..
+00008ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008ee0: 2020 2020 2020 2020 6572 7220 3d20 7b0d          err = {.
+00008ef0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008f00: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+00008f10: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
+00008f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008f30: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
+00008f40: 2046 616c 7365 2c0d 0a20 2020 2020 2020   False,..       
+00008f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008f60: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
+00008f70: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
+00008f80: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
+00008f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008fa0: 2020 2020 226d 6573 7361 6765 223a 2022      "message": "
+00008fb0: 6765 6e65 7261 6c20 2875 6e6b 6e6f 776e  general (unknown
+00008fc0: 2920 6572 726f 7222 0d0a 2020 2020 2020  ) error"..      
+00008fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008fe0: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
+00008ff0: 2020 2020 2020 2020 2020 2020 2072 6573               res
+00009000: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
+00009010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009020: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+00009030: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00009040: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
+00009050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009060: 206a 7320 3d20 7265 7370 6f6e 7365 2e74   js = response.t
+00009070: 6578 745b 636f 756e 743a 5d0d 0a20 2020  ext[count:]..   
+00009080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009090: 2020 2020 2020 2020 206a 7320 3d20 6a73           js = js
+000090a0: 6f6e 2e6c 6f61 6473 286a 7329 0d0a 2020  on.loads(js)..  
+000090b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000090c0: 2020 2020 2020 2020 2020 6966 206a 7320            if js 
+000090d0: 213d 204e 6f6e 6520 616e 6420 6a73 5b22  != None and js["
+000090e0: 636f 6465 225d 2021 3d20 4e6f 6e65 2061  code"] != None a
+000090f0: 6e64 206a 735b 2263 6f64 6522 5d20 3d3d  nd js["code"] ==
+00009100: 2032 3030 2061 6e64 206a 735b 2273 7461   200 and js["sta
+00009110: 7475 7322 5d20 213d 204e 6f6e 6520 616e  tus"] != None an
+00009120: 6420 6a73 5b22 7374 6174 7573 225d 203d  d js["status"] =
+00009130: 3d20 5472 7565 3a0d 0a20 2020 2020 2020  = True:..       
+00009140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009150: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+00009160: 3d20 6a73 0d0a 2020 2020 2020 2020 2020  = js..          
+00009170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009180: 2020 2020 2020 6572 7220 3d20 4e6f 6e65        err = None
+00009190: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000091a0: 2020 2020 2020 2020 2020 2020 2020 656c                el
+000091b0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+000091c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000091d0: 2020 2020 2065 7272 203d 206a 730d 0a20       err = js.. 
+000091e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000091f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00009200: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
+00009210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009220: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+00009230: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
+00009240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009250: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
+00009260: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00009270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009280: 2020 2022 636f 6465 223a 2035 3030 2c0d     "code": 500,.
+00009290: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000092a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000092b0: 2022 7374 6174 7573 223a 2046 616c 7365   "status": False
+000092c0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000092d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000092e0: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
+000092f0: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
+00009300: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
+00009310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009320: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
+00009330: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
+00009340: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
+00009350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009360: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
 00009370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009380: 2020 2020 2020 2273 616d 706c 696e 675f        "sampling_
-00009390: 6d65 7468 6f64 223a 2022 4450 4d2b 2b20  method": "DPM++ 
-000093a0: 324d 204b 6172 7261 7322 2c0d 0a20 2020  2M Karras",..   
-000093b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000093c0: 2020 2020 2020 2020 2022 7361 6d70 6c69           "sampli
-000093d0: 6e67 5f73 7465 7073 223a 2032 352c 0d0a  ng_steps": 25,..
+00009380: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+00009390: 4e6f 6e65 0d0a 0d0a 2020 2020 2020 2020  None....        
+000093a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000093b0: 6966 2072 6573 756c 7420 3d3d 204e 6f6e  if result == Non
+000093c0: 6520 616e 6420 6572 7220 213d 204e 6f6e  e and err != Non
+000093d0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
 000093e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000093f0: 2020 2020 2020 2020 2020 2020 2277 6964              "wid
-00009400: 7468 223a 2031 3032 342c 0d0a 2020 2020  th": 1024,..    
-00009410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009420: 2020 2020 2020 2020 2268 6569 6768 7422          "height"
-00009430: 3a20 3130 3234 2c0d 0a20 2020 2020 2020  : 1024,..       
-00009440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009450: 2020 2020 2022 6366 675f 7363 616c 6522       "cfg_scale"
-00009460: 3a20 370d 0a20 2020 2020 2020 2020 2020  : 7..           
-00009470: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
-00009480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009490: 2020 2020 7d29 0d0a 0d0a 2020 2020 2020      })....      
-000094a0: 2020 2020 2020 2020 2020 7265 7370 6f6e            respon
-000094b0: 7365 203d 2072 6571 7565 7374 732e 706f  se = requests.po
-000094c0: 7374 2875 726c 3d22 6874 7470 733a 2f2f  st(url="https://
-000094d0: 6e65 7872 612e 6172 7961 6863 722e 6363  nexra.aryahcr.cc
-000094e0: 2f61 7069 2f69 6d61 6765 2f63 6f6d 706c  /api/image/compl
-000094f0: 656d 656e 7473 222c 2068 6561 6465 7273  ements", headers
-00009500: 3d68 6561 6465 7273 2c20 6461 7461 3d64  =headers, data=d
-00009510: 6174 6129 0d0a 2020 2020 2020 2020 2020  ata)..          
-00009520: 2020 2020 2020 6966 2072 6573 706f 6e73        if respons
-00009530: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00009540: 2032 3030 3a0d 0a20 2020 2020 2020 2020   200:..         
-00009550: 2020 2020 2020 2020 2020 2065 7272 203d             err =
-00009560: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
-00009570: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-00009580: 7420 3d20 4e6f 6e65 0d0a 0d0a 2020 2020  t = None....    
-00009590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000095a0: 636f 756e 7420 3d20 2d31 0d0a 2020 2020  count = -1..    
-000095b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000095c0: 666f 7220 6920 696e 2072 616e 6765 286c  for i in range(l
-000095d0: 656e 2872 6573 706f 6e73 652e 7465 7874  en(response.text
-000095e0: 2929 3a0d 0a20 2020 2020 2020 2020 2020  )):..           
-000095f0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00009600: 636f 756e 7420 3c3d 202d 313a 0d0a 2020  count <= -1:..  
-00009610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009620: 2020 2020 2020 2020 2020 6966 2072 6573            if res
-00009630: 706f 6e73 652e 7465 7874 5b69 5d20 3d3d  ponse.text[i] ==
-00009640: 2022 7b22 3a0d 0a20 2020 2020 2020 2020   "{":..         
-00009650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009660: 2020 2020 2020 2063 6f75 6e74 203d 2069         count = i
-00009670: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00009680: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-00009690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000096a0: 2020 2020 2020 2020 2020 2020 2062 7265               bre
-000096b0: 616b 0d0a 2020 2020 2020 2020 2020 2020  ak..            
-000096c0: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
-000096d0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-000096e0: 2063 6f75 6e74 203c 3d20 2d31 3a0d 0a20   count <= -1:.. 
-000096f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009700: 2020 2020 2020 2065 7272 203d 207b 0d0a         err = {..
-00009710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009720: 2020 2020 2020 2020 2020 2020 2263 6f64              "cod
-00009730: 6522 3a20 3530 302c 0d0a 2020 2020 2020  e": 500,..      
-00009740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009750: 2020 2020 2020 2273 7461 7475 7322 3a20        "status": 
-00009760: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
-00009770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009780: 2020 2020 2265 7272 6f72 223a 2022 494e      "error": "IN
-00009790: 5445 524e 414c 5f53 4552 5645 525f 4552  TERNAL_SERVER_ER
-000097a0: 524f 5222 2c0d 0a20 2020 2020 2020 2020  ROR",..         
-000097b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000097c0: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
-000097d0: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
-000097e0: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
+000093f0: 7365 6c66 2e65 7272 6f72 203d 2065 7272  self.error = err
+00009400: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00009410: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00009420: 6c66 2e72 6573 756c 7420 3d20 4e6f 6e65  lf.result = None
+00009430: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00009440: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+00009450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009460: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00009470: 662e 7265 7375 6c74 203d 2072 6573 756c  f.result = resul
+00009480: 740d 0a20 2020 2020 2020 2020 2020 2020  t..             
+00009490: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000094a0: 656c 662e 6572 726f 7220 3d20 4e6f 6e65  elf.error = None
+000094b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000094c0: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+000094d0: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+000094e0: 615f 6572 7220 3d20 7b7d 0d0a 2020 2020  a_err = {}..    
+000094f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009500: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
+00009510: 2020 2020 2020 2020 2020 2020 2020 6461                da
+00009520: 7461 5f65 7272 203d 206a 736f 6e2e 6c6f  ta_err = json.lo
+00009530: 6164 7328 7265 7370 6f6e 7365 2e74 6578  ads(response.tex
+00009540: 7429 0d0a 2020 2020 2020 2020 2020 2020  t)..            
+00009550: 2020 2020 2020 2020 6578 6365 7074 2045          except E
+00009560: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
+00009570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009580: 2020 2020 2020 2020 6461 7461 5f65 7272          data_err
+00009590: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+000095a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000095b0: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
+000095c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000095d0: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
+000095e0: 7475 7322 3a20 4661 6c73 652c 0d0a 2020  tus": False,..  
+000095f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009600: 2020 2020 2020 2020 2020 2265 7272 6f72            "error
+00009610: 223a 2022 494e 5445 524e 414c 5f53 4552  ": "INTERNAL_SER
+00009620: 5645 525f 4552 524f 5222 2c0d 0a20 2020  VER_ERROR",..   
+00009630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009640: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
+00009650: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
+00009660: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
+00009670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009680: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
+00009690: 2020 2020 2020 2020 2020 2020 2020 0d0a                ..
+000096a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000096b0: 2020 2020 7365 6c66 2e65 7272 6f72 203d      self.error =
+000096c0: 2064 6174 615f 6572 720d 0a20 2020 2020   data_err..     
+000096d0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000096e0: 656c 662e 7265 7375 6c74 203d 204e 6f6e  elf.result = Non
+000096f0: 650d 0a20 2020 2020 2020 2020 2020 2065  e..            e
+00009700: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
+00009710: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
+00009720: 2020 2020 2020 2073 656c 662e 6572 726f         self.erro
+00009730: 7220 3d20 7b0d 0a20 2020 2020 2020 2020  r = {..         
+00009740: 2020 2020 2020 2020 2020 2022 636f 6465             "code
+00009750: 223a 2035 3030 2c0d 0a20 2020 2020 2020  ": 500,..       
+00009760: 2020 2020 2020 2020 2020 2020 2022 7374               "st
+00009770: 6174 7573 223a 2046 616c 7365 2c0d 0a20  atus": False,.. 
+00009780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009790: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
+000097a0: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
+000097b0: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
+000097c0: 2020 2020 2020 2020 2020 226d 6573 7361            "messa
+000097d0: 6765 223a 2022 6765 6e65 7261 6c20 2875  ge": "general (u
+000097e0: 6e6b 6e6f 776e 2920 6572 726f 7222 0d0a  nknown) error"..
 000097f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009800: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
-00009810: 2020 2020 2020 2020 2020 2020 7265 7375              resu
-00009820: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
-00009830: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00009840: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-00009850: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-00009860: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
-00009870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009880: 6a73 203d 2072 6573 706f 6e73 652e 7465  js = response.te
-00009890: 7874 5b63 6f75 6e74 3a5d 0d0a 2020 2020  xt[count:]..    
-000098a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000098b0: 2020 2020 2020 2020 6a73 203d 206a 736f          js = jso
-000098c0: 6e2e 6c6f 6164 7328 6a73 290d 0a20 2020  n.loads(js)..   
-000098d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000098e0: 2020 2020 2020 2020 2069 6620 6a73 2021           if js !
-000098f0: 3d20 4e6f 6e65 2061 6e64 206a 735b 2263  = None and js["c
-00009900: 6f64 6522 5d20 213d 204e 6f6e 6520 616e  ode"] != None an
-00009910: 6420 6a73 5b22 636f 6465 225d 203d 3d20  d js["code"] == 
-00009920: 3230 3020 616e 6420 6a73 5b22 7374 6174  200 and js["stat
-00009930: 7573 225d 2021 3d20 4e6f 6e65 2061 6e64  us"] != None and
-00009940: 206a 735b 2273 7461 7475 7322 5d20 3d3d   js["status"] ==
-00009950: 2054 7275 653a 0d0a 2020 2020 2020 2020   True:..        
-00009960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009970: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-00009980: 206a 730d 0a20 2020 2020 2020 2020 2020   js..           
-00009990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000099a0: 2020 2020 2065 7272 203d 204e 6f6e 650d       err = None.
-000099b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000099c0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-000099d0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-000099e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000099f0: 2020 2020 6572 7220 3d20 6a73 0d0a 2020      err = js..  
-00009a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009a10: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00009a20: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
-00009a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009a40: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
-00009a50: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
-00009a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009a70: 2020 2020 2020 2020 2065 7272 203d 207b           err = {
-00009a80: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00009a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009aa0: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
-00009ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009ad0: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
-00009ae0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00009af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009b00: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
-00009b10: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
-00009b20: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
-00009b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009b40: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
-00009b50: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
-00009b60: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
-00009b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009b80: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
-00009b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009ba0: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
-00009bb0: 6f6e 650d 0a0d 0a20 2020 2020 2020 2020  one....         
-00009bc0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00009bd0: 6620 7265 7375 6c74 203d 3d20 4e6f 6e65  f result == None
-00009be0: 2061 6e64 2065 7272 2021 3d20 4e6f 6e65   and err != None
-00009bf0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00009c00: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00009c10: 656c 662e 6572 726f 7220 3d20 6572 720d  elf.error = err.
-00009c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009c30: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00009c40: 662e 7265 7375 6c74 203d 204e 6f6e 650d  f.result = None.
-00009c50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009c60: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+00009800: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
+00009810: 2020 2073 656c 662e 7265 7375 6c74 203d     self.result =
+00009820: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+00009830: 2020 2070 6173 730d 0a20 2020 2020 2020     pass..       
+00009840: 2064 6566 2065 7272 6f72 2873 656c 6629   def error(self)
+00009850: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00009860: 6574 7572 6e20 7365 6c66 2e65 7272 6f72  eturn self.error
+00009870: 0d0a 2020 2020 2020 2020 6465 6620 7265  ..        def re
+00009880: 7375 6c74 2873 656c 6629 3a0d 0a20 2020  sult(self):..   
+00009890: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+000098a0: 7365 6c66 2e72 6573 756c 740d 0a20 2020  self.result..   
+000098b0: 2063 6c61 7373 2073 7461 626c 6564 6966   class stabledif
+000098c0: 6675 7369 6f6e 2829 3a0d 0a20 2020 2020  fusion():..     
+000098d0: 2020 2065 7272 6f72 203d 204e 6f6e 650d     error = None.
+000098e0: 0a20 2020 2020 2020 2072 6573 756c 7420  .        result 
+000098f0: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+00009900: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
+00009910: 662c 2070 726f 6d70 743d 2222 2c20 6461  f, prompt="", da
+00009920: 7461 3d7b 0d0a 2020 2020 2020 2020 2020  ta={..          
+00009930: 2020 2270 726f 6d70 745f 6e65 6761 7469    "prompt_negati
+00009940: 7665 223a 2022 222c 0d0a 2020 2020 2020  ve": "",..      
+00009950: 2020 2020 2020 226d 6f64 656c 223a 2022        "model": "
+00009960: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+00009970: 2273 616d 706c 696e 675f 6d65 7468 6f64  "sampling_method
+00009980: 223a 2022 222c 0d0a 2020 2020 2020 2020  ": "",..        
+00009990: 2020 2020 2273 616d 706c 696e 675f 7374      "sampling_st
+000099a0: 6570 7322 3a20 2222 2c0d 0a20 2020 2020  eps": "",..     
+000099b0: 2020 2020 2020 2022 7769 6474 6822 3a20         "width": 
+000099c0: 2222 2c0d 0a20 2020 2020 2020 2020 2020  "",..           
+000099d0: 2022 6865 6967 6874 223a 2022 222c 0d0a   "height": "",..
+000099e0: 2020 2020 2020 2020 2020 2020 2263 6667              "cfg
+000099f0: 5f73 6361 6c65 223a 2022 220d 0a20 2020  _scale": ""..   
+00009a00: 2020 2020 207d 2920 2d3e 204e 6f6e 653a       }) -> None:
+00009a10: 0d0a 2020 2020 2020 2020 2020 2020 7472  ..            tr
+00009a20: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
+00009a30: 2020 2020 6865 6164 6572 7320 3d20 7b0d      headers = {.
+00009a40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009a50: 2020 2020 2022 436f 6e74 656e 742d 5479       "Content-Ty
+00009a60: 7065 223a 2022 6170 706c 6963 6174 696f  pe": "applicatio
+00009a70: 6e2f 6a73 6f6e 220d 0a20 2020 2020 2020  n/json"..       
+00009a80: 2020 2020 2020 2020 207d 0d0a 0d0a 2020           }....  
+00009a90: 2020 2020 2020 2020 2020 2020 2020 7472                tr
+00009aa0: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
+00009ab0: 2020 2020 2020 2020 7072 6f6d 7074 203d          prompt =
+00009ac0: 2070 726f 6d70 7420 6966 2070 726f 6d70   prompt if promp
+00009ad0: 7420 6973 206e 6f74 204e 6f6e 6520 656c  t is not None el
+00009ae0: 7365 2022 220d 0a20 2020 2020 2020 2020  se ""..         
+00009af0: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
+00009b00: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
+00009b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009b20: 2020 2070 726f 6d70 7420 3d20 2222 0d0a     prompt = ""..
+00009b30: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00009b40: 2020 6d64 203d 207b 0d0a 2020 2020 2020    md = {..      
+00009b50: 2020 2020 2020 2020 2020 2020 2020 2270                "p
+00009b60: 726f 6d70 745f 6e65 6761 7469 7665 223a  rompt_negative":
+00009b70: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
+00009b80: 2020 2020 2020 2020 2020 226d 6f64 656c            "model
+00009b90: 223a 2022 6162 736f 6c75 7465 7265 616c  ": "absolutereal
+00009ba0: 6974 795f 7631 3831 2e73 6166 6574 656e  ity_v181.safeten
+00009bb0: 736f 7273 205b 3364 3964 3464 3262 5d22  sors [3d9d4d2b]"
+00009bc0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00009bd0: 2020 2020 2020 2022 7361 6d70 6c69 6e67         "sampling
+00009be0: 5f6d 6574 686f 6422 3a20 2244 504d 2b2b  _method": "DPM++
+00009bf0: 2032 4d20 4b61 7272 6173 222c 0d0a 2020   2M Karras",..  
+00009c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009c10: 2020 2273 616d 706c 696e 675f 7374 6570    "sampling_step
+00009c20: 7322 3a20 3235 2c0d 0a20 2020 2020 2020  s": 25,..       
+00009c30: 2020 2020 2020 2020 2020 2020 2022 7769               "wi
+00009c40: 6474 6822 3a20 3531 322c 0d0a 2020 2020  dth": 512,..    
+00009c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009c60: 2268 6569 6768 7422 3a20 3531 322c 0d0a  "height": 512,..
 00009c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009c80: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00009c90: 2e72 6573 756c 7420 3d20 7265 7375 6c74  .result = result
-00009ca0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00009cb0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00009cc0: 6c66 2e65 7272 6f72 203d 204e 6f6e 650d  lf.error = None.
-00009cd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009ce0: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
-00009cf0: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00009d00: 5f65 7272 203d 207b 7d0d 0a20 2020 2020  _err = {}..     
-00009d10: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00009d20: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
-00009d30: 2020 2020 2020 2020 2020 2020 2064 6174               dat
-00009d40: 615f 6572 7220 3d20 6a73 6f6e 2e6c 6f61  a_err = json.loa
-00009d50: 6473 2872 6573 706f 6e73 652e 7465 7874  ds(response.text
-00009d60: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
-00009d70: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-00009d80: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
-00009d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009da0: 2020 2020 2020 2064 6174 615f 6572 7220         data_err 
-00009db0: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-00009dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009dd0: 2022 636f 6465 223a 2035 3030 2c0d 0a20   "code": 500,.. 
+00009c80: 2020 2020 2263 6667 5f73 6361 6c65 223a      "cfg_scale":
+00009c90: 2037 0d0a 2020 2020 2020 2020 2020 2020   7..            
+00009ca0: 2020 2020 7d0d 0a0d 0a20 2020 2020 2020      }....       
+00009cb0: 2020 2020 2020 2020 2074 7279 203a 0d0a           try :..
+00009cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009cd0: 2020 2020 6966 2064 6174 612e 6765 7428      if data.get(
+00009ce0: 226d 6f64 656c 2229 2021 3d20 4e6f 6e65  "model") != None
+00009cf0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00009d00: 2020 2020 2020 2020 2020 206d 645b 226d             md["m
+00009d10: 6f64 656c 225d 203d 2064 6174 612e 6765  odel"] = data.ge
+00009d20: 7428 226d 6f64 656c 2229 0d0a 2020 2020  t("model")..    
+00009d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009d40: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+00009d50: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00009d60: 645b 226d 6f64 656c 225d 203d 2022 6162  d["model"] = "ab
+00009d70: 736f 6c75 7465 7265 616c 6974 795f 7631  solutereality_v1
+00009d80: 3831 2e73 6166 6574 656e 736f 7273 205b  81.safetensors [
+00009d90: 3364 3964 3464 3262 5d22 0d0a 0d0a 2020  3d9d4d2b]"....  
+00009da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009db0: 2020 6966 2064 6174 612e 6765 7428 2273    if data.get("s
+00009dc0: 616d 706c 696e 675f 7374 6570 7322 2920  ampling_steps") 
+00009dd0: 213d 204e 6f6e 653a 0d0a 2020 2020 2020  != None:..      
 00009de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009df0: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
-00009e00: 7573 223a 2046 616c 7365 2c0d 0a20 2020  us": False,..   
-00009e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009e20: 2020 2020 2020 2020 2022 6572 726f 7222           "error"
-00009e30: 3a20 2249 4e54 4552 4e41 4c5f 5345 5256  : "INTERNAL_SERV
-00009e40: 4552 5f45 5252 4f52 222c 0d0a 2020 2020  ER_ERROR",..    
-00009e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009e60: 2020 2020 2020 2020 226d 6573 7361 6765          "message
-00009e70: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
-00009e80: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
-00009e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009ea0: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
-00009eb0: 2020 2020 2020 2020 2020 2020 200d 0a20               .. 
-00009ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009ed0: 2020 2073 656c 662e 6572 726f 7220 3d20     self.error = 
-00009ee0: 6461 7461 5f65 7272 0d0a 2020 2020 2020  data_err..      
-00009ef0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00009f00: 6c66 2e72 6573 756c 7420 3d20 4e6f 6e65  lf.result = None
-00009f10: 0d0a 2020 2020 2020 2020 2020 2020 6578  ..            ex
-00009f20: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
-00009f30: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
-00009f40: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
-00009f50: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-00009f60: 2020 2020 2020 2020 2020 2263 6f64 6522            "code"
-00009f70: 3a20 3530 302c 0d0a 2020 2020 2020 2020  : 500,..        
-00009f80: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
-00009f90: 7475 7322 3a20 4661 6c73 652c 0d0a 2020  tus": False,..  
-00009fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009fb0: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
-00009fc0: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
-00009fd0: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
-00009fe0: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
-00009ff0: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
-0000a000: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
-0000a010: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-0000a020: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000a030: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
-0000a040: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
-0000a050: 2020 7061 7373 0d0a 2020 2020 2020 2020    pass..        
-0000a060: 6465 6620 6572 726f 7228 7365 6c66 293a  def error(self):
-0000a070: 0d0a 2020 2020 2020 2020 2020 2020 7265  ..            re
-0000a080: 7475 726e 2073 656c 662e 6572 726f 720d  turn self.error.
-0000a090: 0a20 2020 2020 2020 2064 6566 2072 6573  .        def res
-0000a0a0: 756c 7428 7365 6c66 293a 0d0a 2020 2020  ult(self):..    
-0000a0b0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0000a0c0: 656c 662e 7265 7375 6c74 0d0a 0d0a 636c  elf.result....cl
-0000a0d0: 6173 7320 7069 7861 7274 2829 3a0d 0a20  ass pixart():.. 
-0000a0e0: 2020 2063 6c61 7373 2061 2829 3a0d 0a20     class a():.. 
-0000a0f0: 2020 2020 2020 2065 7272 6f72 203d 204e         error = N
-0000a100: 6f6e 650d 0a20 2020 2020 2020 2072 6573  one..        res
-0000a110: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
-0000a120: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-0000a130: 2873 656c 662c 2070 726f 6d70 743d 2222  (self, prompt=""
-0000a140: 2c20 6461 7461 3d7b 0d0a 2020 2020 2020  , data={..      
-0000a150: 2020 2020 2020 2270 726f 6d70 745f 6e65        "prompt_ne
-0000a160: 6761 7469 7665 223a 2022 222c 0d0a 2020  gative": "",..  
-0000a170: 2020 2020 2020 2020 2020 2273 616d 706c            "sampl
-0000a180: 6572 223a 2022 222c 0d0a 2020 2020 2020  er": "",..      
-0000a190: 2020 2020 2020 2269 6d61 6765 5f73 7479        "image_sty
-0000a1a0: 6c65 223a 2022 222c 0d0a 2020 2020 2020  le": "",..      
-0000a1b0: 2020 2020 2020 2277 6964 7468 223a 2022        "width": "
-0000a1c0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-0000a1d0: 2268 6569 6768 7422 3a20 2222 2c0d 0a20  "height": "",.. 
-0000a1e0: 2020 2020 2020 2020 2020 2022 6470 6d5f             "dpm_
-0000a1f0: 6775 6964 616e 6365 5f73 6361 6c65 223a  guidance_scale":
-0000a200: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
-0000a210: 2020 2264 706d 5f69 6e66 6572 656e 6365    "dpm_inference
-0000a220: 5f73 7465 7073 223a 2022 222c 0d0a 2020  _steps": "",..  
-0000a230: 2020 2020 2020 2020 2020 2273 615f 6775            "sa_gu
-0000a240: 6964 616e 6365 5f73 6361 6c65 223a 2022  idance_scale": "
-0000a250: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-0000a260: 2273 615f 696e 6665 7265 6e63 655f 7374  "sa_inference_st
-0000a270: 6570 7322 3a20 2222 0d0a 2020 2020 2020  eps": ""..      
-0000a280: 2020 7d29 202d 3e20 4e6f 6e65 3a0d 0a20    }) -> None:.. 
-0000a290: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
-0000a2a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a2b0: 2068 6561 6465 7273 203d 207b 0d0a 2020   headers = {..  
-0000a2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a2d0: 2020 2243 6f6e 7465 6e74 2d54 7970 6522    "Content-Type"
-0000a2e0: 3a20 2261 7070 6c69 6361 7469 6f6e 2f6a  : "application/j
-0000a2f0: 736f 6e22 0d0a 2020 2020 2020 2020 2020  son"..          
-0000a300: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
-0000a310: 2020 2020 2020 2020 2068 6561 6465 7273           headers
-0000a320: 2e75 7064 6174 6528 6372 6564 290d 0a0d  .update(cred)...
-0000a330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a340: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
-0000a350: 2020 2020 2020 2020 2020 2070 726f 6d70             promp
-0000a360: 7420 3d20 7072 6f6d 7074 2069 6620 7072  t = prompt if pr
-0000a370: 6f6d 7074 2069 7320 6e6f 7420 4e6f 6e65  ompt is not None
-0000a380: 2065 6c73 6520 2222 0d0a 2020 2020 2020   else ""..      
-0000a390: 2020 2020 2020 2020 2020 6578 6365 7074            except
-0000a3a0: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
-0000a3b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000a3c0: 2020 2020 2020 7072 6f6d 7074 203d 2022        prompt = "
-0000a3d0: 220d 0a0d 0a20 2020 2020 2020 2020 2020  "....           
-0000a3e0: 2020 2020 206d 6420 3d20 7b0d 0a20 2020       md = {..   
-0000a3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a400: 2022 7072 6f6d 7074 5f6e 6567 6174 6976   "prompt_negativ
-0000a410: 6522 3a20 2222 2c0d 0a20 2020 2020 2020  e": "",..       
-0000a420: 2020 2020 2020 2020 2020 2020 2022 7361               "sa
-0000a430: 6d70 6c65 7222 3a20 2244 504d 2d53 6f6c  mpler": "DPM-Sol
-0000a440: 7665 7222 2c0d 0a20 2020 2020 2020 2020  ver",..         
-0000a450: 2020 2020 2020 2020 2020 2022 696d 6167             "imag
-0000a460: 655f 7374 796c 6522 3a20 2228 4e6f 2073  e_style": "(No s
-0000a470: 7479 6c65 2922 2c0d 0a20 2020 2020 2020  tyle)",..       
-0000a480: 2020 2020 2020 2020 2020 2020 2022 7769               "wi
-0000a490: 6474 6822 3a20 3130 3234 2c0d 0a20 2020  dth": 1024,..   
-0000a4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a4b0: 2022 6865 6967 6874 223a 2031 3032 342c   "height": 1024,
-0000a4c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000a4d0: 2020 2020 2020 2264 706d 5f67 7569 6461        "dpm_guida
-0000a4e0: 6e63 655f 7363 616c 6522 3a20 342e 352c  nce_scale": 4.5,
-0000a4f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000a500: 2020 2020 2020 2264 706d 5f69 6e66 6572        "dpm_infer
-0000a510: 656e 6365 5f73 7465 7073 223a 2031 342c  ence_steps": 14,
-0000a520: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000a530: 2020 2020 2020 2273 615f 6775 6964 616e        "sa_guidan
-0000a540: 6365 5f73 6361 6c65 223a 2033 2c0d 0a20  ce_scale": 3,.. 
-0000a550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a560: 2020 2022 7361 5f69 6e66 6572 656e 6365     "sa_inference
-0000a570: 5f73 7465 7073 223a 2032 350d 0a20 2020  _steps": 25..   
-0000a580: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
-0000a590: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000a5a0: 2020 7472 7920 3a0d 0a20 2020 2020 2020    try :..       
-0000a5b0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000a5c0: 6461 7461 2e67 6574 2822 7361 6d70 6c65  data.get("sample
-0000a5d0: 7222 2920 213d 204e 6f6e 653a 0d0a 2020  r") != None:..  
-0000a5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a5f0: 2020 2020 2020 6d64 5b22 7361 6d70 6c65        md["sample
-0000a600: 7222 5d20 3d20 6461 7461 2e67 6574 2822  r"] = data.get("
-0000a610: 7361 6d70 6c65 7222 290d 0a20 2020 2020  sampler")..     
-0000a620: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0000a630: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-0000a640: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-0000a650: 5b22 7361 6d70 6c65 7222 5d20 3d20 2244  ["sampler"] = "D
-0000a660: 504d 2d53 6f6c 7665 7222 0d0a 0d0a 2020  PM-Solver"....  
-0000a670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a680: 2020 6966 2064 6174 612e 6765 7428 2268    if data.get("h
-0000a690: 6569 6768 7422 2920 213d 204e 6f6e 653a  eight") != None:
-0000a6a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000a6b0: 2020 2020 2020 2020 2020 6d64 5b22 6865            md["he
-0000a6c0: 6967 6874 225d 203d 2064 6174 612e 6765  ight"] = data.ge
-0000a6d0: 7428 2268 6569 6768 7422 290d 0a20 2020  t("height")..   
-0000a6e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a6f0: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
-0000a700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a710: 6d64 5b22 6865 6967 6874 225d 203d 2031  md["height"] = 1
-0000a720: 3032 340d 0a0d 0a20 2020 2020 2020 2020  024....         
-0000a730: 2020 2020 2020 2020 2020 2069 6620 6461             if da
-0000a740: 7461 2e67 6574 2822 7769 6474 6822 2920  ta.get("width") 
-0000a750: 213d 204e 6f6e 653a 0d0a 2020 2020 2020  != None:..      
-0000a760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a770: 2020 6d64 5b22 7769 6474 6822 5d20 3d20    md["width"] = 
-0000a780: 6461 7461 2e67 6574 2822 7769 6474 6822  data.get("width"
-0000a790: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
-0000a7a0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
-0000a7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a7c0: 2020 2020 2020 6d64 5b22 7769 6474 6822        md["width"
-0000a7d0: 5d20 3d20 3130 3234 0d0a 0d0a 2020 2020  ] = 1024....    
-0000a7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a7f0: 6966 2064 6174 612e 6765 7428 2269 6d61  if data.get("ima
-0000a800: 6765 5f73 7479 6c65 2229 2021 3d20 4e6f  ge_style") != No
-0000a810: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
-0000a820: 2020 2020 2020 2020 2020 2020 206d 645b               md[
-0000a830: 2269 6d61 6765 5f73 7479 6c65 225d 203d  "image_style"] =
-0000a840: 2064 6174 612e 6765 7428 2269 6d61 6765   data.get("image
-0000a850: 5f73 7479 6c65 2229 0d0a 2020 2020 2020  _style")..      
-0000a860: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0000a870: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-0000a880: 2020 2020 2020 2020 2020 2020 206d 645b               md[
-0000a890: 2269 6d61 6765 5f73 7479 6c65 225d 203d  "image_style"] =
-0000a8a0: 2022 284e 6f20 7374 796c 6529 220d 0a20   "(No style)".. 
-0000a8b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a8c0: 2020 200d 0a20 2020 2020 2020 2020 2020     ..           
-0000a8d0: 2020 2020 2020 2020 2069 6620 6461 7461           if data
-0000a8e0: 2e67 6574 2822 7072 6f6d 7074 5f6e 6567  .get("prompt_neg
-0000a8f0: 6174 6976 6522 2920 213d 204e 6f6e 653a  ative") != None:
-0000a900: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000a910: 2020 2020 2020 2020 2020 6d64 5b22 7072            md["pr
-0000a920: 6f6d 7074 5f6e 6567 6174 6976 6522 5d20  ompt_negative"] 
-0000a930: 3d20 6461 7461 2e67 6574 2822 7072 6f6d  = data.get("prom
-0000a940: 7074 5f6e 6567 6174 6976 6522 290d 0a20  pt_negative").. 
+00009df0: 2020 6d64 5b22 7361 6d70 6c69 6e67 5f73    md["sampling_s
+00009e00: 7465 7073 225d 203d 2064 6174 612e 6765  teps"] = data.ge
+00009e10: 7428 2273 616d 706c 696e 675f 7374 6570  t("sampling_step
+00009e20: 7322 290d 0a20 2020 2020 2020 2020 2020  s")..           
+00009e30: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+00009e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009e50: 2020 2020 2020 2020 6d64 5b22 7361 6d70          md["samp
+00009e60: 6c69 6e67 5f73 7465 7073 225d 203d 2032  ling_steps"] = 2
+00009e70: 350d 0a0d 0a20 2020 2020 2020 2020 2020  5....           
+00009e80: 2020 2020 2020 2020 2069 6620 6461 7461           if data
+00009e90: 2e67 6574 2822 6366 675f 7363 616c 6522  .get("cfg_scale"
+00009ea0: 2920 213d 204e 6f6e 653a 0d0a 2020 2020  ) != None:..    
+00009eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009ec0: 2020 2020 6d64 5b22 6366 675f 7363 616c      md["cfg_scal
+00009ed0: 6522 5d20 3d20 6461 7461 2e67 6574 2822  e"] = data.get("
+00009ee0: 6366 675f 7363 616c 6522 290d 0a20 2020  cfg_scale")..   
+00009ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009f00: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+00009f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009f20: 6d64 5b22 6366 675f 7363 616c 6522 5d20  md["cfg_scale"] 
+00009f30: 3d20 370d 0a0d 0a20 2020 2020 2020 2020  = 7....         
+00009f40: 2020 2020 2020 2020 2020 2069 6620 6461             if da
+00009f50: 7461 2e67 6574 2822 7361 6d70 6c69 6e67  ta.get("sampling
+00009f60: 5f6d 6574 686f 6422 2920 213d 204e 6f6e  _method") != Non
+00009f70: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00009f80: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
+00009f90: 7361 6d70 6c69 6e67 5f6d 6574 686f 6422  sampling_method"
+00009fa0: 5d20 3d20 6461 7461 2e67 6574 2822 7361  ] = data.get("sa
+00009fb0: 6d70 6c69 6e67 5f6d 6574 686f 6422 290d  mpling_method").
+00009fc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009fd0: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
+00009fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009ff0: 2020 2020 6d64 5b22 7361 6d70 6c69 6e67      md["sampling
+0000a000: 5f6d 6574 686f 6422 5d20 3d20 2244 504d  _method"] = "DPM
+0000a010: 2b2b 2032 4d20 4b61 7272 6173 220d 0a20  ++ 2M Karras".. 
+0000a020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a030: 2020 200d 0a20 2020 2020 2020 2020 2020     ..           
+0000a040: 2020 2020 2020 2020 2069 6620 6461 7461           if data
+0000a050: 2e67 6574 2822 7072 6f6d 7074 5f6e 6567  .get("prompt_neg
+0000a060: 6174 6976 6522 2920 213d 204e 6f6e 653a  ative") != None:
+0000a070: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000a080: 2020 2020 2020 2020 2020 6d64 5b22 7072            md["pr
+0000a090: 6f6d 7074 5f6e 6567 6174 6976 6522 5d20  ompt_negative"] 
+0000a0a0: 3d20 6461 7461 2e67 6574 2822 7072 6f6d  = data.get("prom
+0000a0b0: 7074 5f6e 6567 6174 6976 6522 290d 0a20  pt_negative").. 
+0000a0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a0d0: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+0000a0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a0f0: 2020 6d64 5b22 7072 6f6d 7074 5f6e 6567    md["prompt_neg
+0000a100: 6174 6976 6522 5d20 3d20 2222 0d0a 0d0a  ative"] = ""....
+0000a110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a120: 2020 2020 6966 2064 6174 612e 6765 7428      if data.get(
+0000a130: 2277 6964 7468 2229 2021 3d20 4e6f 6e65  "width") != None
+0000a140: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+0000a150: 2020 2020 2020 2020 2020 206d 645b 2277             md["w
+0000a160: 6964 7468 225d 203d 2064 6174 612e 6765  idth"] = data.ge
+0000a170: 7428 2277 6964 7468 2229 0d0a 2020 2020  t("width")..    
+0000a180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a190: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+0000a1a0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+0000a1b0: 645b 2277 6964 7468 225d 203d 2022 220d  d["width"] = "".
+0000a1c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a1d0: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
+0000a1e0: 2020 2020 2020 2020 2020 2069 6620 6461             if da
+0000a1f0: 7461 2e67 6574 2822 6865 6967 6874 2229  ta.get("height")
+0000a200: 2021 3d20 4e6f 6e65 3a0d 0a20 2020 2020   != None:..     
+0000a210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a220: 2020 206d 645b 2268 6569 6768 7422 5d20     md["height"] 
+0000a230: 3d20 6461 7461 2e67 6574 2822 6865 6967  = data.get("heig
+0000a240: 6874 2229 0d0a 2020 2020 2020 2020 2020  ht")..          
+0000a250: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+0000a260: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a270: 2020 2020 2020 2020 206d 645b 2268 6569           md["hei
+0000a280: 6768 7422 5d20 3d20 2222 0d0a 2020 2020  ght"] = ""..    
+0000a290: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+0000a2a0: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
+0000a2b0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0000a2c0: 2020 2020 2020 2020 6d64 203d 207b 0d0a          md = {..
+0000a2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a2e0: 2020 2020 2020 2020 2270 726f 6d70 745f          "prompt_
+0000a2f0: 6e65 6761 7469 7665 223a 2022 222c 0d0a  negative": "",..
+0000a300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a310: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
+0000a320: 2022 6162 736f 6c75 7465 7265 616c 6974   "absoluterealit
+0000a330: 795f 7631 3831 2e73 6166 6574 656e 736f  y_v181.safetenso
+0000a340: 7273 205b 3364 3964 3464 3262 5d22 2c0d  rs [3d9d4d2b]",.
+0000a350: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a360: 2020 2020 2020 2020 2022 7361 6d70 6c69           "sampli
+0000a370: 6e67 5f6d 6574 686f 6422 3a20 2244 504d  ng_method": "DPM
+0000a380: 2b2b 2032 4d20 4b61 7272 6173 222c 0d0a  ++ 2M Karras",..
+0000a390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a3a0: 2020 2020 2020 2020 2273 616d 706c 696e          "samplin
+0000a3b0: 675f 7374 6570 7322 3a20 3235 2c0d 0a20  g_steps": 25,.. 
+0000a3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a3d0: 2020 2020 2020 2022 7769 6474 6822 3a20         "width": 
+0000a3e0: 3531 322c 0d0a 2020 2020 2020 2020 2020  512,..          
+0000a3f0: 2020 2020 2020 2020 2020 2020 2020 2268                "h
+0000a400: 6569 6768 7422 3a20 3531 322c 0d0a 2020  eight": 512,..  
+0000a410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a420: 2020 2020 2020 2263 6667 5f73 6361 6c65        "cfg_scale
+0000a430: 223a 2037 0d0a 2020 2020 2020 2020 2020  ": 7..          
+0000a440: 2020 2020 2020 2020 2020 7d0d 0a0d 0a20            }.... 
+0000a450: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+0000a460: 6174 6120 3d20 7b7d 0d0a 2020 2020 2020  ata = {}..      
+0000a470: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
+0000a480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a490: 2020 2020 6461 7461 203d 206a 736f 6e2e      data = json.
+0000a4a0: 6475 6d70 7328 7b0d 0a20 2020 2020 2020  dumps({..       
+0000a4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a4c0: 2022 7072 6f6d 7074 223a 2070 726f 6d70   "prompt": promp
+0000a4d0: 742c 0d0a 2020 2020 2020 2020 2020 2020  t,..            
+0000a4e0: 2020 2020 2020 2020 2020 2020 226d 6f64              "mod
+0000a4f0: 656c 223a 2022 7072 6f64 6961 2d73 7461  el": "prodia-sta
+0000a500: 626c 6564 6966 6675 7369 6f6e 222c 0d0a  blediffusion",..
+0000a510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a520: 2020 2020 2020 2020 2264 6174 6122 3a20          "data": 
+0000a530: 6d64 0d0a 2020 2020 2020 2020 2020 2020  md..            
+0000a540: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
+0000a550: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+0000a560: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
+0000a570: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0000a580: 2020 2020 2020 2020 6461 7461 203d 206a          data = j
+0000a590: 736f 6e2e 6475 6d70 7328 7b0d 0a20 2020  son.dumps({..   
+0000a5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a5b0: 2020 2020 2022 7072 6f6d 7074 223a 2022       "prompt": "
+0000a5c0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+0000a5d0: 2020 2020 2020 2020 2020 2020 226d 6f64              "mod
+0000a5e0: 656c 223a 2022 7072 6f64 6961 2d73 7461  el": "prodia-sta
+0000a5f0: 626c 6564 6966 6675 7369 6f6e 222c 0d0a  blediffusion",..
+0000a600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a610: 2020 2020 2020 2020 2264 6174 6122 3a20          "data": 
+0000a620: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+0000a630: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000a640: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
+0000a650: 3a20 2222 2c0d 0a20 2020 2020 2020 2020  : "",..         
+0000a660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a670: 2020 2022 6d6f 6465 6c22 3a20 2261 6273     "model": "abs
+0000a680: 6f6c 7574 6572 6561 6c69 7479 5f76 3138  olutereality_v18
+0000a690: 312e 7361 6665 7465 6e73 6f72 7320 5b33  1.safetensors [3
+0000a6a0: 6439 6434 6432 625d 222c 0d0a 2020 2020  d9d4d2b]",..    
+0000a6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a6c0: 2020 2020 2020 2020 2273 616d 706c 696e          "samplin
+0000a6d0: 675f 6d65 7468 6f64 223a 2022 4450 4d2b  g_method": "DPM+
+0000a6e0: 2b20 324d 204b 6172 7261 7322 2c0d 0a20  + 2M Karras",.. 
+0000a6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a700: 2020 2020 2020 2020 2020 2022 7361 6d70             "samp
+0000a710: 6c69 6e67 5f73 7465 7073 223a 2032 352c  ling_steps": 25,
+0000a720: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000a730: 2020 2020 2020 2020 2020 2020 2020 2277                "w
+0000a740: 6964 7468 223a 2035 3132 2c0d 0a20 2020  idth": 512,..   
+0000a750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a760: 2020 2020 2020 2020 2022 6865 6967 6874           "height
+0000a770: 223a 2035 3132 2c0d 0a20 2020 2020 2020  ": 512,..       
+0000a780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a790: 2020 2020 2022 6366 675f 7363 616c 6522       "cfg_scale"
+0000a7a0: 3a20 370d 0a20 2020 2020 2020 2020 2020  : 7..           
+0000a7b0: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
+0000a7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a7d0: 2020 2020 7d29 0d0a 0d0a 2020 2020 2020      })....      
+0000a7e0: 2020 2020 2020 2020 2020 7265 7370 6f6e            respon
+0000a7f0: 7365 203d 2072 6571 7565 7374 732e 706f  se = requests.po
+0000a800: 7374 2875 726c 3d22 6874 7470 733a 2f2f  st(url="https://
+0000a810: 6e65 7872 612e 6172 7961 6863 722e 6363  nexra.aryahcr.cc
+0000a820: 2f61 7069 2f69 6d61 6765 2f63 6f6d 706c  /api/image/compl
+0000a830: 656d 656e 7473 222c 2068 6561 6465 7273  ements", headers
+0000a840: 3d68 6561 6465 7273 2c20 6461 7461 3d64  =headers, data=d
+0000a850: 6174 6129 0d0a 2020 2020 2020 2020 2020  ata)..          
+0000a860: 2020 2020 2020 6966 2072 6573 706f 6e73        if respons
+0000a870: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+0000a880: 2032 3030 3a0d 0a20 2020 2020 2020 2020   200:..         
+0000a890: 2020 2020 2020 2020 2020 2065 7272 203d             err =
+0000a8a0: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+0000a8b0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+0000a8c0: 7420 3d20 4e6f 6e65 0d0a 0d0a 2020 2020  t = None....    
+0000a8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a8e0: 636f 756e 7420 3d20 2d31 0d0a 2020 2020  count = -1..    
+0000a8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a900: 666f 7220 6920 696e 2072 616e 6765 286c  for i in range(l
+0000a910: 656e 2872 6573 706f 6e73 652e 7465 7874  en(response.text
+0000a920: 2929 3a0d 0a20 2020 2020 2020 2020 2020  )):..           
+0000a930: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0000a940: 636f 756e 7420 3c3d 202d 313a 0d0a 2020  count <= -1:..  
 0000a950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a960: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-0000a970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a980: 2020 6d64 5b22 7072 6f6d 7074 5f6e 6567    md["prompt_neg
-0000a990: 6174 6976 6522 5d20 3d20 2222 0d0a 2020  ative"] = ""..  
-0000a9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a9b0: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
-0000a9c0: 2020 2020 2020 2020 6966 2064 6174 612e          if data.
-0000a9d0: 6765 7428 2264 706d 5f67 7569 6461 6e63  get("dpm_guidanc
-0000a9e0: 655f 7363 616c 6522 2920 213d 204e 6f6e  e_scale") != Non
-0000a9f0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-0000aa00: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
-0000aa10: 6470 6d5f 6775 6964 616e 6365 5f73 6361  dpm_guidance_sca
-0000aa20: 6c65 225d 203d 2064 6174 612e 6765 7428  le"] = data.get(
-0000aa30: 2264 706d 5f67 7569 6461 6e63 655f 7363  "dpm_guidance_sc
-0000aa40: 616c 6522 290d 0a20 2020 2020 2020 2020  ale")..         
-0000aa50: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0000aa60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000aa70: 2020 2020 2020 2020 2020 6d64 5b22 6470            md["dp
-0000aa80: 6d5f 6775 6964 616e 6365 5f73 6361 6c65  m_guidance_scale
-0000aa90: 225d 203d 2034 2e35 0d0a 0d0a 2020 2020  "] = 4.5....    
-0000aaa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aab0: 6966 2064 6174 612e 6765 7428 2264 706d  if data.get("dpm
-0000aac0: 5f69 6e66 6572 656e 6365 5f73 7465 7073  _inference_steps
-0000aad0: 2229 2021 3d20 4e6f 6e65 3a0d 0a20 2020  ") != None:..   
-0000aae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aaf0: 2020 2020 206d 645b 2264 706d 5f69 6e66       md["dpm_inf
-0000ab00: 6572 656e 6365 5f73 7465 7073 225d 203d  erence_steps"] =
-0000ab10: 2064 6174 612e 6765 7428 2264 706d 5f69   data.get("dpm_i
-0000ab20: 6e66 6572 656e 6365 5f73 7465 7073 2229  nference_steps")
-0000ab30: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000ab40: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-0000ab50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ab60: 2020 2020 206d 645b 2264 706d 5f69 6e66       md["dpm_inf
-0000ab70: 6572 656e 6365 5f73 7465 7073 225d 203d  erence_steps"] =
-0000ab80: 2031 340d 0a20 2020 2020 2020 2020 2020   14..           
-0000ab90: 2020 2020 2020 2020 2020 2020 200d 0a20               .. 
-0000aba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000abb0: 2020 2069 6620 6461 7461 2e67 6574 2822     if data.get("
-0000abc0: 7361 5f67 7569 6461 6e63 655f 7363 616c  sa_guidance_scal
-0000abd0: 6522 2920 213d 204e 6f6e 653a 0d0a 2020  e") != None:..  
+0000a960: 2020 2020 2020 2020 2020 6966 2072 6573            if res
+0000a970: 706f 6e73 652e 7465 7874 5b69 5d20 3d3d  ponse.text[i] ==
+0000a980: 2022 7b22 3a0d 0a20 2020 2020 2020 2020   "{":..         
+0000a990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a9a0: 2020 2020 2020 2063 6f75 6e74 203d 2069         count = i
+0000a9b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000a9c0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+0000a9d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a9e0: 2020 2020 2020 2020 2020 2020 2062 7265               bre
+0000a9f0: 616b 0d0a 2020 2020 2020 2020 2020 2020  ak..            
+0000aa00: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
+0000aa10: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000aa20: 2063 6f75 6e74 203c 3d20 2d31 3a0d 0a20   count <= -1:.. 
+0000aa30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aa40: 2020 2020 2020 2065 7272 203d 207b 0d0a         err = {..
+0000aa50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aa60: 2020 2020 2020 2020 2020 2020 2263 6f64              "cod
+0000aa70: 6522 3a20 3530 302c 0d0a 2020 2020 2020  e": 500,..      
+0000aa80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aa90: 2020 2020 2020 2273 7461 7475 7322 3a20        "status": 
+0000aaa0: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
+0000aab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aac0: 2020 2020 2265 7272 6f72 223a 2022 494e      "error": "IN
+0000aad0: 5445 524e 414c 5f53 4552 5645 525f 4552  TERNAL_SERVER_ER
+0000aae0: 524f 5222 2c0d 0a20 2020 2020 2020 2020  ROR",..         
+0000aaf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ab00: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
+0000ab10: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
+0000ab20: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
+0000ab30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ab40: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
+0000ab50: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+0000ab60: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
+0000ab70: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000ab80: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+0000ab90: 2020 2020 2020 2020 2020 2020 2020 7472                tr
+0000aba0: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
+0000abb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000abc0: 6a73 203d 2072 6573 706f 6e73 652e 7465  js = response.te
+0000abd0: 7874 5b63 6f75 6e74 3a5d 0d0a 2020 2020  xt[count:]..    
 0000abe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000abf0: 2020 2020 2020 6d64 5b22 7361 5f67 7569        md["sa_gui
-0000ac00: 6461 6e63 655f 7363 616c 6522 5d20 3d20  dance_scale"] = 
-0000ac10: 6461 7461 2e67 6574 2822 7361 5f67 7569  data.get("sa_gui
-0000ac20: 6461 6e63 655f 7363 616c 6522 290d 0a20  dance_scale").. 
-0000ac30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac40: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-0000ac50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac60: 2020 6d64 5b22 7361 5f67 7569 6461 6e63    md["sa_guidanc
-0000ac70: 655f 7363 616c 6522 5d20 3d20 3134 0d0a  e_scale"] = 14..
-0000ac80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000aca0: 2020 2020 2020 6966 2064 6174 612e 6765        if data.ge
-0000acb0: 7428 2273 615f 696e 6665 7265 6e63 655f  t("sa_inference_
-0000acc0: 7374 6570 7322 2920 213d 204e 6f6e 653a  steps") != None:
-0000acd0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000ace0: 2020 2020 2020 2020 2020 6d64 5b22 7361            md["sa
-0000acf0: 5f69 6e66 6572 656e 6365 5f73 7465 7073  _inference_steps
-0000ad00: 225d 203d 2064 6174 612e 6765 7428 2273  "] = data.get("s
-0000ad10: 615f 696e 6665 7265 6e63 655f 7374 6570  a_inference_step
-0000ad20: 7322 290d 0a20 2020 2020 2020 2020 2020  s")..           
-0000ad30: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+0000abf0: 2020 2020 2020 2020 6a73 203d 206a 736f          js = jso
+0000ac00: 6e2e 6c6f 6164 7328 6a73 290d 0a20 2020  n.loads(js)..   
+0000ac10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ac20: 2020 2020 2020 2020 2069 6620 6a73 2021           if js !
+0000ac30: 3d20 4e6f 6e65 2061 6e64 206a 735b 2263  = None and js["c
+0000ac40: 6f64 6522 5d20 213d 204e 6f6e 6520 616e  ode"] != None an
+0000ac50: 6420 6a73 5b22 636f 6465 225d 203d 3d20  d js["code"] == 
+0000ac60: 3230 3020 616e 6420 6a73 5b22 7374 6174  200 and js["stat
+0000ac70: 7573 225d 2021 3d20 4e6f 6e65 2061 6e64  us"] != None and
+0000ac80: 206a 735b 2273 7461 7475 7322 5d20 3d3d   js["status"] ==
+0000ac90: 2054 7275 653a 0d0a 2020 2020 2020 2020   True:..        
+0000aca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000acb0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+0000acc0: 206a 730d 0a20 2020 2020 2020 2020 2020   js..           
+0000acd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ace0: 2020 2020 2065 7272 203d 204e 6f6e 650d       err = None.
+0000acf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000ad00: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+0000ad10: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0000ad20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ad30: 2020 2020 6572 7220 3d20 6a73 0d0a 2020      err = js..  
 0000ad40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad50: 2020 2020 2020 2020 6d64 5b22 7361 5f69          md["sa_i
-0000ad60: 6e66 6572 656e 6365 5f73 7465 7073 225d  nference_steps"]
-0000ad70: 203d 2031 340d 0a20 2020 2020 2020 2020   = 14..         
-0000ad80: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-0000ad90: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
+0000ad50: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0000ad60: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
+0000ad70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ad80: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+0000ad90: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
 0000ada0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000adb0: 2020 206d 6420 3d20 7b0d 0a20 2020 2020     md = {..     
-0000adc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000add0: 2020 2022 7072 6f6d 7074 5f6e 6567 6174     "prompt_negat
-0000ade0: 6976 6522 3a20 2222 2c0d 0a20 2020 2020  ive": "",..     
+0000adb0: 2020 2020 2020 2020 2065 7272 203d 207b           err = {
+0000adc0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000add0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ade0: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
 0000adf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ae00: 2020 2022 7361 6d70 6c65 7222 3a20 2244     "sampler": "D
-0000ae10: 504d 2d53 6f6c 7665 7222 2c0d 0a20 2020  PM-Solver",..   
-0000ae20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ae30: 2020 2020 2022 696d 6167 655f 7374 796c       "image_styl
-0000ae40: 6522 3a20 2228 4e6f 2073 7479 6c65 2922  e": "(No style)"
-0000ae50: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000ae60: 2020 2020 2020 2020 2020 2022 7769 6474             "widt
-0000ae70: 6822 3a20 3130 3234 2c0d 0a20 2020 2020  h": 1024,..     
-0000ae80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ae90: 2020 2022 6865 6967 6874 223a 2031 3032     "height": 102
-0000aea0: 342c 0d0a 2020 2020 2020 2020 2020 2020  4,..            
-0000aeb0: 2020 2020 2020 2020 2020 2020 2264 706d              "dpm
-0000aec0: 5f67 7569 6461 6e63 655f 7363 616c 6522  _guidance_scale"
-0000aed0: 3a20 342e 352c 0d0a 2020 2020 2020 2020  : 4.5,..        
-0000aee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aef0: 2264 706d 5f69 6e66 6572 656e 6365 5f73  "dpm_inference_s
-0000af00: 7465 7073 223a 2031 342c 0d0a 2020 2020  teps": 14,..    
-0000af10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000af20: 2020 2020 2273 615f 6775 6964 616e 6365      "sa_guidance
-0000af30: 5f73 6361 6c65 223a 2033 2c0d 0a20 2020  _scale": 3,..   
-0000af40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000af50: 2020 2020 2022 7361 5f69 6e66 6572 656e       "sa_inferen
-0000af60: 6365 5f73 7465 7073 223a 2032 350d 0a20  ce_steps": 25.. 
-0000af70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000af80: 2020 207d 0d0a 0d0a 2020 2020 2020 2020     }....        
-0000af90: 2020 2020 2020 2020 6461 7461 203d 207b          data = {
-0000afa0: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
-0000afb0: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
-0000afc0: 2020 2020 2020 2020 2020 2020 2064 6174               dat
-0000afd0: 6120 3d20 6a73 6f6e 2e64 756d 7073 287b  a = json.dumps({
+0000ae00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae10: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
+0000ae20: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000ae30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae40: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
+0000ae50: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
+0000ae60: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
+0000ae70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae80: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
+0000ae90: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
+0000aea0: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
+0000aeb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aec0: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
+0000aed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aee0: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
+0000aef0: 6f6e 650d 0a0d 0a20 2020 2020 2020 2020  one....         
+0000af00: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0000af10: 6620 7265 7375 6c74 203d 3d20 4e6f 6e65  f result == None
+0000af20: 2061 6e64 2065 7272 2021 3d20 4e6f 6e65   and err != None
+0000af30: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+0000af40: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000af50: 656c 662e 6572 726f 7220 3d20 6572 720d  elf.error = err.
+0000af60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000af70: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0000af80: 662e 7265 7375 6c74 203d 204e 6f6e 650d  f.result = None.
+0000af90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000afa0: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+0000afb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000afc0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000afd0: 2e72 6573 756c 7420 3d20 7265 7375 6c74  .result = result
 0000afe0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000aff0: 2020 2020 2020 2020 2020 2270 726f 6d70            "promp
-0000b000: 7422 3a20 7072 6f6d 7074 2c0d 0a20 2020  t": prompt,..   
-0000b010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b020: 2020 2020 2022 6d6f 6465 6c22 3a20 2270       "model": "p
-0000b030: 6978 6172 742d 6122 2c0d 0a20 2020 2020  ixart-a",..     
-0000b040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b050: 2020 2022 6461 7461 223a 206d 640d 0a20     "data": md.. 
-0000b060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b070: 2020 207d 290d 0a20 2020 2020 2020 2020     })..         
-0000b080: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-0000b090: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
-0000b0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b0b0: 2020 2064 6174 6120 3d20 6a73 6f6e 2e64     data = json.d
-0000b0c0: 756d 7073 287b 0d0a 2020 2020 2020 2020  umps({..        
+0000aff0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0000b000: 6c66 2e65 7272 6f72 203d 204e 6f6e 650d  lf.error = None.
+0000b010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b020: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+0000b030: 2020 2020 2020 2020 2020 2020 6461 7461              data
+0000b040: 5f65 7272 203d 207b 7d0d 0a20 2020 2020  _err = {}..     
+0000b050: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0000b060: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
+0000b070: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+0000b080: 615f 6572 7220 3d20 6a73 6f6e 2e6c 6f61  a_err = json.loa
+0000b090: 6473 2872 6573 706f 6e73 652e 7465 7874  ds(response.text
+0000b0a0: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+0000b0b0: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
+0000b0c0: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
 0000b0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b0e0: 2270 726f 6d70 7422 3a20 2222 2c0d 0a20  "prompt": "",.. 
-0000b0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b100: 2020 2020 2020 2022 6d6f 6465 6c22 3a20         "model": 
-0000b110: 2270 6978 6172 742d 6122 2c0d 0a20 2020  "pixart-a",..   
+0000b0e0: 2020 2020 2020 2064 6174 615f 6572 7220         data_err 
+0000b0f0: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
+0000b100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b110: 2022 636f 6465 223a 2035 3030 2c0d 0a20   "code": 500,.. 
 0000b120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b130: 2020 2020 2022 6461 7461 223a 207b 0d0a       "data": {..
-0000b140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b150: 2020 2020 2020 2020 2020 2020 2270 726f              "pro
-0000b160: 6d70 745f 6e65 6761 7469 7665 223a 2022  mpt_negative": "
-0000b170: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-0000b180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b190: 2273 616d 706c 6572 223a 2022 4450 4d2d  "sampler": "DPM-
-0000b1a0: 536f 6c76 6572 222c 0d0a 2020 2020 2020  Solver",..      
-0000b1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b1c0: 2020 2020 2020 2269 6d61 6765 5f73 7479        "image_sty
-0000b1d0: 6c65 223a 2022 284e 6f20 7374 796c 6529  le": "(No style)
-0000b1e0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-0000b1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b200: 2277 6964 7468 223a 2031 3032 342c 0d0a  "width": 1024,..
-0000b210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b220: 2020 2020 2020 2020 2020 2020 2268 6569              "hei
-0000b230: 6768 7422 3a20 3130 3234 2c0d 0a20 2020  ght": 1024,..   
-0000b240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b250: 2020 2020 2020 2020 2022 6470 6d5f 6775           "dpm_gu
-0000b260: 6964 616e 6365 5f73 6361 6c65 223a 2034  idance_scale": 4
-0000b270: 2e35 2c0d 0a20 2020 2020 2020 2020 2020  .5,..           
-0000b280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b290: 2022 6470 6d5f 696e 6665 7265 6e63 655f   "dpm_inference_
-0000b2a0: 7374 6570 7322 3a20 3134 2c0d 0a20 2020  steps": 14,..   
-0000b2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b2c0: 2020 2020 2020 2020 2022 7361 5f67 7569           "sa_gui
-0000b2d0: 6461 6e63 655f 7363 616c 6522 3a20 332c  dance_scale": 3,
-0000b2e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000b2f0: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-0000b300: 615f 696e 6665 7265 6e63 655f 7374 6570  a_inference_step
-0000b310: 7322 3a20 3235 0d0a 2020 2020 2020 2020  s": 25..        
-0000b320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b330: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
-0000b340: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
-0000b350: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
-0000b360: 2020 2020 2020 2020 2020 2020 2072 6573               res
-0000b370: 706f 6e73 6520 3d20 7265 7175 6573 7473  ponse = requests
-0000b380: 2e70 6f73 7428 7572 6c3d 2268 7474 7073  .post(url="https
-0000b390: 3a2f 2f6e 6578 7261 2e61 7279 6168 6372  ://nexra.aryahcr
-0000b3a0: 2e63 632f 6170 692f 696d 6167 652f 636f  .cc/api/image/co
-0000b3b0: 6d70 6c65 6d65 6e74 7322 2c20 6865 6164  mplements", head
-0000b3c0: 6572 733d 6865 6164 6572 732c 2064 6174  ers=headers, dat
-0000b3d0: 613d 6461 7461 290d 0a20 2020 2020 2020  a=data)..       
-0000b3e0: 2020 2020 2020 2020 2069 6620 7265 7370           if resp
-0000b3f0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-0000b400: 203d 3d20 3230 303a 0d0a 2020 2020 2020   == 200:..      
-0000b410: 2020 2020 2020 2020 2020 2020 2020 6572                er
-0000b420: 7220 3d20 4e6f 6e65 0d0a 2020 2020 2020  r = None..      
-0000b430: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0000b440: 7375 6c74 203d 204e 6f6e 650d 0a0d 0a20  sult = None.... 
-0000b450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b460: 2020 2063 6f75 6e74 203d 202d 310d 0a20     count = -1.. 
-0000b470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b480: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
-0000b490: 6528 6c65 6e28 7265 7370 6f6e 7365 2e74  e(len(response.t
-0000b4a0: 6578 7429 293a 0d0a 2020 2020 2020 2020  ext)):..        
-0000b4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b4c0: 6966 2063 6f75 6e74 203c 3d20 2d31 3a0d  if count <= -1:.
-0000b4d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b4e0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000b4f0: 7265 7370 6f6e 7365 2e74 6578 745b 695d  response.text[i]
-0000b500: 203d 3d20 227b 223a 0d0a 2020 2020 2020   == "{":..      
-0000b510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b520: 2020 2020 2020 2020 2020 636f 756e 7420            count 
-0000b530: 3d20 690d 0a20 2020 2020 2020 2020 2020  = i..           
-0000b540: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-0000b550: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-0000b560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b570: 6272 6561 6b0d 0a20 2020 2020 2020 2020  break..         
-0000b580: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
-0000b590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b5a0: 2069 6620 636f 756e 7420 3c3d 202d 313a   if count <= -1:
-0000b5b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000b5c0: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
-0000b5d0: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
-0000b5e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000b5f0: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
-0000b600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b610: 2020 2020 2020 2020 2022 7374 6174 7573           "status
-0000b620: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
+0000b130: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
+0000b140: 7573 223a 2046 616c 7365 2c0d 0a20 2020  us": False,..   
+0000b150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b160: 2020 2020 2020 2020 2022 6572 726f 7222           "error"
+0000b170: 3a20 2249 4e54 4552 4e41 4c5f 5345 5256  : "INTERNAL_SERV
+0000b180: 4552 5f45 5252 4f52 222c 0d0a 2020 2020  ER_ERROR",..    
+0000b190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b1a0: 2020 2020 2020 2020 226d 6573 7361 6765          "message
+0000b1b0: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
+0000b1c0: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
+0000b1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b1e0: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+0000b1f0: 2020 2020 2020 2020 2020 2020 200d 0a20               .. 
+0000b200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b210: 2020 2073 656c 662e 6572 726f 7220 3d20     self.error = 
+0000b220: 6461 7461 5f65 7272 0d0a 2020 2020 2020  data_err..      
+0000b230: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0000b240: 6c66 2e72 6573 756c 7420 3d20 4e6f 6e65  lf.result = None
+0000b250: 0d0a 2020 2020 2020 2020 2020 2020 6578  ..            ex
+0000b260: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+0000b270: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
+0000b280: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
+0000b290: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+0000b2a0: 2020 2020 2020 2020 2020 2263 6f64 6522            "code"
+0000b2b0: 3a20 3530 302c 0d0a 2020 2020 2020 2020  : 500,..        
+0000b2c0: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
+0000b2d0: 7475 7322 3a20 4661 6c73 652c 0d0a 2020  tus": False,..  
+0000b2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b2f0: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
+0000b300: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
+0000b310: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
+0000b320: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
+0000b330: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
+0000b340: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
+0000b350: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+0000b360: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000b370: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
+0000b380: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
+0000b390: 2020 7061 7373 0d0a 2020 2020 2020 2020    pass..        
+0000b3a0: 6465 6620 6572 726f 7228 7365 6c66 293a  def error(self):
+0000b3b0: 0d0a 2020 2020 2020 2020 2020 2020 7265  ..            re
+0000b3c0: 7475 726e 2073 656c 662e 6572 726f 720d  turn self.error.
+0000b3d0: 0a20 2020 2020 2020 2064 6566 2072 6573  .        def res
+0000b3e0: 756c 7428 7365 6c66 293a 0d0a 2020 2020  ult(self):..    
+0000b3f0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+0000b400: 656c 662e 7265 7375 6c74 0d0a 2020 2020  elf.result..    
+0000b410: 636c 6173 7320 7374 6162 6c65 6469 6666  class stablediff
+0000b420: 7573 696f 6e5f 786c 2829 3a0d 0a20 2020  usion_xl():..   
+0000b430: 2020 2020 2065 7272 6f72 203d 204e 6f6e       error = Non
+0000b440: 650d 0a20 2020 2020 2020 2072 6573 756c  e..        resul
+0000b450: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
+0000b460: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
+0000b470: 656c 662c 2070 726f 6d70 743d 2222 2c20  elf, prompt="", 
+0000b480: 6461 7461 3d7b 0d0a 2020 2020 2020 2020  data={..        
+0000b490: 2020 2020 2270 726f 6d70 745f 6e65 6761      "prompt_nega
+0000b4a0: 7469 7665 223a 2022 222c 0d0a 2020 2020  tive": "",..    
+0000b4b0: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
+0000b4c0: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
+0000b4d0: 2020 2273 616d 706c 696e 675f 6d65 7468    "sampling_meth
+0000b4e0: 6f64 223a 2022 222c 0d0a 2020 2020 2020  od": "",..      
+0000b4f0: 2020 2020 2020 2273 616d 706c 696e 675f        "sampling_
+0000b500: 7374 6570 7322 3a20 2222 2c0d 0a20 2020  steps": "",..   
+0000b510: 2020 2020 2020 2020 2022 7769 6474 6822           "width"
+0000b520: 3a20 2222 2c0d 0a20 2020 2020 2020 2020  : "",..         
+0000b530: 2020 2022 6865 6967 6874 223a 2022 222c     "height": "",
+0000b540: 0d0a 2020 2020 2020 2020 2020 2020 2263  ..            "c
+0000b550: 6667 5f73 6361 6c65 223a 2022 220d 0a20  fg_scale": "".. 
+0000b560: 2020 2020 2020 207d 2920 2d3e 204e 6f6e         }) -> Non
+0000b570: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0000b580: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
+0000b590: 2020 2020 2020 6865 6164 6572 7320 3d20        headers = 
+0000b5a0: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+0000b5b0: 2020 2020 2020 2022 436f 6e74 656e 742d         "Content-
+0000b5c0: 5479 7065 223a 2022 6170 706c 6963 6174  Type": "applicat
+0000b5d0: 696f 6e2f 6a73 6f6e 220d 0a20 2020 2020  ion/json"..     
+0000b5e0: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
+0000b5f0: 2020 2020 2020 2020 2020 2020 2020 6865                he
+0000b600: 6164 6572 732e 7570 6461 7465 2863 7265  aders.update(cre
+0000b610: 6429 0d0a 0d0a 2020 2020 2020 2020 2020  d)....          
+0000b620: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
 0000b630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b640: 2020 2020 2020 2022 6572 726f 7222 3a20         "error": 
-0000b650: 2249 4e54 4552 4e41 4c5f 5345 5256 4552  "INTERNAL_SERVER
-0000b660: 5f45 5252 4f52 222c 0d0a 2020 2020 2020  _ERROR",..      
-0000b670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b680: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
-0000b690: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
-0000b6a0: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
-0000b6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b6c0: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
-0000b6d0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000b6e0: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
-0000b6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b700: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
-0000b710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b720: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
-0000b730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b740: 2020 206a 7320 3d20 7265 7370 6f6e 7365     js = response
-0000b750: 2e74 6578 745b 636f 756e 743a 5d0d 0a20  .text[count:].. 
-0000b760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b770: 2020 2020 2020 2020 2020 206a 7320 3d20             js = 
-0000b780: 6a73 6f6e 2e6c 6f61 6473 286a 7329 0d0a  json.loads(js)..
-0000b790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b7a0: 2020 2020 2020 2020 2020 2020 6966 206a              if j
-0000b7b0: 7320 213d 204e 6f6e 6520 616e 6420 6a73  s != None and js
-0000b7c0: 5b22 636f 6465 225d 2021 3d20 4e6f 6e65  ["code"] != None
-0000b7d0: 2061 6e64 206a 735b 2263 6f64 6522 5d20   and js["code"] 
-0000b7e0: 3d3d 2032 3030 2061 6e64 206a 735b 2273  == 200 and js["s
-0000b7f0: 7461 7475 7322 5d20 213d 204e 6f6e 6520  tatus"] != None 
-0000b800: 616e 6420 6a73 5b22 7374 6174 7573 225d  and js["status"]
-0000b810: 203d 3d20 5472 7565 3a0d 0a20 2020 2020   == True:..     
-0000b820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b830: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-0000b840: 7420 3d20 6a73 0d0a 2020 2020 2020 2020  t = js..        
-0000b850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b860: 2020 2020 2020 2020 6572 7220 3d20 4e6f          err = No
-0000b870: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+0000b640: 7072 6f6d 7074 203d 2070 726f 6d70 7420  prompt = prompt 
+0000b650: 6966 2070 726f 6d70 7420 6973 206e 6f74  if prompt is not
+0000b660: 204e 6f6e 6520 656c 7365 2022 220d 0a20   None else "".. 
+0000b670: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000b680: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
+0000b690: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
+0000b6a0: 2020 2020 2020 2020 2020 2070 726f 6d70             promp
+0000b6b0: 7420 3d20 2222 0d0a 0d0a 2020 2020 2020  t = ""....      
+0000b6c0: 2020 2020 2020 2020 2020 6d64 203d 207b            md = {
+0000b6d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000b6e0: 2020 2020 2020 2270 726f 6d70 745f 6e65        "prompt_ne
+0000b6f0: 6761 7469 7665 223a 2022 222c 0d0a 2020  gative": "",..  
+0000b700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b710: 2020 226d 6f64 656c 223a 2022 6162 736f    "model": "abso
+0000b720: 6c75 7465 7265 616c 6974 795f 7631 3831  lutereality_v181
+0000b730: 2e73 6166 6574 656e 736f 7273 205b 3364  .safetensors [3d
+0000b740: 3964 3464 3262 5d22 2c0d 0a20 2020 2020  9d4d2b]",..     
+0000b750: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000b760: 7361 6d70 6c69 6e67 5f6d 6574 686f 6422  sampling_method"
+0000b770: 3a20 2244 504d 2b2b 2032 4d20 4b61 7272  : "DPM++ 2M Karr
+0000b780: 6173 222c 0d0a 2020 2020 2020 2020 2020  as",..          
+0000b790: 2020 2020 2020 2020 2020 2273 616d 706c            "sampl
+0000b7a0: 696e 675f 7374 6570 7322 3a20 3235 2c0d  ing_steps": 25,.
+0000b7b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b7c0: 2020 2020 2022 7769 6474 6822 3a20 3130       "width": 10
+0000b7d0: 3234 2c0d 0a20 2020 2020 2020 2020 2020  24,..           
+0000b7e0: 2020 2020 2020 2020 2022 6865 6967 6874           "height
+0000b7f0: 223a 2031 3032 342c 0d0a 2020 2020 2020  ": 1024,..      
+0000b800: 2020 2020 2020 2020 2020 2020 2020 2263                "c
+0000b810: 6667 5f73 6361 6c65 223a 2037 0d0a 2020  fg_scale": 7..  
+0000b820: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
+0000b830: 0a0d 0a20 2020 2020 2020 2020 2020 2020  ...             
+0000b840: 2020 2074 7279 203a 0d0a 2020 2020 2020     try :..      
+0000b850: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000b860: 2064 6174 612e 6765 7428 226d 6f64 656c   data.get("model
+0000b870: 2229 2021 3d20 4e6f 6e65 3a0d 0a20 2020  ") != None:..   
 0000b880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b890: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
-0000b8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b8b0: 2020 2020 2020 2065 7272 203d 206a 730d         err = js.
-0000b8c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b8e0: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
-0000b8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b900: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-0000b910: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
-0000b920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b930: 2020 2020 2020 2020 2020 2020 6572 7220              err 
-0000b940: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-0000b950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b960: 2020 2020 2022 636f 6465 223a 2035 3030       "code": 500
-0000b970: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000b980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b990: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
-0000b9a0: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
+0000b890: 2020 2020 206d 645b 226d 6f64 656c 225d       md["model"]
+0000b8a0: 203d 2064 6174 612e 6765 7428 226d 6f64   = data.get("mod
+0000b8b0: 656c 2229 0d0a 2020 2020 2020 2020 2020  el")..          
+0000b8c0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+0000b8d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b8e0: 2020 2020 2020 2020 206d 645b 226d 6f64           md["mod
+0000b8f0: 656c 225d 203d 2022 6162 736f 6c75 7465  el"] = "absolute
+0000b900: 7265 616c 6974 795f 7631 3831 2e73 6166  reality_v181.saf
+0000b910: 6574 656e 736f 7273 205b 3364 3964 3464  etensors [3d9d4d
+0000b920: 3262 5d22 0d0a 0d0a 2020 2020 2020 2020  2b]"....        
+0000b930: 2020 2020 2020 2020 2020 2020 6966 2064              if d
+0000b940: 6174 612e 6765 7428 2273 616d 706c 696e  ata.get("samplin
+0000b950: 675f 7374 6570 7322 2920 213d 204e 6f6e  g_steps") != Non
+0000b960: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0000b970: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
+0000b980: 7361 6d70 6c69 6e67 5f73 7465 7073 225d  sampling_steps"]
+0000b990: 203d 2064 6174 612e 6765 7428 2273 616d   = data.get("sam
+0000b9a0: 706c 696e 675f 7374 6570 7322 290d 0a20  pling_steps").. 
 0000b9b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b9c0: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
-0000b9d0: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
-0000b9e0: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
-0000b9f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ba00: 2020 2020 2020 2020 226d 6573 7361 6765          "message
-0000ba10: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
-0000ba20: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
-0000ba30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ba40: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
-0000ba50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ba60: 2020 2020 2020 2020 2072 6573 756c 7420           result 
-0000ba70: 3d20 4e6f 6e65 0d0a 0d0a 2020 2020 2020  = None....      
-0000ba80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ba90: 2020 6966 2072 6573 756c 7420 3d3d 204e    if result == N
-0000baa0: 6f6e 6520 616e 6420 6572 7220 213d 204e  one and err != N
-0000bab0: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
-0000bac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bad0: 2020 7365 6c66 2e65 7272 6f72 203d 2065    self.error = e
-0000bae0: 7272 0d0a 2020 2020 2020 2020 2020 2020  rr..            
-0000baf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bb00: 7365 6c66 2e72 6573 756c 7420 3d20 4e6f  self.result = No
-0000bb10: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
-0000bb20: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0000bb30: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0000bb40: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000bb50: 656c 662e 7265 7375 6c74 203d 2072 6573  elf.result = res
-0000bb60: 756c 740d 0a20 2020 2020 2020 2020 2020  ult..           
-0000bb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bb80: 2073 656c 662e 6572 726f 7220 3d20 4e6f   self.error = No
-0000bb90: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
-0000bba0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-0000bbb0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-0000bbc0: 6174 615f 6572 7220 3d20 7b7d 0d0a 2020  ata_err = {}..  
-0000bbd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bbe0: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
-0000bbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bc00: 6461 7461 5f65 7272 203d 206a 736f 6e2e  data_err = json.
-0000bc10: 6c6f 6164 7328 7265 7370 6f6e 7365 2e74  loads(response.t
-0000bc20: 6578 7429 0d0a 2020 2020 2020 2020 2020  ext)..          
-0000bc30: 2020 2020 2020 2020 2020 6578 6365 7074            except
-0000bc40: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
-0000bc50: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000bc60: 2020 2020 2020 2020 2020 6461 7461 5f65            data_e
-0000bc70: 7272 203d 207b 0d0a 2020 2020 2020 2020  rr = {..        
-0000bc80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bc90: 2020 2020 2263 6f64 6522 3a20 3530 302c      "code": 500,
-0000bca0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000bcb0: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-0000bcc0: 7461 7475 7322 3a20 4661 6c73 652c 0d0a  tatus": False,..
+0000b9c0: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+0000b9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b9e0: 2020 6d64 5b22 7361 6d70 6c69 6e67 5f73    md["sampling_s
+0000b9f0: 7465 7073 225d 203d 2032 350d 0a0d 0a20  teps"] = 25.... 
+0000ba00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ba10: 2020 2069 6620 6461 7461 2e67 6574 2822     if data.get("
+0000ba20: 6366 675f 7363 616c 6522 2920 213d 204e  cfg_scale") != N
+0000ba30: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+0000ba40: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+0000ba50: 5b22 6366 675f 7363 616c 6522 5d20 3d20  ["cfg_scale"] = 
+0000ba60: 6461 7461 2e67 6574 2822 6366 675f 7363  data.get("cfg_sc
+0000ba70: 616c 6522 290d 0a20 2020 2020 2020 2020  ale")..         
+0000ba80: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0000ba90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000baa0: 2020 2020 2020 2020 2020 6d64 5b22 6366            md["cf
+0000bab0: 675f 7363 616c 6522 5d20 3d20 370d 0a0d  g_scale"] = 7...
+0000bac0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bad0: 2020 2020 2069 6620 6461 7461 2e67 6574       if data.get
+0000bae0: 2822 7361 6d70 6c69 6e67 5f6d 6574 686f  ("sampling_metho
+0000baf0: 6422 2920 213d 204e 6f6e 653a 0d0a 2020  d") != None:..  
+0000bb00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb10: 2020 2020 2020 6d64 5b22 7361 6d70 6c69        md["sampli
+0000bb20: 6e67 5f6d 6574 686f 6422 5d20 3d20 6461  ng_method"] = da
+0000bb30: 7461 2e67 6574 2822 7361 6d70 6c69 6e67  ta.get("sampling
+0000bb40: 5f6d 6574 686f 6422 290d 0a20 2020 2020  _method")..     
+0000bb50: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000bb60: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+0000bb70: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+0000bb80: 5b22 7361 6d70 6c69 6e67 5f6d 6574 686f  ["sampling_metho
+0000bb90: 6422 5d20 3d20 2244 504d 2b2b 2032 4d20  d"] = "DPM++ 2M 
+0000bba0: 4b61 7272 6173 220d 0a20 2020 2020 2020  Karras"..       
+0000bbb0: 2020 2020 2020 2020 2020 2020 200d 0a20               .. 
+0000bbc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bbd0: 2020 2069 6620 6461 7461 2e67 6574 2822     if data.get("
+0000bbe0: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
+0000bbf0: 2920 213d 204e 6f6e 653a 0d0a 2020 2020  ) != None:..    
+0000bc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bc10: 2020 2020 6d64 5b22 7072 6f6d 7074 5f6e      md["prompt_n
+0000bc20: 6567 6174 6976 6522 5d20 3d20 6461 7461  egative"] = data
+0000bc30: 2e67 6574 2822 7072 6f6d 7074 5f6e 6567  .get("prompt_neg
+0000bc40: 6174 6976 6522 290d 0a20 2020 2020 2020  ative")..       
+0000bc50: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+0000bc60: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0000bc70: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
+0000bc80: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
+0000bc90: 5d20 3d20 2222 0d0a 0d0a 2020 2020 2020  ] = ""....      
+0000bca0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000bcb0: 2064 6174 612e 6765 7428 2277 6964 7468   data.get("width
+0000bcc0: 2229 2021 3d20 4e6f 6e65 3a0d 0a20 2020  ") != None:..   
 0000bcd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bce0: 2020 2020 2020 2020 2020 2020 2265 7272              "err
-0000bcf0: 6f72 223a 2022 494e 5445 524e 414c 5f53  or": "INTERNAL_S
-0000bd00: 4552 5645 525f 4552 524f 5222 2c0d 0a20  ERVER_ERROR",.. 
-0000bd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bd20: 2020 2020 2020 2020 2020 2022 6d65 7373             "mess
-0000bd30: 6167 6522 3a20 2267 656e 6572 616c 2028  age": "general (
-0000bd40: 756e 6b6e 6f77 6e29 2065 7272 6f72 220d  unknown) error".
-0000bd50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000bd60: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
-0000bd70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bd80: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000bd90: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
-0000bda0: 203d 2064 6174 615f 6572 720d 0a20 2020   = data_err..   
-0000bdb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bdc0: 2073 656c 662e 7265 7375 6c74 203d 204e   self.result = N
-0000bdd0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-0000bde0: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-0000bdf0: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
-0000be00: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
-0000be10: 726f 7220 3d20 7b0d 0a20 2020 2020 2020  ror = {..       
-0000be20: 2020 2020 2020 2020 2020 2020 2022 636f               "co
-0000be30: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
-0000be40: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000be50: 7374 6174 7573 223a 2046 616c 7365 2c0d  status": False,.
-0000be60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000be70: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
-0000be80: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
-0000be90: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
-0000bea0: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
-0000beb0: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
-0000bec0: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
-0000bed0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000bee0: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
-0000bef0: 2020 2020 2073 656c 662e 7265 7375 6c74       self.result
-0000bf00: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
-0000bf10: 2020 2020 2070 6173 730d 0a20 2020 2020       pass..     
-0000bf20: 2020 2064 6566 2065 7272 6f72 2873 656c     def error(sel
-0000bf30: 6629 3a0d 0a20 2020 2020 2020 2020 2020  f):..           
-0000bf40: 2072 6574 7572 6e20 7365 6c66 2e65 7272   return self.err
-0000bf50: 6f72 0d0a 2020 2020 2020 2020 6465 6620  or..        def 
-0000bf60: 7265 7375 6c74 2873 656c 6629 3a0d 0a20  result(self):.. 
-0000bf70: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0000bf80: 6e20 7365 6c66 2e72 6573 756c 740d 0a20  n self.result.. 
-0000bf90: 2020 2063 6c61 7373 206c 636d 2829 3a0d     class lcm():.
-0000bfa0: 0a20 2020 2020 2020 2065 7272 6f72 203d  .        error =
-0000bfb0: 204e 6f6e 650d 0a20 2020 2020 2020 2072   None..        r
-0000bfc0: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
-0000bfd0: 2020 2020 2020 6465 6620 5f5f 696e 6974        def __init
-0000bfe0: 5f5f 2873 656c 662c 2070 726f 6d70 743d  __(self, prompt=
-0000bff0: 2222 2c20 6461 7461 3d7b 0d0a 2020 2020  "", data={..    
-0000c000: 2020 2020 2020 2020 2270 726f 6d70 745f          "prompt_
-0000c010: 6e65 6761 7469 7665 223a 2022 222c 0d0a  negative": "",..
-0000c020: 2020 2020 2020 2020 2020 2020 2269 6d61              "ima
-0000c030: 6765 5f73 7479 6c65 223a 2022 222c 0d0a  ge_style": "",..
-0000c040: 2020 2020 2020 2020 2020 2020 2277 6964              "wid
-0000c050: 7468 223a 2022 222c 0d0a 2020 2020 2020  th": "",..      
-0000c060: 2020 2020 2020 2268 6569 6768 7422 3a20        "height": 
-0000c070: 2222 2c0d 0a20 2020 2020 2020 2020 2020  "",..           
-0000c080: 2022 6c63 6d5f 696e 6665 7265 6e63 655f   "lcm_inference_
-0000c090: 7374 6570 7322 3a20 2222 0d0a 2020 2020  steps": ""..    
-0000c0a0: 2020 2020 7d29 202d 3e20 4e6f 6e65 3a0d      }) -> None:.
-0000c0b0: 0a20 2020 2020 2020 2020 2020 2074 7279  .            try
-0000c0c0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0000c0d0: 2020 2068 6561 6465 7273 203d 207b 0d0a     headers = {..
-0000c0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c0f0: 2020 2020 2243 6f6e 7465 6e74 2d54 7970      "Content-Typ
-0000c100: 6522 3a20 2261 7070 6c69 6361 7469 6f6e  e": "application
-0000c110: 2f6a 736f 6e22 0d0a 2020 2020 2020 2020  /json"..        
-0000c120: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
-0000c130: 2020 2020 2020 2020 2020 2068 6561 6465             heade
-0000c140: 7273 2e75 7064 6174 6528 6372 6564 290d  rs.update(cred).
-0000c150: 0a0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-0000c160: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
-0000c170: 2020 2020 2020 2020 2020 2020 2070 726f               pro
-0000c180: 6d70 7420 3d20 7072 6f6d 7074 2069 6620  mpt = prompt if 
-0000c190: 7072 6f6d 7074 2069 7320 6e6f 7420 4e6f  prompt is not No
-0000c1a0: 6e65 2065 6c73 6520 2222 0d0a 2020 2020  ne else ""..    
-0000c1b0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-0000c1c0: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
-0000c1d0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-0000c1e0: 2020 2020 2020 2020 7072 6f6d 7074 203d          prompt =
-0000c1f0: 2022 220d 0a0d 0a20 2020 2020 2020 2020   ""....         
-0000c200: 2020 2020 2020 206d 6420 3d20 7b0d 0a20         md = {.. 
-0000c210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c220: 2020 2022 7072 6f6d 7074 5f6e 6567 6174     "prompt_negat
-0000c230: 6976 6522 3a20 2222 2c0d 0a20 2020 2020  ive": "",..     
-0000c240: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000c250: 696d 6167 655f 7374 796c 6522 3a20 2228  image_style": "(
-0000c260: 4e6f 2073 7479 6c65 2922 2c0d 0a20 2020  No style)",..   
-0000c270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c280: 2022 7769 6474 6822 3a20 3130 3234 2c0d   "width": 1024,.
-0000c290: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c2a0: 2020 2020 2022 6865 6967 6874 223a 2031       "height": 1
-0000c2b0: 3032 342c 0d0a 2020 2020 2020 2020 2020  024,..          
-0000c2c0: 2020 2020 2020 2020 2020 226c 636d 5f69            "lcm_i
-0000c2d0: 6e66 6572 656e 6365 5f73 7465 7073 223a  nference_steps":
-0000c2e0: 2039 0d0a 2020 2020 2020 2020 2020 2020   9..            
-0000c2f0: 2020 2020 7d0d 0a0d 0a20 2020 2020 2020      }....       
-0000c300: 2020 2020 2020 2020 2074 7279 203a 0d0a           try :..
+0000bce0: 2020 2020 206d 645b 2277 6964 7468 225d       md["width"]
+0000bcf0: 203d 2064 6174 612e 6765 7428 2277 6964   = data.get("wid
+0000bd00: 7468 2229 0d0a 2020 2020 2020 2020 2020  th")..          
+0000bd10: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+0000bd20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bd30: 2020 2020 2020 2020 206d 645b 2277 6964           md["wid
+0000bd40: 7468 225d 203d 2022 220d 0a20 2020 2020  th"] = ""..     
+0000bd50: 2020 2020 2020 2020 2020 2020 2020 200d                 .
+0000bd60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bd70: 2020 2020 2069 6620 6461 7461 2e67 6574       if data.get
+0000bd80: 2822 6865 6967 6874 2229 2021 3d20 4e6f  ("height") != No
+0000bd90: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
+0000bda0: 2020 2020 2020 2020 2020 2020 206d 645b               md[
+0000bdb0: 2268 6569 6768 7422 5d20 3d20 6461 7461  "height"] = data
+0000bdc0: 2e67 6574 2822 6865 6967 6874 2229 0d0a  .get("height")..
+0000bdd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bde0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
+0000bdf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000be00: 2020 206d 645b 2268 6569 6768 7422 5d20     md["height"] 
+0000be10: 3d20 2222 0d0a 2020 2020 2020 2020 2020  = ""..          
+0000be20: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+0000be30: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
+0000be40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000be50: 2020 6d64 203d 207b 0d0a 2020 2020 2020    md = {..      
+0000be60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000be70: 2020 2270 726f 6d70 745f 6e65 6761 7469    "prompt_negati
+0000be80: 7665 223a 2022 222c 0d0a 2020 2020 2020  ve": "",..      
+0000be90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bea0: 2020 226d 6f64 656c 223a 2022 6162 736f    "model": "abso
+0000beb0: 6c75 7465 7265 616c 6974 795f 7631 3831  lutereality_v181
+0000bec0: 2e73 6166 6574 656e 736f 7273 205b 3364  .safetensors [3d
+0000bed0: 3964 3464 3262 5d22 2c0d 0a20 2020 2020  9d4d2b]",..     
+0000bee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bef0: 2020 2022 7361 6d70 6c69 6e67 5f6d 6574     "sampling_met
+0000bf00: 686f 6422 3a20 2244 504d 2b2b 2032 4d20  hod": "DPM++ 2M 
+0000bf10: 4b61 7272 6173 222c 0d0a 2020 2020 2020  Karras",..      
+0000bf20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf30: 2020 2273 616d 706c 696e 675f 7374 6570    "sampling_step
+0000bf40: 7322 3a20 3235 2c0d 0a20 2020 2020 2020  s": 25,..       
+0000bf50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf60: 2022 7769 6474 6822 3a20 3130 3234 2c0d   "width": 1024,.
+0000bf70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bf80: 2020 2020 2020 2020 2022 6865 6967 6874           "height
+0000bf90: 223a 2031 3032 342c 0d0a 2020 2020 2020  ": 1024,..      
+0000bfa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bfb0: 2020 2263 6667 5f73 6361 6c65 223a 2037    "cfg_scale": 7
+0000bfc0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000bfd0: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
+0000bfe0: 2020 2020 2020 2020 2020 2064 6174 6120             data 
+0000bff0: 3d20 7b7d 0d0a 2020 2020 2020 2020 2020  = {}..          
+0000c000: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
+0000c010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c020: 6461 7461 203d 206a 736f 6e2e 6475 6d70  data = json.dump
+0000c030: 7328 7b0d 0a20 2020 2020 2020 2020 2020  s({..           
+0000c040: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
+0000c050: 6f6d 7074 223a 2070 726f 6d70 742c 0d0a  ompt": prompt,..
+0000c060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c070: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
+0000c080: 2022 7072 6f64 6961 2d73 7461 626c 6564   "prodia-stabled
+0000c090: 6966 6675 7369 6f6e 2d78 6c22 2c0d 0a20  iffusion-xl",.. 
+0000c0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c0b0: 2020 2020 2020 2022 6461 7461 223a 206d         "data": m
+0000c0c0: 640d 0a20 2020 2020 2020 2020 2020 2020  d..             
+0000c0d0: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
+0000c0e0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0000c0f0: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
+0000c100: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+0000c110: 2020 2020 2020 2064 6174 6120 3d20 6a73         data = js
+0000c120: 6f6e 2e64 756d 7073 287b 0d0a 2020 2020  on.dumps({..    
+0000c130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c140: 2020 2020 2270 726f 6d70 7422 3a20 2222      "prompt": ""
+0000c150: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000c160: 2020 2020 2020 2020 2020 2022 6d6f 6465             "mode
+0000c170: 6c22 3a20 2270 726f 6469 612d 7374 6162  l": "prodia-stab
+0000c180: 6c65 6469 6666 7573 696f 6e2d 786c 222c  lediffusion-xl",
+0000c190: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000c1a0: 2020 2020 2020 2020 2020 2264 6174 6122            "data"
+0000c1b0: 3a20 7b0d 0a20 2020 2020 2020 2020 2020  : {..           
+0000c1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c1d0: 2022 7072 6f6d 7074 5f6e 6567 6174 6976   "prompt_negativ
+0000c1e0: 6522 3a20 2222 2c0d 0a20 2020 2020 2020  e": "",..       
+0000c1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c200: 2020 2020 2022 6d6f 6465 6c22 3a20 2261       "model": "a
+0000c210: 6273 6f6c 7574 6572 6561 6c69 7479 5f76  bsolutereality_v
+0000c220: 3138 312e 7361 6665 7465 6e73 6f72 7320  181.safetensors 
+0000c230: 5b33 6439 6434 6432 625d 222c 0d0a 2020  [3d9d4d2b]",..  
+0000c240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c250: 2020 2020 2020 2020 2020 2273 616d 706c            "sampl
+0000c260: 696e 675f 6d65 7468 6f64 223a 2022 4450  ing_method": "DP
+0000c270: 4d2b 2b20 324d 204b 6172 7261 7322 2c0d  M++ 2M Karras",.
+0000c280: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c290: 2020 2020 2020 2020 2020 2020 2022 7361               "sa
+0000c2a0: 6d70 6c69 6e67 5f73 7465 7073 223a 2032  mpling_steps": 2
+0000c2b0: 352c 0d0a 2020 2020 2020 2020 2020 2020  5,..            
+0000c2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c2d0: 2277 6964 7468 223a 2031 3032 342c 0d0a  "width": 1024,..
+0000c2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c2f0: 2020 2020 2020 2020 2020 2020 2268 6569              "hei
+0000c300: 6768 7422 3a20 3130 3234 2c0d 0a20 2020  ght": 1024,..   
 0000c310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c320: 2020 2020 6966 2064 6174 612e 6765 7428      if data.get(
-0000c330: 226c 636d 5f69 6e66 6572 656e 6365 5f73  "lcm_inference_s
-0000c340: 7465 7073 2229 2021 3d20 4e6f 6e65 3a0d  teps") != None:.
-0000c350: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c360: 2020 2020 2020 2020 206d 645b 226c 636d           md["lcm
-0000c370: 5f69 6e66 6572 656e 6365 5f73 7465 7073  _inference_steps
-0000c380: 225d 203d 2064 6174 612e 6765 7428 226c  "] = data.get("l
-0000c390: 636d 5f69 6e66 6572 656e 6365 5f73 7465  cm_inference_ste
-0000c3a0: 7073 2229 0d0a 2020 2020 2020 2020 2020  ps")..          
-0000c3b0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-0000c3c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c3d0: 2020 2020 2020 2020 206d 645b 226c 636d           md["lcm
-0000c3e0: 5f69 6e66 6572 656e 6365 5f73 7465 7073  _inference_steps
-0000c3f0: 225d 203d 2039 0d0a 0d0a 2020 2020 2020  "] = 9....      
-0000c400: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0000c410: 2064 6174 612e 6765 7428 2268 6569 6768   data.get("heigh
-0000c420: 7422 2920 213d 204e 6f6e 653a 0d0a 2020  t") != None:..  
-0000c430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c440: 2020 2020 2020 6d64 5b22 6865 6967 6874        md["height
-0000c450: 225d 203d 2064 6174 612e 6765 7428 2268  "] = data.get("h
-0000c460: 6569 6768 7422 290d 0a20 2020 2020 2020  eight")..       
-0000c470: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-0000c480: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-0000c490: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
-0000c4a0: 6865 6967 6874 225d 203d 2031 3032 340d  height"] = 1024.
-0000c4b0: 0a0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-0000c4c0: 2020 2020 2020 2069 6620 6461 7461 2e67         if data.g
-0000c4d0: 6574 2822 7769 6474 6822 2920 213d 204e  et("width") != N
-0000c4e0: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
-0000c4f0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-0000c500: 5b22 7769 6474 6822 5d20 3d20 6461 7461  ["width"] = data
-0000c510: 2e67 6574 2822 7769 6474 6822 290d 0a20  .get("width").. 
+0000c320: 2020 2020 2020 2020 2022 6366 675f 7363           "cfg_sc
+0000c330: 616c 6522 3a20 370d 0a20 2020 2020 2020  ale": 7..       
+0000c340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c350: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
+0000c360: 2020 2020 2020 2020 7d29 0d0a 0d0a 2020          })....  
+0000c370: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0000c380: 7370 6f6e 7365 203d 2072 6571 7565 7374  sponse = request
+0000c390: 732e 706f 7374 2875 726c 3d22 6874 7470  s.post(url="http
+0000c3a0: 733a 2f2f 6e65 7872 612e 6172 7961 6863  s://nexra.aryahc
+0000c3b0: 722e 6363 2f61 7069 2f69 6d61 6765 2f63  r.cc/api/image/c
+0000c3c0: 6f6d 706c 656d 656e 7473 222c 2068 6561  omplements", hea
+0000c3d0: 6465 7273 3d68 6561 6465 7273 2c20 6461  ders=headers, da
+0000c3e0: 7461 3d64 6174 6129 0d0a 2020 2020 2020  ta=data)..      
+0000c3f0: 2020 2020 2020 2020 2020 6966 2072 6573            if res
+0000c400: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+0000c410: 6520 3d3d 2032 3030 3a0d 0a20 2020 2020  e == 200:..     
+0000c420: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000c430: 7272 203d 204e 6f6e 650d 0a20 2020 2020  rr = None..     
+0000c440: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000c450: 6573 756c 7420 3d20 4e6f 6e65 0d0a 0d0a  esult = None....
+0000c460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c470: 2020 2020 636f 756e 7420 3d20 2d31 0d0a      count = -1..
+0000c480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c490: 2020 2020 666f 7220 6920 696e 2072 616e      for i in ran
+0000c4a0: 6765 286c 656e 2872 6573 706f 6e73 652e  ge(len(response.
+0000c4b0: 7465 7874 2929 3a0d 0a20 2020 2020 2020  text)):..       
+0000c4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c4d0: 2069 6620 636f 756e 7420 3c3d 202d 313a   if count <= -1:
+0000c4e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000c4f0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000c500: 2072 6573 706f 6e73 652e 7465 7874 5b69   response.text[i
+0000c510: 5d20 3d3d 2022 7b22 3a0d 0a20 2020 2020  ] == "{":..     
 0000c520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c530: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-0000c540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c550: 2020 6d64 5b22 7769 6474 6822 5d20 3d20    md["width"] = 
-0000c560: 3130 3234 0d0a 0d0a 2020 2020 2020 2020  1024....        
-0000c570: 2020 2020 2020 2020 2020 2020 6966 2064              if d
-0000c580: 6174 612e 6765 7428 2269 6d61 6765 5f73  ata.get("image_s
-0000c590: 7479 6c65 2229 2021 3d20 4e6f 6e65 3a0d  tyle") != None:.
-0000c5a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c5b0: 2020 2020 2020 2020 206d 645b 2269 6d61           md["ima
-0000c5c0: 6765 5f73 7479 6c65 225d 203d 2064 6174  ge_style"] = dat
-0000c5d0: 612e 6765 7428 2269 6d61 6765 5f73 7479  a.get("image_sty
-0000c5e0: 6c65 2229 0d0a 2020 2020 2020 2020 2020  le")..          
-0000c5f0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-0000c600: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c610: 2020 2020 2020 2020 206d 645b 2269 6d61           md["ima
-0000c620: 6765 5f73 7479 6c65 225d 203d 2022 284e  ge_style"] = "(N
-0000c630: 6f20 7374 796c 6529 220d 0a20 2020 2020  o style)"..     
-0000c640: 2020 2020 2020 2020 2020 2020 2020 200d                 .
-0000c650: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c660: 2020 2020 2069 6620 6461 7461 2e67 6574       if data.get
-0000c670: 2822 7072 6f6d 7074 5f6e 6567 6174 6976  ("prompt_negativ
-0000c680: 6522 2920 213d 204e 6f6e 653a 0d0a 2020  e") != None:..  
-0000c690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c6a0: 2020 2020 2020 6d64 5b22 7072 6f6d 7074        md["prompt
-0000c6b0: 5f6e 6567 6174 6976 6522 5d20 3d20 6461  _negative"] = da
-0000c6c0: 7461 2e67 6574 2822 7072 6f6d 7074 5f6e  ta.get("prompt_n
-0000c6d0: 6567 6174 6976 6522 290d 0a20 2020 2020  egative")..     
-0000c6e0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0000c6f0: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-0000c700: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-0000c710: 5b22 7072 6f6d 7074 5f6e 6567 6174 6976  ["prompt_negativ
-0000c720: 6522 5d20 3d20 2222 0d0a 2020 2020 2020  e"] = ""..      
-0000c730: 2020 2020 2020 2020 2020 6578 6365 7074            except
-0000c740: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
-0000c750: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000c760: 2020 2020 2020 6d64 203d 207b 0d0a 2020        md = {..  
+0000c530: 2020 2020 2020 2020 2020 2063 6f75 6e74             count
+0000c540: 203d 2069 0d0a 2020 2020 2020 2020 2020   = i..          
+0000c550: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0000c560: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+0000c570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c580: 2062 7265 616b 0d0a 2020 2020 2020 2020   break..        
+0000c590: 2020 2020 2020 2020 2020 2020 0d0a 2020              ..  
+0000c5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c5b0: 2020 6966 2063 6f75 6e74 203c 3d20 2d31    if count <= -1
+0000c5c0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+0000c5d0: 2020 2020 2020 2020 2020 2065 7272 203d             err =
+0000c5e0: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+0000c5f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c600: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
+0000c610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c620: 2020 2020 2020 2020 2020 2273 7461 7475            "statu
+0000c630: 7322 3a20 4661 6c73 652c 0d0a 2020 2020  s": False,..    
+0000c640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c650: 2020 2020 2020 2020 2265 7272 6f72 223a          "error":
+0000c660: 2022 494e 5445 524e 414c 5f53 4552 5645   "INTERNAL_SERVE
+0000c670: 525f 4552 524f 5222 2c0d 0a20 2020 2020  R_ERROR",..     
+0000c680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c690: 2020 2020 2020 2022 6d65 7373 6167 6522         "message"
+0000c6a0: 3a20 2267 656e 6572 616c 2028 756e 6b6e  : "general (unkn
+0000c6b0: 6f77 6e29 2065 7272 6f72 220d 0a20 2020  own) error"..   
+0000c6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c6d0: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
+0000c6e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c6f0: 7265 7375 6c74 203d 204e 6f6e 650d 0a20  result = None.. 
+0000c700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c710: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+0000c720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c730: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+0000c740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c750: 2020 2020 6a73 203d 2072 6573 706f 6e73      js = respons
+0000c760: 652e 7465 7874 5b63 6f75 6e74 3a5d 0d0a  e.text[count:]..
 0000c770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c780: 2020 2020 2020 2270 726f 6d70 745f 6e65        "prompt_ne
-0000c790: 6761 7469 7665 223a 2022 222c 0d0a 2020  gative": "",..  
-0000c7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c7b0: 2020 2020 2020 2269 6d61 6765 5f73 7479        "image_sty
-0000c7c0: 6c65 223a 2022 284e 6f20 7374 796c 6529  le": "(No style)
-0000c7d0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-0000c7e0: 2020 2020 2020 2020 2020 2020 2277 6964              "wid
-0000c7f0: 7468 223a 2031 3032 342c 0d0a 2020 2020  th": 1024,..    
-0000c800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c810: 2020 2020 2268 6569 6768 7422 3a20 3130      "height": 10
-0000c820: 3234 2c0d 0a20 2020 2020 2020 2020 2020  24,..           
-0000c830: 2020 2020 2020 2020 2020 2020 2022 6c63               "lc
-0000c840: 6d5f 696e 6665 7265 6e63 655f 7374 6570  m_inference_step
-0000c850: 7322 3a20 390d 0a20 2020 2020 2020 2020  s": 9..         
-0000c860: 2020 2020 2020 2020 2020 207d 0d0a 0d0a             }....
-0000c870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c880: 6461 7461 203d 207b 7d0d 0a20 2020 2020  data = {}..     
-0000c890: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
-0000c8a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c8b0: 2020 2020 2064 6174 6120 3d20 6a73 6f6e       data = json
-0000c8c0: 2e64 756d 7073 287b 0d0a 2020 2020 2020  .dumps({..      
-0000c8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c8e0: 2020 2270 726f 6d70 7422 3a20 7072 6f6d    "prompt": prom
-0000c8f0: 7074 2c0d 0a20 2020 2020 2020 2020 2020  pt,..           
-0000c900: 2020 2020 2020 2020 2020 2020 2022 6d6f               "mo
-0000c910: 6465 6c22 3a20 2270 6978 6172 742d 6c63  del": "pixart-lc
-0000c920: 6d22 2c0d 0a20 2020 2020 2020 2020 2020  m",..           
-0000c930: 2020 2020 2020 2020 2020 2020 2022 6461               "da
-0000c940: 7461 223a 206d 640d 0a20 2020 2020 2020  ta": md..       
-0000c950: 2020 2020 2020 2020 2020 2020 207d 290d               }).
-0000c960: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c970: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-0000c980: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
-0000c990: 2020 2020 2020 2020 2020 2020 2064 6174               dat
-0000c9a0: 6120 3d20 6a73 6f6e 2e64 756d 7073 287b  a = json.dumps({
-0000c9b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000c9c0: 2020 2020 2020 2020 2020 2270 726f 6d70            "promp
-0000c9d0: 7422 3a20 2222 2c0d 0a20 2020 2020 2020  t": "",..       
-0000c9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c9f0: 2022 6d6f 6465 6c22 3a20 2270 6978 6172   "model": "pixar
-0000ca00: 742d 6c63 6d22 2c0d 0a20 2020 2020 2020  t-lcm",..       
-0000ca10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ca20: 2022 6461 7461 223a 207b 0d0a 2020 2020   "data": {..    
-0000ca30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ca40: 2020 2020 2020 2020 2270 726f 6d70 745f          "prompt_
-0000ca50: 6e65 6761 7469 7665 223a 2022 222c 0d0a  negative": "",..
+0000c780: 2020 2020 2020 2020 2020 2020 6a73 203d              js =
+0000c790: 206a 736f 6e2e 6c6f 6164 7328 6a73 290d   json.loads(js).
+0000c7a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c7b0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0000c7c0: 6a73 2021 3d20 4e6f 6e65 2061 6e64 206a  js != None and j
+0000c7d0: 735b 2263 6f64 6522 5d20 213d 204e 6f6e  s["code"] != Non
+0000c7e0: 6520 616e 6420 6a73 5b22 636f 6465 225d  e and js["code"]
+0000c7f0: 203d 3d20 3230 3020 616e 6420 6a73 5b22   == 200 and js["
+0000c800: 7374 6174 7573 225d 2021 3d20 4e6f 6e65  status"] != None
+0000c810: 2061 6e64 206a 735b 2273 7461 7475 7322   and js["status"
+0000c820: 5d20 3d3d 2054 7275 653a 0d0a 2020 2020  ] == True:..    
+0000c830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c840: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+0000c850: 6c74 203d 206a 730d 0a20 2020 2020 2020  lt = js..       
+0000c860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c870: 2020 2020 2020 2020 2065 7272 203d 204e           err = N
+0000c880: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+0000c890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c8a0: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+0000c8b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c8c0: 2020 2020 2020 2020 6572 7220 3d20 6a73          err = js
+0000c8d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000c8e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c8f0: 2020 7265 7375 6c74 203d 204e 6f6e 650d    result = None.
+0000c900: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c910: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+0000c920: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
+0000c930: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c940: 2020 2020 2020 2020 2020 2020 2065 7272               err
+0000c950: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+0000c960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c970: 2020 2020 2020 2263 6f64 6522 3a20 3530        "code": 50
+0000c980: 302c 0d0a 2020 2020 2020 2020 2020 2020  0,..            
+0000c990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c9a0: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
+0000c9b0: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
+0000c9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c9d0: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
+0000c9e0: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
+0000c9f0: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
+0000ca00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ca10: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
+0000ca20: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
+0000ca30: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
+0000ca40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ca50: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
 0000ca60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ca70: 2020 2020 2020 2020 2020 2020 2269 6d61              "ima
-0000ca80: 6765 5f73 7479 6c65 223a 2022 284e 6f20  ge_style": "(No 
-0000ca90: 7374 796c 6529 222c 0d0a 2020 2020 2020  style)",..      
-0000caa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cab0: 2020 2020 2020 2277 6964 7468 223a 2031        "width": 1
-0000cac0: 3032 342c 0d0a 2020 2020 2020 2020 2020  024,..          
+0000ca70: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+0000ca80: 203d 204e 6f6e 650d 0a0d 0a20 2020 2020   = None....     
+0000ca90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000caa0: 2020 2069 6620 7265 7375 6c74 203d 3d20     if result == 
+0000cab0: 4e6f 6e65 2061 6e64 2065 7272 2021 3d20  None and err != 
+0000cac0: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
 0000cad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cae0: 2020 2268 6569 6768 7422 3a20 3130 3234    "height": 1024
-0000caf0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000cb00: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000cb10: 6c63 6d5f 696e 6665 7265 6e63 655f 7374  lcm_inference_st
-0000cb20: 6570 7322 3a20 390d 0a20 2020 2020 2020  eps": 9..       
-0000cb30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cb40: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
-0000cb50: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
-0000cb60: 2020 2020 2020 2020 2020 2020 0d0a 2020              ..  
-0000cb70: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0000cb80: 7370 6f6e 7365 203d 2072 6571 7565 7374  sponse = request
-0000cb90: 732e 706f 7374 2875 726c 3d22 6874 7470  s.post(url="http
-0000cba0: 733a 2f2f 6e65 7872 612e 6172 7961 6863  s://nexra.aryahc
-0000cbb0: 722e 6363 2f61 7069 2f69 6d61 6765 2f63  r.cc/api/image/c
-0000cbc0: 6f6d 706c 656d 656e 7473 222c 2068 6561  omplements", hea
-0000cbd0: 6465 7273 3d68 6561 6465 7273 2c20 6461  ders=headers, da
-0000cbe0: 7461 3d64 6174 6129 0d0a 2020 2020 2020  ta=data)..      
-0000cbf0: 2020 2020 2020 2020 2020 6966 2072 6573            if res
-0000cc00: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-0000cc10: 6520 3d3d 2032 3030 3a0d 0a20 2020 2020  e == 200:..     
-0000cc20: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0000cc30: 7272 203d 204e 6f6e 650d 0a20 2020 2020  rr = None..     
-0000cc40: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000cc50: 6573 756c 7420 3d20 4e6f 6e65 0d0a 0d0a  esult = None....
-0000cc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc70: 2020 2020 636f 756e 7420 3d20 2d31 0d0a      count = -1..
-0000cc80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc90: 2020 2020 666f 7220 6920 696e 2072 616e      for i in ran
-0000cca0: 6765 286c 656e 2872 6573 706f 6e73 652e  ge(len(response.
-0000ccb0: 7465 7874 2929 3a0d 0a20 2020 2020 2020  text)):..       
-0000ccc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ccd0: 2069 6620 636f 756e 7420 3c3d 202d 313a   if count <= -1:
-0000cce0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000ccf0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0000cd00: 2072 6573 706f 6e73 652e 7465 7874 5b69   response.text[i
-0000cd10: 5d20 3d3d 2022 7b22 3a0d 0a20 2020 2020  ] == "{":..     
+0000cae0: 2020 2073 656c 662e 6572 726f 7220 3d20     self.error = 
+0000caf0: 6572 720d 0a20 2020 2020 2020 2020 2020  err..           
+0000cb00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cb10: 2073 656c 662e 7265 7375 6c74 203d 204e   self.result = N
+0000cb20: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+0000cb30: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+0000cb40: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0000cb50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cb60: 7365 6c66 2e72 6573 756c 7420 3d20 7265  self.result = re
+0000cb70: 7375 6c74 0d0a 2020 2020 2020 2020 2020  sult..          
+0000cb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cb90: 2020 7365 6c66 2e65 7272 6f72 203d 204e    self.error = N
+0000cba0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+0000cbb0: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
+0000cbc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cbd0: 6461 7461 5f65 7272 203d 207b 7d0d 0a20  data_err = {}.. 
+0000cbe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cbf0: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
+0000cc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cc10: 2064 6174 615f 6572 7220 3d20 6a73 6f6e   data_err = json
+0000cc20: 2e6c 6f61 6473 2872 6573 706f 6e73 652e  .loads(response.
+0000cc30: 7465 7874 290d 0a20 2020 2020 2020 2020  text)..         
+0000cc40: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0000cc50: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
+0000cc60: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+0000cc70: 2020 2020 2020 2020 2020 2064 6174 615f             data_
+0000cc80: 6572 7220 3d20 7b0d 0a20 2020 2020 2020  err = {..       
+0000cc90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cca0: 2020 2020 2022 636f 6465 223a 2035 3030       "code": 500
+0000ccb0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000ccc0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000ccd0: 7374 6174 7573 223a 2046 616c 7365 2c0d  status": False,.
+0000cce0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000ccf0: 2020 2020 2020 2020 2020 2020 2022 6572               "er
+0000cd00: 726f 7222 3a20 2249 4e54 4552 4e41 4c5f  ror": "INTERNAL_
+0000cd10: 5345 5256 4552 5f45 5252 4f52 222c 0d0a  SERVER_ERROR",..
 0000cd20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cd30: 2020 2020 2020 2020 2020 2063 6f75 6e74             count
-0000cd40: 203d 2069 0d0a 2020 2020 2020 2020 2020   = i..          
-0000cd50: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0000cd60: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-0000cd70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cd80: 2062 7265 616b 0d0a 2020 2020 2020 2020   break..        
-0000cd90: 2020 2020 2020 2020 2020 2020 0d0a 2020              ..  
-0000cda0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cdb0: 2020 6966 2063 6f75 6e74 203c 3d20 2d31    if count <= -1
-0000cdc0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0000cdd0: 2020 2020 2020 2020 2020 2065 7272 203d             err =
-0000cde0: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
-0000cdf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce00: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
-0000ce10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce20: 2020 2020 2020 2020 2020 2273 7461 7475            "statu
-0000ce30: 7322 3a20 4661 6c73 652c 0d0a 2020 2020  s": False,..    
-0000ce40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce50: 2020 2020 2020 2020 2265 7272 6f72 223a          "error":
-0000ce60: 2022 494e 5445 524e 414c 5f53 4552 5645   "INTERNAL_SERVE
-0000ce70: 525f 4552 524f 5222 2c0d 0a20 2020 2020  R_ERROR",..     
-0000ce80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce90: 2020 2020 2020 2022 6d65 7373 6167 6522         "message"
-0000cea0: 3a20 2267 656e 6572 616c 2028 756e 6b6e  : "general (unkn
-0000ceb0: 6f77 6e29 2065 7272 6f72 220d 0a20 2020  own) error"..   
-0000cec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ced0: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
-0000cee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cef0: 7265 7375 6c74 203d 204e 6f6e 650d 0a20  result = None.. 
-0000cf00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cf10: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-0000cf20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cf30: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
-0000cf40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cf50: 2020 2020 6a73 203d 2072 6573 706f 6e73      js = respons
-0000cf60: 652e 7465 7874 5b63 6f75 6e74 3a5d 0d0a  e.text[count:]..
-0000cf70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cf80: 2020 2020 2020 2020 2020 2020 6a73 203d              js =
-0000cf90: 206a 736f 6e2e 6c6f 6164 7328 6a73 290d   json.loads(js).
-0000cfa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000cfb0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000cfc0: 6a73 2021 3d20 4e6f 6e65 2061 6e64 206a  js != None and j
-0000cfd0: 735b 2263 6f64 6522 5d20 213d 204e 6f6e  s["code"] != Non
-0000cfe0: 6520 616e 6420 6a73 5b22 636f 6465 225d  e and js["code"]
-0000cff0: 203d 3d20 3230 3020 616e 6420 6a73 5b22   == 200 and js["
-0000d000: 7374 6174 7573 225d 2021 3d20 4e6f 6e65  status"] != None
-0000d010: 2061 6e64 206a 735b 2273 7461 7475 7322   and js["status"
-0000d020: 5d20 3d3d 2054 7275 653a 0d0a 2020 2020  ] == True:..    
-0000d030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d040: 2020 2020 2020 2020 2020 2020 7265 7375              resu
-0000d050: 6c74 203d 206a 730d 0a20 2020 2020 2020  lt = js..       
-0000d060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d070: 2020 2020 2020 2020 2065 7272 203d 204e           err = N
-0000d080: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-0000d090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d0a0: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
-0000d0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d0c0: 2020 2020 2020 2020 6572 7220 3d20 6a73          err = js
-0000d0d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000d0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d0f0: 2020 7265 7375 6c74 203d 204e 6f6e 650d    result = None.
-0000d100: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d110: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-0000d120: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
-0000d130: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d140: 2020 2020 2020 2020 2020 2020 2065 7272               err
-0000d150: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-0000d160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d170: 2020 2020 2020 2263 6f64 6522 3a20 3530        "code": 50
-0000d180: 302c 0d0a 2020 2020 2020 2020 2020 2020  0,..            
-0000d190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d1a0: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
-0000d1b0: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
-0000d1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d1d0: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
-0000d1e0: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
-0000d1f0: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
-0000d200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d210: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
-0000d220: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
-0000d230: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
-0000d240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d250: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
-0000d260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d270: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-0000d280: 203d 204e 6f6e 650d 0a0d 0a20 2020 2020   = None....     
-0000d290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d2a0: 2020 2069 6620 7265 7375 6c74 203d 3d20     if result == 
-0000d2b0: 4e6f 6e65 2061 6e64 2065 7272 2021 3d20  None and err != 
-0000d2c0: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
-0000d2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d2e0: 2020 2073 656c 662e 6572 726f 7220 3d20     self.error = 
-0000d2f0: 6572 720d 0a20 2020 2020 2020 2020 2020  err..           
-0000d300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d310: 2073 656c 662e 7265 7375 6c74 203d 204e   self.result = N
-0000d320: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-0000d330: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-0000d340: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0000cd30: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
+0000cd40: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
+0000cd50: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
+0000cd60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000cd70: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
+0000cd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cd90: 200d 0a20 2020 2020 2020 2020 2020 2020   ..             
+0000cda0: 2020 2020 2020 2073 656c 662e 6572 726f         self.erro
+0000cdb0: 7220 3d20 6461 7461 5f65 7272 0d0a 2020  r = data_err..  
+0000cdc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cdd0: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
+0000cde0: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
+0000cdf0: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
+0000ce00: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
+0000ce10: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
+0000ce20: 7272 6f72 203d 207b 0d0a 2020 2020 2020  rror = {..      
+0000ce30: 2020 2020 2020 2020 2020 2020 2020 2263                "c
+0000ce40: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
+0000ce50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ce60: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
+0000ce70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000ce80: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
+0000ce90: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
+0000cea0: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
+0000ceb0: 2020 2020 2020 2020 2020 2020 2022 6d65               "me
+0000cec0: 7373 6167 6522 3a20 2267 656e 6572 616c  ssage": "general
+0000ced0: 2028 756e 6b6e 6f77 6e29 2065 7272 6f72   (unknown) error
+0000cee0: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
+0000cef0: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
+0000cf00: 2020 2020 2020 7365 6c66 2e72 6573 756c        self.resul
+0000cf10: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
+0000cf20: 2020 2020 2020 7061 7373 0d0a 2020 2020        pass..    
+0000cf30: 2020 2020 6465 6620 6572 726f 7228 7365      def error(se
+0000cf40: 6c66 293a 0d0a 2020 2020 2020 2020 2020  lf):..          
+0000cf50: 2020 7265 7475 726e 2073 656c 662e 6572    return self.er
+0000cf60: 726f 720d 0a20 2020 2020 2020 2064 6566  ror..        def
+0000cf70: 2072 6573 756c 7428 7365 6c66 293a 0d0a   result(self):..
+0000cf80: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0000cf90: 726e 2073 656c 662e 7265 7375 6c74 0d0a  rn self.result..
+0000cfa0: 0d0a 636c 6173 7320 7069 7861 7274 2829  ..class pixart()
+0000cfb0: 3a0d 0a20 2020 2063 6c61 7373 2061 2829  :..    class a()
+0000cfc0: 3a0d 0a20 2020 2020 2020 2065 7272 6f72  :..        error
+0000cfd0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+0000cfe0: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
+0000cff0: 2020 2020 2020 2020 6465 6620 5f5f 696e          def __in
+0000d000: 6974 5f5f 2873 656c 662c 2070 726f 6d70  it__(self, promp
+0000d010: 743d 2222 2c20 6461 7461 3d7b 0d0a 2020  t="", data={..  
+0000d020: 2020 2020 2020 2020 2020 2270 726f 6d70            "promp
+0000d030: 745f 6e65 6761 7469 7665 223a 2022 222c  t_negative": "",
+0000d040: 0d0a 2020 2020 2020 2020 2020 2020 2273  ..            "s
+0000d050: 616d 706c 6572 223a 2022 222c 0d0a 2020  ampler": "",..  
+0000d060: 2020 2020 2020 2020 2020 2269 6d61 6765            "image
+0000d070: 5f73 7479 6c65 223a 2022 222c 0d0a 2020  _style": "",..  
+0000d080: 2020 2020 2020 2020 2020 2277 6964 7468            "width
+0000d090: 223a 2022 222c 0d0a 2020 2020 2020 2020  ": "",..        
+0000d0a0: 2020 2020 2268 6569 6768 7422 3a20 2222      "height": ""
+0000d0b0: 2c0d 0a20 2020 2020 2020 2020 2020 2022  ,..            "
+0000d0c0: 6470 6d5f 6775 6964 616e 6365 5f73 6361  dpm_guidance_sca
+0000d0d0: 6c65 223a 2022 222c 0d0a 2020 2020 2020  le": "",..      
+0000d0e0: 2020 2020 2020 2264 706d 5f69 6e66 6572        "dpm_infer
+0000d0f0: 656e 6365 5f73 7465 7073 223a 2022 222c  ence_steps": "",
+0000d100: 0d0a 2020 2020 2020 2020 2020 2020 2273  ..            "s
+0000d110: 615f 6775 6964 616e 6365 5f73 6361 6c65  a_guidance_scale
+0000d120: 223a 2022 222c 0d0a 2020 2020 2020 2020  ": "",..        
+0000d130: 2020 2020 2273 615f 696e 6665 7265 6e63      "sa_inferenc
+0000d140: 655f 7374 6570 7322 3a20 2222 0d0a 2020  e_steps": ""..  
+0000d150: 2020 2020 2020 7d29 202d 3e20 4e6f 6e65        }) -> None
+0000d160: 3a0d 0a20 2020 2020 2020 2020 2020 2074  :..            t
+0000d170: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
+0000d180: 2020 2020 2068 6561 6465 7273 203d 207b       headers = {
+0000d190: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000d1a0: 2020 2020 2020 2243 6f6e 7465 6e74 2d54        "Content-T
+0000d1b0: 7970 6522 3a20 2261 7070 6c69 6361 7469  ype": "applicati
+0000d1c0: 6f6e 2f6a 736f 6e22 0d0a 2020 2020 2020  on/json"..      
+0000d1d0: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
+0000d1e0: 2020 2020 2020 2020 2020 2020 2068 6561               hea
+0000d1f0: 6465 7273 2e75 7064 6174 6528 6372 6564  ders.update(cred
+0000d200: 290d 0a0d 0a20 2020 2020 2020 2020 2020  )....           
+0000d210: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
+0000d220: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0000d230: 726f 6d70 7420 3d20 7072 6f6d 7074 2069  rompt = prompt i
+0000d240: 6620 7072 6f6d 7074 2069 7320 6e6f 7420  f prompt is not 
+0000d250: 4e6f 6e65 2065 6c73 6520 2222 0d0a 2020  None else ""..  
+0000d260: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+0000d270: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+0000d280: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
+0000d290: 2020 2020 2020 2020 2020 7072 6f6d 7074            prompt
+0000d2a0: 203d 2022 220d 0a0d 0a20 2020 2020 2020   = ""....       
+0000d2b0: 2020 2020 2020 2020 206d 6420 3d20 7b0d           md = {.
+0000d2c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d2d0: 2020 2020 2022 7072 6f6d 7074 5f6e 6567       "prompt_neg
+0000d2e0: 6174 6976 6522 3a20 2222 2c0d 0a20 2020  ative": "",..   
+0000d2f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d300: 2022 7361 6d70 6c65 7222 3a20 2244 504d   "sampler": "DPM
+0000d310: 2d53 6f6c 7665 7222 2c0d 0a20 2020 2020  -Solver",..     
+0000d320: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000d330: 696d 6167 655f 7374 796c 6522 3a20 2228  image_style": "(
+0000d340: 4e6f 2073 7479 6c65 2922 2c0d 0a20 2020  No style)",..   
 0000d350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d360: 7365 6c66 2e72 6573 756c 7420 3d20 7265  self.result = re
-0000d370: 7375 6c74 0d0a 2020 2020 2020 2020 2020  sult..          
-0000d380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d390: 2020 7365 6c66 2e65 7272 6f72 203d 204e    self.error = N
-0000d3a0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-0000d3b0: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
-0000d3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d3d0: 6461 7461 5f65 7272 203d 207b 7d0d 0a20  data_err = {}.. 
-0000d3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d3f0: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
-0000d400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d410: 2064 6174 615f 6572 7220 3d20 6a73 6f6e   data_err = json
-0000d420: 2e6c 6f61 6473 2872 6573 706f 6e73 652e  .loads(response.
-0000d430: 7465 7874 290d 0a20 2020 2020 2020 2020  text)..         
-0000d440: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-0000d450: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
-0000d460: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0000d470: 2020 2020 2020 2020 2020 2064 6174 615f             data_
-0000d480: 6572 7220 3d20 7b0d 0a20 2020 2020 2020  err = {..       
-0000d490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d4a0: 2020 2020 2022 636f 6465 223a 2035 3030       "code": 500
-0000d4b0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000d4c0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000d4d0: 7374 6174 7573 223a 2046 616c 7365 2c0d  status": False,.
-0000d4e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d4f0: 2020 2020 2020 2020 2020 2020 2022 6572               "er
-0000d500: 726f 7222 3a20 2249 4e54 4552 4e41 4c5f  ror": "INTERNAL_
-0000d510: 5345 5256 4552 5f45 5252 4f52 222c 0d0a  SERVER_ERROR",..
-0000d520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d530: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
-0000d540: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
-0000d550: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
-0000d560: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000d570: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
-0000d580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d590: 200d 0a20 2020 2020 2020 2020 2020 2020   ..             
-0000d5a0: 2020 2020 2020 2073 656c 662e 6572 726f         self.erro
-0000d5b0: 7220 3d20 6461 7461 5f65 7272 0d0a 2020  r = data_err..  
-0000d5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d5d0: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
-0000d5e0: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
-0000d5f0: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-0000d600: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
-0000d610: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
-0000d620: 7272 6f72 203d 207b 0d0a 2020 2020 2020  rror = {..      
-0000d630: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-0000d640: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
-0000d650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d660: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
-0000d670: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000d680: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
-0000d690: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
-0000d6a0: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
-0000d6b0: 2020 2020 2020 2020 2020 2020 2022 6d65               "me
-0000d6c0: 7373 6167 6522 3a20 2267 656e 6572 616c  ssage": "general
-0000d6d0: 2028 756e 6b6e 6f77 6e29 2065 7272 6f72   (unknown) error
-0000d6e0: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
-0000d6f0: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
-0000d700: 2020 2020 2020 7365 6c66 2e72 6573 756c        self.resul
-0000d710: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
-0000d720: 2020 2020 2020 7061 7373 0d0a 2020 2020        pass..    
-0000d730: 2020 2020 6465 6620 6572 726f 7228 7365      def error(se
-0000d740: 6c66 293a 0d0a 2020 2020 2020 2020 2020  lf):..          
-0000d750: 2020 7265 7475 726e 2073 656c 662e 6572    return self.er
-0000d760: 726f 720d 0a20 2020 2020 2020 2064 6566  ror..        def
-0000d770: 2072 6573 756c 7428 7365 6c66 293a 0d0a   result(self):..
-0000d780: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000d790: 726e 2073 656c 662e 7265 7375 6c74 0d0a  rn self.result..
-0000d7a0: 0d0a 636c 6173 7320 7374 6162 6c65 6469  ..class stabledi
-0000d7b0: 6666 7573 696f 6e28 293a 0d0a 2020 2020  ffusion():..    
-0000d7c0: 636c 6173 7320 7631 2829 3a0d 0a20 2020  class v1():..   
-0000d7d0: 2020 2020 2065 7272 6f72 203d 204e 6f6e       error = Non
-0000d7e0: 650d 0a20 2020 2020 2020 2072 6573 756c  e..        resul
-0000d7f0: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
-0000d800: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
-0000d810: 656c 662c 2070 726f 6d70 743d 2222 2920  elf, prompt="") 
-0000d820: 2d3e 204e 6f6e 653a 0d0a 2020 2020 2020  -> None:..      
-0000d830: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
-0000d840: 2020 2020 2020 2020 2020 2020 6865 6164              head
-0000d850: 6572 7320 3d20 7b0d 0a20 2020 2020 2020  ers = {..       
-0000d860: 2020 2020 2020 2020 2020 2020 2022 436f               "Co
-0000d870: 6e74 656e 742d 5479 7065 223a 2022 6170  ntent-Type": "ap
-0000d880: 706c 6963 6174 696f 6e2f 6a73 6f6e 220d  plication/json".
-0000d890: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d8a0: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
-0000d8b0: 2020 2020 6572 7220 3d20 4661 6c73 650d      err = False.
-0000d8c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d8d0: 200d 0a20 2020 2020 2020 2020 2020 2020   ..             
-0000d8e0: 2020 2064 6174 6120 3d20 6a73 6f6e 2e64     data = json.d
-0000d8f0: 756d 7073 287b 7d29 0d0a 2020 2020 2020  umps({})..      
-0000d900: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
-0000d910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d920: 2020 2020 6461 7461 203d 206a 736f 6e2e      data = json.
-0000d930: 6475 6d70 7328 7b0d 0a20 2020 2020 2020  dumps({..       
-0000d940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d950: 2022 7072 6f6d 7074 223a 2070 726f 6d70   "prompt": promp
-0000d960: 7420 6966 2070 726f 6d70 7420 6973 206e  t if prompt is n
-0000d970: 6f74 204e 6f6e 6520 656c 7365 2022 222c  ot None else "",
-0000d980: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000d990: 2020 2020 2020 2020 2020 226d 6f64 656c            "model
-0000d9a0: 223a 2022 7374 6162 6c65 6469 6666 7573  ": "stablediffus
-0000d9b0: 696f 6e2d 312e 3522 0d0a 2020 2020 2020  ion-1.5"..      
-0000d9c0: 2020 2020 2020 2020 2020 2020 2020 7d29                })
-0000d9d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000d9e0: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-0000d9f0: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
-0000da00: 2020 2020 2020 2020 2020 2020 2020 6461                da
-0000da10: 7461 203d 206a 736f 6e2e 6475 6d70 7328  ta = json.dumps(
-0000da20: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
-0000da30: 2020 2020 2020 2020 2020 2022 7072 6f6d             "prom
-0000da40: 7074 223a 2022 222c 0d0a 2020 2020 2020  pt": "",..      
-0000da50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000da60: 2020 226d 6f64 656c 223a 2022 7374 6162    "model": "stab
-0000da70: 6c65 6469 6666 7573 696f 6e2d 312e 3522  lediffusion-1.5"
-0000da80: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000da90: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
-0000daa0: 2020 2020 2020 2020 2020 0d0a 2020 2020            ..    
-0000dab0: 2020 2020 2020 2020 2020 2020 7265 7370              resp
-0000dac0: 6f6e 7365 203d 2072 6571 7565 7374 732e  onse = requests.
-0000dad0: 706f 7374 2875 726c 3d22 6874 7470 733a  post(url="https:
-0000dae0: 2f2f 6e65 7872 612e 6172 7961 6863 722e  //nexra.aryahcr.
-0000daf0: 6363 2f61 7069 2f69 6d61 6765 2f63 6f6d  cc/api/image/com
-0000db00: 706c 656d 656e 7473 222c 2068 6561 6465  plements", heade
-0000db10: 7273 3d68 6561 6465 7273 2c20 6461 7461  rs=headers, data
-0000db20: 3d64 6174 6129 0d0a 2020 2020 2020 2020  =data)..        
-0000db30: 2020 2020 2020 2020 6966 2072 6573 706f          if respo
-0000db40: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-0000db50: 3d3d 2032 3030 3a0d 0a20 2020 2020 2020  == 200:..       
-0000db60: 2020 2020 2020 2020 2020 2020 2065 7272               err
-0000db70: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
-0000db80: 2020 2020 2020 2020 2020 2020 2072 6573               res
-0000db90: 756c 7420 3d20 4e6f 6e65 0d0a 0d0a 2020  ult = None....  
-0000dba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dbb0: 2020 636f 756e 7420 3d20 2d31 0d0a 2020    count = -1..  
-0000dbc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dbd0: 2020 666f 7220 6920 696e 2072 616e 6765    for i in range
-0000dbe0: 286c 656e 2872 6573 706f 6e73 652e 7465  (len(response.te
-0000dbf0: 7874 2929 3a0d 0a20 2020 2020 2020 2020  xt)):..         
-0000dc00: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000dc10: 6620 636f 756e 7420 3c3d 202d 313a 0d0a  f count <= -1:..
-0000dc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dc30: 2020 2020 2020 2020 2020 2020 6966 2072              if r
-0000dc40: 6573 706f 6e73 652e 7465 7874 5b69 5d20  esponse.text[i] 
-0000dc50: 3d3d 2022 7b22 3a0d 0a20 2020 2020 2020  == "{":..       
-0000dc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dc70: 2020 2020 2020 2020 2063 6f75 6e74 203d           count =
-0000dc80: 2069 0d0a 2020 2020 2020 2020 2020 2020   i..            
-0000dc90: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0000dca0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0000dcb0: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-0000dcc0: 7265 616b 0d0a 2020 2020 2020 2020 2020  reak..          
-0000dcd0: 2020 2020 2020 2020 2020 0d0a 2020 2020            ..    
-0000dce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dcf0: 6966 2063 6f75 6e74 203c 3d20 2d31 3a0d  if count <= -1:.
-0000dd00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000dd10: 2020 2020 2020 2020 2065 7272 203d 207b           err = {
-0000dd20: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000dd30: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-0000dd40: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
+0000d360: 2022 7769 6474 6822 3a20 3130 3234 2c0d   "width": 1024,.
+0000d370: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d380: 2020 2020 2022 6865 6967 6874 223a 2031       "height": 1
+0000d390: 3032 342c 0d0a 2020 2020 2020 2020 2020  024,..          
+0000d3a0: 2020 2020 2020 2020 2020 2264 706d 5f67            "dpm_g
+0000d3b0: 7569 6461 6e63 655f 7363 616c 6522 3a20  uidance_scale": 
+0000d3c0: 342e 352c 0d0a 2020 2020 2020 2020 2020  4.5,..          
+0000d3d0: 2020 2020 2020 2020 2020 2264 706d 5f69            "dpm_i
+0000d3e0: 6e66 6572 656e 6365 5f73 7465 7073 223a  nference_steps":
+0000d3f0: 2031 342c 0d0a 2020 2020 2020 2020 2020   14,..          
+0000d400: 2020 2020 2020 2020 2020 2273 615f 6775            "sa_gu
+0000d410: 6964 616e 6365 5f73 6361 6c65 223a 2033  idance_scale": 3
+0000d420: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000d430: 2020 2020 2020 2022 7361 5f69 6e66 6572         "sa_infer
+0000d440: 656e 6365 5f73 7465 7073 223a 2032 350d  ence_steps": 25.
+0000d450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d460: 207d 0d0a 0d0a 2020 2020 2020 2020 2020   }....          
+0000d470: 2020 2020 2020 7472 7920 3a0d 0a20 2020        try :..   
+0000d480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d490: 2069 6620 6461 7461 2e67 6574 2822 7361   if data.get("sa
+0000d4a0: 6d70 6c65 7222 2920 213d 204e 6f6e 653a  mpler") != None:
+0000d4b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000d4c0: 2020 2020 2020 2020 2020 6d64 5b22 7361            md["sa
+0000d4d0: 6d70 6c65 7222 5d20 3d20 6461 7461 2e67  mpler"] = data.g
+0000d4e0: 6574 2822 7361 6d70 6c65 7222 290d 0a20  et("sampler").. 
+0000d4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d500: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+0000d510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d520: 2020 6d64 5b22 7361 6d70 6c65 7222 5d20    md["sampler"] 
+0000d530: 3d20 2244 504d 2d53 6f6c 7665 7222 0d0a  = "DPM-Solver"..
+0000d540: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000d550: 2020 2020 2020 6966 2064 6174 612e 6765        if data.ge
+0000d560: 7428 2268 6569 6768 7422 2920 213d 204e  t("height") != N
+0000d570: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+0000d580: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+0000d590: 5b22 6865 6967 6874 225d 203d 2064 6174  ["height"] = dat
+0000d5a0: 612e 6765 7428 2268 6569 6768 7422 290d  a.get("height").
+0000d5b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d5c0: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
+0000d5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d5e0: 2020 2020 6d64 5b22 6865 6967 6874 225d      md["height"]
+0000d5f0: 203d 2031 3032 340d 0a0d 0a20 2020 2020   = 1024....     
+0000d600: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0000d610: 6620 6461 7461 2e67 6574 2822 7769 6474  f data.get("widt
+0000d620: 6822 2920 213d 204e 6f6e 653a 0d0a 2020  h") != None:..  
+0000d630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d640: 2020 2020 2020 6d64 5b22 7769 6474 6822        md["width"
+0000d650: 5d20 3d20 6461 7461 2e67 6574 2822 7769  ] = data.get("wi
+0000d660: 6474 6822 290d 0a20 2020 2020 2020 2020  dth")..         
+0000d670: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0000d680: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000d690: 2020 2020 2020 2020 2020 6d64 5b22 7769            md["wi
+0000d6a0: 6474 6822 5d20 3d20 3130 3234 0d0a 0d0a  dth"] = 1024....
+0000d6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d6c0: 2020 2020 6966 2064 6174 612e 6765 7428      if data.get(
+0000d6d0: 2269 6d61 6765 5f73 7479 6c65 2229 2021  "image_style") !
+0000d6e0: 3d20 4e6f 6e65 3a0d 0a20 2020 2020 2020  = None:..       
+0000d6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d700: 206d 645b 2269 6d61 6765 5f73 7479 6c65   md["image_style
+0000d710: 225d 203d 2064 6174 612e 6765 7428 2269  "] = data.get("i
+0000d720: 6d61 6765 5f73 7479 6c65 2229 0d0a 2020  mage_style")..  
+0000d730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d740: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+0000d750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d760: 206d 645b 2269 6d61 6765 5f73 7479 6c65   md["image_style
+0000d770: 225d 203d 2022 284e 6f20 7374 796c 6529  "] = "(No style)
+0000d780: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
+0000d790: 2020 2020 2020 200d 0a20 2020 2020 2020         ..       
+0000d7a0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0000d7b0: 6461 7461 2e67 6574 2822 7072 6f6d 7074  data.get("prompt
+0000d7c0: 5f6e 6567 6174 6976 6522 2920 213d 204e  _negative") != N
+0000d7d0: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+0000d7e0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+0000d7f0: 5b22 7072 6f6d 7074 5f6e 6567 6174 6976  ["prompt_negativ
+0000d800: 6522 5d20 3d20 6461 7461 2e67 6574 2822  e"] = data.get("
+0000d810: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
+0000d820: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+0000d830: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+0000d840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d850: 2020 2020 2020 6d64 5b22 7072 6f6d 7074        md["prompt
+0000d860: 5f6e 6567 6174 6976 6522 5d20 3d20 2222  _negative"] = ""
+0000d870: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000d880: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+0000d890: 2020 2020 2020 2020 2020 2020 6966 2064              if d
+0000d8a0: 6174 612e 6765 7428 2264 706d 5f67 7569  ata.get("dpm_gui
+0000d8b0: 6461 6e63 655f 7363 616c 6522 2920 213d  dance_scale") !=
+0000d8c0: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+0000d8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d8e0: 6d64 5b22 6470 6d5f 6775 6964 616e 6365  md["dpm_guidance
+0000d8f0: 5f73 6361 6c65 225d 203d 2064 6174 612e  _scale"] = data.
+0000d900: 6765 7428 2264 706d 5f67 7569 6461 6e63  get("dpm_guidanc
+0000d910: 655f 7363 616c 6522 290d 0a20 2020 2020  e_scale")..     
+0000d920: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000d930: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+0000d940: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+0000d950: 5b22 6470 6d5f 6775 6964 616e 6365 5f73  ["dpm_guidance_s
+0000d960: 6361 6c65 225d 203d 2034 2e35 0d0a 0d0a  cale"] = 4.5....
+0000d970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d980: 2020 2020 6966 2064 6174 612e 6765 7428      if data.get(
+0000d990: 2264 706d 5f69 6e66 6572 656e 6365 5f73  "dpm_inference_s
+0000d9a0: 7465 7073 2229 2021 3d20 4e6f 6e65 3a0d  teps") != None:.
+0000d9b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d9c0: 2020 2020 2020 2020 206d 645b 2264 706d           md["dpm
+0000d9d0: 5f69 6e66 6572 656e 6365 5f73 7465 7073  _inference_steps
+0000d9e0: 225d 203d 2064 6174 612e 6765 7428 2264  "] = data.get("d
+0000d9f0: 706d 5f69 6e66 6572 656e 6365 5f73 7465  pm_inference_ste
+0000da00: 7073 2229 0d0a 2020 2020 2020 2020 2020  ps")..          
+0000da10: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+0000da20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000da30: 2020 2020 2020 2020 206d 645b 2264 706d           md["dpm
+0000da40: 5f69 6e66 6572 656e 6365 5f73 7465 7073  _inference_steps
+0000da50: 225d 203d 2031 340d 0a20 2020 2020 2020  "] = 14..       
+0000da60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000da70: 200d 0a20 2020 2020 2020 2020 2020 2020   ..             
+0000da80: 2020 2020 2020 2069 6620 6461 7461 2e67         if data.g
+0000da90: 6574 2822 7361 5f67 7569 6461 6e63 655f  et("sa_guidance_
+0000daa0: 7363 616c 6522 2920 213d 204e 6f6e 653a  scale") != None:
+0000dab0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000dac0: 2020 2020 2020 2020 2020 6d64 5b22 7361            md["sa
+0000dad0: 5f67 7569 6461 6e63 655f 7363 616c 6522  _guidance_scale"
+0000dae0: 5d20 3d20 6461 7461 2e67 6574 2822 7361  ] = data.get("sa
+0000daf0: 5f67 7569 6461 6e63 655f 7363 616c 6522  _guidance_scale"
+0000db00: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+0000db10: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+0000db20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000db30: 2020 2020 2020 6d64 5b22 7361 5f67 7569        md["sa_gui
+0000db40: 6461 6e63 655f 7363 616c 6522 5d20 3d20  dance_scale"] = 
+0000db50: 3134 0d0a 2020 2020 2020 2020 2020 2020  14..            
+0000db60: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
+0000db70: 2020 2020 2020 2020 2020 6966 2064 6174            if dat
+0000db80: 612e 6765 7428 2273 615f 696e 6665 7265  a.get("sa_infere
+0000db90: 6e63 655f 7374 6570 7322 2920 213d 204e  nce_steps") != N
+0000dba0: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+0000dbb0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+0000dbc0: 5b22 7361 5f69 6e66 6572 656e 6365 5f73  ["sa_inference_s
+0000dbd0: 7465 7073 225d 203d 2064 6174 612e 6765  teps"] = data.ge
+0000dbe0: 7428 2273 615f 696e 6665 7265 6e63 655f  t("sa_inference_
+0000dbf0: 7374 6570 7322 290d 0a20 2020 2020 2020  steps")..       
+0000dc00: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+0000dc10: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0000dc20: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
+0000dc30: 7361 5f69 6e66 6572 656e 6365 5f73 7465  sa_inference_ste
+0000dc40: 7073 225d 203d 2031 340d 0a20 2020 2020  ps"] = 14..     
+0000dc50: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0000dc60: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
+0000dc70: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+0000dc80: 2020 2020 2020 206d 6420 3d20 7b0d 0a20         md = {.. 
+0000dc90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dca0: 2020 2020 2020 2022 7072 6f6d 7074 5f6e         "prompt_n
+0000dcb0: 6567 6174 6976 6522 3a20 2222 2c0d 0a20  egative": "",.. 
+0000dcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dcd0: 2020 2020 2020 2022 7361 6d70 6c65 7222         "sampler"
+0000dce0: 3a20 2244 504d 2d53 6f6c 7665 7222 2c0d  : "DPM-Solver",.
+0000dcf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000dd00: 2020 2020 2020 2020 2022 696d 6167 655f           "image_
+0000dd10: 7374 796c 6522 3a20 2228 4e6f 2073 7479  style": "(No sty
+0000dd20: 6c65 2922 2c0d 0a20 2020 2020 2020 2020  le)",..         
+0000dd30: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000dd40: 7769 6474 6822 3a20 3130 3234 2c0d 0a20  width": 1024,.. 
 0000dd50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dd60: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
-0000dd70: 3a20 4661 6c73 652c 0d0a 2020 2020 2020  : False,..      
+0000dd60: 2020 2020 2020 2022 6865 6967 6874 223a         "height":
+0000dd70: 2031 3032 342c 0d0a 2020 2020 2020 2020   1024,..        
 0000dd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dd90: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
-0000dda0: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
-0000ddb0: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
-0000ddc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ddd0: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
-0000dde0: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
-0000ddf0: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
-0000de00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de10: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
-0000de20: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0000de30: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
-0000de40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de50: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
-0000de60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de70: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
-0000de80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de90: 2020 6a73 203d 2072 6573 706f 6e73 652e    js = response.
-0000dea0: 7465 7874 5b63 6f75 6e74 3a5d 0d0a 2020  text[count:]..  
-0000deb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dec0: 2020 2020 2020 2020 2020 6a73 203d 206a            js = j
-0000ded0: 736f 6e2e 6c6f 6164 7328 6a73 290d 0a20  son.loads(js).. 
-0000dee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000def0: 2020 2020 2020 2020 2020 2069 6620 6a73             if js
-0000df00: 2021 3d20 4e6f 6e65 2061 6e64 206a 735b   != None and js[
-0000df10: 2263 6f64 6522 5d20 213d 204e 6f6e 6520  "code"] != None 
-0000df20: 616e 6420 6a73 5b22 636f 6465 225d 203d  and js["code"] =
-0000df30: 3d20 3230 3020 616e 6420 6a73 5b22 7374  = 200 and js["st
-0000df40: 6174 7573 225d 2021 3d20 4e6f 6e65 2061  atus"] != None a
-0000df50: 6e64 206a 735b 2273 7461 7475 7322 5d20  nd js["status"] 
-0000df60: 3d3d 2054 7275 653a 0d0a 2020 2020 2020  == True:..      
-0000df70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000df80: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-0000df90: 203d 206a 730d 0a20 2020 2020 2020 2020   = js..         
+0000dd90: 2264 706d 5f67 7569 6461 6e63 655f 7363  "dpm_guidance_sc
+0000dda0: 616c 6522 3a20 342e 352c 0d0a 2020 2020  ale": 4.5,..    
+0000ddb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ddc0: 2020 2020 2264 706d 5f69 6e66 6572 656e      "dpm_inferen
+0000ddd0: 6365 5f73 7465 7073 223a 2031 342c 0d0a  ce_steps": 14,..
+0000dde0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ddf0: 2020 2020 2020 2020 2273 615f 6775 6964          "sa_guid
+0000de00: 616e 6365 5f73 6361 6c65 223a 2033 2c0d  ance_scale": 3,.
+0000de10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000de20: 2020 2020 2020 2020 2022 7361 5f69 6e66           "sa_inf
+0000de30: 6572 656e 6365 5f73 7465 7073 223a 2032  erence_steps": 2
+0000de40: 350d 0a20 2020 2020 2020 2020 2020 2020  5..             
+0000de50: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
+0000de60: 2020 2020 2020 2020 2020 2020 6461 7461              data
+0000de70: 203d 207b 7d0d 0a20 2020 2020 2020 2020   = {}..         
+0000de80: 2020 2020 2020 2074 7279 3a0d 0a20 2020         try:..   
+0000de90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dea0: 2064 6174 6120 3d20 6a73 6f6e 2e64 756d   data = json.dum
+0000deb0: 7073 287b 0d0a 2020 2020 2020 2020 2020  ps({..          
+0000dec0: 2020 2020 2020 2020 2020 2020 2020 2270                "p
+0000ded0: 726f 6d70 7422 3a20 7072 6f6d 7074 2c0d  rompt": prompt,.
+0000dee0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000def0: 2020 2020 2020 2020 2022 6d6f 6465 6c22           "model"
+0000df00: 3a20 2270 6978 6172 742d 6122 2c0d 0a20  : "pixart-a",.. 
+0000df10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000df20: 2020 2020 2020 2022 6461 7461 223a 206d         "data": m
+0000df30: 640d 0a20 2020 2020 2020 2020 2020 2020  d..             
+0000df40: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
+0000df50: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0000df60: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
+0000df70: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+0000df80: 2020 2020 2020 2064 6174 6120 3d20 6a73         data = js
+0000df90: 6f6e 2e64 756d 7073 287b 0d0a 2020 2020  on.dumps({..    
 0000dfa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dfb0: 2020 2020 2020 2065 7272 203d 204e 6f6e         err = Non
-0000dfc0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-0000dfd0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0000dfe0: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-0000dff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e000: 2020 2020 2020 6572 7220 3d20 6a73 0d0a        err = js..
-0000e010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dfb0: 2020 2020 2270 726f 6d70 7422 3a20 2222      "prompt": ""
+0000dfc0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000dfd0: 2020 2020 2020 2020 2020 2022 6d6f 6465             "mode
+0000dfe0: 6c22 3a20 2270 6978 6172 742d 6122 2c0d  l": "pixart-a",.
+0000dff0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e000: 2020 2020 2020 2020 2022 6461 7461 223a           "data":
+0000e010: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
 0000e020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e030: 7265 7375 6c74 203d 204e 6f6e 650d 0a20  result = None.. 
-0000e040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e050: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-0000e060: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
-0000e070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e080: 2020 2020 2020 2020 2020 2065 7272 203d             err =
-0000e090: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
-0000e0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e0b0: 2020 2020 2263 6f64 6522 3a20 3530 302c      "code": 500,
-0000e0c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000e0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e0e0: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
-0000e0f0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-0000e100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e110: 2020 2020 2265 7272 6f72 223a 2022 494e      "error": "IN
-0000e120: 5445 524e 414c 5f53 4552 5645 525f 4552  TERNAL_SERVER_ER
-0000e130: 524f 5222 2c0d 0a20 2020 2020 2020 2020  ROR",..         
-0000e140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e150: 2020 2020 2020 2022 6d65 7373 6167 6522         "message"
-0000e160: 3a20 2267 656e 6572 616c 2028 756e 6b6e  : "general (unkn
-0000e170: 6f77 6e29 2065 7272 6f72 220d 0a20 2020  own) error"..   
-0000e180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e190: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
-0000e1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e1b0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-0000e1c0: 204e 6f6e 650d 0a0d 0a20 2020 2020 2020   None....       
-0000e1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e1e0: 2069 6620 7265 7375 6c74 203d 3d20 4e6f   if result == No
-0000e1f0: 6e65 2061 6e64 2065 7272 2021 3d20 4e6f  ne and err != No
-0000e200: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
-0000e210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e220: 2073 656c 662e 6572 726f 7220 3d20 6572   self.error = er
-0000e230: 720d 0a20 2020 2020 2020 2020 2020 2020  r..             
-0000e240: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000e250: 656c 662e 7265 7375 6c74 203d 204e 6f6e  elf.result = Non
-0000e260: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-0000e270: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0000e280: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000e290: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0000e2a0: 6c66 2e72 6573 756c 7420 3d20 7265 7375  lf.result = resu
-0000e2b0: 6c74 0d0a 2020 2020 2020 2020 2020 2020  lt..            
-0000e2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e2d0: 7365 6c66 2e65 7272 6f72 203d 204e 6f6e  self.error = Non
-0000e2e0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-0000e2f0: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-0000e300: 2020 2020 2020 2020 2020 2020 2020 6461                da
-0000e310: 7461 5f65 7272 203d 207b 7d0d 0a20 2020  ta_err = {}..   
-0000e320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e330: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
-0000e340: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-0000e350: 6174 615f 6572 7220 3d20 6a73 6f6e 2e6c  ata_err = json.l
-0000e360: 6f61 6473 2872 6573 706f 6e73 652e 7465  oads(response.te
-0000e370: 7874 290d 0a20 2020 2020 2020 2020 2020  xt)..           
-0000e380: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-0000e390: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
-0000e3a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000e3b0: 2020 2020 2020 2020 2064 6174 615f 6572           data_er
-0000e3c0: 7220 3d20 7b0d 0a20 2020 2020 2020 2020  r = {..         
-0000e3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e3e0: 2020 2022 636f 6465 223a 2035 3030 2c0d     "code": 500,.
-0000e3f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000e400: 2020 2020 2020 2020 2020 2020 2022 7374               "st
-0000e410: 6174 7573 223a 2046 616c 7365 2c0d 0a20  atus": False,.. 
-0000e420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e430: 2020 2020 2020 2020 2020 2022 6572 726f             "erro
-0000e440: 7222 3a20 2249 4e54 4552 4e41 4c5f 5345  r": "INTERNAL_SE
-0000e450: 5256 4552 5f45 5252 4f52 222c 0d0a 2020  RVER_ERROR",..  
-0000e460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e470: 2020 2020 2020 2020 2020 226d 6573 7361            "messa
-0000e480: 6765 223a 2022 6765 6e65 7261 6c20 2875  ge": "general (u
-0000e490: 6e6b 6e6f 776e 2920 6572 726f 7222 0d0a  nknown) error"..
-0000e4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e4b0: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
-0000e4c0: 2020 2020 2020 2020 2020 2020 2020 200d                 .
+0000e030: 2270 726f 6d70 745f 6e65 6761 7469 7665  "prompt_negative
+0000e040: 223a 2022 222c 0d0a 2020 2020 2020 2020  ": "",..        
+0000e050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e060: 2020 2020 2273 616d 706c 6572 223a 2022      "sampler": "
+0000e070: 4450 4d2d 536f 6c76 6572 222c 0d0a 2020  DPM-Solver",..  
+0000e080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e090: 2020 2020 2020 2020 2020 2269 6d61 6765            "image
+0000e0a0: 5f73 7479 6c65 223a 2022 284e 6f20 7374  _style": "(No st
+0000e0b0: 796c 6529 222c 0d0a 2020 2020 2020 2020  yle)",..        
+0000e0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e0d0: 2020 2020 2277 6964 7468 223a 2031 3032      "width": 102
+0000e0e0: 342c 0d0a 2020 2020 2020 2020 2020 2020  4,..            
+0000e0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e100: 2268 6569 6768 7422 3a20 3130 3234 2c0d  "height": 1024,.
+0000e110: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e120: 2020 2020 2020 2020 2020 2020 2022 6470               "dp
+0000e130: 6d5f 6775 6964 616e 6365 5f73 6361 6c65  m_guidance_scale
+0000e140: 223a 2034 2e35 2c0d 0a20 2020 2020 2020  ": 4.5,..       
+0000e150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e160: 2020 2020 2022 6470 6d5f 696e 6665 7265       "dpm_infere
+0000e170: 6e63 655f 7374 6570 7322 3a20 3134 2c0d  nce_steps": 14,.
+0000e180: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e190: 2020 2020 2020 2020 2020 2020 2022 7361               "sa
+0000e1a0: 5f67 7569 6461 6e63 655f 7363 616c 6522  _guidance_scale"
+0000e1b0: 3a20 332c 0d0a 2020 2020 2020 2020 2020  : 3,..          
+0000e1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e1d0: 2020 2273 615f 696e 6665 7265 6e63 655f    "sa_inference_
+0000e1e0: 7374 6570 7322 3a20 3235 0d0a 2020 2020  steps": 25..    
+0000e1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e200: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
+0000e210: 2020 2020 2020 2020 2020 207d 290d 0a20             }).. 
+0000e220: 2020 2020 2020 2020 2020 2020 2020 200d                 .
+0000e230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e240: 2072 6573 706f 6e73 6520 3d20 7265 7175   response = requ
+0000e250: 6573 7473 2e70 6f73 7428 7572 6c3d 2268  ests.post(url="h
+0000e260: 7474 7073 3a2f 2f6e 6578 7261 2e61 7279  ttps://nexra.ary
+0000e270: 6168 6372 2e63 632f 6170 692f 696d 6167  ahcr.cc/api/imag
+0000e280: 652f 636f 6d70 6c65 6d65 6e74 7322 2c20  e/complements", 
+0000e290: 6865 6164 6572 733d 6865 6164 6572 732c  headers=headers,
+0000e2a0: 2064 6174 613d 6461 7461 290d 0a20 2020   data=data)..   
+0000e2b0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0000e2c0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+0000e2d0: 636f 6465 203d 3d20 3230 303a 0d0a 2020  code == 200:..  
+0000e2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e2f0: 2020 6572 7220 3d20 4e6f 6e65 0d0a 2020    err = None..  
+0000e300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e310: 2020 7265 7375 6c74 203d 204e 6f6e 650d    result = None.
+0000e320: 0a0d 0a20 2020 2020 2020 2020 2020 2020  ...             
+0000e330: 2020 2020 2020 2063 6f75 6e74 203d 202d         count = -
+0000e340: 310d 0a20 2020 2020 2020 2020 2020 2020  1..             
+0000e350: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
+0000e360: 7261 6e67 6528 6c65 6e28 7265 7370 6f6e  range(len(respon
+0000e370: 7365 2e74 6578 7429 293a 0d0a 2020 2020  se.text)):..    
+0000e380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e390: 2020 2020 6966 2063 6f75 6e74 203c 3d20      if count <= 
+0000e3a0: 2d31 3a0d 0a20 2020 2020 2020 2020 2020  -1:..           
+0000e3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e3c0: 2069 6620 7265 7370 6f6e 7365 2e74 6578   if response.tex
+0000e3d0: 745b 695d 203d 3d20 227b 223a 0d0a 2020  t[i] == "{":..  
+0000e3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e3f0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+0000e400: 756e 7420 3d20 690d 0a20 2020 2020 2020  unt = i..       
+0000e410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e420: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+0000e430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e440: 2020 2020 6272 6561 6b0d 0a20 2020 2020      break..     
+0000e450: 2020 2020 2020 2020 2020 2020 2020 200d                 .
+0000e460: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e470: 2020 2020 2069 6620 636f 756e 7420 3c3d       if count <=
+0000e480: 202d 313a 0d0a 2020 2020 2020 2020 2020   -1:..          
+0000e490: 2020 2020 2020 2020 2020 2020 2020 6572                er
+0000e4a0: 7220 3d20 7b0d 0a20 2020 2020 2020 2020  r = {..         
+0000e4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e4c0: 2020 2022 636f 6465 223a 2035 3030 2c0d     "code": 500,.
 0000e4d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000e4e0: 2020 2020 2073 656c 662e 6572 726f 7220       self.error 
-0000e4f0: 3d20 6461 7461 5f65 7272 0d0a 2020 2020  = data_err..    
+0000e4e0: 2020 2020 2020 2020 2020 2020 2022 7374               "st
+0000e4f0: 6174 7573 223a 2046 616c 7365 2c0d 0a20  atus": False,.. 
 0000e500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e510: 7365 6c66 2e72 6573 756c 7420 3d20 4e6f  self.result = No
-0000e520: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
-0000e530: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
-0000e540: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
-0000e550: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
-0000e560: 6f72 203d 207b 0d0a 2020 2020 2020 2020  or = {..        
-0000e570: 2020 2020 2020 2020 2020 2020 2263 6f64              "cod
-0000e580: 6522 3a20 3530 302c 0d0a 2020 2020 2020  e": 500,..      
-0000e590: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-0000e5a0: 7461 7475 7322 3a20 4661 6c73 652c 0d0a  tatus": False,..
-0000e5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e5c0: 2020 2020 2265 7272 6f72 223a 2022 494e      "error": "IN
-0000e5d0: 5445 524e 414c 5f53 4552 5645 525f 4552  TERNAL_SERVER_ER
-0000e5e0: 524f 5222 2c0d 0a20 2020 2020 2020 2020  ROR",..         
-0000e5f0: 2020 2020 2020 2020 2020 2022 6d65 7373             "mess
-0000e600: 6167 6522 3a20 2267 656e 6572 616c 2028  age": "general (
-0000e610: 756e 6b6e 6f77 6e29 2065 7272 6f72 220d  unknown) error".
-0000e620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000e630: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
-0000e640: 2020 2020 7365 6c66 2e72 6573 756c 7420      self.result 
-0000e650: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
-0000e660: 2020 2020 7061 7373 0d0a 2020 2020 2020      pass..      
-0000e670: 2020 6465 6620 6572 726f 7228 7365 6c66    def error(self
-0000e680: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
-0000e690: 7265 7475 726e 2073 656c 662e 6572 726f  return self.erro
-0000e6a0: 720d 0a20 2020 2020 2020 2064 6566 2072  r..        def r
-0000e6b0: 6573 756c 7428 7365 6c66 293a 0d0a 2020  esult(self):..  
-0000e6c0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0000e6d0: 2073 656c 662e 7265 7375 6c74 0d0a 2020   self.result..  
-0000e6e0: 2020 636c 6173 7320 7632 2829 3a0d 0a20    class v2():.. 
-0000e6f0: 2020 2020 2020 2065 7272 6f72 203d 204e         error = N
-0000e700: 6f6e 650d 0a20 2020 2020 2020 2072 6573  one..        res
-0000e710: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
-0000e720: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-0000e730: 2873 656c 662c 2070 726f 6d70 743d 2222  (self, prompt=""
-0000e740: 2c20 6461 7461 3d7b 0d0a 2020 2020 2020  , data={..      
-0000e750: 2020 2020 2020 2270 726f 6d70 745f 6e65        "prompt_ne
-0000e760: 6761 7469 7665 223a 2022 222c 0d0a 2020  gative": "",..  
-0000e770: 2020 2020 2020 2020 2020 2267 7569 6461            "guida
-0000e780: 6e63 655f 7363 616c 6522 3a20 2222 0d0a  nce_scale": ""..
-0000e790: 2020 2020 2020 2020 7d29 202d 3e20 4e6f          }) -> No
-0000e7a0: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
-0000e7b0: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
-0000e7c0: 2020 2020 2020 2068 6561 6465 7273 203d         headers =
-0000e7d0: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
-0000e7e0: 2020 2020 2020 2020 2243 6f6e 7465 6e74          "Content
-0000e7f0: 2d54 7970 6522 3a20 2261 7070 6c69 6361  -Type": "applica
-0000e800: 7469 6f6e 2f6a 736f 6e22 0d0a 2020 2020  tion/json"..    
-0000e810: 2020 2020 2020 2020 2020 2020 7d0d 0a0d              }...
-0000e820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000e830: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
-0000e840: 2020 2020 2020 2020 2020 2070 726f 6d70             promp
-0000e850: 7420 3d20 7072 6f6d 7074 2069 6620 7072  t = prompt if pr
-0000e860: 6f6d 7074 2069 7320 6e6f 7420 4e6f 6e65  ompt is not None
-0000e870: 2065 6c73 6520 2222 0d0a 2020 2020 2020   else ""..      
-0000e880: 2020 2020 2020 2020 2020 6578 6365 7074            except
-0000e890: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
-0000e8a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000e8b0: 2020 2020 2020 7072 6f6d 7074 203d 2022        prompt = "
-0000e8c0: 220d 0a0d 0a20 2020 2020 2020 2020 2020  "....           
-0000e8d0: 2020 2020 206d 6420 3d20 7b0d 0a20 2020       md = {..   
-0000e8e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e8f0: 2022 7072 6f6d 7074 5f6e 6567 6174 6976   "prompt_negativ
-0000e900: 6522 3a20 2222 2c0d 0a20 2020 2020 2020  e": "",..       
-0000e910: 2020 2020 2020 2020 2020 2020 2022 6775               "gu
-0000e920: 6964 616e 6365 5f73 6361 6c65 223a 2039  idance_scale": 9
-0000e930: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000e940: 2020 7d0d 0a0d 0a20 2020 2020 2020 2020    }....         
-0000e950: 2020 2020 2020 2074 7279 203a 0d0a 2020         try :..  
-0000e960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e970: 2020 6966 2064 6174 612e 6765 7428 2270    if data.get("p
-0000e980: 726f 6d70 745f 6e65 6761 7469 7665 2229  rompt_negative")
-0000e990: 2021 3d20 4e6f 6e65 3a0d 0a20 2020 2020   != None:..     
-0000e9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e9b0: 2020 206d 645b 2270 726f 6d70 745f 6e65     md["prompt_ne
-0000e9c0: 6761 7469 7665 225d 203d 2064 6174 612e  gative"] = data.
-0000e9d0: 6765 7428 2270 726f 6d70 745f 6e65 6761  get("prompt_nega
-0000e9e0: 7469 7665 2229 0d0a 2020 2020 2020 2020  tive")..        
-0000e9f0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0000ea00: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0000ea10: 2020 2020 2020 2020 2020 206d 645b 2270             md["p
-0000ea20: 726f 6d70 745f 6e65 6761 7469 7665 225d  rompt_negative"]
-0000ea30: 203d 2022 6162 736f 6c75 7465 7265 616c   = "absolutereal
-0000ea40: 6974 795f 5631 362e 7361 6665 7465 6e73  ity_V16.safetens
-0000ea50: 6f72 7320 5b33 3764 6230 6663 335d 220d  ors [37db0fc3]".
-0000ea60: 0a0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-0000ea70: 2020 2020 2020 2069 6620 6461 7461 2e67         if data.g
-0000ea80: 6574 2822 6775 6964 616e 6365 5f73 6361  et("guidance_sca
-0000ea90: 6c65 2229 2021 3d20 4e6f 6e65 3a0d 0a20  le") != None:.. 
-0000eaa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000eab0: 2020 2020 2020 206d 645b 2267 7569 6461         md["guida
-0000eac0: 6e63 655f 7363 616c 6522 5d20 3d20 6461  nce_scale"] = da
-0000ead0: 7461 2e67 6574 2822 6775 6964 616e 6365  ta.get("guidance
-0000eae0: 5f73 6361 6c65 2229 0d0a 2020 2020 2020  _scale")..      
-0000eaf0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0000eb00: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-0000eb10: 2020 2020 2020 2020 2020 2020 206d 645b               md[
-0000eb20: 2267 7569 6461 6e63 655f 7363 616c 6522  "guidance_scale"
-0000eb30: 5d20 3d20 390d 0a20 2020 2020 2020 2020  ] = 9..         
-0000eb40: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-0000eb50: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
-0000eb60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000eb70: 2020 206d 6420 3d20 7b0d 0a20 2020 2020     md = {..     
+0000e510: 2020 2020 2020 2020 2020 2022 6572 726f             "erro
+0000e520: 7222 3a20 2249 4e54 4552 4e41 4c5f 5345  r": "INTERNAL_SE
+0000e530: 5256 4552 5f45 5252 4f52 222c 0d0a 2020  RVER_ERROR",..  
+0000e540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e550: 2020 2020 2020 2020 2020 226d 6573 7361            "messa
+0000e560: 6765 223a 2022 6765 6e65 7261 6c20 2875  ge": "general (u
+0000e570: 6e6b 6e6f 776e 2920 6572 726f 7222 0d0a  nknown) error"..
+0000e580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e590: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
+0000e5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e5b0: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
+0000e5c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000e5d0: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
+0000e5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e5f0: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
+0000e600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e610: 2020 2020 2020 206a 7320 3d20 7265 7370         js = resp
+0000e620: 6f6e 7365 2e74 6578 745b 636f 756e 743a  onse.text[count:
+0000e630: 5d0d 0a20 2020 2020 2020 2020 2020 2020  ]..             
+0000e640: 2020 2020 2020 2020 2020 2020 2020 206a                 j
+0000e650: 7320 3d20 6a73 6f6e 2e6c 6f61 6473 286a  s = json.loads(j
+0000e660: 7329 0d0a 2020 2020 2020 2020 2020 2020  s)..            
+0000e670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e680: 6966 206a 7320 213d 204e 6f6e 6520 616e  if js != None an
+0000e690: 6420 6a73 5b22 636f 6465 225d 2021 3d20  d js["code"] != 
+0000e6a0: 4e6f 6e65 2061 6e64 206a 735b 2263 6f64  None and js["cod
+0000e6b0: 6522 5d20 3d3d 2032 3030 2061 6e64 206a  e"] == 200 and j
+0000e6c0: 735b 2273 7461 7475 7322 5d20 213d 204e  s["status"] != N
+0000e6d0: 6f6e 6520 616e 6420 6a73 5b22 7374 6174  one and js["stat
+0000e6e0: 7573 225d 203d 3d20 5472 7565 3a0d 0a20  us"] == True:.. 
+0000e6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e700: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000e710: 6573 756c 7420 3d20 6a73 0d0a 2020 2020  esult = js..    
+0000e720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e730: 2020 2020 2020 2020 2020 2020 6572 7220              err 
+0000e740: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+0000e750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e760: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
+0000e770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e780: 2020 2020 2020 2020 2020 2065 7272 203d             err =
+0000e790: 206a 730d 0a20 2020 2020 2020 2020 2020   js..           
+0000e7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e7b0: 2020 2020 2072 6573 756c 7420 3d20 4e6f       result = No
+0000e7c0: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+0000e7d0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+0000e7e0: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
+0000e7f0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0000e800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e810: 6572 7220 3d20 7b0d 0a20 2020 2020 2020  err = {..       
+0000e820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e830: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
+0000e840: 2035 3030 2c0d 0a20 2020 2020 2020 2020   500,..         
+0000e850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e860: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
+0000e870: 2046 616c 7365 2c0d 0a20 2020 2020 2020   False,..       
+0000e880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e890: 2020 2020 2020 2020 2022 6572 726f 7222           "error"
+0000e8a0: 3a20 2249 4e54 4552 4e41 4c5f 5345 5256  : "INTERNAL_SERV
+0000e8b0: 4552 5f45 5252 4f52 222c 0d0a 2020 2020  ER_ERROR",..    
+0000e8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e8d0: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
+0000e8e0: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
+0000e8f0: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
+0000e900: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000e910: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
+0000e920: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e930: 2020 2020 2020 2020 2020 2020 2072 6573               res
+0000e940: 756c 7420 3d20 4e6f 6e65 0d0a 0d0a 2020  ult = None....  
+0000e950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e960: 2020 2020 2020 6966 2072 6573 756c 7420        if result 
+0000e970: 3d3d 204e 6f6e 6520 616e 6420 6572 7220  == None and err 
+0000e980: 213d 204e 6f6e 653a 0d0a 2020 2020 2020  != None:..      
+0000e990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e9a0: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
+0000e9b0: 203d 2065 7272 0d0a 2020 2020 2020 2020   = err..        
+0000e9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e9d0: 2020 2020 7365 6c66 2e72 6573 756c 7420      self.result 
+0000e9e0: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+0000e9f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ea00: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+0000ea10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ea20: 2020 2073 656c 662e 7265 7375 6c74 203d     self.result =
+0000ea30: 2072 6573 756c 740d 0a20 2020 2020 2020   result..       
+0000ea40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ea50: 2020 2020 2073 656c 662e 6572 726f 7220       self.error 
+0000ea60: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+0000ea70: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
+0000ea80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ea90: 2020 2064 6174 615f 6572 7220 3d20 7b7d     data_err = {}
+0000eaa0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000eab0: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
+0000eac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ead0: 2020 2020 6461 7461 5f65 7272 203d 206a      data_err = j
+0000eae0: 736f 6e2e 6c6f 6164 7328 7265 7370 6f6e  son.loads(respon
+0000eaf0: 7365 2e74 6578 7429 0d0a 2020 2020 2020  se.text)..      
+0000eb00: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+0000eb10: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+0000eb20: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
+0000eb30: 2020 2020 2020 2020 2020 2020 2020 6461                da
+0000eb40: 7461 5f65 7272 203d 207b 0d0a 2020 2020  ta_err = {..    
+0000eb50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eb60: 2020 2020 2020 2020 2263 6f64 6522 3a20          "code": 
+0000eb70: 3530 302c 0d0a 2020 2020 2020 2020 2020  500,..          
 0000eb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000eb90: 2020 2022 7072 6f6d 7074 5f6e 6567 6174     "prompt_negat
-0000eba0: 6976 6522 3a20 2222 2c0d 0a20 2020 2020  ive": "",..     
+0000eb90: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
+0000eba0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
 0000ebb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ebc0: 2020 2022 6775 6964 616e 6365 5f73 6361     "guidance_sca
-0000ebd0: 6c65 223a 2039 0d0a 2020 2020 2020 2020  le": 9..        
-0000ebe0: 2020 2020 2020 2020 2020 2020 7d0d 0a0d              }...
-0000ebf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000ec00: 2064 6174 6120 3d20 7b7d 0d0a 2020 2020   data = {}..    
-0000ec10: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-0000ec20: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000ec30: 2020 2020 2020 6461 7461 203d 206a 736f        data = jso
-0000ec40: 6e2e 6475 6d70 7328 7b0d 0a20 2020 2020  n.dumps({..     
-0000ec50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ec60: 2020 2022 7072 6f6d 7074 223a 2070 726f     "prompt": pro
-0000ec70: 6d70 742c 0d0a 2020 2020 2020 2020 2020  mpt,..          
-0000ec80: 2020 2020 2020 2020 2020 2020 2020 226d                "m
-0000ec90: 6f64 656c 223a 2022 7374 6162 6c65 6469  odel": "stabledi
-0000eca0: 6666 7573 696f 6e2d 322e 3122 2c0d 0a20  ffusion-2.1",.. 
-0000ecb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ecc0: 2020 2020 2020 2022 6461 7461 223a 206d         "data": m
-0000ecd0: 640d 0a20 2020 2020 2020 2020 2020 2020  d..             
-0000ece0: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
-0000ecf0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-0000ed00: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
-0000ed10: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0000ed20: 2020 2020 2020 2064 6174 6120 3d20 6a73         data = js
-0000ed30: 6f6e 2e64 756d 7073 287b 0d0a 2020 2020  on.dumps({..    
-0000ed40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ed50: 2020 2020 2270 726f 6d70 7422 3a20 2222      "prompt": ""
-0000ed60: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000ed70: 2020 2020 2020 2020 2020 2022 6d6f 6465             "mode
-0000ed80: 6c22 3a20 2273 7461 626c 6564 6966 6675  l": "stablediffu
-0000ed90: 7369 6f6e 2d32 2e31 222c 0d0a 2020 2020  sion-2.1",..    
-0000eda0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000edb0: 2020 2020 2264 6174 6122 3a20 7b0d 0a20      "data": {.. 
-0000edc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000edd0: 2020 2020 2020 2020 2020 2022 7072 6f6d             "prom
-0000ede0: 7074 5f6e 6567 6174 6976 6522 3a20 2222  pt_negative": ""
-0000edf0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000ee00: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000ee10: 6775 6964 616e 6365 5f73 6361 6c65 223a  guidance_scale":
-0000ee20: 2039 0d0a 2020 2020 2020 2020 2020 2020   9..            
-0000ee30: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
-0000ee40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ee50: 2020 207d 290d 0a0d 0a20 2020 2020 2020     })....       
-0000ee60: 2020 2020 2020 2020 2072 6573 706f 6e73           respons
-0000ee70: 6520 3d20 7265 7175 6573 7473 2e70 6f73  e = requests.pos
-0000ee80: 7428 7572 6c3d 2268 7474 7073 3a2f 2f6e  t(url="https://n
-0000ee90: 6578 7261 2e61 7279 6168 6372 2e63 632f  exra.aryahcr.cc/
-0000eea0: 6170 692f 696d 6167 652f 636f 6d70 6c65  api/image/comple
-0000eeb0: 6d65 6e74 7322 2c20 6865 6164 6572 733d  ments", headers=
-0000eec0: 6865 6164 6572 732c 2064 6174 613d 6461  headers, data=da
-0000eed0: 7461 290d 0a20 2020 2020 2020 2020 2020  ta)..           
-0000eee0: 2020 2020 2069 6620 7265 7370 6f6e 7365       if response
-0000eef0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-0000ef00: 3230 303a 0d0a 2020 2020 2020 2020 2020  200:..          
-0000ef10: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
-0000ef20: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
-0000ef30: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-0000ef40: 203d 204e 6f6e 650d 0a0d 0a20 2020 2020   = None....     
-0000ef50: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0000ef60: 6f75 6e74 203d 202d 310d 0a20 2020 2020  ount = -1..     
-0000ef70: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0000ef80: 6f72 2069 2069 6e20 7261 6e67 6528 6c65  or i in range(le
-0000ef90: 6e28 7265 7370 6f6e 7365 2e74 6578 7429  n(response.text)
-0000efa0: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
-0000efb0: 2020 2020 2020 2020 2020 2020 6966 2063              if c
-0000efc0: 6f75 6e74 203c 3d20 2d31 3a0d 0a20 2020  ount <= -1:..   
-0000efd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000efe0: 2020 2020 2020 2020 2069 6620 7265 7370           if resp
-0000eff0: 6f6e 7365 2e74 6578 745b 695d 203d 3d20  onse.text[i] == 
-0000f000: 227b 223a 0d0a 2020 2020 2020 2020 2020  "{":..          
-0000f010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f020: 2020 2020 2020 636f 756e 7420 3d20 690d        count = i.
-0000f030: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f040: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-0000f050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f060: 2020 2020 2020 2020 2020 2020 6272 6561              brea
-0000f070: 6b0d 0a20 2020 2020 2020 2020 2020 2020  k..             
-0000f080: 2020 2020 2020 200d 0a20 2020 2020 2020         ..       
-0000f090: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000f0a0: 636f 756e 7420 3c3d 202d 313a 0d0a 2020  count <= -1:..  
-0000f0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f0c0: 2020 2020 2020 6572 7220 3d20 7b0d 0a20        err = {.. 
-0000f0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f0e0: 2020 2020 2020 2020 2020 2022 636f 6465             "code
-0000f0f0: 223a 2035 3030 2c0d 0a20 2020 2020 2020  ": 500,..       
-0000f100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f110: 2020 2020 2022 7374 6174 7573 223a 2046       "status": F
-0000f120: 616c 7365 2c0d 0a20 2020 2020 2020 2020  alse,..         
-0000f130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f140: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
-0000f150: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
-0000f160: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
-0000f170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f180: 2020 226d 6573 7361 6765 223a 2022 6765    "message": "ge
-0000f190: 6e65 7261 6c20 2875 6e6b 6e6f 776e 2920  neral (unknown) 
-0000f1a0: 6572 726f 7222 0d0a 2020 2020 2020 2020  error"..        
-0000f1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f1c0: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
-0000f1d0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-0000f1e0: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
-0000f1f0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0000f200: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-0000f210: 2020 2020 2020 2020 2020 2020 2074 7279               try
-0000f220: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0000f230: 2020 2020 2020 2020 2020 2020 2020 206a                 j
-0000f240: 7320 3d20 7265 7370 6f6e 7365 2e74 6578  s = response.tex
-0000f250: 745b 636f 756e 743a 5d0d 0a20 2020 2020  t[count:]..     
-0000f260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f270: 2020 2020 2020 206a 7320 3d20 6a73 6f6e         js = json
-0000f280: 2e6c 6f61 6473 286a 7329 0d0a 2020 2020  .loads(js)..    
-0000f290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f2a0: 2020 2020 2020 2020 6966 206a 7320 213d          if js !=
-0000f2b0: 204e 6f6e 6520 616e 6420 6a73 5b22 636f   None and js["co
-0000f2c0: 6465 225d 2021 3d20 4e6f 6e65 2061 6e64  de"] != None and
-0000f2d0: 206a 735b 2263 6f64 6522 5d20 3d3d 2032   js["code"] == 2
-0000f2e0: 3030 2061 6e64 206a 735b 2273 7461 7475  00 and js["statu
-0000f2f0: 7322 5d20 213d 204e 6f6e 6520 616e 6420  s"] != None and 
-0000f300: 6a73 5b22 7374 6174 7573 225d 203d 3d20  js["status"] == 
-0000f310: 5472 7565 3a0d 0a20 2020 2020 2020 2020  True:..         
-0000f320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f330: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-0000f340: 6a73 0d0a 2020 2020 2020 2020 2020 2020  js..            
-0000f350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f360: 2020 2020 6572 7220 3d20 4e6f 6e65 0d0a      err = None..
-0000f370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f380: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0000f390: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0000f3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f3b0: 2020 2065 7272 203d 206a 730d 0a20 2020     err = js..   
+0000ebc0: 2265 7272 6f72 223a 2022 494e 5445 524e  "error": "INTERN
+0000ebd0: 414c 5f53 4552 5645 525f 4552 524f 5222  AL_SERVER_ERROR"
+0000ebe0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000ebf0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000ec00: 6d65 7373 6167 6522 3a20 2267 656e 6572  message": "gener
+0000ec10: 616c 2028 756e 6b6e 6f77 6e29 2065 7272  al (unknown) err
+0000ec20: 6f72 220d 0a20 2020 2020 2020 2020 2020  or"..           
+0000ec30: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
+0000ec40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ec50: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
+0000ec60: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
+0000ec70: 7272 6f72 203d 2064 6174 615f 6572 720d  rror = data_err.
+0000ec80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000ec90: 2020 2020 2073 656c 662e 7265 7375 6c74       self.result
+0000eca0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+0000ecb0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+0000ecc0: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
+0000ecd0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0000ece0: 662e 6572 726f 7220 3d20 7b0d 0a20 2020  f.error = {..   
+0000ecf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed00: 2022 636f 6465 223a 2035 3030 2c0d 0a20   "code": 500,.. 
+0000ed10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed20: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
+0000ed30: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
+0000ed40: 2020 2020 2020 2020 2022 6572 726f 7222           "error"
+0000ed50: 3a20 2249 4e54 4552 4e41 4c5f 5345 5256  : "INTERNAL_SERV
+0000ed60: 4552 5f45 5252 4f52 222c 0d0a 2020 2020  ER_ERROR",..    
+0000ed70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed80: 226d 6573 7361 6765 223a 2022 6765 6e65  "message": "gene
+0000ed90: 7261 6c20 2875 6e6b 6e6f 776e 2920 6572  ral (unknown) er
+0000eda0: 726f 7222 0d0a 2020 2020 2020 2020 2020  ror"..          
+0000edb0: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+0000edc0: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
+0000edd0: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
+0000ede0: 2020 2020 2020 2020 2070 6173 730d 0a20           pass.. 
+0000edf0: 2020 2020 2020 2064 6566 2065 7272 6f72         def error
+0000ee00: 2873 656c 6629 3a0d 0a20 2020 2020 2020  (self):..       
+0000ee10: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0000ee20: 2e65 7272 6f72 0d0a 2020 2020 2020 2020  .error..        
+0000ee30: 6465 6620 7265 7375 6c74 2873 656c 6629  def result(self)
+0000ee40: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+0000ee50: 6574 7572 6e20 7365 6c66 2e72 6573 756c  eturn self.resul
+0000ee60: 740d 0a20 2020 2063 6c61 7373 206c 636d  t..    class lcm
+0000ee70: 2829 3a0d 0a20 2020 2020 2020 2065 7272  ():..        err
+0000ee80: 6f72 203d 204e 6f6e 650d 0a20 2020 2020  or = None..     
+0000ee90: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
+0000eea0: 0d0a 2020 2020 2020 2020 6465 6620 5f5f  ..        def __
+0000eeb0: 696e 6974 5f5f 2873 656c 662c 2070 726f  init__(self, pro
+0000eec0: 6d70 743d 2222 2c20 6461 7461 3d7b 0d0a  mpt="", data={..
+0000eed0: 2020 2020 2020 2020 2020 2020 2270 726f              "pro
+0000eee0: 6d70 745f 6e65 6761 7469 7665 223a 2022  mpt_negative": "
+0000eef0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+0000ef00: 2269 6d61 6765 5f73 7479 6c65 223a 2022  "image_style": "
+0000ef10: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+0000ef20: 2277 6964 7468 223a 2022 222c 0d0a 2020  "width": "",..  
+0000ef30: 2020 2020 2020 2020 2020 2268 6569 6768            "heigh
+0000ef40: 7422 3a20 2222 2c0d 0a20 2020 2020 2020  t": "",..       
+0000ef50: 2020 2020 2022 6c63 6d5f 696e 6665 7265       "lcm_infere
+0000ef60: 6e63 655f 7374 6570 7322 3a20 2222 0d0a  nce_steps": ""..
+0000ef70: 2020 2020 2020 2020 7d29 202d 3e20 4e6f          }) -> No
+0000ef80: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
+0000ef90: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+0000efa0: 2020 2020 2020 2068 6561 6465 7273 203d         headers =
+0000efb0: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+0000efc0: 2020 2020 2020 2020 2243 6f6e 7465 6e74          "Content
+0000efd0: 2d54 7970 6522 3a20 2261 7070 6c69 6361  -Type": "applica
+0000efe0: 7469 6f6e 2f6a 736f 6e22 0d0a 2020 2020  tion/json"..    
+0000eff0: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
+0000f000: 2020 2020 2020 2020 2020 2020 2020 2068                 h
+0000f010: 6561 6465 7273 2e75 7064 6174 6528 6372  eaders.update(cr
+0000f020: 6564 290d 0a0d 0a20 2020 2020 2020 2020  ed)....         
+0000f030: 2020 2020 2020 2074 7279 3a0d 0a20 2020         try:..   
+0000f040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f050: 2070 726f 6d70 7420 3d20 7072 6f6d 7074   prompt = prompt
+0000f060: 2069 6620 7072 6f6d 7074 2069 7320 6e6f   if prompt is no
+0000f070: 7420 4e6f 6e65 2065 6c73 6520 2222 0d0a  t None else ""..
+0000f080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f090: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
+0000f0a0: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
+0000f0b0: 2020 2020 2020 2020 2020 2020 7072 6f6d              prom
+0000f0c0: 7074 203d 2022 220d 0a0d 0a20 2020 2020  pt = ""....     
+0000f0d0: 2020 2020 2020 2020 2020 206d 6420 3d20             md = 
+0000f0e0: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+0000f0f0: 2020 2020 2020 2022 7072 6f6d 7074 5f6e         "prompt_n
+0000f100: 6567 6174 6976 6522 3a20 2222 2c0d 0a20  egative": "",.. 
+0000f110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f120: 2020 2022 696d 6167 655f 7374 796c 6522     "image_style"
+0000f130: 3a20 2228 4e6f 2073 7479 6c65 2922 2c0d  : "(No style)",.
+0000f140: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000f150: 2020 2020 2022 7769 6474 6822 3a20 3130       "width": 10
+0000f160: 3234 2c0d 0a20 2020 2020 2020 2020 2020  24,..           
+0000f170: 2020 2020 2020 2020 2022 6865 6967 6874           "height
+0000f180: 223a 2031 3032 342c 0d0a 2020 2020 2020  ": 1024,..      
+0000f190: 2020 2020 2020 2020 2020 2020 2020 226c                "l
+0000f1a0: 636d 5f69 6e66 6572 656e 6365 5f73 7465  cm_inference_ste
+0000f1b0: 7073 223a 2039 0d0a 2020 2020 2020 2020  ps": 9..        
+0000f1c0: 2020 2020 2020 2020 7d0d 0a0d 0a20 2020          }....   
+0000f1d0: 2020 2020 2020 2020 2020 2020 2074 7279               try
+0000f1e0: 203a 0d0a 2020 2020 2020 2020 2020 2020   :..            
+0000f1f0: 2020 2020 2020 2020 6966 2064 6174 612e          if data.
+0000f200: 6765 7428 226c 636d 5f69 6e66 6572 656e  get("lcm_inferen
+0000f210: 6365 5f73 7465 7073 2229 2021 3d20 4e6f  ce_steps") != No
+0000f220: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
+0000f230: 2020 2020 2020 2020 2020 2020 206d 645b               md[
+0000f240: 226c 636d 5f69 6e66 6572 656e 6365 5f73  "lcm_inference_s
+0000f250: 7465 7073 225d 203d 2064 6174 612e 6765  teps"] = data.ge
+0000f260: 7428 226c 636d 5f69 6e66 6572 656e 6365  t("lcm_inference
+0000f270: 5f73 7465 7073 2229 0d0a 2020 2020 2020  _steps")..      
+0000f280: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0000f290: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+0000f2a0: 2020 2020 2020 2020 2020 2020 206d 645b               md[
+0000f2b0: 226c 636d 5f69 6e66 6572 656e 6365 5f73  "lcm_inference_s
+0000f2c0: 7465 7073 225d 203d 2039 0d0a 0d0a 2020  teps"] = 9....  
+0000f2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f2e0: 2020 6966 2064 6174 612e 6765 7428 2268    if data.get("h
+0000f2f0: 6569 6768 7422 2920 213d 204e 6f6e 653a  eight") != None:
+0000f300: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000f310: 2020 2020 2020 2020 2020 6d64 5b22 6865            md["he
+0000f320: 6967 6874 225d 203d 2064 6174 612e 6765  ight"] = data.ge
+0000f330: 7428 2268 6569 6768 7422 290d 0a20 2020  t("height")..   
+0000f340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f350: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+0000f360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f370: 6d64 5b22 6865 6967 6874 225d 203d 2031  md["height"] = 1
+0000f380: 3032 340d 0a0d 0a20 2020 2020 2020 2020  024....         
+0000f390: 2020 2020 2020 2020 2020 2069 6620 6461             if da
+0000f3a0: 7461 2e67 6574 2822 7769 6474 6822 2920  ta.get("width") 
+0000f3b0: 213d 204e 6f6e 653a 0d0a 2020 2020 2020  != None:..      
 0000f3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f3d0: 2020 2020 2020 2020 2020 2020 2072 6573               res
-0000f3e0: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
-0000f3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f400: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
-0000f410: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
-0000f420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f430: 2020 2020 2020 2020 6572 7220 3d20 7b0d          err = {.
-0000f440: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f460: 2022 636f 6465 223a 2035 3030 2c0d 0a20   "code": 500,.. 
-0000f470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f480: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000f490: 7374 6174 7573 223a 2046 616c 7365 2c0d  status": False,.
-0000f4a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f4c0: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
-0000f4d0: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
-0000f4e0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-0000f4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f500: 2020 2020 226d 6573 7361 6765 223a 2022      "message": "
-0000f510: 6765 6e65 7261 6c20 2875 6e6b 6e6f 776e  general (unknown
-0000f520: 2920 6572 726f 7222 0d0a 2020 2020 2020  ) error"..      
-0000f530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f540: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
-0000f550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f560: 2020 2020 2072 6573 756c 7420 3d20 4e6f       result = No
-0000f570: 6e65 0d0a 0d0a 2020 2020 2020 2020 2020  ne....          
-0000f580: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0000f590: 2072 6573 756c 7420 3d3d 204e 6f6e 6520   result == None 
-0000f5a0: 616e 6420 6572 7220 213d 204e 6f6e 653a  and err != None:
-0000f5b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000f5c0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0000f5d0: 6c66 2e65 7272 6f72 203d 2065 7272 0d0a  lf.error = err..
-0000f5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f5f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0000f600: 2e72 6573 756c 7420 3d20 4e6f 6e65 0d0a  .result = None..
-0000f610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f620: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
-0000f630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f640: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000f650: 7265 7375 6c74 203d 2072 6573 756c 740d  result = result.
-0000f660: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f670: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-0000f680: 662e 6572 726f 7220 3d20 4e6f 6e65 0d0a  f.error = None..
-0000f690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f6a0: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
-0000f6b0: 2020 2020 2020 2020 2020 2064 6174 615f             data_
-0000f6c0: 6572 7220 3d20 7b7d 0d0a 2020 2020 2020  err = {}..      
-0000f6d0: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-0000f6e0: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
-0000f6f0: 2020 2020 2020 2020 2020 2020 6461 7461              data
-0000f700: 5f65 7272 203d 206a 736f 6e2e 6c6f 6164  _err = json.load
-0000f710: 7328 7265 7370 6f6e 7365 2e74 6578 7429  s(response.text)
-0000f720: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000f730: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
-0000f740: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
-0000f750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f760: 2020 2020 2020 6461 7461 5f65 7272 203d        data_err =
-0000f770: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
-0000f780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f790: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
+0000f3d0: 2020 6d64 5b22 7769 6474 6822 5d20 3d20    md["width"] = 
+0000f3e0: 6461 7461 2e67 6574 2822 7769 6474 6822  data.get("width"
+0000f3f0: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+0000f400: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+0000f410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f420: 2020 2020 2020 6d64 5b22 7769 6474 6822        md["width"
+0000f430: 5d20 3d20 3130 3234 0d0a 0d0a 2020 2020  ] = 1024....    
+0000f440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f450: 6966 2064 6174 612e 6765 7428 2269 6d61  if data.get("ima
+0000f460: 6765 5f73 7479 6c65 2229 2021 3d20 4e6f  ge_style") != No
+0000f470: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
+0000f480: 2020 2020 2020 2020 2020 2020 206d 645b               md[
+0000f490: 2269 6d61 6765 5f73 7479 6c65 225d 203d  "image_style"] =
+0000f4a0: 2064 6174 612e 6765 7428 2269 6d61 6765   data.get("image
+0000f4b0: 5f73 7479 6c65 2229 0d0a 2020 2020 2020  _style")..      
+0000f4c0: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0000f4d0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+0000f4e0: 2020 2020 2020 2020 2020 2020 206d 645b               md[
+0000f4f0: 2269 6d61 6765 5f73 7479 6c65 225d 203d  "image_style"] =
+0000f500: 2022 284e 6f20 7374 796c 6529 220d 0a20   "(No style)".. 
+0000f510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f520: 2020 200d 0a20 2020 2020 2020 2020 2020     ..           
+0000f530: 2020 2020 2020 2020 2069 6620 6461 7461           if data
+0000f540: 2e67 6574 2822 7072 6f6d 7074 5f6e 6567  .get("prompt_neg
+0000f550: 6174 6976 6522 2920 213d 204e 6f6e 653a  ative") != None:
+0000f560: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000f570: 2020 2020 2020 2020 2020 6d64 5b22 7072            md["pr
+0000f580: 6f6d 7074 5f6e 6567 6174 6976 6522 5d20  ompt_negative"] 
+0000f590: 3d20 6461 7461 2e67 6574 2822 7072 6f6d  = data.get("prom
+0000f5a0: 7074 5f6e 6567 6174 6976 6522 290d 0a20  pt_negative").. 
+0000f5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f5c0: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+0000f5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f5e0: 2020 6d64 5b22 7072 6f6d 7074 5f6e 6567    md["prompt_neg
+0000f5f0: 6174 6976 6522 5d20 3d20 2222 0d0a 2020  ative"] = ""..  
+0000f600: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+0000f610: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+0000f620: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
+0000f630: 2020 2020 2020 2020 2020 6d64 203d 207b            md = {
+0000f640: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000f650: 2020 2020 2020 2020 2020 2270 726f 6d70            "promp
+0000f660: 745f 6e65 6761 7469 7665 223a 2022 222c  t_negative": "",
+0000f670: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000f680: 2020 2020 2020 2020 2020 2269 6d61 6765            "image
+0000f690: 5f73 7479 6c65 223a 2022 284e 6f20 7374  _style": "(No st
+0000f6a0: 796c 6529 222c 0d0a 2020 2020 2020 2020  yle)",..        
+0000f6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f6c0: 2277 6964 7468 223a 2031 3032 342c 0d0a  "width": 1024,..
+0000f6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f6e0: 2020 2020 2020 2020 2268 6569 6768 7422          "height"
+0000f6f0: 3a20 3130 3234 2c0d 0a20 2020 2020 2020  : 1024,..       
+0000f700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f710: 2022 6c63 6d5f 696e 6665 7265 6e63 655f   "lcm_inference_
+0000f720: 7374 6570 7322 3a20 390d 0a20 2020 2020  steps": 9..     
+0000f730: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+0000f740: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
+0000f750: 2020 2020 6461 7461 203d 207b 7d0d 0a20      data = {}.. 
+0000f760: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0000f770: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
+0000f780: 2020 2020 2020 2020 2064 6174 6120 3d20           data = 
+0000f790: 6a73 6f6e 2e64 756d 7073 287b 0d0a 2020  json.dumps({..  
 0000f7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f7b0: 2020 2020 2020 2020 2020 2273 7461 7475            "statu
-0000f7c0: 7322 3a20 4661 6c73 652c 0d0a 2020 2020  s": False,..    
+0000f7b0: 2020 2020 2020 2270 726f 6d70 7422 3a20        "prompt": 
+0000f7c0: 7072 6f6d 7074 2c0d 0a20 2020 2020 2020  prompt,..       
 0000f7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f7e0: 2020 2020 2020 2020 2265 7272 6f72 223a          "error":
-0000f7f0: 2022 494e 5445 524e 414c 5f53 4552 5645   "INTERNAL_SERVE
-0000f800: 525f 4552 524f 5222 2c0d 0a20 2020 2020  R_ERROR",..     
-0000f810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f820: 2020 2020 2020 2022 6d65 7373 6167 6522         "message"
-0000f830: 3a20 2267 656e 6572 616c 2028 756e 6b6e  : "general (unkn
-0000f840: 6f77 6e29 2065 7272 6f72 220d 0a20 2020  own) error"..   
-0000f850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f860: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
-0000f870: 2020 2020 2020 2020 2020 2020 0d0a 2020              ..  
-0000f880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f890: 2020 7365 6c66 2e65 7272 6f72 203d 2064    self.error = d
-0000f8a0: 6174 615f 6572 720d 0a20 2020 2020 2020  ata_err..       
-0000f8b0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-0000f8c0: 662e 7265 7375 6c74 203d 204e 6f6e 650d  f.result = None.
-0000f8d0: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-0000f8e0: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
-0000f8f0: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
-0000f900: 2020 2020 2073 656c 662e 6572 726f 7220       self.error 
-0000f910: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-0000f920: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
-0000f930: 2035 3030 2c0d 0a20 2020 2020 2020 2020   500,..         
-0000f940: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
-0000f950: 7573 223a 2046 616c 7365 2c0d 0a20 2020  us": False,..   
-0000f960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f970: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
-0000f980: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
-0000f990: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-0000f9a0: 2020 2020 2020 2020 226d 6573 7361 6765          "message
-0000f9b0: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
-0000f9c0: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
-0000f9d0: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
-0000f9e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f9f0: 2073 656c 662e 7265 7375 6c74 203d 204e   self.result = N
-0000fa00: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-0000fa10: 2070 6173 730d 0a20 2020 2020 2020 2064   pass..        d
-0000fa20: 6566 2065 7272 6f72 2873 656c 6629 3a0d  ef error(self):.
-0000fa30: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-0000fa40: 7572 6e20 7365 6c66 2e65 7272 6f72 0d0a  urn self.error..
-0000fa50: 2020 2020 2020 2020 6465 6620 7265 7375          def resu
-0000fa60: 6c74 2873 656c 6629 3a0d 0a20 2020 2020  lt(self):..     
-0000fa70: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-0000fa80: 6c66 2e72 6573 756c 740d 0a20 2020 2063  lf.result..    c
-0000fa90: 6c61 7373 2078 6c28 293a 0d0a 2020 2020  lass xl():..    
-0000faa0: 2020 2020 6572 726f 7220 3d20 4e6f 6e65      error = None
-0000fab0: 0d0a 2020 2020 2020 2020 7265 7375 6c74  ..        result
-0000fac0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
-0000fad0: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
-0000fae0: 6c66 2c20 7072 6f6d 7074 3d22 222c 2064  lf, prompt="", d
-0000faf0: 6174 613d 7b0d 0a20 2020 2020 2020 2020  ata={..         
-0000fb00: 2020 2022 7072 6f6d 7074 5f6e 6567 6174     "prompt_negat
-0000fb10: 6976 6522 3a20 2222 2c0d 0a20 2020 2020  ive": "",..     
-0000fb20: 2020 2020 2020 2022 696d 6167 655f 7374         "image_st
-0000fb30: 796c 6522 3a20 2222 2c0d 0a20 2020 2020  yle": "",..     
-0000fb40: 2020 2020 2020 2022 6775 6964 616e 6365         "guidance
-0000fb50: 5f73 6361 6c65 223a 2022 220d 0a20 2020  _scale": ""..   
-0000fb60: 2020 2020 207d 2920 2d3e 204e 6f6e 653a       }) -> None:
-0000fb70: 0d0a 2020 2020 2020 2020 2020 2020 7472  ..            tr
-0000fb80: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
-0000fb90: 2020 2020 6865 6164 6572 7320 3d20 7b0d      headers = {.
-0000fba0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000fbb0: 2020 2020 2022 436f 6e74 656e 742d 5479       "Content-Ty
-0000fbc0: 7065 223a 2022 6170 706c 6963 6174 696f  pe": "applicatio
-0000fbd0: 6e2f 6a73 6f6e 220d 0a20 2020 2020 2020  n/json"..       
-0000fbe0: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
-0000fbf0: 2020 2020 2020 2020 2020 2020 6865 6164              head
-0000fc00: 6572 732e 7570 6461 7465 2863 7265 6429  ers.update(cred)
-0000fc10: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
-0000fc20: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
-0000fc30: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-0000fc40: 6f6d 7074 203d 2070 726f 6d70 7420 6966  ompt = prompt if
-0000fc50: 2070 726f 6d70 7420 6973 206e 6f74 204e   prompt is not N
-0000fc60: 6f6e 6520 656c 7365 2022 220d 0a20 2020  one else ""..   
-0000fc70: 2020 2020 2020 2020 2020 2020 2065 7863               exc
-0000fc80: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
-0000fc90: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
-0000fca0: 2020 2020 2020 2020 2070 726f 6d70 7420           prompt 
-0000fcb0: 3d20 2222 0d0a 0d0a 2020 2020 2020 2020  = ""....        
-0000fcc0: 2020 2020 2020 2020 6d64 203d 207b 0d0a          md = {..
-0000fcd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fce0: 2020 2020 2270 726f 6d70 745f 6e65 6761      "prompt_nega
-0000fcf0: 7469 7665 223a 2022 222c 0d0a 2020 2020  tive": "",..    
-0000fd00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fd10: 2269 6d61 6765 5f73 7479 6c65 223a 2022  "image_style": "
-0000fd20: 284e 6f20 7374 796c 6529 222c 0d0a 2020  (No style)",..  
-0000fd30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fd40: 2020 2267 7569 6461 6e63 655f 7363 616c    "guidance_scal
-0000fd50: 6522 3a20 372e 350d 0a20 2020 2020 2020  e": 7.5..       
-0000fd60: 2020 2020 2020 2020 207d 0d0a 0d0a 2020           }....  
-0000fd70: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-0000fd80: 7920 3a0d 0a20 2020 2020 2020 2020 2020  y :..           
-0000fd90: 2020 2020 2020 2020 2069 6620 6461 7461           if data
-0000fda0: 2e67 6574 2822 7072 6f6d 7074 5f6e 6567  .get("prompt_neg
-0000fdb0: 6174 6976 6522 2920 213d 204e 6f6e 653a  ative") != None:
-0000fdc0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000fdd0: 2020 2020 2020 2020 2020 6d64 5b22 7072            md["pr
-0000fde0: 6f6d 7074 5f6e 6567 6174 6976 6522 5d20  ompt_negative"] 
-0000fdf0: 3d20 6461 7461 2e67 6574 2822 7072 6f6d  = data.get("prom
-0000fe00: 7074 5f6e 6567 6174 6976 6522 290d 0a20  pt_negative").. 
+0000f7e0: 2022 6d6f 6465 6c22 3a20 2270 6978 6172   "model": "pixar
+0000f7f0: 742d 6c63 6d22 2c0d 0a20 2020 2020 2020  t-lcm",..       
+0000f800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f810: 2022 6461 7461 223a 206d 640d 0a20 2020   "data": md..   
+0000f820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f830: 207d 290d 0a20 2020 2020 2020 2020 2020   })..           
+0000f840: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+0000f850: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
+0000f860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f870: 2064 6174 6120 3d20 6a73 6f6e 2e64 756d   data = json.dum
+0000f880: 7073 287b 0d0a 2020 2020 2020 2020 2020  ps({..          
+0000f890: 2020 2020 2020 2020 2020 2020 2020 2270                "p
+0000f8a0: 726f 6d70 7422 3a20 2222 2c0d 0a20 2020  rompt": "",..   
+0000f8b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f8c0: 2020 2020 2022 6d6f 6465 6c22 3a20 2270       "model": "p
+0000f8d0: 6978 6172 742d 6c63 6d22 2c0d 0a20 2020  ixart-lcm",..   
+0000f8e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f8f0: 2020 2020 2022 6461 7461 223a 207b 0d0a       "data": {..
+0000f900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f910: 2020 2020 2020 2020 2020 2020 2270 726f              "pro
+0000f920: 6d70 745f 6e65 6761 7469 7665 223a 2022  mpt_negative": "
+0000f930: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+0000f940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f950: 2269 6d61 6765 5f73 7479 6c65 223a 2022  "image_style": "
+0000f960: 284e 6f20 7374 796c 6529 222c 0d0a 2020  (No style)",..  
+0000f970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f980: 2020 2020 2020 2020 2020 2277 6964 7468            "width
+0000f990: 223a 2031 3032 342c 0d0a 2020 2020 2020  ": 1024,..      
+0000f9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f9b0: 2020 2020 2020 2268 6569 6768 7422 3a20        "height": 
+0000f9c0: 3130 3234 2c0d 0a20 2020 2020 2020 2020  1024,..         
+0000f9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f9e0: 2020 2022 6c63 6d5f 696e 6665 7265 6e63     "lcm_inferenc
+0000f9f0: 655f 7374 6570 7322 3a20 390d 0a20 2020  e_steps": 9..   
+0000fa00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fa10: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
+0000fa20: 2020 2020 2020 2020 2020 2020 7d29 0d0a              })..
+0000fa30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fa40: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000fa50: 2020 7265 7370 6f6e 7365 203d 2072 6571    response = req
+0000fa60: 7565 7374 732e 706f 7374 2875 726c 3d22  uests.post(url="
+0000fa70: 6874 7470 733a 2f2f 6e65 7872 612e 6172  https://nexra.ar
+0000fa80: 7961 6863 722e 6363 2f61 7069 2f69 6d61  yahcr.cc/api/ima
+0000fa90: 6765 2f63 6f6d 706c 656d 656e 7473 222c  ge/complements",
+0000faa0: 2068 6561 6465 7273 3d68 6561 6465 7273   headers=headers
+0000fab0: 2c20 6461 7461 3d64 6174 6129 0d0a 2020  , data=data)..  
+0000fac0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000fad0: 2072 6573 706f 6e73 652e 7374 6174 7573   response.status
+0000fae0: 5f63 6f64 6520 3d3d 2032 3030 3a0d 0a20  _code == 200:.. 
+0000faf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fb00: 2020 2065 7272 203d 204e 6f6e 650d 0a20     err = None.. 
+0000fb10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fb20: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
+0000fb30: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
+0000fb40: 2020 2020 2020 2020 636f 756e 7420 3d20          count = 
+0000fb50: 2d31 0d0a 2020 2020 2020 2020 2020 2020  -1..            
+0000fb60: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
+0000fb70: 2072 616e 6765 286c 656e 2872 6573 706f   range(len(respo
+0000fb80: 6e73 652e 7465 7874 2929 3a0d 0a20 2020  nse.text)):..   
+0000fb90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fba0: 2020 2020 2069 6620 636f 756e 7420 3c3d       if count <=
+0000fbb0: 202d 313a 0d0a 2020 2020 2020 2020 2020   -1:..          
+0000fbc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fbd0: 2020 6966 2072 6573 706f 6e73 652e 7465    if response.te
+0000fbe0: 7874 5b69 5d20 3d3d 2022 7b22 3a0d 0a20  xt[i] == "{":.. 
+0000fbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fc00: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0000fc10: 6f75 6e74 203d 2069 0d0a 2020 2020 2020  ount = i..      
+0000fc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fc30: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+0000fc40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fc50: 2020 2020 2062 7265 616b 0d0a 2020 2020       break..    
+0000fc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fc70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000fc80: 2020 2020 2020 6966 2063 6f75 6e74 203c        if count <
+0000fc90: 3d20 2d31 3a0d 0a20 2020 2020 2020 2020  = -1:..         
+0000fca0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000fcb0: 7272 203d 207b 0d0a 2020 2020 2020 2020  rr = {..        
+0000fcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fcd0: 2020 2020 2263 6f64 6522 3a20 3530 302c      "code": 500,
+0000fce0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000fcf0: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+0000fd00: 7461 7475 7322 3a20 4661 6c73 652c 0d0a  tatus": False,..
+0000fd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fd20: 2020 2020 2020 2020 2020 2020 2265 7272              "err
+0000fd30: 6f72 223a 2022 494e 5445 524e 414c 5f53  or": "INTERNAL_S
+0000fd40: 4552 5645 525f 4552 524f 5222 2c0d 0a20  ERVER_ERROR",.. 
+0000fd50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fd60: 2020 2020 2020 2020 2020 2022 6d65 7373             "mess
+0000fd70: 6167 6522 3a20 2267 656e 6572 616c 2028  age": "general (
+0000fd80: 756e 6b6e 6f77 6e29 2065 7272 6f72 220d  unknown) error".
+0000fd90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000fda0: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
+0000fdb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fdc0: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
+0000fdd0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+0000fde0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+0000fdf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fe00: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
 0000fe10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fe20: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-0000fe30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fe40: 2020 6d64 5b22 7072 6f6d 7074 5f6e 6567    md["prompt_neg
-0000fe50: 6174 6976 6522 5d20 3d20 2261 6273 6f6c  ative"] = "absol
-0000fe60: 7574 6572 6561 6c69 7479 5f56 3136 2e73  utereality_V16.s
-0000fe70: 6166 6574 656e 736f 7273 205b 3337 6462  afetensors [37db
-0000fe80: 3066 6333 5d22 0d0a 0d0a 2020 2020 2020  0fc3]"....      
-0000fe90: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0000fea0: 2064 6174 612e 6765 7428 2267 7569 6461   data.get("guida
-0000feb0: 6e63 655f 7363 616c 6522 2920 213d 204e  nce_scale") != N
-0000fec0: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
-0000fed0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-0000fee0: 5b22 6775 6964 616e 6365 5f73 6361 6c65  ["guidance_scale
-0000fef0: 225d 203d 2064 6174 612e 6765 7428 2267  "] = data.get("g
-0000ff00: 7569 6461 6e63 655f 7363 616c 6522 290d  uidance_scale").
-0000ff10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000ff20: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
+0000fe20: 2020 2020 2020 2020 6a73 203d 2072 6573          js = res
+0000fe30: 706f 6e73 652e 7465 7874 5b63 6f75 6e74  ponse.text[count
+0000fe40: 3a5d 0d0a 2020 2020 2020 2020 2020 2020  :]..            
+0000fe50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fe60: 6a73 203d 206a 736f 6e2e 6c6f 6164 7328  js = json.loads(
+0000fe70: 6a73 290d 0a20 2020 2020 2020 2020 2020  js)..           
+0000fe80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fe90: 2069 6620 6a73 2021 3d20 4e6f 6e65 2061   if js != None a
+0000fea0: 6e64 206a 735b 2263 6f64 6522 5d20 213d  nd js["code"] !=
+0000feb0: 204e 6f6e 6520 616e 6420 6a73 5b22 636f   None and js["co
+0000fec0: 6465 225d 203d 3d20 3230 3020 616e 6420  de"] == 200 and 
+0000fed0: 6a73 5b22 7374 6174 7573 225d 2021 3d20  js["status"] != 
+0000fee0: 4e6f 6e65 2061 6e64 206a 735b 2273 7461  None and js["sta
+0000fef0: 7475 7322 5d20 3d3d 2054 7275 653a 0d0a  tus"] == True:..
+0000ff00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ff10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ff20: 7265 7375 6c74 203d 206a 730d 0a20 2020  result = js..   
 0000ff30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ff40: 2020 2020 6d64 5b22 6775 6964 616e 6365      md["guidance
-0000ff50: 5f73 6361 6c65 225d 203d 2037 2e35 0d0a  _scale"] = 7.5..
-0000ff60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000ff70: 2020 2020 2020 6966 2064 6174 612e 6765        if data.ge
-0000ff80: 7428 2269 6d61 6765 5f73 7479 6c65 2229  t("image_style")
-0000ff90: 2021 3d20 4e6f 6e65 3a0d 0a20 2020 2020   != None:..     
-0000ffa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ffb0: 2020 206d 645b 2269 6d61 6765 5f73 7479     md["image_sty
-0000ffc0: 6c65 225d 203d 2064 6174 612e 6765 7428  le"] = data.get(
-0000ffd0: 2269 6d61 6765 5f73 7479 6c65 2229 0d0a  "image_style")..
-0000ffe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fff0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-00010000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010010: 2020 206d 645b 2269 6d61 6765 5f73 7479     md["image_sty
-00010020: 6c65 225d 203d 2022 284e 6f20 7374 796c  le"] = "(No styl
-00010030: 6529 220d 0a20 2020 2020 2020 2020 2020  e)"..           
-00010040: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
-00010050: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
+0000ff40: 2020 2020 2020 2020 2020 2020 2065 7272               err
+0000ff50: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+0000ff60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ff70: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
+0000ff80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ff90: 2020 2020 2020 2020 2020 2020 6572 7220              err 
+0000ffa0: 3d20 6a73 0d0a 2020 2020 2020 2020 2020  = js..          
+0000ffb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ffc0: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
+0000ffd0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+0000ffe0: 2020 2020 2020 2020 2020 2020 2065 7863               exc
+0000fff0: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
+00010000: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
+00010010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010020: 2065 7272 203d 207b 0d0a 2020 2020 2020   err = {..      
+00010030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010040: 2020 2020 2020 2020 2020 2263 6f64 6522            "code"
+00010050: 3a20 3530 302c 0d0a 2020 2020 2020 2020  : 500,..        
 00010060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010070: 206d 6420 3d20 7b0d 0a20 2020 2020 2020   md = {..       
-00010080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010090: 2022 7072 6f6d 7074 5f6e 6567 6174 6976   "prompt_negativ
-000100a0: 6522 3a20 2222 2c0d 0a20 2020 2020 2020  e": "",..       
-000100b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000100c0: 2022 696d 6167 655f 7374 796c 6522 3a20   "image_style": 
-000100d0: 2228 4e6f 2073 7479 6c65 2922 2c0d 0a20  "(No style)",.. 
-000100e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000100f0: 2020 2020 2020 2022 6775 6964 616e 6365         "guidance
-00010100: 5f73 6361 6c65 223a 2037 2e35 0d0a 2020  _scale": 7.5..  
-00010110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010120: 2020 7d0d 0a0d 0a20 2020 2020 2020 2020    }....         
-00010130: 2020 2020 2020 2064 6174 6120 3d20 7b7d         data = {}
-00010140: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00010150: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
-00010160: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00010170: 203d 206a 736f 6e2e 6475 6d70 7328 7b0d   = json.dumps({.
-00010180: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010190: 2020 2020 2020 2020 2022 7072 6f6d 7074           "prompt
-000101a0: 223a 2070 726f 6d70 742c 0d0a 2020 2020  ": prompt,..    
-000101b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000101c0: 2020 2020 226d 6f64 656c 223a 2022 7374      "model": "st
-000101d0: 6162 6c65 6469 6666 7573 696f 6e2d 786c  ablediffusion-xl
-000101e0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-000101f0: 2020 2020 2020 2020 2020 2020 2264 6174              "dat
-00010200: 6122 3a20 6d64 0d0a 2020 2020 2020 2020  a": md..        
-00010210: 2020 2020 2020 2020 2020 2020 7d29 0d0a              })..
+00010070: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
+00010080: 3a20 4661 6c73 652c 0d0a 2020 2020 2020  : False,..      
+00010090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000100a0: 2020 2020 2020 2020 2020 2265 7272 6f72            "error
+000100b0: 223a 2022 494e 5445 524e 414c 5f53 4552  ": "INTERNAL_SER
+000100c0: 5645 525f 4552 524f 5222 2c0d 0a20 2020  VER_ERROR",..   
+000100d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000100e0: 2020 2020 2020 2020 2020 2020 2022 6d65               "me
+000100f0: 7373 6167 6522 3a20 2267 656e 6572 616c  ssage": "general
+00010100: 2028 756e 6b6e 6f77 6e29 2065 7272 6f72   (unknown) error
+00010110: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
+00010120: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+00010130: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00010140: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00010150: 7375 6c74 203d 204e 6f6e 650d 0a0d 0a20  sult = None.... 
+00010160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010170: 2020 2020 2020 2069 6620 7265 7375 6c74         if result
+00010180: 203d 3d20 4e6f 6e65 2061 6e64 2065 7272   == None and err
+00010190: 2021 3d20 4e6f 6e65 3a0d 0a20 2020 2020   != None:..     
+000101a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000101b0: 2020 2020 2020 2073 656c 662e 6572 726f         self.erro
+000101c0: 7220 3d20 6572 720d 0a20 2020 2020 2020  r = err..       
+000101d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000101e0: 2020 2020 2073 656c 662e 7265 7375 6c74       self.result
+000101f0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+00010200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010210: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
 00010220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010230: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
-00010240: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
-00010250: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00010260: 203d 206a 736f 6e2e 6475 6d70 7328 7b0d   = json.dumps({.
-00010270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010280: 2020 2020 2020 2020 2022 7072 6f6d 7074           "prompt
-00010290: 223a 2022 222c 0d0a 2020 2020 2020 2020  ": "",..        
-000102a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000102b0: 226d 6f64 656c 223a 2022 7374 6162 6c65  "model": "stable
-000102c0: 6469 6666 7573 696f 6e2d 786c 222c 0d0a  diffusion-xl",..
+00010230: 2020 2020 7365 6c66 2e72 6573 756c 7420      self.result 
+00010240: 3d20 7265 7375 6c74 0d0a 2020 2020 2020  = result..      
+00010250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010260: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
+00010270: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+00010280: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+00010290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000102a0: 2020 2020 6461 7461 5f65 7272 203d 207b      data_err = {
+000102b0: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
+000102c0: 2020 2020 2020 2074 7279 3a0d 0a20 2020         try:..   
 000102d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000102e0: 2020 2020 2020 2020 2264 6174 6122 3a20          "data": 
-000102f0: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
-00010300: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00010310: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
-00010320: 3a20 2222 2c0d 0a20 2020 2020 2020 2020  : "",..         
-00010330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010340: 2020 2022 696d 6167 655f 7374 796c 6522     "image_style"
-00010350: 3a20 2228 4e6f 2073 7479 6c65 2922 2c0d  : "(No style)",.
-00010360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010370: 2020 2020 2020 2020 2020 2020 2022 6775               "gu
-00010380: 6964 616e 6365 5f73 6361 6c65 223a 2037  idance_scale": 7
-00010390: 2e35 0d0a 2020 2020 2020 2020 2020 2020  .5..            
-000103a0: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
-000103b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000103c0: 2020 207d 290d 0a0d 0a20 2020 2020 2020     })....       
-000103d0: 2020 2020 2020 2020 2072 6573 706f 6e73           respons
-000103e0: 6520 3d20 7265 7175 6573 7473 2e70 6f73  e = requests.pos
-000103f0: 7428 7572 6c3d 2268 7474 7073 3a2f 2f6e  t(url="https://n
-00010400: 6578 7261 2e61 7279 6168 6372 2e63 632f  exra.aryahcr.cc/
-00010410: 6170 692f 696d 6167 652f 636f 6d70 6c65  api/image/comple
-00010420: 6d65 6e74 7322 2c20 6865 6164 6572 733d  ments", headers=
-00010430: 6865 6164 6572 732c 2064 6174 613d 6461  headers, data=da
-00010440: 7461 290d 0a20 2020 2020 2020 2020 2020  ta)..           
-00010450: 2020 2020 2069 6620 7265 7370 6f6e 7365       if response
-00010460: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00010470: 3230 303a 0d0a 2020 2020 2020 2020 2020  200:..          
-00010480: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
-00010490: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
-000104a0: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-000104b0: 203d 204e 6f6e 650d 0a0d 0a20 2020 2020   = None....     
-000104c0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-000104d0: 6f75 6e74 203d 202d 310d 0a20 2020 2020  ount = -1..     
-000104e0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-000104f0: 6f72 2069 2069 6e20 7261 6e67 6528 6c65  or i in range(le
-00010500: 6e28 7265 7370 6f6e 7365 2e74 6578 7429  n(response.text)
-00010510: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
-00010520: 2020 2020 2020 2020 2020 2020 6966 2063              if c
-00010530: 6f75 6e74 203c 3d20 2d31 3a0d 0a20 2020  ount <= -1:..   
-00010540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010550: 2020 2020 2020 2020 2069 6620 7265 7370           if resp
-00010560: 6f6e 7365 2e74 6578 745b 695d 203d 3d20  onse.text[i] == 
-00010570: 227b 223a 0d0a 2020 2020 2020 2020 2020  "{":..          
+000102e0: 2020 2020 2064 6174 615f 6572 7220 3d20       data_err = 
+000102f0: 6a73 6f6e 2e6c 6f61 6473 2872 6573 706f  json.loads(respo
+00010300: 6e73 652e 7465 7874 290d 0a20 2020 2020  nse.text)..     
+00010310: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00010320: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
+00010330: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
+00010340: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00010350: 6174 615f 6572 7220 3d20 7b0d 0a20 2020  ata_err = {..   
+00010360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010370: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
+00010380: 2035 3030 2c0d 0a20 2020 2020 2020 2020   500,..         
+00010390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000103a0: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
+000103b0: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
+000103c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000103d0: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
+000103e0: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
+000103f0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+00010400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010410: 226d 6573 7361 6765 223a 2022 6765 6e65  "message": "gene
+00010420: 7261 6c20 2875 6e6b 6e6f 776e 2920 6572  ral (unknown) er
+00010430: 726f 7222 0d0a 2020 2020 2020 2020 2020  ror"..          
+00010440: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
+00010450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010460: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
+00010470: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010480: 6572 726f 7220 3d20 6461 7461 5f65 7272  error = data_err
+00010490: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000104a0: 2020 2020 2020 7365 6c66 2e72 6573 756c        self.resul
+000104b0: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
+000104c0: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+000104d0: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
+000104e0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000104f0: 6c66 2e65 7272 6f72 203d 207b 0d0a 2020  lf.error = {..  
+00010500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010510: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
+00010520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010530: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
+00010540: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
+00010550: 2020 2020 2020 2020 2020 2265 7272 6f72            "error
+00010560: 223a 2022 494e 5445 524e 414c 5f53 4552  ": "INTERNAL_SER
+00010570: 5645 525f 4552 524f 5222 2c0d 0a20 2020  VER_ERROR",..   
 00010580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010590: 2020 2020 2020 636f 756e 7420 3d20 690d        count = i.
-000105a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000105b0: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-000105c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000105d0: 2020 2020 2020 2020 2020 2020 6272 6561              brea
-000105e0: 6b0d 0a20 2020 2020 2020 2020 2020 2020  k..             
-000105f0: 2020 2020 2020 200d 0a20 2020 2020 2020         ..       
-00010600: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00010610: 636f 756e 7420 3c3d 202d 313a 0d0a 2020  count <= -1:..  
-00010620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010630: 2020 2020 2020 6572 7220 3d20 7b0d 0a20        err = {.. 
-00010640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010650: 2020 2020 2020 2020 2020 2022 636f 6465             "code
-00010660: 223a 2035 3030 2c0d 0a20 2020 2020 2020  ": 500,..       
-00010670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010680: 2020 2020 2022 7374 6174 7573 223a 2046       "status": F
-00010690: 616c 7365 2c0d 0a20 2020 2020 2020 2020  alse,..         
-000106a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000106b0: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
-000106c0: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
-000106d0: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
-000106e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000106f0: 2020 226d 6573 7361 6765 223a 2022 6765    "message": "ge
-00010700: 6e65 7261 6c20 2875 6e6b 6e6f 776e 2920  neral (unknown) 
-00010710: 6572 726f 7222 0d0a 2020 2020 2020 2020  error"..        
-00010720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010730: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
-00010740: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-00010750: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
-00010760: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00010770: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-00010780: 2020 2020 2020 2020 2020 2020 2074 7279               try
-00010790: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-000107a0: 2020 2020 2020 2020 2020 2020 2020 206a                 j
-000107b0: 7320 3d20 7265 7370 6f6e 7365 2e74 6578  s = response.tex
-000107c0: 745b 636f 756e 743a 5d0d 0a20 2020 2020  t[count:]..     
-000107d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000107e0: 2020 2020 2020 206a 7320 3d20 6a73 6f6e         js = json
-000107f0: 2e6c 6f61 6473 286a 7329 0d0a 2020 2020  .loads(js)..    
-00010800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010810: 2020 2020 2020 2020 6966 206a 7320 213d          if js !=
-00010820: 204e 6f6e 6520 616e 6420 6a73 5b22 636f   None and js["co
-00010830: 6465 225d 2021 3d20 4e6f 6e65 2061 6e64  de"] != None and
-00010840: 206a 735b 2263 6f64 6522 5d20 3d3d 2032   js["code"] == 2
-00010850: 3030 2061 6e64 206a 735b 2273 7461 7475  00 and js["statu
-00010860: 7322 5d20 213d 204e 6f6e 6520 616e 6420  s"] != None and 
-00010870: 6a73 5b22 7374 6174 7573 225d 203d 3d20  js["status"] == 
-00010880: 5472 7565 3a0d 0a20 2020 2020 2020 2020  True:..         
+00010590: 2022 6d65 7373 6167 6522 3a20 2267 656e   "message": "gen
+000105a0: 6572 616c 2028 756e 6b6e 6f77 6e29 2065  eral (unknown) e
+000105b0: 7272 6f72 220d 0a20 2020 2020 2020 2020  rror"..         
+000105c0: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
+000105d0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
+000105e0: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
+000105f0: 2020 2020 2020 2020 2020 7061 7373 0d0a            pass..
+00010600: 2020 2020 2020 2020 6465 6620 6572 726f          def erro
+00010610: 7228 7365 6c66 293a 0d0a 2020 2020 2020  r(self):..      
+00010620: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00010630: 662e 6572 726f 720d 0a20 2020 2020 2020  f.error..       
+00010640: 2064 6566 2072 6573 756c 7428 7365 6c66   def result(self
+00010650: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
+00010660: 7265 7475 726e 2073 656c 662e 7265 7375  return self.resu
+00010670: 6c74 0d0a 0d0a 636c 6173 7320 7374 6162  lt....class stab
+00010680: 6c65 6469 6666 7573 696f 6e28 293a 0d0a  lediffusion():..
+00010690: 2020 2020 636c 6173 7320 7631 2829 3a0d      class v1():.
+000106a0: 0a20 2020 2020 2020 2065 7272 6f72 203d  .        error =
+000106b0: 204e 6f6e 650d 0a20 2020 2020 2020 2072   None..        r
+000106c0: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
+000106d0: 2020 2020 2020 6465 6620 5f5f 696e 6974        def __init
+000106e0: 5f5f 2873 656c 662c 2070 726f 6d70 743d  __(self, prompt=
+000106f0: 2222 2920 2d3e 204e 6f6e 653a 0d0a 2020  "") -> None:..  
+00010700: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
+00010710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010720: 6865 6164 6572 7320 3d20 7b0d 0a20 2020  headers = {..   
+00010730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010740: 2022 436f 6e74 656e 742d 5479 7065 223a   "Content-Type":
+00010750: 2022 6170 706c 6963 6174 696f 6e2f 6a73   "application/js
+00010760: 6f6e 220d 0a20 2020 2020 2020 2020 2020  on"..           
+00010770: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
+00010780: 2020 2020 2020 2020 6572 7220 3d20 4661          err = Fa
+00010790: 6c73 650d 0a20 2020 2020 2020 2020 2020  lse..           
+000107a0: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
+000107b0: 2020 2020 2020 2064 6174 6120 3d20 6a73         data = js
+000107c0: 6f6e 2e64 756d 7073 287b 7d29 0d0a 2020  on.dumps({})..  
+000107d0: 2020 2020 2020 2020 2020 2020 2020 7472                tr
+000107e0: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
+000107f0: 2020 2020 2020 2020 6461 7461 203d 206a          data = j
+00010800: 736f 6e2e 6475 6d70 7328 7b0d 0a20 2020  son.dumps({..   
+00010810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010820: 2020 2020 2022 7072 6f6d 7074 223a 2070       "prompt": p
+00010830: 726f 6d70 7420 6966 2070 726f 6d70 7420  rompt if prompt 
+00010840: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
+00010850: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
+00010860: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00010870: 6f64 656c 223a 2022 7374 6162 6c65 6469  odel": "stabledi
+00010880: 6666 7573 696f 6e2d 312e 3522 0d0a 2020  ffusion-1.5"..  
 00010890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000108a0: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-000108b0: 6a73 0d0a 2020 2020 2020 2020 2020 2020  js..            
-000108c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000108d0: 2020 2020 6572 7220 3d20 4e6f 6e65 0d0a      err = None..
-000108e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000108f0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00010900: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00010910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010920: 2020 2065 7272 203d 206a 730d 0a20 2020     err = js..   
-00010930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010940: 2020 2020 2020 2020 2020 2020 2072 6573               res
-00010950: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
-00010960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010970: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
-00010980: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
-00010990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000109a0: 2020 2020 2020 2020 6572 7220 3d20 7b0d          err = {.
-000109b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000109c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000109d0: 2022 636f 6465 223a 2035 3030 2c0d 0a20   "code": 500,.. 
-000109e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000109f0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00010a00: 7374 6174 7573 223a 2046 616c 7365 2c0d  status": False,.
-00010a10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010a30: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
-00010a40: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
-00010a50: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-00010a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010a70: 2020 2020 226d 6573 7361 6765 223a 2022      "message": "
-00010a80: 6765 6e65 7261 6c20 2875 6e6b 6e6f 776e  general (unknown
-00010a90: 2920 6572 726f 7222 0d0a 2020 2020 2020  ) error"..      
-00010aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010ab0: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
-00010ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010ad0: 2020 2020 2072 6573 756c 7420 3d20 4e6f       result = No
-00010ae0: 6e65 0d0a 0d0a 2020 2020 2020 2020 2020  ne....          
-00010af0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00010b00: 2072 6573 756c 7420 3d3d 204e 6f6e 6520   result == None 
-00010b10: 616e 6420 6572 7220 213d 204e 6f6e 653a  and err != None:
-00010b20: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00010b30: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00010b40: 6c66 2e65 7272 6f72 203d 2065 7272 0d0a  lf.error = err..
-00010b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010b60: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00010b70: 2e72 6573 756c 7420 3d20 4e6f 6e65 0d0a  .result = None..
+000108a0: 2020 7d29 0d0a 2020 2020 2020 2020 2020    })..          
+000108b0: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+000108c0: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
+000108d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000108e0: 2020 6461 7461 203d 206a 736f 6e2e 6475    data = json.du
+000108f0: 6d70 7328 7b0d 0a20 2020 2020 2020 2020  mps({..         
+00010900: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00010910: 7072 6f6d 7074 223a 2022 222c 0d0a 2020  prompt": "",..  
+00010920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010930: 2020 2020 2020 226d 6f64 656c 223a 2022        "model": "
+00010940: 7374 6162 6c65 6469 6666 7573 696f 6e2d  stablediffusion-
+00010950: 312e 3522 0d0a 2020 2020 2020 2020 2020  1.5"..          
+00010960: 2020 2020 2020 2020 2020 7d29 0d0a 2020            })..  
+00010970: 2020 2020 2020 2020 2020 2020 2020 0d0a                ..
+00010980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010990: 7265 7370 6f6e 7365 203d 2072 6571 7565  response = reque
+000109a0: 7374 732e 706f 7374 2875 726c 3d22 6874  sts.post(url="ht
+000109b0: 7470 733a 2f2f 6e65 7872 612e 6172 7961  tps://nexra.arya
+000109c0: 6863 722e 6363 2f61 7069 2f69 6d61 6765  hcr.cc/api/image
+000109d0: 2f63 6f6d 706c 656d 656e 7473 222c 2068  /complements", h
+000109e0: 6561 6465 7273 3d68 6561 6465 7273 2c20  eaders=headers, 
+000109f0: 6461 7461 3d64 6174 6129 0d0a 2020 2020  data=data)..    
+00010a00: 2020 2020 2020 2020 2020 2020 6966 2072              if r
+00010a10: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00010a20: 6f64 6520 3d3d 2032 3030 3a0d 0a20 2020  ode == 200:..   
+00010a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a40: 2065 7272 203d 204e 6f6e 650d 0a20 2020   err = None..   
+00010a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a60: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
+00010a70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00010a80: 2020 2020 2020 636f 756e 7420 3d20 2d31        count = -1
+00010a90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00010aa0: 2020 2020 2020 666f 7220 6920 696e 2072        for i in r
+00010ab0: 616e 6765 286c 656e 2872 6573 706f 6e73  ange(len(respons
+00010ac0: 652e 7465 7874 2929 3a0d 0a20 2020 2020  e.text)):..     
+00010ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010ae0: 2020 2069 6620 636f 756e 7420 3c3d 202d     if count <= -
+00010af0: 313a 0d0a 2020 2020 2020 2020 2020 2020  1:..            
+00010b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010b10: 6966 2072 6573 706f 6e73 652e 7465 7874  if response.text
+00010b20: 5b69 5d20 3d3d 2022 7b22 3a0d 0a20 2020  [i] == "{":..   
+00010b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010b40: 2020 2020 2020 2020 2020 2020 2063 6f75               cou
+00010b50: 6e74 203d 2069 0d0a 2020 2020 2020 2020  nt = i..        
+00010b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010b70: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
 00010b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010b90: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
-00010ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010bb0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00010bc0: 7265 7375 6c74 203d 2072 6573 756c 740d  result = result.
-00010bd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010be0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00010bf0: 662e 6572 726f 7220 3d20 4e6f 6e65 0d0a  f.error = None..
+00010b90: 2020 2062 7265 616b 0d0a 2020 2020 2020     break..      
+00010ba0: 2020 2020 2020 2020 2020 2020 2020 0d0a                ..
+00010bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010bc0: 2020 2020 6966 2063 6f75 6e74 203c 3d20      if count <= 
+00010bd0: 2d31 3a0d 0a20 2020 2020 2020 2020 2020  -1:..           
+00010be0: 2020 2020 2020 2020 2020 2020 2065 7272               err
+00010bf0: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
 00010c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010c10: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
-00010c20: 2020 2020 2020 2020 2020 2064 6174 615f             data_
-00010c30: 6572 7220 3d20 7b7d 0d0a 2020 2020 2020  err = {}..      
-00010c40: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-00010c50: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
-00010c60: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00010c70: 5f65 7272 203d 206a 736f 6e2e 6c6f 6164  _err = json.load
-00010c80: 7328 7265 7370 6f6e 7365 2e74 6578 7429  s(response.text)
-00010c90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00010ca0: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
-00010cb0: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
-00010cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010cd0: 2020 2020 2020 6461 7461 5f65 7272 203d        data_err =
-00010ce0: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+00010c10: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
+00010c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010c30: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
+00010c40: 7475 7322 3a20 4661 6c73 652c 0d0a 2020  tus": False,..  
+00010c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010c60: 2020 2020 2020 2020 2020 2265 7272 6f72            "error
+00010c70: 223a 2022 494e 5445 524e 414c 5f53 4552  ": "INTERNAL_SER
+00010c80: 5645 525f 4552 524f 5222 2c0d 0a20 2020  VER_ERROR",..   
+00010c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010ca0: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
+00010cb0: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
+00010cc0: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
+00010cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010ce0: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
 00010cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010d00: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
-00010d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010d20: 2020 2020 2020 2020 2020 2273 7461 7475            "statu
-00010d30: 7322 3a20 4661 6c73 652c 0d0a 2020 2020  s": False,..    
-00010d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010d50: 2020 2020 2020 2020 2265 7272 6f72 223a          "error":
-00010d60: 2022 494e 5445 524e 414c 5f53 4552 5645   "INTERNAL_SERVE
-00010d70: 525f 4552 524f 5222 2c0d 0a20 2020 2020  R_ERROR",..     
-00010d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010d90: 2020 2020 2020 2022 6d65 7373 6167 6522         "message"
-00010da0: 3a20 2267 656e 6572 616c 2028 756e 6b6e  : "general (unkn
-00010db0: 6f77 6e29 2065 7272 6f72 220d 0a20 2020  own) error"..   
-00010dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010dd0: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
-00010de0: 2020 2020 2020 2020 2020 2020 0d0a 2020              ..  
-00010df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010e00: 2020 7365 6c66 2e65 7272 6f72 203d 2064    self.error = d
-00010e10: 6174 615f 6572 720d 0a20 2020 2020 2020  ata_err..       
-00010e20: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00010e30: 662e 7265 7375 6c74 203d 204e 6f6e 650d  f.result = None.
-00010e40: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-00010e50: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
-00010e60: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
-00010e70: 2020 2020 2073 656c 662e 6572 726f 7220       self.error 
-00010e80: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-00010e90: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
-00010ea0: 2035 3030 2c0d 0a20 2020 2020 2020 2020   500,..         
-00010eb0: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
-00010ec0: 7573 223a 2046 616c 7365 2c0d 0a20 2020  us": False,..   
-00010ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010ee0: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
-00010ef0: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
-00010f00: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-00010f10: 2020 2020 2020 2020 226d 6573 7361 6765          "message
-00010f20: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
-00010f30: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
-00010f40: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
-00010f50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010f60: 2073 656c 662e 7265 7375 6c74 203d 204e   self.result = N
-00010f70: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-00010f80: 2070 6173 730d 0a20 2020 2020 2020 2064   pass..        d
-00010f90: 6566 2065 7272 6f72 2873 656c 6629 3a0d  ef error(self):.
-00010fa0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00010fb0: 7572 6e20 7365 6c66 2e65 7272 6f72 0d0a  urn self.error..
-00010fc0: 2020 2020 2020 2020 6465 6620 7265 7375          def resu
-00010fd0: 6c74 2873 656c 6629 3a0d 0a20 2020 2020  lt(self):..     
-00010fe0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00010ff0: 6c66 2e72 6573 756c 740d 0a0d 0a63 6c61  lf.result....cla
-00011000: 7373 2065 6d69 2829 3a0d 0a20 2020 2065  ss emi():..    e
-00011010: 7272 6f72 203d 204e 6f6e 650d 0a20 2020  rror = None..   
-00011020: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
-00011030: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-00011040: 2873 656c 662c 2070 726f 6d70 743d 2222  (self, prompt=""
-00011050: 2920 2d3e 204e 6f6e 653a 0d0a 2020 2020  ) -> None:..    
-00011060: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
-00011070: 2020 2020 2020 6865 6164 6572 7320 3d20        headers = 
-00011080: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
-00011090: 2020 2022 436f 6e74 656e 742d 5479 7065     "Content-Type
-000110a0: 223a 2022 6170 706c 6963 6174 696f 6e2f  ": "application/
-000110b0: 6a73 6f6e 220d 0a20 2020 2020 2020 2020  json"..         
-000110c0: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
-000110d0: 2020 6572 7220 3d20 4661 6c73 650d 0a20    err = False.. 
-000110e0: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
-000110f0: 2020 2020 2020 2020 2064 6174 6120 3d20           data = 
-00011100: 6a73 6f6e 2e64 756d 7073 287b 7d29 0d0a  json.dumps({})..
-00011110: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-00011120: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00011130: 2020 6461 7461 203d 206a 736f 6e2e 6475    data = json.du
-00011140: 6d70 7328 7b0d 0a20 2020 2020 2020 2020  mps({..         
-00011150: 2020 2020 2020 2020 2020 2022 7072 6f6d             "prom
-00011160: 7074 223a 2070 726f 6d70 7420 6966 2070  pt": prompt if p
-00011170: 726f 6d70 7420 6973 206e 6f74 204e 6f6e  rompt is not Non
-00011180: 6520 656c 7365 2022 222c 0d0a 2020 2020  e else "",..    
+00010d00: 2020 7265 7375 6c74 203d 204e 6f6e 650d    result = None.
+00010d10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010d20: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
+00010d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010d40: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
+00010d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010d60: 2020 2020 2020 6a73 203d 2072 6573 706f        js = respo
+00010d70: 6e73 652e 7465 7874 5b63 6f75 6e74 3a5d  nse.text[count:]
+00010d80: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00010d90: 2020 2020 2020 2020 2020 2020 2020 6a73                js
+00010da0: 203d 206a 736f 6e2e 6c6f 6164 7328 6a73   = json.loads(js
+00010db0: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+00010dc0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00010dd0: 6620 6a73 2021 3d20 4e6f 6e65 2061 6e64  f js != None and
+00010de0: 206a 735b 2263 6f64 6522 5d20 213d 204e   js["code"] != N
+00010df0: 6f6e 6520 616e 6420 6a73 5b22 636f 6465  one and js["code
+00010e00: 225d 203d 3d20 3230 3020 616e 6420 6a73  "] == 200 and js
+00010e10: 5b22 7374 6174 7573 225d 2021 3d20 4e6f  ["status"] != No
+00010e20: 6e65 2061 6e64 206a 735b 2273 7461 7475  ne and js["statu
+00010e30: 7322 5d20 3d3d 2054 7275 653a 0d0a 2020  s"] == True:..  
+00010e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010e50: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00010e60: 7375 6c74 203d 206a 730d 0a20 2020 2020  sult = js..     
+00010e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010e80: 2020 2020 2020 2020 2020 2065 7272 203d             err =
+00010e90: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+00010ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010eb0: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+00010ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010ed0: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
+00010ee0: 6a73 0d0a 2020 2020 2020 2020 2020 2020  js..            
+00010ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010f00: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
+00010f10: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+00010f20: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+00010f30: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
+00010f40: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00010f50: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00010f60: 7272 203d 207b 0d0a 2020 2020 2020 2020  rr = {..        
+00010f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010f80: 2020 2020 2020 2020 2263 6f64 6522 3a20          "code": 
+00010f90: 3530 302c 0d0a 2020 2020 2020 2020 2020  500,..          
+00010fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010fb0: 2020 2020 2020 2273 7461 7475 7322 3a20        "status": 
+00010fc0: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
+00010fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010fe0: 2020 2020 2020 2020 2265 7272 6f72 223a          "error":
+00010ff0: 2022 494e 5445 524e 414c 5f53 4552 5645   "INTERNAL_SERVE
+00011000: 525f 4552 524f 5222 2c0d 0a20 2020 2020  R_ERROR",..     
+00011010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011020: 2020 2020 2020 2020 2020 2022 6d65 7373             "mess
+00011030: 6167 6522 3a20 2267 656e 6572 616c 2028  age": "general (
+00011040: 756e 6b6e 6f77 6e29 2065 7272 6f72 220d  unknown) error".
+00011050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011060: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
+00011070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011080: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+00011090: 6c74 203d 204e 6f6e 650d 0a0d 0a20 2020  lt = None....   
+000110a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000110b0: 2020 2020 2069 6620 7265 7375 6c74 203d       if result =
+000110c0: 3d20 4e6f 6e65 2061 6e64 2065 7272 2021  = None and err !
+000110d0: 3d20 4e6f 6e65 3a0d 0a20 2020 2020 2020  = None:..       
+000110e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000110f0: 2020 2020 2073 656c 662e 6572 726f 7220       self.error 
+00011100: 3d20 6572 720d 0a20 2020 2020 2020 2020  = err..         
+00011110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011120: 2020 2073 656c 662e 7265 7375 6c74 203d     self.result =
+00011130: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+00011140: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00011150: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+00011160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011170: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
+00011180: 7265 7375 6c74 0d0a 2020 2020 2020 2020  result..        
 00011190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000111a0: 226d 6f64 656c 223a 2022 656d 6922 0d0a  "model": "emi"..
-000111b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000111c0: 7d29 0d0a 2020 2020 2020 2020 2020 2020  })..            
-000111d0: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
-000111e0: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
-000111f0: 2020 2020 2020 2020 6461 7461 203d 206a          data = j
-00011200: 736f 6e2e 6475 6d70 7328 7b0d 0a20 2020  son.dumps({..   
+000111a0: 2020 2020 7365 6c66 2e65 7272 6f72 203d      self.error =
+000111b0: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+000111c0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+000111d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000111e0: 2020 6461 7461 5f65 7272 203d 207b 7d0d    data_err = {}.
+000111f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011200: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
 00011210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011220: 2022 7072 6f6d 7074 223a 2022 222c 0d0a   "prompt": "",..
-00011230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011240: 2020 2020 226d 6f64 656c 223a 2022 656d      "model": "em
-00011250: 6922 0d0a 2020 2020 2020 2020 2020 2020  i"..            
-00011260: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
-00011270: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
-00011280: 2020 7265 7370 6f6e 7365 203d 2072 6571    response = req
-00011290: 7565 7374 732e 706f 7374 2875 726c 3d22  uests.post(url="
-000112a0: 6874 7470 733a 2f2f 6e65 7872 612e 6172  https://nexra.ar
-000112b0: 7961 6863 722e 6363 2f61 7069 2f69 6d61  yahcr.cc/api/ima
-000112c0: 6765 2f63 6f6d 706c 656d 656e 7473 222c  ge/complements",
-000112d0: 2068 6561 6465 7273 3d68 6561 6465 7273   headers=headers
-000112e0: 2c20 6461 7461 3d64 6174 6129 0d0a 2020  , data=data)..  
-000112f0: 2020 2020 2020 2020 2020 6966 2072 6573            if res
-00011300: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00011310: 6520 3d3d 2032 3030 3a0d 0a20 2020 2020  e == 200:..     
-00011320: 2020 2020 2020 2020 2020 2065 7272 203d             err =
-00011330: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
-00011340: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-00011350: 4e6f 6e65 0d0a 0d0a 2020 2020 2020 2020  None....        
-00011360: 2020 2020 2020 2020 636f 756e 7420 3d20          count = 
-00011370: 2d31 0d0a 2020 2020 2020 2020 2020 2020  -1..            
-00011380: 2020 2020 666f 7220 6920 696e 2072 616e      for i in ran
-00011390: 6765 286c 656e 2872 6573 706f 6e73 652e  ge(len(response.
-000113a0: 7465 7874 2929 3a0d 0a20 2020 2020 2020  text)):..       
-000113b0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-000113c0: 636f 756e 7420 3c3d 202d 313a 0d0a 2020  count <= -1:..  
+00011220: 2020 2064 6174 615f 6572 7220 3d20 6a73     data_err = js
+00011230: 6f6e 2e6c 6f61 6473 2872 6573 706f 6e73  on.loads(respons
+00011240: 652e 7465 7874 290d 0a20 2020 2020 2020  e.text)..       
+00011250: 2020 2020 2020 2020 2020 2020 2065 7863               exc
+00011260: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
+00011270: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
+00011280: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+00011290: 615f 6572 7220 3d20 7b0d 0a20 2020 2020  a_err = {..     
+000112a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000112b0: 2020 2020 2020 2022 636f 6465 223a 2035         "code": 5
+000112c0: 3030 2c0d 0a20 2020 2020 2020 2020 2020  00,..           
+000112d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000112e0: 2022 7374 6174 7573 223a 2046 616c 7365   "status": False
+000112f0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00011300: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00011310: 6572 726f 7222 3a20 2249 4e54 4552 4e41  error": "INTERNA
+00011320: 4c5f 5345 5256 4552 5f45 5252 4f52 222c  L_SERVER_ERROR",
+00011330: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00011340: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00011350: 6573 7361 6765 223a 2022 6765 6e65 7261  essage": "genera
+00011360: 6c20 2875 6e6b 6e6f 776e 2920 6572 726f  l (unknown) erro
+00011370: 7222 0d0a 2020 2020 2020 2020 2020 2020  r"..            
+00011380: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
+00011390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000113a0: 2020 200d 0a20 2020 2020 2020 2020 2020     ..           
+000113b0: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
+000113c0: 726f 7220 3d20 6461 7461 5f65 7272 0d0a  ror = data_err..
 000113d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000113e0: 2020 2020 2020 6966 2072 6573 706f 6e73        if respons
-000113f0: 652e 7465 7874 5b69 5d20 3d3d 2022 7b22  e.text[i] == "{"
-00011400: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00011410: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00011420: 6f75 6e74 203d 2069 0d0a 2020 2020 2020  ount = i..      
-00011430: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00011440: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-00011450: 2020 2020 2020 2020 2020 2020 2062 7265               bre
-00011460: 616b 0d0a 2020 2020 2020 2020 2020 2020  ak..            
-00011470: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
-00011480: 2020 2020 2020 6966 2063 6f75 6e74 203c        if count <
-00011490: 3d20 2d31 3a0d 0a20 2020 2020 2020 2020  = -1:..         
-000114a0: 2020 2020 2020 2020 2020 2065 7272 203d             err =
-000114b0: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
-000114c0: 2020 2020 2020 2020 2020 2020 2263 6f64              "cod
-000114d0: 6522 3a20 3530 302c 0d0a 2020 2020 2020  e": 500,..      
-000114e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000114f0: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
-00011500: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00011510: 2020 2020 2020 2020 2020 2020 2265 7272              "err
-00011520: 6f72 223a 2022 494e 5445 524e 414c 5f53  or": "INTERNAL_S
-00011530: 4552 5645 525f 4552 524f 5222 2c0d 0a20  ERVER_ERROR",.. 
-00011540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011550: 2020 2020 2020 2022 6d65 7373 6167 6522         "message"
-00011560: 3a20 2267 656e 6572 616c 2028 756e 6b6e  : "general (unkn
-00011570: 6f77 6e29 2065 7272 6f72 220d 0a20 2020  own) error"..   
-00011580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011590: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
-000115a0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-000115b0: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
-000115c0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
-000115d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000115e0: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
-000115f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011600: 6a73 203d 2072 6573 706f 6e73 652e 7465  js = response.te
-00011610: 7874 5b63 6f75 6e74 3a5d 0d0a 2020 2020  xt[count:]..    
-00011620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011630: 2020 2020 6a73 203d 206a 736f 6e2e 6c6f      js = json.lo
-00011640: 6164 7328 6a73 290d 0a20 2020 2020 2020  ads(js)..       
-00011650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011660: 2069 6620 6a73 2021 3d20 4e6f 6e65 2061   if js != None a
-00011670: 6e64 206a 735b 2263 6f64 6522 5d20 213d  nd js["code"] !=
-00011680: 204e 6f6e 6520 616e 6420 6a73 5b22 636f   None and js["co
-00011690: 6465 225d 203d 3d20 3230 3020 616e 6420  de"] == 200 and 
-000116a0: 6a73 5b22 7374 6174 7573 225d 2021 3d20  js["status"] != 
-000116b0: 4e6f 6e65 2061 6e64 206a 735b 2273 7461  None and js["sta
-000116c0: 7475 7322 5d20 3d3d 2054 7275 653a 0d0a  tus"] == True:..
-000116d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000116e0: 2020 2020 2020 2020 2020 2020 7265 7375              resu
-000116f0: 6c74 203d 206a 730d 0a20 2020 2020 2020  lt = js..       
-00011700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011710: 2020 2020 2065 7272 203d 204e 6f6e 650d       err = None.
-00011720: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011730: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-00011740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011750: 2020 2020 2020 2020 2020 2020 6572 7220              err 
-00011760: 3d20 6a73 0d0a 2020 2020 2020 2020 2020  = js..          
-00011770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011780: 2020 7265 7375 6c74 203d 204e 6f6e 650d    result = None.
-00011790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000117a0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
-000117b0: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
-000117c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000117d0: 2020 2020 2065 7272 203d 207b 0d0a 2020       err = {..  
+000113e0: 2020 2020 7365 6c66 2e72 6573 756c 7420      self.result 
+000113f0: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+00011400: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+00011410: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
+00011420: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00011430: 2e65 7272 6f72 203d 207b 0d0a 2020 2020  .error = {..    
+00011440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011450: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
+00011460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011470: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
+00011480: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+00011490: 2020 2020 2020 2020 2265 7272 6f72 223a          "error":
+000114a0: 2022 494e 5445 524e 414c 5f53 4552 5645   "INTERNAL_SERVE
+000114b0: 525f 4552 524f 5222 2c0d 0a20 2020 2020  R_ERROR",..     
+000114c0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000114d0: 6d65 7373 6167 6522 3a20 2267 656e 6572  message": "gener
+000114e0: 616c 2028 756e 6b6e 6f77 6e29 2065 7272  al (unknown) err
+000114f0: 6f72 220d 0a20 2020 2020 2020 2020 2020  or"..           
+00011500: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
+00011510: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
+00011520: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
+00011530: 2020 2020 2020 2020 7061 7373 0d0a 2020          pass..  
+00011540: 2020 2020 2020 6465 6620 6572 726f 7228        def error(
+00011550: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
+00011560: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00011570: 6572 726f 720d 0a20 2020 2020 2020 2064  error..        d
+00011580: 6566 2072 6573 756c 7428 7365 6c66 293a  ef result(self):
+00011590: 0d0a 2020 2020 2020 2020 2020 2020 7265  ..            re
+000115a0: 7475 726e 2073 656c 662e 7265 7375 6c74  turn self.result
+000115b0: 0d0a 2020 2020 636c 6173 7320 7632 2829  ..    class v2()
+000115c0: 3a0d 0a20 2020 2020 2020 2065 7272 6f72  :..        error
+000115d0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+000115e0: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
+000115f0: 2020 2020 2020 2020 6465 6620 5f5f 696e          def __in
+00011600: 6974 5f5f 2873 656c 662c 2070 726f 6d70  it__(self, promp
+00011610: 743d 2222 2c20 6461 7461 3d7b 0d0a 2020  t="", data={..  
+00011620: 2020 2020 2020 2020 2020 2270 726f 6d70            "promp
+00011630: 745f 6e65 6761 7469 7665 223a 2022 222c  t_negative": "",
+00011640: 0d0a 2020 2020 2020 2020 2020 2020 2267  ..            "g
+00011650: 7569 6461 6e63 655f 7363 616c 6522 3a20  uidance_scale": 
+00011660: 2222 0d0a 2020 2020 2020 2020 7d29 202d  ""..        }) -
+00011670: 3e20 4e6f 6e65 3a0d 0a20 2020 2020 2020  > None:..       
+00011680: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
+00011690: 2020 2020 2020 2020 2020 2068 6561 6465             heade
+000116a0: 7273 203d 207b 0d0a 2020 2020 2020 2020  rs = {..        
+000116b0: 2020 2020 2020 2020 2020 2020 2243 6f6e              "Con
+000116c0: 7465 6e74 2d54 7970 6522 3a20 2261 7070  tent-Type": "app
+000116d0: 6c69 6361 7469 6f6e 2f6a 736f 6e22 0d0a  lication/json"..
+000116e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000116f0: 7d0d 0a0d 0a20 2020 2020 2020 2020 2020  }....           
+00011700: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
+00011710: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00011720: 726f 6d70 7420 3d20 7072 6f6d 7074 2069  rompt = prompt i
+00011730: 6620 7072 6f6d 7074 2069 7320 6e6f 7420  f prompt is not 
+00011740: 4e6f 6e65 2065 6c73 6520 2222 0d0a 2020  None else ""..  
+00011750: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+00011760: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+00011770: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
+00011780: 2020 2020 2020 2020 2020 7072 6f6d 7074            prompt
+00011790: 203d 2022 220d 0a0d 0a20 2020 2020 2020   = ""....       
+000117a0: 2020 2020 2020 2020 206d 6420 3d20 7b0d           md = {.
+000117b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000117c0: 2020 2020 2022 7072 6f6d 7074 5f6e 6567       "prompt_neg
+000117d0: 6174 6976 6522 3a20 2222 2c0d 0a20 2020  ative": "",..   
 000117e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000117f0: 2020 2020 2020 2020 2020 2263 6f64 6522            "code"
-00011800: 3a20 3530 302c 0d0a 2020 2020 2020 2020  : 500,..        
-00011810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011820: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
-00011830: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
-00011840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011850: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
-00011860: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
-00011870: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
-00011880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011890: 2022 6d65 7373 6167 6522 3a20 2267 656e   "message": "gen
-000118a0: 6572 616c 2028 756e 6b6e 6f77 6e29 2065  eral (unknown) e
-000118b0: 7272 6f72 220d 0a20 2020 2020 2020 2020  rror"..         
-000118c0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-000118d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000118e0: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-000118f0: 203d 204e 6f6e 650d 0a0d 0a20 2020 2020   = None....     
-00011900: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00011910: 6620 7265 7375 6c74 203d 3d20 4e6f 6e65  f result == None
-00011920: 2061 6e64 2065 7272 2021 3d20 4e6f 6e65   and err != None
-00011930: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00011940: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00011950: 6572 726f 7220 3d20 6572 720d 0a20 2020  error = err..   
-00011960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011970: 2020 2020 2073 656c 662e 7265 7375 6c74       self.result
-00011980: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
-00011990: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-000119a0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-000119b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000119c0: 2e72 6573 756c 7420 3d20 7265 7375 6c74  .result = result
-000119d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000119e0: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
-000119f0: 7272 6f72 203d 204e 6f6e 650d 0a20 2020  rror = None..   
-00011a00: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-00011a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011a20: 6461 7461 5f65 7272 203d 207b 7d0d 0a20  data_err = {}.. 
-00011a30: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00011a40: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
-00011a50: 2020 2020 2020 2020 2064 6174 615f 6572           data_er
-00011a60: 7220 3d20 6a73 6f6e 2e6c 6f61 6473 2872  r = json.loads(r
-00011a70: 6573 706f 6e73 652e 7465 7874 290d 0a20  esponse.text).. 
-00011a80: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00011a90: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
-00011aa0: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
-00011ab0: 2020 2020 2020 2020 2020 2064 6174 615f             data_
-00011ac0: 6572 7220 3d20 7b0d 0a20 2020 2020 2020  err = {..       
-00011ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011ae0: 2022 636f 6465 223a 2035 3030 2c0d 0a20   "code": 500,.. 
-00011af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011b00: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
-00011b10: 2046 616c 7365 2c0d 0a20 2020 2020 2020   False,..       
+000117f0: 2022 6775 6964 616e 6365 5f73 6361 6c65   "guidance_scale
+00011800: 223a 2039 0d0a 2020 2020 2020 2020 2020  ": 9..          
+00011810: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
+00011820: 2020 2020 2020 2020 2020 2074 7279 203a             try :
+00011830: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00011840: 2020 2020 2020 6966 2064 6174 612e 6765        if data.ge
+00011850: 7428 2270 726f 6d70 745f 6e65 6761 7469  t("prompt_negati
+00011860: 7665 2229 2021 3d20 4e6f 6e65 3a0d 0a20  ve") != None:.. 
+00011870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011880: 2020 2020 2020 206d 645b 2270 726f 6d70         md["promp
+00011890: 745f 6e65 6761 7469 7665 225d 203d 2064  t_negative"] = d
+000118a0: 6174 612e 6765 7428 2270 726f 6d70 745f  ata.get("prompt_
+000118b0: 6e65 6761 7469 7665 2229 0d0a 2020 2020  negative")..    
+000118c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000118d0: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+000118e0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+000118f0: 645b 2270 726f 6d70 745f 6e65 6761 7469  d["prompt_negati
+00011900: 7665 225d 203d 2022 6162 736f 6c75 7465  ve"] = "absolute
+00011910: 7265 616c 6974 795f 5631 362e 7361 6665  reality_V16.safe
+00011920: 7465 6e73 6f72 7320 5b33 3764 6230 6663  tensors [37db0fc
+00011930: 335d 220d 0a0d 0a20 2020 2020 2020 2020  3]"....         
+00011940: 2020 2020 2020 2020 2020 2069 6620 6461             if da
+00011950: 7461 2e67 6574 2822 6775 6964 616e 6365  ta.get("guidance
+00011960: 5f73 6361 6c65 2229 2021 3d20 4e6f 6e65  _scale") != None
+00011970: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00011980: 2020 2020 2020 2020 2020 206d 645b 2267             md["g
+00011990: 7569 6461 6e63 655f 7363 616c 6522 5d20  uidance_scale"] 
+000119a0: 3d20 6461 7461 2e67 6574 2822 6775 6964  = data.get("guid
+000119b0: 616e 6365 5f73 6361 6c65 2229 0d0a 2020  ance_scale")..  
+000119c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000119d0: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+000119e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000119f0: 206d 645b 2267 7569 6461 6e63 655f 7363   md["guidance_sc
+00011a00: 616c 6522 5d20 3d20 390d 0a20 2020 2020  ale"] = 9..     
+00011a10: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+00011a20: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
+00011a30: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00011a40: 2020 2020 2020 206d 6420 3d20 7b0d 0a20         md = {.. 
+00011a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011a60: 2020 2020 2020 2022 7072 6f6d 7074 5f6e         "prompt_n
+00011a70: 6567 6174 6976 6522 3a20 2222 2c0d 0a20  egative": "",.. 
+00011a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011a90: 2020 2020 2020 2022 6775 6964 616e 6365         "guidance
+00011aa0: 5f73 6361 6c65 223a 2039 0d0a 2020 2020  _scale": 9..    
+00011ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011ac0: 7d0d 0a0d 0a20 2020 2020 2020 2020 2020  }....           
+00011ad0: 2020 2020 2064 6174 6120 3d20 7b7d 0d0a       data = {}..
+00011ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011af0: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
+00011b00: 2020 2020 2020 2020 2020 6461 7461 203d            data =
+00011b10: 206a 736f 6e2e 6475 6d70 7328 7b0d 0a20   json.dumps({.. 
 00011b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011b30: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
-00011b40: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
-00011b50: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-00011b60: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
-00011b70: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
-00011b80: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
-00011b90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00011ba0: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
-00011bb0: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
-00011bc0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00011bd0: 6572 726f 7220 3d20 6461 7461 5f65 7272  error = data_err
-00011be0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00011bf0: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
-00011c00: 4e6f 6e65 0d0a 2020 2020 2020 2020 6578  None..        ex
-00011c10: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
-00011c20: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
-00011c30: 2020 7365 6c66 2e65 7272 6f72 203d 207b    self.error = {
-00011c40: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00011c50: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
-00011c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011c70: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
-00011c80: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00011c90: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
-00011ca0: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
-00011cb0: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
-00011cc0: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
-00011cd0: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
-00011ce0: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
-00011cf0: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
-00011d00: 2020 2020 2020 7365 6c66 2e72 6573 756c        self.resul
-00011d10: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
-00011d20: 2020 7061 7373 0d0a 2020 2020 6465 6620    pass..    def 
-00011d30: 6572 726f 7228 7365 6c66 293a 0d0a 2020  error(self):..  
-00011d40: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00011d50: 662e 6572 726f 720d 0a20 2020 2064 6566  f.error..    def
-00011d60: 2072 6573 756c 7428 7365 6c66 293a 0d0a   result(self):..
-00011d70: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00011d80: 656c 662e 7265 7375 6c74 0d0a 0d0a 636c  elf.result....cl
-00011d90: 6173 7320 6269 6e67 2829 3a0d 0a20 2020  ass bing():..   
-00011da0: 2065 7272 6f72 203d 204e 6f6e 650d 0a20   error = None.. 
-00011db0: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
-00011dc0: 0d0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
-00011dd0: 5f5f 2873 656c 662c 206d 6573 7361 6765  __(self, message
-00011de0: 733d 5b5d 2c20 636f 6e76 6572 7361 7469  s=[], conversati
-00011df0: 6f6e 5f73 7479 6c65 3d22 222c 206d 6172  on_style="", mar
-00011e00: 6b64 6f77 6e3d 4661 6c73 652c 2073 7472  kdown=False, str
-00011e10: 6561 6d3d 4661 6c73 6529 202d 3e20 4e6f  eam=False) -> No
-00011e20: 6e65 3a0d 0a20 2020 2020 2020 2074 7279  ne:..        try
-00011e30: 3a0d 0a20 2020 2020 2020 2020 2020 2068  :..            h
-00011e40: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
-00011e50: 2020 2020 2020 2020 2020 2020 2243 6f6e              "Con
-00011e60: 7465 6e74 2d54 7970 6522 3a20 2261 7070  tent-Type": "app
-00011e70: 6c69 6361 7469 6f6e 2f6a 736f 6e22 0d0a  lication/json"..
-00011e80: 2020 2020 2020 2020 2020 2020 7d0d 0a0d              }...
-00011e90: 0a20 2020 2020 2020 2020 2020 2064 6174  .            dat
-00011ea0: 6120 3d20 6a73 6f6e 2e64 756d 7073 287b  a = json.dumps({
-00011eb0: 7d29 0d0a 0d0a 2020 2020 2020 2020 2020  })....          
-00011ec0: 2020 7374 726d 203d 2046 616c 7365 0d0a    strm = False..
-00011ed0: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-00011ee0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00011ef0: 2020 6966 2073 7472 6561 6d20 213d 204e    if stream != N
-00011f00: 6f6e 6520 616e 6420 7374 7265 616d 203d  one and stream =
-00011f10: 3d20 5472 7565 3a0d 0a20 2020 2020 2020  = True:..       
-00011f20: 2020 2020 2020 2020 2020 2020 2073 7472               str
-00011f30: 6d20 3d20 5472 7565 0d0a 2020 2020 2020  m = True..      
-00011f40: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-00011f50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011f60: 2020 2020 2073 7472 6d20 3d20 4661 6c73       strm = Fals
-00011f70: 650d 0a20 2020 2020 2020 2020 2020 2065  e..            e
-00011f80: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
-00011f90: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
-00011fa0: 2020 2020 2020 2073 7472 6d20 3d20 4661         strm = Fa
-00011fb0: 6c73 650d 0a20 2020 2020 2020 2020 2020  lse..           
-00011fc0: 200d 0a20 2020 2020 2020 2020 2020 2074   ..            t
-00011fd0: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
-00011fe0: 2020 2020 2064 6174 6120 3d20 6a73 6f6e       data = json
-00011ff0: 2e64 756d 7073 287b 0d0a 2020 2020 2020  .dumps({..      
-00012000: 2020 2020 2020 2020 2020 2020 2020 226d                "m
-00012010: 6573 7361 6765 7322 3a20 6d65 7373 6167  essages": messag
-00012020: 6573 2069 6620 6d65 7373 6167 6573 2069  es if messages i
-00012030: 7320 6e6f 7420 4e6f 6e65 2065 6c73 6520  s not None else 
-00012040: 5b5d 2c0d 0a20 2020 2020 2020 2020 2020  [],..           
-00012050: 2020 2020 2020 2020 2022 636f 6e76 6572           "conver
-00012060: 7361 7469 6f6e 5f73 7479 6c65 223a 2063  sation_style": c
-00012070: 6f6e 7665 7273 6174 696f 6e5f 7374 796c  onversation_styl
-00012080: 6520 6966 2063 6f6e 7665 7273 6174 696f  e if conversatio
-00012090: 6e5f 7374 796c 6520 6973 206e 6f74 204e  n_style is not N
-000120a0: 6f6e 6520 656c 7365 2022 4261 6c61 6e63  one else "Balanc
-000120b0: 6564 222c 0d0a 2020 2020 2020 2020 2020  ed",..          
-000120c0: 2020 2020 2020 2020 2020 226d 6172 6b64            "markd
-000120d0: 6f77 6e22 3a20 6d61 726b 646f 776e 2069  own": markdown i
-000120e0: 6620 6d61 726b 646f 776e 2069 7320 6e6f  f markdown is no
-000120f0: 7420 4e6f 6e65 2065 6c73 6520 4661 6c73  t None else Fals
-00012100: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00012110: 2020 2020 2020 2020 2273 7472 6561 6d22          "stream"
-00012120: 3a20 7374 726d 2069 6620 7374 726d 2069  : strm if strm i
-00012130: 7320 6e6f 7420 4e6f 6e65 2065 6c73 6520  s not None else 
-00012140: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
-00012150: 2020 2020 2020 2020 2020 2020 226d 6f64              "mod
-00012160: 656c 223a 2022 4269 6e67 220d 0a20 2020  el": "Bing"..   
-00012170: 2020 2020 2020 2020 2020 2020 207d 290d               }).
-00012180: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-00012190: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
-000121a0: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
-000121b0: 2020 2020 2064 6174 6120 3d20 6a73 6f6e       data = json
-000121c0: 2e64 756d 7073 287b 0d0a 2020 2020 2020  .dumps({..      
-000121d0: 2020 2020 2020 2020 2020 2020 2020 226d                "m
-000121e0: 6573 7361 6765 7322 3a20 5b5d 2c0d 0a20  essages": [],.. 
+00011b30: 2020 2020 2020 2022 7072 6f6d 7074 223a         "prompt":
+00011b40: 2070 726f 6d70 742c 0d0a 2020 2020 2020   prompt,..      
+00011b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011b60: 2020 226d 6f64 656c 223a 2022 7374 6162    "model": "stab
+00011b70: 6c65 6469 6666 7573 696f 6e2d 322e 3122  lediffusion-2.1"
+00011b80: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00011b90: 2020 2020 2020 2020 2020 2022 6461 7461             "data
+00011ba0: 223a 206d 640d 0a20 2020 2020 2020 2020  ": md..         
+00011bb0: 2020 2020 2020 2020 2020 207d 290d 0a20             }).. 
+00011bc0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00011bd0: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
+00011be0: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
+00011bf0: 2020 2020 2020 2020 2020 2064 6174 6120             data 
+00011c00: 3d20 6a73 6f6e 2e64 756d 7073 287b 0d0a  = json.dumps({..
+00011c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011c20: 2020 2020 2020 2020 2270 726f 6d70 7422          "prompt"
+00011c30: 3a20 2222 2c0d 0a20 2020 2020 2020 2020  : "",..         
+00011c40: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00011c50: 6d6f 6465 6c22 3a20 2273 7461 626c 6564  model": "stabled
+00011c60: 6966 6675 7369 6f6e 2d32 2e31 222c 0d0a  iffusion-2.1",..
+00011c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011c80: 2020 2020 2020 2020 2264 6174 6122 3a20          "data": 
+00011c90: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00011ca0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00011cb0: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
+00011cc0: 3a20 2222 2c0d 0a20 2020 2020 2020 2020  : "",..         
+00011cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011ce0: 2020 2022 6775 6964 616e 6365 5f73 6361     "guidance_sca
+00011cf0: 6c65 223a 2039 0d0a 2020 2020 2020 2020  le": 9..        
+00011d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011d10: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
+00011d20: 2020 2020 2020 207d 290d 0a0d 0a20 2020         })....   
+00011d30: 2020 2020 2020 2020 2020 2020 2072 6573               res
+00011d40: 706f 6e73 6520 3d20 7265 7175 6573 7473  ponse = requests
+00011d50: 2e70 6f73 7428 7572 6c3d 2268 7474 7073  .post(url="https
+00011d60: 3a2f 2f6e 6578 7261 2e61 7279 6168 6372  ://nexra.aryahcr
+00011d70: 2e63 632f 6170 692f 696d 6167 652f 636f  .cc/api/image/co
+00011d80: 6d70 6c65 6d65 6e74 7322 2c20 6865 6164  mplements", head
+00011d90: 6572 733d 6865 6164 6572 732c 2064 6174  ers=headers, dat
+00011da0: 613d 6461 7461 290d 0a20 2020 2020 2020  a=data)..       
+00011db0: 2020 2020 2020 2020 2069 6620 7265 7370           if resp
+00011dc0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00011dd0: 203d 3d20 3230 303a 0d0a 2020 2020 2020   == 200:..      
+00011de0: 2020 2020 2020 2020 2020 2020 2020 6572                er
+00011df0: 7220 3d20 4e6f 6e65 0d0a 2020 2020 2020  r = None..      
+00011e00: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00011e10: 7375 6c74 203d 204e 6f6e 650d 0a0d 0a20  sult = None.... 
+00011e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011e30: 2020 2063 6f75 6e74 203d 202d 310d 0a20     count = -1.. 
+00011e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011e50: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
+00011e60: 6528 6c65 6e28 7265 7370 6f6e 7365 2e74  e(len(response.t
+00011e70: 6578 7429 293a 0d0a 2020 2020 2020 2020  ext)):..        
+00011e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011e90: 6966 2063 6f75 6e74 203c 3d20 2d31 3a0d  if count <= -1:.
+00011ea0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011eb0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00011ec0: 7265 7370 6f6e 7365 2e74 6578 745b 695d  response.text[i]
+00011ed0: 203d 3d20 227b 223a 0d0a 2020 2020 2020   == "{":..      
+00011ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011ef0: 2020 2020 2020 2020 2020 636f 756e 7420            count 
+00011f00: 3d20 690d 0a20 2020 2020 2020 2020 2020  = i..           
+00011f10: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00011f20: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00011f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011f40: 6272 6561 6b0d 0a20 2020 2020 2020 2020  break..         
+00011f50: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
+00011f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011f70: 2069 6620 636f 756e 7420 3c3d 202d 313a   if count <= -1:
+00011f80: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00011f90: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
+00011fa0: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00011fb0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00011fc0: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
+00011fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011fe0: 2020 2020 2020 2020 2022 7374 6174 7573           "status
+00011ff0: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
+00012000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012010: 2020 2020 2020 2022 6572 726f 7222 3a20         "error": 
+00012020: 2249 4e54 4552 4e41 4c5f 5345 5256 4552  "INTERNAL_SERVER
+00012030: 5f45 5252 4f52 222c 0d0a 2020 2020 2020  _ERROR",..      
+00012040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012050: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
+00012060: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
+00012070: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
+00012080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012090: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
+000120a0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+000120b0: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
+000120c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000120d0: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+000120e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000120f0: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+00012100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012110: 2020 206a 7320 3d20 7265 7370 6f6e 7365     js = response
+00012120: 2e74 6578 745b 636f 756e 743a 5d0d 0a20  .text[count:].. 
+00012130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012140: 2020 2020 2020 2020 2020 206a 7320 3d20             js = 
+00012150: 6a73 6f6e 2e6c 6f61 6473 286a 7329 0d0a  json.loads(js)..
+00012160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012170: 2020 2020 2020 2020 2020 2020 6966 206a              if j
+00012180: 7320 213d 204e 6f6e 6520 616e 6420 6a73  s != None and js
+00012190: 5b22 636f 6465 225d 2021 3d20 4e6f 6e65  ["code"] != None
+000121a0: 2061 6e64 206a 735b 2263 6f64 6522 5d20   and js["code"] 
+000121b0: 3d3d 2032 3030 2061 6e64 206a 735b 2273  == 200 and js["s
+000121c0: 7461 7475 7322 5d20 213d 204e 6f6e 6520  tatus"] != None 
+000121d0: 616e 6420 6a73 5b22 7374 6174 7573 225d  and js["status"]
+000121e0: 203d 3d20 5472 7565 3a0d 0a20 2020 2020   == True:..     
 000121f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012200: 2020 2022 636f 6e76 6572 7361 7469 6f6e     "conversation
-00012210: 5f73 7479 6c65 223a 2022 4261 6c61 6e63  _style": "Balanc
-00012220: 6564 222c 0d0a 2020 2020 2020 2020 2020  ed",..          
-00012230: 2020 2020 2020 2020 2020 226d 6f64 656c            "model
-00012240: 223a 2022 4269 6e67 222c 0d0a 2020 2020  ": "Bing",..    
+00012200: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+00012210: 7420 3d20 6a73 0d0a 2020 2020 2020 2020  t = js..        
+00012220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012230: 2020 2020 2020 2020 6572 7220 3d20 4e6f          err = No
+00012240: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
 00012250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012260: 226d 6172 6b64 6f77 6e22 3a20 4661 6c73  "markdown": Fals
-00012270: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00012280: 2020 2020 2020 2020 2273 7472 6561 6d22          "stream"
-00012290: 3a20 4661 6c73 650d 0a20 2020 2020 2020  : False..       
-000122a0: 2020 2020 2020 2020 207d 290d 0a0d 0a20           }).... 
-000122b0: 2020 2020 2020 2020 2020 2072 6573 706f             respo
-000122c0: 6e73 6520 3d20 7265 7175 6573 7473 2e70  nse = requests.p
-000122d0: 6f73 7428 7572 6c3d 2268 7474 7073 3a2f  ost(url="https:/
-000122e0: 2f6e 6578 7261 2e61 7279 6168 6372 2e63  /nexra.aryahcr.c
-000122f0: 632f 6170 692f 6368 6174 2f63 6f6d 706c  c/api/chat/compl
-00012300: 656d 656e 7473 222c 2068 6561 6465 7273  ements", headers
-00012310: 3d68 6561 6465 7273 2c20 6461 7461 3d64  =headers, data=d
-00012320: 6174 612c 2073 7472 6561 6d3d 7374 726d  ata, stream=strm
-00012330: 290d 0a20 2020 2020 2020 2020 2020 2069  )..            i
-00012340: 6620 7265 7370 6f6e 7365 2e73 7461 7475  f response.statu
-00012350: 735f 636f 6465 203d 3d20 3230 303a 0d0a  s_code == 200:..
-00012360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012370: 6966 2073 7472 6d20 213d 2054 7275 653a  if strm != True:
-00012380: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00012390: 2020 2020 2020 7365 6c66 2e62 696e 6764        self.bingd
-000123a0: 6174 6120 3d20 4e6f 6e65 0d0a 2020 2020  ata = None..    
-000123b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000123c0: 6572 7220 3d20 4e6f 6e65 0d0a 2020 2020  err = None..    
-000123d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000123e0: 7265 7375 6c74 203d 204e 6f6e 650d 0a0d  result = None...
-000123f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012400: 2020 2020 2063 6f75 6e74 203d 202d 310d       count = -1.
-00012410: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012420: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
-00012430: 6e67 6528 6c65 6e28 7265 7370 6f6e 7365  nge(len(response
-00012440: 2e74 6578 7429 293a 0d0a 2020 2020 2020  .text)):..      
+00012260: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+00012270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012280: 2020 2020 2020 2065 7272 203d 206a 730d         err = js.
+00012290: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000122a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000122b0: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
+000122c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000122d0: 2020 2020 2020 2020 6578 6365 7074 2045          except E
+000122e0: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
+000122f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012300: 2020 2020 2020 2020 2020 2020 6572 7220              err 
+00012310: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
+00012320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012330: 2020 2020 2022 636f 6465 223a 2035 3030       "code": 500
+00012340: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00012350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012360: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
+00012370: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
+00012380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012390: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
+000123a0: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
+000123b0: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
+000123c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000123d0: 2020 2020 2020 2020 226d 6573 7361 6765          "message
+000123e0: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
+000123f0: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
+00012400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012410: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
+00012420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012430: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+00012440: 3d20 4e6f 6e65 0d0a 0d0a 2020 2020 2020  = None....      
 00012450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012460: 2020 6966 2063 6f75 6e74 203c 3d20 2d31    if count <= -1
-00012470: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00012480: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00012490: 6620 7265 7370 6f6e 7365 2e74 6578 745b  f response.text[
-000124a0: 695d 203d 3d20 227b 223a 0d0a 2020 2020  i] == "{":..    
-000124b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000124c0: 2020 2020 2020 2020 2020 2020 636f 756e              coun
-000124d0: 7420 3d20 690d 0a20 2020 2020 2020 2020  t = i..         
-000124e0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000124f0: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-00012500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012510: 2020 6272 6561 6b0d 0a20 2020 2020 2020    break..       
-00012520: 2020 2020 2020 2020 2020 2020 200d 0a20               .. 
-00012530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012540: 2020 2069 6620 636f 756e 7420 3c3d 202d     if count <= -
-00012550: 313a 0d0a 2020 2020 2020 2020 2020 2020  1:..            
-00012560: 2020 2020 2020 2020 2020 2020 6572 7220              err 
-00012570: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-00012580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012590: 2022 636f 6465 223a 2035 3030 2c0d 0a20   "code": 500,.. 
+00012460: 2020 6966 2072 6573 756c 7420 3d3d 204e    if result == N
+00012470: 6f6e 6520 616e 6420 6572 7220 213d 204e  one and err != N
+00012480: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+00012490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000124a0: 2020 7365 6c66 2e65 7272 6f72 203d 2065    self.error = e
+000124b0: 7272 0d0a 2020 2020 2020 2020 2020 2020  rr..            
+000124c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000124d0: 7365 6c66 2e72 6573 756c 7420 3d20 4e6f  self.result = No
+000124e0: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+000124f0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00012500: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00012510: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00012520: 656c 662e 7265 7375 6c74 203d 2072 6573  elf.result = res
+00012530: 756c 740d 0a20 2020 2020 2020 2020 2020  ult..           
+00012540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012550: 2073 656c 662e 6572 726f 7220 3d20 4e6f   self.error = No
+00012560: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+00012570: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
+00012580: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00012590: 6174 615f 6572 7220 3d20 7b7d 0d0a 2020  ata_err = {}..  
 000125a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000125b0: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
-000125c0: 7573 223a 2046 616c 7365 2c0d 0a20 2020  us": False,..   
-000125d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000125e0: 2020 2020 2020 2020 2022 6572 726f 7222           "error"
-000125f0: 3a20 2249 4e54 4552 4e41 4c5f 5345 5256  : "INTERNAL_SERV
-00012600: 4552 5f45 5252 4f52 222c 0d0a 2020 2020  ER_ERROR",..    
-00012610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012620: 2020 2020 2020 2020 226d 6573 7361 6765          "message
-00012630: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
-00012640: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
+000125b0: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+000125c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000125d0: 6461 7461 5f65 7272 203d 206a 736f 6e2e  data_err = json.
+000125e0: 6c6f 6164 7328 7265 7370 6f6e 7365 2e74  loads(response.t
+000125f0: 6578 7429 0d0a 2020 2020 2020 2020 2020  ext)..          
+00012600: 2020 2020 2020 2020 2020 6578 6365 7074            except
+00012610: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
+00012620: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00012630: 2020 2020 2020 2020 2020 6461 7461 5f65            data_e
+00012640: 7272 203d 207b 0d0a 2020 2020 2020 2020  rr = {..        
 00012650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012660: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
-00012670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012680: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
-00012690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000126a0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-000126b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000126c0: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
-000126d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000126e0: 2020 2020 206a 7320 3d20 7265 7370 6f6e       js = respon
-000126f0: 7365 2e74 6578 745b 636f 756e 743a 5d0d  se.text[count:].
-00012700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012710: 2020 2020 2020 2020 2020 2020 206a 7320               js 
-00012720: 3d20 6a73 6f6e 2e6c 6f61 6473 286a 7329  = json.loads(js)
-00012730: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00012740: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00012750: 206a 7320 213d 204e 6f6e 6520 616e 6420   js != None and 
-00012760: 6a73 5b22 636f 6465 225d 2021 3d20 4e6f  js["code"] != No
-00012770: 6e65 2061 6e64 206a 735b 2263 6f64 6522  ne and js["code"
-00012780: 5d20 3d3d 2032 3030 2061 6e64 206a 735b  ] == 200 and js[
-00012790: 2273 7461 7475 7322 5d20 213d 204e 6f6e  "status"] != Non
-000127a0: 6520 616e 6420 6a73 5b22 7374 6174 7573  e and js["status
-000127b0: 225d 203d 3d20 5472 7565 3a0d 0a20 2020  "] == True:..   
-000127c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000127d0: 2020 2020 2020 2020 2020 2020 2072 6573               res
-000127e0: 756c 7420 3d20 6a73 0d0a 2020 2020 2020  ult = js..      
-000127f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012800: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
-00012810: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
-00012820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012830: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
-00012840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012850: 2020 2020 2020 2020 2065 7272 203d 206a           err = j
-00012860: 730d 0a20 2020 2020 2020 2020 2020 2020  s..             
-00012870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012880: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
-00012890: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000128a0: 2020 2020 2020 2020 2020 6578 6365 7074            except
-000128b0: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
-000128c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000128d0: 2020 2020 2020 2020 2020 2020 2020 6572                er
-000128e0: 7220 3d20 7b0d 0a20 2020 2020 2020 2020  r = {..         
-000128f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012900: 2020 2020 2020 2022 636f 6465 223a 2035         "code": 5
-00012910: 3030 2c0d 0a20 2020 2020 2020 2020 2020  00,..           
-00012920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012930: 2020 2020 2022 7374 6174 7573 223a 2046       "status": F
-00012940: 616c 7365 2c0d 0a20 2020 2020 2020 2020  alse,..         
-00012950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012960: 2020 2020 2020 2022 6572 726f 7222 3a20         "error": 
-00012970: 2249 4e54 4552 4e41 4c5f 5345 5256 4552  "INTERNAL_SERVER
-00012980: 5f45 5252 4f52 222c 0d0a 2020 2020 2020  _ERROR",..      
-00012990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000129a0: 2020 2020 2020 2020 2020 226d 6573 7361            "messa
-000129b0: 6765 223a 2022 6765 6e65 7261 6c20 2875  ge": "general (u
-000129c0: 6e6b 6e6f 776e 2920 6572 726f 7222 0d0a  nknown) error"..
-000129d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000129e0: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
-000129f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012a00: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-00012a10: 7420 3d20 4e6f 6e65 0d0a 0d0a 2020 2020  t = None....    
-00012a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012a30: 2020 2020 6966 2072 6573 756c 7420 3d3d      if result ==
-00012a40: 204e 6f6e 6520 616e 6420 6572 7220 213d   None and err !=
-00012a50: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
-00012a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012a70: 2020 2020 7365 6c66 2e65 7272 6f72 203d      self.error =
-00012a80: 2065 7272 0d0a 2020 2020 2020 2020 2020   err..          
-00012a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012aa0: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
-00012ab0: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
-00012ac0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00012ad0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-00012ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012af0: 2073 656c 662e 7265 7375 6c74 203d 2072   self.result = r
-00012b00: 6573 756c 740d 0a20 2020 2020 2020 2020  esult..         
-00012b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012b20: 2020 2073 656c 662e 6572 726f 7220 3d20     self.error = 
-00012b30: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
-00012b40: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00012b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012b60: 2073 656c 662e 6572 726f 7220 3d20 4e6f   self.error = No
-00012b70: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
-00012b80: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
-00012b90: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
-00012ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012bb0: 7365 6c66 2e62 696e 6764 6174 6120 3d20  self.bingdata = 
-00012bc0: 7265 7370 6f6e 7365 0d0a 2020 2020 2020  response..      
-00012bd0: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00012be0: 2020 2020 2020 2020 2020 2020 2064 6174               dat
-00012bf0: 615f 6572 7220 3d20 7b7d 0d0a 2020 2020  a_err = {}..    
-00012c00: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-00012c10: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00012c20: 2020 2020 2020 6461 7461 5f65 7272 203d        data_err =
-00012c30: 206a 736f 6e2e 6c6f 6164 7328 7265 7370   json.loads(resp
-00012c40: 6f6e 7365 2e74 6578 7429 0d0a 2020 2020  onse.text)..    
-00012c50: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00012c60: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
-00012c70: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00012c80: 2020 2020 2020 2020 6461 7461 5f65 7272          data_err
-00012c90: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-00012ca0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-00012cb0: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
-00012cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012cd0: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
-00012ce0: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
-00012cf0: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-00012d00: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
-00012d10: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
-00012d20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012d30: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
-00012d40: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
-00012d50: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
+00012660: 2020 2020 2263 6f64 6522 3a20 3530 302c      "code": 500,
+00012670: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00012680: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+00012690: 7461 7475 7322 3a20 4661 6c73 652c 0d0a  tatus": False,..
+000126a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000126b0: 2020 2020 2020 2020 2020 2020 2265 7272              "err
+000126c0: 6f72 223a 2022 494e 5445 524e 414c 5f53  or": "INTERNAL_S
+000126d0: 4552 5645 525f 4552 524f 5222 2c0d 0a20  ERVER_ERROR",.. 
+000126e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000126f0: 2020 2020 2020 2020 2020 2022 6d65 7373             "mess
+00012700: 6167 6522 3a20 2267 656e 6572 616c 2028  age": "general (
+00012710: 756e 6b6e 6f77 6e29 2065 7272 6f72 220d  unknown) error".
+00012720: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012730: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
+00012740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012750: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00012760: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
+00012770: 203d 2064 6174 615f 6572 720d 0a20 2020   = data_err..   
+00012780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012790: 2073 656c 662e 7265 7375 6c74 203d 204e   self.result = N
+000127a0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+000127b0: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+000127c0: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
+000127d0: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
+000127e0: 726f 7220 3d20 7b0d 0a20 2020 2020 2020  ror = {..       
+000127f0: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+00012800: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
+00012810: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00012820: 7374 6174 7573 223a 2046 616c 7365 2c0d  status": False,.
+00012830: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012840: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
+00012850: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
+00012860: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
+00012870: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
+00012880: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
+00012890: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
+000128a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000128b0: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
+000128c0: 2020 2020 2073 656c 662e 7265 7375 6c74       self.result
+000128d0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+000128e0: 2020 2020 2070 6173 730d 0a20 2020 2020       pass..     
+000128f0: 2020 2064 6566 2065 7272 6f72 2873 656c     def error(sel
+00012900: 6629 3a0d 0a20 2020 2020 2020 2020 2020  f):..           
+00012910: 2072 6574 7572 6e20 7365 6c66 2e65 7272   return self.err
+00012920: 6f72 0d0a 2020 2020 2020 2020 6465 6620  or..        def 
+00012930: 7265 7375 6c74 2873 656c 6629 3a0d 0a20  result(self):.. 
+00012940: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00012950: 6e20 7365 6c66 2e72 6573 756c 740d 0a20  n self.result.. 
+00012960: 2020 2063 6c61 7373 2078 6c28 293a 0d0a     class xl():..
+00012970: 2020 2020 2020 2020 6572 726f 7220 3d20          error = 
+00012980: 4e6f 6e65 0d0a 2020 2020 2020 2020 7265  None..        re
+00012990: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
+000129a0: 2020 2020 2064 6566 205f 5f69 6e69 745f       def __init_
+000129b0: 5f28 7365 6c66 2c20 7072 6f6d 7074 3d22  _(self, prompt="
+000129c0: 222c 2064 6174 613d 7b0d 0a20 2020 2020  ", data={..     
+000129d0: 2020 2020 2020 2022 7072 6f6d 7074 5f6e         "prompt_n
+000129e0: 6567 6174 6976 6522 3a20 2222 2c0d 0a20  egative": "",.. 
+000129f0: 2020 2020 2020 2020 2020 2022 696d 6167             "imag
+00012a00: 655f 7374 796c 6522 3a20 2222 2c0d 0a20  e_style": "",.. 
+00012a10: 2020 2020 2020 2020 2020 2022 6775 6964             "guid
+00012a20: 616e 6365 5f73 6361 6c65 223a 2022 220d  ance_scale": "".
+00012a30: 0a20 2020 2020 2020 207d 2920 2d3e 204e  .        }) -> N
+00012a40: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+00012a50: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+00012a60: 2020 2020 2020 2020 6865 6164 6572 7320          headers 
+00012a70: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
+00012a80: 2020 2020 2020 2020 2022 436f 6e74 656e           "Conten
+00012a90: 742d 5479 7065 223a 2022 6170 706c 6963  t-Type": "applic
+00012aa0: 6174 696f 6e2f 6a73 6f6e 220d 0a20 2020  ation/json"..   
+00012ab0: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
+00012ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012ad0: 6865 6164 6572 732e 7570 6461 7465 2863  headers.update(c
+00012ae0: 7265 6429 0d0a 0d0a 2020 2020 2020 2020  red)....        
+00012af0: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
+00012b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b10: 2020 7072 6f6d 7074 203d 2070 726f 6d70    prompt = promp
+00012b20: 7420 6966 2070 726f 6d70 7420 6973 206e  t if prompt is n
+00012b30: 6f74 204e 6f6e 6520 656c 7365 2022 220d  ot None else "".
+00012b40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012b50: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+00012b60: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
+00012b70: 2020 2020 2020 2020 2020 2020 2070 726f               pro
+00012b80: 6d70 7420 3d20 2222 0d0a 0d0a 2020 2020  mpt = ""....    
+00012b90: 2020 2020 2020 2020 2020 2020 6d64 203d              md =
+00012ba0: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+00012bb0: 2020 2020 2020 2020 2270 726f 6d70 745f          "prompt_
+00012bc0: 6e65 6761 7469 7665 223a 2022 222c 0d0a  negative": "",..
+00012bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012be0: 2020 2020 2269 6d61 6765 5f73 7479 6c65      "image_style
+00012bf0: 223a 2022 284e 6f20 7374 796c 6529 222c  ": "(No style)",
+00012c00: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00012c10: 2020 2020 2020 2267 7569 6461 6e63 655f        "guidance_
+00012c20: 7363 616c 6522 3a20 372e 350d 0a20 2020  scale": 7.5..   
+00012c30: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
+00012c40: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00012c50: 2020 7472 7920 3a0d 0a20 2020 2020 2020    try :..       
+00012c60: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00012c70: 6461 7461 2e67 6574 2822 7072 6f6d 7074  data.get("prompt
+00012c80: 5f6e 6567 6174 6976 6522 2920 213d 204e  _negative") != N
+00012c90: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+00012ca0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+00012cb0: 5b22 7072 6f6d 7074 5f6e 6567 6174 6976  ["prompt_negativ
+00012cc0: 6522 5d20 3d20 6461 7461 2e67 6574 2822  e"] = data.get("
+00012cd0: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
+00012ce0: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+00012cf0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+00012d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012d10: 2020 2020 2020 6d64 5b22 7072 6f6d 7074        md["prompt
+00012d20: 5f6e 6567 6174 6976 6522 5d20 3d20 2261  _negative"] = "a
+00012d30: 6273 6f6c 7574 6572 6561 6c69 7479 5f56  bsolutereality_V
+00012d40: 3136 2e73 6166 6574 656e 736f 7273 205b  16.safetensors [
+00012d50: 3337 6462 3066 6333 5d22 0d0a 0d0a 2020  37db0fc3]"....  
 00012d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012d70: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
-00012d80: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
-00012d90: 2020 2020 2020 2020 7365 6c66 2e62 696e          self.bin
-00012da0: 6764 6174 6120 3d20 4e6f 6e65 0d0a 2020  gdata = None..  
-00012db0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00012dc0: 6c66 2e65 7272 6f72 203d 2064 6174 615f  lf.error = data_
-00012dd0: 6572 720d 0a20 2020 2020 2020 2020 2020  err..           
-00012de0: 2020 2020 2073 656c 662e 7265 7375 6c74       self.result
-00012df0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
-00012e00: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-00012e10: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
-00012e20: 2020 2020 2073 656c 662e 6572 726f 7220       self.error 
-00012e30: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-00012e40: 2020 2020 2022 636f 6465 223a 2035 3030       "code": 500
-00012e50: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00012e60: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
-00012e70: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
-00012e80: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
-00012e90: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
-00012ea0: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
-00012eb0: 2020 2020 2020 2020 226d 6573 7361 6765          "message
-00012ec0: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
-00012ed0: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
-00012ee0: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
-00012ef0: 2020 2020 2020 2020 2073 656c 662e 6269           self.bi
-00012f00: 6e67 6461 7461 203d 204e 6f6e 650d 0a20  ngdata = None.. 
-00012f10: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00012f20: 7265 7375 6c74 203d 204e 6f6e 650d 0a20  result = None.. 
-00012f30: 2020 2020 2020 2070 6173 730d 0a20 2020         pass..   
-00012f40: 2064 6566 2073 7472 6561 6d28 7365 6c66   def stream(self
-00012f50: 293a 0d0a 2020 2020 2020 2020 6966 2073  ):..        if s
-00012f60: 656c 662e 6269 6e67 6461 7461 2021 3d20  elf.bingdata != 
-00012f70: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
-00012f80: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
-00012f90: 2020 2020 2020 2020 2074 6d70 203d 204e           tmp = N
-00012fa0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-00012fb0: 2020 2020 2065 7272 203d 204e 6f6e 650d       err = None.
-00012fc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012fd0: 2066 6f72 2063 6875 6e6b 2069 6e20 7365   for chunk in se
-00012fe0: 6c66 2e62 696e 6764 6174 612e 6974 6572  lf.bingdata.iter
-00012ff0: 5f63 6f6e 7465 6e74 2863 6875 6e6b 5f73  _content(chunk_s
-00013000: 697a 653d 3130 3234 293a 0d0a 2020 2020  ize=1024):..    
-00013010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013020: 6966 2065 7272 203d 3d20 4e6f 6e65 3a0d  if err == None:.
-00013030: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013040: 2020 2020 2020 2020 2069 6620 6368 756e           if chun
-00013050: 6b3a 0d0a 2020 2020 2020 2020 2020 2020  k:..            
-00013060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013070: 6368 6b20 3d20 6368 756e 6b2e 6465 636f  chk = chunk.deco
-00013080: 6465 2829 0d0a 2020 2020 2020 2020 2020  de()..          
-00013090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000130a0: 2020 6368 6b20 3d20 6368 6b2e 7370 6c69    chk = chk.spli
-000130b0: 7428 221e 2229 0d0a 0d0a 2020 2020 2020  t(".")....      
+00012d70: 2020 6966 2064 6174 612e 6765 7428 2267    if data.get("g
+00012d80: 7569 6461 6e63 655f 7363 616c 6522 2920  uidance_scale") 
+00012d90: 213d 204e 6f6e 653a 0d0a 2020 2020 2020  != None:..      
+00012da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012db0: 2020 6d64 5b22 6775 6964 616e 6365 5f73    md["guidance_s
+00012dc0: 6361 6c65 225d 203d 2064 6174 612e 6765  cale"] = data.ge
+00012dd0: 7428 2267 7569 6461 6e63 655f 7363 616c  t("guidance_scal
+00012de0: 6522 290d 0a20 2020 2020 2020 2020 2020  e")..           
+00012df0: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+00012e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012e10: 2020 2020 2020 2020 6d64 5b22 6775 6964          md["guid
+00012e20: 616e 6365 5f73 6361 6c65 225d 203d 2037  ance_scale"] = 7
+00012e30: 2e35 0d0a 0d0a 2020 2020 2020 2020 2020  .5....          
+00012e40: 2020 2020 2020 2020 2020 6966 2064 6174            if dat
+00012e50: 612e 6765 7428 2269 6d61 6765 5f73 7479  a.get("image_sty
+00012e60: 6c65 2229 2021 3d20 4e6f 6e65 3a0d 0a20  le") != None:.. 
+00012e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012e80: 2020 2020 2020 206d 645b 2269 6d61 6765         md["image
+00012e90: 5f73 7479 6c65 225d 203d 2064 6174 612e  _style"] = data.
+00012ea0: 6765 7428 2269 6d61 6765 5f73 7479 6c65  get("image_style
+00012eb0: 2229 0d0a 2020 2020 2020 2020 2020 2020  ")..            
+00012ec0: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
+00012ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012ee0: 2020 2020 2020 206d 645b 2269 6d61 6765         md["image
+00012ef0: 5f73 7479 6c65 225d 203d 2022 284e 6f20  _style"] = "(No 
+00012f00: 7374 796c 6529 220d 0a20 2020 2020 2020  style)"..       
+00012f10: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+00012f20: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
+00012f30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012f40: 2020 2020 206d 6420 3d20 7b0d 0a20 2020       md = {..   
+00012f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012f60: 2020 2020 2022 7072 6f6d 7074 5f6e 6567       "prompt_neg
+00012f70: 6174 6976 6522 3a20 2222 2c0d 0a20 2020  ative": "",..   
+00012f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012f90: 2020 2020 2022 696d 6167 655f 7374 796c       "image_styl
+00012fa0: 6522 3a20 2228 4e6f 2073 7479 6c65 2922  e": "(No style)"
+00012fb0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00012fc0: 2020 2020 2020 2020 2020 2022 6775 6964             "guid
+00012fd0: 616e 6365 5f73 6361 6c65 223a 2037 2e35  ance_scale": 7.5
+00012fe0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00012ff0: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
+00013000: 2020 2020 2020 2020 2020 2064 6174 6120             data 
+00013010: 3d20 7b7d 0d0a 2020 2020 2020 2020 2020  = {}..          
+00013020: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
+00013030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013040: 6461 7461 203d 206a 736f 6e2e 6475 6d70  data = json.dump
+00013050: 7328 7b0d 0a20 2020 2020 2020 2020 2020  s({..           
+00013060: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
+00013070: 6f6d 7074 223a 2070 726f 6d70 742c 0d0a  ompt": prompt,..
+00013080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013090: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
+000130a0: 2022 7374 6162 6c65 6469 6666 7573 696f   "stablediffusio
+000130b0: 6e2d 786c 222c 0d0a 2020 2020 2020 2020  n-xl",..        
 000130c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000130d0: 2020 2020 2020 666f 7220 6461 7461 2069        for data i
-000130e0: 6e20 6368 6b3a 0d0a 2020 2020 2020 2020  n chk:..        
-000130f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013100: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-00013110: 204e 6f6e 650d 0a0d 0a20 2020 2020 2020   None....       
+000130d0: 2264 6174 6122 3a20 6d64 0d0a 2020 2020  "data": md..    
+000130e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000130f0: 7d29 0d0a 2020 2020 2020 2020 2020 2020  })..            
+00013100: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+00013110: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
 00013120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013130: 2020 2020 2020 2020 2074 7279 3a0d 0a20           try:.. 
-00013140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013160: 2020 2063 6f6e 7665 7274 203d 206a 736f     convert = jso
-00013170: 6e2e 6c6f 6164 7328 6461 7461 290d 0a20  n.loads(data).. 
-00013180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000131a0: 2020 2072 6573 756c 7420 3d20 6461 7461     result = data
-000131b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000131c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000131d0: 2020 2020 2020 746d 7020 3d20 4e6f 6e65        tmp = None
-000131e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000131f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013200: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-00013210: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
-00013220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013230: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00013240: 2074 6d70 203d 3d20 4e6f 6e65 3a0d 0a20   tmp == None:.. 
-00013250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013270: 2020 2020 2020 2074 6d70 203d 2064 6174         tmp = dat
-00013280: 610d 0a20 2020 2020 2020 2020 2020 2020  a..             
-00013290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000132a0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
-000132b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000132c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000132d0: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
-000132e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000132f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013300: 2020 2020 2020 2020 636f 6e76 6572 7420          convert 
-00013310: 3d20 6a73 6f6e 2e6c 6f61 6473 2874 6d70  = json.loads(tmp
-00013320: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
-00013330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013340: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00013350: 6573 756c 7420 3d20 746d 700d 0a20 2020  esult = tmp..   
-00013360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013380: 2020 2020 2020 2020 2074 6d70 203d 204e           tmp = N
-00013390: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-000133a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000133b0: 2020 2020 2020 2020 2020 2020 2065 7863               exc
-000133c0: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
-000133d0: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
-000133e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013130: 6461 7461 203d 206a 736f 6e2e 6475 6d70  data = json.dump
+00013140: 7328 7b0d 0a20 2020 2020 2020 2020 2020  s({..           
+00013150: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
+00013160: 6f6d 7074 223a 2022 222c 0d0a 2020 2020  ompt": "",..    
+00013170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013180: 2020 2020 226d 6f64 656c 223a 2022 7374      "model": "st
+00013190: 6162 6c65 6469 6666 7573 696f 6e2d 786c  ablediffusion-xl
+000131a0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+000131b0: 2020 2020 2020 2020 2020 2020 2264 6174              "dat
+000131c0: 6122 3a20 7b0d 0a20 2020 2020 2020 2020  a": {..         
+000131d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000131e0: 2020 2022 7072 6f6d 7074 5f6e 6567 6174     "prompt_negat
+000131f0: 6976 6522 3a20 2222 2c0d 0a20 2020 2020  ive": "",..     
+00013200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013210: 2020 2020 2020 2022 696d 6167 655f 7374         "image_st
+00013220: 796c 6522 3a20 2228 4e6f 2073 7479 6c65  yle": "(No style
+00013230: 2922 2c0d 0a20 2020 2020 2020 2020 2020  )",..           
+00013240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013250: 2022 6775 6964 616e 6365 5f73 6361 6c65   "guidance_scale
+00013260: 223a 2037 2e35 0d0a 2020 2020 2020 2020  ": 7.5..        
+00013270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013280: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
+00013290: 2020 2020 2020 207d 290d 0a0d 0a20 2020         })....   
+000132a0: 2020 2020 2020 2020 2020 2020 2072 6573               res
+000132b0: 706f 6e73 6520 3d20 7265 7175 6573 7473  ponse = requests
+000132c0: 2e70 6f73 7428 7572 6c3d 2268 7474 7073  .post(url="https
+000132d0: 3a2f 2f6e 6578 7261 2e61 7279 6168 6372  ://nexra.aryahcr
+000132e0: 2e63 632f 6170 692f 696d 6167 652f 636f  .cc/api/image/co
+000132f0: 6d70 6c65 6d65 6e74 7322 2c20 6865 6164  mplements", head
+00013300: 6572 733d 6865 6164 6572 732c 2064 6174  ers=headers, dat
+00013310: 613d 6461 7461 290d 0a20 2020 2020 2020  a=data)..       
+00013320: 2020 2020 2020 2020 2069 6620 7265 7370           if resp
+00013330: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00013340: 203d 3d20 3230 303a 0d0a 2020 2020 2020   == 200:..      
+00013350: 2020 2020 2020 2020 2020 2020 2020 6572                er
+00013360: 7220 3d20 4e6f 6e65 0d0a 2020 2020 2020  r = None..      
+00013370: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00013380: 7375 6c74 203d 204e 6f6e 650d 0a0d 0a20  sult = None.... 
+00013390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000133a0: 2020 2063 6f75 6e74 203d 202d 310d 0a20     count = -1.. 
+000133b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000133c0: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
+000133d0: 6528 6c65 6e28 7265 7370 6f6e 7365 2e74  e(len(response.t
+000133e0: 6578 7429 293a 0d0a 2020 2020 2020 2020  ext)):..        
 000133f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013400: 2074 6d70 203d 2074 6d70 202b 2064 6174   tmp = tmp + dat
-00013410: 610d 0a20 2020 2020 2020 2020 2020 2020  a..             
-00013420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013430: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00013440: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
+00013400: 6966 2063 6f75 6e74 203c 3d20 2d31 3a0d  if count <= -1:.
+00013410: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013420: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00013430: 7265 7370 6f6e 7365 2e74 6578 745b 695d  response.text[i]
+00013440: 203d 3d20 227b 223a 0d0a 2020 2020 2020   == "{":..      
 00013450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013470: 2020 2020 2063 6f6e 7665 7274 203d 206a       convert = j
-00013480: 736f 6e2e 6c6f 6164 7328 746d 7029 0d0a  son.loads(tmp)..
-00013490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013460: 2020 2020 2020 2020 2020 636f 756e 7420            count 
+00013470: 3d20 690d 0a20 2020 2020 2020 2020 2020  = i..           
+00013480: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00013490: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
 000134a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000134b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000134c0: 7265 7375 6c74 203d 2074 6d70 0d0a 2020  result = tmp..  
+000134b0: 6272 6561 6b0d 0a20 2020 2020 2020 2020  break..         
+000134c0: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
 000134d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000134e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000134f0: 2020 2020 2020 2020 2020 2020 2020 746d                tm
-00013500: 7020 3d20 4e6f 6e65 0d0a 2020 2020 2020  p = None..      
-00013510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013530: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
-00013540: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
-00013550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013570: 2020 2020 2020 2020 2020 2020 2020 746d                tm
-00013580: 7020 3d20 746d 700d 0a20 2020 2020 2020  p = tmp..       
-00013590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000135a0: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
+000134e0: 2069 6620 636f 756e 7420 3c3d 202d 313a   if count <= -1:
+000134f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00013500: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
+00013510: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00013520: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00013530: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
+00013540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013550: 2020 2020 2020 2020 2022 7374 6174 7573           "status
+00013560: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
+00013570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013580: 2020 2020 2020 2022 6572 726f 7222 3a20         "error": 
+00013590: 2249 4e54 4552 4e41 4c5f 5345 5256 4552  "INTERNAL_SERVER
+000135a0: 5f45 5252 4f52 222c 0d0a 2020 2020 2020  _ERROR",..      
 000135b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000135c0: 2020 2020 2020 2020 2020 2069 6620 7265             if re
-000135d0: 7375 6c74 2021 3d20 4e6f 6e65 3a0d 0a20  sult != None:.. 
-000135e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000135c0: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
+000135d0: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
+000135e0: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
 000135f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013600: 2020 2069 6620 2263 6f64 6522 206e 6f74     if "code" not
-00013610: 2069 6e20 7265 7375 6c74 2061 6e64 2022   in result and "
-00013620: 7374 6174 7573 2220 6e6f 7420 696e 2072  status" not in r
-00013630: 6573 756c 743a 0d0a 2020 2020 2020 2020  esult:..        
-00013640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013600: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
+00013610: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00013620: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
+00013630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013640: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
 00013650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013660: 7969 656c 6420 6a73 6f6e 2e6c 6f61 6473  yield json.loads
-00013670: 2872 6573 756c 7429 0d0a 2020 2020 2020  (result)..      
-00013680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013690: 2020 2020 2020 2020 2020 2020 2020 656c                el
-000136a0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-000136b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000136c0: 2020 2020 2020 2020 2020 2020 2065 7272               err
-000136d0: 203d 2072 6573 756c 740d 0a20 2020 2020   = result..     
-000136e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000136f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013700: 2020 2079 6965 6c64 206a 736f 6e2e 6c6f     yield json.lo
-00013710: 6164 7328 6572 7229 0d0a 2020 2020 2020  ads(err)..      
-00013720: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
-00013730: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
-00013740: 2020 2020 2020 2020 2020 2020 2020 7969                yi
-00013750: 656c 6420 7b22 6d65 7373 6167 6522 3a4e  eld {"message":N
-00013760: 6f6e 652c 226f 7269 6769 6e61 6c22 3a4e  one,"original":N
-00013770: 6f6e 652c 2266 696e 6973 6822 3a54 7275  one,"finish":Tru
-00013780: 652c 2265 7272 6f72 223a 5472 7565 7d0d  e,"error":True}.
-00013790: 0a20 2020 2020 2020 2065 6c73 653a 0d0a  .        else:..
-000137a0: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
-000137b0: 6420 7b22 6d65 7373 6167 6522 3a4e 6f6e  d {"message":Non
-000137c0: 652c 226f 7269 6769 6e61 6c22 3a4e 6f6e  e,"original":Non
-000137d0: 652c 2266 696e 6973 6822 3a54 7275 652c  e,"finish":True,
-000137e0: 2265 7272 6f72 223a 5472 7565 7d0d 0a20  "error":True}.. 
-000137f0: 2020 2020 2020 2070 6173 730d 0a20 2020         pass..   
-00013800: 2064 6566 2065 7272 6f72 2873 656c 6629   def error(self)
-00013810: 3a0d 0a20 2020 2020 2020 2072 6574 7572  :..        retur
-00013820: 6e20 7365 6c66 2e65 7272 6f72 0d0a 2020  n self.error..  
-00013830: 2020 6465 6620 7265 7375 6c74 2873 656c    def result(sel
-00013840: 6629 3a0d 0a20 2020 2020 2020 2072 6574  f):..        ret
-00013850: 7572 6e20 7365 6c66 2e72 6573 756c 740d  urn self.result.
-00013860: 0a0d 0a63 6c61 7373 206c 6c61 6d61 3228  ...class llama2(
-00013870: 293a 0d0a 2020 2020 6572 726f 7220 3d20  ):..    error = 
-00013880: 4e6f 6e65 0d0a 2020 2020 7265 7375 6c74  None..    result
-00013890: 203d 204e 6f6e 650d 0a20 2020 2064 6566   = None..    def
-000138a0: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
-000138b0: 6d65 7373 6167 6573 3d5b 5d2c 2064 6174  messages=[], dat
-000138c0: 613d 7b0d 0a20 2020 2020 2020 2022 7379  a={..        "sy
-000138d0: 7374 656d 5f6d 6573 7361 6765 223a 2022  stem_message": "
-000138e0: 222c 0d0a 2020 2020 2020 2020 2274 656d  ",..        "tem
-000138f0: 7065 7261 7475 7265 223a 2022 222c 0d0a  perature": "",..
-00013900: 2020 2020 2020 2020 226d 6178 5f74 6f6b          "max_tok
-00013910: 656e 7322 3a20 2222 2c0d 0a20 2020 2020  ens": "",..     
-00013920: 2020 2022 746f 705f 7022 3a20 2222 2c0d     "top_p": "",.
-00013930: 0a20 2020 2020 2020 2022 7265 7065 7469  .        "repeti
-00013940: 7469 6f6e 5f70 656e 616c 7479 223a 2022  tion_penalty": "
-00013950: 222c 0d0a 2020 2020 7d2c 206d 6172 6b64  ",..    }, markd
-00013960: 6f77 6e3d 4661 6c73 652c 2073 7472 6561  own=False, strea
-00013970: 6d3d 4661 6c73 6529 202d 3e20 4e6f 6e65  m=False) -> None
-00013980: 3a0d 0a20 2020 2020 2020 2074 7279 3a0d  :..        try:.
-00013990: 0a20 2020 2020 2020 2020 2020 2068 6561  .            hea
-000139a0: 6465 7273 203d 207b 0d0a 2020 2020 2020  ders = {..      
-000139b0: 2020 2020 2020 2020 2020 2243 6f6e 7465            "Conte
-000139c0: 6e74 2d54 7970 6522 3a20 2261 7070 6c69  nt-Type": "appli
-000139d0: 6361 7469 6f6e 2f6a 736f 6e22 0d0a 2020  cation/json"..  
-000139e0: 2020 2020 2020 2020 2020 7d0d 0a0d 0a20            }.... 
-000139f0: 2020 2020 2020 2020 2020 2064 6174 6120             data 
-00013a00: 3d20 6a73 6f6e 2e64 756d 7073 287b 7d29  = json.dumps({})
-00013a10: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
-00013a20: 7374 726d 203d 2046 616c 7365 0d0a 2020  strm = False..  
-00013a30: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
-00013a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013a50: 6966 2073 7472 6561 6d20 213d 204e 6f6e  if stream != Non
-00013a60: 6520 616e 6420 7374 7265 616d 203d 3d20  e and stream == 
-00013a70: 5472 7565 3a0d 0a20 2020 2020 2020 2020  True:..         
-00013a80: 2020 2020 2020 2020 2020 2073 7472 6d20             strm 
-00013a90: 3d20 5472 7565 0d0a 2020 2020 2020 2020  = True..        
-00013aa0: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
+00013660: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+00013670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013680: 2020 206a 7320 3d20 7265 7370 6f6e 7365     js = response
+00013690: 2e74 6578 745b 636f 756e 743a 5d0d 0a20  .text[count:].. 
+000136a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000136b0: 2020 2020 2020 2020 2020 206a 7320 3d20             js = 
+000136c0: 6a73 6f6e 2e6c 6f61 6473 286a 7329 0d0a  json.loads(js)..
+000136d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000136e0: 2020 2020 2020 2020 2020 2020 6966 206a              if j
+000136f0: 7320 213d 204e 6f6e 6520 616e 6420 6a73  s != None and js
+00013700: 5b22 636f 6465 225d 2021 3d20 4e6f 6e65  ["code"] != None
+00013710: 2061 6e64 206a 735b 2263 6f64 6522 5d20   and js["code"] 
+00013720: 3d3d 2032 3030 2061 6e64 206a 735b 2273  == 200 and js["s
+00013730: 7461 7475 7322 5d20 213d 204e 6f6e 6520  tatus"] != None 
+00013740: 616e 6420 6a73 5b22 7374 6174 7573 225d  and js["status"]
+00013750: 203d 3d20 5472 7565 3a0d 0a20 2020 2020   == True:..     
+00013760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013770: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+00013780: 7420 3d20 6a73 0d0a 2020 2020 2020 2020  t = js..        
+00013790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000137a0: 2020 2020 2020 2020 6572 7220 3d20 4e6f          err = No
+000137b0: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+000137c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000137d0: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+000137e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000137f0: 2020 2020 2020 2065 7272 203d 206a 730d         err = js.
+00013800: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013820: 2072 6573 756c 7420 3d20 4e6f 6e65 0d0a   result = None..
+00013830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013840: 2020 2020 2020 2020 6578 6365 7074 2045          except E
+00013850: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
+00013860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013870: 2020 2020 2020 2020 2020 2020 6572 7220              err 
+00013880: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
+00013890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000138a0: 2020 2020 2022 636f 6465 223a 2035 3030       "code": 500
+000138b0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000138c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000138d0: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
+000138e0: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
+000138f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013900: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
+00013910: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
+00013920: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
+00013930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013940: 2020 2020 2020 2020 226d 6573 7361 6765          "message
+00013950: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
+00013960: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
+00013970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013980: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
+00013990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000139a0: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+000139b0: 3d20 4e6f 6e65 0d0a 0d0a 2020 2020 2020  = None....      
+000139c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000139d0: 2020 6966 2072 6573 756c 7420 3d3d 204e    if result == N
+000139e0: 6f6e 6520 616e 6420 6572 7220 213d 204e  one and err != N
+000139f0: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
+00013a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013a10: 2020 7365 6c66 2e65 7272 6f72 203d 2065    self.error = e
+00013a20: 7272 0d0a 2020 2020 2020 2020 2020 2020  rr..            
+00013a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013a40: 7365 6c66 2e72 6573 756c 7420 3d20 4e6f  self.result = No
+00013a50: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+00013a60: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00013a70: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00013a80: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00013a90: 656c 662e 7265 7375 6c74 203d 2072 6573  elf.result = res
+00013aa0: 756c 740d 0a20 2020 2020 2020 2020 2020  ult..           
 00013ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013ac0: 2020 2073 7472 6d20 3d20 4661 6c73 650d     strm = False.
-00013ad0: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-00013ae0: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
-00013af0: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
-00013b00: 2020 2020 2073 7472 6d20 3d20 4661 6c73       strm = Fals
-00013b10: 650d 0a0d 0a20 2020 2020 2020 2020 2020  e....           
-00013b20: 206d 6420 3d20 7b0d 0a20 2020 2020 2020   md = {..       
-00013b30: 2020 2020 2020 2020 2022 7379 7374 656d           "system
-00013b40: 5f6d 6573 7361 6765 223a 2022 222c 0d0a  _message": "",..
-00013b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013b60: 2274 656d 7065 7261 7475 7265 223a 2030  "temperature": 0
-00013b70: 2e39 2c0d 0a20 2020 2020 2020 2020 2020  .9,..           
-00013b80: 2020 2020 2022 6d61 785f 746f 6b65 6e73       "max_tokens
-00013b90: 223a 2034 3039 362c 0d0a 2020 2020 2020  ": 4096,..      
-00013ba0: 2020 2020 2020 2020 2020 2274 6f70 5f70            "top_p
-00013bb0: 223a 2030 2e36 2c0d 0a20 2020 2020 2020  ": 0.6,..       
-00013bc0: 2020 2020 2020 2020 2022 7265 7065 7469           "repeti
-00013bd0: 7469 6f6e 5f70 656e 616c 7479 223a 2031  tion_penalty": 1
-00013be0: 2e32 2c0d 0a20 2020 2020 2020 2020 2020  .2,..           
-00013bf0: 207d 0d0a 0d0a 2020 2020 2020 2020 2020   }....          
-00013c00: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
-00013c10: 2020 2020 2020 2020 7072 6f6d 7074 203d          prompt =
-00013c20: 2070 726f 6d70 7420 6966 2070 726f 6d70   prompt if promp
-00013c30: 7420 6973 206e 6f74 204e 6f6e 6520 656c  t is not None el
-00013c40: 7365 2022 220d 0a20 2020 2020 2020 2020  se ""..         
-00013c50: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
-00013c60: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
-00013c70: 2020 2020 2020 2020 2020 2070 726f 6d70             promp
-00013c80: 7420 3d20 2222 0d0a 0d0a 2020 2020 2020  t = ""....      
-00013c90: 2020 2020 2020 7472 7920 3a0d 0a20 2020        try :..   
-00013ca0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00013cb0: 6461 7461 2e67 6574 2822 7379 7374 656d  data.get("system
-00013cc0: 5f6d 6573 7361 6765 2229 2021 3d20 4e6f  _message") != No
-00013cd0: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
-00013ce0: 2020 2020 2020 2020 206d 645b 2273 7973           md["sys
-00013cf0: 7465 6d5f 6d65 7373 6167 6522 5d20 3d20  tem_message"] = 
-00013d00: 6461 7461 2e67 6574 2822 7379 7374 656d  data.get("system
-00013d10: 5f6d 6573 7361 6765 2229 0d0a 2020 2020  _message")..    
-00013d20: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00013d30: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00013d40: 2020 2020 2020 206d 645b 2273 7973 7465         md["syste
-00013d50: 6d5f 6d65 7373 6167 6522 5d20 3d20 2222  m_message"] = ""
-00013d60: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
-00013d70: 2020 2020 6966 2064 6174 612e 6765 7428      if data.get(
-00013d80: 2274 656d 7065 7261 7475 7265 2229 2021  "temperature") !
-00013d90: 3d20 4e6f 6e65 3a0d 0a20 2020 2020 2020  = None:..       
-00013da0: 2020 2020 2020 2020 2020 2020 206d 645b               md[
-00013db0: 2274 656d 7065 7261 7475 7265 225d 203d  "temperature"] =
-00013dc0: 2064 6174 612e 6765 7428 2274 656d 7065   data.get("tempe
-00013dd0: 7261 7475 7265 2229 0d0a 2020 2020 2020  rature")..      
-00013de0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-00013df0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013e00: 2020 2020 206d 645b 2274 656d 7065 7261       md["tempera
-00013e10: 7475 7265 225d 203d 2030 2e39 0d0a 2020  ture"] = 0.9..  
-00013e20: 2020 2020 2020 2020 2020 2020 2020 0d0a                ..
-00013e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013e40: 6966 2064 6174 612e 6765 7428 226d 6178  if data.get("max
-00013e50: 5f74 6f6b 656e 7322 2920 213d 204e 6f6e  _tokens") != Non
-00013e60: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00013e70: 2020 2020 2020 2020 6d64 5b22 6d61 785f          md["max_
-00013e80: 746f 6b65 6e73 225d 203d 2064 6174 612e  tokens"] = data.
-00013e90: 6765 7428 226d 6178 5f74 6f6b 656e 7322  get("max_tokens"
-00013ea0: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
-00013eb0: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-00013ec0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-00013ed0: 5b22 6d61 785f 746f 6b65 6e73 225d 203d  ["max_tokens"] =
-00013ee0: 2034 3039 360d 0a20 2020 2020 2020 2020   4096..         
-00013ef0: 2020 2020 2020 200d 0a20 2020 2020 2020         ..       
-00013f00: 2020 2020 2020 2020 2069 6620 6461 7461           if data
-00013f10: 2e67 6574 2822 746f 705f 7022 2920 213d  .get("top_p") !=
-00013f20: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
-00013f30: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
-00013f40: 746f 705f 7022 5d20 3d20 6461 7461 2e67  top_p"] = data.g
-00013f50: 6574 2822 746f 705f 7022 290d 0a20 2020  et("top_p")..   
-00013f60: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-00013f70: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00013f80: 2020 2020 2020 2020 6d64 5b22 746f 705f          md["top_
-00013f90: 7022 5d20 3d20 302e 360d 0a20 2020 2020  p"] = 0.6..     
-00013fa0: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
-00013fb0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00013fc0: 6461 7461 2e67 6574 2822 7265 7065 7469  data.get("repeti
-00013fd0: 7469 6f6e 5f70 656e 616c 7479 2229 2021  tion_penalty") !
-00013fe0: 3d20 4e6f 6e65 3a0d 0a20 2020 2020 2020  = None:..       
-00013ff0: 2020 2020 2020 2020 2020 2020 206d 645b               md[
-00014000: 2272 6570 6574 6974 696f 6e5f 7065 6e61  "repetition_pena
-00014010: 6c74 7922 5d20 3d20 6461 7461 2e67 6574  lty"] = data.get
-00014020: 2822 7265 7065 7469 7469 6f6e 5f70 656e  ("repetition_pen
-00014030: 616c 7479 2229 0d0a 2020 2020 2020 2020  alty")..        
-00014040: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
-00014050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014060: 2020 206d 645b 2272 6570 6574 6974 696f     md["repetitio
-00014070: 6e5f 7065 6e61 6c74 7922 5d20 3d20 312e  n_penalty"] = 1.
-00014080: 320d 0a20 2020 2020 2020 2020 2020 2065  2..            e
-00014090: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
-000140a0: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
-000140b0: 2020 2020 2020 206d 6420 3d20 7b0d 0a20         md = {.. 
-000140c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000140d0: 2020 2022 7379 7374 656d 5f6d 6573 7361     "system_messa
-000140e0: 6765 223a 2022 222c 0d0a 2020 2020 2020  ge": "",..      
-000140f0: 2020 2020 2020 2020 2020 2020 2020 2274                "t
-00014100: 656d 7065 7261 7475 7265 223a 2030 2e39  emperature": 0.9
-00014110: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00014120: 2020 2020 2020 2022 6d61 785f 746f 6b65         "max_toke
-00014130: 6e73 223a 2034 3039 362c 0d0a 2020 2020  ns": 4096,..    
-00014140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014150: 2274 6f70 5f70 223a 2030 2e36 2c0d 0a20  "top_p": 0.6,.. 
-00014160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014170: 2020 2022 7265 7065 7469 7469 6f6e 5f70     "repetition_p
-00014180: 656e 616c 7479 223a 2031 2e32 2c0d 0a20  enalty": 1.2,.. 
-00014190: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-000141a0: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
-000141b0: 6461 7461 203d 207b 7d0d 0a20 2020 2020  data = {}..     
-000141c0: 2020 2020 2020 2074 7279 3a0d 0a20 2020         try:..   
-000141d0: 2020 2020 2020 2020 2020 2020 2064 6174               dat
-000141e0: 6120 3d20 6a73 6f6e 2e64 756d 7073 287b  a = json.dumps({
-000141f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00014200: 2020 2020 2020 226d 6573 7361 6765 7322        "messages"
-00014210: 3a20 6d65 7373 6167 6573 2069 6620 6d65  : messages if me
-00014220: 7373 6167 6573 2069 7320 6e6f 7420 4e6f  ssages is not No
-00014230: 6e65 2065 6c73 6520 5b5d 2c0d 0a20 2020  ne else [],..   
-00014240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014250: 2022 6d61 726b 646f 776e 223a 206d 6172   "markdown": mar
-00014260: 6b64 6f77 6e20 6966 206d 6172 6b64 6f77  kdown if markdow
-00014270: 6e20 6973 206e 6f74 204e 6f6e 6520 656c  n is not None el
-00014280: 7365 2046 616c 7365 2c0d 0a20 2020 2020  se False,..     
-00014290: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000142a0: 7374 7265 616d 223a 2073 7472 6d20 6966  stream": strm if
-000142b0: 2073 7472 6d20 6973 206e 6f74 204e 6f6e   strm is not Non
-000142c0: 6520 656c 7365 2046 616c 7365 2c0d 0a20  e else False,.. 
-000142d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000142e0: 2020 2022 6d6f 6465 6c22 3a20 226c 6c61     "model": "lla
-000142f0: 6d61 3222 2c0d 0a20 2020 2020 2020 2020  ma2",..         
-00014300: 2020 2020 2020 2020 2020 2022 6461 7461             "data
-00014310: 223a 206d 640d 0a20 2020 2020 2020 2020  ": md..         
-00014320: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
-00014330: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-00014340: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
-00014350: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00014360: 6174 6120 3d20 6a73 6f6e 2e64 756d 7073  ata = json.dumps
-00014370: 287b 0d0a 2020 2020 2020 2020 2020 2020  ({..            
-00014380: 2020 2020 2020 2020 226d 6573 7361 6765          "message
-00014390: 7322 3a20 5b5d 2c0d 0a20 2020 2020 2020  s": [],..       
-000143a0: 2020 2020 2020 2020 2020 2020 2022 6d61               "ma
-000143b0: 726b 646f 776e 223a 2046 616c 7365 2c0d  rkdown": False,.
-000143c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000143d0: 2020 2020 2022 7374 7265 616d 223a 2046       "stream": F
-000143e0: 616c 7365 2c0d 0a20 2020 2020 2020 2020  alse,..         
-000143f0: 2020 2020 2020 2020 2020 2022 6d6f 6465             "mode
-00014400: 6c22 3a20 226c 6c61 6d61 3222 2c0d 0a20  l": "llama2",.. 
-00014410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014420: 2020 2022 6461 7461 223a 207b 0d0a 2020     "data": {..  
-00014430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014440: 2020 2020 2020 2267 7075 223a 2046 616c        "gpu": Fal
-00014450: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
-00014460: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
-00014470: 6f6d 7074 5f69 6d70 726f 7665 6d65 6e74  ompt_improvement
-00014480: 223a 2046 616c 7365 0d0a 2020 2020 2020  ": False..      
-00014490: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
-000144a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000144b0: 207d 290d 0a0d 0a20 2020 2020 2020 2020   })....         
-000144c0: 2020 2072 6573 706f 6e73 6520 3d20 7265     response = re
-000144d0: 7175 6573 7473 2e70 6f73 7428 7572 6c3d  quests.post(url=
-000144e0: 2268 7474 7073 3a2f 2f6e 6578 7261 2e61  "https://nexra.a
-000144f0: 7279 6168 6372 2e63 632f 6170 692f 6368  ryahcr.cc/api/ch
-00014500: 6174 2f63 6f6d 706c 656d 656e 7473 222c  at/complements",
-00014510: 2068 6561 6465 7273 3d68 6561 6465 7273   headers=headers
-00014520: 2c20 6461 7461 3d64 6174 612c 2073 7472  , data=data, str
-00014530: 6561 6d3d 7374 726d 290d 0a20 2020 2020  eam=strm)..     
-00014540: 2020 2020 2020 2069 6620 7265 7370 6f6e         if respon
-00014550: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00014560: 3d20 3230 303a 0d0a 2020 2020 2020 2020  = 200:..        
-00014570: 2020 2020 2020 2020 6966 2073 7472 6d20          if strm 
-00014580: 213d 2054 7275 653a 0d0a 2020 2020 2020  != True:..      
-00014590: 2020 2020 2020 2020 2020 2020 2020 7365                se
-000145a0: 6c66 2e62 696e 6764 6174 6120 3d20 4e6f  lf.bingdata = No
-000145b0: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
-000145c0: 2020 2020 2020 2020 6572 7220 3d20 4e6f          err = No
-000145d0: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
-000145e0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-000145f0: 204e 6f6e 650d 0a0d 0a20 2020 2020 2020   None....       
-00014600: 2020 2020 2020 2020 2020 2020 2063 6f75               cou
-00014610: 6e74 203d 202d 310d 0a20 2020 2020 2020  nt = -1..       
-00014620: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-00014630: 2069 2069 6e20 7261 6e67 6528 6c65 6e28   i in range(len(
-00014640: 7265 7370 6f6e 7365 2e74 6578 7429 293a  response.text)):
-00014650: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00014660: 2020 2020 2020 2020 2020 6966 2063 6f75            if cou
-00014670: 6e74 203c 3d20 2d31 3a0d 0a20 2020 2020  nt <= -1:..     
-00014680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014690: 2020 2020 2020 2069 6620 7265 7370 6f6e         if respon
-000146a0: 7365 2e74 6578 745b 695d 203d 3d20 227b  se.text[i] == "{
-000146b0: 223a 0d0a 2020 2020 2020 2020 2020 2020  ":..            
-000146c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000146d0: 2020 2020 636f 756e 7420 3d20 690d 0a20      count = i.. 
+00013ac0: 2073 656c 662e 6572 726f 7220 3d20 4e6f   self.error = No
+00013ad0: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+00013ae0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
+00013af0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00013b00: 6174 615f 6572 7220 3d20 7b7d 0d0a 2020  ata_err = {}..  
+00013b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013b20: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+00013b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013b40: 6461 7461 5f65 7272 203d 206a 736f 6e2e  data_err = json.
+00013b50: 6c6f 6164 7328 7265 7370 6f6e 7365 2e74  loads(response.t
+00013b60: 6578 7429 0d0a 2020 2020 2020 2020 2020  ext)..          
+00013b70: 2020 2020 2020 2020 2020 6578 6365 7074            except
+00013b80: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
+00013b90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00013ba0: 2020 2020 2020 2020 2020 6461 7461 5f65            data_e
+00013bb0: 7272 203d 207b 0d0a 2020 2020 2020 2020  rr = {..        
+00013bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013bd0: 2020 2020 2263 6f64 6522 3a20 3530 302c      "code": 500,
+00013be0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00013bf0: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+00013c00: 7461 7475 7322 3a20 4661 6c73 652c 0d0a  tatus": False,..
+00013c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013c20: 2020 2020 2020 2020 2020 2020 2265 7272              "err
+00013c30: 6f72 223a 2022 494e 5445 524e 414c 5f53  or": "INTERNAL_S
+00013c40: 4552 5645 525f 4552 524f 5222 2c0d 0a20  ERVER_ERROR",.. 
+00013c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013c60: 2020 2020 2020 2020 2020 2022 6d65 7373             "mess
+00013c70: 6167 6522 3a20 2267 656e 6572 616c 2028  age": "general (
+00013c80: 756e 6b6e 6f77 6e29 2065 7272 6f72 220d  unknown) error".
+00013c90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013ca0: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
+00013cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013cc0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00013cd0: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
+00013ce0: 203d 2064 6174 615f 6572 720d 0a20 2020   = data_err..   
+00013cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013d00: 2073 656c 662e 7265 7375 6c74 203d 204e   self.result = N
+00013d10: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+00013d20: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+00013d30: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
+00013d40: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
+00013d50: 726f 7220 3d20 7b0d 0a20 2020 2020 2020  ror = {..       
+00013d60: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+00013d70: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
+00013d80: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00013d90: 7374 6174 7573 223a 2046 616c 7365 2c0d  status": False,.
+00013da0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013db0: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
+00013dc0: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
+00013dd0: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
+00013de0: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
+00013df0: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
+00013e00: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
+00013e10: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00013e20: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
+00013e30: 2020 2020 2073 656c 662e 7265 7375 6c74       self.result
+00013e40: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+00013e50: 2020 2020 2070 6173 730d 0a20 2020 2020       pass..     
+00013e60: 2020 2064 6566 2065 7272 6f72 2873 656c     def error(sel
+00013e70: 6629 3a0d 0a20 2020 2020 2020 2020 2020  f):..           
+00013e80: 2072 6574 7572 6e20 7365 6c66 2e65 7272   return self.err
+00013e90: 6f72 0d0a 2020 2020 2020 2020 6465 6620  or..        def 
+00013ea0: 7265 7375 6c74 2873 656c 6629 3a0d 0a20  result(self):.. 
+00013eb0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00013ec0: 6e20 7365 6c66 2e72 6573 756c 740d 0a0d  n self.result...
+00013ed0: 0a63 6c61 7373 2065 6d69 2829 3a0d 0a20  .class emi():.. 
+00013ee0: 2020 2065 7272 6f72 203d 204e 6f6e 650d     error = None.
+00013ef0: 0a20 2020 2072 6573 756c 7420 3d20 4e6f  .    result = No
+00013f00: 6e65 0d0a 2020 2020 6465 6620 5f5f 696e  ne..    def __in
+00013f10: 6974 5f5f 2873 656c 662c 2070 726f 6d70  it__(self, promp
+00013f20: 743d 2222 2920 2d3e 204e 6f6e 653a 0d0a  t="") -> None:..
+00013f30: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
+00013f40: 2020 2020 2020 2020 2020 6865 6164 6572            header
+00013f50: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
+00013f60: 2020 2020 2020 2022 436f 6e74 656e 742d         "Content-
+00013f70: 5479 7065 223a 2022 6170 706c 6963 6174  Type": "applicat
+00013f80: 696f 6e2f 6a73 6f6e 220d 0a20 2020 2020  ion/json"..     
+00013f90: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
+00013fa0: 2020 2020 2020 6572 7220 3d20 4661 6c73        err = Fals
+00013fb0: 650d 0a20 2020 2020 2020 2020 2020 200d  e..            .
+00013fc0: 0a20 2020 2020 2020 2020 2020 2064 6174  .            dat
+00013fd0: 6120 3d20 6a73 6f6e 2e64 756d 7073 287b  a = json.dumps({
+00013fe0: 7d29 0d0a 2020 2020 2020 2020 2020 2020  })..            
+00013ff0: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
+00014000: 2020 2020 2020 6461 7461 203d 206a 736f        data = jso
+00014010: 6e2e 6475 6d70 7328 7b0d 0a20 2020 2020  n.dumps({..     
+00014020: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00014030: 7072 6f6d 7074 223a 2070 726f 6d70 7420  prompt": prompt 
+00014040: 6966 2070 726f 6d70 7420 6973 206e 6f74  if prompt is not
+00014050: 204e 6f6e 6520 656c 7365 2022 222c 0d0a   None else "",..
+00014060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014070: 2020 2020 226d 6f64 656c 223a 2022 656d      "model": "em
+00014080: 6922 0d0a 2020 2020 2020 2020 2020 2020  i"..            
+00014090: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
+000140a0: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+000140b0: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
+000140c0: 2020 2020 2020 2020 2020 2020 6461 7461              data
+000140d0: 203d 206a 736f 6e2e 6475 6d70 7328 7b0d   = json.dumps({.
+000140e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000140f0: 2020 2020 2022 7072 6f6d 7074 223a 2022       "prompt": "
+00014100: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+00014110: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
+00014120: 2022 656d 6922 0d0a 2020 2020 2020 2020   "emi"..        
+00014130: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
+00014140: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
+00014150: 2020 2020 2020 7265 7370 6f6e 7365 203d        response =
+00014160: 2072 6571 7565 7374 732e 706f 7374 2875   requests.post(u
+00014170: 726c 3d22 6874 7470 733a 2f2f 6e65 7872  rl="https://nexr
+00014180: 612e 6172 7961 6863 722e 6363 2f61 7069  a.aryahcr.cc/api
+00014190: 2f69 6d61 6765 2f63 6f6d 706c 656d 656e  /image/complemen
+000141a0: 7473 222c 2068 6561 6465 7273 3d68 6561  ts", headers=hea
+000141b0: 6465 7273 2c20 6461 7461 3d64 6174 6129  ders, data=data)
+000141c0: 0d0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+000141d0: 2072 6573 706f 6e73 652e 7374 6174 7573   response.status
+000141e0: 5f63 6f64 6520 3d3d 2032 3030 3a0d 0a20  _code == 200:.. 
+000141f0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00014200: 7272 203d 204e 6f6e 650d 0a20 2020 2020  rr = None..     
+00014210: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+00014220: 7420 3d20 4e6f 6e65 0d0a 0d0a 2020 2020  t = None....    
+00014230: 2020 2020 2020 2020 2020 2020 636f 756e              coun
+00014240: 7420 3d20 2d31 0d0a 2020 2020 2020 2020  t = -1..        
+00014250: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
+00014260: 2072 616e 6765 286c 656e 2872 6573 706f   range(len(respo
+00014270: 6e73 652e 7465 7874 2929 3a0d 0a20 2020  nse.text)):..   
+00014280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014290: 2069 6620 636f 756e 7420 3c3d 202d 313a   if count <= -1:
+000142a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000142b0: 2020 2020 2020 2020 2020 6966 2072 6573            if res
+000142c0: 706f 6e73 652e 7465 7874 5b69 5d20 3d3d  ponse.text[i] ==
+000142d0: 2022 7b22 3a0d 0a20 2020 2020 2020 2020   "{":..         
+000142e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000142f0: 2020 2063 6f75 6e74 203d 2069 0d0a 2020     count = i..  
+00014300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014310: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+00014320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014330: 2062 7265 616b 0d0a 2020 2020 2020 2020   break..        
+00014340: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
+00014350: 2020 2020 2020 2020 2020 6966 2063 6f75            if cou
+00014360: 6e74 203c 3d20 2d31 3a0d 0a20 2020 2020  nt <= -1:..     
+00014370: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00014380: 7272 203d 207b 0d0a 2020 2020 2020 2020  rr = {..        
+00014390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000143a0: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
+000143b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000143c0: 2020 2020 2020 2273 7461 7475 7322 3a20        "status": 
+000143d0: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
+000143e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000143f0: 2265 7272 6f72 223a 2022 494e 5445 524e  "error": "INTERN
+00014400: 414c 5f53 4552 5645 525f 4552 524f 5222  AL_SERVER_ERROR"
+00014410: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00014420: 2020 2020 2020 2020 2020 2022 6d65 7373             "mess
+00014430: 6167 6522 3a20 2267 656e 6572 616c 2028  age": "general (
+00014440: 756e 6b6e 6f77 6e29 2065 7272 6f72 220d  unknown) error".
+00014450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014460: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
+00014470: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+00014480: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
+00014490: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+000144a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000144b0: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
+000144c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000144d0: 2020 2020 6a73 203d 2072 6573 706f 6e73      js = respons
+000144e0: 652e 7465 7874 5b63 6f75 6e74 3a5d 0d0a  e.text[count:]..
+000144f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014500: 2020 2020 2020 2020 6a73 203d 206a 736f          js = jso
+00014510: 6e2e 6c6f 6164 7328 6a73 290d 0a20 2020  n.loads(js)..   
+00014520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014530: 2020 2020 2069 6620 6a73 2021 3d20 4e6f       if js != No
+00014540: 6e65 2061 6e64 206a 735b 2263 6f64 6522  ne and js["code"
+00014550: 5d20 213d 204e 6f6e 6520 616e 6420 6a73  ] != None and js
+00014560: 5b22 636f 6465 225d 203d 3d20 3230 3020  ["code"] == 200 
+00014570: 616e 6420 6a73 5b22 7374 6174 7573 225d  and js["status"]
+00014580: 2021 3d20 4e6f 6e65 2061 6e64 206a 735b   != None and js[
+00014590: 2273 7461 7475 7322 5d20 3d3d 2054 7275  "status"] == Tru
+000145a0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+000145b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000145c0: 7265 7375 6c74 203d 206a 730d 0a20 2020  result = js..   
+000145d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000145e0: 2020 2020 2020 2020 2065 7272 203d 204e           err = N
+000145f0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+00014600: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00014610: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00014620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014630: 6572 7220 3d20 6a73 0d0a 2020 2020 2020  err = js..      
+00014640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014650: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
+00014660: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+00014670: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+00014680: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
+00014690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000146a0: 2020 2020 2020 2020 2065 7272 203d 207b           err = {
+000146b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000146c0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
+000146d0: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
 000146e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000146f0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
-00014700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014710: 2020 2020 2020 2020 2020 6272 6561 6b0d            break.
-00014720: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014730: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
-00014740: 2020 2020 2020 2020 2020 2069 6620 636f             if co
-00014750: 756e 7420 3c3d 202d 313a 0d0a 2020 2020  unt <= -1:..    
-00014760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014770: 2020 2020 6572 7220 3d20 7b0d 0a20 2020      err = {..   
-00014780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014790: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
-000147a0: 2035 3030 2c0d 0a20 2020 2020 2020 2020   500,..         
-000147b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000147c0: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
-000147d0: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
-000147e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000147f0: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
-00014800: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
-00014810: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-00014820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014830: 226d 6573 7361 6765 223a 2022 6765 6e65  "message": "gene
-00014840: 7261 6c20 2875 6e6b 6e6f 776e 2920 6572  ral (unknown) er
-00014850: 726f 7222 0d0a 2020 2020 2020 2020 2020  ror"..          
-00014860: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
-00014870: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014880: 2020 2020 2020 2020 2072 6573 756c 7420           result 
-00014890: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
-000148a0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-000148b0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-000148c0: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
-000148d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000148e0: 2020 2020 2020 2020 2020 2020 206a 7320               js 
-000148f0: 3d20 7265 7370 6f6e 7365 2e74 6578 745b  = response.text[
-00014900: 636f 756e 743a 5d0d 0a20 2020 2020 2020  count:]..       
-00014910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014920: 2020 2020 206a 7320 3d20 6a73 6f6e 2e6c       js = json.l
-00014930: 6f61 6473 286a 7329 0d0a 2020 2020 2020  oads(js)..      
-00014940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014950: 2020 2020 2020 6966 206a 7320 213d 204e        if js != N
-00014960: 6f6e 6520 616e 6420 6a73 5b22 636f 6465  one and js["code
-00014970: 225d 2021 3d20 4e6f 6e65 2061 6e64 206a  "] != None and j
-00014980: 735b 2263 6f64 6522 5d20 3d3d 2032 3030  s["code"] == 200
-00014990: 2061 6e64 206a 735b 2273 7461 7475 7322   and js["status"
-000149a0: 5d20 213d 204e 6f6e 6520 616e 6420 6a73  ] != None and js
-000149b0: 5b22 7374 6174 7573 225d 203d 3d20 5472  ["status"] == Tr
-000149c0: 7565 3a0d 0a20 2020 2020 2020 2020 2020  ue:..           
-000149d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000149e0: 2020 2020 2072 6573 756c 7420 3d20 6a73       result = js
-000149f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00014a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014a10: 2020 6572 7220 3d20 4e6f 6e65 0d0a 2020    err = None..  
-00014a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014a30: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-00014a40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014a60: 2065 7272 203d 206a 730d 0a20 2020 2020   err = js..     
-00014a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014a80: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-00014a90: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
-00014aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014ab0: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-00014ac0: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
-00014ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014ae0: 2020 2020 2020 6572 7220 3d20 7b0d 0a20        err = {.. 
-00014af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014b00: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00014b10: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
-00014b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014b30: 2020 2020 2020 2020 2020 2020 2022 7374               "st
-00014b40: 6174 7573 223a 2046 616c 7365 2c0d 0a20  atus": False,.. 
-00014b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014b60: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00014b70: 6572 726f 7222 3a20 2249 4e54 4552 4e41  error": "INTERNA
-00014b80: 4c5f 5345 5256 4552 5f45 5252 4f52 222c  L_SERVER_ERROR",
-00014b90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00014ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014bb0: 2020 226d 6573 7361 6765 223a 2022 6765    "message": "ge
-00014bc0: 6e65 7261 6c20 2875 6e6b 6e6f 776e 2920  neral (unknown) 
-00014bd0: 6572 726f 7222 0d0a 2020 2020 2020 2020  error"..        
-00014be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014bf0: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
-00014c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014c10: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
-00014c20: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
-00014c30: 2020 2020 2020 2020 2020 2020 6966 2072              if r
-00014c40: 6573 756c 7420 3d3d 204e 6f6e 6520 616e  esult == None an
-00014c50: 6420 6572 7220 213d 204e 6f6e 653a 0d0a  d err != None:..
-00014c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014c70: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00014c80: 2e65 7272 6f72 203d 2065 7272 0d0a 2020  .error = err..  
-00014c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014ca0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
-00014cb0: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
-00014cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014cd0: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00014ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014cf0: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-00014d00: 7375 6c74 203d 2072 6573 756c 740d 0a20  sult = result.. 
-00014d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014d20: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00014d30: 6572 726f 7220 3d20 4e6f 6e65 0d0a 2020  error = None..  
-00014d40: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00014d50: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-00014d60: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
-00014d70: 726f 7220 3d20 4e6f 6e65 0d0a 2020 2020  ror = None..    
-00014d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014d90: 7365 6c66 2e72 6573 756c 7420 3d20 4e6f  self.result = No
-00014da0: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
-00014db0: 2020 2020 2020 2020 7365 6c66 2e62 696e          self.bin
-00014dc0: 6764 6174 6120 3d20 7265 7370 6f6e 7365  gdata = response
-00014dd0: 0d0a 2020 2020 2020 2020 2020 2020 656c  ..            el
-00014de0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-00014df0: 2020 2020 2064 6174 615f 6572 7220 3d20       data_err = 
-00014e00: 7b7d 0d0a 2020 2020 2020 2020 2020 2020  {}..            
-00014e10: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
-00014e20: 2020 2020 2020 2020 2020 2020 2020 6461                da
-00014e30: 7461 5f65 7272 203d 206a 736f 6e2e 6c6f  ta_err = json.lo
-00014e40: 6164 7328 7265 7370 6f6e 7365 2e74 6578  ads(response.tex
-00014e50: 7429 0d0a 2020 2020 2020 2020 2020 2020  t)..            
-00014e60: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
-00014e70: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
-00014e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014e90: 6461 7461 5f65 7272 203d 207b 0d0a 2020  data_err = {..  
-00014ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014eb0: 2020 2020 2020 2263 6f64 6522 3a20 3530        "code": 50
-00014ec0: 302c 0d0a 2020 2020 2020 2020 2020 2020  0,..            
-00014ed0: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
-00014ee0: 7475 7322 3a20 4661 6c73 652c 0d0a 2020  tus": False,..  
-00014ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014f00: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
-00014f10: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
-00014f20: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
-00014f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014f40: 2022 6d65 7373 6167 6522 3a20 2267 656e   "message": "gen
-00014f50: 6572 616c 2028 756e 6b6e 6f77 6e29 2065  eral (unknown) e
-00014f60: 7272 6f72 220d 0a20 2020 2020 2020 2020  rror"..         
-00014f70: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
-00014f80: 2020 2020 2020 2020 2020 2020 2020 0d0a                ..
-00014f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014fa0: 7365 6c66 2e62 696e 6764 6174 6120 3d20  self.bingdata = 
-00014fb0: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
-00014fc0: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
-00014fd0: 203d 2064 6174 615f 6572 720d 0a20 2020   = data_err..   
-00014fe0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00014ff0: 662e 7265 7375 6c74 203d 204e 6f6e 650d  f.result = None.
-00015000: 0a20 2020 2020 2020 2065 7863 6570 7420  .        except 
-00015010: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
-00015020: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00015030: 662e 6572 726f 7220 3d20 7b0d 0a20 2020  f.error = {..   
-00015040: 2020 2020 2020 2020 2020 2020 2022 636f               "co
-00015050: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
-00015060: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
-00015070: 7573 223a 2046 616c 7365 2c0d 0a20 2020  us": False,..   
-00015080: 2020 2020 2020 2020 2020 2020 2022 6572               "er
-00015090: 726f 7222 3a20 2249 4e54 4552 4e41 4c5f  ror": "INTERNAL_
-000150a0: 5345 5256 4552 5f45 5252 4f52 222c 0d0a  SERVER_ERROR",..
-000150b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000150c0: 226d 6573 7361 6765 223a 2022 6765 6e65  "message": "gene
-000150d0: 7261 6c20 2875 6e6b 6e6f 776e 2920 6572  ral (unknown) er
-000150e0: 726f 7222 0d0a 2020 2020 2020 2020 2020  ror"..          
-000150f0: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
-00015100: 2073 656c 662e 6269 6e67 6461 7461 203d   self.bingdata =
-00015110: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
-00015120: 2020 2073 656c 662e 7265 7375 6c74 203d     self.result =
-00015130: 204e 6f6e 650d 0a20 2020 2020 2020 2070   None..        p
-00015140: 6173 730d 0a20 2020 2064 6566 2073 7472  ass..    def str
-00015150: 6561 6d28 7365 6c66 293a 0d0a 2020 2020  eam(self):..    
-00015160: 2020 2020 6966 2073 656c 662e 6269 6e67      if self.bing
-00015170: 6461 7461 2021 3d20 4e6f 6e65 3a0d 0a20  data != None:.. 
-00015180: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
-00015190: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000151a0: 2074 6d70 203d 204e 6f6e 650d 0a20 2020   tmp = None..   
-000151b0: 2020 2020 2020 2020 2020 2020 2065 7272               err
-000151c0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
-000151d0: 2020 2020 2020 2020 2066 6f72 2063 6875           for chu
-000151e0: 6e6b 2069 6e20 7365 6c66 2e62 696e 6764  nk in self.bingd
-000151f0: 6174 612e 6974 6572 5f63 6f6e 7465 6e74  ata.iter_content
-00015200: 2863 6875 6e6b 5f73 697a 653d 3130 3234  (chunk_size=1024
-00015210: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
-00015220: 2020 2020 2020 2020 6966 2065 7272 203d          if err =
-00015230: 3d20 4e6f 6e65 3a0d 0a20 2020 2020 2020  = None:..       
-00015240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015250: 2069 6620 6368 756e 6b3a 0d0a 2020 2020   if chunk:..    
-00015260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015270: 2020 2020 2020 2020 6368 6b20 3d20 6368          chk = ch
-00015280: 756e 6b2e 6465 636f 6465 2829 0d0a 2020  unk.decode()..  
-00015290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000152a0: 2020 2020 2020 2020 2020 6368 6b20 3d20            chk = 
-000152b0: 6368 6b2e 7370 6c69 7428 221e 2229 0d0a  chk.split(".")..
-000152c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000152d0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-000152e0: 7220 6461 7461 2069 6e20 6368 6b3a 0d0a  r data in chk:..
-000152f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015310: 7265 7375 6c74 203d 204e 6f6e 650d 0a0d  result = None...
-00015320: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015340: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+000146f0: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
+00014700: 3a20 4661 6c73 652c 0d0a 2020 2020 2020  : False,..      
+00014710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014720: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
+00014730: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
+00014740: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
+00014750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014760: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
+00014770: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
+00014780: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
+00014790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000147a0: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
+000147b0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+000147c0: 7375 6c74 203d 204e 6f6e 650d 0a0d 0a20  sult = None.... 
+000147d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000147e0: 2020 2069 6620 7265 7375 6c74 203d 3d20     if result == 
+000147f0: 4e6f 6e65 2061 6e64 2065 7272 2021 3d20  None and err != 
+00014800: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
+00014810: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00014820: 656c 662e 6572 726f 7220 3d20 6572 720d  elf.error = err.
+00014830: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014840: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
+00014850: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
+00014860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014870: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+00014880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014890: 7365 6c66 2e72 6573 756c 7420 3d20 7265  self.result = re
+000148a0: 7375 6c74 0d0a 2020 2020 2020 2020 2020  sult..          
+000148b0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000148c0: 6c66 2e65 7272 6f72 203d 204e 6f6e 650d  lf.error = None.
+000148d0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+000148e0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+000148f0: 2020 2020 6461 7461 5f65 7272 203d 207b      data_err = {
+00014900: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
+00014910: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
+00014920: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+00014930: 615f 6572 7220 3d20 6a73 6f6e 2e6c 6f61  a_err = json.loa
+00014940: 6473 2872 6573 706f 6e73 652e 7465 7874  ds(response.text
+00014950: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+00014960: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
+00014970: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
+00014980: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00014990: 6174 615f 6572 7220 3d20 7b0d 0a20 2020  ata_err = {..   
+000149a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000149b0: 2020 2020 2022 636f 6465 223a 2035 3030       "code": 500
+000149c0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000149d0: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
+000149e0: 7573 223a 2046 616c 7365 2c0d 0a20 2020  us": False,..   
+000149f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014a00: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
+00014a10: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
+00014a20: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
+00014a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014a40: 226d 6573 7361 6765 223a 2022 6765 6e65  "message": "gene
+00014a50: 7261 6c20 2875 6e6b 6e6f 776e 2920 6572  ral (unknown) er
+00014a60: 726f 7222 0d0a 2020 2020 2020 2020 2020  ror"..          
+00014a70: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
+00014a80: 2020 2020 2020 2020 2020 2020 200d 0a20               .. 
+00014a90: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00014aa0: 656c 662e 6572 726f 7220 3d20 6461 7461  elf.error = data
+00014ab0: 5f65 7272 0d0a 2020 2020 2020 2020 2020  _err..          
+00014ac0: 2020 2020 2020 7365 6c66 2e72 6573 756c        self.resul
+00014ad0: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
+00014ae0: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
+00014af0: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
+00014b00: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
+00014b10: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+00014b20: 2020 2020 2020 2263 6f64 6522 3a20 3530        "code": 50
+00014b30: 302c 0d0a 2020 2020 2020 2020 2020 2020  0,..            
+00014b40: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
+00014b50: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
+00014b60: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
+00014b70: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
+00014b80: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
+00014b90: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
+00014ba0: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
+00014bb0: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
+00014bc0: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
+00014bd0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
+00014be0: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
+00014bf0: 2020 2020 2020 7061 7373 0d0a 2020 2020        pass..    
+00014c00: 6465 6620 6572 726f 7228 7365 6c66 293a  def error(self):
+00014c10: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00014c20: 2073 656c 662e 6572 726f 720d 0a20 2020   self.error..   
+00014c30: 2064 6566 2072 6573 756c 7428 7365 6c66   def result(self
+00014c40: 293a 0d0a 2020 2020 2020 2020 7265 7475  ):..        retu
+00014c50: 726e 2073 656c 662e 7265 7375 6c74 0d0a  rn self.result..
+00014c60: 0d0a 636c 6173 7320 6269 6e67 2829 3a0d  ..class bing():.
+00014c70: 0a20 2020 2065 7272 6f72 203d 204e 6f6e  .    error = Non
+00014c80: 650d 0a20 2020 2072 6573 756c 7420 3d20  e..    result = 
+00014c90: 4e6f 6e65 0d0a 2020 2020 6465 6620 5f5f  None..    def __
+00014ca0: 696e 6974 5f5f 2873 656c 662c 206d 6573  init__(self, mes
+00014cb0: 7361 6765 733d 5b5d 2c20 636f 6e76 6572  sages=[], conver
+00014cc0: 7361 7469 6f6e 5f73 7479 6c65 3d22 222c  sation_style="",
+00014cd0: 206d 6172 6b64 6f77 6e3d 4661 6c73 652c   markdown=False,
+00014ce0: 2073 7472 6561 6d3d 4661 6c73 6529 202d   stream=False) -
+00014cf0: 3e20 4e6f 6e65 3a0d 0a20 2020 2020 2020  > None:..       
+00014d00: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+00014d10: 2020 2068 6561 6465 7273 203d 207b 0d0a     headers = {..
+00014d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014d30: 2243 6f6e 7465 6e74 2d54 7970 6522 3a20  "Content-Type": 
+00014d40: 2261 7070 6c69 6361 7469 6f6e 2f6a 736f  "application/jso
+00014d50: 6e22 0d0a 2020 2020 2020 2020 2020 2020  n"..            
+00014d60: 7d0d 0a0d 0a20 2020 2020 2020 2020 2020  }....           
+00014d70: 2064 6174 6120 3d20 6a73 6f6e 2e64 756d   data = json.dum
+00014d80: 7073 287b 7d29 0d0a 0d0a 2020 2020 2020  ps({})....      
+00014d90: 2020 2020 2020 7374 726d 203d 2046 616c        strm = Fal
+00014da0: 7365 0d0a 2020 2020 2020 2020 2020 2020  se..            
+00014db0: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
+00014dc0: 2020 2020 2020 6966 2073 7472 6561 6d20        if stream 
+00014dd0: 213d 204e 6f6e 6520 616e 6420 7374 7265  != None and stre
+00014de0: 616d 203d 3d20 5472 7565 3a0d 0a20 2020  am == True:..   
+00014df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014e00: 2073 7472 6d20 3d20 5472 7565 0d0a 2020   strm = True..  
+00014e10: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00014e20: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+00014e30: 2020 2020 2020 2020 2073 7472 6d20 3d20           strm = 
+00014e40: 4661 6c73 650d 0a20 2020 2020 2020 2020  False..         
+00014e50: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
+00014e60: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
+00014e70: 2020 2020 2020 2020 2020 2073 7472 6d20             strm 
+00014e80: 3d20 4661 6c73 650d 0a20 2020 2020 2020  = False..       
+00014e90: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
+00014ea0: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
+00014eb0: 2020 2020 2020 2020 2064 6174 6120 3d20           data = 
+00014ec0: 6a73 6f6e 2e64 756d 7073 287b 0d0a 2020  json.dumps({..  
+00014ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014ee0: 2020 226d 6573 7361 6765 7322 3a20 6d65    "messages": me
+00014ef0: 7373 6167 6573 2069 6620 6d65 7373 6167  ssages if messag
+00014f00: 6573 2069 7320 6e6f 7420 4e6f 6e65 2065  es is not None e
+00014f10: 6c73 6520 5b5d 2c0d 0a20 2020 2020 2020  lse [],..       
+00014f20: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+00014f30: 6e76 6572 7361 7469 6f6e 5f73 7479 6c65  nversation_style
+00014f40: 223a 2063 6f6e 7665 7273 6174 696f 6e5f  ": conversation_
+00014f50: 7374 796c 6520 6966 2063 6f6e 7665 7273  style if convers
+00014f60: 6174 696f 6e5f 7374 796c 6520 6973 206e  ation_style is n
+00014f70: 6f74 204e 6f6e 6520 656c 7365 2022 4261  ot None else "Ba
+00014f80: 6c61 6e63 6564 222c 0d0a 2020 2020 2020  lanced",..      
+00014f90: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00014fa0: 6172 6b64 6f77 6e22 3a20 6d61 726b 646f  arkdown": markdo
+00014fb0: 776e 2069 6620 6d61 726b 646f 776e 2069  wn if markdown i
+00014fc0: 7320 6e6f 7420 4e6f 6e65 2065 6c73 6520  s not None else 
+00014fd0: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
+00014fe0: 2020 2020 2020 2020 2020 2020 2273 7472              "str
+00014ff0: 6561 6d22 3a20 7374 726d 2069 6620 7374  eam": strm if st
+00015000: 726d 2069 7320 6e6f 7420 4e6f 6e65 2065  rm is not None e
+00015010: 6c73 6520 4661 6c73 652c 0d0a 2020 2020  lse False,..    
+00015020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015030: 226d 6f64 656c 223a 2022 4269 6e67 220d  "model": "Bing".
+00015040: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015050: 207d 290d 0a20 2020 2020 2020 2020 2020   })..           
+00015060: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+00015070: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
+00015080: 2020 2020 2020 2020 2064 6174 6120 3d20           data = 
+00015090: 6a73 6f6e 2e64 756d 7073 287b 0d0a 2020  json.dumps({..  
+000150a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000150b0: 2020 226d 6573 7361 6765 7322 3a20 5b5d    "messages": []
+000150c0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000150d0: 2020 2020 2020 2022 636f 6e76 6572 7361         "conversa
+000150e0: 7469 6f6e 5f73 7479 6c65 223a 2022 4261  tion_style": "Ba
+000150f0: 6c61 6e63 6564 222c 0d0a 2020 2020 2020  lanced",..      
+00015100: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00015110: 6f64 656c 223a 2022 4269 6e67 222c 0d0a  odel": "Bing",..
+00015120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015130: 2020 2020 226d 6172 6b64 6f77 6e22 3a20      "markdown": 
+00015140: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
+00015150: 2020 2020 2020 2020 2020 2020 2273 7472              "str
+00015160: 6561 6d22 3a20 4661 6c73 650d 0a20 2020  eam": False..   
+00015170: 2020 2020 2020 2020 2020 2020 207d 290d               }).
+00015180: 0a0d 0a20 2020 2020 2020 2020 2020 2072  ...            r
+00015190: 6573 706f 6e73 6520 3d20 7265 7175 6573  esponse = reques
+000151a0: 7473 2e70 6f73 7428 7572 6c3d 2268 7474  ts.post(url="htt
+000151b0: 7073 3a2f 2f6e 6578 7261 2e61 7279 6168  ps://nexra.aryah
+000151c0: 6372 2e63 632f 6170 692f 6368 6174 2f63  cr.cc/api/chat/c
+000151d0: 6f6d 706c 656d 656e 7473 222c 2068 6561  omplements", hea
+000151e0: 6465 7273 3d68 6561 6465 7273 2c20 6461  ders=headers, da
+000151f0: 7461 3d64 6174 612c 2073 7472 6561 6d3d  ta=data, stream=
+00015200: 7374 726d 290d 0a20 2020 2020 2020 2020  strm)..         
+00015210: 2020 2069 6620 7265 7370 6f6e 7365 2e73     if response.s
+00015220: 7461 7475 735f 636f 6465 203d 3d20 3230  tatus_code == 20
+00015230: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+00015240: 2020 2020 6966 2073 7472 6d20 213d 2054      if strm != T
+00015250: 7275 653a 0d0a 2020 2020 2020 2020 2020  rue:..          
+00015260: 2020 2020 2020 2020 2020 7365 6c66 2e62            self.b
+00015270: 696e 6764 6174 6120 3d20 4e6f 6e65 0d0a  ingdata = None..
+00015280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015290: 2020 2020 6572 7220 3d20 4e6f 6e65 0d0a      err = None..
+000152a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000152b0: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
+000152c0: 650d 0a0d 0a20 2020 2020 2020 2020 2020  e....           
+000152d0: 2020 2020 2020 2020 2063 6f75 6e74 203d           count =
+000152e0: 202d 310d 0a20 2020 2020 2020 2020 2020   -1..           
+000152f0: 2020 2020 2020 2020 2066 6f72 2069 2069           for i i
+00015300: 6e20 7261 6e67 6528 6c65 6e28 7265 7370  n range(len(resp
+00015310: 6f6e 7365 2e74 6578 7429 293a 0d0a 2020  onse.text)):..  
+00015320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015330: 2020 2020 2020 6966 2063 6f75 6e74 203c        if count <
+00015340: 3d20 2d31 3a0d 0a20 2020 2020 2020 2020  = -1:..         
 00015350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015360: 2020 2020 2020 2020 2020 2063 6f6e 7665             conve
-00015370: 7274 203d 206a 736f 6e2e 6c6f 6164 7328  rt = json.loads(
-00015380: 6461 7461 290d 0a20 2020 2020 2020 2020  data)..         
+00015360: 2020 2069 6620 7265 7370 6f6e 7365 2e74     if response.t
+00015370: 6578 745b 695d 203d 3d20 227b 223a 0d0a  ext[i] == "{":..
+00015380: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00015390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000153a0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-000153b0: 7420 3d20 6461 7461 0d0a 2020 2020 2020  t = data..      
-000153c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000153d0: 2020 2020 2020 2020 2020 2020 2020 746d                tm
-000153e0: 7020 3d20 4e6f 6e65 0d0a 2020 2020 2020  p = None..      
+000153a0: 636f 756e 7420 3d20 690d 0a20 2020 2020  count = i..     
+000153b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000153c0: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+000153d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000153e0: 2020 2020 2020 6272 6561 6b0d 0a20 2020        break..   
 000153f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015400: 2020 2020 2020 2020 2020 6578 6365 7074            except
-00015410: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
-00015420: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00015400: 200d 0a20 2020 2020 2020 2020 2020 2020   ..             
+00015410: 2020 2020 2020 2069 6620 636f 756e 7420         if count 
+00015420: 3c3d 202d 313a 0d0a 2020 2020 2020 2020  <= -1:..        
 00015430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015440: 2020 2020 2020 6966 2074 6d70 203d 3d20        if tmp == 
-00015450: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
-00015460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015470: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00015480: 6d70 203d 2064 6174 610d 0a20 2020 2020  mp = data..     
-00015490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000154a0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000154b0: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-000154c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000154d0: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-000154e0: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
-000154f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015510: 636f 6e76 6572 7420 3d20 6a73 6f6e 2e6c  convert = json.l
-00015520: 6f61 6473 2874 6d70 290d 0a20 2020 2020  oads(tmp)..     
-00015530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015440: 6572 7220 3d20 7b0d 0a20 2020 2020 2020  err = {..       
+00015450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015460: 2020 2020 2022 636f 6465 223a 2035 3030       "code": 500
+00015470: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00015480: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00015490: 7374 6174 7573 223a 2046 616c 7365 2c0d  status": False,.
+000154a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000154b0: 2020 2020 2020 2020 2020 2020 2022 6572               "er
+000154c0: 726f 7222 3a20 2249 4e54 4552 4e41 4c5f  ror": "INTERNAL_
+000154d0: 5345 5256 4552 5f45 5252 4f52 222c 0d0a  SERVER_ERROR",..
+000154e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000154f0: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
+00015500: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
+00015510: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
+00015520: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00015530: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
 00015540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015550: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-00015560: 746d 700d 0a20 2020 2020 2020 2020 2020  tmp..           
-00015570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015550: 2020 2020 2072 6573 756c 7420 3d20 4e6f       result = No
+00015560: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
+00015570: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
 00015580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015590: 2074 6d70 203d 204e 6f6e 650d 0a20 2020   tmp = None..   
+00015590: 2020 2020 2020 2074 7279 3a0d 0a20 2020         try:..   
 000155a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000155b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000155c0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
-000155d0: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
+000155b0: 2020 2020 2020 2020 206a 7320 3d20 7265           js = re
+000155c0: 7370 6f6e 7365 2e74 6578 745b 636f 756e  sponse.text[coun
+000155d0: 743a 5d0d 0a20 2020 2020 2020 2020 2020  t:]..           
 000155e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000155f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015600: 2020 2020 2020 2020 2074 6d70 203d 2074           tmp = t
-00015610: 6d70 202b 2064 6174 610d 0a20 2020 2020  mp + data..     
-00015620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015640: 2020 2020 2020 2074 7279 3a0d 0a20 2020         try:..   
-00015650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015670: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-00015680: 7665 7274 203d 206a 736f 6e2e 6c6f 6164  vert = json.load
-00015690: 7328 746d 7029 0d0a 2020 2020 2020 2020  s(tmp)..        
+000155f0: 206a 7320 3d20 6a73 6f6e 2e6c 6f61 6473   js = json.loads
+00015600: 286a 7329 0d0a 2020 2020 2020 2020 2020  (js)..          
+00015610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015620: 2020 6966 206a 7320 213d 204e 6f6e 6520    if js != None 
+00015630: 616e 6420 6a73 5b22 636f 6465 225d 2021  and js["code"] !
+00015640: 3d20 4e6f 6e65 2061 6e64 206a 735b 2263  = None and js["c
+00015650: 6f64 6522 5d20 3d3d 2032 3030 2061 6e64  ode"] == 200 and
+00015660: 206a 735b 2273 7461 7475 7322 5d20 213d   js["status"] !=
+00015670: 204e 6f6e 6520 616e 6420 6a73 5b22 7374   None and js["st
+00015680: 6174 7573 225d 203d 3d20 5472 7565 3a0d  atus"] == True:.
+00015690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 000156a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000156b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000156c0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-000156d0: 2074 6d70 0d0a 2020 2020 2020 2020 2020   tmp..          
-000156e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000156b0: 2072 6573 756c 7420 3d20 6a73 0d0a 2020   result = js..  
+000156c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000156d0: 2020 2020 2020 2020 2020 2020 2020 6572                er
+000156e0: 7220 3d20 4e6f 6e65 0d0a 2020 2020 2020  r = None..      
 000156f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015700: 2020 2020 2020 746d 7020 3d20 4e6f 6e65        tmp = None
-00015710: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00015720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015730: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-00015740: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
-00015750: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
-00015760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015780: 2020 2020 2020 746d 7020 3d20 746d 700d        tmp = tmp.
-00015790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015700: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
+00015710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015720: 2020 2020 2020 2020 2020 2020 2065 7272               err
+00015730: 203d 206a 730d 0a20 2020 2020 2020 2020   = js..         
+00015740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015750: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+00015760: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
+00015770: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+00015780: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+00015790: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
 000157a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000157b0: 200d 0a20 2020 2020 2020 2020 2020 2020   ..             
+000157b0: 2020 6572 7220 3d20 7b0d 0a20 2020 2020    err = {..     
 000157c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000157d0: 2020 2069 6620 7265 7375 6c74 2021 3d20     if result != 
-000157e0: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
+000157d0: 2020 2020 2020 2020 2020 2022 636f 6465             "code
+000157e0: 223a 2035 3030 2c0d 0a20 2020 2020 2020  ": 500,..       
 000157f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015800: 2020 2020 2020 2020 2020 2069 6620 2263             if "c
-00015810: 6f64 6522 206e 6f74 2069 6e20 7265 7375  ode" not in resu
-00015820: 6c74 2061 6e64 2022 7374 6174 7573 2220  lt and "status" 
-00015830: 6e6f 7420 696e 2072 6573 756c 743a 0d0a  not in result:..
-00015840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015860: 2020 2020 2020 2020 7969 656c 6420 6a73          yield js
-00015870: 6f6e 2e6c 6f61 6473 2872 6573 756c 7429  on.loads(result)
-00015880: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00015890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000158a0: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
+00015800: 2020 2020 2020 2020 2022 7374 6174 7573           "status
+00015810: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
+00015820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015830: 2020 2020 2020 2020 2020 2022 6572 726f             "erro
+00015840: 7222 3a20 2249 4e54 4552 4e41 4c5f 5345  r": "INTERNAL_SE
+00015850: 5256 4552 5f45 5252 4f52 222c 0d0a 2020  RVER_ERROR",..  
+00015860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015870: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00015880: 6573 7361 6765 223a 2022 6765 6e65 7261  essage": "genera
+00015890: 6c20 2875 6e6b 6e6f 776e 2920 6572 726f  l (unknown) erro
+000158a0: 7222 0d0a 2020 2020 2020 2020 2020 2020  r"..            
 000158b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000158c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000158d0: 2020 2020 2065 7272 203d 2072 6573 756c       err = resul
-000158e0: 740d 0a20 2020 2020 2020 2020 2020 2020  t..             
+000158c0: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
+000158d0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+000158e0: 6573 756c 7420 3d20 4e6f 6e65 0d0a 0d0a  esult = None....
 000158f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015900: 2020 2020 2020 2020 2020 2079 6965 6c64             yield
-00015910: 206a 736f 6e2e 6c6f 6164 7328 6572 7229   json.loads(err)
-00015920: 0d0a 2020 2020 2020 2020 2020 2020 6578  ..            ex
-00015930: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
-00015940: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
-00015950: 2020 2020 2020 7969 656c 6420 7b22 6d65        yield {"me
-00015960: 7373 6167 6522 3a4e 6f6e 652c 226f 7269  ssage":None,"ori
-00015970: 6769 6e61 6c22 3a4e 6f6e 652c 2266 696e  ginal":None,"fin
-00015980: 6973 6822 3a54 7275 652c 2265 7272 6f72  ish":True,"error
-00015990: 223a 5472 7565 7d0d 0a20 2020 2020 2020  ":True}..       
-000159a0: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
-000159b0: 2020 2020 7969 656c 6420 7b22 6d65 7373      yield {"mess
-000159c0: 6167 6522 3a4e 6f6e 652c 226f 7269 6769  age":None,"origi
-000159d0: 6e61 6c22 3a4e 6f6e 652c 2266 696e 6973  nal":None,"finis
-000159e0: 6822 3a54 7275 652c 2265 7272 6f72 223a  h":True,"error":
-000159f0: 5472 7565 7d0d 0a20 2020 2020 2020 2070  True}..        p
-00015a00: 6173 730d 0a20 2020 2064 6566 2065 7272  ass..    def err
-00015a10: 6f72 2873 656c 6629 3a0d 0a20 2020 2020  or(self):..     
-00015a20: 2020 2072 6574 7572 6e20 7365 6c66 2e65     return self.e
-00015a30: 7272 6f72 0d0a 2020 2020 6465 6620 7265  rror..    def re
-00015a40: 7375 6c74 2873 656c 6629 3a0d 0a20 2020  sult(self):..   
-00015a50: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00015a60: 2e72 6573 756c 740d 0a20 2020 200d 0a63  .result..    ..c
-00015a70: 6c61 7373 2072 656e 6465 7233 6428 293a  lass render3d():
-00015a80: 0d0a 2020 2020 6572 726f 7220 3d20 4e6f  ..    error = No
-00015a90: 6e65 0d0a 2020 2020 7265 7375 6c74 203d  ne..    result =
-00015aa0: 204e 6f6e 650d 0a20 2020 2064 6566 205f   None..    def _
-00015ab0: 5f69 6e69 745f 5f28 7365 6c66 2c20 7072  _init__(self, pr
-00015ac0: 6f6d 7074 3d22 222c 2064 6174 613d 7b0d  ompt="", data={.
-00015ad0: 0a20 2020 2020 2020 2022 7072 6f6d 7074  .        "prompt
-00015ae0: 5f6e 6567 6174 6976 6522 3a20 2222 0d0a  _negative": ""..
-00015af0: 2020 2020 7d29 202d 3e20 4e6f 6e65 3a0d      }) -> None:.
-00015b00: 0a20 2020 2020 2020 2074 7279 3a0d 0a20  .        try:.. 
-00015b10: 2020 2020 2020 2020 2020 2068 6561 6465             heade
-00015b20: 7273 203d 207b 0d0a 2020 2020 2020 2020  rs = {..        
-00015b30: 2020 2020 2020 2020 2243 6f6e 7465 6e74          "Content
-00015b40: 2d54 7970 6522 3a20 2261 7070 6c69 6361  -Type": "applica
-00015b50: 7469 6f6e 2f6a 736f 6e22 0d0a 2020 2020  tion/json"..    
-00015b60: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
-00015b70: 2020 2020 2020 2068 6561 6465 7273 2e75         headers.u
-00015b80: 7064 6174 6528 6372 6564 290d 0a0d 0a20  pdate(cred).... 
-00015b90: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
-00015ba0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015bb0: 2070 726f 6d70 7420 3d20 7072 6f6d 7074   prompt = prompt
-00015bc0: 2069 6620 7072 6f6d 7074 2069 7320 6e6f   if prompt is no
-00015bd0: 7420 4e6f 6e65 2065 6c73 6520 2222 0d0a  t None else ""..
-00015be0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00015bf0: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
-00015c00: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00015c10: 2020 2020 7072 6f6d 7074 203d 2022 220d      prompt = "".
-00015c20: 0a0d 0a20 2020 2020 2020 2020 2020 206d  ...            m
-00015c30: 6420 3d20 7b0d 0a20 2020 2020 2020 2020  d = {..         
-00015c40: 2020 2020 2020 2022 7072 6f6d 7074 5f6e         "prompt_n
-00015c50: 6567 6174 6976 6522 3a20 2222 0d0a 2020  egative": ""..  
-00015c60: 2020 2020 2020 2020 2020 7d0d 0a0d 0a20            }.... 
-00015c70: 2020 2020 2020 2020 2020 2074 7279 203a             try :
+00015900: 2020 2020 2020 2020 6966 2072 6573 756c          if resul
+00015910: 7420 3d3d 204e 6f6e 6520 616e 6420 6572  t == None and er
+00015920: 7220 213d 204e 6f6e 653a 0d0a 2020 2020  r != None:..    
+00015930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015940: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
+00015950: 6f72 203d 2065 7272 0d0a 2020 2020 2020  or = err..      
+00015960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015970: 2020 2020 2020 7365 6c66 2e72 6573 756c        self.resul
+00015980: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
+00015990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000159a0: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+000159b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000159c0: 2020 2020 2073 656c 662e 7265 7375 6c74       self.result
+000159d0: 203d 2072 6573 756c 740d 0a20 2020 2020   = result..     
+000159e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000159f0: 2020 2020 2020 2073 656c 662e 6572 726f         self.erro
+00015a00: 7220 3d20 4e6f 6e65 0d0a 2020 2020 2020  r = None..      
+00015a10: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+00015a20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015a30: 2020 2020 2073 656c 662e 6572 726f 7220       self.error 
+00015a40: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+00015a50: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00015a60: 2e72 6573 756c 7420 3d20 4e6f 6e65 0d0a  .result = None..
+00015a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015a80: 2020 2020 7365 6c66 2e62 696e 6764 6174      self.bingdat
+00015a90: 6120 3d20 7265 7370 6f6e 7365 0d0a 2020  a = response..  
+00015aa0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+00015ab0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015ac0: 2064 6174 615f 6572 7220 3d20 7b7d 0d0a   data_err = {}..
+00015ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015ae0: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
+00015af0: 2020 2020 2020 2020 2020 6461 7461 5f65            data_e
+00015b00: 7272 203d 206a 736f 6e2e 6c6f 6164 7328  rr = json.loads(
+00015b10: 7265 7370 6f6e 7365 2e74 6578 7429 0d0a  response.text)..
+00015b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015b30: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
+00015b40: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
+00015b50: 2020 2020 2020 2020 2020 2020 6461 7461              data
+00015b60: 5f65 7272 203d 207b 0d0a 2020 2020 2020  _err = {..      
+00015b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015b80: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
+00015b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015ba0: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
+00015bb0: 3a20 4661 6c73 652c 0d0a 2020 2020 2020  : False,..      
+00015bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015bd0: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
+00015be0: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
+00015bf0: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
+00015c00: 2020 2020 2020 2020 2020 2020 2022 6d65               "me
+00015c10: 7373 6167 6522 3a20 2267 656e 6572 616c  ssage": "general
+00015c20: 2028 756e 6b6e 6f77 6e29 2065 7272 6f72   (unknown) error
+00015c30: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
+00015c40: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
+00015c50: 2020 2020 2020 2020 2020 0d0a 2020 2020            ..    
+00015c60: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00015c70: 2e62 696e 6764 6174 6120 3d20 4e6f 6e65  .bingdata = None
 00015c80: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00015c90: 2020 6966 2064 6174 612e 6765 7428 2270    if data.get("p
-00015ca0: 726f 6d70 745f 6e65 6761 7469 7665 2229  rompt_negative")
-00015cb0: 2021 3d20 4e6f 6e65 3a0d 0a20 2020 2020   != None:..     
-00015cc0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00015cd0: 645b 2270 726f 6d70 745f 6e65 6761 7469  d["prompt_negati
-00015ce0: 7665 225d 203d 2064 6174 612e 6765 7428  ve"] = data.get(
-00015cf0: 2270 726f 6d70 745f 6e65 6761 7469 7665  "prompt_negative
-00015d00: 2229 0d0a 2020 2020 2020 2020 2020 2020  ")..            
-00015d10: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-00015d20: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00015d30: 645b 2270 726f 6d70 745f 6e65 6761 7469  d["prompt_negati
-00015d40: 7665 225d 203d 2022 220d 0a20 2020 2020  ve"] = ""..     
-00015d50: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-00015d60: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
-00015d70: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00015d80: 6420 3d20 7b0d 0a20 2020 2020 2020 2020  d = {..         
-00015d90: 2020 2020 2020 2020 2020 2022 7072 6f6d             "prom
-00015da0: 7074 5f6e 6567 6174 6976 6522 3a20 2222  pt_negative": ""
-00015db0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00015dc0: 2020 7d0d 0a0d 0a20 2020 2020 2020 2020    }....         
-00015dd0: 2020 2064 6174 6120 3d20 7b7d 0d0a 2020     data = {}..  
-00015de0: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
-00015df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015e00: 6461 7461 203d 206a 736f 6e2e 6475 6d70  data = json.dump
-00015e10: 7328 7b0d 0a20 2020 2020 2020 2020 2020  s({..           
-00015e20: 2020 2020 2020 2020 2022 7072 6f6d 7074           "prompt
-00015e30: 223a 2070 726f 6d70 742c 0d0a 2020 2020  ": prompt,..    
-00015e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015e50: 226d 6f64 656c 223a 2022 7265 6e64 6572  "model": "render
-00015e60: 3364 222c 0d0a 2020 2020 2020 2020 2020  3d",..          
-00015e70: 2020 2020 2020 2020 2020 2264 6174 6122            "data"
-00015e80: 3a20 6d64 0d0a 2020 2020 2020 2020 2020  : md..          
-00015e90: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
-00015ea0: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
-00015eb0: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
-00015ec0: 2020 2020 2020 2020 2020 2020 2020 6461                da
-00015ed0: 7461 203d 206a 736f 6e2e 6475 6d70 7328  ta = json.dumps(
-00015ee0: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
-00015ef0: 2020 2020 2020 2022 7072 6f6d 7074 223a         "prompt":
-00015f00: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
-00015f10: 2020 2020 2020 2020 2020 226d 6f64 656c            "model
-00015f20: 223a 2022 7265 6e64 6572 3364 222c 0d0a  ": "render3d",..
+00015c90: 2020 7365 6c66 2e65 7272 6f72 203d 2064    self.error = d
+00015ca0: 6174 615f 6572 720d 0a20 2020 2020 2020  ata_err..       
+00015cb0: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
+00015cc0: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
+00015cd0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+00015ce0: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
+00015cf0: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
+00015d00: 726f 7220 3d20 7b0d 0a20 2020 2020 2020  ror = {..       
+00015d10: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
+00015d20: 2035 3030 2c0d 0a20 2020 2020 2020 2020   500,..         
+00015d30: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
+00015d40: 2046 616c 7365 2c0d 0a20 2020 2020 2020   False,..       
+00015d50: 2020 2020 2020 2020 2022 6572 726f 7222           "error"
+00015d60: 3a20 2249 4e54 4552 4e41 4c5f 5345 5256  : "INTERNAL_SERV
+00015d70: 4552 5f45 5252 4f52 222c 0d0a 2020 2020  ER_ERROR",..    
+00015d80: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
+00015d90: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
+00015da0: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
+00015db0: 0d0a 2020 2020 2020 2020 2020 2020 7d0d  ..            }.
+00015dc0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00015dd0: 662e 6269 6e67 6461 7461 203d 204e 6f6e  f.bingdata = Non
+00015de0: 650d 0a20 2020 2020 2020 2020 2020 2073  e..            s
+00015df0: 656c 662e 7265 7375 6c74 203d 204e 6f6e  elf.result = Non
+00015e00: 650d 0a20 2020 2020 2020 2070 6173 730d  e..        pass.
+00015e10: 0a20 2020 2064 6566 2073 7472 6561 6d28  .    def stream(
+00015e20: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
+00015e30: 6966 2073 656c 662e 6269 6e67 6461 7461  if self.bingdata
+00015e40: 2021 3d20 4e6f 6e65 3a0d 0a20 2020 2020   != None:..     
+00015e50: 2020 2020 2020 2074 7279 3a0d 0a20 2020         try:..   
+00015e60: 2020 2020 2020 2020 2020 2020 2074 6d70               tmp
+00015e70: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+00015e80: 2020 2020 2020 2020 2065 7272 203d 204e           err = N
+00015e90: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
+00015ea0: 2020 2020 2066 6f72 2063 6875 6e6b 2069       for chunk i
+00015eb0: 6e20 7365 6c66 2e62 696e 6764 6174 612e  n self.bingdata.
+00015ec0: 6974 6572 5f63 6f6e 7465 6e74 2863 6875  iter_content(chu
+00015ed0: 6e6b 5f73 697a 653d 3130 3234 293a 0d0a  nk_size=1024):..
+00015ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015ef0: 2020 2020 6966 2065 7272 203d 3d20 4e6f      if err == No
+00015f00: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
+00015f10: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00015f20: 6368 756e 6b3a 0d0a 2020 2020 2020 2020  chunk:..        
 00015f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015f40: 2020 2020 2264 6174 6122 3a20 7b0d 0a20      "data": {.. 
-00015f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015f60: 2020 2020 2020 2022 7072 6f6d 7074 5f6e         "prompt_n
-00015f70: 6567 6174 6976 6522 3a20 2222 0d0a 2020  egative": ""..  
-00015f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015f90: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
-00015fa0: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
-00015fb0: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
-00015fc0: 2020 2072 6573 706f 6e73 6520 3d20 7265     response = re
-00015fd0: 7175 6573 7473 2e70 6f73 7428 7572 6c3d  quests.post(url=
-00015fe0: 2268 7474 7073 3a2f 2f6e 6578 7261 2e61  "https://nexra.a
-00015ff0: 7279 6168 6372 2e63 632f 6170 692f 696d  ryahcr.cc/api/im
-00016000: 6167 652f 636f 6d70 6c65 6d65 6e74 7322  age/complements"
-00016010: 2c20 6865 6164 6572 733d 6865 6164 6572  , headers=header
-00016020: 732c 2064 6174 613d 6461 7461 290d 0a20  s, data=data).. 
-00016030: 2020 2020 2020 2020 2020 2069 6620 7265             if re
-00016040: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00016050: 6465 203d 3d20 3230 303a 0d0a 2020 2020  de == 200:..    
-00016060: 2020 2020 2020 2020 2020 2020 6572 7220              err 
-00016070: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
-00016080: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-00016090: 204e 6f6e 650d 0a0d 0a20 2020 2020 2020   None....       
-000160a0: 2020 2020 2020 2020 2063 6f75 6e74 203d           count =
-000160b0: 202d 310d 0a20 2020 2020 2020 2020 2020   -1..           
-000160c0: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
-000160d0: 6e67 6528 6c65 6e28 7265 7370 6f6e 7365  nge(len(response
-000160e0: 2e74 6578 7429 293a 0d0a 2020 2020 2020  .text)):..      
-000160f0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00016100: 2063 6f75 6e74 203c 3d20 2d31 3a0d 0a20   count <= -1:.. 
-00016110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016120: 2020 2020 2020 2069 6620 7265 7370 6f6e         if respon
-00016130: 7365 2e74 6578 745b 695d 203d 3d20 227b  se.text[i] == "{
-00016140: 223a 0d0a 2020 2020 2020 2020 2020 2020  ":..            
-00016150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016160: 636f 756e 7420 3d20 690d 0a20 2020 2020  count = i..     
-00016170: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00016180: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-00016190: 2020 2020 2020 2020 2020 2020 2020 6272                br
-000161a0: 6561 6b0d 0a20 2020 2020 2020 2020 2020  eak..           
-000161b0: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
-000161c0: 2020 2020 2020 2069 6620 636f 756e 7420         if count 
-000161d0: 3c3d 202d 313a 0d0a 2020 2020 2020 2020  <= -1:..        
-000161e0: 2020 2020 2020 2020 2020 2020 6572 7220              err 
-000161f0: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-00016200: 2020 2020 2020 2020 2020 2020 2022 636f               "co
-00016210: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
-00016220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016230: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
-00016240: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
-00016250: 2020 2020 2020 2020 2020 2020 2022 6572               "er
-00016260: 726f 7222 3a20 2249 4e54 4552 4e41 4c5f  ror": "INTERNAL_
-00016270: 5345 5256 4552 5f45 5252 4f52 222c 0d0a  SERVER_ERROR",..
+00015f40: 2020 2020 6368 6b20 3d20 6368 756e 6b2e      chk = chunk.
+00015f50: 6465 636f 6465 2829 0d0a 2020 2020 2020  decode()..      
+00015f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015f70: 2020 2020 2020 6368 6b20 3d20 6368 6b2e        chk = chk.
+00015f80: 7370 6c69 7428 221e 2229 0d0a 0d0a 2020  split(".")....  
+00015f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015fa0: 2020 2020 2020 2020 2020 666f 7220 6461            for da
+00015fb0: 7461 2069 6e20 6368 6b3a 0d0a 2020 2020  ta in chk:..    
+00015fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015fd0: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+00015fe0: 6c74 203d 204e 6f6e 650d 0a0d 0a20 2020  lt = None....   
+00015ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016000: 2020 2020 2020 2020 2020 2020 2074 7279               try
+00016010: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00016020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016030: 2020 2020 2020 2063 6f6e 7665 7274 203d         convert =
+00016040: 206a 736f 6e2e 6c6f 6164 7328 6461 7461   json.loads(data
+00016050: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+00016060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016070: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+00016080: 6461 7461 0d0a 2020 2020 2020 2020 2020  data..          
+00016090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000160a0: 2020 2020 2020 2020 2020 746d 7020 3d20            tmp = 
+000160b0: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
+000160c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000160d0: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+000160e0: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
+000160f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016110: 2020 6966 2074 6d70 203d 3d20 4e6f 6e65    if tmp == None
+00016120: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00016130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016140: 2020 2020 2020 2020 2020 2074 6d70 203d             tmp =
+00016150: 2064 6174 610d 0a20 2020 2020 2020 2020   data..         
+00016160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016170: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00016180: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00016190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000161a0: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
+000161b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000161c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000161d0: 2020 2020 2020 2020 2020 2020 636f 6e76              conv
+000161e0: 6572 7420 3d20 6a73 6f6e 2e6c 6f61 6473  ert = json.loads
+000161f0: 2874 6d70 290d 0a20 2020 2020 2020 2020  (tmp)..         
+00016200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016220: 2020 2072 6573 756c 7420 3d20 746d 700d     result = tmp.
+00016230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016250: 2020 2020 2020 2020 2020 2020 2074 6d70               tmp
+00016260: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+00016270: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00016280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016290: 2020 2020 2020 2020 226d 6573 7361 6765          "message
-000162a0: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
-000162b0: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
+00016290: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+000162a0: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
+000162b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000162c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000162d0: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
-000162e0: 2020 2020 2020 2020 2072 6573 756c 7420           result 
-000162f0: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
-00016300: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
-00016310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016320: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
+000162d0: 2020 2020 2074 6d70 203d 2074 6d70 202b       tmp = tmp +
+000162e0: 2064 6174 610d 0a20 2020 2020 2020 2020   data..         
+000162f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016310: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
+00016320: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00016330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016340: 206a 7320 3d20 7265 7370 6f6e 7365 2e74   js = response.t
-00016350: 6578 745b 636f 756e 743a 5d0d 0a20 2020  ext[count:]..   
-00016360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016370: 2020 2020 206a 7320 3d20 6a73 6f6e 2e6c       js = json.l
-00016380: 6f61 6473 286a 7329 0d0a 2020 2020 2020  oads(js)..      
-00016390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000163a0: 2020 6966 206a 7320 213d 204e 6f6e 6520    if js != None 
-000163b0: 616e 6420 6a73 5b22 636f 6465 225d 2021  and js["code"] !
-000163c0: 3d20 4e6f 6e65 2061 6e64 206a 735b 2263  = None and js["c
-000163d0: 6f64 6522 5d20 3d3d 2032 3030 2061 6e64  ode"] == 200 and
-000163e0: 206a 735b 2273 7461 7475 7322 5d20 213d   js["status"] !=
-000163f0: 204e 6f6e 6520 616e 6420 6a73 5b22 7374   None and js["st
-00016400: 6174 7573 225d 203d 3d20 5472 7565 3a0d  atus"] == True:.
-00016410: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016420: 2020 2020 2020 2020 2020 2020 2072 6573               res
-00016430: 756c 7420 3d20 6a73 0d0a 2020 2020 2020  ult = js..      
+00016340: 2020 2020 2020 2020 2063 6f6e 7665 7274           convert
+00016350: 203d 206a 736f 6e2e 6c6f 6164 7328 746d   = json.loads(tm
+00016360: 7029 0d0a 2020 2020 2020 2020 2020 2020  p)..            
+00016370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016390: 2020 2020 7265 7375 6c74 203d 2074 6d70      result = tmp
+000163a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000163b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000163c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000163d0: 2020 746d 7020 3d20 4e6f 6e65 0d0a 2020    tmp = None..  
+000163e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000163f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016400: 2020 2020 2020 2020 2020 6578 6365 7074            except
+00016410: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
+00016420: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00016430: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00016440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016450: 2020 2020 2020 6572 7220 3d20 4e6f 6e65        err = None
-00016460: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00016470: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-00016480: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016490: 2020 2020 2020 2020 2020 2020 2065 7272               err
-000164a0: 203d 206a 730d 0a20 2020 2020 2020 2020   = js..         
-000164b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000164c0: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
-000164d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000164e0: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
-000164f0: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
-00016500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016510: 2020 2020 2020 6572 7220 3d20 7b0d 0a20        err = {.. 
+00016450: 2020 746d 7020 3d20 746d 700d 0a20 2020    tmp = tmp..   
+00016460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016470: 2020 2020 2020 2020 2020 2020 200d 0a20               .. 
+00016480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016490: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000164a0: 6620 7265 7375 6c74 2021 3d20 4e6f 6e65  f result != None
+000164b0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+000164c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000164d0: 2020 2020 2020 2069 6620 2263 6f64 6522         if "code"
+000164e0: 206e 6f74 2069 6e20 7265 7375 6c74 2061   not in result a
+000164f0: 6e64 2022 7374 6174 7573 2220 6e6f 7420  nd "status" not 
+00016500: 696e 2072 6573 756c 743a 0d0a 2020 2020  in result:..    
+00016510: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00016520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016530: 2020 2020 2020 2020 2020 2022 636f 6465             "code
-00016540: 223a 2035 3030 2c0d 0a20 2020 2020 2020  ": 500,..       
+00016530: 2020 2020 7969 656c 6420 6a73 6f6e 2e6c      yield json.l
+00016540: 6f61 6473 2872 6573 756c 7429 0d0a 2020  oads(result)..  
 00016550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016560: 2020 2020 2022 7374 6174 7573 223a 2046       "status": F
-00016570: 616c 7365 2c0d 0a20 2020 2020 2020 2020  alse,..         
+00016560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016570: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
 00016580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016590: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
-000165a0: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
-000165b0: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
+00016590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000165a0: 2065 7272 203d 2072 6573 756c 740d 0a20   err = result.. 
+000165b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000165c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000165d0: 2020 226d 6573 7361 6765 223a 2022 6765    "message": "ge
-000165e0: 6e65 7261 6c20 2875 6e6b 6e6f 776e 2920  neral (unknown) 
-000165f0: 6572 726f 7222 0d0a 2020 2020 2020 2020  error"..        
-00016600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016610: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
-00016620: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-00016630: 7420 3d20 4e6f 6e65 0d0a 0d0a 2020 2020  t = None....    
-00016640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016650: 6966 2072 6573 756c 7420 3d3d 204e 6f6e  if result == Non
-00016660: 6520 616e 6420 6572 7220 213d 204e 6f6e  e and err != Non
+000165d0: 2020 2020 2020 2079 6965 6c64 206a 736f         yield jso
+000165e0: 6e2e 6c6f 6164 7328 6572 7229 0d0a 2020  n.loads(err)..  
+000165f0: 2020 2020 2020 2020 2020 6578 6365 7074            except
+00016600: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
+00016610: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00016620: 2020 7969 656c 6420 7b22 6d65 7373 6167    yield {"messag
+00016630: 6522 3a4e 6f6e 652c 226f 7269 6769 6e61  e":None,"origina
+00016640: 6c22 3a4e 6f6e 652c 2266 696e 6973 6822  l":None,"finish"
+00016650: 3a54 7275 652c 2265 7272 6f72 223a 5472  :True,"error":Tr
+00016660: 7565 7d0d 0a20 2020 2020 2020 2065 6c73  ue}..        els
 00016670: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00016680: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00016690: 2e65 7272 6f72 203d 2065 7272 0d0a 2020  .error = err..  
-000166a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000166b0: 2020 2020 2020 7365 6c66 2e72 6573 756c        self.resul
-000166c0: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
-000166d0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-000166e0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-000166f0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00016700: 662e 7265 7375 6c74 203d 2072 6573 756c  f.result = resul
-00016710: 740d 0a20 2020 2020 2020 2020 2020 2020  t..             
-00016720: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00016730: 6572 726f 7220 3d20 4e6f 6e65 0d0a 2020  error = None..  
-00016740: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-00016750: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016760: 2064 6174 615f 6572 7220 3d20 7b7d 0d0a   data_err = {}..
-00016770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016780: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
-00016790: 2020 2020 2020 2020 2020 6461 7461 5f65            data_e
-000167a0: 7272 203d 206a 736f 6e2e 6c6f 6164 7328  rr = json.loads(
-000167b0: 7265 7370 6f6e 7365 2e74 6578 7429 0d0a  response.text)..
-000167c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000167d0: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
-000167e0: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
-000167f0: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00016800: 5f65 7272 203d 207b 0d0a 2020 2020 2020  _err = {..      
-00016810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016820: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
-00016830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016840: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
-00016850: 3a20 4661 6c73 652c 0d0a 2020 2020 2020  : False,..      
-00016860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016870: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
-00016880: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
-00016890: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
-000168a0: 2020 2020 2020 2020 2020 2020 2022 6d65               "me
-000168b0: 7373 6167 6522 3a20 2267 656e 6572 616c  ssage": "general
-000168c0: 2028 756e 6b6e 6f77 6e29 2065 7272 6f72   (unknown) error
-000168d0: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
-000168e0: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
-000168f0: 2020 2020 2020 2020 2020 0d0a 2020 2020            ..    
-00016900: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00016910: 2e65 7272 6f72 203d 2064 6174 615f 6572  .error = data_er
-00016920: 720d 0a20 2020 2020 2020 2020 2020 2020  r..             
-00016930: 2020 2073 656c 662e 7265 7375 6c74 203d     self.result =
-00016940: 204e 6f6e 650d 0a20 2020 2020 2020 2065   None..        e
-00016950: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
-00016960: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
-00016970: 2020 2073 656c 662e 6572 726f 7220 3d20     self.error = 
-00016980: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
-00016990: 2020 2022 636f 6465 223a 2035 3030 2c0d     "code": 500,.
-000169a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000169b0: 2022 7374 6174 7573 223a 2046 616c 7365   "status": False
-000169c0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000169d0: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
-000169e0: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
-000169f0: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
-00016a00: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
-00016a10: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
-00016a20: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
-00016a30: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
-00016a40: 2020 2020 2020 2073 656c 662e 7265 7375         self.resu
-00016a50: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
-00016a60: 2020 2070 6173 730d 0a20 2020 2064 6566     pass..    def
-00016a70: 2065 7272 6f72 2873 656c 6629 3a0d 0a20   error(self):.. 
-00016a80: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00016a90: 6c66 2e65 7272 6f72 0d0a 2020 2020 6465  lf.error..    de
-00016aa0: 6620 7265 7375 6c74 2873 656c 6629 3a0d  f result(self):.
-00016ab0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00016ac0: 7365 6c66 2e72 6573 756c 740d 0a0d 0a63  self.result....c
-00016ad0: 6c61 7373 2061 6e69 6d61 6769 6e65 2829  lass animagine()
-00016ae0: 3a0d 0a20 2020 2065 7272 6f72 203d 204e  :..    error = N
-00016af0: 6f6e 650d 0a20 2020 2072 6573 756c 7420  one..    result 
-00016b00: 3d20 4e6f 6e65 0d0a 2020 2020 6465 6620  = None..    def 
-00016b10: 5f5f 696e 6974 5f5f 2873 656c 662c 2070  __init__(self, p
-00016b20: 726f 6d70 743d 2222 2c20 6461 7461 3d7b  rompt="", data={
-00016b30: 0d0a 2020 2020 2020 2020 2270 726f 6d70  ..        "promp
-00016b40: 745f 6e65 6761 7469 7665 223a 2022 222c  t_negative": "",
-00016b50: 0d0a 2020 2020 2020 2020 2277 6964 7468  ..        "width
-00016b60: 223a 2022 222c 0d0a 2020 2020 2020 2020  ": "",..        
-00016b70: 2268 6569 6768 7422 3a20 2222 2c0d 0a20  "height": "",.. 
-00016b80: 2020 2020 2020 2022 6775 6964 616e 6365         "guidance
-00016b90: 5f73 6361 6c65 223a 2022 222c 0d0a 2020  _scale": "",..  
-00016ba0: 2020 2020 2020 2271 7561 6c69 7479 5f74        "quality_t
-00016bb0: 6167 7322 3a20 2222 2c0d 0a20 2020 2020  ags": "",..     
-00016bc0: 2020 2022 7374 796c 655f 7072 6573 656e     "style_presen
-00016bd0: 7422 3a20 2222 2c0d 0a20 2020 2020 2020  t": "",..       
-00016be0: 2022 7374 7265 6e67 7468 223a 2022 222c   "strength": "",
-00016bf0: 0d0a 2020 2020 2020 2020 2275 7073 6361  ..        "upsca
-00016c00: 6c65 223a 2022 222c 0d0a 2020 2020 2020  le": "",..      
-00016c10: 2020 2273 616d 706c 6572 223a 2022 222c    "sampler": "",
-00016c20: 0d0a 2020 2020 2020 2020 2269 6e66 6572  ..        "infer
-00016c30: 656e 6365 5f73 7465 7073 223a 2022 222c  ence_steps": "",
-00016c40: 0d0a 2020 2020 7d29 202d 3e20 4e6f 6e65  ..    }) -> None
-00016c50: 3a0d 0a20 2020 2020 2020 2074 7279 3a0d  :..        try:.
-00016c60: 0a20 2020 2020 2020 2020 2020 2068 6561  .            hea
-00016c70: 6465 7273 203d 207b 0d0a 2020 2020 2020  ders = {..      
-00016c80: 2020 2020 2020 2020 2020 2243 6f6e 7465            "Conte
-00016c90: 6e74 2d54 7970 6522 3a20 2261 7070 6c69  nt-Type": "appli
-00016ca0: 6361 7469 6f6e 2f6a 736f 6e22 0d0a 2020  cation/json"..  
-00016cb0: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
-00016cc0: 2020 2020 2020 2020 2068 6561 6465 7273           headers
-00016cd0: 2e75 7064 6174 6528 6372 6564 290d 0a0d  .update(cred)...
-00016ce0: 0a20 2020 2020 2020 2020 2020 2074 7279  .            try
-00016cf0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00016d00: 2020 2070 726f 6d70 7420 3d20 7072 6f6d     prompt = prom
-00016d10: 7074 2069 6620 7072 6f6d 7074 2069 7320  pt if prompt is 
-00016d20: 6e6f 7420 4e6f 6e65 2065 6c73 6520 2222  not None else ""
-00016d30: 0d0a 2020 2020 2020 2020 2020 2020 6578  ..            ex
-00016d40: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
-00016d50: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
-00016d60: 2020 2020 2020 7072 6f6d 7074 203d 2022        prompt = "
-00016d70: 220d 0a0d 0a20 2020 2020 2020 2020 2020  "....           
-00016d80: 206d 6420 3d20 7b0d 0a20 2020 2020 2020   md = {..       
-00016d90: 2020 2020 2020 2020 2022 7072 6f6d 7074           "prompt
-00016da0: 5f6e 6567 6174 6976 6522 3a20 2222 2c0d  _negative": "",.
-00016db0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016dc0: 2022 7769 6474 6822 3a20 3130 3234 2c0d   "width": 1024,.
-00016dd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016de0: 2022 6865 6967 6874 223a 2031 3032 342c   "height": 1024,
-00016df0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00016e00: 2020 2267 7569 6461 6e63 655f 7363 616c    "guidance_scal
-00016e10: 6522 3a20 372c 0d0a 2020 2020 2020 2020  e": 7,..        
-00016e20: 2020 2020 2020 2020 2271 7561 6c69 7479          "quality
-00016e30: 5f74 6167 7322 3a20 2253 7461 6e64 6172  _tags": "Standar
-00016e40: 6422 2c0d 0a20 2020 2020 2020 2020 2020  d",..           
-00016e50: 2020 2020 2022 7374 796c 655f 7072 6573       "style_pres
-00016e60: 656e 7422 3a20 2228 4e6f 6e65 2922 2c0d  ent": "(None)",.
-00016e70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016e80: 2022 7374 7265 6e67 7468 223a 2030 2e35   "strength": 0.5
-00016e90: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00016ea0: 2020 2022 7570 7363 616c 6522 3a20 312e     "upscale": 1.
-00016eb0: 352c 0d0a 2020 2020 2020 2020 2020 2020  5,..            
-00016ec0: 2020 2020 2273 616d 706c 6572 223a 2022      "sampler": "
-00016ed0: 4575 6c65 7220 6122 2c0d 0a20 2020 2020  Euler a",..     
-00016ee0: 2020 2020 2020 2020 2020 2022 696e 6665             "infe
-00016ef0: 7265 6e63 655f 7374 6570 7322 3a20 3238  rence_steps": 28
-00016f00: 2c0d 0a20 2020 2020 2020 2020 2020 207d  ,..            }
-00016f10: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
-00016f20: 7472 7920 3a0d 0a20 2020 2020 2020 2020  try :..         
-00016f30: 2020 2020 2020 2069 6620 6461 7461 2e67         if data.g
-00016f40: 6574 2822 7072 6f6d 7074 5f6e 6567 6174  et("prompt_negat
-00016f50: 6976 6522 2920 213d 204e 6f6e 653a 0d0a  ive") != None:..
-00016f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016f70: 2020 2020 6d64 5b22 7072 6f6d 7074 5f6e      md["prompt_n
-00016f80: 6567 6174 6976 6522 5d20 3d20 6461 7461  egative"] = data
-00016f90: 2e67 6574 2822 7072 6f6d 7074 5f6e 6567  .get("prompt_neg
-00016fa0: 6174 6976 6522 290d 0a20 2020 2020 2020  ative")..       
-00016fb0: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+00016680: 7969 656c 6420 7b22 6d65 7373 6167 6522  yield {"message"
+00016690: 3a4e 6f6e 652c 226f 7269 6769 6e61 6c22  :None,"original"
+000166a0: 3a4e 6f6e 652c 2266 696e 6973 6822 3a54  :None,"finish":T
+000166b0: 7275 652c 2265 7272 6f72 223a 5472 7565  rue,"error":True
+000166c0: 7d0d 0a20 2020 2020 2020 2070 6173 730d  }..        pass.
+000166d0: 0a20 2020 2064 6566 2065 7272 6f72 2873  .    def error(s
+000166e0: 656c 6629 3a0d 0a20 2020 2020 2020 2072  elf):..        r
+000166f0: 6574 7572 6e20 7365 6c66 2e65 7272 6f72  eturn self.error
+00016700: 0d0a 2020 2020 6465 6620 7265 7375 6c74  ..    def result
+00016710: 2873 656c 6629 3a0d 0a20 2020 2020 2020  (self):..       
+00016720: 2072 6574 7572 6e20 7365 6c66 2e72 6573   return self.res
+00016730: 756c 740d 0a0d 0a63 6c61 7373 206c 6c61  ult....class lla
+00016740: 6d61 3228 293a 0d0a 2020 2020 6572 726f  ma2():..    erro
+00016750: 7220 3d20 4e6f 6e65 0d0a 2020 2020 7265  r = None..    re
+00016760: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
+00016770: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
+00016780: 6c66 2c20 6d65 7373 6167 6573 3d5b 5d2c  lf, messages=[],
+00016790: 2064 6174 613d 7b0d 0a20 2020 2020 2020   data={..       
+000167a0: 2022 7379 7374 656d 5f6d 6573 7361 6765   "system_message
+000167b0: 223a 2022 222c 0d0a 2020 2020 2020 2020  ": "",..        
+000167c0: 2274 656d 7065 7261 7475 7265 223a 2022  "temperature": "
+000167d0: 222c 0d0a 2020 2020 2020 2020 226d 6178  ",..        "max
+000167e0: 5f74 6f6b 656e 7322 3a20 2222 2c0d 0a20  _tokens": "",.. 
+000167f0: 2020 2020 2020 2022 746f 705f 7022 3a20         "top_p": 
+00016800: 2222 2c0d 0a20 2020 2020 2020 2022 7265  "",..        "re
+00016810: 7065 7469 7469 6f6e 5f70 656e 616c 7479  petition_penalty
+00016820: 223a 2022 222c 0d0a 2020 2020 7d2c 206d  ": "",..    }, m
+00016830: 6172 6b64 6f77 6e3d 4661 6c73 652c 2073  arkdown=False, s
+00016840: 7472 6561 6d3d 4661 6c73 6529 202d 3e20  tream=False) -> 
+00016850: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2074  None:..        t
+00016860: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
+00016870: 2068 6561 6465 7273 203d 207b 0d0a 2020   headers = {..  
+00016880: 2020 2020 2020 2020 2020 2020 2020 2243                "C
+00016890: 6f6e 7465 6e74 2d54 7970 6522 3a20 2261  ontent-Type": "a
+000168a0: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e22  pplication/json"
+000168b0: 0d0a 2020 2020 2020 2020 2020 2020 7d0d  ..            }.
+000168c0: 0a0d 0a20 2020 2020 2020 2020 2020 2064  ...            d
+000168d0: 6174 6120 3d20 6a73 6f6e 2e64 756d 7073  ata = json.dumps
+000168e0: 287b 7d29 0d0a 0d0a 2020 2020 2020 2020  ({})....        
+000168f0: 2020 2020 7374 726d 203d 2046 616c 7365      strm = False
+00016900: 0d0a 2020 2020 2020 2020 2020 2020 7472  ..            tr
+00016910: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
+00016920: 2020 2020 6966 2073 7472 6561 6d20 213d      if stream !=
+00016930: 204e 6f6e 6520 616e 6420 7374 7265 616d   None and stream
+00016940: 203d 3d20 5472 7565 3a0d 0a20 2020 2020   == True:..     
+00016950: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00016960: 7472 6d20 3d20 5472 7565 0d0a 2020 2020  trm = True..    
+00016970: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00016980: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00016990: 2020 2020 2020 2073 7472 6d20 3d20 4661         strm = Fa
+000169a0: 6c73 650d 0a20 2020 2020 2020 2020 2020  lse..           
+000169b0: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+000169c0: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
+000169d0: 2020 2020 2020 2020 2073 7472 6d20 3d20           strm = 
+000169e0: 4661 6c73 650d 0a0d 0a20 2020 2020 2020  False....       
+000169f0: 2020 2020 206d 6420 3d20 7b0d 0a20 2020       md = {..   
+00016a00: 2020 2020 2020 2020 2020 2020 2022 7379               "sy
+00016a10: 7374 656d 5f6d 6573 7361 6765 223a 2022  stem_message": "
+00016a20: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+00016a30: 2020 2020 2274 656d 7065 7261 7475 7265      "temperature
+00016a40: 223a 2030 2e39 2c0d 0a20 2020 2020 2020  ": 0.9,..       
+00016a50: 2020 2020 2020 2020 2022 6d61 785f 746f           "max_to
+00016a60: 6b65 6e73 223a 2034 3039 362c 0d0a 2020  kens": 4096,..  
+00016a70: 2020 2020 2020 2020 2020 2020 2020 2274                "t
+00016a80: 6f70 5f70 223a 2030 2e36 2c0d 0a20 2020  op_p": 0.6,..   
+00016a90: 2020 2020 2020 2020 2020 2020 2022 7265               "re
+00016aa0: 7065 7469 7469 6f6e 5f70 656e 616c 7479  petition_penalty
+00016ab0: 223a 2031 2e32 2c0d 0a20 2020 2020 2020  ": 1.2,..       
+00016ac0: 2020 2020 207d 0d0a 0d0a 2020 2020 2020       }....      
+00016ad0: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
+00016ae0: 2020 2020 2020 2020 2020 2020 7072 6f6d              prom
+00016af0: 7074 203d 2070 726f 6d70 7420 6966 2070  pt = prompt if p
+00016b00: 726f 6d70 7420 6973 206e 6f74 204e 6f6e  rompt is not Non
+00016b10: 6520 656c 7365 2022 220d 0a20 2020 2020  e else ""..     
+00016b20: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
+00016b30: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
+00016b40: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00016b50: 726f 6d70 7420 3d20 2222 0d0a 0d0a 2020  rompt = ""....  
+00016b60: 2020 2020 2020 2020 2020 7472 7920 3a0d            try :.
+00016b70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016b80: 2069 6620 6461 7461 2e67 6574 2822 7379   if data.get("sy
+00016b90: 7374 656d 5f6d 6573 7361 6765 2229 2021  stem_message") !
+00016ba0: 3d20 4e6f 6e65 3a0d 0a20 2020 2020 2020  = None:..       
+00016bb0: 2020 2020 2020 2020 2020 2020 206d 645b               md[
+00016bc0: 2273 7973 7465 6d5f 6d65 7373 6167 6522  "system_message"
+00016bd0: 5d20 3d20 6461 7461 2e67 6574 2822 7379  ] = data.get("sy
+00016be0: 7374 656d 5f6d 6573 7361 6765 2229 0d0a  stem_message")..
+00016bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016c00: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+00016c10: 2020 2020 2020 2020 2020 206d 645b 2273             md["s
+00016c20: 7973 7465 6d5f 6d65 7373 6167 6522 5d20  ystem_message"] 
+00016c30: 3d20 2222 0d0a 0d0a 2020 2020 2020 2020  = ""....        
+00016c40: 2020 2020 2020 2020 6966 2064 6174 612e          if data.
+00016c50: 6765 7428 2274 656d 7065 7261 7475 7265  get("temperature
+00016c60: 2229 2021 3d20 4e6f 6e65 3a0d 0a20 2020  ") != None:..   
+00016c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016c80: 206d 645b 2274 656d 7065 7261 7475 7265   md["temperature
+00016c90: 225d 203d 2064 6174 612e 6765 7428 2274  "] = data.get("t
+00016ca0: 656d 7065 7261 7475 7265 2229 0d0a 2020  emperature")..  
+00016cb0: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00016cc0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+00016cd0: 2020 2020 2020 2020 206d 645b 2274 656d           md["tem
+00016ce0: 7065 7261 7475 7265 225d 203d 2030 2e39  perature"] = 0.9
+00016cf0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00016d00: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
+00016d10: 2020 2020 6966 2064 6174 612e 6765 7428      if data.get(
+00016d20: 226d 6178 5f74 6f6b 656e 7322 2920 213d  "max_tokens") !=
+00016d30: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+00016d40: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
+00016d50: 6d61 785f 746f 6b65 6e73 225d 203d 2064  max_tokens"] = d
+00016d60: 6174 612e 6765 7428 226d 6178 5f74 6f6b  ata.get("max_tok
+00016d70: 656e 7322 290d 0a20 2020 2020 2020 2020  ens")..         
+00016d80: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+00016d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016da0: 2020 6d64 5b22 6d61 785f 746f 6b65 6e73    md["max_tokens
+00016db0: 225d 203d 2034 3039 360d 0a20 2020 2020  "] = 4096..     
+00016dc0: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
+00016dd0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00016de0: 6461 7461 2e67 6574 2822 746f 705f 7022  data.get("top_p"
+00016df0: 2920 213d 204e 6f6e 653a 0d0a 2020 2020  ) != None:..    
+00016e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016e10: 6d64 5b22 746f 705f 7022 5d20 3d20 6461  md["top_p"] = da
+00016e20: 7461 2e67 6574 2822 746f 705f 7022 290d  ta.get("top_p").
+00016e30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016e40: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+00016e50: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
+00016e60: 746f 705f 7022 5d20 3d20 302e 360d 0a20  top_p"] = 0.6.. 
+00016e70: 2020 2020 2020 2020 2020 2020 2020 200d                 .
+00016e80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016e90: 2069 6620 6461 7461 2e67 6574 2822 7265   if data.get("re
+00016ea0: 7065 7469 7469 6f6e 5f70 656e 616c 7479  petition_penalty
+00016eb0: 2229 2021 3d20 4e6f 6e65 3a0d 0a20 2020  ") != None:..   
+00016ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016ed0: 206d 645b 2272 6570 6574 6974 696f 6e5f   md["repetition_
+00016ee0: 7065 6e61 6c74 7922 5d20 3d20 6461 7461  penalty"] = data
+00016ef0: 2e67 6574 2822 7265 7065 7469 7469 6f6e  .get("repetition
+00016f00: 5f70 656e 616c 7479 2229 0d0a 2020 2020  _penalty")..    
+00016f10: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00016f20: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00016f30: 2020 2020 2020 206d 645b 2272 6570 6574         md["repet
+00016f40: 6974 696f 6e5f 7065 6e61 6c74 7922 5d20  ition_penalty"] 
+00016f50: 3d20 312e 320d 0a20 2020 2020 2020 2020  = 1.2..         
+00016f60: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
+00016f70: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
+00016f80: 2020 2020 2020 2020 2020 206d 6420 3d20             md = 
+00016f90: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00016fa0: 2020 2020 2020 2022 7379 7374 656d 5f6d         "system_m
+00016fb0: 6573 7361 6765 223a 2022 222c 0d0a 2020  essage": "",..  
 00016fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016fd0: 2020 2020 6d64 5b22 7072 6f6d 7074 5f6e      md["prompt_n
-00016fe0: 6567 6174 6976 6522 5d20 3d20 2222 0d0a  egative"] = ""..
-00016ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017000: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00017010: 2020 6966 2064 6174 612e 6765 7428 2277    if data.get("w
-00017020: 6964 7468 2229 2021 3d20 4e6f 6e65 3a0d  idth") != None:.
-00017030: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017040: 2020 2020 206d 645b 2277 6964 7468 225d       md["width"]
-00017050: 203d 2064 6174 612e 6765 7428 2277 6964   = data.get("wid
-00017060: 7468 2229 0d0a 2020 2020 2020 2020 2020  th")..          
-00017070: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00017080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017090: 206d 645b 2277 6964 7468 225d 203d 2031   md["width"] = 1
-000170a0: 3032 340d 0a20 2020 2020 2020 2020 2020  024..           
-000170b0: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
-000170c0: 2020 2020 2020 2069 6620 6461 7461 2e67         if data.g
-000170d0: 6574 2822 6865 6967 6874 2229 2021 3d20  et("height") != 
-000170e0: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
-000170f0: 2020 2020 2020 2020 2020 206d 645b 2268             md["h
-00017100: 6569 6768 7422 5d20 3d20 6461 7461 2e67  eight"] = data.g
-00017110: 6574 2822 6865 6967 6874 2229 0d0a 2020  et("height")..  
-00017120: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00017130: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-00017140: 2020 2020 2020 2020 206d 645b 2268 6569           md["hei
-00017150: 6768 7422 5d20 3d20 3130 3234 0d0a 2020  ght"] = 1024..  
-00017160: 2020 2020 2020 2020 2020 2020 2020 0d0a                ..
-00017170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017180: 6966 2064 6174 612e 6765 7428 2267 7569  if data.get("gui
-00017190: 6461 6e63 655f 7363 616c 6522 2920 213d  dance_scale") !=
-000171a0: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
-000171b0: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
-000171c0: 6775 6964 616e 6365 5f73 6361 6c65 225d  guidance_scale"]
-000171d0: 203d 2064 6174 612e 6765 7428 2267 7569   = data.get("gui
-000171e0: 6461 6e63 655f 7363 616c 6522 290d 0a20  dance_scale").. 
-000171f0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00017200: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-00017210: 2020 2020 2020 2020 2020 6d64 5b22 6775            md["gu
-00017220: 6964 616e 6365 5f73 6361 6c65 225d 203d  idance_scale"] =
-00017230: 2037 0d0a 2020 2020 2020 2020 2020 2020   7..            
-00017240: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
-00017250: 2020 2020 2020 6966 2064 6174 612e 6765        if data.ge
-00017260: 7428 2271 7561 6c69 7479 5f74 6167 7322  t("quality_tags"
-00017270: 2920 213d 204e 6f6e 653a 0d0a 2020 2020  ) != None:..    
-00017280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017290: 6d64 5b22 7175 616c 6974 795f 7461 6773  md["quality_tags
-000172a0: 225d 203d 2064 6174 612e 6765 7428 2271  "] = data.get("q
-000172b0: 7561 6c69 7479 5f74 6167 7322 290d 0a20  uality_tags").. 
-000172c0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000172d0: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-000172e0: 2020 2020 2020 2020 2020 6d64 5b22 7175            md["qu
-000172f0: 616c 6974 795f 7461 6773 225d 203d 2022  ality_tags"] = "
-00017300: 5374 616e 6461 7264 220d 0a20 2020 2020  Standard"..     
-00017310: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
-00017320: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00017330: 6461 7461 2e67 6574 2822 7374 796c 655f  data.get("style_
-00017340: 7072 6573 656e 7422 2920 213d 204e 6f6e  present") != Non
-00017350: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00017360: 2020 2020 2020 2020 6d64 5b22 7374 796c          md["styl
-00017370: 655f 7072 6573 656e 7422 5d20 3d20 6461  e_present"] = da
-00017380: 7461 2e67 6574 2822 7374 796c 655f 7072  ta.get("style_pr
-00017390: 6573 656e 7422 290d 0a20 2020 2020 2020  esent")..       
-000173a0: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-000173b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000173c0: 2020 2020 6d64 5b22 7374 796c 655f 7072      md["style_pr
-000173d0: 6573 656e 7422 5d20 3d20 2228 4e6f 6e65  esent"] = "(None
-000173e0: 2922 0d0a 2020 2020 2020 2020 2020 2020  )"..            
-000173f0: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
-00017400: 2020 2020 2020 6966 2064 6174 612e 6765        if data.ge
-00017410: 7428 2273 7472 656e 6774 6822 2920 213d  t("strength") !=
-00017420: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
-00017430: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
-00017440: 7374 7265 6e67 7468 225d 203d 2064 6174  strength"] = dat
-00017450: 612e 6765 7428 2273 7472 656e 6774 6822  a.get("strength"
-00017460: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
-00017470: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-00017480: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-00017490: 5b22 7374 7265 6e67 7468 225d 203d 2030  ["strength"] = 0
-000174a0: 2e35 0d0a 2020 2020 2020 2020 2020 2020  .5..            
-000174b0: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
-000174c0: 2020 2020 2020 6966 2064 6174 612e 6765        if data.ge
-000174d0: 7428 2275 7073 6361 6c65 2229 2021 3d20  t("upscale") != 
-000174e0: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
-000174f0: 2020 2020 2020 2020 2020 206d 645b 2275             md["u
-00017500: 7073 6361 6c65 225d 203d 2064 6174 612e  pscale"] = data.
-00017510: 6765 7428 2275 7073 6361 6c65 2229 0d0a  get("upscale")..
-00017520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017530: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
-00017540: 2020 2020 2020 2020 2020 206d 645b 2275             md["u
-00017550: 7073 6361 6c65 225d 203d 2031 2e35 0d0a  pscale"] = 1.5..
-00017560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017570: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00017580: 2020 6966 2064 6174 612e 6765 7428 2273    if data.get("s
-00017590: 616d 706c 6572 2229 2021 3d20 4e6f 6e65  ampler") != None
-000175a0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-000175b0: 2020 2020 2020 206d 645b 2273 616d 706c         md["sampl
-000175c0: 6572 225d 203d 2064 6174 612e 6765 7428  er"] = data.get(
-000175d0: 2273 616d 706c 6572 2229 0d0a 2020 2020  "sampler")..    
-000175e0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-000175f0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00017600: 2020 2020 2020 206d 645b 2273 616d 706c         md["sampl
-00017610: 6572 225d 203d 2022 4575 6c65 7220 6122  er"] = "Euler a"
-00017620: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00017630: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
-00017640: 2020 2020 6966 2064 6174 612e 6765 7428      if data.get(
-00017650: 2269 6e66 6572 656e 6365 5f73 7465 7073  "inference_steps
-00017660: 2229 2021 3d20 4e6f 6e65 3a0d 0a20 2020  ") != None:..   
-00017670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017680: 206d 645b 2269 6e66 6572 656e 6365 5f73   md["inference_s
-00017690: 7465 7073 225d 203d 2064 6174 612e 6765  teps"] = data.ge
-000176a0: 7428 2269 6e66 6572 656e 6365 5f73 7465  t("inference_ste
-000176b0: 7073 2229 0d0a 2020 2020 2020 2020 2020  ps")..          
-000176c0: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-000176d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000176e0: 206d 645b 2269 6e66 6572 656e 6365 5f73   md["inference_s
-000176f0: 7465 7073 225d 203d 2032 380d 0a20 2020  teps"] = 28..   
-00017700: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-00017710: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
-00017720: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017730: 206d 6420 3d20 7b0d 0a20 2020 2020 2020   md = {..       
-00017740: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
-00017750: 6f6d 7074 5f6e 6567 6174 6976 6522 3a20  ompt_negative": 
-00017760: 2222 2c0d 0a20 2020 2020 2020 2020 2020  "",..           
-00017770: 2020 2020 2020 2020 2022 7769 6474 6822           "width"
-00017780: 3a20 3130 3234 2c0d 0a20 2020 2020 2020  : 1024,..       
-00017790: 2020 2020 2020 2020 2020 2020 2022 6865               "he
-000177a0: 6967 6874 223a 2031 3032 342c 0d0a 2020  ight": 1024,..  
+00016fd0: 2020 2274 656d 7065 7261 7475 7265 223a    "temperature":
+00016fe0: 2030 2e39 2c0d 0a20 2020 2020 2020 2020   0.9,..         
+00016ff0: 2020 2020 2020 2020 2020 2022 6d61 785f             "max_
+00017000: 746f 6b65 6e73 223a 2034 3039 362c 0d0a  tokens": 4096,..
+00017010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017020: 2020 2020 2274 6f70 5f70 223a 2030 2e36      "top_p": 0.6
+00017030: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00017040: 2020 2020 2020 2022 7265 7065 7469 7469         "repetiti
+00017050: 6f6e 5f70 656e 616c 7479 223a 2031 2e32  on_penalty": 1.2
+00017060: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00017070: 2020 207d 0d0a 0d0a 2020 2020 2020 2020     }....        
+00017080: 2020 2020 6461 7461 203d 207b 7d0d 0a20      data = {}.. 
+00017090: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
+000170a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000170b0: 2064 6174 6120 3d20 6a73 6f6e 2e64 756d   data = json.dum
+000170c0: 7073 287b 0d0a 2020 2020 2020 2020 2020  ps({..          
+000170d0: 2020 2020 2020 2020 2020 226d 6573 7361            "messa
+000170e0: 6765 7322 3a20 6d65 7373 6167 6573 2069  ges": messages i
+000170f0: 6620 6d65 7373 6167 6573 2069 7320 6e6f  f messages is no
+00017100: 7420 4e6f 6e65 2065 6c73 6520 5b5d 2c0d  t None else [],.
+00017110: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017120: 2020 2020 2022 6d61 726b 646f 776e 223a       "markdown":
+00017130: 206d 6172 6b64 6f77 6e20 6966 206d 6172   markdown if mar
+00017140: 6b64 6f77 6e20 6973 206e 6f74 204e 6f6e  kdown is not Non
+00017150: 6520 656c 7365 2046 616c 7365 2c0d 0a20  e else False,.. 
+00017160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017170: 2020 2022 7374 7265 616d 223a 2073 7472     "stream": str
+00017180: 6d20 6966 2073 7472 6d20 6973 206e 6f74  m if strm is not
+00017190: 204e 6f6e 6520 656c 7365 2046 616c 7365   None else False
+000171a0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000171b0: 2020 2020 2020 2022 6d6f 6465 6c22 3a20         "model": 
+000171c0: 226c 6c61 6d61 3222 2c0d 0a20 2020 2020  "llama2",..     
+000171d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000171e0: 6461 7461 223a 206d 640d 0a20 2020 2020  data": md..     
+000171f0: 2020 2020 2020 2020 2020 207d 290d 0a20             }).. 
+00017200: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+00017210: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
+00017220: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00017230: 2020 2064 6174 6120 3d20 6a73 6f6e 2e64     data = json.d
+00017240: 756d 7073 287b 0d0a 2020 2020 2020 2020  umps({..        
+00017250: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
+00017260: 7361 6765 7322 3a20 5b5d 2c0d 0a20 2020  sages": [],..   
+00017270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017280: 2022 6d61 726b 646f 776e 223a 2046 616c   "markdown": Fal
+00017290: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
+000172a0: 2020 2020 2020 2020 2022 7374 7265 616d           "stream
+000172b0: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
+000172c0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000172d0: 6d6f 6465 6c22 3a20 226c 6c61 6d61 3222  model": "llama2"
+000172e0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000172f0: 2020 2020 2020 2022 6461 7461 223a 207b         "data": {
+00017300: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00017310: 2020 2020 2020 2020 2020 2267 7075 223a            "gpu":
+00017320: 2046 616c 7365 2c0d 0a20 2020 2020 2020   False,..       
+00017330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017340: 2022 7072 6f6d 7074 5f69 6d70 726f 7665   "prompt_improve
+00017350: 6d65 6e74 223a 2046 616c 7365 0d0a 2020  ment": False..  
+00017360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017370: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
+00017380: 2020 2020 207d 290d 0a0d 0a20 2020 2020       })....     
+00017390: 2020 2020 2020 2072 6573 706f 6e73 6520         response 
+000173a0: 3d20 7265 7175 6573 7473 2e70 6f73 7428  = requests.post(
+000173b0: 7572 6c3d 2268 7474 7073 3a2f 2f6e 6578  url="https://nex
+000173c0: 7261 2e61 7279 6168 6372 2e63 632f 6170  ra.aryahcr.cc/ap
+000173d0: 692f 6368 6174 2f63 6f6d 706c 656d 656e  i/chat/complemen
+000173e0: 7473 222c 2068 6561 6465 7273 3d68 6561  ts", headers=hea
+000173f0: 6465 7273 2c20 6461 7461 3d64 6174 612c  ders, data=data,
+00017400: 2073 7472 6561 6d3d 7374 726d 290d 0a20   stream=strm).. 
+00017410: 2020 2020 2020 2020 2020 2069 6620 7265             if re
+00017420: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00017430: 6465 203d 3d20 3230 303a 0d0a 2020 2020  de == 200:..    
+00017440: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+00017450: 7472 6d20 213d 2054 7275 653a 0d0a 2020  trm != True:..  
+00017460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017470: 2020 7365 6c66 2e62 696e 6764 6174 6120    self.bingdata 
+00017480: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+00017490: 2020 2020 2020 2020 2020 2020 6572 7220              err 
+000174a0: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+000174b0: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+000174c0: 6c74 203d 204e 6f6e 650d 0a0d 0a20 2020  lt = None....   
+000174d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000174e0: 2063 6f75 6e74 203d 202d 310d 0a20 2020   count = -1..   
+000174f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017500: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
+00017510: 6c65 6e28 7265 7370 6f6e 7365 2e74 6578  len(response.tex
+00017520: 7429 293a 0d0a 2020 2020 2020 2020 2020  t)):..          
+00017530: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00017540: 2063 6f75 6e74 203c 3d20 2d31 3a0d 0a20   count <= -1:.. 
+00017550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017560: 2020 2020 2020 2020 2020 2069 6620 7265             if re
+00017570: 7370 6f6e 7365 2e74 6578 745b 695d 203d  sponse.text[i] =
+00017580: 3d20 227b 223a 0d0a 2020 2020 2020 2020  = "{":..        
+00017590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000175a0: 2020 2020 2020 2020 636f 756e 7420 3d20          count = 
+000175b0: 690d 0a20 2020 2020 2020 2020 2020 2020  i..             
+000175c0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+000175d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000175e0: 2020 2020 2020 2020 2020 2020 2020 6272                br
+000175f0: 6561 6b0d 0a20 2020 2020 2020 2020 2020  eak..           
+00017600: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
+00017610: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00017620: 6620 636f 756e 7420 3c3d 202d 313a 0d0a  f count <= -1:..
+00017630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017640: 2020 2020 2020 2020 6572 7220 3d20 7b0d          err = {.
+00017650: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017660: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+00017670: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
+00017680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017690: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
+000176a0: 2046 616c 7365 2c0d 0a20 2020 2020 2020   False,..       
+000176b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000176c0: 2020 2020 2022 6572 726f 7222 3a20 2249       "error": "I
+000176d0: 4e54 4552 4e41 4c5f 5345 5256 4552 5f45  NTERNAL_SERVER_E
+000176e0: 5252 4f52 222c 0d0a 2020 2020 2020 2020  RROR",..        
+000176f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017700: 2020 2020 226d 6573 7361 6765 223a 2022      "message": "
+00017710: 6765 6e65 7261 6c20 2875 6e6b 6e6f 776e  general (unknown
+00017720: 2920 6572 726f 7222 0d0a 2020 2020 2020  ) error"..      
+00017730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017740: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
+00017750: 2020 2020 2020 2020 2020 2020 2072 6573               res
+00017760: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
+00017770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017780: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+00017790: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+000177a0: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
 000177b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000177c0: 2020 2267 7569 6461 6e63 655f 7363 616c    "guidance_scal
-000177d0: 6522 3a20 372c 0d0a 2020 2020 2020 2020  e": 7,..        
-000177e0: 2020 2020 2020 2020 2020 2020 2271 7561              "qua
-000177f0: 6c69 7479 5f74 6167 7322 3a20 2253 7461  lity_tags": "Sta
-00017800: 6e64 6172 6422 2c0d 0a20 2020 2020 2020  ndard",..       
-00017810: 2020 2020 2020 2020 2020 2020 2022 7374               "st
-00017820: 796c 655f 7072 6573 656e 7422 3a20 2228  yle_present": "(
-00017830: 4e6f 6e65 2922 2c0d 0a20 2020 2020 2020  None)",..       
-00017840: 2020 2020 2020 2020 2020 2020 2022 7374               "st
-00017850: 7265 6e67 7468 223a 2030 2e35 2c0d 0a20  rength": 0.5,.. 
-00017860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017870: 2020 2022 7570 7363 616c 6522 3a20 312e     "upscale": 1.
-00017880: 352c 0d0a 2020 2020 2020 2020 2020 2020  5,..            
-00017890: 2020 2020 2020 2020 2273 616d 706c 6572          "sampler
-000178a0: 223a 2022 4575 6c65 7220 6122 2c0d 0a20  ": "Euler a",.. 
-000178b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000178c0: 2020 2022 696e 6665 7265 6e63 655f 7374     "inference_st
-000178d0: 6570 7322 3a20 3238 2c0d 0a20 2020 2020  eps": 28,..     
-000178e0: 2020 2020 2020 2020 2020 207d 0d0a 0d0a             }....
-000178f0: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00017900: 203d 207b 7d0d 0a20 2020 2020 2020 2020   = {}..         
-00017910: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
-00017920: 2020 2020 2020 2020 2064 6174 6120 3d20           data = 
-00017930: 6a73 6f6e 2e64 756d 7073 287b 0d0a 2020  json.dumps({..  
+000177c0: 206a 7320 3d20 7265 7370 6f6e 7365 2e74   js = response.t
+000177d0: 6578 745b 636f 756e 743a 5d0d 0a20 2020  ext[count:]..   
+000177e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000177f0: 2020 2020 2020 2020 206a 7320 3d20 6a73           js = js
+00017800: 6f6e 2e6c 6f61 6473 286a 7329 0d0a 2020  on.loads(js)..  
+00017810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017820: 2020 2020 2020 2020 2020 6966 206a 7320            if js 
+00017830: 213d 204e 6f6e 6520 616e 6420 6a73 5b22  != None and js["
+00017840: 636f 6465 225d 2021 3d20 4e6f 6e65 2061  code"] != None a
+00017850: 6e64 206a 735b 2263 6f64 6522 5d20 3d3d  nd js["code"] ==
+00017860: 2032 3030 2061 6e64 206a 735b 2273 7461   200 and js["sta
+00017870: 7475 7322 5d20 213d 204e 6f6e 6520 616e  tus"] != None an
+00017880: 6420 6a73 5b22 7374 6174 7573 225d 203d  d js["status"] =
+00017890: 3d20 5472 7565 3a0d 0a20 2020 2020 2020  = True:..       
+000178a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000178b0: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+000178c0: 3d20 6a73 0d0a 2020 2020 2020 2020 2020  = js..          
+000178d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000178e0: 2020 2020 2020 6572 7220 3d20 4e6f 6e65        err = None
+000178f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00017900: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00017910: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+00017920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017930: 2020 2020 2065 7272 203d 206a 730d 0a20       err = js.. 
 00017940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017950: 2020 2270 726f 6d70 7422 3a20 7072 6f6d    "prompt": prom
-00017960: 7074 2c0d 0a20 2020 2020 2020 2020 2020  pt,..           
-00017970: 2020 2020 2020 2020 2022 6d6f 6465 6c22           "model"
-00017980: 3a20 2261 6e69 6d61 6769 6e65 2d78 6c22  : "animagine-xl"
-00017990: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000179a0: 2020 2020 2020 2022 6461 7461 223a 206d         "data": m
-000179b0: 640d 0a20 2020 2020 2020 2020 2020 2020  d..             
-000179c0: 2020 207d 290d 0a20 2020 2020 2020 2020     })..         
-000179d0: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
-000179e0: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
-000179f0: 2020 2020 2020 2020 2020 2064 6174 6120             data 
-00017a00: 3d20 6a73 6f6e 2e64 756d 7073 287b 0d0a  = json.dumps({..
-00017a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017a20: 2020 2020 2270 726f 6d70 7422 3a20 2222      "prompt": ""
-00017a30: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00017a40: 2020 2020 2020 2022 6d6f 6465 6c22 3a20         "model": 
-00017a50: 2261 6e69 6d61 6769 6e65 2d78 6c22 2c0d  "animagine-xl",.
-00017a60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017a70: 2020 2020 2022 6461 7461 223a 207b 0d0a       "data": {..
-00017a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017a90: 2020 2020 2020 2020 2270 726f 6d70 745f          "prompt_
-00017aa0: 6e65 6761 7469 7665 223a 2022 222c 0d0a  negative": "",..
+00017950: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00017960: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
+00017970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017980: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+00017990: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
+000179a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000179b0: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
+000179c0: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+000179d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000179e0: 2020 2022 636f 6465 223a 2035 3030 2c0d     "code": 500,.
+000179f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a10: 2022 7374 6174 7573 223a 2046 616c 7365   "status": False
+00017a20: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00017a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a40: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
+00017a50: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
+00017a60: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
+00017a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a80: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
+00017a90: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
+00017aa0: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
 00017ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ac0: 2020 2020 2020 2020 2277 6964 7468 223a          "width":
-00017ad0: 2031 3032 342c 0d0a 2020 2020 2020 2020   1024,..        
-00017ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017af0: 2268 6569 6768 7422 3a20 3130 3234 2c0d  "height": 1024,.
-00017b00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017b10: 2020 2020 2020 2020 2022 6775 6964 616e           "guidan
-00017b20: 6365 5f73 6361 6c65 223a 2037 2c0d 0a20  ce_scale": 7,.. 
-00017b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b40: 2020 2020 2020 2022 7175 616c 6974 795f         "quality_
-00017b50: 7461 6773 223a 2022 5374 616e 6461 7264  tags": "Standard
-00017b60: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
-00017b70: 2020 2020 2020 2020 2020 2020 2273 7479              "sty
-00017b80: 6c65 5f70 7265 7365 6e74 223a 2022 284e  le_present": "(N
-00017b90: 6f6e 6529 222c 0d0a 2020 2020 2020 2020  one)",..        
-00017ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017bb0: 2273 7472 656e 6774 6822 3a20 302e 352c  "strength": 0.5,
-00017bc0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00017bd0: 2020 2020 2020 2020 2020 2275 7073 6361            "upsca
-00017be0: 6c65 223a 2031 2e35 2c0d 0a20 2020 2020  le": 1.5,..     
-00017bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c00: 2020 2022 7361 6d70 6c65 7222 3a20 2245     "sampler": "E
-00017c10: 756c 6572 2061 222c 0d0a 2020 2020 2020  uler a",..      
-00017c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c30: 2020 2269 6e66 6572 656e 6365 5f73 7465    "inference_ste
-00017c40: 7073 223a 2032 382c 0d0a 2020 2020 2020  ps": 28,..      
-00017c50: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
-00017c60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017c70: 207d 290d 0a20 2020 2020 2020 2020 2020   })..           
-00017c80: 200d 0a20 2020 2020 2020 2020 2020 2072   ..            r
-00017c90: 6573 706f 6e73 6520 3d20 7265 7175 6573  esponse = reques
-00017ca0: 7473 2e70 6f73 7428 7572 6c3d 2268 7474  ts.post(url="htt
-00017cb0: 7073 3a2f 2f6e 6578 7261 2e61 7279 6168  ps://nexra.aryah
-00017cc0: 6372 2e63 632f 6170 692f 696d 6167 652f  cr.cc/api/image/
-00017cd0: 636f 6d70 6c65 6d65 6e74 7322 2c20 6865  complements", he
-00017ce0: 6164 6572 733d 6865 6164 6572 732c 2064  aders=headers, d
-00017cf0: 6174 613d 6461 7461 290d 0a20 2020 2020  ata=data)..     
-00017d00: 2020 2020 2020 2069 6620 7265 7370 6f6e         if respon
-00017d10: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00017d20: 3d20 3230 303a 0d0a 2020 2020 2020 2020  = 200:..        
-00017d30: 2020 2020 2020 2020 6572 7220 3d20 4e6f          err = No
-00017d40: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
-00017d50: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
-00017d60: 650d 0a0d 0a20 2020 2020 2020 2020 2020  e....           
-00017d70: 2020 2020 2063 6f75 6e74 203d 202d 310d       count = -1.
-00017d80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017d90: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
-00017da0: 6c65 6e28 7265 7370 6f6e 7365 2e74 6578  len(response.tex
-00017db0: 7429 293a 0d0a 2020 2020 2020 2020 2020  t)):..          
-00017dc0: 2020 2020 2020 2020 2020 6966 2063 6f75            if cou
-00017dd0: 6e74 203c 3d20 2d31 3a0d 0a20 2020 2020  nt <= -1:..     
-00017de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017df0: 2020 2069 6620 7265 7370 6f6e 7365 2e74     if response.t
-00017e00: 6578 745b 695d 203d 3d20 227b 223a 0d0a  ext[i] == "{":..
-00017e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017e20: 2020 2020 2020 2020 2020 2020 636f 756e              coun
-00017e30: 7420 3d20 690d 0a20 2020 2020 2020 2020  t = i..         
-00017e40: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00017ac0: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
+00017ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ae0: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+00017af0: 4e6f 6e65 0d0a 0d0a 2020 2020 2020 2020  None....        
+00017b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017b10: 6966 2072 6573 756c 7420 3d3d 204e 6f6e  if result == Non
+00017b20: 6520 616e 6420 6572 7220 213d 204e 6f6e  e and err != Non
+00017b30: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00017b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017b50: 7365 6c66 2e65 7272 6f72 203d 2065 7272  self.error = err
+00017b60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00017b70: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00017b80: 6c66 2e72 6573 756c 7420 3d20 4e6f 6e65  lf.result = None
+00017b90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00017ba0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+00017bb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017bc0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00017bd0: 662e 7265 7375 6c74 203d 2072 6573 756c  f.result = resul
+00017be0: 740d 0a20 2020 2020 2020 2020 2020 2020  t..             
+00017bf0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00017c00: 656c 662e 6572 726f 7220 3d20 4e6f 6e65  elf.error = None
+00017c10: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00017c20: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+00017c30: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00017c40: 662e 6572 726f 7220 3d20 4e6f 6e65 0d0a  f.error = None..
+00017c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017c60: 2020 2020 7365 6c66 2e72 6573 756c 7420      self.result 
+00017c70: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+00017c80: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00017c90: 2e62 696e 6764 6174 6120 3d20 7265 7370  .bingdata = resp
+00017ca0: 6f6e 7365 0d0a 2020 2020 2020 2020 2020  onse..          
+00017cb0: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+00017cc0: 2020 2020 2020 2020 2064 6174 615f 6572           data_er
+00017cd0: 7220 3d20 7b7d 0d0a 2020 2020 2020 2020  r = {}..        
+00017ce0: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
+00017cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017d00: 2020 6461 7461 5f65 7272 203d 206a 736f    data_err = jso
+00017d10: 6e2e 6c6f 6164 7328 7265 7370 6f6e 7365  n.loads(response
+00017d20: 2e74 6578 7429 0d0a 2020 2020 2020 2020  .text)..        
+00017d30: 2020 2020 2020 2020 6578 6365 7074 2045          except E
+00017d40: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
+00017d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017d60: 2020 2020 6461 7461 5f65 7272 203d 207b      data_err = {
+00017d70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00017d80: 2020 2020 2020 2020 2020 2263 6f64 6522            "code"
+00017d90: 3a20 3530 302c 0d0a 2020 2020 2020 2020  : 500,..        
+00017da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017db0: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
+00017dc0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00017dd0: 2020 2020 2020 2020 2020 2265 7272 6f72            "error
+00017de0: 223a 2022 494e 5445 524e 414c 5f53 4552  ": "INTERNAL_SER
+00017df0: 5645 525f 4552 524f 5222 2c0d 0a20 2020  VER_ERROR",..   
+00017e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017e10: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
+00017e20: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
+00017e30: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
+00017e40: 2020 2020 2020 2020 2020 2020 2020 207d                 }
 00017e50: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00017e60: 2020 2020 2020 2020 2020 6272 6561 6b0d            break.
-00017e70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017e80: 200d 0a20 2020 2020 2020 2020 2020 2020   ..             
-00017e90: 2020 2069 6620 636f 756e 7420 3c3d 202d     if count <= -
-00017ea0: 313a 0d0a 2020 2020 2020 2020 2020 2020  1:..            
-00017eb0: 2020 2020 2020 2020 6572 7220 3d20 7b0d          err = {.
-00017ec0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017ed0: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
-00017ee0: 2035 3030 2c0d 0a20 2020 2020 2020 2020   500,..         
-00017ef0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00017f00: 7374 6174 7573 223a 2046 616c 7365 2c0d  status": False,.
+00017e60: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
+00017e70: 2020 2020 7365 6c66 2e62 696e 6764 6174      self.bingdat
+00017e80: 6120 3d20 4e6f 6e65 0d0a 2020 2020 2020  a = None..      
+00017e90: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
+00017ea0: 7272 6f72 203d 2064 6174 615f 6572 720d  rror = data_err.
+00017eb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017ec0: 2073 656c 662e 7265 7375 6c74 203d 204e   self.result = N
+00017ed0: 6f6e 650d 0a20 2020 2020 2020 2065 7863  one..        exc
+00017ee0: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
+00017ef0: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
+00017f00: 2073 656c 662e 6572 726f 7220 3d20 7b0d   self.error = {.
 00017f10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017f20: 2020 2020 2020 2020 2022 6572 726f 7222           "error"
-00017f30: 3a20 2249 4e54 4552 4e41 4c5f 5345 5256  : "INTERNAL_SERV
-00017f40: 4552 5f45 5252 4f52 222c 0d0a 2020 2020  ER_ERROR",..    
-00017f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017f60: 2020 2020 226d 6573 7361 6765 223a 2022      "message": "
-00017f70: 6765 6e65 7261 6c20 2875 6e6b 6e6f 776e  general (unknown
-00017f80: 2920 6572 726f 7222 0d0a 2020 2020 2020  ) error"..      
-00017f90: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
-00017fa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017fb0: 2020 2020 2072 6573 756c 7420 3d20 4e6f       result = No
-00017fc0: 6e65 0d0a 2020 2020 2020 2020 2020 2020  ne..            
-00017fd0: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-00017fe0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00017ff0: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
-00018000: 2020 2020 2020 2020 2020 2020 206a 7320               js 
-00018010: 3d20 7265 7370 6f6e 7365 2e74 6578 745b  = response.text[
-00018020: 636f 756e 743a 5d0d 0a20 2020 2020 2020  count:]..       
-00018030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018040: 206a 7320 3d20 6a73 6f6e 2e6c 6f61 6473   js = json.loads
-00018050: 286a 7329 0d0a 2020 2020 2020 2020 2020  (js)..          
-00018060: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00018070: 206a 7320 213d 204e 6f6e 6520 616e 6420   js != None and 
-00018080: 6a73 5b22 636f 6465 225d 2021 3d20 4e6f  js["code"] != No
-00018090: 6e65 2061 6e64 206a 735b 2263 6f64 6522  ne and js["code"
-000180a0: 5d20 3d3d 2032 3030 2061 6e64 206a 735b  ] == 200 and js[
-000180b0: 2273 7461 7475 7322 5d20 213d 204e 6f6e  "status"] != Non
-000180c0: 6520 616e 6420 6a73 5b22 7374 6174 7573  e and js["status
-000180d0: 225d 203d 3d20 5472 7565 3a0d 0a20 2020  "] == True:..   
-000180e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000180f0: 2020 2020 2020 2020 2072 6573 756c 7420           result 
-00018100: 3d20 6a73 0d0a 2020 2020 2020 2020 2020  = js..          
+00017f20: 2022 636f 6465 223a 2035 3030 2c0d 0a20   "code": 500,.. 
+00017f30: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00017f40: 7374 6174 7573 223a 2046 616c 7365 2c0d  status": False,.
+00017f50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017f60: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
+00017f70: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
+00017f80: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+00017f90: 2020 2020 226d 6573 7361 6765 223a 2022      "message": "
+00017fa0: 6765 6e65 7261 6c20 2875 6e6b 6e6f 776e  general (unknown
+00017fb0: 2920 6572 726f 7222 0d0a 2020 2020 2020  ) error"..      
+00017fc0: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+00017fd0: 2020 2020 2073 656c 662e 6269 6e67 6461       self.bingda
+00017fe0: 7461 203d 204e 6f6e 650d 0a20 2020 2020  ta = None..     
+00017ff0: 2020 2020 2020 2073 656c 662e 7265 7375         self.resu
+00018000: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
+00018010: 2020 2070 6173 730d 0a20 2020 2064 6566     pass..    def
+00018020: 2073 7472 6561 6d28 7365 6c66 293a 0d0a   stream(self):..
+00018030: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00018040: 6269 6e67 6461 7461 2021 3d20 4e6f 6e65  bingdata != None
+00018050: 3a0d 0a20 2020 2020 2020 2020 2020 2074  :..            t
+00018060: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
+00018070: 2020 2020 2074 6d70 203d 204e 6f6e 650d       tmp = None.
+00018080: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018090: 2065 7272 203d 204e 6f6e 650d 0a20 2020   err = None..   
+000180a0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+000180b0: 2063 6875 6e6b 2069 6e20 7365 6c66 2e62   chunk in self.b
+000180c0: 696e 6764 6174 612e 6974 6572 5f63 6f6e  ingdata.iter_con
+000180d0: 7465 6e74 2863 6875 6e6b 5f73 697a 653d  tent(chunk_size=
+000180e0: 3130 3234 293a 0d0a 2020 2020 2020 2020  1024):..        
+000180f0: 2020 2020 2020 2020 2020 2020 6966 2065              if e
+00018100: 7272 203d 3d20 4e6f 6e65 3a0d 0a20 2020  rr == None:..   
 00018110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018120: 2020 6572 7220 3d20 4e6f 6e65 0d0a 2020    err = None..  
+00018120: 2020 2020 2069 6620 6368 756e 6b3a 0d0a       if chunk:..
 00018130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018140: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00018150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018160: 2020 2020 2020 2020 2065 7272 203d 206a           err = j
-00018170: 730d 0a20 2020 2020 2020 2020 2020 2020  s..             
-00018180: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00018190: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
+00018140: 2020 2020 2020 2020 2020 2020 6368 6b20              chk 
+00018150: 3d20 6368 756e 6b2e 6465 636f 6465 2829  = chunk.decode()
+00018160: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00018170: 2020 2020 2020 2020 2020 2020 2020 6368                ch
+00018180: 6b20 3d20 6368 6b2e 7370 6c69 7428 221e  k = chk.split(".
+00018190: 2229 0d0a 0d0a 2020 2020 2020 2020 2020  ")....          
 000181a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000181b0: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-000181c0: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
+000181b0: 2020 666f 7220 6461 7461 2069 6e20 6368    for data in ch
+000181c0: 6b3a 0d0a 2020 2020 2020 2020 2020 2020  k:..            
 000181d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000181e0: 2020 6572 7220 3d20 7b0d 0a20 2020 2020    err = {..     
-000181f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018200: 2020 2020 2020 2022 636f 6465 223a 2035         "code": 5
-00018210: 3030 2c0d 0a20 2020 2020 2020 2020 2020  00,..           
+000181e0: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
+000181f0: 650d 0a0d 0a20 2020 2020 2020 2020 2020  e....           
+00018200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018210: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
 00018220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018230: 2022 7374 6174 7573 223a 2046 616c 7365   "status": False
-00018240: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00018250: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00018260: 6572 726f 7222 3a20 2249 4e54 4552 4e41  error": "INTERNA
-00018270: 4c5f 5345 5256 4552 5f45 5252 4f52 222c  L_SERVER_ERROR",
-00018280: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00018290: 2020 2020 2020 2020 2020 2020 2020 226d                "m
-000182a0: 6573 7361 6765 223a 2022 6765 6e65 7261  essage": "genera
-000182b0: 6c20 2875 6e6b 6e6f 776e 2920 6572 726f  l (unknown) erro
-000182c0: 7222 0d0a 2020 2020 2020 2020 2020 2020  r"..            
-000182d0: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
-000182e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000182f0: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-00018300: 4e6f 6e65 0d0a 0d0a 2020 2020 2020 2020  None....        
-00018310: 2020 2020 2020 2020 2020 2020 6966 2072              if r
-00018320: 6573 756c 7420 3d3d 204e 6f6e 6520 616e  esult == None an
-00018330: 6420 6572 7220 213d 204e 6f6e 653a 0d0a  d err != None:..
+00018230: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00018240: 6f6e 7665 7274 203d 206a 736f 6e2e 6c6f  onvert = json.lo
+00018250: 6164 7328 6461 7461 290d 0a20 2020 2020  ads(data)..     
+00018260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018270: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00018280: 6573 756c 7420 3d20 6461 7461 0d0a 2020  esult = data..  
+00018290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000182a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000182b0: 2020 746d 7020 3d20 4e6f 6e65 0d0a 2020    tmp = None..  
+000182c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000182d0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+000182e0: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+000182f0: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
+00018300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018310: 2020 2020 2020 2020 2020 6966 2074 6d70            if tmp
+00018320: 203d 3d20 4e6f 6e65 3a0d 0a20 2020 2020   == None:..     
+00018330: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00018340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018350: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
-00018360: 6f72 203d 2065 7272 0d0a 2020 2020 2020  or = err..      
+00018350: 2020 2074 6d70 203d 2064 6174 610d 0a20     tmp = data.. 
+00018360: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00018370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018380: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
-00018390: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
-000183a0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-000183b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000183c0: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-000183d0: 7375 6c74 203d 2072 6573 756c 740d 0a20  sult = result.. 
-000183e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000183f0: 2020 2020 2020 2073 656c 662e 6572 726f         self.erro
-00018400: 7220 3d20 4e6f 6e65 0d0a 2020 2020 2020  r = None..      
-00018410: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
-00018420: 2020 2020 2020 2020 2020 2020 2064 6174               dat
-00018430: 615f 6572 7220 3d20 7b7d 0d0a 2020 2020  a_err = {}..    
-00018440: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-00018450: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00018460: 2020 2020 2020 6461 7461 5f65 7272 203d        data_err =
-00018470: 206a 736f 6e2e 6c6f 6164 7328 7265 7370   json.loads(resp
-00018480: 6f6e 7365 2e74 6578 7429 0d0a 2020 2020  onse.text)..    
-00018490: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-000184a0: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
-000184b0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-000184c0: 2020 2020 2020 2020 6461 7461 5f65 7272          data_err
-000184d0: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-000184e0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-000184f0: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
+00018380: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+00018390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000183a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000183b0: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+000183c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000183d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000183e0: 2020 2020 636f 6e76 6572 7420 3d20 6a73      convert = js
+000183f0: 6f6e 2e6c 6f61 6473 2874 6d70 290d 0a20  on.loads(tmp).. 
+00018400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018420: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+00018430: 7420 3d20 746d 700d 0a20 2020 2020 2020  t = tmp..       
+00018440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018460: 2020 2020 2074 6d70 203d 204e 6f6e 650d       tmp = None.
+00018470: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018490: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+000184a0: 4578 6365 7074 696f 6e20 6173 2065 3a0d  Exception as e:.
+000184b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000184c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000184d0: 2020 2020 2020 2020 2020 2020 2074 6d70               tmp
+000184e0: 203d 2074 6d70 202b 2064 6174 610d 0a20   = tmp + data.. 
+000184f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00018500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018510: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
-00018520: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
-00018530: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-00018540: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
-00018550: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
-00018560: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018570: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
-00018580: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
-00018590: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
-000185a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000185b0: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
-000185c0: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
-000185d0: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
-000185e0: 6f72 203d 2064 6174 615f 6572 720d 0a20  or = data_err.. 
-000185f0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00018600: 656c 662e 7265 7375 6c74 203d 204e 6f6e  elf.result = Non
-00018610: 650d 0a20 2020 2020 2020 2065 7863 6570  e..        excep
-00018620: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
-00018630: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
-00018640: 656c 662e 6572 726f 7220 3d20 7b0d 0a20  elf.error = {.. 
-00018650: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00018660: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
-00018670: 2020 2020 2020 2020 2020 2020 2022 7374               "st
-00018680: 6174 7573 223a 2046 616c 7365 2c0d 0a20  atus": False,.. 
-00018690: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000186a0: 6572 726f 7222 3a20 2249 4e54 4552 4e41  error": "INTERNA
-000186b0: 4c5f 5345 5256 4552 5f45 5252 4f52 222c  L_SERVER_ERROR",
-000186c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000186d0: 2020 226d 6573 7361 6765 223a 2022 6765    "message": "ge
-000186e0: 6e65 7261 6c20 2875 6e6b 6e6f 776e 2920  neral (unknown) 
-000186f0: 6572 726f 7222 0d0a 2020 2020 2020 2020  error"..        
-00018700: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
-00018710: 2020 2073 656c 662e 7265 7375 6c74 203d     self.result =
-00018720: 204e 6f6e 650d 0a20 2020 2020 2020 2070   None..        p
-00018730: 6173 730d 0a20 2020 2064 6566 2065 7272  ass..    def err
-00018740: 6f72 2873 656c 6629 3a0d 0a20 2020 2020  or(self):..     
-00018750: 2020 2072 6574 7572 6e20 7365 6c66 2e65     return self.e
-00018760: 7272 6f72 0d0a 2020 2020 6465 6620 7265  rror..    def re
-00018770: 7375 6c74 2873 656c 6629 3a0d 0a20 2020  sult(self):..   
-00018780: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00018790: 2e72 6573 756c 740d 0a0d 0a63 6c61 7373  .result....class
-000187a0: 2070 6c61 7967 726f 756e 6428 293a 0d0a   playground():..
-000187b0: 2020 2020 6572 726f 7220 3d20 4e6f 6e65      error = None
-000187c0: 0d0a 2020 2020 7265 7375 6c74 203d 204e  ..    result = N
-000187d0: 6f6e 650d 0a20 2020 2064 6566 205f 5f69  one..    def __i
-000187e0: 6e69 745f 5f28 7365 6c66 2c20 7072 6f6d  nit__(self, prom
-000187f0: 7074 3d22 222c 2064 6174 613d 7b0d 0a20  pt="", data={.. 
-00018800: 2020 2020 2020 2022 7072 6f6d 7074 5f6e         "prompt_n
-00018810: 6567 6174 6976 6522 3a20 2222 2c0d 0a20  egative": "",.. 
-00018820: 2020 2020 2020 2022 7769 6474 6822 3a20         "width": 
-00018830: 2222 2c0d 0a20 2020 2020 2020 2022 6865  "",..        "he
-00018840: 6967 6874 223a 2022 222c 0d0a 2020 2020  ight": "",..    
-00018850: 2020 2020 2267 7569 6461 6e63 655f 7363      "guidance_sc
-00018860: 616c 6522 3a20 2222 0d0a 2020 2020 7d29  ale": ""..    })
-00018870: 202d 3e20 4e6f 6e65 3a0d 0a20 2020 2020   -> None:..     
-00018880: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
-00018890: 2020 2020 2068 6561 6465 7273 203d 207b       headers = {
-000188a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000188b0: 2020 2243 6f6e 7465 6e74 2d54 7970 6522    "Content-Type"
-000188c0: 3a20 2261 7070 6c69 6361 7469 6f6e 2f6a  : "application/j
-000188d0: 736f 6e22 0d0a 2020 2020 2020 2020 2020  son"..          
-000188e0: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
-000188f0: 2068 6561 6465 7273 2e75 7064 6174 6528   headers.update(
-00018900: 6372 6564 290d 0a0d 0a20 2020 2020 2020  cred)....       
-00018910: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
-00018920: 2020 2020 2020 2020 2020 2070 726f 6d70             promp
-00018930: 7420 3d20 7072 6f6d 7074 2069 6620 7072  t = prompt if pr
-00018940: 6f6d 7074 2069 7320 6e6f 7420 4e6f 6e65  ompt is not None
-00018950: 2065 6c73 6520 2222 0d0a 2020 2020 2020   else ""..      
-00018960: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
-00018970: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
-00018980: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00018990: 6f6d 7074 203d 2022 220d 0a0d 0a20 2020  ompt = ""....   
-000189a0: 2020 2020 2020 2020 206d 6420 3d20 7b0d           md = {.
-000189b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000189c0: 2022 7072 6f6d 7074 5f6e 6567 6174 6976   "prompt_negativ
-000189d0: 6522 3a20 2222 2c0d 0a20 2020 2020 2020  e": "",..       
-000189e0: 2020 2020 2020 2020 2022 7769 6474 6822           "width"
-000189f0: 3a20 3130 3234 2c0d 0a20 2020 2020 2020  : 1024,..       
-00018a00: 2020 2020 2020 2020 2022 6865 6967 6874           "height
-00018a10: 223a 2031 3032 342c 0d0a 2020 2020 2020  ": 1024,..      
-00018a20: 2020 2020 2020 2020 2020 2267 7569 6461            "guida
-00018a30: 6e63 655f 7363 616c 6522 3a20 330d 0a20  nce_scale": 3.. 
-00018a40: 2020 2020 2020 2020 2020 207d 0d0a 0d0a             }....
-00018a50: 2020 2020 2020 2020 2020 2020 7472 7920              try 
-00018a60: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00018a70: 2020 2069 6620 6461 7461 2e67 6574 2822     if data.get("
-00018a80: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
-00018a90: 2920 213d 204e 6f6e 653a 0d0a 2020 2020  ) != None:..    
-00018aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018ab0: 6d64 5b22 7072 6f6d 7074 5f6e 6567 6174  md["prompt_negat
-00018ac0: 6976 6522 5d20 3d20 6461 7461 2e67 6574  ive"] = data.get
-00018ad0: 2822 7072 6f6d 7074 5f6e 6567 6174 6976  ("prompt_negativ
-00018ae0: 6522 290d 0a20 2020 2020 2020 2020 2020  e")..           
-00018af0: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
-00018b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018b10: 6d64 5b22 7072 6f6d 7074 5f6e 6567 6174  md["prompt_negat
-00018b20: 6976 6522 5d20 3d20 2222 0d0a 2020 2020  ive"] = ""..    
-00018b30: 2020 2020 2020 2020 2020 2020 0d0a 2020              ..  
-00018b40: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00018b50: 2064 6174 612e 6765 7428 2277 6964 7468   data.get("width
-00018b60: 2229 2021 3d20 4e6f 6e65 3a0d 0a20 2020  ") != None:..   
-00018b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018b80: 206d 645b 2277 6964 7468 225d 203d 2064   md["width"] = d
-00018b90: 6174 612e 6765 7428 2277 6964 7468 2229  ata.get("width")
-00018ba0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00018bb0: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
-00018bc0: 2020 2020 2020 2020 2020 2020 206d 645b               md[
-00018bd0: 2277 6964 7468 225d 203d 2031 3032 340d  "width"] = 1024.
-00018be0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018bf0: 200d 0a20 2020 2020 2020 2020 2020 2020   ..             
-00018c00: 2020 2069 6620 6461 7461 2e67 6574 2822     if data.get("
-00018c10: 6865 6967 6874 2229 2021 3d20 4e6f 6e65  height") != None
-00018c20: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00018c30: 2020 2020 2020 206d 645b 2268 6569 6768         md["heigh
-00018c40: 7422 5d20 3d20 6461 7461 2e67 6574 2822  t"] = data.get("
-00018c50: 6865 6967 6874 2229 0d0a 2020 2020 2020  height")..      
-00018c60: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-00018c70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018c80: 2020 2020 206d 645b 2268 6569 6768 7422       md["height"
-00018c90: 5d20 3d20 3130 3234 0d0a 2020 2020 2020  ] = 1024..      
-00018ca0: 2020 2020 2020 2020 2020 0d0a 2020 2020            ..    
-00018cb0: 2020 2020 2020 2020 2020 2020 6966 2064              if d
-00018cc0: 6174 612e 6765 7428 2267 7569 6461 6e63  ata.get("guidanc
-00018cd0: 655f 7363 616c 6522 2920 213d 204e 6f6e  e_scale") != Non
-00018ce0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00018cf0: 2020 2020 2020 2020 6d64 5b22 6775 6964          md["guid
-00018d00: 616e 6365 5f73 6361 6c65 225d 203d 2064  ance_scale"] = d
-00018d10: 6174 612e 6765 7428 2267 7569 6461 6e63  ata.get("guidanc
-00018d20: 655f 7363 616c 6522 290d 0a20 2020 2020  e_scale")..     
-00018d30: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00018d40: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00018d50: 2020 2020 2020 6d64 5b22 6775 6964 616e        md["guidan
-00018d60: 6365 5f73 6361 6c65 225d 203d 2033 0d0a  ce_scale"] = 3..
-00018d70: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00018d80: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
-00018d90: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00018da0: 2020 2020 6d64 203d 207b 0d0a 2020 2020      md = {..    
-00018db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018dc0: 2270 726f 6d70 745f 6e65 6761 7469 7665  "prompt_negative
-00018dd0: 223a 2022 222c 0d0a 2020 2020 2020 2020  ": "",..        
-00018de0: 2020 2020 2020 2020 2020 2020 2277 6964              "wid
-00018df0: 7468 223a 2031 3032 342c 0d0a 2020 2020  th": 1024,..    
-00018e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018e10: 2268 6569 6768 7422 3a20 3130 3234 2c0d  "height": 1024,.
-00018e20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018e30: 2020 2020 2022 6775 6964 616e 6365 5f73       "guidance_s
-00018e40: 6361 6c65 223a 2033 0d0a 2020 2020 2020  cale": 3..      
-00018e50: 2020 2020 2020 2020 2020 7d0d 0a0d 0a20            }.... 
-00018e60: 2020 2020 2020 2020 2020 2064 6174 6120             data 
-00018e70: 3d20 7b7d 0d0a 2020 2020 2020 2020 2020  = {}..          
-00018e80: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
-00018e90: 2020 2020 2020 2020 6461 7461 203d 206a          data = j
-00018ea0: 736f 6e2e 6475 6d70 7328 7b0d 0a20 2020  son.dumps({..   
-00018eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018ec0: 2022 7072 6f6d 7074 223a 2070 726f 6d70   "prompt": promp
-00018ed0: 742c 0d0a 2020 2020 2020 2020 2020 2020  t,..            
-00018ee0: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
-00018ef0: 2022 706c 6179 6772 6f75 6e64 222c 0d0a   "playground",..
-00018f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018f10: 2020 2020 2264 6174 6122 3a20 6d64 0d0a      "data": md..
-00018f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018f30: 7d29 0d0a 2020 2020 2020 2020 2020 2020  })..            
-00018f40: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
-00018f50: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
-00018f60: 2020 2020 2020 2020 6461 7461 203d 206a          data = j
-00018f70: 736f 6e2e 6475 6d70 7328 7b0d 0a20 2020  son.dumps({..   
-00018f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018f90: 2022 7072 6f6d 7074 223a 2022 222c 0d0a   "prompt": "",..
-00018fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018fb0: 2020 2020 226d 6f64 656c 223a 2022 706c      "model": "pl
-00018fc0: 6179 6772 6f75 6e64 222c 0d0a 2020 2020  ayground",..    
-00018fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018fe0: 2264 6174 6122 3a20 7b0d 0a20 2020 2020  "data": {..     
-00018ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019000: 2020 2022 7072 6f6d 7074 5f6e 6567 6174     "prompt_negat
-00019010: 6976 6522 3a20 2222 2c0d 0a20 2020 2020  ive": "",..     
+00018510: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
+00018520: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018550: 2063 6f6e 7665 7274 203d 206a 736f 6e2e   convert = json.
+00018560: 6c6f 6164 7328 746d 7029 0d0a 2020 2020  loads(tmp)..    
+00018570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018590: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+000185a0: 6c74 203d 2074 6d70 0d0a 2020 2020 2020  lt = tmp..      
+000185b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000185c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000185d0: 2020 2020 2020 2020 2020 746d 7020 3d20            tmp = 
+000185e0: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
+000185f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018610: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
+00018620: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
+00018630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018650: 2020 2020 2020 2020 2020 746d 7020 3d20            tmp = 
+00018660: 746d 700d 0a20 2020 2020 2020 2020 2020  tmp..           
+00018670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018680: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
+00018690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000186a0: 2020 2020 2020 2069 6620 7265 7375 6c74         if result
+000186b0: 2021 3d20 4e6f 6e65 3a0d 0a20 2020 2020   != None:..     
+000186c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000186d0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000186e0: 6620 2263 6f64 6522 206e 6f74 2069 6e20  f "code" not in 
+000186f0: 7265 7375 6c74 2061 6e64 2022 7374 6174  result and "stat
+00018700: 7573 2220 6e6f 7420 696e 2072 6573 756c  us" not in resul
+00018710: 743a 0d0a 2020 2020 2020 2020 2020 2020  t:..            
+00018720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018730: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
+00018740: 6420 6a73 6f6e 2e6c 6f61 6473 2872 6573  d json.loads(res
+00018750: 756c 7429 0d0a 2020 2020 2020 2020 2020  ult)..          
+00018760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018770: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+00018780: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000187a0: 2020 2020 2020 2020 2065 7272 203d 2072           err = r
+000187b0: 6573 756c 740d 0a20 2020 2020 2020 2020  esult..         
+000187c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000187d0: 2020 2020 2020 2020 2020 2020 2020 2079                 y
+000187e0: 6965 6c64 206a 736f 6e2e 6c6f 6164 7328  ield json.loads(
+000187f0: 6572 7229 0d0a 2020 2020 2020 2020 2020  err)..          
+00018800: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
+00018810: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
+00018820: 2020 2020 2020 2020 2020 7969 656c 6420            yield 
+00018830: 7b22 6d65 7373 6167 6522 3a4e 6f6e 652c  {"message":None,
+00018840: 226f 7269 6769 6e61 6c22 3a4e 6f6e 652c  "original":None,
+00018850: 2266 696e 6973 6822 3a54 7275 652c 2265  "finish":True,"e
+00018860: 7272 6f72 223a 5472 7565 7d0d 0a20 2020  rror":True}..   
+00018870: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
+00018880: 2020 2020 2020 2020 7969 656c 6420 7b22          yield {"
+00018890: 6d65 7373 6167 6522 3a4e 6f6e 652c 226f  message":None,"o
+000188a0: 7269 6769 6e61 6c22 3a4e 6f6e 652c 2266  riginal":None,"f
+000188b0: 696e 6973 6822 3a54 7275 652c 2265 7272  inish":True,"err
+000188c0: 6f72 223a 5472 7565 7d0d 0a20 2020 2020  or":True}..     
+000188d0: 2020 2070 6173 730d 0a20 2020 2064 6566     pass..    def
+000188e0: 2065 7272 6f72 2873 656c 6629 3a0d 0a20   error(self):.. 
+000188f0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00018900: 6c66 2e65 7272 6f72 0d0a 2020 2020 6465  lf.error..    de
+00018910: 6620 7265 7375 6c74 2873 656c 6629 3a0d  f result(self):.
+00018920: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00018930: 7365 6c66 2e72 6573 756c 740d 0a20 2020  self.result..   
+00018940: 200d 0a63 6c61 7373 2072 656e 6465 7233   ..class render3
+00018950: 6428 293a 0d0a 2020 2020 6572 726f 7220  d():..    error 
+00018960: 3d20 4e6f 6e65 0d0a 2020 2020 7265 7375  = None..    resu
+00018970: 6c74 203d 204e 6f6e 650d 0a20 2020 2064  lt = None..    d
+00018980: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
+00018990: 2c20 7072 6f6d 7074 3d22 222c 2064 6174  , prompt="", dat
+000189a0: 613d 7b0d 0a20 2020 2020 2020 2022 7072  a={..        "pr
+000189b0: 6f6d 7074 5f6e 6567 6174 6976 6522 3a20  ompt_negative": 
+000189c0: 2222 0d0a 2020 2020 7d29 202d 3e20 4e6f  ""..    }) -> No
+000189d0: 6e65 3a0d 0a20 2020 2020 2020 2074 7279  ne:..        try
+000189e0: 3a0d 0a20 2020 2020 2020 2020 2020 2068  :..            h
+000189f0: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
+00018a00: 2020 2020 2020 2020 2020 2020 2243 6f6e              "Con
+00018a10: 7465 6e74 2d54 7970 6522 3a20 2261 7070  tent-Type": "app
+00018a20: 6c69 6361 7469 6f6e 2f6a 736f 6e22 0d0a  lication/json"..
+00018a30: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
+00018a40: 2020 2020 2020 2020 2020 2068 6561 6465             heade
+00018a50: 7273 2e75 7064 6174 6528 6372 6564 290d  rs.update(cred).
+00018a60: 0a0d 0a20 2020 2020 2020 2020 2020 2074  ...            t
+00018a70: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
+00018a80: 2020 2020 2070 726f 6d70 7420 3d20 7072       prompt = pr
+00018a90: 6f6d 7074 2069 6620 7072 6f6d 7074 2069  ompt if prompt i
+00018aa0: 7320 6e6f 7420 4e6f 6e65 2065 6c73 6520  s not None else 
+00018ab0: 2222 0d0a 2020 2020 2020 2020 2020 2020  ""..            
+00018ac0: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
+00018ad0: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
+00018ae0: 2020 2020 2020 2020 7072 6f6d 7074 203d          prompt =
+00018af0: 2022 220d 0a0d 0a20 2020 2020 2020 2020   ""....         
+00018b00: 2020 206d 6420 3d20 7b0d 0a20 2020 2020     md = {..     
+00018b10: 2020 2020 2020 2020 2020 2022 7072 6f6d             "prom
+00018b20: 7074 5f6e 6567 6174 6976 6522 3a20 2222  pt_negative": ""
+00018b30: 0d0a 2020 2020 2020 2020 2020 2020 7d0d  ..            }.
+00018b40: 0a0d 0a20 2020 2020 2020 2020 2020 2074  ...            t
+00018b50: 7279 203a 0d0a 2020 2020 2020 2020 2020  ry :..          
+00018b60: 2020 2020 2020 6966 2064 6174 612e 6765        if data.ge
+00018b70: 7428 2270 726f 6d70 745f 6e65 6761 7469  t("prompt_negati
+00018b80: 7665 2229 2021 3d20 4e6f 6e65 3a0d 0a20  ve") != None:.. 
+00018b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018ba0: 2020 206d 645b 2270 726f 6d70 745f 6e65     md["prompt_ne
+00018bb0: 6761 7469 7665 225d 203d 2064 6174 612e  gative"] = data.
+00018bc0: 6765 7428 2270 726f 6d70 745f 6e65 6761  get("prompt_nega
+00018bd0: 7469 7665 2229 0d0a 2020 2020 2020 2020  tive")..        
+00018be0: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
+00018bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018c00: 2020 206d 645b 2270 726f 6d70 745f 6e65     md["prompt_ne
+00018c10: 6761 7469 7665 225d 203d 2022 220d 0a20  gative"] = "".. 
+00018c20: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+00018c30: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
+00018c40: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00018c50: 2020 206d 6420 3d20 7b0d 0a20 2020 2020     md = {..     
+00018c60: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00018c70: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
+00018c80: 3a20 2222 0d0a 2020 2020 2020 2020 2020  : ""..          
+00018c90: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
+00018ca0: 2020 2020 2020 2064 6174 6120 3d20 7b7d         data = {}
+00018cb0: 0d0a 2020 2020 2020 2020 2020 2020 7472  ..            tr
+00018cc0: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
+00018cd0: 2020 2020 6461 7461 203d 206a 736f 6e2e      data = json.
+00018ce0: 6475 6d70 7328 7b0d 0a20 2020 2020 2020  dumps({..       
+00018cf0: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
+00018d00: 6f6d 7074 223a 2070 726f 6d70 742c 0d0a  ompt": prompt,..
+00018d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018d20: 2020 2020 226d 6f64 656c 223a 2022 7265      "model": "re
+00018d30: 6e64 6572 3364 222c 0d0a 2020 2020 2020  nder3d",..      
+00018d40: 2020 2020 2020 2020 2020 2020 2020 2264                "d
+00018d50: 6174 6122 3a20 6d64 0d0a 2020 2020 2020  ata": md..      
+00018d60: 2020 2020 2020 2020 2020 7d29 0d0a 2020            })..  
+00018d70: 2020 2020 2020 2020 2020 6578 6365 7074            except
+00018d80: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
+00018d90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00018da0: 2020 6461 7461 203d 206a 736f 6e2e 6475    data = json.du
+00018db0: 6d70 7328 7b0d 0a20 2020 2020 2020 2020  mps({..         
+00018dc0: 2020 2020 2020 2020 2020 2022 7072 6f6d             "prom
+00018dd0: 7074 223a 2022 222c 0d0a 2020 2020 2020  pt": "",..      
+00018de0: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00018df0: 6f64 656c 223a 2022 7265 6e64 6572 3364  odel": "render3d
+00018e00: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+00018e10: 2020 2020 2020 2020 2264 6174 6122 3a20          "data": 
+00018e20: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00018e30: 2020 2020 2020 2020 2020 2022 7072 6f6d             "prom
+00018e40: 7074 5f6e 6567 6174 6976 6522 3a20 2222  pt_negative": ""
+00018e50: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00018e60: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+00018e70: 2020 2020 2020 2020 207d 290d 0a20 2020           })..   
+00018e80: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
+00018e90: 2020 2020 2020 2072 6573 706f 6e73 6520         response 
+00018ea0: 3d20 7265 7175 6573 7473 2e70 6f73 7428  = requests.post(
+00018eb0: 7572 6c3d 2268 7474 7073 3a2f 2f6e 6578  url="https://nex
+00018ec0: 7261 2e61 7279 6168 6372 2e63 632f 6170  ra.aryahcr.cc/ap
+00018ed0: 692f 696d 6167 652f 636f 6d70 6c65 6d65  i/image/compleme
+00018ee0: 6e74 7322 2c20 6865 6164 6572 733d 6865  nts", headers=he
+00018ef0: 6164 6572 732c 2064 6174 613d 6461 7461  aders, data=data
+00018f00: 290d 0a20 2020 2020 2020 2020 2020 2069  )..            i
+00018f10: 6620 7265 7370 6f6e 7365 2e73 7461 7475  f response.statu
+00018f20: 735f 636f 6465 203d 3d20 3230 303a 0d0a  s_code == 200:..
+00018f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018f40: 6572 7220 3d20 4e6f 6e65 0d0a 2020 2020  err = None..    
+00018f50: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+00018f60: 6c74 203d 204e 6f6e 650d 0a0d 0a20 2020  lt = None....   
+00018f70: 2020 2020 2020 2020 2020 2020 2063 6f75               cou
+00018f80: 6e74 203d 202d 310d 0a20 2020 2020 2020  nt = -1..       
+00018f90: 2020 2020 2020 2020 2066 6f72 2069 2069           for i i
+00018fa0: 6e20 7261 6e67 6528 6c65 6e28 7265 7370  n range(len(resp
+00018fb0: 6f6e 7365 2e74 6578 7429 293a 0d0a 2020  onse.text)):..  
+00018fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018fd0: 2020 6966 2063 6f75 6e74 203c 3d20 2d31    if count <= -1
+00018fe0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+00018ff0: 2020 2020 2020 2020 2020 2069 6620 7265             if re
+00019000: 7370 6f6e 7365 2e74 6578 745b 695d 203d  sponse.text[i] =
+00019010: 3d20 227b 223a 0d0a 2020 2020 2020 2020  = "{":..        
 00019020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019030: 2020 2022 7769 6474 6822 3a20 3130 3234     "width": 1024
-00019040: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00019050: 2020 2020 2020 2020 2020 2022 6865 6967             "heig
-00019060: 6874 223a 2031 3032 342c 0d0a 2020 2020  ht": 1024,..    
-00019070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019080: 2020 2020 2267 7569 6461 6e63 655f 7363      "guidance_sc
-00019090: 616c 6522 3a20 330d 0a20 2020 2020 2020  ale": 3..       
-000190a0: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
+00019030: 2020 2020 636f 756e 7420 3d20 690d 0a20      count = i.. 
+00019040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019050: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+00019060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019070: 2020 6272 6561 6b0d 0a20 2020 2020 2020    break..       
+00019080: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
+00019090: 2020 2020 2020 2020 2020 2069 6620 636f             if co
+000190a0: 756e 7420 3c3d 202d 313a 0d0a 2020 2020  unt <= -1:..    
 000190b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000190c0: 7d29 0d0a 2020 2020 2020 2020 2020 2020  })..            
-000190d0: 0d0a 2020 2020 2020 2020 2020 2020 7265  ..            re
-000190e0: 7370 6f6e 7365 203d 2072 6571 7565 7374  sponse = request
-000190f0: 732e 706f 7374 2875 726c 3d22 6874 7470  s.post(url="http
-00019100: 733a 2f2f 6e65 7872 612e 6172 7961 6863  s://nexra.aryahc
-00019110: 722e 6363 2f61 7069 2f69 6d61 6765 2f63  r.cc/api/image/c
-00019120: 6f6d 706c 656d 656e 7473 222c 2068 6561  omplements", hea
-00019130: 6465 7273 3d68 6561 6465 7273 2c20 6461  ders=headers, da
-00019140: 7461 3d64 6174 6129 0d0a 2020 2020 2020  ta=data)..      
-00019150: 2020 2020 2020 6966 2072 6573 706f 6e73        if respons
-00019160: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00019170: 2032 3030 3a0d 0a20 2020 2020 2020 2020   200:..         
-00019180: 2020 2020 2020 2065 7272 203d 204e 6f6e         err = Non
-00019190: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-000191a0: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
-000191b0: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
-000191c0: 2020 2020 636f 756e 7420 3d20 2d31 0d0a      count = -1..
-000191d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000191e0: 666f 7220 6920 696e 2072 616e 6765 286c  for i in range(l
-000191f0: 656e 2872 6573 706f 6e73 652e 7465 7874  en(response.text
-00019200: 2929 3a0d 0a20 2020 2020 2020 2020 2020  )):..           
-00019210: 2020 2020 2020 2020 2069 6620 636f 756e           if coun
-00019220: 7420 3c3d 202d 313a 0d0a 2020 2020 2020  t <= -1:..      
-00019230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019240: 2020 6966 2072 6573 706f 6e73 652e 7465    if response.te
-00019250: 7874 5b69 5d20 3d3d 2022 7b22 3a0d 0a20  xt[i] == "{":.. 
+000190c0: 6572 7220 3d20 7b0d 0a20 2020 2020 2020  err = {..       
+000190d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000190e0: 2022 636f 6465 223a 2035 3030 2c0d 0a20   "code": 500,.. 
+000190f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019100: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
+00019110: 2046 616c 7365 2c0d 0a20 2020 2020 2020   False,..       
+00019120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019130: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
+00019140: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
+00019150: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+00019160: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
+00019170: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
+00019180: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
+00019190: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000191a0: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+000191b0: 2020 2020 2020 2020 2020 2020 2072 6573               res
+000191c0: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
+000191d0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+000191e0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+000191f0: 2020 2020 2020 2074 7279 3a0d 0a20 2020         try:..   
+00019200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019210: 2020 2020 206a 7320 3d20 7265 7370 6f6e       js = respon
+00019220: 7365 2e74 6578 745b 636f 756e 743a 5d0d  se.text[count:].
+00019230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019240: 2020 2020 2020 2020 206a 7320 3d20 6a73           js = js
+00019250: 6f6e 2e6c 6f61 6473 286a 7329 0d0a 2020  on.loads(js)..  
 00019260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019270: 2020 2020 2020 2020 2020 2063 6f75 6e74             count
-00019280: 203d 2069 0d0a 2020 2020 2020 2020 2020   = i..          
-00019290: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
-000192a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000192b0: 2020 2020 2020 2020 2062 7265 616b 0d0a           break..
-000192c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000192d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000192e0: 2020 6966 2063 6f75 6e74 203c 3d20 2d31    if count <= -1
-000192f0: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00019300: 2020 2020 2020 2065 7272 203d 207b 0d0a         err = {..
+00019270: 2020 2020 2020 6966 206a 7320 213d 204e        if js != N
+00019280: 6f6e 6520 616e 6420 6a73 5b22 636f 6465  one and js["code
+00019290: 225d 2021 3d20 4e6f 6e65 2061 6e64 206a  "] != None and j
+000192a0: 735b 2263 6f64 6522 5d20 3d3d 2032 3030  s["code"] == 200
+000192b0: 2061 6e64 206a 735b 2273 7461 7475 7322   and js["status"
+000192c0: 5d20 213d 204e 6f6e 6520 616e 6420 6a73  ] != None and js
+000192d0: 5b22 7374 6174 7573 225d 203d 3d20 5472  ["status"] == Tr
+000192e0: 7565 3a0d 0a20 2020 2020 2020 2020 2020  ue:..           
+000192f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019300: 2072 6573 756c 7420 3d20 6a73 0d0a 2020   result = js..  
 00019310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019320: 2020 2020 2020 2020 2263 6f64 6522 3a20          "code": 
-00019330: 3530 302c 0d0a 2020 2020 2020 2020 2020  500,..          
-00019340: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-00019350: 7461 7475 7322 3a20 4661 6c73 652c 0d0a  tatus": False,..
+00019320: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
+00019330: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
+00019340: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00019350: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
 00019360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019370: 2020 2020 2020 2020 2265 7272 6f72 223a          "error":
-00019380: 2022 494e 5445 524e 414c 5f53 4552 5645   "INTERNAL_SERVE
-00019390: 525f 4552 524f 5222 2c0d 0a20 2020 2020  R_ERROR",..     
-000193a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000193b0: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
-000193c0: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
-000193d0: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
-000193e0: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
-000193f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019400: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
-00019410: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-00019420: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
-00019430: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-00019440: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
-00019450: 2020 2020 2020 2020 2020 2020 6a73 203d              js =
-00019460: 2072 6573 706f 6e73 652e 7465 7874 5b63   response.text[c
-00019470: 6f75 6e74 3a5d 0d0a 2020 2020 2020 2020  ount:]..        
-00019480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019490: 6a73 203d 206a 736f 6e2e 6c6f 6164 7328  js = json.loads(
-000194a0: 6a73 290d 0a20 2020 2020 2020 2020 2020  js)..           
-000194b0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-000194c0: 6a73 2021 3d20 4e6f 6e65 2061 6e64 206a  js != None and j
-000194d0: 735b 2263 6f64 6522 5d20 213d 204e 6f6e  s["code"] != Non
-000194e0: 6520 616e 6420 6a73 5b22 636f 6465 225d  e and js["code"]
-000194f0: 203d 3d20 3230 3020 616e 6420 6a73 5b22   == 200 and js["
-00019500: 7374 6174 7573 225d 2021 3d20 4e6f 6e65  status"] != None
-00019510: 2061 6e64 206a 735b 2273 7461 7475 7322   and js["status"
-00019520: 5d20 3d3d 2054 7275 653a 0d0a 2020 2020  ] == True:..    
-00019530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019540: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-00019550: 206a 730d 0a20 2020 2020 2020 2020 2020   js..           
-00019560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019570: 2065 7272 203d 204e 6f6e 650d 0a20 2020   err = None..   
-00019580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019590: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
+00019370: 2065 7272 203d 206a 730d 0a20 2020 2020   err = js..     
+00019380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019390: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+000193a0: 4e6f 6e65 0d0a 2020 2020 2020 2020 2020  None..          
+000193b0: 2020 2020 2020 2020 2020 6578 6365 7074            except
+000193c0: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
+000193d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000193e0: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
+000193f0: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+00019400: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00019410: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
+00019420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019430: 2020 2020 2020 2020 2022 7374 6174 7573           "status
+00019440: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
+00019450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019460: 2020 2020 2020 2022 6572 726f 7222 3a20         "error": 
+00019470: 2249 4e54 4552 4e41 4c5f 5345 5256 4552  "INTERNAL_SERVER
+00019480: 5f45 5252 4f52 222c 0d0a 2020 2020 2020  _ERROR",..      
+00019490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000194a0: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
+000194b0: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
+000194c0: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
+000194d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000194e0: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
+000194f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00019500: 6573 756c 7420 3d20 4e6f 6e65 0d0a 0d0a  esult = None....
+00019510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019520: 2020 2020 6966 2072 6573 756c 7420 3d3d      if result ==
+00019530: 204e 6f6e 6520 616e 6420 6572 7220 213d   None and err !=
+00019540: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+00019550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019560: 7365 6c66 2e65 7272 6f72 203d 2065 7272  self.error = err
+00019570: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00019580: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
+00019590: 6573 756c 7420 3d20 4e6f 6e65 0d0a 2020  esult = None..  
 000195a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000195b0: 2020 2020 2020 2020 6572 7220 3d20 6a73          err = js
-000195c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000195d0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-000195e0: 7375 6c74 203d 204e 6f6e 650d 0a20 2020  sult = None..   
-000195f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019600: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-00019610: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
-00019620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019630: 2065 7272 203d 207b 0d0a 2020 2020 2020   err = {..      
-00019640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019650: 2020 2020 2020 2263 6f64 6522 3a20 3530        "code": 50
-00019660: 302c 0d0a 2020 2020 2020 2020 2020 2020  0,..            
-00019670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019680: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
-00019690: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000196a0: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-000196b0: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
-000196c0: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
-000196d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000196e0: 2020 2020 2020 2020 2020 2020 2022 6d65               "me
-000196f0: 7373 6167 6522 3a20 2267 656e 6572 616c  ssage": "general
-00019700: 2028 756e 6b6e 6f77 6e29 2065 7272 6f72   (unknown) error
-00019710: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
-00019720: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
+000195b0: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+000195c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000195d0: 2073 656c 662e 7265 7375 6c74 203d 2072   self.result = r
+000195e0: 6573 756c 740d 0a20 2020 2020 2020 2020  esult..         
+000195f0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00019600: 656c 662e 6572 726f 7220 3d20 4e6f 6e65  elf.error = None
+00019610: 0d0a 2020 2020 2020 2020 2020 2020 656c  ..            el
+00019620: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+00019630: 2020 2020 2064 6174 615f 6572 7220 3d20       data_err = 
+00019640: 7b7d 0d0a 2020 2020 2020 2020 2020 2020  {}..            
+00019650: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
+00019660: 2020 2020 2020 2020 2020 2020 2020 6461                da
+00019670: 7461 5f65 7272 203d 206a 736f 6e2e 6c6f  ta_err = json.lo
+00019680: 6164 7328 7265 7370 6f6e 7365 2e74 6578  ads(response.tex
+00019690: 7429 0d0a 2020 2020 2020 2020 2020 2020  t)..            
+000196a0: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+000196b0: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
+000196c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000196d0: 6461 7461 5f65 7272 203d 207b 0d0a 2020  data_err = {..  
+000196e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000196f0: 2020 2020 2020 2263 6f64 6522 3a20 3530        "code": 50
+00019700: 302c 0d0a 2020 2020 2020 2020 2020 2020  0,..            
+00019710: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
+00019720: 7475 7322 3a20 4661 6c73 652c 0d0a 2020  tus": False,..  
 00019730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019740: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
-00019750: 6f6e 650d 0a0d 0a20 2020 2020 2020 2020  one....         
-00019760: 2020 2020 2020 2020 2020 2069 6620 7265             if re
-00019770: 7375 6c74 203d 3d20 4e6f 6e65 2061 6e64  sult == None and
-00019780: 2065 7272 2021 3d20 4e6f 6e65 3a0d 0a20   err != None:.. 
-00019790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000197a0: 2020 2020 2020 2073 656c 662e 6572 726f         self.erro
-000197b0: 7220 3d20 6572 720d 0a20 2020 2020 2020  r = err..       
-000197c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000197d0: 2073 656c 662e 7265 7375 6c74 203d 204e   self.result = N
-000197e0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-000197f0: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
-00019800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019810: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
-00019820: 756c 7420 3d20 7265 7375 6c74 0d0a 2020  ult = result..  
-00019830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019840: 2020 2020 2020 7365 6c66 2e65 7272 6f72        self.error
-00019850: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
-00019860: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
-00019870: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00019880: 5f65 7272 203d 207b 7d0d 0a20 2020 2020  _err = {}..     
-00019890: 2020 2020 2020 2020 2020 2074 7279 3a0d             try:.
-000198a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000198b0: 2020 2020 2064 6174 615f 6572 7220 3d20       data_err = 
-000198c0: 6a73 6f6e 2e6c 6f61 6473 2872 6573 706f  json.loads(respo
-000198d0: 6e73 652e 7465 7874 290d 0a20 2020 2020  nse.text)..     
-000198e0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-000198f0: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
-00019900: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-00019910: 2020 2020 2020 2064 6174 615f 6572 7220         data_err 
-00019920: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-00019930: 2020 2020 2020 2020 2020 2020 2022 636f               "co
-00019940: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
-00019950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019960: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
-00019970: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
-00019980: 2020 2020 2020 2020 2020 2020 2022 6572               "er
-00019990: 726f 7222 3a20 2249 4e54 4552 4e41 4c5f  ror": "INTERNAL_
-000199a0: 5345 5256 4552 5f45 5252 4f52 222c 0d0a  SERVER_ERROR",..
-000199b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000199c0: 2020 2020 2020 2020 226d 6573 7361 6765          "message
-000199d0: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
-000199e0: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
-000199f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019a00: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
-00019a10: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
-00019a20: 2020 2020 2020 2073 656c 662e 6572 726f         self.erro
-00019a30: 7220 3d20 6461 7461 5f65 7272 0d0a 2020  r = data_err..  
-00019a40: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00019a50: 6c66 2e72 6573 756c 7420 3d20 4e6f 6e65  lf.result = None
-00019a60: 0d0a 2020 2020 2020 2020 6578 6365 7074  ..        except
-00019a70: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
-00019a80: 0d0a 2020 2020 2020 2020 2020 2020 7365  ..            se
-00019a90: 6c66 2e65 7272 6f72 203d 207b 0d0a 2020  lf.error = {..  
-00019aa0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-00019ab0: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
-00019ac0: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
-00019ad0: 7475 7322 3a20 4661 6c73 652c 0d0a 2020  tus": False,..  
-00019ae0: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-00019af0: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
-00019b00: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
-00019b10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019b20: 2022 6d65 7373 6167 6522 3a20 2267 656e   "message": "gen
-00019b30: 6572 616c 2028 756e 6b6e 6f77 6e29 2065  eral (unknown) e
-00019b40: 7272 6f72 220d 0a20 2020 2020 2020 2020  rror"..         
-00019b50: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
-00019b60: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
-00019b70: 4e6f 6e65 0d0a 2020 2020 2020 2020 7061  None..        pa
-00019b80: 7373 0d0a 2020 2020 6465 6620 6572 726f  ss..    def erro
-00019b90: 7228 7365 6c66 293a 0d0a 2020 2020 2020  r(self):..      
-00019ba0: 2020 7265 7475 726e 2073 656c 662e 6572    return self.er
-00019bb0: 726f 720d 0a20 2020 2064 6566 2072 6573  ror..    def res
-00019bc0: 756c 7428 7365 6c66 293a 0d0a 2020 2020  ult(self):..    
-00019bd0: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-00019be0: 7265 7375 6c74 0d0a 0d0a 636c 6173 7320  result....class 
-00019bf0: 7069 7865 6c61 7274 2829 3a0d 0a20 2020  pixelart():..   
-00019c00: 2065 7272 6f72 203d 204e 6f6e 650d 0a20   error = None.. 
-00019c10: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
-00019c20: 0d0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
-00019c30: 5f5f 2873 656c 662c 2070 726f 6d70 743d  __(self, prompt=
-00019c40: 2222 2c20 6461 7461 3d7b 0d0a 2020 2020  "", data={..    
-00019c50: 2020 2020 2270 726f 6d70 745f 6e65 6761      "prompt_nega
-00019c60: 7469 7665 223a 2022 220d 0a20 2020 207d  tive": ""..    }
-00019c70: 2920 2d3e 204e 6f6e 653a 0d0a 2020 2020  ) -> None:..    
-00019c80: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
-00019c90: 2020 2020 2020 6865 6164 6572 7320 3d20        headers = 
-00019ca0: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
-00019cb0: 2020 2022 436f 6e74 656e 742d 5479 7065     "Content-Type
-00019cc0: 223a 2022 6170 706c 6963 6174 696f 6e2f  ": "application/
-00019cd0: 6a73 6f6e 220d 0a20 2020 2020 2020 2020  json"..         
-00019ce0: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
-00019cf0: 2020 6865 6164 6572 732e 7570 6461 7465    headers.update
-00019d00: 2863 7265 6429 0d0a 0d0a 2020 2020 2020  (cred)....      
-00019d10: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
-00019d20: 2020 2020 2020 2020 2020 2020 7072 6f6d              prom
-00019d30: 7074 203d 2070 726f 6d70 7420 6966 2070  pt = prompt if p
-00019d40: 726f 6d70 7420 6973 206e 6f74 204e 6f6e  rompt is not Non
-00019d50: 6520 656c 7365 2022 220d 0a20 2020 2020  e else ""..     
-00019d60: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-00019d70: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
-00019d80: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00019d90: 726f 6d70 7420 3d20 2222 0d0a 0d0a 2020  rompt = ""....  
-00019da0: 2020 2020 2020 2020 2020 6d64 203d 207b            md = {
-00019db0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00019dc0: 2020 2270 726f 6d70 745f 6e65 6761 7469    "prompt_negati
-00019dd0: 7665 223a 2022 220d 0a20 2020 2020 2020  ve": ""..       
-00019de0: 2020 2020 207d 0d0a 0d0a 2020 2020 2020       }....      
-00019df0: 2020 2020 2020 7472 7920 3a0d 0a20 2020        try :..   
-00019e00: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00019e10: 6461 7461 2e67 6574 2822 7072 6f6d 7074  data.get("prompt
-00019e20: 5f6e 6567 6174 6976 6522 2920 213d 204e  _negative") != N
-00019e30: 6f6e 653a 0d0a 2020 2020 2020 2020 2020  one:..          
-00019e40: 2020 2020 2020 2020 2020 6d64 5b22 7072            md["pr
-00019e50: 6f6d 7074 5f6e 6567 6174 6976 6522 5d20  ompt_negative"] 
-00019e60: 3d20 6461 7461 2e67 6574 2822 7072 6f6d  = data.get("prom
-00019e70: 7074 5f6e 6567 6174 6976 6522 290d 0a20  pt_negative").. 
-00019e80: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00019e90: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
-00019ea0: 2020 2020 2020 2020 2020 6d64 5b22 7072            md["pr
-00019eb0: 6f6d 7074 5f6e 6567 6174 6976 6522 5d20  ompt_negative"] 
-00019ec0: 3d20 2222 0d0a 2020 2020 2020 2020 2020  = ""..          
-00019ed0: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-00019ee0: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
-00019ef0: 2020 2020 2020 2020 2020 6d64 203d 207b            md = {
-00019f00: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00019f10: 2020 2020 2020 2270 726f 6d70 745f 6e65        "prompt_ne
-00019f20: 6761 7469 7665 223a 2022 220d 0a20 2020  gative": ""..   
-00019f30: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
-00019f40: 0d0a 2020 2020 2020 2020 2020 2020 6461  ..            da
-00019f50: 7461 203d 207b 7d0d 0a20 2020 2020 2020  ta = {}..       
-00019f60: 2020 2020 2074 7279 3a0d 0a20 2020 2020       try:..     
-00019f70: 2020 2020 2020 2020 2020 2064 6174 6120             data 
-00019f80: 3d20 6a73 6f6e 2e64 756d 7073 287b 0d0a  = json.dumps({..
-00019f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019fa0: 2020 2020 2270 726f 6d70 7422 3a20 7072      "prompt": pr
-00019fb0: 6f6d 7074 2c0d 0a20 2020 2020 2020 2020  ompt,..         
-00019fc0: 2020 2020 2020 2020 2020 2022 6d6f 6465             "mode
-00019fd0: 6c22 3a20 2270 6978 656c 2d61 7274 222c  l": "pixel-art",
-00019fe0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00019ff0: 2020 2020 2020 2264 6174 6122 3a20 6d64        "data": md
-0001a000: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001a010: 2020 7d29 0d0a 2020 2020 2020 2020 2020    })..          
-0001a020: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-0001a030: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
-0001a040: 2020 2020 2020 2020 2020 6461 7461 203d            data =
-0001a050: 206a 736f 6e2e 6475 6d70 7328 7b0d 0a20   json.dumps({.. 
-0001a060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a070: 2020 2022 7072 6f6d 7074 223a 2022 222c     "prompt": "",
-0001a080: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001a090: 2020 2020 2020 226d 6f64 656c 223a 2022        "model": "
-0001a0a0: 7069 7865 6c2d 6172 7422 2c0d 0a20 2020  pixel-art",..   
-0001a0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a0c0: 2022 6461 7461 223a 207b 0d0a 2020 2020   "data": {..    
-0001a0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a0e0: 2020 2020 2270 726f 6d70 745f 6e65 6761      "prompt_nega
-0001a0f0: 7469 7665 223a 2022 220d 0a20 2020 2020  tive": ""..     
-0001a100: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-0001a110: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001a120: 2020 7d29 0d0a 2020 2020 2020 2020 2020    })..          
-0001a130: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
-0001a140: 7265 7370 6f6e 7365 203d 2072 6571 7565  response = reque
-0001a150: 7374 732e 706f 7374 2875 726c 3d22 6874  sts.post(url="ht
-0001a160: 7470 733a 2f2f 6e65 7872 612e 6172 7961  tps://nexra.arya
-0001a170: 6863 722e 6363 2f61 7069 2f69 6d61 6765  hcr.cc/api/image
-0001a180: 2f63 6f6d 706c 656d 656e 7473 222c 2068  /complements", h
-0001a190: 6561 6465 7273 3d68 6561 6465 7273 2c20  eaders=headers, 
-0001a1a0: 6461 7461 3d64 6174 6129 0d0a 2020 2020  data=data)..    
-0001a1b0: 2020 2020 2020 2020 6966 2072 6573 706f          if respo
-0001a1c0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-0001a1d0: 3d3d 2032 3030 3a0d 0a20 2020 2020 2020  == 200:..       
-0001a1e0: 2020 2020 2020 2020 2065 7272 203d 204e           err = N
-0001a1f0: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-0001a200: 2020 2020 2072 6573 756c 7420 3d20 4e6f       result = No
-0001a210: 6e65 0d0a 0d0a 2020 2020 2020 2020 2020  ne....          
-0001a220: 2020 2020 2020 636f 756e 7420 3d20 2d31        count = -1
-0001a230: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001a240: 2020 666f 7220 6920 696e 2072 616e 6765    for i in range
-0001a250: 286c 656e 2872 6573 706f 6e73 652e 7465  (len(response.te
-0001a260: 7874 2929 3a0d 0a20 2020 2020 2020 2020  xt)):..         
-0001a270: 2020 2020 2020 2020 2020 2069 6620 636f             if co
-0001a280: 756e 7420 3c3d 202d 313a 0d0a 2020 2020  unt <= -1:..    
-0001a290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a2a0: 2020 2020 6966 2072 6573 706f 6e73 652e      if response.
-0001a2b0: 7465 7874 5b69 5d20 3d3d 2022 7b22 3a0d  text[i] == "{":.
-0001a2c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a2d0: 2020 2020 2020 2020 2020 2020 2063 6f75               cou
-0001a2e0: 6e74 203d 2069 0d0a 2020 2020 2020 2020  nt = i..        
-0001a2f0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0001a300: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0001a310: 2020 2020 2020 2020 2020 2062 7265 616b             break
-0001a320: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001a330: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
-0001a340: 2020 2020 6966 2063 6f75 6e74 203c 3d20      if count <= 
-0001a350: 2d31 3a0d 0a20 2020 2020 2020 2020 2020  -1:..           
-0001a360: 2020 2020 2020 2020 2065 7272 203d 207b           err = {
-0001a370: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001a380: 2020 2020 2020 2020 2020 2263 6f64 6522            "code"
-0001a390: 3a20 3530 302c 0d0a 2020 2020 2020 2020  : 500,..        
-0001a3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a3b0: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
-0001a3c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001a3d0: 2020 2020 2020 2020 2020 2265 7272 6f72            "error
-0001a3e0: 223a 2022 494e 5445 524e 414c 5f53 4552  ": "INTERNAL_SER
-0001a3f0: 5645 525f 4552 524f 5222 2c0d 0a20 2020  VER_ERROR",..   
-0001a400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a410: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
-0001a420: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
-0001a430: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
-0001a440: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-0001a450: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001a460: 2020 2020 2020 7265 7375 6c74 203d 204e        result = N
-0001a470: 6f6e 650d 0a20 2020 2020 2020 2020 2020  one..           
-0001a480: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
-0001a490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a4a0: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
-0001a4b0: 2020 2020 2020 2020 2020 2020 2020 6a73                js
-0001a4c0: 203d 2072 6573 706f 6e73 652e 7465 7874   = response.text
-0001a4d0: 5b63 6f75 6e74 3a5d 0d0a 2020 2020 2020  [count:]..      
-0001a4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a4f0: 2020 6a73 203d 206a 736f 6e2e 6c6f 6164    js = json.load
-0001a500: 7328 6a73 290d 0a20 2020 2020 2020 2020  s(js)..         
-0001a510: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0001a520: 6620 6a73 2021 3d20 4e6f 6e65 2061 6e64  f js != None and
-0001a530: 206a 735b 2263 6f64 6522 5d20 213d 204e   js["code"] != N
-0001a540: 6f6e 6520 616e 6420 6a73 5b22 636f 6465  one and js["code
-0001a550: 225d 203d 3d20 3230 3020 616e 6420 6a73  "] == 200 and js
-0001a560: 5b22 7374 6174 7573 225d 2021 3d20 4e6f  ["status"] != No
-0001a570: 6e65 2061 6e64 206a 735b 2273 7461 7475  ne and js["statu
-0001a580: 7322 5d20 3d3d 2054 7275 653a 0d0a 2020  s"] == True:..  
-0001a590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a5a0: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-0001a5b0: 203d 206a 730d 0a20 2020 2020 2020 2020   = js..         
-0001a5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a5d0: 2020 2065 7272 203d 204e 6f6e 650d 0a20     err = None.. 
-0001a5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a5f0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
-0001a600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a610: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
-0001a620: 6a73 0d0a 2020 2020 2020 2020 2020 2020  js..            
-0001a630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a640: 7265 7375 6c74 203d 204e 6f6e 650d 0a20  result = None.. 
-0001a650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a660: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
-0001a670: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
-0001a680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a690: 2020 2065 7272 203d 207b 0d0a 2020 2020     err = {..    
-0001a6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a6b0: 2020 2020 2020 2020 2263 6f64 6522 3a20          "code": 
-0001a6c0: 3530 302c 0d0a 2020 2020 2020 2020 2020  500,..          
-0001a6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a6e0: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
-0001a6f0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-0001a700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a710: 2265 7272 6f72 223a 2022 494e 5445 524e  "error": "INTERN
-0001a720: 414c 5f53 4552 5645 525f 4552 524f 5222  AL_SERVER_ERROR"
+00019740: 2020 2020 2020 2265 7272 6f72 223a 2022        "error": "
+00019750: 494e 5445 524e 414c 5f53 4552 5645 525f  INTERNAL_SERVER_
+00019760: 4552 524f 5222 2c0d 0a20 2020 2020 2020  ERROR",..       
+00019770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019780: 2022 6d65 7373 6167 6522 3a20 2267 656e   "message": "gen
+00019790: 6572 616c 2028 756e 6b6e 6f77 6e29 2065  eral (unknown) e
+000197a0: 7272 6f72 220d 0a20 2020 2020 2020 2020  rror"..         
+000197b0: 2020 2020 2020 2020 2020 207d 0d0a 2020             }..  
+000197c0: 2020 2020 2020 2020 2020 2020 2020 0d0a                ..
+000197d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000197e0: 7365 6c66 2e65 7272 6f72 203d 2064 6174  self.error = dat
+000197f0: 615f 6572 720d 0a20 2020 2020 2020 2020  a_err..         
+00019800: 2020 2020 2020 2073 656c 662e 7265 7375         self.resu
+00019810: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
+00019820: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
+00019830: 696f 6e20 6173 2065 3a0d 0a20 2020 2020  ion as e:..     
+00019840: 2020 2020 2020 2073 656c 662e 6572 726f         self.erro
+00019850: 7220 3d20 7b0d 0a20 2020 2020 2020 2020  r = {..         
+00019860: 2020 2020 2020 2022 636f 6465 223a 2035         "code": 5
+00019870: 3030 2c0d 0a20 2020 2020 2020 2020 2020  00,..           
+00019880: 2020 2020 2022 7374 6174 7573 223a 2046       "status": F
+00019890: 616c 7365 2c0d 0a20 2020 2020 2020 2020  alse,..         
+000198a0: 2020 2020 2020 2022 6572 726f 7222 3a20         "error": 
+000198b0: 2249 4e54 4552 4e41 4c5f 5345 5256 4552  "INTERNAL_SERVER
+000198c0: 5f45 5252 4f52 222c 0d0a 2020 2020 2020  _ERROR",..      
+000198d0: 2020 2020 2020 2020 2020 226d 6573 7361            "messa
+000198e0: 6765 223a 2022 6765 6e65 7261 6c20 2875  ge": "general (u
+000198f0: 6e6b 6e6f 776e 2920 6572 726f 7222 0d0a  nknown) error"..
+00019900: 2020 2020 2020 2020 2020 2020 7d0d 0a20              }.. 
+00019910: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00019920: 7265 7375 6c74 203d 204e 6f6e 650d 0a20  result = None.. 
+00019930: 2020 2020 2020 2070 6173 730d 0a20 2020         pass..   
+00019940: 2064 6566 2065 7272 6f72 2873 656c 6629   def error(self)
+00019950: 3a0d 0a20 2020 2020 2020 2072 6574 7572  :..        retur
+00019960: 6e20 7365 6c66 2e65 7272 6f72 0d0a 2020  n self.error..  
+00019970: 2020 6465 6620 7265 7375 6c74 2873 656c    def result(sel
+00019980: 6629 3a0d 0a20 2020 2020 2020 2072 6574  f):..        ret
+00019990: 7572 6e20 7365 6c66 2e72 6573 756c 740d  urn self.result.
+000199a0: 0a0d 0a63 6c61 7373 2061 6e69 6d61 6769  ...class animagi
+000199b0: 6e65 2829 3a0d 0a20 2020 2065 7272 6f72  ne():..    error
+000199c0: 203d 204e 6f6e 650d 0a20 2020 2072 6573   = None..    res
+000199d0: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
+000199e0: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
+000199f0: 662c 2070 726f 6d70 743d 2222 2c20 6461  f, prompt="", da
+00019a00: 7461 3d7b 0d0a 2020 2020 2020 2020 2270  ta={..        "p
+00019a10: 726f 6d70 745f 6e65 6761 7469 7665 223a  rompt_negative":
+00019a20: 2022 222c 0d0a 2020 2020 2020 2020 2277   "",..        "w
+00019a30: 6964 7468 223a 2022 222c 0d0a 2020 2020  idth": "",..    
+00019a40: 2020 2020 2268 6569 6768 7422 3a20 2222      "height": ""
+00019a50: 2c0d 0a20 2020 2020 2020 2022 6775 6964  ,..        "guid
+00019a60: 616e 6365 5f73 6361 6c65 223a 2022 222c  ance_scale": "",
+00019a70: 0d0a 2020 2020 2020 2020 2271 7561 6c69  ..        "quali
+00019a80: 7479 5f74 6167 7322 3a20 2222 2c0d 0a20  ty_tags": "",.. 
+00019a90: 2020 2020 2020 2022 7374 796c 655f 7072         "style_pr
+00019aa0: 6573 656e 7422 3a20 2222 2c0d 0a20 2020  esent": "",..   
+00019ab0: 2020 2020 2022 7374 7265 6e67 7468 223a       "strength":
+00019ac0: 2022 222c 0d0a 2020 2020 2020 2020 2275   "",..        "u
+00019ad0: 7073 6361 6c65 223a 2022 222c 0d0a 2020  pscale": "",..  
+00019ae0: 2020 2020 2020 2273 616d 706c 6572 223a        "sampler":
+00019af0: 2022 222c 0d0a 2020 2020 2020 2020 2269   "",..        "i
+00019b00: 6e66 6572 656e 6365 5f73 7465 7073 223a  nference_steps":
+00019b10: 2022 222c 0d0a 2020 2020 7d29 202d 3e20   "",..    }) -> 
+00019b20: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2074  None:..        t
+00019b30: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
+00019b40: 2068 6561 6465 7273 203d 207b 0d0a 2020   headers = {..  
+00019b50: 2020 2020 2020 2020 2020 2020 2020 2243                "C
+00019b60: 6f6e 7465 6e74 2d54 7970 6522 3a20 2261  ontent-Type": "a
+00019b70: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e22  pplication/json"
+00019b80: 0d0a 2020 2020 2020 2020 2020 2020 7d0d  ..            }.
+00019b90: 0a20 2020 2020 2020 2020 2020 2068 6561  .            hea
+00019ba0: 6465 7273 2e75 7064 6174 6528 6372 6564  ders.update(cred
+00019bb0: 290d 0a0d 0a20 2020 2020 2020 2020 2020  )....           
+00019bc0: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+00019bd0: 2020 2020 2020 2070 726f 6d70 7420 3d20         prompt = 
+00019be0: 7072 6f6d 7074 2069 6620 7072 6f6d 7074  prompt if prompt
+00019bf0: 2069 7320 6e6f 7420 4e6f 6e65 2065 6c73   is not None els
+00019c00: 6520 2222 0d0a 2020 2020 2020 2020 2020  e ""..          
+00019c10: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
+00019c20: 6f6e 2061 7320 653a 0d0a 2020 2020 2020  on as e:..      
+00019c30: 2020 2020 2020 2020 2020 7072 6f6d 7074            prompt
+00019c40: 203d 2022 220d 0a0d 0a20 2020 2020 2020   = ""....       
+00019c50: 2020 2020 206d 6420 3d20 7b0d 0a20 2020       md = {..   
+00019c60: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
+00019c70: 6f6d 7074 5f6e 6567 6174 6976 6522 3a20  ompt_negative": 
+00019c80: 2222 2c0d 0a20 2020 2020 2020 2020 2020  "",..           
+00019c90: 2020 2020 2022 7769 6474 6822 3a20 3130       "width": 10
+00019ca0: 3234 2c0d 0a20 2020 2020 2020 2020 2020  24,..           
+00019cb0: 2020 2020 2022 6865 6967 6874 223a 2031       "height": 1
+00019cc0: 3032 342c 0d0a 2020 2020 2020 2020 2020  024,..          
+00019cd0: 2020 2020 2020 2267 7569 6461 6e63 655f        "guidance_
+00019ce0: 7363 616c 6522 3a20 372c 0d0a 2020 2020  scale": 7,..    
+00019cf0: 2020 2020 2020 2020 2020 2020 2271 7561              "qua
+00019d00: 6c69 7479 5f74 6167 7322 3a20 2253 7461  lity_tags": "Sta
+00019d10: 6e64 6172 6422 2c0d 0a20 2020 2020 2020  ndard",..       
+00019d20: 2020 2020 2020 2020 2022 7374 796c 655f           "style_
+00019d30: 7072 6573 656e 7422 3a20 2228 4e6f 6e65  present": "(None
+00019d40: 2922 2c0d 0a20 2020 2020 2020 2020 2020  )",..           
+00019d50: 2020 2020 2022 7374 7265 6e67 7468 223a       "strength":
+00019d60: 2030 2e35 2c0d 0a20 2020 2020 2020 2020   0.5,..         
+00019d70: 2020 2020 2020 2022 7570 7363 616c 6522         "upscale"
+00019d80: 3a20 312e 352c 0d0a 2020 2020 2020 2020  : 1.5,..        
+00019d90: 2020 2020 2020 2020 2273 616d 706c 6572          "sampler
+00019da0: 223a 2022 4575 6c65 7220 6122 2c0d 0a20  ": "Euler a",.. 
+00019db0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00019dc0: 696e 6665 7265 6e63 655f 7374 6570 7322  inference_steps"
+00019dd0: 3a20 3238 2c0d 0a20 2020 2020 2020 2020  : 28,..         
+00019de0: 2020 207d 0d0a 0d0a 2020 2020 2020 2020     }....        
+00019df0: 2020 2020 7472 7920 3a0d 0a20 2020 2020      try :..     
+00019e00: 2020 2020 2020 2020 2020 2069 6620 6461             if da
+00019e10: 7461 2e67 6574 2822 7072 6f6d 7074 5f6e  ta.get("prompt_n
+00019e20: 6567 6174 6976 6522 2920 213d 204e 6f6e  egative") != Non
+00019e30: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00019e40: 2020 2020 2020 2020 6d64 5b22 7072 6f6d          md["prom
+00019e50: 7074 5f6e 6567 6174 6976 6522 5d20 3d20  pt_negative"] = 
+00019e60: 6461 7461 2e67 6574 2822 7072 6f6d 7074  data.get("prompt
+00019e70: 5f6e 6567 6174 6976 6522 290d 0a20 2020  _negative")..   
+00019e80: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00019e90: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+00019ea0: 2020 2020 2020 2020 6d64 5b22 7072 6f6d          md["prom
+00019eb0: 7074 5f6e 6567 6174 6976 6522 5d20 3d20  pt_negative"] = 
+00019ec0: 2222 0d0a 2020 2020 2020 2020 2020 2020  ""..            
+00019ed0: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
+00019ee0: 2020 2020 2020 6966 2064 6174 612e 6765        if data.ge
+00019ef0: 7428 2277 6964 7468 2229 2021 3d20 4e6f  t("width") != No
+00019f00: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
+00019f10: 2020 2020 2020 2020 206d 645b 2277 6964           md["wid
+00019f20: 7468 225d 203d 2064 6174 612e 6765 7428  th"] = data.get(
+00019f30: 2277 6964 7468 2229 0d0a 2020 2020 2020  "width")..      
+00019f40: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+00019f50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019f60: 2020 2020 206d 645b 2277 6964 7468 225d       md["width"]
+00019f70: 203d 2031 3032 340d 0a20 2020 2020 2020   = 1024..       
+00019f80: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
+00019f90: 2020 2020 2020 2020 2020 2069 6620 6461             if da
+00019fa0: 7461 2e67 6574 2822 6865 6967 6874 2229  ta.get("height")
+00019fb0: 2021 3d20 4e6f 6e65 3a0d 0a20 2020 2020   != None:..     
+00019fc0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00019fd0: 645b 2268 6569 6768 7422 5d20 3d20 6461  d["height"] = da
+00019fe0: 7461 2e67 6574 2822 6865 6967 6874 2229  ta.get("height")
+00019ff0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001a000: 2020 656c 7365 3a0d 0a20 2020 2020 2020    else:..       
+0001a010: 2020 2020 2020 2020 2020 2020 206d 645b               md[
+0001a020: 2268 6569 6768 7422 5d20 3d20 3130 3234  "height"] = 1024
+0001a030: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001a040: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
+0001a050: 2020 2020 6966 2064 6174 612e 6765 7428      if data.get(
+0001a060: 2267 7569 6461 6e63 655f 7363 616c 6522  "guidance_scale"
+0001a070: 2920 213d 204e 6f6e 653a 0d0a 2020 2020  ) != None:..    
+0001a080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a090: 6d64 5b22 6775 6964 616e 6365 5f73 6361  md["guidance_sca
+0001a0a0: 6c65 225d 203d 2064 6174 612e 6765 7428  le"] = data.get(
+0001a0b0: 2267 7569 6461 6e63 655f 7363 616c 6522  "guidance_scale"
+0001a0c0: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+0001a0d0: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+0001a0e0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+0001a0f0: 5b22 6775 6964 616e 6365 5f73 6361 6c65  ["guidance_scale
+0001a100: 225d 203d 2037 0d0a 2020 2020 2020 2020  "] = 7..        
+0001a110: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
+0001a120: 2020 2020 2020 2020 2020 6966 2064 6174            if dat
+0001a130: 612e 6765 7428 2271 7561 6c69 7479 5f74  a.get("quality_t
+0001a140: 6167 7322 2920 213d 204e 6f6e 653a 0d0a  ags") != None:..
+0001a150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a160: 2020 2020 6d64 5b22 7175 616c 6974 795f      md["quality_
+0001a170: 7461 6773 225d 203d 2064 6174 612e 6765  tags"] = data.ge
+0001a180: 7428 2271 7561 6c69 7479 5f74 6167 7322  t("quality_tags"
+0001a190: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+0001a1a0: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+0001a1b0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+0001a1c0: 5b22 7175 616c 6974 795f 7461 6773 225d  ["quality_tags"]
+0001a1d0: 203d 2022 5374 616e 6461 7264 220d 0a20   = "Standard".. 
+0001a1e0: 2020 2020 2020 2020 2020 2020 2020 200d                 .
+0001a1f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a200: 2069 6620 6461 7461 2e67 6574 2822 7374   if data.get("st
+0001a210: 796c 655f 7072 6573 656e 7422 2920 213d  yle_present") !=
+0001a220: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+0001a230: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
+0001a240: 7374 796c 655f 7072 6573 656e 7422 5d20  style_present"] 
+0001a250: 3d20 6461 7461 2e67 6574 2822 7374 796c  = data.get("styl
+0001a260: 655f 7072 6573 656e 7422 290d 0a20 2020  e_present")..   
+0001a270: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+0001a280: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0001a290: 2020 2020 2020 2020 6d64 5b22 7374 796c          md["styl
+0001a2a0: 655f 7072 6573 656e 7422 5d20 3d20 2228  e_present"] = "(
+0001a2b0: 4e6f 6e65 2922 0d0a 2020 2020 2020 2020  None)"..        
+0001a2c0: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
+0001a2d0: 2020 2020 2020 2020 2020 6966 2064 6174            if dat
+0001a2e0: 612e 6765 7428 2273 7472 656e 6774 6822  a.get("strength"
+0001a2f0: 2920 213d 204e 6f6e 653a 0d0a 2020 2020  ) != None:..    
+0001a300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a310: 6d64 5b22 7374 7265 6e67 7468 225d 203d  md["strength"] =
+0001a320: 2064 6174 612e 6765 7428 2273 7472 656e   data.get("stren
+0001a330: 6774 6822 290d 0a20 2020 2020 2020 2020  gth")..         
+0001a340: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+0001a350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a360: 2020 6d64 5b22 7374 7265 6e67 7468 225d    md["strength"]
+0001a370: 203d 2030 2e35 0d0a 2020 2020 2020 2020   = 0.5..        
+0001a380: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
+0001a390: 2020 2020 2020 2020 2020 6966 2064 6174            if dat
+0001a3a0: 612e 6765 7428 2275 7073 6361 6c65 2229  a.get("upscale")
+0001a3b0: 2021 3d20 4e6f 6e65 3a0d 0a20 2020 2020   != None:..     
+0001a3c0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+0001a3d0: 645b 2275 7073 6361 6c65 225d 203d 2064  d["upscale"] = d
+0001a3e0: 6174 612e 6765 7428 2275 7073 6361 6c65  ata.get("upscale
+0001a3f0: 2229 0d0a 2020 2020 2020 2020 2020 2020  ")..            
+0001a400: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
+0001a410: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+0001a420: 645b 2275 7073 6361 6c65 225d 203d 2031  d["upscale"] = 1
+0001a430: 2e35 0d0a 2020 2020 2020 2020 2020 2020  .5..            
+0001a440: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
+0001a450: 2020 2020 2020 6966 2064 6174 612e 6765        if data.ge
+0001a460: 7428 2273 616d 706c 6572 2229 2021 3d20  t("sampler") != 
+0001a470: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
+0001a480: 2020 2020 2020 2020 2020 206d 645b 2273             md["s
+0001a490: 616d 706c 6572 225d 203d 2064 6174 612e  ampler"] = data.
+0001a4a0: 6765 7428 2273 616d 706c 6572 2229 0d0a  get("sampler")..
+0001a4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a4c0: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+0001a4d0: 2020 2020 2020 2020 2020 206d 645b 2273             md["s
+0001a4e0: 616d 706c 6572 225d 203d 2022 4575 6c65  ampler"] = "Eule
+0001a4f0: 7220 6122 0d0a 2020 2020 2020 2020 2020  r a"..          
+0001a500: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+0001a510: 2020 2020 2020 2020 6966 2064 6174 612e          if data.
+0001a520: 6765 7428 2269 6e66 6572 656e 6365 5f73  get("inference_s
+0001a530: 7465 7073 2229 2021 3d20 4e6f 6e65 3a0d  teps") != None:.
+0001a540: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a550: 2020 2020 206d 645b 2269 6e66 6572 656e       md["inferen
+0001a560: 6365 5f73 7465 7073 225d 203d 2064 6174  ce_steps"] = dat
+0001a570: 612e 6765 7428 2269 6e66 6572 656e 6365  a.get("inference
+0001a580: 5f73 7465 7073 2229 0d0a 2020 2020 2020  _steps")..      
+0001a590: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+0001a5a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a5b0: 2020 2020 206d 645b 2269 6e66 6572 656e       md["inferen
+0001a5c0: 6365 5f73 7465 7073 225d 203d 2032 380d  ce_steps"] = 28.
+0001a5d0: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+0001a5e0: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
+0001a5f0: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
+0001a600: 2020 2020 206d 6420 3d20 7b0d 0a20 2020       md = {..   
+0001a610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a620: 2022 7072 6f6d 7074 5f6e 6567 6174 6976   "prompt_negativ
+0001a630: 6522 3a20 2222 2c0d 0a20 2020 2020 2020  e": "",..       
+0001a640: 2020 2020 2020 2020 2020 2020 2022 7769               "wi
+0001a650: 6474 6822 3a20 3130 3234 2c0d 0a20 2020  dth": 1024,..   
+0001a660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a670: 2022 6865 6967 6874 223a 2031 3032 342c   "height": 1024,
+0001a680: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001a690: 2020 2020 2020 2267 7569 6461 6e63 655f        "guidance_
+0001a6a0: 7363 616c 6522 3a20 372c 0d0a 2020 2020  scale": 7,..    
+0001a6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a6c0: 2271 7561 6c69 7479 5f74 6167 7322 3a20  "quality_tags": 
+0001a6d0: 2253 7461 6e64 6172 6422 2c0d 0a20 2020  "Standard",..   
+0001a6e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a6f0: 2022 7374 796c 655f 7072 6573 656e 7422   "style_present"
+0001a700: 3a20 2228 4e6f 6e65 2922 2c0d 0a20 2020  : "(None)",..   
+0001a710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a720: 2022 7374 7265 6e67 7468 223a 2030 2e35   "strength": 0.5
 0001a730: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0001a740: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0001a750: 6d65 7373 6167 6522 3a20 2267 656e 6572  message": "gener
-0001a760: 616c 2028 756e 6b6e 6f77 6e29 2065 7272  al (unknown) err
-0001a770: 6f72 220d 0a20 2020 2020 2020 2020 2020  or"..           
-0001a780: 2020 2020 2020 2020 2020 2020 207d 0d0a               }..
-0001a790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a7a0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-0001a7b0: 204e 6f6e 650d 0a0d 0a20 2020 2020 2020   None....       
-0001a7c0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0001a7d0: 7265 7375 6c74 203d 3d20 4e6f 6e65 2061  result == None a
-0001a7e0: 6e64 2065 7272 2021 3d20 4e6f 6e65 3a0d  nd err != None:.
-0001a7f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a800: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
-0001a810: 726f 7220 3d20 6572 720d 0a20 2020 2020  ror = err..     
-0001a820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a830: 2020 2073 656c 662e 7265 7375 6c74 203d     self.result =
-0001a840: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
-0001a850: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0001a860: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001a870: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
-0001a880: 6573 756c 7420 3d20 7265 7375 6c74 0d0a  esult = result..
-0001a890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a8a0: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
-0001a8b0: 6f72 203d 204e 6f6e 650d 0a20 2020 2020  or = None..     
-0001a8c0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
-0001a8d0: 2020 2020 2020 2020 2020 2020 2020 6461                da
-0001a8e0: 7461 5f65 7272 203d 207b 7d0d 0a20 2020  ta_err = {}..   
-0001a8f0: 2020 2020 2020 2020 2020 2020 2074 7279               try
-0001a900: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
-0001a910: 2020 2020 2020 2064 6174 615f 6572 7220         data_err 
-0001a920: 3d20 6a73 6f6e 2e6c 6f61 6473 2872 6573  = json.loads(res
-0001a930: 706f 6e73 652e 7465 7874 290d 0a20 2020  ponse.text)..   
-0001a940: 2020 2020 2020 2020 2020 2020 2065 7863               exc
-0001a950: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
-0001a960: 2065 3a0d 0a20 2020 2020 2020 2020 2020   e:..           
-0001a970: 2020 2020 2020 2020 2064 6174 615f 6572           data_er
-0001a980: 7220 3d20 7b0d 0a20 2020 2020 2020 2020  r = {..         
-0001a990: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0001a9a0: 636f 6465 223a 2035 3030 2c0d 0a20 2020  code": 500,..   
+0001a740: 2020 2020 2020 2022 7570 7363 616c 6522         "upscale"
+0001a750: 3a20 312e 352c 0d0a 2020 2020 2020 2020  : 1.5,..        
+0001a760: 2020 2020 2020 2020 2020 2020 2273 616d              "sam
+0001a770: 706c 6572 223a 2022 4575 6c65 7220 6122  pler": "Euler a"
+0001a780: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0001a790: 2020 2020 2020 2022 696e 6665 7265 6e63         "inferenc
+0001a7a0: 655f 7374 6570 7322 3a20 3238 2c0d 0a20  e_steps": 28,.. 
+0001a7b0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+0001a7c0: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
+0001a7d0: 6461 7461 203d 207b 7d0d 0a20 2020 2020  data = {}..     
+0001a7e0: 2020 2020 2020 2074 7279 3a0d 0a20 2020         try:..   
+0001a7f0: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+0001a800: 6120 3d20 6a73 6f6e 2e64 756d 7073 287b  a = json.dumps({
+0001a810: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001a820: 2020 2020 2020 2270 726f 6d70 7422 3a20        "prompt": 
+0001a830: 7072 6f6d 7074 2c0d 0a20 2020 2020 2020  prompt,..       
+0001a840: 2020 2020 2020 2020 2020 2020 2022 6d6f               "mo
+0001a850: 6465 6c22 3a20 2261 6e69 6d61 6769 6e65  del": "animagine
+0001a860: 2d78 6c22 2c0d 0a20 2020 2020 2020 2020  -xl",..         
+0001a870: 2020 2020 2020 2020 2020 2022 6461 7461             "data
+0001a880: 223a 206d 640d 0a20 2020 2020 2020 2020  ": md..         
+0001a890: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
+0001a8a0: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
+0001a8b0: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
+0001a8c0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+0001a8d0: 6174 6120 3d20 6a73 6f6e 2e64 756d 7073  ata = json.dumps
+0001a8e0: 287b 0d0a 2020 2020 2020 2020 2020 2020  ({..            
+0001a8f0: 2020 2020 2020 2020 2270 726f 6d70 7422          "prompt"
+0001a900: 3a20 2222 2c0d 0a20 2020 2020 2020 2020  : "",..         
+0001a910: 2020 2020 2020 2020 2020 2022 6d6f 6465             "mode
+0001a920: 6c22 3a20 2261 6e69 6d61 6769 6e65 2d78  l": "animagine-x
+0001a930: 6c22 2c0d 0a20 2020 2020 2020 2020 2020  l",..           
+0001a940: 2020 2020 2020 2020 2022 6461 7461 223a           "data":
+0001a950: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+0001a960: 2020 2020 2020 2020 2020 2020 2270 726f              "pro
+0001a970: 6d70 745f 6e65 6761 7469 7665 223a 2022  mpt_negative": "
+0001a980: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+0001a990: 2020 2020 2020 2020 2020 2020 2277 6964              "wid
+0001a9a0: 7468 223a 2031 3032 342c 0d0a 2020 2020  th": 1024,..    
 0001a9b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a9c0: 2020 2020 2022 7374 6174 7573 223a 2046       "status": F
-0001a9d0: 616c 7365 2c0d 0a20 2020 2020 2020 2020  alse,..         
-0001a9e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0001a9f0: 6572 726f 7222 3a20 2249 4e54 4552 4e41  error": "INTERNA
-0001aa00: 4c5f 5345 5256 4552 5f45 5252 4f52 222c  L_SERVER_ERROR",
-0001aa10: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001aa20: 2020 2020 2020 2020 2020 226d 6573 7361            "messa
-0001aa30: 6765 223a 2022 6765 6e65 7261 6c20 2875  ge": "general (u
-0001aa40: 6e6b 6e6f 776e 2920 6572 726f 7222 0d0a  nknown) error"..
-0001aa50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001aa60: 2020 2020 7d0d 0a20 2020 2020 2020 2020      }..         
-0001aa70: 2020 2020 2020 200d 0a20 2020 2020 2020         ..       
-0001aa80: 2020 2020 2020 2020 2073 656c 662e 6572           self.er
-0001aa90: 726f 7220 3d20 6461 7461 5f65 7272 0d0a  ror = data_err..
-0001aaa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001aab0: 7365 6c66 2e72 6573 756c 7420 3d20 4e6f  self.result = No
-0001aac0: 6e65 0d0a 2020 2020 2020 2020 6578 6365  ne..        exce
-0001aad0: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
-0001aae0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-0001aaf0: 7365 6c66 2e65 7272 6f72 203d 207b 0d0a  self.error = {..
-0001ab00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ab10: 2263 6f64 6522 3a20 3530 302c 0d0a 2020  "code": 500,..  
-0001ab20: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-0001ab30: 7461 7475 7322 3a20 4661 6c73 652c 0d0a  tatus": False,..
-0001ab40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ab50: 2265 7272 6f72 223a 2022 494e 5445 524e  "error": "INTERN
-0001ab60: 414c 5f53 4552 5645 525f 4552 524f 5222  AL_SERVER_ERROR"
-0001ab70: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0001ab80: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
-0001ab90: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
-0001aba0: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
-0001abb0: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
-0001abc0: 2020 2020 7365 6c66 2e72 6573 756c 7420      self.result 
-0001abd0: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
-0001abe0: 7061 7373 0d0a 2020 2020 6465 6620 6572  pass..    def er
-0001abf0: 726f 7228 7365 6c66 293a 0d0a 2020 2020  ror(self):..    
-0001ac00: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-0001ac10: 6572 726f 720d 0a20 2020 2064 6566 2072  error..    def r
-0001ac20: 6573 756c 7428 7365 6c66 293a 0d0a 2020  esult(self):..  
-0001ac30: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-0001ac40: 662e 7265 7375 6c74                      f.result
+0001a9c0: 2020 2020 2268 6569 6768 7422 3a20 3130      "height": 10
+0001a9d0: 3234 2c0d 0a20 2020 2020 2020 2020 2020  24,..           
+0001a9e0: 2020 2020 2020 2020 2020 2020 2022 6775               "gu
+0001a9f0: 6964 616e 6365 5f73 6361 6c65 223a 2037  idance_scale": 7
+0001aa00: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0001aa10: 2020 2020 2020 2020 2020 2022 7175 616c             "qual
+0001aa20: 6974 795f 7461 6773 223a 2022 5374 616e  ity_tags": "Stan
+0001aa30: 6461 7264 222c 0d0a 2020 2020 2020 2020  dard",..        
+0001aa40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aa50: 2273 7479 6c65 5f70 7265 7365 6e74 223a  "style_present":
+0001aa60: 2022 284e 6f6e 6529 222c 0d0a 2020 2020   "(None)",..    
+0001aa70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aa80: 2020 2020 2273 7472 656e 6774 6822 3a20      "strength": 
+0001aa90: 302e 352c 0d0a 2020 2020 2020 2020 2020  0.5,..          
+0001aaa0: 2020 2020 2020 2020 2020 2020 2020 2275                "u
+0001aab0: 7073 6361 6c65 223a 2031 2e35 2c0d 0a20  pscale": 1.5,.. 
+0001aac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aad0: 2020 2020 2020 2022 7361 6d70 6c65 7222         "sampler"
+0001aae0: 3a20 2245 756c 6572 2061 222c 0d0a 2020  : "Euler a",..  
+0001aaf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab00: 2020 2020 2020 2269 6e66 6572 656e 6365        "inference
+0001ab10: 5f73 7465 7073 223a 2032 382c 0d0a 2020  _steps": 28,..  
+0001ab20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab30: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
+0001ab40: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
+0001ab50: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
+0001ab60: 2020 2072 6573 706f 6e73 6520 3d20 7265     response = re
+0001ab70: 7175 6573 7473 2e70 6f73 7428 7572 6c3d  quests.post(url=
+0001ab80: 2268 7474 7073 3a2f 2f6e 6578 7261 2e61  "https://nexra.a
+0001ab90: 7279 6168 6372 2e63 632f 6170 692f 696d  ryahcr.cc/api/im
+0001aba0: 6167 652f 636f 6d70 6c65 6d65 6e74 7322  age/complements"
+0001abb0: 2c20 6865 6164 6572 733d 6865 6164 6572  , headers=header
+0001abc0: 732c 2064 6174 613d 6461 7461 290d 0a20  s, data=data).. 
+0001abd0: 2020 2020 2020 2020 2020 2069 6620 7265             if re
+0001abe0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+0001abf0: 6465 203d 3d20 3230 303a 0d0a 2020 2020  de == 200:..    
+0001ac00: 2020 2020 2020 2020 2020 2020 6572 7220              err 
+0001ac10: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+0001ac20: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+0001ac30: 204e 6f6e 650d 0a0d 0a20 2020 2020 2020   None....       
+0001ac40: 2020 2020 2020 2020 2063 6f75 6e74 203d           count =
+0001ac50: 202d 310d 0a20 2020 2020 2020 2020 2020   -1..           
+0001ac60: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
+0001ac70: 6e67 6528 6c65 6e28 7265 7370 6f6e 7365  nge(len(response
+0001ac80: 2e74 6578 7429 293a 0d0a 2020 2020 2020  .text)):..      
+0001ac90: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0001aca0: 2063 6f75 6e74 203c 3d20 2d31 3a0d 0a20   count <= -1:.. 
+0001acb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001acc0: 2020 2020 2020 2069 6620 7265 7370 6f6e         if respon
+0001acd0: 7365 2e74 6578 745b 695d 203d 3d20 227b  se.text[i] == "{
+0001ace0: 223a 0d0a 2020 2020 2020 2020 2020 2020  ":..            
+0001acf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ad00: 636f 756e 7420 3d20 690d 0a20 2020 2020  count = i..     
+0001ad10: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0001ad20: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+0001ad30: 2020 2020 2020 2020 2020 2020 2020 6272                br
+0001ad40: 6561 6b0d 0a20 2020 2020 2020 2020 2020  eak..           
+0001ad50: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
+0001ad60: 2020 2020 2020 2069 6620 636f 756e 7420         if count 
+0001ad70: 3c3d 202d 313a 0d0a 2020 2020 2020 2020  <= -1:..        
+0001ad80: 2020 2020 2020 2020 2020 2020 6572 7220              err 
+0001ad90: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
+0001ada0: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+0001adb0: 6465 223a 2035 3030 2c0d 0a20 2020 2020  de": 500,..     
+0001adc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001add0: 2020 2022 7374 6174 7573 223a 2046 616c     "status": Fal
+0001ade0: 7365 2c0d 0a20 2020 2020 2020 2020 2020  se,..           
+0001adf0: 2020 2020 2020 2020 2020 2020 2022 6572               "er
+0001ae00: 726f 7222 3a20 2249 4e54 4552 4e41 4c5f  ror": "INTERNAL_
+0001ae10: 5345 5256 4552 5f45 5252 4f52 222c 0d0a  SERVER_ERROR",..
+0001ae20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ae30: 2020 2020 2020 2020 226d 6573 7361 6765          "message
+0001ae40: 223a 2022 6765 6e65 7261 6c20 2875 6e6b  ": "general (unk
+0001ae50: 6e6f 776e 2920 6572 726f 7222 0d0a 2020  nown) error"..  
+0001ae60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ae70: 2020 7d0d 0a20 2020 2020 2020 2020 2020    }..           
+0001ae80: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+0001ae90: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+0001aea0: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
+0001aeb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aec0: 2020 2074 7279 3a0d 0a20 2020 2020 2020     try:..       
+0001aed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aee0: 206a 7320 3d20 7265 7370 6f6e 7365 2e74   js = response.t
+0001aef0: 6578 745b 636f 756e 743a 5d0d 0a20 2020  ext[count:]..   
+0001af00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001af10: 2020 2020 206a 7320 3d20 6a73 6f6e 2e6c       js = json.l
+0001af20: 6f61 6473 286a 7329 0d0a 2020 2020 2020  oads(js)..      
+0001af30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001af40: 2020 6966 206a 7320 213d 204e 6f6e 6520    if js != None 
+0001af50: 616e 6420 6a73 5b22 636f 6465 225d 2021  and js["code"] !
+0001af60: 3d20 4e6f 6e65 2061 6e64 206a 735b 2263  = None and js["c
+0001af70: 6f64 6522 5d20 3d3d 2032 3030 2061 6e64  ode"] == 200 and
+0001af80: 206a 735b 2273 7461 7475 7322 5d20 213d   js["status"] !=
+0001af90: 204e 6f6e 6520 616e 6420 6a73 5b22 7374   None and js["st
+0001afa0: 6174 7573 225d 203d 3d20 5472 7565 3a0d  atus"] == True:.
+0001afb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001afc0: 2020 2020 2020 2020 2020 2020 2072 6573               res
+0001afd0: 756c 7420 3d20 6a73 0d0a 2020 2020 2020  ult = js..      
+0001afe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aff0: 2020 2020 2020 6572 7220 3d20 4e6f 6e65        err = None
+0001b000: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001b010: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+0001b020: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b030: 2020 2020 2020 2020 2020 2020 2065 7272               err
+0001b040: 203d 206a 730d 0a20 2020 2020 2020 2020   = js..         
+0001b050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b060: 2020 2072 6573 756c 7420 3d20 4e6f 6e65     result = None
+0001b070: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001b080: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+0001b090: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
+0001b0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b0b0: 2020 2020 2020 6572 7220 3d20 7b0d 0a20        err = {.. 
+0001b0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b0d0: 2020 2020 2020 2020 2020 2022 636f 6465             "code
+0001b0e0: 223a 2035 3030 2c0d 0a20 2020 2020 2020  ": 500,..       
+0001b0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b100: 2020 2020 2022 7374 6174 7573 223a 2046       "status": F
+0001b110: 616c 7365 2c0d 0a20 2020 2020 2020 2020  alse,..         
+0001b120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b130: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
+0001b140: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
+0001b150: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
+0001b160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b170: 2020 226d 6573 7361 6765 223a 2022 6765    "message": "ge
+0001b180: 6e65 7261 6c20 2875 6e6b 6e6f 776e 2920  neral (unknown) 
+0001b190: 6572 726f 7222 0d0a 2020 2020 2020 2020  error"..        
+0001b1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b1b0: 7d0d 0a20 2020 2020 2020 2020 2020 2020  }..             
+0001b1c0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+0001b1d0: 7420 3d20 4e6f 6e65 0d0a 0d0a 2020 2020  t = None....    
+0001b1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b1f0: 6966 2072 6573 756c 7420 3d3d 204e 6f6e  if result == Non
+0001b200: 6520 616e 6420 6572 7220 213d 204e 6f6e  e and err != Non
+0001b210: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0001b220: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001b230: 2e65 7272 6f72 203d 2065 7272 0d0a 2020  .error = err..  
+0001b240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b250: 2020 2020 2020 7365 6c66 2e72 6573 756c        self.resul
+0001b260: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
+0001b270: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0001b280: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+0001b290: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001b2a0: 662e 7265 7375 6c74 203d 2072 6573 756c  f.result = resul
+0001b2b0: 740d 0a20 2020 2020 2020 2020 2020 2020  t..             
+0001b2c0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001b2d0: 6572 726f 7220 3d20 4e6f 6e65 0d0a 2020  error = None..  
+0001b2e0: 2020 2020 2020 2020 2020 656c 7365 3a0d            else:.
+0001b2f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b300: 2064 6174 615f 6572 7220 3d20 7b7d 0d0a   data_err = {}..
+0001b310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b320: 7472 793a 0d0a 2020 2020 2020 2020 2020  try:..          
+0001b330: 2020 2020 2020 2020 2020 6461 7461 5f65            data_e
+0001b340: 7272 203d 206a 736f 6e2e 6c6f 6164 7328  rr = json.loads(
+0001b350: 7265 7370 6f6e 7365 2e74 6578 7429 0d0a  response.text)..
+0001b360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b370: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
+0001b380: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
+0001b390: 2020 2020 2020 2020 2020 2020 6461 7461              data
+0001b3a0: 5f65 7272 203d 207b 0d0a 2020 2020 2020  _err = {..      
+0001b3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b3c0: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
+0001b3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b3e0: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
+0001b3f0: 3a20 4661 6c73 652c 0d0a 2020 2020 2020  : False,..      
+0001b400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b410: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
+0001b420: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
+0001b430: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
+0001b440: 2020 2020 2020 2020 2020 2020 2022 6d65               "me
+0001b450: 7373 6167 6522 3a20 2267 656e 6572 616c  ssage": "general
+0001b460: 2028 756e 6b6e 6f77 6e29 2065 7272 6f72   (unknown) error
+0001b470: 220d 0a20 2020 2020 2020 2020 2020 2020  "..             
+0001b480: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
+0001b490: 2020 2020 2020 2020 2020 0d0a 2020 2020            ..    
+0001b4a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001b4b0: 2e65 7272 6f72 203d 2064 6174 615f 6572  .error = data_er
+0001b4c0: 720d 0a20 2020 2020 2020 2020 2020 2020  r..             
+0001b4d0: 2020 2073 656c 662e 7265 7375 6c74 203d     self.result =
+0001b4e0: 204e 6f6e 650d 0a20 2020 2020 2020 2065   None..        e
+0001b4f0: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
+0001b500: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
+0001b510: 2020 2073 656c 662e 6572 726f 7220 3d20     self.error = 
+0001b520: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+0001b530: 2020 2022 636f 6465 223a 2035 3030 2c0d     "code": 500,.
+0001b540: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b550: 2022 7374 6174 7573 223a 2046 616c 7365   "status": False
+0001b560: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0001b570: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
+0001b580: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
+0001b590: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
+0001b5a0: 2020 2020 2020 226d 6573 7361 6765 223a        "message":
+0001b5b0: 2022 6765 6e65 7261 6c20 2875 6e6b 6e6f   "general (unkno
+0001b5c0: 776e 2920 6572 726f 7222 0d0a 2020 2020  wn) error"..    
+0001b5d0: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
+0001b5e0: 2020 2020 2020 2073 656c 662e 7265 7375         self.resu
+0001b5f0: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
+0001b600: 2020 2070 6173 730d 0a20 2020 2064 6566     pass..    def
+0001b610: 2065 7272 6f72 2873 656c 6629 3a0d 0a20   error(self):.. 
+0001b620: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+0001b630: 6c66 2e65 7272 6f72 0d0a 2020 2020 6465  lf.error..    de
+0001b640: 6620 7265 7375 6c74 2873 656c 6629 3a0d  f result(self):.
+0001b650: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0001b660: 7365 6c66 2e72 6573 756c 740d 0a0d 0a63  self.result....c
+0001b670: 6c61 7373 2070 6c61 7967 726f 756e 6428  lass playground(
+0001b680: 293a 0d0a 2020 2020 6572 726f 7220 3d20  ):..    error = 
+0001b690: 4e6f 6e65 0d0a 2020 2020 7265 7375 6c74  None..    result
+0001b6a0: 203d 204e 6f6e 650d 0a20 2020 2064 6566   = None..    def
+0001b6b0: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
+0001b6c0: 7072 6f6d 7074 3d22 222c 2064 6174 613d  prompt="", data=
+0001b6d0: 7b0d 0a20 2020 2020 2020 2022 7072 6f6d  {..        "prom
+0001b6e0: 7074 5f6e 6567 6174 6976 6522 3a20 2222  pt_negative": ""
+0001b6f0: 2c0d 0a20 2020 2020 2020 2022 7769 6474  ,..        "widt
+0001b700: 6822 3a20 2222 2c0d 0a20 2020 2020 2020  h": "",..       
+0001b710: 2022 6865 6967 6874 223a 2022 222c 0d0a   "height": "",..
+0001b720: 2020 2020 2020 2020 2267 7569 6461 6e63          "guidanc
+0001b730: 655f 7363 616c 6522 3a20 2222 0d0a 2020  e_scale": ""..  
+0001b740: 2020 7d29 202d 3e20 4e6f 6e65 3a0d 0a20    }) -> None:.. 
+0001b750: 2020 2020 2020 2074 7279 3a0d 0a20 2020         try:..   
+0001b760: 2020 2020 2020 2020 2068 6561 6465 7273           headers
+0001b770: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+0001b780: 2020 2020 2020 2243 6f6e 7465 6e74 2d54        "Content-T
+0001b790: 7970 6522 3a20 2261 7070 6c69 6361 7469  ype": "applicati
+0001b7a0: 6f6e 2f6a 736f 6e22 0d0a 2020 2020 2020  on/json"..      
+0001b7b0: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+0001b7c0: 2020 2020 2068 6561 6465 7273 2e75 7064       headers.upd
+0001b7d0: 6174 6528 6372 6564 290d 0a0d 0a20 2020  ate(cred)....   
+0001b7e0: 2020 2020 2020 2020 2074 7279 3a0d 0a20           try:.. 
+0001b7f0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0001b800: 726f 6d70 7420 3d20 7072 6f6d 7074 2069  rompt = prompt i
+0001b810: 6620 7072 6f6d 7074 2069 7320 6e6f 7420  f prompt is not 
+0001b820: 4e6f 6e65 2065 6c73 6520 2222 0d0a 2020  None else ""..  
+0001b830: 2020 2020 2020 2020 2020 6578 6365 7074            except
+0001b840: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
+0001b850: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001b860: 2020 7072 6f6d 7074 203d 2022 220d 0a0d    prompt = ""...
+0001b870: 0a20 2020 2020 2020 2020 2020 206d 6420  .            md 
+0001b880: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
+0001b890: 2020 2020 2022 7072 6f6d 7074 5f6e 6567       "prompt_neg
+0001b8a0: 6174 6976 6522 3a20 2222 2c0d 0a20 2020  ative": "",..   
+0001b8b0: 2020 2020 2020 2020 2020 2020 2022 7769               "wi
+0001b8c0: 6474 6822 3a20 3130 3234 2c0d 0a20 2020  dth": 1024,..   
+0001b8d0: 2020 2020 2020 2020 2020 2020 2022 6865               "he
+0001b8e0: 6967 6874 223a 2031 3032 342c 0d0a 2020  ight": 1024,..  
+0001b8f0: 2020 2020 2020 2020 2020 2020 2020 2267                "g
+0001b900: 7569 6461 6e63 655f 7363 616c 6522 3a20  uidance_scale": 
+0001b910: 330d 0a20 2020 2020 2020 2020 2020 207d  3..            }
+0001b920: 0d0a 0d0a 2020 2020 2020 2020 2020 2020  ....            
+0001b930: 7472 7920 3a0d 0a20 2020 2020 2020 2020  try :..         
+0001b940: 2020 2020 2020 2069 6620 6461 7461 2e67         if data.g
+0001b950: 6574 2822 7072 6f6d 7074 5f6e 6567 6174  et("prompt_negat
+0001b960: 6976 6522 2920 213d 204e 6f6e 653a 0d0a  ive") != None:..
+0001b970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b980: 2020 2020 6d64 5b22 7072 6f6d 7074 5f6e      md["prompt_n
+0001b990: 6567 6174 6976 6522 5d20 3d20 6461 7461  egative"] = data
+0001b9a0: 2e67 6574 2822 7072 6f6d 7074 5f6e 6567  .get("prompt_neg
+0001b9b0: 6174 6976 6522 290d 0a20 2020 2020 2020  ative")..       
+0001b9c0: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+0001b9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b9e0: 2020 2020 6d64 5b22 7072 6f6d 7074 5f6e      md["prompt_n
+0001b9f0: 6567 6174 6976 6522 5d20 3d20 2222 0d0a  egative"] = ""..
+0001ba00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ba10: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001ba20: 2020 6966 2064 6174 612e 6765 7428 2277    if data.get("w
+0001ba30: 6964 7468 2229 2021 3d20 4e6f 6e65 3a0d  idth") != None:.
+0001ba40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ba50: 2020 2020 206d 645b 2277 6964 7468 225d       md["width"]
+0001ba60: 203d 2064 6174 612e 6765 7428 2277 6964   = data.get("wid
+0001ba70: 7468 2229 0d0a 2020 2020 2020 2020 2020  th")..          
+0001ba80: 2020 2020 2020 656c 7365 3a0d 0a20 2020        else:..   
+0001ba90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001baa0: 206d 645b 2277 6964 7468 225d 203d 2031   md["width"] = 1
+0001bab0: 3032 340d 0a20 2020 2020 2020 2020 2020  024..           
+0001bac0: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
+0001bad0: 2020 2020 2020 2069 6620 6461 7461 2e67         if data.g
+0001bae0: 6574 2822 6865 6967 6874 2229 2021 3d20  et("height") != 
+0001baf0: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2020  None:..         
+0001bb00: 2020 2020 2020 2020 2020 206d 645b 2268             md["h
+0001bb10: 6569 6768 7422 5d20 3d20 6461 7461 2e67  eight"] = data.g
+0001bb20: 6574 2822 6865 6967 6874 2229 0d0a 2020  et("height")..  
+0001bb30: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0001bb40: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+0001bb50: 2020 2020 2020 2020 206d 645b 2268 6569           md["hei
+0001bb60: 6768 7422 5d20 3d20 3130 3234 0d0a 2020  ght"] = 1024..  
+0001bb70: 2020 2020 2020 2020 2020 2020 2020 0d0a                ..
+0001bb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bb90: 6966 2064 6174 612e 6765 7428 2267 7569  if data.get("gui
+0001bba0: 6461 6e63 655f 7363 616c 6522 2920 213d  dance_scale") !=
+0001bbb0: 204e 6f6e 653a 0d0a 2020 2020 2020 2020   None:..        
+0001bbc0: 2020 2020 2020 2020 2020 2020 6d64 5b22              md["
+0001bbd0: 6775 6964 616e 6365 5f73 6361 6c65 225d  guidance_scale"]
+0001bbe0: 203d 2064 6174 612e 6765 7428 2267 7569   = data.get("gui
+0001bbf0: 6461 6e63 655f 7363 616c 6522 290d 0a20  dance_scale").. 
+0001bc00: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0001bc10: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+0001bc20: 2020 2020 2020 2020 2020 6d64 5b22 6775            md["gu
+0001bc30: 6964 616e 6365 5f73 6361 6c65 225d 203d  idance_scale"] =
+0001bc40: 2033 0d0a 2020 2020 2020 2020 2020 2020   3..            
+0001bc50: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
+0001bc60: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
+0001bc70: 2020 2020 2020 2020 6d64 203d 207b 0d0a          md = {..
+0001bc80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bc90: 2020 2020 2270 726f 6d70 745f 6e65 6761      "prompt_nega
+0001bca0: 7469 7665 223a 2022 222c 0d0a 2020 2020  tive": "",..    
+0001bcb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bcc0: 2277 6964 7468 223a 2031 3032 342c 0d0a  "width": 1024,..
+0001bcd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bce0: 2020 2020 2268 6569 6768 7422 3a20 3130      "height": 10
+0001bcf0: 3234 2c0d 0a20 2020 2020 2020 2020 2020  24,..           
+0001bd00: 2020 2020 2020 2020 2022 6775 6964 616e           "guidan
+0001bd10: 6365 5f73 6361 6c65 223a 2033 0d0a 2020  ce_scale": 3..  
+0001bd20: 2020 2020 2020 2020 2020 2020 2020 7d0d                }.
+0001bd30: 0a0d 0a20 2020 2020 2020 2020 2020 2064  ...            d
+0001bd40: 6174 6120 3d20 7b7d 0d0a 2020 2020 2020  ata = {}..      
+0001bd50: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
+0001bd60: 2020 2020 2020 2020 2020 2020 6461 7461              data
+0001bd70: 203d 206a 736f 6e2e 6475 6d70 7328 7b0d   = json.dumps({.
+0001bd80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001bd90: 2020 2020 2022 7072 6f6d 7074 223a 2070       "prompt": p
+0001bda0: 726f 6d70 742c 0d0a 2020 2020 2020 2020  rompt,..        
+0001bdb0: 2020 2020 2020 2020 2020 2020 226d 6f64              "mod
+0001bdc0: 656c 223a 2022 706c 6179 6772 6f75 6e64  el": "playground
+0001bdd0: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+0001bde0: 2020 2020 2020 2020 2264 6174 6122 3a20          "data": 
+0001bdf0: 6d64 0d0a 2020 2020 2020 2020 2020 2020  md..            
+0001be00: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
+0001be10: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+0001be20: 7469 6f6e 2061 7320 653a 0d0a 2020 2020  tion as e:..    
+0001be30: 2020 2020 2020 2020 2020 2020 6461 7461              data
+0001be40: 203d 206a 736f 6e2e 6475 6d70 7328 7b0d   = json.dumps({.
+0001be50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001be60: 2020 2020 2022 7072 6f6d 7074 223a 2022       "prompt": "
+0001be70: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+0001be80: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
+0001be90: 2022 706c 6179 6772 6f75 6e64 222c 0d0a   "playground",..
+0001bea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001beb0: 2020 2020 2264 6174 6122 3a20 7b0d 0a20      "data": {.. 
+0001bec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bed0: 2020 2020 2020 2022 7072 6f6d 7074 5f6e         "prompt_n
+0001bee0: 6567 6174 6976 6522 3a20 2222 2c0d 0a20  egative": "",.. 
+0001bef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bf00: 2020 2020 2020 2022 7769 6474 6822 3a20         "width": 
+0001bf10: 3130 3234 2c0d 0a20 2020 2020 2020 2020  1024,..         
+0001bf20: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0001bf30: 6865 6967 6874 223a 2031 3032 342c 0d0a  height": 1024,..
+0001bf40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bf50: 2020 2020 2020 2020 2267 7569 6461 6e63          "guidanc
+0001bf60: 655f 7363 616c 6522 3a20 330d 0a20 2020  e_scale": 3..   
+0001bf70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bf80: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
+0001bf90: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
+0001bfa0: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
+0001bfb0: 2020 7265 7370 6f6e 7365 203d 2072 6571    response = req
+0001bfc0: 7565 7374 732e 706f 7374 2875 726c 3d22  uests.post(url="
+0001bfd0: 6874 7470 733a 2f2f 6e65 7872 612e 6172  https://nexra.ar
+0001bfe0: 7961 6863 722e 6363 2f61 7069 2f69 6d61  yahcr.cc/api/ima
+0001bff0: 6765 2f63 6f6d 706c 656d 656e 7473 222c  ge/complements",
+0001c000: 2068 6561 6465 7273 3d68 6561 6465 7273   headers=headers
+0001c010: 2c20 6461 7461 3d64 6174 6129 0d0a 2020  , data=data)..  
+0001c020: 2020 2020 2020 2020 2020 6966 2072 6573            if res
+0001c030: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+0001c040: 6520 3d3d 2032 3030 3a0d 0a20 2020 2020  e == 200:..     
+0001c050: 2020 2020 2020 2020 2020 2065 7272 203d             err =
+0001c060: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+0001c070: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+0001c080: 4e6f 6e65 0d0a 0d0a 2020 2020 2020 2020  None....        
+0001c090: 2020 2020 2020 2020 636f 756e 7420 3d20          count = 
+0001c0a0: 2d31 0d0a 2020 2020 2020 2020 2020 2020  -1..            
+0001c0b0: 2020 2020 666f 7220 6920 696e 2072 616e      for i in ran
+0001c0c0: 6765 286c 656e 2872 6573 706f 6e73 652e  ge(len(response.
+0001c0d0: 7465 7874 2929 3a0d 0a20 2020 2020 2020  text)):..       
+0001c0e0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0001c0f0: 636f 756e 7420 3c3d 202d 313a 0d0a 2020  count <= -1:..  
+0001c100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c110: 2020 2020 2020 6966 2072 6573 706f 6e73        if respons
+0001c120: 652e 7465 7874 5b69 5d20 3d3d 2022 7b22  e.text[i] == "{"
+0001c130: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+0001c140: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0001c150: 6f75 6e74 203d 2069 0d0a 2020 2020 2020  ount = i..      
+0001c160: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0001c170: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+0001c180: 2020 2020 2020 2020 2020 2020 2062 7265               bre
+0001c190: 616b 0d0a 2020 2020 2020 2020 2020 2020  ak..            
+0001c1a0: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
+0001c1b0: 2020 2020 2020 6966 2063 6f75 6e74 203c        if count <
+0001c1c0: 3d20 2d31 3a0d 0a20 2020 2020 2020 2020  = -1:..         
+0001c1d0: 2020 2020 2020 2020 2020 2065 7272 203d             err =
+0001c1e0: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+0001c1f0: 2020 2020 2020 2020 2020 2020 2263 6f64              "cod
+0001c200: 6522 3a20 3530 302c 0d0a 2020 2020 2020  e": 500,..      
+0001c210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c220: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
+0001c230: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+0001c240: 2020 2020 2020 2020 2020 2020 2265 7272              "err
+0001c250: 6f72 223a 2022 494e 5445 524e 414c 5f53  or": "INTERNAL_S
+0001c260: 4552 5645 525f 4552 524f 5222 2c0d 0a20  ERVER_ERROR",.. 
+0001c270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c280: 2020 2020 2020 2022 6d65 7373 6167 6522         "message"
+0001c290: 3a20 2267 656e 6572 616c 2028 756e 6b6e  : "general (unkn
+0001c2a0: 6f77 6e29 2065 7272 6f72 220d 0a20 2020  own) error"..   
+0001c2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c2c0: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
+0001c2d0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+0001c2e0: 204e 6f6e 650d 0a20 2020 2020 2020 2020   None..         
+0001c2f0: 2020 2020 2020 2065 6c73 653a 0d0a 2020         else:..  
+0001c300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c310: 2020 7472 793a 0d0a 2020 2020 2020 2020    try:..        
+0001c320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c330: 6a73 203d 2072 6573 706f 6e73 652e 7465  js = response.te
+0001c340: 7874 5b63 6f75 6e74 3a5d 0d0a 2020 2020  xt[count:]..    
+0001c350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c360: 2020 2020 6a73 203d 206a 736f 6e2e 6c6f      js = json.lo
+0001c370: 6164 7328 6a73 290d 0a20 2020 2020 2020  ads(js)..       
+0001c380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c390: 2069 6620 6a73 2021 3d20 4e6f 6e65 2061   if js != None a
+0001c3a0: 6e64 206a 735b 2263 6f64 6522 5d20 213d  nd js["code"] !=
+0001c3b0: 204e 6f6e 6520 616e 6420 6a73 5b22 636f   None and js["co
+0001c3c0: 6465 225d 203d 3d20 3230 3020 616e 6420  de"] == 200 and 
+0001c3d0: 6a73 5b22 7374 6174 7573 225d 2021 3d20  js["status"] != 
+0001c3e0: 4e6f 6e65 2061 6e64 206a 735b 2273 7461  None and js["sta
+0001c3f0: 7475 7322 5d20 3d3d 2054 7275 653a 0d0a  tus"] == True:..
+0001c400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c410: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+0001c420: 6c74 203d 206a 730d 0a20 2020 2020 2020  lt = js..       
+0001c430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c440: 2020 2020 2065 7272 203d 204e 6f6e 650d       err = None.
+0001c450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001c460: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+0001c470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c480: 2020 2020 2020 2020 2020 2020 6572 7220              err 
+0001c490: 3d20 6a73 0d0a 2020 2020 2020 2020 2020  = js..          
+0001c4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c4b0: 2020 7265 7375 6c74 203d 204e 6f6e 650d    result = None.
+0001c4c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001c4d0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+0001c4e0: 7074 696f 6e20 6173 2065 3a0d 0a20 2020  ption as e:..   
+0001c4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c500: 2020 2020 2065 7272 203d 207b 0d0a 2020       err = {..  
+0001c510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c520: 2020 2020 2020 2020 2020 2263 6f64 6522            "code"
+0001c530: 3a20 3530 302c 0d0a 2020 2020 2020 2020  : 500,..        
+0001c540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c550: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
+0001c560: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
+0001c570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c580: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
+0001c590: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
+0001c5a0: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
+0001c5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c5c0: 2022 6d65 7373 6167 6522 3a20 2267 656e   "message": "gen
+0001c5d0: 6572 616c 2028 756e 6b6e 6f77 6e29 2065  eral (unknown) e
+0001c5e0: 7272 6f72 220d 0a20 2020 2020 2020 2020  rror"..         
+0001c5f0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+0001c600: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001c610: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+0001c620: 203d 204e 6f6e 650d 0a0d 0a20 2020 2020   = None....     
+0001c630: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001c640: 6620 7265 7375 6c74 203d 3d20 4e6f 6e65  f result == None
+0001c650: 2061 6e64 2065 7272 2021 3d20 4e6f 6e65   and err != None
+0001c660: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+0001c670: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001c680: 6572 726f 7220 3d20 6572 720d 0a20 2020  error = err..   
+0001c690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c6a0: 2020 2020 2073 656c 662e 7265 7375 6c74       self.result
+0001c6b0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+0001c6c0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+0001c6d0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+0001c6e0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001c6f0: 2e72 6573 756c 7420 3d20 7265 7375 6c74  .result = result
+0001c700: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001c710: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
+0001c720: 7272 6f72 203d 204e 6f6e 650d 0a20 2020  rror = None..   
+0001c730: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+0001c740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c750: 6461 7461 5f65 7272 203d 207b 7d0d 0a20  data_err = {}.. 
+0001c760: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0001c770: 7279 3a0d 0a20 2020 2020 2020 2020 2020  ry:..           
+0001c780: 2020 2020 2020 2020 2064 6174 615f 6572           data_er
+0001c790: 7220 3d20 6a73 6f6e 2e6c 6f61 6473 2872  r = json.loads(r
+0001c7a0: 6573 706f 6e73 652e 7465 7874 290d 0a20  esponse.text).. 
+0001c7b0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0001c7c0: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
+0001c7d0: 6173 2065 3a0d 0a20 2020 2020 2020 2020  as e:..         
+0001c7e0: 2020 2020 2020 2020 2020 2064 6174 615f             data_
+0001c7f0: 6572 7220 3d20 7b0d 0a20 2020 2020 2020  err = {..       
+0001c800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c810: 2022 636f 6465 223a 2035 3030 2c0d 0a20   "code": 500,.. 
+0001c820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c830: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
+0001c840: 2046 616c 7365 2c0d 0a20 2020 2020 2020   False,..       
+0001c850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c860: 2022 6572 726f 7222 3a20 2249 4e54 4552   "error": "INTER
+0001c870: 4e41 4c5f 5345 5256 4552 5f45 5252 4f52  NAL_SERVER_ERROR
+0001c880: 222c 0d0a 2020 2020 2020 2020 2020 2020  ",..            
+0001c890: 2020 2020 2020 2020 2020 2020 226d 6573              "mes
+0001c8a0: 7361 6765 223a 2022 6765 6e65 7261 6c20  sage": "general 
+0001c8b0: 2875 6e6b 6e6f 776e 2920 6572 726f 7222  (unknown) error"
+0001c8c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001c8d0: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+0001c8e0: 2020 2020 2020 2020 200d 0a20 2020 2020           ..     
+0001c8f0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001c900: 6572 726f 7220 3d20 6461 7461 5f65 7272  error = data_err
+0001c910: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001c920: 2020 7365 6c66 2e72 6573 756c 7420 3d20    self.result = 
+0001c930: 4e6f 6e65 0d0a 2020 2020 2020 2020 6578  None..        ex
+0001c940: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+0001c950: 7320 653a 0d0a 2020 2020 2020 2020 2020  s e:..          
+0001c960: 2020 7365 6c66 2e65 7272 6f72 203d 207b    self.error = {
+0001c970: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001c980: 2020 2263 6f64 6522 3a20 3530 302c 0d0a    "code": 500,..
+0001c990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c9a0: 2273 7461 7475 7322 3a20 4661 6c73 652c  "status": False,
+0001c9b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001c9c0: 2020 2265 7272 6f72 223a 2022 494e 5445    "error": "INTE
+0001c9d0: 524e 414c 5f53 4552 5645 525f 4552 524f  RNAL_SERVER_ERRO
+0001c9e0: 5222 2c0d 0a20 2020 2020 2020 2020 2020  R",..           
+0001c9f0: 2020 2020 2022 6d65 7373 6167 6522 3a20       "message": 
+0001ca00: 2267 656e 6572 616c 2028 756e 6b6e 6f77  "general (unknow
+0001ca10: 6e29 2065 7272 6f72 220d 0a20 2020 2020  n) error"..     
+0001ca20: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
+0001ca30: 2020 2020 2020 7365 6c66 2e72 6573 756c        self.resul
+0001ca40: 7420 3d20 4e6f 6e65 0d0a 2020 2020 2020  t = None..      
+0001ca50: 2020 7061 7373 0d0a 2020 2020 6465 6620    pass..    def 
+0001ca60: 6572 726f 7228 7365 6c66 293a 0d0a 2020  error(self):..  
+0001ca70: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+0001ca80: 662e 6572 726f 720d 0a20 2020 2064 6566  f.error..    def
+0001ca90: 2072 6573 756c 7428 7365 6c66 293a 0d0a   result(self):..
+0001caa0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+0001cab0: 656c 662e 7265 7375 6c74 0d0a 0d0a 636c  elf.result....cl
+0001cac0: 6173 7320 7069 7865 6c61 7274 2829 3a0d  ass pixelart():.
+0001cad0: 0a20 2020 2065 7272 6f72 203d 204e 6f6e  .    error = Non
+0001cae0: 650d 0a20 2020 2072 6573 756c 7420 3d20  e..    result = 
+0001caf0: 4e6f 6e65 0d0a 2020 2020 6465 6620 5f5f  None..    def __
+0001cb00: 696e 6974 5f5f 2873 656c 662c 2070 726f  init__(self, pro
+0001cb10: 6d70 743d 2222 2c20 6461 7461 3d7b 0d0a  mpt="", data={..
+0001cb20: 2020 2020 2020 2020 2270 726f 6d70 745f          "prompt_
+0001cb30: 6e65 6761 7469 7665 223a 2022 220d 0a20  negative": "".. 
+0001cb40: 2020 207d 2920 2d3e 204e 6f6e 653a 0d0a     }) -> None:..
+0001cb50: 2020 2020 2020 2020 7472 793a 0d0a 2020          try:..  
+0001cb60: 2020 2020 2020 2020 2020 6865 6164 6572            header
+0001cb70: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
+0001cb80: 2020 2020 2020 2022 436f 6e74 656e 742d         "Content-
+0001cb90: 5479 7065 223a 2022 6170 706c 6963 6174  Type": "applicat
+0001cba0: 696f 6e2f 6a73 6f6e 220d 0a20 2020 2020  ion/json"..     
+0001cbb0: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
+0001cbc0: 2020 2020 2020 6865 6164 6572 732e 7570        headers.up
+0001cbd0: 6461 7465 2863 7265 6429 0d0a 0d0a 2020  date(cred)....  
+0001cbe0: 2020 2020 2020 2020 2020 7472 793a 0d0a            try:..
+0001cbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cc00: 7072 6f6d 7074 203d 2070 726f 6d70 7420  prompt = prompt 
+0001cc10: 6966 2070 726f 6d70 7420 6973 206e 6f74  if prompt is not
+0001cc20: 204e 6f6e 6520 656c 7365 2022 220d 0a20   None else "".. 
+0001cc30: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0001cc40: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
+0001cc50: 3a0d 0a20 2020 2020 2020 2020 2020 2020  :..             
+0001cc60: 2020 2070 726f 6d70 7420 3d20 2222 0d0a     prompt = ""..
+0001cc70: 0d0a 2020 2020 2020 2020 2020 2020 6d64  ..            md
+0001cc80: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+0001cc90: 2020 2020 2020 2270 726f 6d70 745f 6e65        "prompt_ne
+0001cca0: 6761 7469 7665 223a 2022 220d 0a20 2020  gative": ""..   
+0001ccb0: 2020 2020 2020 2020 207d 0d0a 0d0a 2020           }....  
+0001ccc0: 2020 2020 2020 2020 2020 7472 7920 3a0d            try :.
+0001ccd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001cce0: 2069 6620 6461 7461 2e67 6574 2822 7072   if data.get("pr
+0001ccf0: 6f6d 7074 5f6e 6567 6174 6976 6522 2920  ompt_negative") 
+0001cd00: 213d 204e 6f6e 653a 0d0a 2020 2020 2020  != None:..      
+0001cd10: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+0001cd20: 5b22 7072 6f6d 7074 5f6e 6567 6174 6976  ["prompt_negativ
+0001cd30: 6522 5d20 3d20 6461 7461 2e67 6574 2822  e"] = data.get("
+0001cd40: 7072 6f6d 7074 5f6e 6567 6174 6976 6522  prompt_negative"
+0001cd50: 290d 0a20 2020 2020 2020 2020 2020 2020  )..             
+0001cd60: 2020 2065 6c73 653a 0d0a 2020 2020 2020     else:..      
+0001cd70: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+0001cd80: 5b22 7072 6f6d 7074 5f6e 6567 6174 6976  ["prompt_negativ
+0001cd90: 6522 5d20 3d20 2222 0d0a 2020 2020 2020  e"] = ""..      
+0001cda0: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+0001cdb0: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
+0001cdc0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+0001cdd0: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+0001cde0: 2020 2020 2020 2020 2020 2270 726f 6d70            "promp
+0001cdf0: 745f 6e65 6761 7469 7665 223a 2022 220d  t_negative": "".
+0001ce00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ce10: 207d 0d0a 0d0a 2020 2020 2020 2020 2020   }....          
+0001ce20: 2020 6461 7461 203d 207b 7d0d 0a20 2020    data = {}..   
+0001ce30: 2020 2020 2020 2020 2074 7279 3a0d 0a20           try:.. 
+0001ce40: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+0001ce50: 6174 6120 3d20 6a73 6f6e 2e64 756d 7073  ata = json.dumps
+0001ce60: 287b 0d0a 2020 2020 2020 2020 2020 2020  ({..            
+0001ce70: 2020 2020 2020 2020 2270 726f 6d70 7422          "prompt"
+0001ce80: 3a20 7072 6f6d 7074 2c0d 0a20 2020 2020  : prompt,..     
+0001ce90: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0001cea0: 6d6f 6465 6c22 3a20 2270 6978 656c 2d61  model": "pixel-a
+0001ceb0: 7274 222c 0d0a 2020 2020 2020 2020 2020  rt",..          
+0001cec0: 2020 2020 2020 2020 2020 2264 6174 6122            "data"
+0001ced0: 3a20 6d64 0d0a 2020 2020 2020 2020 2020  : md..          
+0001cee0: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
+0001cef0: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+0001cf00: 6570 7469 6f6e 2061 7320 653a 0d0a 2020  eption as e:..  
+0001cf10: 2020 2020 2020 2020 2020 2020 2020 6461                da
+0001cf20: 7461 203d 206a 736f 6e2e 6475 6d70 7328  ta = json.dumps(
+0001cf30: 7b0d 0a20 2020 2020 2020 2020 2020 2020  {..             
+0001cf40: 2020 2020 2020 2022 7072 6f6d 7074 223a         "prompt":
+0001cf50: 2022 222c 0d0a 2020 2020 2020 2020 2020   "",..          
+0001cf60: 2020 2020 2020 2020 2020 226d 6f64 656c            "model
+0001cf70: 223a 2022 7069 7865 6c2d 6172 7422 2c0d  ": "pixel-art",.
+0001cf80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001cf90: 2020 2020 2022 6461 7461 223a 207b 0d0a       "data": {..
+0001cfa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cfb0: 2020 2020 2020 2020 2270 726f 6d70 745f          "prompt_
+0001cfc0: 6e65 6761 7469 7665 223a 2022 220d 0a20  negative": "".. 
+0001cfd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cfe0: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
+0001cff0: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
+0001d000: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+0001d010: 2020 2020 7265 7370 6f6e 7365 203d 2072      response = r
+0001d020: 6571 7565 7374 732e 706f 7374 2875 726c  equests.post(url
+0001d030: 3d22 6874 7470 733a 2f2f 6e65 7872 612e  ="https://nexra.
+0001d040: 6172 7961 6863 722e 6363 2f61 7069 2f69  aryahcr.cc/api/i
+0001d050: 6d61 6765 2f63 6f6d 706c 656d 656e 7473  mage/complements
+0001d060: 222c 2068 6561 6465 7273 3d68 6561 6465  ", headers=heade
+0001d070: 7273 2c20 6461 7461 3d64 6174 6129 0d0a  rs, data=data)..
+0001d080: 2020 2020 2020 2020 2020 2020 6966 2072              if r
+0001d090: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+0001d0a0: 6f64 6520 3d3d 2032 3030 3a0d 0a20 2020  ode == 200:..   
+0001d0b0: 2020 2020 2020 2020 2020 2020 2065 7272               err
+0001d0c0: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+0001d0d0: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+0001d0e0: 3d20 4e6f 6e65 0d0a 0d0a 2020 2020 2020  = None....      
+0001d0f0: 2020 2020 2020 2020 2020 636f 756e 7420            count 
+0001d100: 3d20 2d31 0d0a 2020 2020 2020 2020 2020  = -1..          
+0001d110: 2020 2020 2020 666f 7220 6920 696e 2072        for i in r
+0001d120: 616e 6765 286c 656e 2872 6573 706f 6e73  ange(len(respons
+0001d130: 652e 7465 7874 2929 3a0d 0a20 2020 2020  e.text)):..     
+0001d140: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001d150: 6620 636f 756e 7420 3c3d 202d 313a 0d0a  f count <= -1:..
+0001d160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d170: 2020 2020 2020 2020 6966 2072 6573 706f          if respo
+0001d180: 6e73 652e 7465 7874 5b69 5d20 3d3d 2022  nse.text[i] == "
+0001d190: 7b22 3a0d 0a20 2020 2020 2020 2020 2020  {":..           
+0001d1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d1b0: 2063 6f75 6e74 203d 2069 0d0a 2020 2020   count = i..    
+0001d1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d1d0: 656c 7365 3a0d 0a20 2020 2020 2020 2020  else:..         
+0001d1e0: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+0001d1f0: 7265 616b 0d0a 2020 2020 2020 2020 2020  reak..          
+0001d200: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+0001d210: 2020 2020 2020 2020 6966 2063 6f75 6e74          if count
+0001d220: 203c 3d20 2d31 3a0d 0a20 2020 2020 2020   <= -1:..       
+0001d230: 2020 2020 2020 2020 2020 2020 2065 7272               err
+0001d240: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+0001d250: 2020 2020 2020 2020 2020 2020 2020 2263                "c
+0001d260: 6f64 6522 3a20 3530 302c 0d0a 2020 2020  ode": 500,..    
+0001d270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d280: 2020 2020 2273 7461 7475 7322 3a20 4661      "status": Fa
+0001d290: 6c73 652c 0d0a 2020 2020 2020 2020 2020  lse,..          
+0001d2a0: 2020 2020 2020 2020 2020 2020 2020 2265                "e
+0001d2b0: 7272 6f72 223a 2022 494e 5445 524e 414c  rror": "INTERNAL
+0001d2c0: 5f53 4552 5645 525f 4552 524f 5222 2c0d  _SERVER_ERROR",.
+0001d2d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001d2e0: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
+0001d2f0: 6522 3a20 2267 656e 6572 616c 2028 756e  e": "general (un
+0001d300: 6b6e 6f77 6e29 2065 7272 6f72 220d 0a20  known) error".. 
+0001d310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d320: 2020 207d 0d0a 2020 2020 2020 2020 2020     }..          
+0001d330: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+0001d340: 203d 204e 6f6e 650d 0a20 2020 2020 2020   = None..       
+0001d350: 2020 2020 2020 2020 2065 6c73 653a 0d0a           else:..
+0001d360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d370: 2020 2020 7472 793a 0d0a 2020 2020 2020      try:..      
+0001d380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d390: 2020 6a73 203d 2072 6573 706f 6e73 652e    js = response.
+0001d3a0: 7465 7874 5b63 6f75 6e74 3a5d 0d0a 2020  text[count:]..  
+0001d3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d3c0: 2020 2020 2020 6a73 203d 206a 736f 6e2e        js = json.
+0001d3d0: 6c6f 6164 7328 6a73 290d 0a20 2020 2020  loads(js)..     
+0001d3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d3f0: 2020 2069 6620 6a73 2021 3d20 4e6f 6e65     if js != None
+0001d400: 2061 6e64 206a 735b 2263 6f64 6522 5d20   and js["code"] 
+0001d410: 213d 204e 6f6e 6520 616e 6420 6a73 5b22  != None and js["
+0001d420: 636f 6465 225d 203d 3d20 3230 3020 616e  code"] == 200 an
+0001d430: 6420 6a73 5b22 7374 6174 7573 225d 2021  d js["status"] !
+0001d440: 3d20 4e6f 6e65 2061 6e64 206a 735b 2273  = None and js["s
+0001d450: 7461 7475 7322 5d20 3d3d 2054 7275 653a  tatus"] == True:
+0001d460: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001d470: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0001d480: 7375 6c74 203d 206a 730d 0a20 2020 2020  sult = js..     
+0001d490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d4a0: 2020 2020 2020 2065 7272 203d 204e 6f6e         err = Non
+0001d4b0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+0001d4c0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0001d4d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001d4e0: 2020 2020 2020 2020 2020 2020 2020 6572                er
+0001d4f0: 7220 3d20 6a73 0d0a 2020 2020 2020 2020  r = js..        
+0001d500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d510: 2020 2020 7265 7375 6c74 203d 204e 6f6e      result = Non
+0001d520: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+0001d530: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
+0001d540: 6365 7074 696f 6e20 6173 2065 3a0d 0a20  ception as e:.. 
+0001d550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d560: 2020 2020 2020 2065 7272 203d 207b 0d0a         err = {..
+0001d570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d580: 2020 2020 2020 2020 2020 2020 2263 6f64              "cod
+0001d590: 6522 3a20 3530 302c 0d0a 2020 2020 2020  e": 500,..      
+0001d5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d5b0: 2020 2020 2020 2273 7461 7475 7322 3a20        "status": 
+0001d5c0: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
+0001d5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d5e0: 2020 2020 2265 7272 6f72 223a 2022 494e      "error": "IN
+0001d5f0: 5445 524e 414c 5f53 4552 5645 525f 4552  TERNAL_SERVER_ER
+0001d600: 524f 5222 2c0d 0a20 2020 2020 2020 2020  ROR",..         
+0001d610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d620: 2020 2022 6d65 7373 6167 6522 3a20 2267     "message": "g
+0001d630: 656e 6572 616c 2028 756e 6b6e 6f77 6e29  eneral (unknown)
+0001d640: 2065 7272 6f72 220d 0a20 2020 2020 2020   error"..       
+0001d650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d660: 207d 0d0a 2020 2020 2020 2020 2020 2020   }..            
+0001d670: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+0001d680: 6c74 203d 204e 6f6e 650d 0a0d 0a20 2020  lt = None....   
+0001d690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d6a0: 2069 6620 7265 7375 6c74 203d 3d20 4e6f   if result == No
+0001d6b0: 6e65 2061 6e64 2065 7272 2021 3d20 4e6f  ne and err != No
+0001d6c0: 6e65 3a0d 0a20 2020 2020 2020 2020 2020  ne:..           
+0001d6d0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001d6e0: 662e 6572 726f 7220 3d20 6572 720d 0a20  f.error = err.. 
+0001d6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d700: 2020 2020 2020 2073 656c 662e 7265 7375         self.resu
+0001d710: 6c74 203d 204e 6f6e 650d 0a20 2020 2020  lt = None..     
+0001d720: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0001d730: 6c73 653a 0d0a 2020 2020 2020 2020 2020  lse:..          
+0001d740: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001d750: 6c66 2e72 6573 756c 7420 3d20 7265 7375  lf.result = resu
+0001d760: 6c74 0d0a 2020 2020 2020 2020 2020 2020  lt..            
+0001d770: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001d780: 2e65 7272 6f72 203d 204e 6f6e 650d 0a20  .error = None.. 
+0001d790: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0001d7a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001d7b0: 2020 6461 7461 5f65 7272 203d 207b 7d0d    data_err = {}.
+0001d7c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001d7d0: 2074 7279 3a0d 0a20 2020 2020 2020 2020   try:..         
+0001d7e0: 2020 2020 2020 2020 2020 2064 6174 615f             data_
+0001d7f0: 6572 7220 3d20 6a73 6f6e 2e6c 6f61 6473  err = json.loads
+0001d800: 2872 6573 706f 6e73 652e 7465 7874 290d  (response.text).
+0001d810: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001d820: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+0001d830: 6e20 6173 2065 3a0d 0a20 2020 2020 2020  n as e:..       
+0001d840: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+0001d850: 615f 6572 7220 3d20 7b0d 0a20 2020 2020  a_err = {..     
+0001d860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d870: 2020 2022 636f 6465 223a 2035 3030 2c0d     "code": 500,.
+0001d880: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001d890: 2020 2020 2020 2020 2022 7374 6174 7573           "status
+0001d8a0: 223a 2046 616c 7365 2c0d 0a20 2020 2020  ": False,..     
+0001d8b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d8c0: 2020 2022 6572 726f 7222 3a20 2249 4e54     "error": "INT
+0001d8d0: 4552 4e41 4c5f 5345 5256 4552 5f45 5252  ERNAL_SERVER_ERR
+0001d8e0: 4f52 222c 0d0a 2020 2020 2020 2020 2020  OR",..          
+0001d8f0: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+0001d900: 6573 7361 6765 223a 2022 6765 6e65 7261  essage": "genera
+0001d910: 6c20 2875 6e6b 6e6f 776e 2920 6572 726f  l (unknown) erro
+0001d920: 7222 0d0a 2020 2020 2020 2020 2020 2020  r"..            
+0001d930: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
+0001d940: 2020 2020 2020 2020 2020 200d 0a20 2020             ..   
+0001d950: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001d960: 662e 6572 726f 7220 3d20 6461 7461 5f65  f.error = data_e
+0001d970: 7272 0d0a 2020 2020 2020 2020 2020 2020  rr..            
+0001d980: 2020 2020 7365 6c66 2e72 6573 756c 7420      self.result 
+0001d990: 3d20 4e6f 6e65 0d0a 2020 2020 2020 2020  = None..        
+0001d9a0: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
+0001d9b0: 2061 7320 653a 0d0a 2020 2020 2020 2020   as e:..        
+0001d9c0: 2020 2020 7365 6c66 2e65 7272 6f72 203d      self.error =
+0001d9d0: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+0001d9e0: 2020 2020 2263 6f64 6522 3a20 3530 302c      "code": 500,
+0001d9f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001da00: 2020 2273 7461 7475 7322 3a20 4661 6c73    "status": Fals
+0001da10: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+0001da20: 2020 2020 2265 7272 6f72 223a 2022 494e      "error": "IN
+0001da30: 5445 524e 414c 5f53 4552 5645 525f 4552  TERNAL_SERVER_ER
+0001da40: 524f 5222 2c0d 0a20 2020 2020 2020 2020  ROR",..         
+0001da50: 2020 2020 2020 2022 6d65 7373 6167 6522         "message"
+0001da60: 3a20 2267 656e 6572 616c 2028 756e 6b6e  : "general (unkn
+0001da70: 6f77 6e29 2065 7272 6f72 220d 0a20 2020  own) error"..   
+0001da80: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
+0001da90: 2020 2020 2020 2020 7365 6c66 2e72 6573          self.res
+0001daa0: 756c 7420 3d20 4e6f 6e65 0d0a 2020 2020  ult = None..    
+0001dab0: 2020 2020 7061 7373 0d0a 2020 2020 6465      pass..    de
+0001dac0: 6620 6572 726f 7228 7365 6c66 293a 0d0a  f error(self):..
+0001dad0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+0001dae0: 656c 662e 6572 726f 720d 0a20 2020 2064  elf.error..    d
+0001daf0: 6566 2072 6573 756c 7428 7365 6c66 293a  ef result(self):
+0001db00: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0001db10: 2073 656c 662e 7265 7375 6c74             self.result
```

### Comparing `gpti-1.5/gpti.egg-info/PKG-INFO` & `gpti-1.6/gpti.egg-info/PKG-INFO`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: gpti
-Version: 1.5
+Version: 1.6
 Summary: This package simplifies your interaction with various GPT models, removing the need for tokens or other methods to access GPT
 Home-page: https://github.com/yandricr/gpti-py/
 Author: yandricr
 Author-email: yandribret@gmail.com
 License: MIT
 Project-URL: Documentation, https://nexra.aryahcr.cc/
 Project-URL: Funding, https://ko-fi.com/yandricr
@@ -30,15 +30,17 @@
 ```
 
 ## Available Models
 
 GPTI provides access to a variety of artificial intelligence models to meet various needs. Currently, the available models include:
 
 - [**ChatGPT**](#gpt)
+- [**ChatGPT v2**](#gpt-v2)
 - [**ChatGPT Web**](#gptweb)
+- [**ChatGPT Prompts**](#gpt-prompts)
 - [**Bing**](#bing)
 - [**LLaMA-2**](#llama2)
 - [**DALL·E**](#dalle)
 - [**DALL-E 2**](#dalle2) (PRO)
 - [**DALL-E Mini**](#dalle-mini)
 - [**Prodia**](#prodia)
 - [**Prodia Stable-Diffusion**](#prodia-stablediffusion)
@@ -67,15 +69,15 @@
 <a id="gpt"></a>
 ## Usage GPT
 
 ```python
 import json
 from gpti import gpt
 
-res = gpt(messages=[
+res = gpt.v1(messages=[
     {
         "role": "assistant",
         "content": "Hello! How are you today?"
     },
     {
         "role": "user",
         "content": "Hello, my name is Yandri."
@@ -128,24 +130,125 @@
 - davinci
 - curie
 - babbage
 - ada
 - babbage-002
 - davinci-002
 
+<a id="gpt-v2"></a>
+## Usage GPT v2
+
+It's quite similar, with the difference that it has the capability to generate real-time responses via streaming using gpt-3.5-turbo.
+
+```python
+import json
+from gpti import gpt
+
+res = gpt.v2(messages=[
+    {
+        "role": "assistant",
+        "content": "Hello! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Hello, my name is Yandri."
+    },
+    {
+        "role": "assistant",
+        "content": "Hello, Yandri! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Can you repeat my name?"
+    }
+], markdown=False, stream=False)
+
+if res.error != None:
+    print(json.dumps(res.error))
+else:
+    print(json.dumps(res.result))
+```
+
+#### JSON
+
+```json
+{
+    "code": 200,
+    "status": true,
+    "model": "ChatGPT",
+    "message": "Of course, Yandri! How can I assist you today?",
+    "original": null
+}
+```
+
+## Usage GPT v2 Streaming
+
+```python
+import json
+from gpti import gpt
+
+res = gpt.v2(messages=[
+    {
+        "role": "assistant",
+        "content": "Hello! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Hello, my name is Yandri."
+    },
+    {
+        "role": "assistant",
+        "content": "Hello, Yandri! How are you today?"
+    },
+    {
+        "role": "user",
+        "content": "Can you repeat my name?"
+    }
+], markdown=True, stream=False)
+
+if res.error != None:
+    print(json.dumps(res.error))
+else:
+    for chunk in res.stream():
+        print(json.dumps(chunk))
+```
+
+#### JSON
+
+```json
+{"message":"Hello! How are you today?","original":null,"finish":false,"error":false}
+{"message":"","original":null,"finish":false,"error":false}
+{"message":"Of","original":null,"finish":false,"error":false}
+{"message":"Of course","original":null,"finish":false,"error":false}
+{"message":"Of course,","original":null,"finish":false,"error":false}
+{"message":"Of course, Yand","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri!","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today?","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today?","original":null,"finish":false,"error":false}
+{"message":"Of course, Yandri! How can I assist you today?","original":null,"finish":false,"error":false}
+{"message":null,"original":null,"finish":true,"error":false}
+```
+
 <a id="gptweb"></a>
 ## Usage GPT Web
 
 GPT-4 has been enhanced by me, but errors may arise due to technological complexity. It is advisable to exercise caution when relying entirely on its accuracy for online queries.
 
 ```python
 import json
-from gpti import gptweb
+from gpti import gpt
 
-res = gptweb(prompt="Are you familiar with the movie Wonka released in 2023?", markdown=False)
+res = gpt.web(prompt="Are you familiar with the movie Wonka released in 2023?", markdown=False)
 
 if res.error != None:
     print(json.dumps(res.error))
 else: 
     print(json.dumps(res.result))
 ```
 
@@ -156,14 +259,73 @@
     "code": 200,
     "status": true,
     "gpt": "Yes, I am familiar with the movie Wonka released in 2023. Wonka is a musical fantasy film directed by Paul King, adapted from the character at the center of Roald Dahl's iconic children's book, \"Charlie and the Chocolate Factory.\" The film follows the story of a young and poor Willy Wonka as he dreams of opening a shop in a chocolate-renowned city and discovers that the industry is controlled by a greedy cartel. The film has a rating of 7.1/10 and has received positive reviews with a score of 83% on Rotten Tomatoes. It was released on December 15, 2023, and has earned $552.1 million at the box office. The cast includes actors such as Timothée Chalamet. Unfortunately, I couldn't find information on whether the movie is available on Netflix.",
     "original": null
 }
 ```
 
+<a id="gpt-prompts"></a>
+## Usage GPT Prompts
+
+```python
+import json
+from gpti import gpt
+
+res = gpt.prompts(lang="en", limit=4, offset=0)
+
+if res.error != None:
+    print(json.dumps(res.error))
+else:
+    for chunk in res.stream():
+        print(json.dumps(chunk))
+```
+
+#### JSON
+
+```json
+{
+    "code": 200,
+    "status": true,
+    "items": [
+        {
+            "id": "e90a6598",
+            "title": "Suggest fun activities",
+            "description": "to do indoors with my high-energy dog",
+            "prompt": "What are five fun and creative activities to do indoors with my dog who has a lot of energy?",
+            "category": "idea"
+        },
+        {
+            "id": "974d4604",
+            "title": "Help me pick",
+            "description": "a birthday gift for my mom who likes gardening",
+            "prompt": "Help me pick a birthday gift for my mom who likes gardening. But don't give me gardening tools – she already has all of them!",
+            "category": "shop"
+        },
+        {
+            "id": "d1c0099d",
+            "title": "Help me study",
+            "description": "vocabulary for a college entrance exam",
+            "prompt": "Help me study vocabulary: write a sentence for me to fill in the blank, and I'll try to pick the correct option.",
+            "category": "teach-or-explain"
+        },
+        {
+            "id": "a36cb799",
+            "title": "Write a letter to future me",
+            "description": "reflecting on my mental health",
+            "prompt": "Can you help me craft a letter to my future self? Start by asking me about the key milestones and struggles in my mental health journey I'd like to include.",
+            "category": "write"
+        }
+    ],
+    "total": 4,
+    "limit": 4,
+    "offset": 0,
+    "lang": "en"
+}
+```
+
 <a id="bing"></a>
 ## Usage Bing
 
 ```python
 import json
 from gpti import bing
```

### Comparing `gpti-1.5/setup.py` & `gpti-1.6/setup.py`

 * *Files 1% similar despite different names*

```diff
@@ -5,15 +5,15 @@
     with open('README.md', 'r', encoding='utf-8') as f:
         _long_description = f.read()
 except Exception as e:
     _long_description = ''
 
 setup(
     name='gpti',
-    version='1.5',
+    version='1.6',
     packages=find_packages(),
     install_requires=[
         'requests',
     ],
     author='yandricr',
     author_email='yandribret@gmail.com',
     description='This package simplifies your interaction with various GPT models, removing the need for tokens or other methods to access GPT',
```

