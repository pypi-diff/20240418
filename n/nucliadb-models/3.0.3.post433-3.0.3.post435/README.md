# Comparing `tmp/nucliadb_models-3.0.3.post433-py3-none-any.whl.zip` & `tmp/nucliadb_models-3.0.3.post435-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,33 +1,33 @@
-Zip file size: 46250 bytes, number of entries: 31
--rw-r--r--  2.0 unx     1379 b- defN 24-Apr-17 08:46 nucliadb_models/__init__.py
--rw-r--r--  2.0 unx     7296 b- defN 24-Apr-17 08:46 nucliadb_models/common.py
--rw-r--r--  2.0 unx     1786 b- defN 24-Apr-17 08:46 nucliadb_models/configuration.py
--rw-r--r--  2.0 unx     4242 b- defN 24-Apr-17 08:46 nucliadb_models/conversation.py
--rw-r--r--  2.0 unx     1682 b- defN 24-Apr-17 08:46 nucliadb_models/datetime.py
--rw-r--r--  2.0 unx     3952 b- defN 24-Apr-17 08:46 nucliadb_models/entities.py
--rw-r--r--  2.0 unx     1255 b- defN 24-Apr-17 08:46 nucliadb_models/export_import.py
--rw-r--r--  2.0 unx     8873 b- defN 24-Apr-17 08:46 nucliadb_models/extracted.py
--rw-r--r--  2.0 unx     2191 b- defN 24-Apr-17 08:46 nucliadb_models/file.py
--rw-r--r--  2.0 unx     1735 b- defN 24-Apr-17 08:46 nucliadb_models/keywordset.py
--rw-r--r--  2.0 unx     3508 b- defN 24-Apr-17 08:46 nucliadb_models/labels.py
--rw-r--r--  2.0 unx     3147 b- defN 24-Apr-17 08:46 nucliadb_models/layout.py
--rw-r--r--  2.0 unx     2581 b- defN 24-Apr-17 08:46 nucliadb_models/link.py
--rw-r--r--  2.0 unx    12517 b- defN 24-Apr-17 08:46 nucliadb_models/metadata.py
--rw-r--r--  2.0 unx     4355 b- defN 24-Apr-17 08:46 nucliadb_models/notifications.py
--rw-r--r--  2.0 unx      998 b- defN 24-Apr-17 08:46 nucliadb_models/processing.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 08:46 nucliadb_models/py.typed
--rw-r--r--  2.0 unx     9610 b- defN 24-Apr-17 08:46 nucliadb_models/resource.py
--rw-r--r--  2.0 unx    44060 b- defN 24-Apr-17 08:46 nucliadb_models/search.py
--rw-r--r--  2.0 unx     1402 b- defN 24-Apr-17 08:46 nucliadb_models/security.py
--rw-r--r--  2.0 unx     1904 b- defN 24-Apr-17 08:46 nucliadb_models/synonyms.py
--rw-r--r--  2.0 unx     2785 b- defN 24-Apr-17 08:46 nucliadb_models/text.py
--rw-r--r--  2.0 unx      933 b- defN 24-Apr-17 08:46 nucliadb_models/trainset.py
--rw-r--r--  2.0 unx     2181 b- defN 24-Apr-17 08:46 nucliadb_models/utils.py
--rw-r--r--  2.0 unx     2367 b- defN 24-Apr-17 08:46 nucliadb_models/vectors.py
--rw-r--r--  2.0 unx     7766 b- defN 24-Apr-17 08:46 nucliadb_models/writer.py
--rw-r--r--  2.0 unx      657 b- defN 24-Apr-17 08:47 nucliadb_models-3.0.3.post433.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-17 08:47 nucliadb_models-3.0.3.post433.dist-info/WHEEL
--rw-r--r--  2.0 unx       16 b- defN 24-Apr-17 08:47 nucliadb_models-3.0.3.post433.dist-info/top_level.txt
--rw-r--r--  2.0 unx        1 b- defN 24-Apr-17 08:47 nucliadb_models-3.0.3.post433.dist-info/zip-safe
--rw-rw-r--  2.0 unx     2639 b- defN 24-Apr-17 08:47 nucliadb_models-3.0.3.post433.dist-info/RECORD
-31 files, 137910 bytes uncompressed, 41998 bytes compressed:  69.5%
+Zip file size: 46360 bytes, number of entries: 31
+-rw-r--r--  2.0 unx     1379 b- defN 24-Apr-17 14:31 nucliadb_models/__init__.py
+-rw-r--r--  2.0 unx     7296 b- defN 24-Apr-17 14:31 nucliadb_models/common.py
+-rw-r--r--  2.0 unx     1786 b- defN 24-Apr-17 14:31 nucliadb_models/configuration.py
+-rw-r--r--  2.0 unx     4242 b- defN 24-Apr-17 14:31 nucliadb_models/conversation.py
+-rw-r--r--  2.0 unx     1682 b- defN 24-Apr-17 14:31 nucliadb_models/datetime.py
+-rw-r--r--  2.0 unx     3952 b- defN 24-Apr-17 14:31 nucliadb_models/entities.py
+-rw-r--r--  2.0 unx     1255 b- defN 24-Apr-17 14:31 nucliadb_models/export_import.py
+-rw-r--r--  2.0 unx     8873 b- defN 24-Apr-17 14:31 nucliadb_models/extracted.py
+-rw-r--r--  2.0 unx     2191 b- defN 24-Apr-17 14:31 nucliadb_models/file.py
+-rw-r--r--  2.0 unx     1735 b- defN 24-Apr-17 14:31 nucliadb_models/keywordset.py
+-rw-r--r--  2.0 unx     3508 b- defN 24-Apr-17 14:31 nucliadb_models/labels.py
+-rw-r--r--  2.0 unx     3147 b- defN 24-Apr-17 14:31 nucliadb_models/layout.py
+-rw-r--r--  2.0 unx     2581 b- defN 24-Apr-17 14:31 nucliadb_models/link.py
+-rw-r--r--  2.0 unx    12517 b- defN 24-Apr-17 14:31 nucliadb_models/metadata.py
+-rw-r--r--  2.0 unx     4355 b- defN 24-Apr-17 14:31 nucliadb_models/notifications.py
+-rw-r--r--  2.0 unx      998 b- defN 24-Apr-17 14:31 nucliadb_models/processing.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 14:31 nucliadb_models/py.typed
+-rw-r--r--  2.0 unx     9610 b- defN 24-Apr-17 14:31 nucliadb_models/resource.py
+-rw-r--r--  2.0 unx    44703 b- defN 24-Apr-17 14:31 nucliadb_models/search.py
+-rw-r--r--  2.0 unx     1402 b- defN 24-Apr-17 14:31 nucliadb_models/security.py
+-rw-r--r--  2.0 unx     1904 b- defN 24-Apr-17 14:31 nucliadb_models/synonyms.py
+-rw-r--r--  2.0 unx     2785 b- defN 24-Apr-17 14:31 nucliadb_models/text.py
+-rw-r--r--  2.0 unx      933 b- defN 24-Apr-17 14:31 nucliadb_models/trainset.py
+-rw-r--r--  2.0 unx     2181 b- defN 24-Apr-17 14:31 nucliadb_models/utils.py
+-rw-r--r--  2.0 unx     2367 b- defN 24-Apr-17 14:31 nucliadb_models/vectors.py
+-rw-r--r--  2.0 unx     7766 b- defN 24-Apr-17 14:31 nucliadb_models/writer.py
+-rw-r--r--  2.0 unx      657 b- defN 24-Apr-17 14:33 nucliadb_models-3.0.3.post435.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-17 14:33 nucliadb_models-3.0.3.post435.dist-info/WHEEL
+-rw-r--r--  2.0 unx       16 b- defN 24-Apr-17 14:33 nucliadb_models-3.0.3.post435.dist-info/top_level.txt
+-rw-r--r--  2.0 unx        1 b- defN 24-Apr-17 14:32 nucliadb_models-3.0.3.post435.dist-info/zip-safe
+-rw-rw-r--  2.0 unx     2639 b- defN 24-Apr-17 14:33 nucliadb_models-3.0.3.post435.dist-info/RECORD
+31 files, 138553 bytes uncompressed, 42108 bytes compressed:  69.6%
```

## zipnote {}

```diff
@@ -72,23 +72,23 @@
 
 Filename: nucliadb_models/vectors.py
 Comment: 
 
 Filename: nucliadb_models/writer.py
 Comment: 
 
-Filename: nucliadb_models-3.0.3.post433.dist-info/METADATA
+Filename: nucliadb_models-3.0.3.post435.dist-info/METADATA
 Comment: 
 
-Filename: nucliadb_models-3.0.3.post433.dist-info/WHEEL
+Filename: nucliadb_models-3.0.3.post435.dist-info/WHEEL
 Comment: 
 
-Filename: nucliadb_models-3.0.3.post433.dist-info/top_level.txt
+Filename: nucliadb_models-3.0.3.post435.dist-info/top_level.txt
 Comment: 
 
-Filename: nucliadb_models-3.0.3.post433.dist-info/zip-safe
+Filename: nucliadb_models-3.0.3.post435.dist-info/zip-safe
 Comment: 
 
-Filename: nucliadb_models-3.0.3.post433.dist-info/RECORD
+Filename: nucliadb_models-3.0.3.post435.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## nucliadb_models/search.py

```diff
@@ -750,14 +750,27 @@
 
 
 class Image(BaseModel):
     content_type: str
     b64encoded: str
 
 
+class MaxTokens(BaseModel):
+    context: Optional[int] = Field(
+        default=None,
+        title="Maximum context tokens",
+        description="Use to limit the amount of tokens used in the LLM context",
+    )
+    answer: Optional[int] = Field(
+        default=None,
+        title="Maximum answer tokens",
+        description="Use to limit the amount of tokens used in the LLM answer",
+    )
+
+
 class ChatModel(BaseModel):
     """
     This is the model for the predict request payload on the chat endpoint
     """
 
     question: str = Field(description="Question to ask the generative model")
     user_id: str
@@ -1010,18 +1023,18 @@
 
     generative_model: Optional[str] = Field(
         default=None,
         title="Generative model",
         description="The generative model to use for the chat endpoint. If not provided, the model configured for the Knowledge Box is used.",
     )
 
-    max_tokens: Optional[int] = Field(
+    max_tokens: Optional[Union[int, MaxTokens]] = Field(
         default=None,
-        title="Maximum tokens to generate",
-        description="The maximum amount of tokens to generate by the LLM",
+        title="Maximum LLM tokens to use for the request",
+        description="Use to limit the amount of tokens used in the LLM context and/or for generating the answer. If not provided, the default maximum tokens of the generative model will be used. If an integer is provided, it is interpreted as the maximum tokens for the answer.",  # noqa
     )
 
     rephrase: Optional[bool] = Field(
         default=False,
         title="Rephrase the query to improve search",
         description="Consume LLM tokens to rephrase the query so the semantic search is better",
     )
```

## Comparing `nucliadb_models-3.0.3.post433.dist-info/METADATA` & `nucliadb_models-3.0.3.post435.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,18 +1,18 @@
 Metadata-Version: 2.1
 Name: nucliadb-models
-Version: 3.0.3.post433
+Version: 3.0.3.post435
 Home-page: https://nuclia.com
 License: BSD
 Classifier: Development Status :: 4 - Beta
 Classifier: Programming Language :: Python
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
 Classifier: Programming Language :: Python :: 3.11
 Classifier: Programming Language :: Python :: 3 :: Only
 Classifier: Topic :: Software Development :: Libraries :: Python Modules
 Requires-Python: >=3.8, <4
 Requires-Dist: pydantic <2.0,>=1.8.2
-Requires-Dist: nucliadb-protos >=3.0.3.post433
+Requires-Dist: nucliadb-protos >=3.0.3.post435
 
 # NucliaDB models
```

## Comparing `nucliadb_models-3.0.3.post433.dist-info/RECORD` & `nucliadb_models-3.0.3.post435.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -12,20 +12,20 @@
 nucliadb_models/layout.py,sha256=3H5XP4gNlO9AphlbpEDrVc-M0i_yMhwmzIybYzhcI44,3147
 nucliadb_models/link.py,sha256=X82foCo1ikYMnugdEGPoEBng4jokO8J5kfPaBa_yyEY,2581
 nucliadb_models/metadata.py,sha256=zvJJ5ZdvPrqvzF-0dJfwIcseFZcJpZfj1X1Asxuh7PA,12517
 nucliadb_models/notifications.py,sha256=43ZdEPRG85icakpYZEHLrEo_GMi93KRyBQdwcFwVEBI,4355
 nucliadb_models/processing.py,sha256=9bSD2fYnUiDThxgzpeq3DiK0AgfDu31F7YmxE3J5Qak,998
 nucliadb_models/py.typed,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 nucliadb_models/resource.py,sha256=MqE2vNvC07rI8n755b3f1S33aBY06HyrCFgvXgXtB3k,9610
-nucliadb_models/search.py,sha256=wkY_lq8SIUA26QaW61hzqLo9lUtsEkBSc5ZZ6XY1HjA,44060
+nucliadb_models/search.py,sha256=Yt-ipCasObIq9zjYOpbe3y-FECvbO1Lw8MKwSBaCC6c,44703
 nucliadb_models/security.py,sha256=RewdzQ55nPZ9V7B0NX9KHeWg6B4Hg_RkeiFv2TQyrjs,1402
 nucliadb_models/synonyms.py,sha256=nvC2dmmFahhyK0cDHzDy-THQ07_LySbIPQphRDpn_7w,1904
 nucliadb_models/text.py,sha256=p4a2nvoW9mJp7OIYQ_sqz2v00jdiK64-v3OQ35Oji84,2785
 nucliadb_models/trainset.py,sha256=bJMnL9vvbVqicERRsrogPXYjMmqelBSAWdTEWPW_xME,933
 nucliadb_models/utils.py,sha256=5wq_gqX71h8JZap-1ugnPuQXP3AnyRWv6fC66S8JCsU,2181
 nucliadb_models/vectors.py,sha256=KxyK3DPPAGFXS10c20q3ESS0EUOMe7IH0tmyROfTS64,2367
 nucliadb_models/writer.py,sha256=3JZDb150iJWI95jtGVi8GQ0nt4u50OJMUD_Usw1fwd4,7766
-nucliadb_models-3.0.3.post433.dist-info/METADATA,sha256=aTCEFo8sCewy2WcrLUnlsHIitpIxO8d8dQF341iLaU4,657
-nucliadb_models-3.0.3.post433.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-nucliadb_models-3.0.3.post433.dist-info/top_level.txt,sha256=UrY1I8oeovIRwkXLYplssTrxQdUjhSEFDFbnwaIV3tA,16
-nucliadb_models-3.0.3.post433.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
-nucliadb_models-3.0.3.post433.dist-info/RECORD,,
+nucliadb_models-3.0.3.post435.dist-info/METADATA,sha256=kEj_ECT9xMc5X_nkIXjAEWWZrYPdNdtuNVnLK9EUEys,657
+nucliadb_models-3.0.3.post435.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+nucliadb_models-3.0.3.post435.dist-info/top_level.txt,sha256=UrY1I8oeovIRwkXLYplssTrxQdUjhSEFDFbnwaIV3tA,16
+nucliadb_models-3.0.3.post435.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
+nucliadb_models-3.0.3.post435.dist-info/RECORD,,
```

